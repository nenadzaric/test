/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.5 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */

/*
 * Copyright (c) 2013 Home Box Office, Inc. as an unpublished
 * work. Neither this material nor any portion hereof may be copied or
 * distributed without the express written consent of Home Box Office, Inc.
 *
 * This material also contains proprietary and confidential information
 * of Home Box Office, Inc. and its suppliers, and may not be used by or
 * disclosed to any person, in whole or in part, without the prior written
 * consent of Home Box Office, Inc.
 */

/**
 * Lo-Dash 2.2.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modularize`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */

/**
 * React v15.5.4
 *
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */

/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2015 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */

/**
 * Globalize Runtime v1.2.2
 *
 * http://github.com/jquery/globalize
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-12-31T15:52Z
 */

/*!
 * Globalize Runtime v1.2.2 2016-12-31T15:52Z Released under the MIT license
 * http://git.io/TrdQbw
 */

/*! (C) 2016 Conviva, Inc. All rights reserved. Confidential and proprietary. */

/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */

/*(c)!css_flex_direction_t*/

/*(c)!node->context,*/

// that they do not have 6 characters if trying to enter a license plate thats less


var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1);}}function eachReverse(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e)if(hasProp(e,i)&&t(e[i],i))break}function mixin(e,t,i,n){return t&&eachProp(t,function(t,o){!i&&hasProp(e,o)||(!n||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[o]=t:(e[o]||(e[o]={}),mixin(e[o],t,i,n)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,n){var o=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return o.requireType=e,o.requireModules=n,i&&(o.originalError=i),o}function newContext(e){function t(e){var t,i;for(t=0;t<e.length;t++)if("."===(i=e[t]))e.splice(t,1),t-=1;else if(".."===i){if(0===t||1===t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}function i(e,i,n){var o,r,a,s,l,c,d,u,p,h,g,f=i&&i.split("/"),m=C.map,v=m&&m["*"];if(e&&(e=e.split("/"),c=e.length-1,C.nodeIdCompat&&jsSuffixRegExp.test(e[c])&&(e[c]=e[c].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&f&&(g=f.slice(0,f.length-1),e=g.concat(e)),t(e),e=e.join("/")),n&&m&&(f||v)){r=e.split("/");e:for(a=r.length;a>0;a-=1){if(l=r.slice(0,a).join("/"),f)for(s=f.length;s>0;s-=1)if((o=getOwn(m,f.slice(0,s).join("/")))&&(o=getOwn(o,l))){d=o,u=a;break e}!p&&v&&getOwn(v,l)&&(p=getOwn(v,l),h=a)}!d&&p&&(d=p,u=h),d&&(r.splice(0,u,d),e=r.join("/"))}return getOwn(C.pkgs,e)||e}function n(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName)return t.parentNode.removeChild(t),!0})}function o(e){var t=getOwn(C.paths,e);if(t&&isArray(t)&&t.length>1)return t.shift(),w.require.undef(e),w.makeRequire(null,{skipMap:!0})([e]),!0}function r(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function a(e,t,n,o){var a,s,l,c,d=null,u=t?t.name:null,p=e,h=!0,g="";return e||(h=!1,e="_@r"+(k+=1)),c=r(e),d=c[0],e=c[1],d&&(d=i(d,u,o),s=getOwn(I,d)),e&&(d?g=n?e:s&&s.normalize?s.normalize(e,function(e){return i(e,u,o)}):-1===e.indexOf("!")?i(e,u,o):e:(g=i(e,u,o),c=r(g),d=c[0],g=c[1],n=!0,a=w.nameToUrl(g))),l=!d||s||n?"":"_unnormalized"+(V+=1),{prefix:d,name:g,parentMap:t,unnormalized:!!l,url:a,originalName:p,isDefine:h,id:(d?d+"!"+g:g)+l}}function s(e){var t=e.id,i=getOwn(T,t);return i||(i=T[t]=new w.Module(e)),i}function l(e,t,i){var n=e.id,o=getOwn(T,n);!hasProp(I,n)||o&&!o.defineEmitComplete?(o=s(e),o.error&&"error"===t?i(o.error):o.on(t,i)):"defined"===t&&i(I[n])}function c(e,t){var i=e.requireModules,n=!1;t?t(e):(each(i,function(t){var i=getOwn(T,t);i&&(i.error=e,i.events.error&&(n=!0,i.emit("error",e)))}),n||req.onError(e))}function d(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(w.defQueueMap[t]=!0),E.push(e)}),globalDefQueue=[])}function u(e){delete T[e],delete R[e]}function p(e,t,i){var n=e.map.id;e.error?e.emit("error",e.error):(t[n]=!0,each(e.depMaps,function(n,o){var r=n.id,a=getOwn(T,r);!a||e.depMatched[o]||i[r]||(getOwn(t,r)?(e.defineDep(o,I[r]),e.check()):p(a,t,i))}),i[n]=!0)}function h(){var e,t,i=1e3*C.waitSeconds,r=i&&w.startTime+i<(new Date).getTime(),a=[],s=[],l=!1,d=!0;if(!_){if(_=!0,eachProp(R,function(e){var i=e.map,c=i.id;if(e.enabled&&(i.isDefine||s.push(e),!e.error))if(!e.inited&&r)o(c)?(t=!0,l=!0):(a.push(c),n(c));else if(!e.inited&&e.fetched&&i.isDefine&&(l=!0,!i.prefix))return d=!1}),r&&a.length)return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=w.contextName,c(e);d&&each(s,function(e){p(e,{},{})}),r&&!t||!l||!isBrowser&&!isWebWorker||S||(S=setTimeout(function(){S=0,h()},50)),_=!1}}function g(e){hasProp(I,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function f(e,t,i,n){e.detachEvent&&!isOpera?n&&e.detachEvent(n,t):e.removeEventListener(i,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return f(t,w.onScriptLoad,"load","onreadystatechange"),f(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(d();E.length;){if(e=E.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));g(e)}w.defQueueMap={}}var _,y,w,b,S,C={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},T={},R={},P={},E=[],I={},x={},A={},k=1,V=1;return b={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine)return e.exports?I[e.map.id]=e.exports:e.exports=I[e.map.id]={}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(C.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},y=function(e){this.events=getOwn(P,e.id)||{},this.map=e,this.shim=getOwn(C.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,i,n){n=n||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=n.ignore,n.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;if(!this.shim)return e.prefix?this.callPlugin():this.load();w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()}))}},load:function(){var e=this.map.url;x[e]||(x[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,n=this.depExports,o=this.exports,r=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(r)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=w.execCb(i,r,n,o)}catch(t){e=t}else o=w.execCb(i,r,n,o);if(this.map.isDefine&&void 0===o&&(t=this.module,t?o=t.exports:this.usingExports&&(o=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else o=r;if(this.exports=o,this.map.isDefine&&!this.ignore&&(I[i]=o,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(w,this.map,a)}u(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(w.defQueueMap,i)||this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,n=a(e.prefix);this.depMaps.push(n),l(n,"defined",bind(this,function(n){var o,r,d,p=getOwn(A,this.map.id),h=this.map.name,g=this.map.parentMap?this.map.parentMap.name:null,f=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(n.normalize&&(h=n.normalize(h,function(e){return i(e,g,!0)})||""),r=a(e.prefix+"!"+h,this.map.parentMap,!0),l(r,"defined",bind(this,function(e){this.map.normalizedMap=r,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),void((d=getOwn(T,r.id))&&(this.depMaps.push(r),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()))):p?(this.map.url=w.nameToUrl(p),void this.load()):(o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),o.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(T,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&u(e.map.id)}),c(e)}),o.fromText=bind(this,function(i,n){var r=e.name,l=a(r),d=useInteractive;n&&(i=n),d&&(useInteractive=!1),s(l),hasProp(C.config,t)&&(C.config[r]=C.config[t]);try{req.exec(i)}catch(e){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}d&&(useInteractive=!0),this.depMaps.push(l),w.completeLoad(r),f([r],o)}),void n.load(e.name,f,o,C))})),w.enable(n,this),this.pluginMaps[n.id]=n},enable:function(){R[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,n,o;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(b,e.id))return void(this.depExports[t]=o(this));this.depCount+=1,l(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?l(e,"error",bind(this,this.errback)):this.events.error&&l(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,n=T[i],hasProp(b,i)||!n||n.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(T,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:C,contextName:e,registry:T,defined:I,urlFetched:x,defQueue:E,defQueueMap:{},Module:y,makeModuleMap:a,nextTick:req.nextTick,onError:c,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,i){return(-1===i.indexOf("?")?"?":"&")+t}}var i=C.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){n[t]?(C[t]||(C[t]={}),mixin(C[t],e,!0,!0)):C[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(A[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),i[t]=e}),C.shim=i),e.packages&&each(e.packages,function(e){var t,i;e="string"==typeof e?{name:e}:e,i=e.name,t=e.location,t&&(C.paths[i]=e.location),C.pkgs[i]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(T,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,o){function r(i,n,l){var d,u,p;return o.enableBuildCallback&&n&&isFunction(n)&&(n.__requireJsBuild=!0),"string"==typeof i?isFunction(n)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(b,i)?b[i](T[t.id]):req.get?req.get(w,i,t,r):(u=a(i,t,!1,!0),d=u.id,hasProp(I,d)?I[d]:c(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),p=s(a(null,t)),p.skipMap=o.skipMap,p.init(i,n,l,{enabled:!0}),h()}),r)}return o=o||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var n,o=e.lastIndexOf("."),r=e.split("/")[0],a="."===r||".."===r;return-1!==o&&(!a||o>1)&&(n=e.substring(o,e.length),e=e.substring(0,o)),w.nameToUrl(i(e,t&&t.id,!0),n,!0)},defined:function(e){return hasProp(I,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(I,e)||hasProp(T,e)}}),t||(r.undef=function(e){d();var i=a(e,t,!0),o=getOwn(T,e);o.undefed=!0,n(e),delete I[e],delete x[i.url],delete P[e],eachReverse(E,function(t,i){t[0]===e&&E.splice(i,1)}),delete w.defQueueMap[e],o&&(o.events.defined&&(P[e]=o.events),u(e))}),r},enable:function(e){getOwn(T,e.id)&&s(e).enable()},completeLoad:function(e){var t,i,n,r=getOwn(C.shim,e)||{},a=r.exports;for(d();E.length;){if(i=E.shift(),null===i[0]){if(i[0]=e,t)break;t=!0}else i[0]===e&&(t=!0);g(i)}if(w.defQueueMap={},n=getOwn(T,e),!t&&!hasProp(I,e)&&n&&!n.inited){if(!(!C.enforceDefine||a&&getGlobal(a)))return o(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));g([e,r.deps||[],r.exportsFn])}h()},nameToUrl:function(e,t,i){var n,o,r,a,s,l,c,d=getOwn(C.pkgs,e);if(d&&(e=d),c=getOwn(A,e))return w.nameToUrl(c,t,i);if(req.jsExtRegExp.test(e))s=e+(t||"");else{for(n=C.paths,o=e.split("/"),r=o.length;r>0;r-=1)if(a=o.slice(0,r).join("/"),l=getOwn(n,a)){isArray(l)&&(l=l[0]),o.splice(0,r,l);break}s=o.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||i?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":C.baseUrl)+s}return C.urlArgs&&!/^blob\:/.test(s)?s+C.urlArgs(e,s):s},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,i,n){return t.apply(n,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);if(!o(t.id)){var i=[];return eachProp(T,function(e,n){0!==n.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id)return i.push(n),!0})}),c(makeError("scripterror",'Script error for "'+t.id+(i.length?'", needed by: '+i.join(", "):'"'),e,[t.id]))}}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState)return interactiveScript=e}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.5",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(void 0!==requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,n){var o,r,a=defContextName;return isArray(e)||"string"==typeof e||(r=e,isArray(t)?(e=t,t=i,i=n):e=[]),r&&r.context&&(a=r.context),o=getOwn(contexts,a),o||(o=contexts[a]=req.s.newContext(a)),r&&o.configure(r),o.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick=void 0!==setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],(baseElement=document.getElementsByTagName("base")[0])&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var n=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return n.type=e.scriptType||"text/javascript",n.charset="utf-8",n.async=!0,n},req.load=function(e,t,i){var n,o=e&&e.config||{};if(isBrowser)return n=req.createNode(o,t,i),n.setAttribute("data-requirecontext",e.contextName),n.setAttribute("data-requiremodule",t),!n.attachEvent||n.attachEvent.toString&&n.attachEvent.toString().indexOf("[native code")<0||isOpera?(n.addEventListener("load",e.onScriptLoad,!1),n.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,n.attachEvent("onreadystatechange",e.onScriptLoad)),n.src=i,o.onNodeCreated&&o.onNodeCreated(n,o,t,i),currentlyAddingScript=n,baseElement?head.insertBefore(n,baseElement):head.appendChild(n),currentlyAddingScript=null,n;if(isWebWorker)try{setTimeout(function(){},0),importScripts(i),e.completeLoad(t)}catch(n){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+i,n,[t]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||-1!==mainScript.indexOf("!")||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(e,t,i){var n,o;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=null),!t&&isFunction(i)&&(t=[],i.length&&(i.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(n=currentlyAddingScript||getInteractiveScript())&&(e||(e=n.getAttribute("data-requiremodule")),o=contexts[n.getAttribute("data-requirecontext")]),o?(o.defQueue.push([e,t,i]),o.defQueueMap[e]=!0):globalDefQueue.push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),function(e){"use strict";e.build={target:"hbonowcmr",targetType:"application",client:"browser",flavor:"int",config:"int",features:{transpile:!0,coverage:!1,optimize:!0,concatenate:!1,gzip:!1,relativePaths:!1,counters:!1,autoResetCounters:!1,validation:!1,evalConstructorNames:!1,preventExtensions:!1,consoleLog:!1,perfMonitor:!1,perfMonitorAutoStart:!1,inputLog:!1,requiresPrebuild:!0,postprocess:!1,hasDocumentation:!0,packaging:!0,release:!1,sdk:"unspecified",promiseStackTraces:!1,longStackTraces:!1,hookUnhandledRejection:!0,devExceptions:!0,throwWarnings:!1,verboseDispatcherLogging:!1,showDebugOverlay:!1,productionAnalytics:!1,showDebugInfo:!0,environmentSwitching:!0,environment:"prod",trackDebugData:!1,enableAnimationLines:!1,dummyPurchase:!1,engine:"browser",pal:"browser",services:"hurley",design:"commerce",brand:"hbonow",swf:"debug",prebuildAssetCopy:!1,useScriptLaunchArgs:!1,binarchive:!0,prerollVideoOverride:"unspecified",mainVideoOverride:"unspecified"},paths:{"core/oop":"core/oop/oop","lib/lodash":"../lib/js/lodash","lib/conviva":"../lib/js/conviva/conviva-core-sdk.min","lib/i18next":"../lib/js/i18next/i18next.min","lib/globalize":"../lib/js/globalize","lib/cssLayout":"../lib/js/css-layout/css-layout","lib/socketio":"../lib/js/socket.io/socket.io","lib/react":"../lib/js/react/react.min","lib/Promise":"../lib/js/bluebird/js/browser/bluebird","lib/shaka":"../lib/js/shaka-player/shaka-player.compiled","application/ClientApplication":"application/ClientApplication","application/ClientDevice":"application/ClientDevice","automation/AtlasChannel":"automation/AtlasChannel","automation/AtlasLogHandler":"automation/AtlasLogHandler","automation/AutomationManager":"automation/AutomationManager","automation/VirtualButtonDeviceKeyboard":"automation/VirtualButtonDeviceKeyboard","automation/VirtualPointerDevice":"automation/VirtualPointerDevice","configuration/AtlasChannel":"configuration/AtlasChannel","configuration/AuthenticationManagerConfig":"configuration/AuthenticationManagerConfig","configuration/AutomationManager":"configuration/AutomationManager.univ","configuration/ButtonDeviceKeyMapConfig":"configuration/ButtonDeviceKeyMapConfig.desktop","configuration/ButtonProviderConfig":"configuration/ButtonProviderConfig","configuration/CacheManager":"configuration/CacheManager","configuration/ChromecastConfig":"configuration/ChromecastConfig","configuration/Client":"configuration/Client","configuration/ConfigurationDeveloperSettings":"configuration/ConfigurationDeveloperSettings","configuration/ConvivaConfig":"configuration/ConvivaConfig","configuration/Counters":"configuration/Counters","configuration/data/strings":"configuration/data/strings","configuration/data/translations":"configuration/data/translations","configuration/DeveloperSettingsConfig":"configuration/DeveloperSettingsConfig","configuration/DispatcherConfig":"configuration/DispatcherConfig","configuration/DisplayNodeDebuggerConfig":"configuration/DisplayNodeDebuggerConfig","configuration/DisposableTrackerConfig":"configuration/DisposableTrackerConfig","configuration/Emitter":"configuration/Emitter","configuration/Exception":"configuration/Exception","configuration/ExceptionManager":"configuration/ExceptionManager.univ","configuration/IExceptionManager":"configuration/IExceptionManager","configuration/InputManagerConfig":"configuration/InputManagerConfig","configuration/ITemplateManagerConfig":"configuration/ITemplateManagerConfig","configuration/IViewModelFactoryConfig":"configuration/IViewModelFactoryConfig","configuration/Localization":"configuration/Localization","configuration/LoggerConfig":"configuration/LoggerConfig","configuration/MockServiceStateConfig":"configuration/MockServiceStateConfig","configuration/ModelFactory":"configuration/ModelFactory","configuration/Omniture":"configuration/Omniture","configuration/Performance":"configuration/Performance","configuration/PlatformAuthManagerConfig":"configuration/PlatformAuthManagerConfig","configuration/PlaybackConfig":"configuration/PlaybackConfig","configuration/PointerProviderConfig":"configuration/PointerProviderConfig","configuration/Promise":"configuration/Promise","configuration/ScreenConfig":"configuration/ScreenConfig.univ","configuration/ScreenUtilConfig":"configuration/ScreenUtilConfig","configuration/StoreConfig":"configuration/StoreConfig","configuration/TemplateManagerConfig":"configuration/TemplateManagerConfig.commerce","configuration/TemplateManagerConfigBase":"configuration/TemplateManagerConfigBase.activation","configuration/TravelLogConfig":"configuration/TravelLogConfig","configuration/typeRegistry":"configuration/typeRegistry","configuration/ViewModelFactoryConfig":"configuration/ViewModelFactoryConfig.commerce","configuration/ViewModelFactoryConfigBase":"configuration/ViewModelFactoryConfigBase.activation","core/AsyncCollection":"core/AsyncCollection","core/AsyncCollectionTransformer":"core/AsyncCollectionTransformer","core/AsyncManager":"core/AsyncManager","core/CoreDeveloperSettings":"core/CoreDeveloperSettings","core/data/CachedProvider":"core/data/CachedProvider","core/data/CacheManager":"core/data/CacheManager","core/data/DocumentModel":"core/data/DocumentModel","core/data/ExceptionInfoModel":"core/data/ExceptionInfoModel","core/data/ExceptionInfoProvider":"core/data/ExceptionInfoProvider","core/data/ExplicitMenuProvider":"core/data/ExplicitMenuProvider","core/data/ExplicitTextProvider":"core/data/ExplicitTextProvider","core/data/ExplicitValueProvider":"core/data/ExplicitValueProvider","core/data/MenuModel":"core/data/MenuModel","core/data/Model":"core/data/Model","core/data/ModelFactory":"core/data/ModelFactory","core/data/Provider":"core/data/Provider","core/data/ValueModel":"core/data/ValueModel","core/datastructures/AccessPriorityCache":"core/datastructures/AccessPriorityCache","core/datastructures/BinaryHeap":"core/datastructures/BinaryHeap","core/datastructures/SimpleCache":"core/datastructures/SimpleCache","core/Debug":"core/Debug","core/Disposable":"core/Disposable","core/DisposableTracker":"core/DisposableTracker","core/EventManager":"core/EventManager","core/Exception":"core/Exception","core/ExceptionRegistry":"core/ExceptionRegistry","core/extend":"core/extend","core/Factory":"core/Factory","core/HorizontalAlignment":"core/HorizontalAlignment","core/IDisposable":"core/IDisposable","core/IFactoryTarget":"core/IFactoryTarget","core/Lifecycleable":"core/Lifecycleable","core/logging/CounterLogEntry":"core/logging/CounterLogEntry","core/logging/Counters":"core/logging/Counters","core/logging/CounterStats":"core/logging/CounterStats","core/logging/Emitter":"core/logging/Emitter","core/logging/ExceptionLogEntry":"core/logging/ExceptionLogEntry","core/logging/Filter":"core/logging/Filter","core/logging/FilterCollection":"core/logging/FilterCollection","core/logging/Levels":"core/logging/Levels","core/logging/LogEntry":"core/logging/LogEntry","core/logging/Logger":"core/logging/Logger","core/logging/LogHandler":"core/logging/LogHandler","core/logging/MessageLogEntry":"core/logging/MessageLogEntry","core/logging/ObjectLogEntry":"core/logging/ObjectLogEntry","core/logging/SimpleLogEntry":"core/logging/SimpleLogEntry","core/logging/TelegraphEventSubtypes":"core/logging/TelegraphEventSubtypes","core/logging/TelegraphEventTypes":"core/logging/TelegraphEventTypes","core/math/rect":"core/math/rect","core/oop/classDef":"core/oop/classDef","core/oop/classDefContext":"core/oop/classDefContext","core/oop/collection":"core/oop/collection","core/oop/common/Collection":"core/oop/common/Collection","core/oop/common/Event":"core/oop/common/Event","core/oop/constructor":"core/oop/constructor","core/oop/diagnostics":"core/oop/diagnostics","core/oop/docs":"core/oop/docs","core/oop/enumDef":"core/oop/enumDef","core/oop/event":"core/oop/event","core/oop/events":"core/oop/events","core/oop/flagsDef":"core/oop/flagsDef","core/oop/initConstructor":"core/oop/initConstructor","core/oop/interfaceDef":"core/oop/interfaceDef","core/oop/isEqual":"core/oop/isEqual","core/oop/method":"core/oop/method","core/oop/methods":"core/oop/methods","core/oop/mixin":"core/oop/mixin","core/oop/oop":"core/oop/oop","core/oop/properties":"core/oop/properties","core/oop/property":"core/oop/property","core/oop/singleton":"core/oop/singleton","core/oop/staticScope":"core/oop/staticScope","core/oop/typeDef":"core/oop/typeDef","core/oop/typeRegistry":"core/oop/typeRegistry","core/PromiseManager":"core/PromiseManager","core/PromiseMultiplexer":"core/PromiseMultiplexer","core/ReadOnlyAsyncArray":"core/ReadOnlyAsyncArray","core/SortedReadOnlyAsyncArray":"core/SortedReadOnlyAsyncArray","core/Startup":"core/Startup","core/uriUtils":"core/uriUtils","core/uuid":"core/uuid","core/VerticalAlignment":"core/VerticalAlignment","dataservices/activation/ActivationException":"dataservices/activation/ActivationException","dataservices/activation/AuthenticationStatus":"dataservices/activation/AuthenticationStatus","dataservices/analytics/BusinessIntelligenceLogHandler":"dataservices/analytics/BusinessIntelligenceLogHandler","dataservices/analytics/BusinessIntelligenceServiceWatchEvents":"dataservices/analytics/BusinessIntelligenceServiceWatchEvents","dataservices/analytics/GTMLogHandler":"dataservices/analytics/GTMLogHandler","dataservices/analytics/IBusinessIntelligenceService":"dataservices/analytics/IBusinessIntelligenceService","dataservices/analytics/IConvivaService":"dataservices/analytics/IConvivaService","dataservices/analytics/IOmnitureService":"dataservices/analytics/IOmnitureService","dataservices/analytics/ITelegraphEventHandler":"dataservices/analytics/ITelegraphEventHandler","dataservices/analytics/ITelegraphService":"dataservices/analytics/ITelegraphService","dataservices/analytics/ITelemetryService":"dataservices/analytics/ITelemetryService","dataservices/analytics/TelegraphAppEventHandler":"dataservices/analytics/TelegraphAppEventHandler","dataservices/analytics/TelegraphChromecastEventHandler":"dataservices/analytics/TelegraphChromecastEventHandler","dataservices/analytics/TelegraphHelper":"dataservices/analytics/TelegraphHelper","dataservices/analytics/TelegraphLogHandler":"dataservices/analytics/TelegraphLogHandler","dataservices/analytics/TelegraphNavigationEventHandler":"dataservices/analytics/TelegraphNavigationEventHandler","dataservices/analytics/TelegraphPurchaseEventHandler":"dataservices/analytics/TelegraphPurchaseEventHandler","dataservices/analytics/TelegraphSearchEventHandler":"dataservices/analytics/TelegraphSearchEventHandler","dataservices/analytics/TelegraphSimpleEventHandler":"dataservices/analytics/TelegraphSimpleEventHandler","dataservices/analytics/TelegraphTelemetryEventHandler":"dataservices/analytics/TelegraphTelemetryEventHandler","dataservices/analytics/TelegraphUserEventHandler":"dataservices/analytics/TelegraphUserEventHandler","dataservices/analytics/TelegraphUserInteractionEventHandler":"dataservices/analytics/TelegraphUserInteractionEventHandler","dataservices/analytics/TelegraphVideoEventHandler":"dataservices/analytics/TelegraphVideoEventHandler","dataservices/analytics/TelegraphWatchlistEventHandler":"dataservices/analytics/TelegraphWatchlistEventHandler","dataservices/analytics/TelemetryLogHandler":"dataservices/analytics/TelemetryLogHandler","dataservices/analytics/VideoEventData":"dataservices/analytics/VideoEventData","dataservices/analytics/VideoQoSEventHandler":"dataservices/analytics/VideoQoSEventHandler","dataservices/analytics/VideoQoSLogHandler":"dataservices/analytics/VideoQoSLogHandler","dataservices/AssetCollectionCache":"dataservices/AssetCollectionCache","dataservices/authentication/AffiliateAuthenticationException":"dataservices/authentication/AffiliateAuthenticationException","dataservices/authentication/AuthenticationException":"dataservices/authentication/AuthenticationException","dataservices/authentication/AuthenticationManager":"dataservices/authentication/AuthenticationManager","dataservices/authentication/AuthenticationRequiredException":"dataservices/authentication/AuthenticationRequiredException","dataservices/authentication/ClientCredentialsInvalidException":"dataservices/authentication/ClientCredentialsInvalidException","dataservices/authentication/ClientVersionNotSupportedException":"dataservices/authentication/ClientVersionNotSupportedException","dataservices/authentication/GeoValidationException":"dataservices/authentication/GeoValidationException","dataservices/authentication/HiltonAuthManager":"dataservices/authentication/HiltonAuthManager","dataservices/authentication/IAuthenticationManager":"dataservices/authentication/IAuthenticationManager","dataservices/authentication/ILoginInfo":"dataservices/authentication/ILoginInfo","dataservices/authentication/InvalidCredentialsException":"dataservices/authentication/InvalidCredentialsException","dataservices/authentication/InvalidResetTokenException":"dataservices/authentication/InvalidResetTokenException","dataservices/authentication/IPlatformAuthManager":"dataservices/authentication/IPlatformAuthManager","dataservices/authentication/LoginInfoParser":"dataservices/authentication/LoginInfoParser","dataservices/authentication/PlatformAuthManager":"dataservices/authentication/PlatformAuthManager","dataservices/authentication/SSOAuthManager":"dataservices/authentication/SSOAuthManager","dataservices/authentication/StreamTrackingException":"dataservices/authentication/StreamTrackingException","dataservices/authentication/StreamTrackingLogHandler":"dataservices/authentication/StreamTrackingLogHandler","dataservices/authentication/User":"dataservices/authentication/User","dataservices/bootstrapper/BootstrapperService":"dataservices/bootstrapper/BootstrapperService","dataservices/ContentMetadataLogHandler":"dataservices/ContentMetadataLogHandler","dataservices/ContentRestrictedException":"dataservices/ContentRestrictedException","dataservices/ContentUnavailableException":"dataservices/ContentUnavailableException","dataservices/ContinueWatchingCache":"dataservices/ContinueWatchingCache","dataservices/ContinueWatchingClearLogEntry":"dataservices/ContinueWatchingClearLogEntry","dataservices/CustomServiceException":"dataservices/CustomServiceException","dataservices/DataServicesDeveloperSettings":"dataservices/DataServicesDeveloperSettings","dataservices/DataServicesSettings":"dataservices/DataServicesSettings",
"dataservices/DataValidationException":"dataservices/DataValidationException","dataservices/dependent/analytics/BaseBusinessIntelligenceService":"dataservices/dependent/analytics/BaseBusinessIntelligenceService","dataservices/dependent/analytics/BaseConvivaSystemInterface":"dataservices/dependent/analytics/BaseConvivaSystemInterface","dataservices/dependent/analytics/BaseTelemetryService":"dataservices/dependent/analytics/BaseTelemetryService","dataservices/dependent/analytics/BusinessIntelligenceService":"dataservices/dependent/analytics/BusinessIntelligenceService.hurley","dataservices/dependent/analytics/ConvivaService":"dataservices/dependent/analytics/ConvivaService","dataservices/dependent/analytics/ConvivaSystemInterface":"dataservices/dependent/analytics/ConvivaSystemInterface.hurley","dataservices/dependent/analytics/OmnitureService":"dataservices/dependent/analytics/OmnitureService","dataservices/dependent/analytics/TelegraphService":"dataservices/dependent/analytics/TelegraphService.hurley","dataservices/dependent/analytics/TelemetryService":"dataservices/dependent/analytics/TelemetryService.hurley","dataservices/dependent/AuthenticationManager":"dataservices/dependent/AuthenticationManager.hurley","dataservices/dependent/BaseMockServiceState":"dataservices/dependent/BaseMockServiceState","dataservices/dependent/BaseStreamTrackingService":"dataservices/dependent/BaseStreamTrackingService","dataservices/dependent/BatchRequestManager":"dataservices/dependent/BatchRequestManager.hurley","dataservices/dependent/BatchRequestQueue":"dataservices/dependent/BatchRequestQueue.hurley","dataservices/dependent/ConciergeService":"dataservices/dependent/ConciergeService","dataservices/dependent/ContinueWatchingService":"dataservices/dependent/ContinueWatchingService.hurley","dataservices/dependent/domains":"dataservices/dependent/domains.hurley","dataservices/dependent/EnvironmentUtils":"dataservices/dependent/EnvironmentUtils.hurley","dataservices/dependent/ErrorCodeUtils":"dataservices/dependent/ErrorCodeUtils.hurley","dataservices/dependent/IStreamTrackingService":"dataservices/dependent/IStreamTrackingService","dataservices/dependent/LastPlayedService":"dataservices/dependent/LastPlayedService.hurley","dataservices/dependent/LoginInfoManager":"dataservices/dependent/LoginInfoManager.hurley","dataservices/dependent/MockServiceState":"dataservices/dependent/MockServiceState.hurley","dataservices/dependent/PaymentsService":"dataservices/dependent/PaymentsService.hurley","dataservices/dependent/PlaybackMarkerService":"dataservices/dependent/PlaybackMarkerService.hurley","dataservices/dependent/ProfileService":"dataservices/dependent/ProfileService.hurley","dataservices/dependent/providers/ActivationCodeIntentProvider":"dataservices/dependent/providers/ActivationCodeIntentProvider.hurley","dataservices/dependent/providers/ActivationCodeNextStepsProvider":"dataservices/dependent/providers/ActivationCodeNextStepsProvider.hurley","dataservices/dependent/providers/ActivationCodeProvider":"dataservices/dependent/providers/ActivationCodeProvider.hurley","dataservices/dependent/providers/ActivationCodeStatusProvider":"dataservices/dependent/providers/ActivationCodeStatusProvider.hurley","dataservices/dependent/providers/AffiliateListProvider":"dataservices/dependent/providers/AffiliateListProvider.hurley","dataservices/dependent/providers/AffiliateProvider":"dataservices/dependent/providers/AffiliateProvider.hurley","dataservices/dependent/providers/AssetProvider":"dataservices/dependent/providers/AssetProvider.hurley","dataservices/dependent/providers/BaseAccessTokenProvider":"dataservices/dependent/providers/BaseAccessTokenProvider.hurley","dataservices/dependent/providers/BaseImageProvider":"dataservices/dependent/providers/BaseImageProvider.hurley","dataservices/dependent/providers/BaseLoginProvider":"dataservices/dependent/providers/BaseLoginProvider.hurley","dataservices/dependent/providers/BatchProvider":"dataservices/dependent/providers/BatchProvider.hurley","dataservices/dependent/providers/BillingInformationProvider":"dataservices/dependent/providers/BillingInformationProvider.hurley","dataservices/dependent/providers/CarouselProvider":"dataservices/dependent/providers/CarouselProvider.hurley","dataservices/dependent/providers/ChromecastReceiverAuthProvider":"dataservices/dependent/providers/ChromecastReceiverAuthProvider.hurley","dataservices/dependent/providers/ClientAccessTokenProvider":"dataservices/dependent/providers/ClientAccessTokenProvider.hurley","dataservices/dependent/providers/ClosedCaptioningSettingsProvider":"dataservices/dependent/providers/ClosedCaptioningSettingsProvider.stub","dataservices/dependent/providers/CollectionProvider":"dataservices/dependent/providers/CollectionProvider.hurley","dataservices/dependent/providers/CommerceConfigProvider":"dataservices/dependent/providers/CommerceConfigProvider.hurley","dataservices/dependent/providers/ContinueWatchingMenuProvider":"dataservices/dependent/providers/ContinueWatchingMenuProvider","dataservices/dependent/providers/DeviceProvider":"dataservices/dependent/providers/DeviceProvider.hurley","dataservices/dependent/providers/DocumentProvider":"dataservices/dependent/providers/DocumentProvider.hurley","dataservices/dependent/providers/DRMTokenProvider":"dataservices/dependent/providers/DRMTokenProvider.hurley","dataservices/dependent/providers/EntitlementProvider":"dataservices/dependent/providers/EntitlementProvider.hurley","dataservices/dependent/providers/EpisodeProvider":"dataservices/dependent/providers/EpisodeProvider.hurley","dataservices/dependent/providers/ExternalIdsProvider":"dataservices/dependent/providers/ExternalIdsProvider.hurley","dataservices/dependent/providers/ExtraProvider":"dataservices/dependent/providers/ExtraProvider.hurley","dataservices/dependent/providers/FairPlayCertificateProvider":"dataservices/dependent/providers/FairPlayCertificateProvider.hurley","dataservices/dependent/providers/FairPlayLicenseProvider":"dataservices/dependent/providers/FairPlayLicenseProvider.hurley","dataservices/dependent/providers/FaqMenuProvider":"dataservices/dependent/providers/FaqMenuProvider.hurley","dataservices/dependent/providers/FaqProvider":"dataservices/dependent/providers/FaqProvider.hurley","dataservices/dependent/providers/FranchiseProvider":"dataservices/dependent/providers/FranchiseProvider.hurley","dataservices/dependent/providers/GiftCardBalanceProvider":"dataservices/dependent/providers/GiftCardBalanceProvider.hurley","dataservices/dependent/providers/GridProvider":"dataservices/dependent/providers/GridProvider.hurley","dataservices/dependent/providers/HiltonLoginProvider":"dataservices/dependent/providers/HiltonLoginProvider.hurley","dataservices/dependent/providers/HomeMenuProvider":"dataservices/dependent/providers/HomeMenuProvider.hurley","dataservices/dependent/providers/ImageAvailabilityProvider":"dataservices/dependent/providers/ImageAvailabilityProvider.hurley","dataservices/dependent/providers/InteractiveDocumentProvider":"dataservices/dependent/providers/InteractiveDocumentProvider.hurley","dataservices/dependent/providers/LandingMenuProvider":"dataservices/dependent/providers/LandingMenuProvider.hurley","dataservices/dependent/providers/LinkProvider":"dataservices/dependent/providers/LinkProvider.hurley","dataservices/dependent/providers/LinkSetProvider":"dataservices/dependent/providers/LinkSetProvider.hurley","dataservices/dependent/providers/MenuItemsProvider":"dataservices/dependent/providers/MenuItemsProvider.hurley","dataservices/dependent/providers/MenuProvider":"dataservices/dependent/providers/MenuProvider.hurley","dataservices/dependent/providers/MicrositeProvider":"dataservices/dependent/providers/MicrositeProvider.hurley","dataservices/dependent/providers/NavigationMenuProvider":"dataservices/dependent/providers/NavigationMenuProvider.hurley","dataservices/dependent/providers/OttLoginProvider":"dataservices/dependent/providers/OttLoginProvider.hurley","dataservices/dependent/providers/PageProvider":"dataservices/dependent/providers/PageProvider.hurley","dataservices/dependent/providers/PaymentMetadataProvider":"dataservices/dependent/providers/PaymentMetadataProvider.hurley","dataservices/dependent/providers/PaywallProvider":"dataservices/dependent/providers/PaywallProvider.hurley","dataservices/dependent/providers/PreviewAccountTileProvider":"dataservices/dependent/providers/PreviewAccountTileProvider.hurley","dataservices/dependent/providers/PrivacyPolicyProvider":"dataservices/dependent/providers/PrivacyPolicyProvider.hurley","dataservices/dependent/providers/ProductMenuProvider":"dataservices/dependent/providers/ProductMenuProvider.hurley","dataservices/dependent/providers/ResetPasswordProvider":"dataservices/dependent/providers/ResetPasswordProvider.stub","dataservices/dependent/providers/ResetPinProvider":"dataservices/dependent/providers/ResetPinProvider.stub","dataservices/dependent/providers/RootNavigationMenuProvider":"dataservices/dependent/providers/RootNavigationMenuProvider.hurley","dataservices/dependent/providers/SearchNavMenuProvider":"dataservices/dependent/providers/SearchNavMenuProvider.hurley","dataservices/dependent/providers/SearchResultsProvider":"dataservices/dependent/providers/SearchResultsProvider.hurley","dataservices/dependent/providers/SeasonProvider":"dataservices/dependent/providers/SeasonProvider.hurley","dataservices/dependent/providers/SeriesMarkerMapProvider":"dataservices/dependent/providers/SeriesMarkerMapProvider.hurley","dataservices/dependent/providers/SeriesProvider":"dataservices/dependent/providers/SeriesProvider.hurley","dataservices/dependent/providers/ServicePageProvider":"dataservices/dependent/providers/ServicePageProvider.hurley","dataservices/dependent/providers/SingleSignOnLoginProvider":"dataservices/dependent/providers/SingleSignOnLoginProvider.hurley","dataservices/dependent/providers/SingleSignOnQueryProvider":"dataservices/dependent/providers/SingleSignOnQueryProvider.hurley","dataservices/dependent/providers/TermsOfServiceProvider":"dataservices/dependent/providers/TermsOfServiceProvider.hurley","dataservices/dependent/providers/TextProvider":"dataservices/dependent/providers/TextProvider.hurley","dataservices/dependent/providers/TileableProvider":"dataservices/dependent/providers/TileableProvider.hurley","dataservices/dependent/providers/TileProvider":"dataservices/dependent/providers/TileProvider.hurley","dataservices/dependent/providers/TileSetProvider":"dataservices/dependent/providers/TileSetProvider.hurley","dataservices/dependent/providers/TimespanProvider":"dataservices/dependent/providers/TimespanProvider.hurley","dataservices/dependent/providers/TrayProvider":"dataservices/dependent/providers/TrayProvider.hurley","dataservices/dependent/providers/UserAccessTokenProvider":"dataservices/dependent/providers/UserAccessTokenProvider.hurley","dataservices/dependent/providers/UserProvider":"dataservices/dependent/providers/UserProvider.hurley","dataservices/dependent/providers/UserSettingsProvider":"dataservices/dependent/providers/UserSettingsProvider.hurley","dataservices/dependent/providers/VideoEditProvider":"dataservices/dependent/providers/VideoEditProvider.hurley","dataservices/dependent/providers/VideoPlaybackProvider":"dataservices/dependent/providers/VideoPlaybackProvider.hurley","dataservices/dependent/providers/VideoStateProvider":"dataservices/dependent/providers/VideoStateProvider.hurley","dataservices/dependent/providers/WallProvider":"dataservices/dependent/providers/WallProvider.hurley","dataservices/dependent/providers/WatchlistLandingMenuProvider":"dataservices/dependent/providers/WatchlistLandingMenuProvider.hurley","dataservices/dependent/providers/WebLoginProvider":"dataservices/dependent/providers/WebLoginProvider.hurley","dataservices/dependent/providers/WelcomeLandingMenuProvider":"dataservices/dependent/providers/WelcomeLandingMenuProvider.hurley","dataservices/dependent/SeriesMarkerService":"dataservices/dependent/SeriesMarkerService.hurley","dataservices/dependent/ServiceHttpClient":"dataservices/dependent/ServiceHttpClient.hurley","dataservices/dependent/ServiceUtils":"dataservices/dependent/ServiceUtils.hurley","dataservices/dependent/StreamTrackingService":"dataservices/dependent/StreamTrackingService.hurley","dataservices/dependent/types/LoginInfo":"dataservices/dependent/types/LoginInfo.hurley","dataservices/dependent/uris":"dataservices/dependent/uris.hurley","dataservices/dependent/WatchlistService":"dataservices/dependent/WatchlistService.hurley","dataservices/IContinueWatchingService":"dataservices/IContinueWatchingService","dataservices/IEnvironmentUtils":"dataservices/IEnvironmentUtils","dataservices/IErrorCodeUtils":"dataservices/IErrorCodeUtils","dataservices/ILastPlayedService":"dataservices/ILastPlayedService","dataservices/IMockServiceState":"dataservices/IMockServiceState","dataservices/IncrementalAsyncCollection":"dataservices/IncrementalAsyncCollection","dataservices/InvalidSessionException":"dataservices/InvalidSessionException","dataservices/IPaymentsService":"dataservices/IPaymentsService","dataservices/IProfileService":"dataservices/IProfileService","dataservices/ISeriesMarkerService":"dataservices/ISeriesMarkerService","dataservices/IServiceUtils":"dataservices/IServiceUtils","dataservices/IWatchlistService":"dataservices/IWatchlistService","dataservices/JsonChunk":"dataservices/JsonChunk","dataservices/JsonResponse":"dataservices/JsonResponse","dataservices/LastPlayedCache":"dataservices/LastPlayedCache","dataservices/LocaleOverrideUtils":"dataservices/LocaleOverrideUtils","dataservices/logging/ManipulatedWatchlistLogEntry":"dataservices/logging/ManipulatedWatchlistLogEntry","dataservices/logging/SignInLogEntry":"dataservices/logging/SignInLogEntry","dataservices/markers/IPlaybackMarkerService":"dataservices/markers/IPlaybackMarkerService","dataservices/markers/PlaybackMarker":"dataservices/markers/PlaybackMarker","dataservices/markers/PlaybackMarkerCache":"dataservices/markers/PlaybackMarkerCache","dataservices/markers/PlaybackMarkerLogHandler":"dataservices/markers/PlaybackMarkerLogHandler","dataservices/markers/SeriesMarker":"dataservices/markers/SeriesMarker","dataservices/markers/SeriesMarkerCache":"dataservices/markers/SeriesMarkerCache","dataservices/MarketingIdManager":"dataservices/MarketingIdManager","dataservices/ModelRefresher":"dataservices/ModelRefresher","dataservices/models/ActivationCodeIntentModel":"dataservices/models/ActivationCodeIntentModel","dataservices/models/ActivationCodeModel":"dataservices/models/ActivationCodeModel","dataservices/models/ActivationCodeNextStepsModel":"dataservices/models/ActivationCodeNextStepsModel","dataservices/models/AffiliateListModel":"dataservices/models/AffiliateListModel","dataservices/models/AffiliateModel":"dataservices/models/AffiliateModel","dataservices/models/AffiliateStatusModel":"dataservices/models/AffiliateStatusModel","dataservices/models/AssetModel":"dataservices/models/AssetModel","dataservices/models/AuthenticationStatusModel":"dataservices/models/AuthenticationStatusModel","dataservices/models/BillingInformationModel":"dataservices/models/BillingInformationModel","dataservices/models/CarouselModel":"dataservices/models/CarouselModel","dataservices/models/ChromecastReceiverAuthModel":"dataservices/models/ChromecastReceiverAuthModel","dataservices/models/ClosedCaptioningSettingsModel":"dataservices/models/ClosedCaptioningSettingsModel","dataservices/models/CollectionModel":"dataservices/models/CollectionModel","dataservices/models/CommerceConfigModel":"dataservices/models/CommerceConfigModel","dataservices/models/ContentMenuModel":"dataservices/models/ContentMenuModel","dataservices/models/CredentialsLoginModel":"dataservices/models/CredentialsLoginModel","dataservices/models/DeviceModel":"dataservices/models/DeviceModel","dataservices/models/DRMTokenModel":"dataservices/models/DRMTokenModel","dataservices/models/EntitlementModel":"dataservices/models/EntitlementModel","dataservices/models/EpisodeModel":"dataservices/models/EpisodeModel","dataservices/models/ExternalIdsModel":"dataservices/models/ExternalIdsModel","dataservices/models/ExtraModel":"dataservices/models/ExtraModel","dataservices/models/FairPlayCertificateModel":"dataservices/models/FairPlayCertificateModel","dataservices/models/FairPlayLicenseModel":"dataservices/models/FairPlayLicenseModel","dataservices/models/FaqModel":"dataservices/models/FaqModel","dataservices/models/FranchiseModel":"dataservices/models/FranchiseModel","dataservices/models/GiftCardBalanceModel":"dataservices/models/GiftCardBalanceModel","dataservices/models/GridModel":"dataservices/models/GridModel","dataservices/models/ImageAvailabilityModel":"dataservices/models/ImageAvailabilityModel","dataservices/models/InteractiveDocumentModel":"dataservices/models/InteractiveDocumentModel","dataservices/models/LegalModel":"dataservices/models/LegalModel","dataservices/models/LinkModel":"dataservices/models/LinkModel","dataservices/models/LinkSetModel":"dataservices/models/LinkSetModel","dataservices/models/LoginInfoModel":"dataservices/models/LoginInfoModel","dataservices/models/MenuItemsModel":"dataservices/models/MenuItemsModel","dataservices/models/MicrositeModel":"dataservices/models/MicrositeModel","dataservices/models/PageModel":"dataservices/models/PageModel","dataservices/models/PaymentMetadataModel":"dataservices/models/PaymentMetadataModel","dataservices/models/PaywallModel":"dataservices/models/PaywallModel","dataservices/models/RefreshableServiceModel":"dataservices/models/RefreshableServiceModel","dataservices/models/SearchResultsModel":"dataservices/models/SearchResultsModel","dataservices/models/SeasonModel":"dataservices/models/SeasonModel","dataservices/models/SeriesMarkerMapModel":"dataservices/models/SeriesMarkerMapModel","dataservices/models/SeriesModel":"dataservices/models/SeriesModel","dataservices/models/ServiceModel":"dataservices/models/ServiceModel","dataservices/models/ServicePageModel":"dataservices/models/ServicePageModel","dataservices/models/SingleSignOnQueryModel":"dataservices/models/SingleSignOnQueryModel","dataservices/models/TextModel":"dataservices/models/TextModel","dataservices/models/TileableModel":"dataservices/models/TileableModel","dataservices/models/TileModel":"dataservices/models/TileModel","dataservices/models/TileSetModel":"dataservices/models/TileSetModel","dataservices/models/TimespanModel":"dataservices/models/TimespanModel","dataservices/models/TrayModel":"dataservices/models/TrayModel","dataservices/models/UserModel":"dataservices/models/UserModel","dataservices/models/UserSettingsModel":"dataservices/models/UserSettingsModel","dataservices/models/VideoEditModel":"dataservices/models/VideoEditModel","dataservices/models/VideoPlaybackModel":"dataservices/models/VideoPlaybackModel","dataservices/models/VideoStateModel":"dataservices/models/VideoStateModel","dataservices/models/WallModel":"dataservices/models/WallModel","dataservices/PreferredBitrateLogHandler":"dataservices/PreferredBitrateLogHandler","dataservices/providers/BaseServiceProvider":"dataservices/providers/BaseServiceProvider","dataservices/providers/EnvironmentMenuProvider":"dataservices/providers/EnvironmentMenuProvider","dataservices/providers/LegalProvider":"dataservices/providers/LegalProvider","dataservices/providers/LocaleOverrideMenuProvider":"dataservices/providers/LocaleOverrideMenuProvider","dataservices/providers/NextStepsWallProvider":"dataservices/providers/NextStepsWallProvider","dataservices/providers/RestrictionProvider":"dataservices/providers/RestrictionProvider","dataservices/providers/SettingsMenuProvider":"dataservices/providers/SettingsMenuProvider","dataservices/providers/UserProxyProvider":"dataservices/providers/UserProxyProvider","dataservices/ServerTime":"dataservices/ServerTime","dataservices/ServiceException":"dataservices/ServiceException","dataservices/SubscriptionExpiredException":"dataservices/SubscriptionExpiredException","dataservices/types/ActivationAction":"dataservices/types/ActivationAction","dataservices/types/AssetTitles":"dataservices/types/AssetTitles","dataservices/types/AudioFormat":"dataservices/types/AudioFormat","dataservices/types/AudioTrack":"dataservices/types/AudioTrack","dataservices/types/AuthenticatorImageSet":"dataservices/types/AuthenticatorImageSet","dataservices/types/CallToAction":"dataservices/types/CallToAction","dataservices/types/CastMember":"dataservices/types/CastMember","dataservices/types/CatalogImage":"dataservices/types/CatalogImage","dataservices/types/Credit":"dataservices/types/Credit","dataservices/types/GrantType":"dataservices/types/GrantType","dataservices/types/ImageCompression":"dataservices/types/ImageCompression","dataservices/types/ImageLink":"dataservices/types/ImageLink","dataservices/types/ImagePurpose":"dataservices/types/ImagePurpose","dataservices/types/ImageSet":"dataservices/types/ImageSet","dataservices/types/LinkableComponent":"dataservices/types/LinkableComponent","dataservices/types/LoginInfoFlag":"dataservices/types/LoginInfoFlag","dataservices/types/MenuPurpose":"dataservices/types/MenuPurpose","dataservices/types/MenuSortType":"dataservices/types/MenuSortType","dataservices/types/NextSteps":"dataservices/types/NextSteps","dataservices/types/NextStepType":"dataservices/types/NextStepType","dataservices/types/OttLoginType":"dataservices/types/OttLoginType","dataservices/types/PageBandHeader":"dataservices/types/PageBandHeader","dataservices/types/PaywallAction":"dataservices/types/PaywallAction","dataservices/types/PaywallType":"dataservices/types/PaywallType","dataservices/types/RatingPair":"dataservices/types/RatingPair","dataservices/types/SeriesMarkerStatus":"dataservices/types/SeriesMarkerStatus","dataservices/types/SeriesStatus":"dataservices/types/SeriesStatus","dataservices/types/SingleSignOnResponse":"dataservices/types/SingleSignOnResponse","dataservices/types/SingleSignOnStatus":"dataservices/types/SingleSignOnStatus","dataservices/types/SoundTrack":"dataservices/types/SoundTrack","dataservices/types/TextTrack":"dataservices/types/TextTrack","dataservices/types/TokenScopes":"dataservices/types/TokenScopes","dataservices/types/TokenScopeType":"dataservices/types/TokenScopeType","dataservices/types/TrickPlayImageSize":"dataservices/types/TrickPlayImageSize","dataservices/types/UserActivationIntent":"dataservices/types/UserActivationIntent","dataservices/types/UserProfileType":"dataservices/types/UserProfileType","dataservices/types/UserStatus":"dataservices/types/UserStatus","dataservices/types/VideoQuality":"dataservices/types/VideoQuality","dataservices/UserDataCachePrimer":"dataservices/UserDataCachePrimer","dataservices/VideoPlayableStatus":"dataservices/VideoPlayableStatus","dataservices/VideoSessionLogHandler":"dataservices/VideoSessionLogHandler","dataservices/VideoUtil":"dataservices/VideoUtil","dataservices/Walker":"dataservices/Walker","dataservices/WatchlistCache":"dataservices/WatchlistCache","design/analytics/ChromecastSessionListener":"design/analytics/ChromecastSessionListener.univ","design/analytics/Omniture":"design/analytics/Omniture.univ","design/analytics/OmnitureBase":"design/analytics/OmnitureBase","design/analytics/OmnitureLogHandler":"design/analytics/OmnitureLogHandler","design/analytics/UserInteractionTargets":"design/analytics/UserInteractionTargets","design/atomic/AtomicStyleSheet":"design/atomic/AtomicStyleSheet","design/atomic/IAtomicStyles":"design/atomic/IAtomicStyles","design/atomic/particles/Colors":"design/atomic/particles/Colors","design/atomic/themes/legacy/components/DeviceListItemStyles":"design/atomic/themes/legacy/components/DeviceListItemStyles","design/atomic/themes/legacy/containers/settings/DeviceManagementContainerStyles":"design/atomic/themes/legacy/containers/settings/DeviceManagementContainerStyles","design/atomic/themes/legacy/particles/ImageParticleStyles":"design/atomic/themes/legacy/particles/ImageParticleStyles","design/atomic/themes/legacy/particles/TextInputParticleStyles":"design/atomic/themes/legacy/particles/TextInputParticleStyles","design/atomic/themes/legacy/particles/TextParticleStyles":"design/atomic/themes/legacy/particles/TextParticleStyles","design/atomic/themes/spark/particles/TextParticleStyles":"design/atomic/themes/spark/particles/TextParticleStyles","design/ChromecastCoachmark":"design/ChromecastCoachmark.univ","design/CoachmarkBase":"design/CoachmarkBase.univ","design/CommerceFlow":"design/CommerceFlow","design/CommerceState":"design/CommerceState","design/CommerceWorkflow":"design/CommerceWorkflow","design/DeepLinkUtil":"design/DeepLinkUtil","design/DesignDeveloperSettings":"design/DesignDeveloperSettings","design/DesignSettings":"design/DesignSettings","design/DesignUtil":"design/DesignUtil.desktop","design/DesignUtilBase":"design/DesignUtilBase","design/ErrorUXManager":"design/ErrorUXManager.univ","design/FilterUtils":"design/FilterUtils","design/GridHelper":"design/GridHelper.univ","design/InAppPurchaseResult":"design/InAppPurchaseResult","design/InAppPurchaseUtil":"design/InAppPurchaseUtil","design/INavigationRouter":"design/INavigationRouter","design/InteractiveCoach":"design/InteractiveCoach.univ","design/KidsLock":"design/KidsLock.univ","design/KidsLockActions":"design/KidsLockActions.univ","design/KidsLockCoachmark":"design/KidsLockCoachmark.univ","design/logging/ChromecastStartStopLogEntry":"design/logging/ChromecastStartStopLogEntry","design/logging/DeepLinkLaunchedLogEntry":"design/logging/DeepLinkLaunchedLogEntry","design/logging/PCDialogLogEntry":"design/logging/PCDialogLogEntry","design/logging/PopupShownLogEntry":"design/logging/PopupShownLogEntry","design/logging/PurchaseSuccessfulLogEntry":"design/logging/PurchaseSuccessfulLogEntry","design/logging/ReauthenticationLogEntry":"design/logging/ReauthenticationLogEntry","design/logging/RestartLogEntry":"design/logging/RestartLogEntry","design/logging/ViewShownLogEntry":"design/logging/ViewShownLogEntry","design/NavigationRouter":"design/NavigationRouter.univ","design/NavigationRouterBase":"design/NavigationRouterBase","design/NavigationRouterUrls":"design/NavigationRouterUrls.commerce","design/NavigationRouterUrlsBase":"design/NavigationRouterUrlsBase.activation","design/ParentalControlsWarning":"design/ParentalControlsWarning.univ","design/PINHelper":"design/PINHelper.univ","design/PopupManager":"design/PopupManager.univ","design/PurchaseType":"design/PurchaseType","design/Screen":"design/Screen.univ","design/ScreenType":"design/ScreenType","design/ScreenUtil":"design/ScreenUtil.univ","design/ScreenUtilBase":"design/ScreenUtilBase","design/SeriesUtil":"design/SeriesUtil","design/styles/StyleConstants":"design/styles/StyleConstants.commerce","design/styles/StyleConstantsBase":"design/styles/StyleConstantsBase","design/templates/ActivationClientViewHostTemplates":"design/templates/ActivationClientViewHostTemplates.activation","design/templates/AffiliateListViewHostTemplates":"design/templates/AffiliateListViewHostTemplates.activation","design/templates/AffiliateLoginViewHostTemplates":"design/templates/AffiliateLoginViewHostTemplates.activation","design/templates/AffiliateSelectionViewHostTemplates":"design/templates/AffiliateSelectionViewHostTemplates.activation","design/templates/ButtonTemplates":"design/templates/ButtonTemplates.univ","design/templates/ButtonTemplatesBase":"design/templates/ButtonTemplatesBase","design/templates/CarouselTemplates":"design/templates/CarouselTemplates.univ","design/templates/CodeEntryViewHostTemplates":"design/templates/CodeEntryViewHostTemplates.activation","design/templates/ColorTemplates":"design/templates/ColorTemplates","design/templates/CommerceClientViewHostTemplates":"design/templates/CommerceClientViewHostTemplates.commerce","design/templates/CommerceContainerViewHostTemplates":"design/templates/CommerceContainerViewHostTemplates.commerce","design/templates/DirectLoginTemplates":"design/templates/DirectLoginTemplates.activation","design/templates/DirectLoginViewHostTemplates":"design/templates/DirectLoginViewHostTemplates.activation","design/templates/FormTemplates":"design/templates/FormTemplates.univ","design/templates/GOViewHostBaseTemplates":"design/templates/GOViewHostBaseTemplates.univ","design/templates/GridViewBaseTemplates":"design/templates/GridViewBaseTemplates.univ","design/templates/GridViewTemplates":"design/templates/GridViewTemplates.desktop","design/templates/InitializationViewHostTemplates":"design/templates/InitializationViewHostTemplates.activation","design/templates/LayoutTemplates":"design/templates/LayoutTemplates","design/templates/LoginRequiredViewTemplates":"design/templates/LoginRequiredViewTemplates.univ","design/templates/LoginViewHostTemplates":"design/templates/LoginViewHostTemplates.activation","design/templates/NavigationBarViewTemplates":"design/templates/NavigationBarViewTemplates.univ","design/templates/PasswordChallengeTemplates":"design/templates/PasswordChallengeTemplates.univ","design/templates/PaywallOverlayViewTemplates":"design/templates/PaywallOverlayViewTemplates.univ","design/templates/PopupTemplates":"design/templates/PopupTemplates.univ","design/templates/ProfileTemplates":"design/templates/ProfileTemplates.univ","design/templates/RegisterViewHostTemplates":"design/templates/RegisterViewHostTemplates.activation","design/templates/RegistrationViewTemplates":"design/templates/RegistrationViewTemplates.activation","design/templates/SimpleFormViewHostTemplates":"design/templates/SimpleFormViewHostTemplates.activation","design/templates/TemplatesModule":"design/templates/TemplatesModule","design/templates/TextFormatBaseTemplates":"design/templates/TextFormatBaseTemplates","design/templates/TextFormatTemplates":"design/templates/TextFormatTemplates.univ","design/templates/TileTemplates":"design/templates/TileTemplates.univ","design/templates/TransitionManagerTemplates":"design/templates/TransitionManagerTemplates.univ","design/templates/TransitionTemplates":"design/templates/TransitionTemplates.univ","design/templates/TransitionTemplatesBase":"design/templates/TransitionTemplatesBase","design/templates/TransportControlsTemplates":"design/templates/TransportControlsTemplates.univ","design/templates/ViewBaseTemplates":"design/templates/ViewBaseTemplates","design/templates/ViewTemplates":"design/templates/ViewTemplates.univ","design/TemplateUtil":"design/TemplateUtil.univ","design/UserCollections":"design/UserCollections","design/UserSettings":"design/UserSettings.univ","design/ValidationUtils":"design/ValidationUtils","design/viewHosts/ActivationClientViewHost":"design/viewHosts/ActivationClientViewHost.activation","design/viewHosts/AffiliateLoginViewHost":"design/viewHosts/AffiliateLoginViewHost.activation","design/viewHosts/AssetViewHost":"design/viewHosts/AssetViewHost.univ","design/viewHosts/CommerceClientViewHost":"design/viewHosts/CommerceClientViewHost.commerce","design/viewHosts/DirectLoginViewHost":"design/viewHosts/DirectLoginViewHost.activation","design/viewHosts/GOViewHost":"design/viewHosts/GOViewHost.univ","design/viewHosts/GOViewHostBase":"design/viewHosts/GOViewHostBase.univ","design/viewHosts/InitializationViewHost":"design/viewHosts/InitializationViewHost.activation","design/viewHosts/PlayerViewHost":"design/viewHosts/PlayerViewHost.univ","design/viewHosts/RegisterViewHost":"design/viewHosts/RegisterViewHost.activation","design/viewHosts/SimpleFormViewHost":"design/viewHosts/SimpleFormViewHost.activation","design/viewModelProviders/ExplicitHyperlinkProvider":"design/viewModelProviders/ExplicitHyperlinkProvider","design/viewModelProviders/ExplicitWebFrameProvider":"design/viewModelProviders/ExplicitWebFrameProvider.univ","design/viewModelProviders/HyperlinkFromAffiliateProvider":"design/viewModelProviders/HyperlinkFromAffiliateProvider",
"design/viewModelProviders/HyperlinkFromExternalProvider":"design/viewModelProviders/HyperlinkFromExternalProvider.univ","design/viewModelProviders/HyperlinkFromInternalProvider":"design/viewModelProviders/HyperlinkFromInternalProvider","design/viewModelProviders/NotificationsToggleViewModelProvider":"design/viewModelProviders/NotificationsToggleViewModelProvider.univ","design/viewModelProviders/PairFromStringPairProvider":"design/viewModelProviders/PairFromStringPairProvider","design/viewModelProviders/PaywallViewModelProvider":"design/viewModelProviders/PaywallViewModelProvider","design/viewModelProviders/PreferredAffiliatesProvider":"design/viewModelProviders/PreferredAffiliatesProvider.univ","design/viewModelProviders/SelectorFromEnumProvider":"design/viewModelProviders/SelectorFromEnumProvider.univ","design/viewModelProviders/StoreViewModelProvider":"design/viewModelProviders/StoreViewModelProvider","design/viewModelProviders/TemporaryToggleViewModelProvider":"design/viewModelProviders/TemporaryToggleViewModelProvider.univ","design/viewModelProviders/TextFromDebugInfoProvider":"design/viewModelProviders/TextFromDebugInfoProvider","design/viewModelProviders/TextFromResourceIdProvider":"design/viewModelProviders/TextFromResourceIdProvider","design/viewModelProviders/TosAgreeToggleViewModelProvider":"design/viewModelProviders/TosAgreeToggleViewModelProvider","design/viewModelProviders/WebFrameFromAffiliateProvider":"design/viewModelProviders/WebFrameFromAffiliateProvider.univ","design/viewModels/HyperlinkViewModel":"design/viewModels/HyperlinkViewModel","design/viewModels/PairViewModel":"design/viewModels/PairViewModel","design/viewModels/PaywallViewModel":"design/viewModels/PaywallViewModel","design/viewModels/StoreViewModel":"design/viewModels/StoreViewModel","design/viewModels/ToggleViewModel":"design/viewModels/ToggleViewModel","design/views/AccessibleHyperlinkView":"design/views/AccessibleHyperlinkView.univ","design/views/AssetCollectionView":"design/views/AssetCollectionView.univ","design/views/BillingInfoView":"design/views/BillingInfoView.univ","design/views/CarouselView":"design/views/CarouselView.univ","design/views/ChangePinView":"design/views/ChangePinView.univ","design/views/ChromecastIconView":"design/views/ChromecastIconView.univ","design/views/ChromecastMenuView":"design/views/ChromecastMenuView.univ","design/views/ConfirmationDialogView":"design/views/ConfirmationDialogView.univ","design/views/ContinueWatchingView":"design/views/ContinueWatchingView.univ","design/views/DirectCommerceContainerView":"design/views/DirectCommerceContainerView.univ","design/views/DirectLoginView":"design/views/DirectLoginView.univ","design/views/DropDownPopupView":"design/views/DropDownPopupView.univ","design/views/DropDownView":"design/views/DropDownView.univ","design/views/FlipView":"design/views/FlipView.univ","design/views/ForgotPinConfirmationView":"design/views/ForgotPinConfirmationView.univ","design/views/ForgotPinView":"design/views/ForgotPinView.univ","design/views/FranchiseHeaderUnderlinedView":"design/views/FranchiseHeaderUnderlinedView.univ","design/views/FranchiseHeaderView":"design/views/FranchiseHeaderView.univ","design/views/HyperlinkView":"design/views/HyperlinkView.univ","design/views/InheritedParentalControlsView":"design/views/InheritedParentalControlsView.univ","design/views/LabelView":"design/views/LabelView.univ","design/views/LabelViewBase":"design/views/LabelViewBase","design/views/LetterView":"design/views/LetterView.univ","design/views/LoadingSpinnerView":"design/views/LoadingSpinnerView","design/views/MainSettingsView":"design/views/MainSettingsView.univ","design/views/MasterDetailView":"design/views/MasterDetailView","design/views/MenuOverlayPopupView":"design/views/MenuOverlayPopupView.univ","design/views/NavigationBarView":"design/views/NavigationBarView.univ","design/views/NavigationBarViewManager":"design/views/NavigationBarViewManager.univ","design/views/ParentalControlsView":"design/views/ParentalControlsView.univ","design/views/PasswordChallengeView":"design/views/PasswordChallengeView.univ","design/views/PaymentMethodView":"design/views/PaymentMethodView.univ","design/views/PaywallPopupLinkView":"design/views/PaywallPopupLinkView.univ","design/views/PaywallView":"design/views/PaywallView.univ","design/views/PCDialogView":"design/views/PCDialogView.univ","design/views/PercentageIndicatorView":"design/views/PercentageIndicatorView","design/views/PINDialogView":"design/views/PINDialogView.univ","design/views/PinInputView":"design/views/PinInputView","design/views/PopupLinkView":"design/views/PopupLinkView.univ","design/views/PopupView":"design/views/PopupView.univ","design/views/PopupViewBase":"design/views/PopupViewBase","design/views/ProfileOverlayView":"design/views/ProfileOverlayView.univ","design/views/ProfileView":"design/views/ProfileView.univ","design/views/RatingSettingView":"design/views/RatingSettingView.univ","design/views/react/ActivationClient/ActivationClientHeaderComponent":"design/views/react/ActivationClient/ActivationClientHeaderComponent.activation","design/views/react/ActivationClient/ActivationClientHeaderStyles":"design/views/react/ActivationClient/ActivationClientHeaderStyles.activation","design/views/react/ActivationClient/ActivationEntryContainer":"design/views/react/ActivationClient/ActivationEntryContainer.activation","design/views/react/ActivationClient/ActivationEntryStyles":"design/views/react/ActivationClient/ActivationEntryStyles.activation","design/views/react/AffiliateGrid/AffiliateGridComponent":"design/views/react/AffiliateGrid/AffiliateGridComponent.univ","design/views/react/AffiliateGrid/AffiliateGridStyles":"design/views/react/AffiliateGrid/AffiliateGridStyles.activation","design/views/react/AffiliateGrid/StoreGridComponent":"design/views/react/AffiliateGrid/StoreGridComponent.univ","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormComponent":"design/views/react/AffiliateSelectionForm/AffiliateSelectionFormComponent.activation","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormContainer":"design/views/react/AffiliateSelectionForm/AffiliateSelectionFormContainer.univ","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormNOWStyles":"design/views/react/AffiliateSelectionForm/AffiliateSelectionFormNOWStyles.activation","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormStyles":"design/views/react/AffiliateSelectionForm/AffiliateSelectionFormStyles.activation","design/views/react/atomic/components/DeviceListItemComponent":"design/views/react/atomic/components/DeviceListItemComponent","design/views/react/atomic/containers/settings/DeviceManagementContainer":"design/views/react/atomic/containers/settings/DeviceManagementContainer.univ","design/views/react/atomic/containers/settings/LanguageContainer":"design/views/react/atomic/containers/settings/LanguageContainer.univ","design/views/react/atomic/containers/settings/LanguageContainerStyles":"design/views/react/atomic/containers/settings/LanguageContainerStyles","design/views/react/atomic/containers/settings/NotificationsContainer":"design/views/react/atomic/containers/settings/NotificationsContainer.univ","design/views/react/atomic/containers/settings/NotificationsContainerStyles":"design/views/react/atomic/containers/settings/NotificationsContainerStyles","design/views/react/atomic/forms/FormCheckboxInputComponent":"design/views/react/atomic/forms/FormCheckboxInputComponent.univ","design/views/react/atomic/forms/FormCheckboxInputComponentStyles":"design/views/react/atomic/forms/FormCheckboxInputComponentStyles.univ","design/views/react/atomic/forms/FormDropdownInputComponent":"design/views/react/atomic/forms/FormDropdownInputComponent.univ","design/views/react/atomic/forms/FormTextInputComponent":"design/views/react/atomic/forms/FormTextInputComponent.univ","design/views/react/atomic/forms/SimpleFormComponent":"design/views/react/atomic/forms/SimpleFormComponent.univ","design/views/react/atomic/forms/StatusInlineComponent":"design/views/react/atomic/forms/StatusInlineComponent.univ","design/views/react/atomic/particles/CheckboxParticle":"design/views/react/atomic/particles/CheckboxParticle","design/views/react/atomic/particles/DropdownParticle":"design/views/react/atomic/particles/DropdownParticle","design/views/react/atomic/particles/ImageParticle":"design/views/react/atomic/particles/ImageParticle","design/views/react/atomic/particles/TextInputParticle":"design/views/react/atomic/particles/TextInputParticle.univ","design/views/react/atomic/particles/TextParticle":"design/views/react/atomic/particles/TextParticle","design/views/react/atomic/themes/legacy/common/DropdownParticleStyles":"design/views/react/atomic/themes/legacy/common/DropdownParticleStyles","design/views/react/atomic/themes/legacy/forms/FormDropdownInputStyles":"design/views/react/atomic/themes/legacy/forms/FormDropdownInputStyles.desktop","design/views/react/atomic/themes/legacy/forms/FormTextInputStyles":"design/views/react/atomic/themes/legacy/forms/FormTextInputStyles.desktop","design/views/react/atomic/themes/legacy/forms/SimpleFormStyles":"design/views/react/atomic/themes/legacy/forms/SimpleFormStyles.desktop","design/views/react/atomic/themes/legacy/forms/StatusInlineStyles":"design/views/react/atomic/themes/legacy/forms/StatusInlineStyles.univ","design/views/react/atomic/themes/spark/forms/FormTextInputStyles":"design/views/react/atomic/themes/spark/forms/FormTextInputStyles.desktop","design/views/react/atomic/themes/spark/forms/StatusInlineStyles":"design/views/react/atomic/themes/spark/forms/StatusInlineStyles.univ","design/views/react/atomic/utils/FormHandler":"design/views/react/atomic/utils/FormHandler.univ","design/views/react/ChangePin/ChangePinComponent":"design/views/react/ChangePin/ChangePinComponent","design/views/react/ChangePin/ChangePinContainer":"design/views/react/ChangePin/ChangePinContainer","design/views/react/ChangePin/ChangePinStyles":"design/views/react/ChangePin/ChangePinStyles","design/views/react/CommerceClient/CommerceClientContainer":"design/views/react/CommerceClient/CommerceClientContainer.commerce","design/views/react/CommerceClient/CommerceClientInfoComponent":"design/views/react/CommerceClient/CommerceClientInfoComponent.commerce","design/views/react/CommerceClient/CommerceClientStyles":"design/views/react/CommerceClient/CommerceClientStyles.commerce","design/views/react/CommerceClient/GiftCardEntryComponent":"design/views/react/CommerceClient/GiftCardEntryComponent.commerce","design/views/react/CommerceClient/PaymentMethodContainer":"design/views/react/CommerceClient/PaymentMethodContainer.commerce","design/views/react/CommerceClient/PromotionEntryComponent":"design/views/react/CommerceClient/PromotionEntryComponent.commerce","design/views/react/DirectCommerce/DirectCommerceContainer":"design/views/react/DirectCommerce/DirectCommerceContainer.univ","design/views/react/ForgotPassword/ForgotPasswordContainer":"design/views/react/ForgotPassword/ForgotPasswordContainer.univ","design/views/react/ForgotPassword/ResetPasswordContainer":"design/views/react/ForgotPassword/ResetPasswordContainer.univ","design/views/react/ForgotPassword/ResetPinContainer":"design/views/react/ForgotPassword/ResetPinContainer.univ","design/views/react/ForgotPin/ForgotPinComponent":"design/views/react/ForgotPin/ForgotPinComponent","design/views/react/ForgotPin/ForgotPinContainer":"design/views/react/ForgotPin/ForgotPinContainer","design/views/react/ForgotPin/ForgotPinStyles":"design/views/react/ForgotPin/ForgotPinStyles","design/views/react/Form/FormComponent":"design/views/react/Form/FormComponent","design/views/react/Form/FormHelpers":"design/views/react/Form/FormHelpers","design/views/react/Form/FormStyles":"design/views/react/Form/FormStyles","design/views/react/FormButton/FormActionButtonComponent":"design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormButton/FormButtonComponent":"design/views/react/FormButton/FormButtonComponent","design/views/react/FormButton/FormButtonStyles":"design/views/react/FormButton/FormButtonStyles","design/views/react/FormButton/FormCancelButtonComponent":"design/views/react/FormButton/FormCancelButtonComponent","design/views/react/FormErrorBlock/FormErrorBlockComponent":"design/views/react/FormErrorBlock/FormErrorBlockComponent","design/views/react/FormErrorBlock/FormErrorBlockStyles":"design/views/react/FormErrorBlock/FormErrorBlockStyles.activation","design/views/react/FormField/FormFieldComponent":"design/views/react/FormField/FormFieldComponent","design/views/react/FormField/FormFieldStyles":"design/views/react/FormField/FormFieldStyles","design/views/react/FormFooter/FormFooterComponent":"design/views/react/FormFooter/FormFooterComponent","design/views/react/FormFooter/FormFooterStyles":"design/views/react/FormFooter/FormFooterStyles","design/views/react/FormTitle/FormTitleComponent":"design/views/react/FormTitle/FormTitleComponent","design/views/react/FormTitle/FormTitleStyles":"design/views/react/FormTitle/FormTitleStyles","design/views/react/GeoUnitsSelector/GeoUnitsSelectorComponent":"design/views/react/GeoUnitsSelector/GeoUnitsSelectorComponent.commerce","design/views/react/GeoUnitsSelector/GeoUnitsSelectorStyles":"design/views/react/GeoUnitsSelector/GeoUnitsSelectorStyles.commerce","design/views/react/ImageFromFetcher":"design/views/react/ImageFromFetcher","design/views/react/InteractiveIndicator/InteractiveIndicatorComponent":"design/views/react/InteractiveIndicator/InteractiveIndicatorComponent","design/views/react/InteractiveIndicator/InteractiveIndicatorStyles":"design/views/react/InteractiveIndicator/InteractiveIndicatorStyles","design/views/react/ListView":"design/views/react/ListView","design/views/react/LoginWebControl/LoginWebControlComponent":"design/views/react/LoginWebControl/LoginWebControlComponent.univ","design/views/react/LoginWebControl/LoginWebControlContainer":"design/views/react/LoginWebControl/LoginWebControlContainer.activation","design/views/react/LoginWebControl/LoginWebControlStyles":"design/views/react/LoginWebControl/LoginWebControlStyles.univ","design/views/react/NewBadge":"design/views/react/NewBadge","design/views/react/Paywall/PaywallActionsContainer":"design/views/react/Paywall/PaywallActionsContainer.univ","design/views/react/Paywall/PaywallActionsContainerStyles":"design/views/react/Paywall/PaywallActionsContainerStyles.univ","design/views/react/Paywall/PaywallComponent":"design/views/react/Paywall/PaywallComponent","design/views/react/Paywall/PaywallComponentStyles":"design/views/react/Paywall/PaywallComponentStyles","design/views/react/PlayButton":"design/views/react/PlayButton","design/views/react/ProgressBar":"design/views/react/ProgressBar","design/views/react/RatingBar":"design/views/react/RatingBar","design/views/react/ReactPrimitives":"design/views/react/ReactPrimitives","design/views/react/TextInput/TextInputComponent":"design/views/react/TextInput/TextInputComponent","design/views/react/TextInput/TextInputStyles":"design/views/react/TextInput/TextInputStyles.desktop","design/views/react/TileViewComponent":"design/views/react/TileViewComponent.univ","design/views/react/ToggleButton":"design/views/react/ToggleButton","design/views/react/UserProfile/UserProfileComponent":"design/views/react/UserProfile/UserProfileComponent","design/views/react/UserProfile/UserProfileContainer":"design/views/react/UserProfile/UserProfileContainer.univ","design/views/react/UserProfile/UserProfileStyles":"design/views/react/UserProfile/UserProfileStyles","design/views/RegistrationFormView":"design/views/RegistrationFormView.univ","design/views/RestoreView":"design/views/RestoreView.univ","design/views/SeriesSeasonView":"design/views/SeriesSeasonView.univ","design/views/SettingsViewBase":"design/views/SettingsViewBase.univ","design/views/SignOutView":"design/views/SignOutView.univ","design/views/SliderView":"design/views/SliderView","design/views/TileView":"design/views/TileView.univ","design/views/ToastView":"design/views/ToastView.univ","design/views/ToggleView":"design/views/ToggleView","design/views/TransportControlsInteraction":"design/views/TransportControlsInteraction","design/views/TransportControlsView":"design/views/TransportControlsView.univ","design/views/TrickPlayBubbleView":"design/views/TrickPlayBubbleView.univ","design/views/UpdateParentalControlsView":"design/views/UpdateParentalControlsView.univ","design/views/UserCollectionToggleView":"design/views/UserCollectionToggleView","design/views/VersionInfoView":"design/views/VersionInfoView","design/views/VolumeSliderView":"design/views/VolumeSliderView.univ","design/views/WatchlistView":"design/views/WatchlistView.univ","design/VRModeSwitchContext":"design/VRModeSwitchContext.univ","design/VRModeSwitcher":"design/VRModeSwitcher.univ","design/WatchlistSortOrder":"design/WatchlistSortOrder.univ","engine/dependent/IScheduler":"engine/dependent/IScheduler","engine/dependent/ITime":"engine/dependent/ITime","engine/dependent/Scheduler":"engine/dependent/Scheduler.browser","engine/dependent/Time":"engine/dependent/Time.browser",EntryPoint:"EntryPoint","platform/ChromecastWrapper":"platform/ChromecastWrapper","platform/common/AccessibilityTrait":"platform/common/AccessibilityTrait","platform/common/AnimatableProperties":"platform/common/AnimatableProperties","platform/common/Animation":"platform/common/Animation","platform/common/ChromecastApplicationStatus":"platform/common/ChromecastApplicationStatus","platform/common/ClosedCaptioningColor":"platform/common/ClosedCaptioningColor","platform/common/ClosedCaptioningDisplayProperties":"platform/common/ClosedCaptioningDisplayProperties","platform/common/ClosedCaptioningFont":"platform/common/ClosedCaptioningFont","platform/common/ClosedCaptioningOpacity":"platform/common/ClosedCaptioningOpacity","platform/common/ClosedCaptioningSettingsBase":"platform/common/ClosedCaptioningSettingsBase","platform/common/ClosedCaptioningSize":"platform/common/ClosedCaptioningSize","platform/common/ClosedCaptioningStyle":"platform/common/ClosedCaptioningStyle","platform/common/Color":"platform/common/Color","platform/common/Colors":"platform/common/Colors","platform/common/DeepLinkAction":"platform/common/DeepLinkAction","platform/common/Dispatcher":"platform/common/Dispatcher","platform/common/DRM":"platform/common/DRM","platform/common/DRMType":"platform/common/DRMType","platform/common/HttpResponseType":"platform/common/HttpResponseType","platform/common/Interpolations":"platform/common/Interpolations","platform/common/KeyboardReturnKeyType":"platform/common/KeyboardReturnKeyType","platform/common/KeyboardType":"platform/common/KeyboardType","platform/common/KeyframesAnimation":"platform/common/KeyframesAnimation","platform/common/NetworkConnectionState":"platform/common/NetworkConnectionState","platform/common/PaywallConfirmation":"platform/common/PaywallConfirmation","platform/common/PlaybackErrors":"platform/common/PlaybackErrors","platform/common/PlaybackState":"platform/common/PlaybackState","platform/common/PlayerTypes":"platform/common/PlayerTypes","platform/common/PlayItem":"platform/common/PlayItem","platform/common/PlayItemType":"platform/common/PlayItemType","platform/common/Rating":"platform/common/Rating","platform/common/ScrollUtil":"platform/common/ScrollUtil","platform/common/Shadow":"platform/common/Shadow","platform/common/StorageScope":"platform/common/StorageScope","platform/common/StoreReceipt":"platform/common/StoreReceipt","platform/common/StoreType":"platform/common/StoreType","platform/common/TextFormat":"platform/common/TextFormat","platform/common/TextInputMode":"platform/common/TextInputMode","platform/dependent/ActivationListener":"platform/dependent/ActivationListener.stub","platform/dependent/AirPlay":"platform/dependent/AirPlay.stub","platform/dependent/analytics/GTMLogger":"platform/dependent/analytics/GTMLogger.browser","platform/dependent/analytics/IGTMLogger":"platform/dependent/analytics/IGTMLogger","platform/dependent/Base64Binary":"platform/dependent/Base64Binary.browser","platform/dependent/BootstrapperStorage":"platform/dependent/BootstrapperStorage.stub","platform/dependent/Chromecast":"platform/dependent/Chromecast.browser","platform/dependent/ChromecastBase":"platform/dependent/ChromecastBase","platform/dependent/ChromecastDevice":"platform/dependent/ChromecastDevice","platform/dependent/ClosedCaptioningSettings":"platform/dependent/ClosedCaptioningSettings","platform/dependent/diagnostics/ConsoleLogger":"platform/dependent/diagnostics/ConsoleLogger.browser","platform/dependent/diagnostics/IConsoleLogger":"platform/dependent/diagnostics/IConsoleLogger","platform/dependent/diagnostics/IPerformance":"platform/dependent/diagnostics/IPerformance","platform/dependent/diagnostics/Performance":"platform/dependent/diagnostics/Performance.browser","platform/dependent/diagnostics/PerformanceBase":"platform/dependent/diagnostics/PerformanceBase","platform/dependent/diagnostics/PerformanceBrowserBase":"platform/dependent/diagnostics/PerformanceBrowserBase","platform/dependent/diagnostics/PerformanceTimespan":"platform/dependent/diagnostics/PerformanceTimespan","platform/dependent/DirectCommerce":"platform/dependent/DirectCommerce.browser","platform/dependent/DOMProcessBase":"platform/dependent/DOMProcessBase.browser","platform/dependent/graphics/BitmapSource":"platform/dependent/graphics/BitmapSource.stub","platform/dependent/graphics/DirectCommerceDisplayNode":"platform/dependent/graphics/DirectCommerceDisplayNode.browser","platform/dependent/graphics/DisplayNode":"platform/dependent/graphics/DisplayNode.browser","platform/dependent/graphics/DisplayNodeBase":"platform/dependent/graphics/DisplayNodeBase.browser","platform/dependent/graphics/DisplayNodeDebugger":"platform/dependent/graphics/DisplayNodeDebugger.browser","platform/dependent/graphics/DOMElementWrapper":"platform/dependent/graphics/DOMElementWrapper.browser","platform/dependent/graphics/DynamicStyleManager":"platform/dependent/graphics/DynamicStyleManager.browser","platform/dependent/graphics/Hyperlink":"platform/dependent/graphics/Hyperlink.browser","platform/dependent/graphics/HyperlinkBase":"platform/dependent/graphics/HyperlinkBase.browser","platform/dependent/graphics/HyperlinkSpan":"platform/dependent/graphics/HyperlinkSpan.browser","platform/dependent/graphics/HyperlinkSpanBase":"platform/dependent/graphics/HyperlinkSpanBase.browser","platform/dependent/graphics/IBitmapSource":"platform/dependent/graphics/IBitmapSource","platform/dependent/graphics/IDisplayNode":"platform/dependent/graphics/IDisplayNode","platform/dependent/graphics/IDisplayNodeDebugger":"platform/dependent/graphics/IDisplayNodeDebugger","platform/dependent/graphics/IHyperlink":"platform/dependent/graphics/IHyperlink","platform/dependent/graphics/IHyperlinkSpan":"platform/dependent/graphics/IHyperlinkSpan","platform/dependent/graphics/IImage":"platform/dependent/graphics/IImage","platform/dependent/graphics/Image":"platform/dependent/graphics/Image.browser","platform/dependent/graphics/IScroller":"platform/dependent/graphics/IScroller","platform/dependent/graphics/ISelector":"platform/dependent/graphics/ISelector","platform/dependent/graphics/ISpan":"platform/dependent/graphics/ISpan","platform/dependent/graphics/ITextBlock":"platform/dependent/graphics/ITextBlock","platform/dependent/graphics/ITextInput":"platform/dependent/graphics/ITextInput","platform/dependent/graphics/IViewport":"platform/dependent/graphics/IViewport","platform/dependent/graphics/IWebFrame":"platform/dependent/graphics/IWebFrame","platform/dependent/graphics/Scroller":"platform/dependent/graphics/Scroller.browser","platform/dependent/graphics/ScrollerBase":"platform/dependent/graphics/ScrollerBase.browser","platform/dependent/graphics/Selector":"platform/dependent/graphics/Selector.browser","platform/dependent/graphics/Span":"platform/dependent/graphics/Span.browser","platform/dependent/graphics/TextBlock":"platform/dependent/graphics/TextBlock.browser","platform/dependent/graphics/TextInput":"platform/dependent/graphics/TextInput.browser","platform/dependent/graphics/Viewport":"platform/dependent/graphics/Viewport.browser","platform/dependent/graphics/ViewportBase":"platform/dependent/graphics/ViewportBase.browser","platform/dependent/graphics/WebFrame":"platform/dependent/graphics/WebFrame.browser","platform/dependent/graphics/WebFrameBase":"platform/dependent/graphics/WebFrameBase.browser","platform/dependent/HiltonSetTopBox":"platform/dependent/HiltonSetTopBox.stub","platform/dependent/HttpClient":"platform/dependent/HttpClient.browser","platform/dependent/IActivationListener":"platform/dependent/IActivationListener","platform/dependent/IAirPlay":"platform/dependent/IAirPlay","platform/dependent/IBootstrapperStorage":"platform/dependent/IBootstrapperStorage","platform/dependent/IChromecast":"platform/dependent/IChromecast","platform/dependent/IChromecastDevice":"platform/dependent/IChromecastDevice","platform/dependent/IClosedCaptioningSettings":"platform/dependent/IClosedCaptioningSettings","platform/dependent/IDirectCommerce":"platform/dependent/IDirectCommerce","platform/dependent/IHttpClient":"platform/dependent/IHttpClient","platform/dependent/IMediaController":"platform/dependent/IMediaController","platform/dependent/input/ButtonDeviceKeyboard":"platform/dependent/input/ButtonDeviceKeyboard.browser","platform/dependent/input/ButtonDeviceKeyMap":"platform/dependent/input/ButtonDeviceKeyMap.browser","platform/dependent/input/ButtonDeviceKeyMapBase":"platform/dependent/input/ButtonDeviceKeyMapBase","platform/dependent/input/ButtonDeviceManager":"platform/dependent/input/ButtonDeviceManager.browser","platform/dependent/input/ButtonDeviceMedia":"platform/dependent/input/ButtonDeviceMedia.browser","platform/dependent/input/IButtonDevice":"platform/dependent/input/IButtonDevice","platform/dependent/input/IButtonDeviceManager":"platform/dependent/input/IButtonDeviceManager","platform/dependent/input/IPointerDevice":"platform/dependent/input/IPointerDevice","platform/dependent/input/IPointerDeviceManager":"platform/dependent/input/IPointerDeviceManager","platform/dependent/input/PointerDevice":"platform/dependent/input/PointerDevice.browser","platform/dependent/input/PointerDeviceBase":"platform/dependent/input/PointerDeviceBase.browser","platform/dependent/input/PointerDeviceManager":"platform/dependent/input/PointerDeviceManager.browser","platform/dependent/IProcess":"platform/dependent/IProcess","platform/dependent/ISingleSignOn":"platform/dependent/ISingleSignOn","platform/dependent/ISocket":"platform/dependent/ISocket","platform/dependent/ISound":"platform/dependent/ISound","platform/dependent/IStartupLaunchArgs":"platform/dependent/IStartupLaunchArgs","platform/dependent/IStorage":"platform/dependent/IStorage","platform/dependent/IStore":"platform/dependent/IStore","platform/dependent/ITravelLog":"platform/dependent/ITravelLog","platform/dependent/IUser":"platform/dependent/IUser","platform/dependent/MediaController":"platform/dependent/MediaController","platform/dependent/NativeAccessStatus":"platform/dependent/NativeAccessStatus","platform/dependent/NativeDialogType":"platform/dependent/NativeDialogType","platform/dependent/PooledSound":"platform/dependent/PooledSound","platform/dependent/Process":"platform/dependent/Process.browser","platform/dependent/SingleSignOn":"platform/dependent/SingleSignOn.stub","platform/dependent/SingleSignOnBase":"platform/dependent/SingleSignOnBase","platform/dependent/Socket":"platform/dependent/Socket.browser","platform/dependent/SocketBase":"platform/dependent/SocketBase","platform/dependent/Sound":"platform/dependent/Sound.browser","platform/dependent/StartupLaunchArgs":"platform/dependent/StartupLaunchArgs.stub","platform/dependent/Storage":"platform/dependent/Storage.browser","platform/dependent/Store":"platform/dependent/Store.stub","platform/dependent/TravelLog":"platform/dependent/TravelLog.browser","platform/dependent/User":"platform/dependent/User.browser","platform/diagnostics/ButtonLogEntry":"platform/diagnostics/ButtonLogEntry","platform/diagnostics/ConsoleLogHandler":"platform/diagnostics/ConsoleLogHandler","platform/diagnostics/HttpCancelLogEntry":"platform/diagnostics/HttpCancelLogEntry","platform/diagnostics/HttpCountersLogHandler":"platform/diagnostics/HttpCountersLogHandler","platform/diagnostics/HttpRequestLogEntry":"platform/diagnostics/HttpRequestLogEntry","platform/diagnostics/HttpResponseLogEntry":"platform/diagnostics/HttpResponseLogEntry","platform/diagnostics/InputCountersLogHandler":"platform/diagnostics/InputCountersLogHandler","platform/diagnostics/Performance":"platform/diagnostics/Performance","platform/diagnostics/PerformanceMarkListener":"platform/diagnostics/PerformanceMarkListener","platform/diagnostics/PerformanceTimingLogEntry":"platform/diagnostics/PerformanceTimingLogEntry","platform/diagnostics/PointerLogEntry":"platform/diagnostics/PointerLogEntry","platform/diagnostics/Timer":"platform/diagnostics/Timer","platform/graphics/DisplayTree":"platform/graphics/DisplayTree","platform/HttpClient":"platform/HttpClient","platform/HttpStatus":"platform/HttpStatus","platform/input/ButtonProvider":"platform/input/ButtonProvider","platform/input/Buttons":"platform/input/Buttons","platform/input/KeyCodes":"platform/input/KeyCodes","platform/input/PointerProvider":"platform/input/PointerProvider","platform/NetworkCodes":"platform/NetworkCodes","platform/NetworkException":"platform/NetworkException","platform/PlatformDeveloperSettings":"platform/PlatformDeveloperSettings","platform/ProcessBase":"platform/ProcessBase","platform/SingleSignOnWrapper":"platform/SingleSignOnWrapper","platform/StoreWrapper":"platform/StoreWrapper","ui/AbsoluteLayout":"ui/AbsoluteLayout","ui/AfterExitActions":"ui/AfterExitActions","ui/AnchoredLayout":"ui/AnchoredLayout","ui/Axis":"ui/Axis","ui/AxisLayout":"ui/AxisLayout","ui/ContentAlignment":"ui/ContentAlignment","ui/ContentJustification":"ui/ContentJustification","ui/DirectionalBooleans":"ui/DirectionalBooleans","ui/DirectionalNumbers":"ui/DirectionalNumbers","ui/FlexboxLayout":"ui/FlexboxLayout","ui/FlexDirection":"ui/FlexDirection","ui/GridLayout":"ui/GridLayout","ui/IItemSelector":"ui/IItemSelector","ui/IItemsView":"ui/IItemsView","ui/ILayout":"ui/ILayout","ui/input/ButtonRepeatHelper":"ui/input/ButtonRepeatHelper","ui/input/InputManager":"ui/input/InputManager","ui/input/InputScope":"ui/input/InputScope","ui/InvokeHandler":"ui/InvokeHandler","ui/ITargetableHighlight":"ui/ITargetableHighlight","ui/LayoutBase":"ui/LayoutBase","ui/LayoutProps":"ui/LayoutProps","ui/Localization":"ui/Localization","ui/logging/UserInteractionLogEntry":"ui/logging/UserInteractionLogEntry","ui/logging/ViewportChangeLogEntry":"ui/logging/ViewportChangeLogEntry","ui/navigation/Breadcrumb":"ui/navigation/Breadcrumb","ui/navigation/ExceptionManager":"ui/navigation/ExceptionManager","ui/navigation/ExceptionRecoveryLogHandler":"ui/navigation/ExceptionRecoveryLogHandler","ui/navigation/NavigationException":"ui/navigation/NavigationException","ui/navigation/Navigator":"ui/navigation/Navigator","ui/navigation/PageViewLogEntry":"ui/navigation/PageViewLogEntry","ui/navigation/ViewHost":"ui/navigation/ViewHost","ui/navigation/ViewReadyLogEntry":"ui/navigation/ViewReadyLogEntry","ui/Presence":"ui/Presence","ui/ReactComponentDescriptor":"ui/ReactComponentDescriptor","ui/ReactComponentRegistry":"ui/ReactComponentRegistry","ui/ReactTypeMap":"ui/ReactTypeMap","ui/ReactUIManager":"ui/ReactUIManager","ui/ScaleMode":"ui/ScaleMode","ui/SoundManager":"ui/SoundManager","ui/StackedLayout":"ui/StackedLayout","ui/StyleSheet":"ui/StyleSheet","ui/Template":"ui/Template","ui/TemplateFactory":"ui/TemplateFactory","ui/TemplateManager":"ui/TemplateManager","ui/Transition":"ui/Transition","ui/TransitionManager":"ui/TransitionManager",
"ui/UIDeveloperSettings":"ui/UIDeveloperSettings","ui/UISettings":"ui/UISettings","ui/ViewFactory":"ui/ViewFactory","ui/ViewHostFactory":"ui/ViewHostFactory","ui/ViewModelFactory":"ui/ViewModelFactory","ui/viewModelProviders/CompositeViewModelProvider":"ui/viewModelProviders/CompositeViewModelProvider","ui/viewModelProviders/ItemsFromArrayProvider":"ui/viewModelProviders/ItemsFromArrayProvider","ui/viewModelProviders/ItemsFromPropertyProvider":"ui/viewModelProviders/ItemsFromPropertyProvider","ui/viewModelProviders/TextFromStringProvider":"ui/viewModelProviders/TextFromStringProvider","ui/viewModelProviders/ValueArrayProvider":"ui/viewModelProviders/ValueArrayProvider","ui/viewModelProviders/ValueProvider":"ui/viewModelProviders/ValueProvider","ui/viewModelProviders/VersionInfoViewModelProvider":"ui/viewModelProviders/VersionInfoViewModelProvider","ui/viewModelProviders/ViewModelProvider":"ui/viewModelProviders/ViewModelProvider","ui/viewModels/CompositeViewModel":"ui/viewModels/CompositeViewModel","ui/viewModels/DynamicTextViewModel":"ui/viewModels/DynamicTextViewModel","ui/viewModels/ItemsViewModel":"ui/viewModels/ItemsViewModel","ui/viewModels/TextViewModel":"ui/viewModels/TextViewModel","ui/viewModels/ValueArrayViewModel":"ui/viewModels/ValueArrayViewModel","ui/viewModels/ValueViewModel":"ui/viewModels/ValueViewModel","ui/viewModels/ViewModel":"ui/viewModels/ViewModel","ui/viewModels/WebFrameViewModel":"ui/viewModels/WebFrameViewModel","ui/ViewRegistration":"ui/ViewRegistration","ui/ViewRegistrations":"ui/ViewRegistrations","ui/views/ButtonScrollView":"ui/views/ButtonScrollView","ui/views/ClosedCaptioningTextView":"ui/views/ClosedCaptioningTextView","ui/views/ClosedCaptioningWindowView":"ui/views/ClosedCaptioningWindowView","ui/views/CompositeView":"ui/views/CompositeView","ui/views/DirectCommerceView":"ui/views/DirectCommerceView","ui/views/DynamicTextView":"ui/views/DynamicTextView","ui/views/ImageModelView":"ui/views/ImageModelView","ui/views/ImageView":"ui/views/ImageView","ui/views/InvokeableView":"ui/views/InvokeableView","ui/views/ItemsView":"ui/views/ItemsView","ui/views/ItemsViewBase":"ui/views/ItemsViewBase","ui/views/MarkdownTextView":"ui/views/MarkdownTextView","ui/views/ReactHostView":"ui/views/ReactHostView","ui/views/ReactItemsView":"ui/views/ReactItemsView","ui/views/RootView":"ui/views/RootView","ui/views/ScrollView":"ui/views/ScrollView","ui/views/SelectorView":"ui/views/SelectorView","ui/views/SimpleHyperlinkView":"ui/views/SimpleHyperlinkView","ui/views/TextInputView":"ui/views/TextInputView","ui/views/TextView":"ui/views/TextView","ui/views/View":"ui/views/View","ui/views/WebFrameView":"ui/views/WebFrameView","ui/ViewStates":"ui/ViewStates","ui/VisitDownActions":"ui/VisitDownActions","ui/WrappedLayout":"ui/WrappedLayout"},docModules:[],testModules:[],buildEnvironment:"ci",commit:"cdefd78d3ceff8df8d0419aa3b309ef3a5b7cbfe",branch:"origin/master",buildJob:"hadron-ci-web-deploy-hbonowcmr-ci",buildNumber:235,buildTimestamp:"2019-1-10-20-46",version:"20.0.0.135",bootstrapURL:"http://10.16.113.30:3000/"}}(this),function(){"use strict";define("core/oop/classDefContext",{currentClass:void 0,memberTarget:void 0,hasExplicitCtor:!1,staticCtor:void 0,qualifiedClassName:void 0})}(),function(){"use strict";define("core/oop/diagnostics",[],function(){return{emitter:void 0,sealObject:function(e,t){e.hasOwnProperty("__Jasmine_been_here_before__")||Object.defineProperty(e,"__Jasmine_been_here_before__",{enumerable:!1,writable:!0,configurable:!0}),t(e)}}})}(),define("lib/lodash/internals/objectTypes",[],function(){return{boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1}}),define("lib/lodash/objects/isObject",["../internals/objectTypes"],function(e){function t(t){return!(!t||!e[typeof t])}return t}),define("lib/lodash/internals/noop",[],function(){function e(){}return e}),define("lib/lodash/internals/reNative",[],function(){var e=Object.prototype;return RegExp("^"+String(e.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$")}),define("lib/lodash/internals/createObject",["../objects/isObject","./noop","./reNative"],function(e,t,i){function n(t){return e(t)?o(t):{}}var o=(Object.prototype,i.test(o=Object.create)&&o);return o||(n=function(i){if(e(i)){t.prototype=i;var n=new t;t.prototype=null}return n||{}}),n}),define("lib/lodash/objects/isFunction",[],function(){function e(e){return"function"==typeof e}var t=Object.prototype,i=t.toString;return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==i.call(e)}),e}),define("lib/lodash/internals/setBindData",["./noop","./reNative"],function(e,t){var i={configurable:!1,enumerable:!1,value:null,writable:!1},n=(Object.prototype,function(){try{var e={},i=t.test(i=Object.defineProperty)&&i,n=i(e,e,e)&&i}catch(e){}return n}());return n?function(e,t){i.value=t,n(e,"__bindData__",i)}:e}),define("lib/lodash/support",["./internals/reNative"],function(e){var t=/\bthis\b/,i=[],n=Error.prototype,o=Object.prototype,r=o.propertyIsEnumerable,a=o.toString,s=e.test(s=a.bind)&&s,l=e.test(window.attachEvent),c=s&&!/\n|true/.test(s+l),d={};return function(){var o=function(){this.x=1},l={0:1,length:1},u=[];o.prototype={valueOf:1,y:1};for(var p in new o)u.push(p);for(p in arguments);d.argsClass="[object Arguments]"==a.call(arguments),d.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),d.enumErrorProps=r.call(n,"message")||r.call(n,"name"),d.enumPrototypes=r.call(o,"prototype"),d.fastBind=s&&!c,d.funcDecomp=!e.test(window.WinRTError)&&t.test(function(){return this}),d.funcNames="string"==typeof Function.name,d.nonEnumArgs=0!=p,d.nonEnumShadows=!/valueOf/.test(u),d.ownLast="x"!=u[0],d.spliceObjects=(i.splice.call(l,0,1),!l[0]),d.unindexedChars="x"[0]+Object("x")[0]!="xx";try{d.nodeClass=!("[object Object]"==a.call(document)&&!({toString:0}+""))}catch(e){d.nodeClass=!0}}(1),d}),define("lib/lodash/internals/createBound",["./createObject","../objects/isFunction","../objects/isObject","./reNative","./setBindData","../support"],function(e,t,i,n,o,r){function a(n,s,l,d,g,f){var m=1&s,v=2&s,_=4&s,y=8&s,w=16&s,b=32&s,S=n;if(!v&&!t(n))throw new TypeError;w&&!l.length&&(s&=-17,w=l=!1),b&&!d.length&&(s&=-33,b=d=!1);var C=n&&n.__bindData__;if(C)return!m||1&C[1]||(C[4]=g),!m&&1&C[1]&&(s|=8),!_||4&C[1]||(C[5]=f),w&&c.apply(C[2]||(C[2]=[]),l),b&&c.apply(C[3]||(C[3]=[]),d),C[1]|=s,a.apply(null,C);if(m&&!(v||_||b)&&(r.fastBind||p&&w)){if(w){var T=[g];c.apply(T,l)}var R=w?p.apply(n,T):p.call(n,g)}else R=function(){var t=arguments,o=m?g:this;if((_||w||b)&&(t=h.call(t),w&&u.apply(t,l),b&&c.apply(t,d),_&&t.length<f))return s|=16,a(n,y?s:-4&s,t,null,g,f);if(v&&(n=o[S]),this instanceof R){o=e(n.prototype);var r=n.apply(o,t);return i(r)?r:o}return n.apply(o,t)};return o(R,h.call(arguments)),R}var s=[],l=Object.prototype,c=s.push,d=l.toString,u=s.unshift,p=n.test(p=d.bind)&&p,h=s.slice;return a}),define("lib/lodash/functions/bind",["../internals/createBound","../internals/reNative","../support"],function(e,t,i){function n(t,i){return arguments.length>2?e(t,17,r.call(arguments,2),null,i):e(t,1,null,null,i)}var o=[],r=o.slice;return n}),define("lib/lodash/utilities/identity",[],function(){function e(e){return e}return e}),define("lib/lodash/internals/baseCreateCallback",["../functions/bind","../utilities/identity","./setBindData","../support"],function(e,t,i,n){function o(o,l,c){if("function"!=typeof o)return t;if(void 0===l)return o;var d=o.__bindData__||n.funcNames&&!o.name;if(void 0===d){var u=a&&s.call(o);n.funcNames||!u||r.test(u)||(d=!0),!n.funcNames&&d||(d=!n.funcDecomp||a.test(u),i(o,d))}if(!0!==d&&d&&1&d[1])return o;switch(c){case 1:return function(e){return o.call(l,e)};case 2:return function(e,t){return o.call(l,e,t)};case 3:return function(e,t,i){return o.call(l,e,t,i)};case 4:return function(e,t,i,n){return o.call(l,e,t,i,n)}}return e(o,l)}var r=/^function[ \n\r\t]+\w/,a=/\bthis\b/,s=Function.prototype.toString;return o}),define("lib/lodash/internals/indicatorObject",[],function(){return{}}),define("lib/lodash/objects/isArguments",["../support"],function(e){function t(e){return e&&"object"==typeof e&&"number"==typeof e.length&&r.call(e)==i||!1}var i="[object Arguments]",n=Object.prototype,o=n.hasOwnProperty,r=n.toString;return e.argsClass||(t=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&o.call(e,"callee")||!1}),t}),define("lib/lodash/objects/isArray",["../internals/reNative"],function(e){var t=Object.prototype,i=t.toString,n=e.test(n=Array.isArray)&&n;return n||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"==i.call(e)||!1}}),define("lib/lodash/objects/isString",[],function(){function e(e){return"string"==typeof e||n.call(e)==t}var t="[object String]",i=Object.prototype,n=i.toString;return e}),define("lib/lodash/internals/iteratorTemplate",["../support"],function(e){return function(t){var i="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(i+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",e.unindexedChars&&(i+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),i+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):e.nonEnumArgs&&(i+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),e.enumPrototypes&&(i+="\n  var skipProto = typeof iterable == 'function';\n  "),e.enumErrorProps&&(i+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(e.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),e.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)i+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(i+="    if ("+n.join(" && ")+") {\n  "),i+=t.loop+";    ",n.length&&(i+="\n    }"),i+="\n  }  ";else if(i+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(i+="    if ("+n.join(" && ")+") {\n  "),i+=t.loop+";    ",n.length&&(i+="\n    }"),i+="\n  }    ",e.nonEnumShadows){for(i+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;k<7;k++)i+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(i+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),i+=") {\n      "+t.loop+";\n    }      ";i+="\n  }    "}return(t.array||e.nonEnumArgs)&&(i+="\n}"),i+=t.bottom+";\nreturn result"}}),define("lib/lodash/internals/createIterator",["./baseCreateCallback","./indicatorObject","../objects/isArguments","../objects/isArray","../objects/isString","./iteratorTemplate","./objectTypes"],function(e,t,i,n,o,r,a){function s(){u.shadowedProps=l,u.array=u.bottom=u.loop=u.top="",u.init="iterable",u.useHas=!0;for(var s,_=0;s=arguments[_];_++)for(var y in s)u[y]=s[y];var w=u.args;return u.firstArg=/^[^,]+/.exec(w)[0],Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+w+") {\n"+r(u)+"\n}")(e,c,p,f,t,i,n,o,u.keys,h,a,v,d,g,m)}var l=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],c="[object Error]",d="[object String]",u={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},p=Error.prototype,h=Object.prototype,g=String.prototype,f=h.hasOwnProperty,m=h.toString,v={};return v["[object Array]"]=v["[object Date]"]=v["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},v["[object Boolean]"]=v[d]={constructor:!0,toString:!0,valueOf:!0},v[c]=v["[object Function]"]=v["[object RegExp]"]={constructor:!0,toString:!0},v["[object Object]"]={constructor:!0},function(){for(var e=l.length;e--;){var t=l[e];for(var i in v)f.call(v,i)&&!f.call(v[i],t)&&(v[i][t]=!1)}}(),s}),define("lib/lodash/internals/shimKeys",["./createIterator"],function(e){return e({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"})}),define("lib/lodash/objects/keys",["./isArguments","./isObject","../internals/reNative","../internals/shimKeys","../support"],function(e,t,i,n,o){var r=(Object.prototype,i.test(r=Object.keys)&&r);return r?function(i){return t(i)?o.enumPrototypes&&"function"==typeof i||o.nonEnumArgs&&i.length&&e(i)?n(i):r(i):[]}:n}),define("lib/lodash/internals/eachIteratorOptions",["../objects/keys"],function(e){return{args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:e,loop:"if (callback(iterable[index], index, collection) === false) return result"}}),define("lib/lodash/internals/forOwnIteratorOptions",["./eachIteratorOptions"],function(e){return{top:"if (!objectTypes[typeof iterable]) return result;\n"+e.top,array:!1}}),define("lib/lodash/objects/forOwn",["../internals/createIterator","../internals/eachIteratorOptions","../internals/forOwnIteratorOptions"],function(e,t,i){return e(t,i)}),function(){"use strict";define("core/oop/typeRegistry",[],function(){return{isEnabled:!1,_typeRegister:{},register:function(e,t){this.isEnabled&&(this._typeRegister[e]=t)},get:function(e){return this._typeRegister[e]}}})}(),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("lib/react",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){return o(t[a][1][e]||e)},d,d.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(69),r=e(9),a=(e(95),function(){function e(t){n(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,i=this._arg;if(e&&t){e.length!==t.length&&o("24"),this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n],i);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());t.exports=r.addPoolingTo(a)},{69:69,9:9,95:95}],2:[function(e,t,i){"use strict";function n(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function o(e,t,i){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!i.disabled||!n(t));default:return!1}}var r=e(69),a=e(3),s=e(4),l=e(17),c=e(59),d=e(66),u=(e(95),{}),p=null,h=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},g=function(e){return h(e,!0)},f=function(e){return h(e,!1)},m=function(e){return"."+e._rootNodeID},v={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,i){"function"!=typeof i&&r("94",t,typeof i);var n=m(e);(u[t]||(u[t]={}))[n]=i;var o=a.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,i)},getListener:function(e,t){var i=u[t];if(o(t,e._currentElement.type,e._currentElement.props))return null;var n=m(e);return i&&i[n]},deleteListener:function(e,t){var i=a.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t);var n=u[t];n&&delete n[m(e)]},deleteAllListeners:function(e){var t=m(e);for(var i in u)if(u.hasOwnProperty(i)&&u[i][t]){var n=a.registrationNameModules[i];n&&n.willDeleteListener&&n.willDeleteListener(e,i),delete u[i][t]}},extractEvents:function(e,t,i,n){for(var o,r=a.plugins,s=0;s<r.length;s++){var l=r[s];if(l){var d=l.extractEvents(e,t,i,n);d&&(o=c(o,d))}}return o},enqueueEvents:function(e){e&&(p=c(p,e))},processEventQueue:function(e){var t=p;p=null,e?d(t,g):d(t,f),p&&r("95"),l.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=v},{17:17,3:3,4:4,59:59,66:66,69:69,95:95}],3:[function(e,t,i){"use strict";function n(){if(s)for(var e in l){var t=l[e],i=s.indexOf(e);if(i>-1||a("96",e),!c.plugins[i]){t.extractEvents||a("97",e),c.plugins[i]=t;var n=t.eventTypes;for(var r in n)o(n[r],t,r)||a("98",r,e)}}}function o(e,t,i){c.eventNameDispatchConfigs.hasOwnProperty(i)&&a("99",i),c.eventNameDispatchConfigs[i]=e;var n=e.phasedRegistrationNames;if(n){for(var o in n)if(n.hasOwnProperty(o)){var s=n[o];r(s,t,i)}return!0}return!!e.registrationName&&(r(e.registrationName,t,i),!0)}function r(e,t,i){c.registrationNameModules[e]&&a("100",e),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[i].dependencies}var a=e(69),s=(e(95),null),l={},c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];l.hasOwnProperty(i)&&l[i]===o||(l[i]&&a("102",i),l[i]=o,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var i=t.phasedRegistrationNames;for(var n in i)if(i.hasOwnProperty(n)){var o=c.registrationNameModules[i[n]];if(o)return o}}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var i in t)t.hasOwnProperty(i)&&delete t[i];var n=c.registrationNameModules;for(var o in n)n.hasOwnProperty(o)&&delete n[o]}};t.exports=c},{69:69,95:95}],4:[function(e,t,i){"use strict";function n(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function o(e){return"topMouseMove"===e||"topTouchMove"===e}function r(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,i,n){var o=e.type||"unknown-event";e.currentTarget=v.getNodeFromInstance(n),t?f.invokeGuardedCallbackWithCatch(o,i,e):f.invokeGuardedCallback(o,i,e),e.currentTarget=null}function s(e,t){var i=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(i))for(var o=0;o<i.length&&!e.isPropagationStopped();o++)a(e,t,i[o],n[o]);else i&&a(e,t,i,n);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,i[n]))return i[n]}else if(t&&t(e,i))return i;return null}function c(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function d(e){var t=e._dispatchListeners,i=e._dispatchInstances;Array.isArray(t)&&g("103"),e.currentTarget=t?v.getNodeFromInstance(i):null;var n=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function u(e){return!!e._dispatchListeners}var p,h,g=e(69),f=e(17),m=(e(95),e(97),{injectComponentTree:function(e){p=e},injectTreeTraversal:function(e){h=e}}),v={isEndish:n,isMoveish:o,isStartish:r,executeDirectDispatch:d,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:u,getInstanceFromNode:function(e){return p.getInstanceFromNode(e)},getNodeFromInstance:function(e){return p.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,i){return h.traverseTwoPhase(e,t,i)},traverseEnterLeave:function(e,t,i,n,o){return h.traverseEnterLeave(e,t,i,n,o)},injection:m};t.exports=v},{17:17,69:69,95:95,97:97}],5:[function(e,t,i){"use strict";function n(e,t,i){var n=t.dispatchConfig.phasedRegistrationNames[i];return v(e,n)}function o(e,t,i){var o=n(e,i,t);o&&(i._dispatchListeners=f(i._dispatchListeners,o),i._dispatchInstances=f(i._dispatchInstances,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&g.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,i=t?g.getParentInstance(t):null;g.traverseTwoPhase(i,o,e)}}function s(e,t,i){if(i&&i.dispatchConfig.registrationName){var n=i.dispatchConfig.registrationName,o=v(e,n);o&&(i._dispatchListeners=f(i._dispatchListeners,o),i._dispatchInstances=f(i._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function c(e){m(e,r)}function d(e){m(e,a)}function u(e,t,i,n){g.traverseEnterLeave(i,n,s,e,t)}function p(e){m(e,l)}var h=e(2),g=e(4),f=e(59),m=e(66),v=(e(97),h.getListener),_={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:d,accumulateDirectDispatches:p,accumulateEnterLeaveDispatches:u};t.exports=_},{2:2,4:4,59:59,66:66,97:97}],6:[function(e,t,i){"use strict";var n={};t.exports=n},{}],7:[function(e,t,i){"use strict";function n(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function o(e){var t=/(=0|=2)/g,i={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return i[e]})}var r={escape:n,unescape:o};t.exports=r},{}],8:[function(e,t,i){"use strict";function n(e,t){return function(){if(t&&("function"!=typeof e.isMounted||e.isMounted()))return t.apply(e,arguments)}}var o=(e(69),e(26)),r=e(54),a=e(56),s=e(63),l=(e(95),{measure:function(e){a.measure(s(this),n(this,e))},measureInWindow:function(e){a.measureInWindow(s(this),n(this,e))},measureLayout:function(e,t,i){a.measureLayout(s(this),e,n(this,i),n(this,t))},setNativeProps:function(e){var t=o.create(e,this.viewConfig.validAttributes);a.updateView(s(this),this.viewConfig.uiViewClassName,t)},focus:function(){r.focusTextInput(s(this))},blur:function(){r.blurTextInput(s(this))}});t.exports=l},{26:26,54:54,56:56,63:63,69:69,95:95}],9:[function(e,t,i){"use strict";var n=e(69),o=(e(95),function(e){var t=this;if(t.instancePool.length){var i=t.instancePool.pop();return t.call(i,e),i}return new t(e)}),r=function(e,t){var i=this;if(i.instancePool.length){var n=i.instancePool.pop();return i.call(n,e,t),n}return new i(e,t)},a=function(e,t,i){var n=this;if(n.instancePool.length){var o=n.instancePool.pop();return n.call(o,e,t,i),o}return new n(e,t,i)},s=function(e,t,i,n){var o=this;if(o.instancePool.length){var r=o.instancePool.pop();return o.call(r,e,t,i,n),r}return new o(e,t,i,n)},l=function(e){var t=this;e instanceof t||n("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=o,d=function(e,t){var i=e;return i.instancePool=[],i.getPooled=t||c,i.poolSize||(i.poolSize=10),i.release=l,i},u={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:r,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=u},{69:69,95:95}],10:[function(e,t,i){"use strict";var n={register:function(){}};t.exports=n},{}],11:[function(e,t,i){(function(i){"use strict";function n(e,t,i,n){var o=void 0===e[i];null!=t&&o&&(e[i]=r(t,!0))}var o=e(45),r=e(68),a=(e(7),e(70)),s=e(71);e(97),void 0!==i&&i.env;var l={instantiateChildren:function(e,t,i,o){if(null==e)return null;var r={};return s(e,n,r),r},updateChildren:function(e,t,i,n,s,l,c,d,u){if(t||e){var p,h;for(p in t)if(t.hasOwnProperty(p)){h=e&&e[p];var g=h&&h._currentElement,f=t[p];if(null!=h&&a(g,f))o.receiveComponent(h,f,s,d),t[p]=h;else{h&&(n[p]=o.getHostNode(h),o.unmountComponent(h,!1));var m=r(f,!0);t[p]=m;var v=o.mountComponent(m,s,l,c,d,u);i.push(v)}}for(p in e)!e.hasOwnProperty(p)||t&&t.hasOwnProperty(p)||(h=e[p],n[p]=o.getHostNode(h),o.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];o.unmountComponent(n,t)}}};t.exports=l}).call(this,void 0)},{45:45,68:68,7:7,70:70,71:71,97:97}],12:[function(e,t,i){"use strict";var n=e(69),o=(e(95),!1),r={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&n("104"),r.replaceNodeWithMarkup=e.replaceNodeWithMarkup,r.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=r},{69:69,95:95}],13:[function(e,t,i){"use strict";function n(e){}function o(e){return!(!e.prototype||!e.prototype.isReactComponent)}function r(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=e(69),s=e(98),l=e(74),c=e(12),d=e(78),u=e(17),p=e(22),h=(e(23),e(43)),g=e(45),f=e(94),m=(e(95),e(96)),v=e(70),_=(e(97),{ImpureClass:0,PureClass:1,StatelessFunctional:2});n.prototype.render=function(){return(0,p.get(this)._currentElement.type)(this.props,this.context,this.updater)};var y=1,w={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,i,s){this._context=s,this._mountOrder=y++,this._hostParent=t,this._hostContainerInfo=i;var c,d=this._currentElement.props,u=this._processContext(s),h=this._currentElement.type,g=e.getUpdateQueue(),m=o(h),v=this._constructComponent(m,d,u,g);m||null!=v&&null!=v.render?r(h)?this._compositeType=_.PureClass:this._compositeType=_.ImpureClass:(c=v,null===v||!1===v||l.isValidElement(v)||a("105",h.displayName||h.name||"Component"),v=new n(h),this._compositeType=_.StatelessFunctional),v.props=d,v.context=u,v.refs=f,v.updater=g,this._instance=v,p.set(v,this);var w=v.state;void 0===w&&(v.state=w=null),("object"!=typeof w||Array.isArray(w))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var b;return b=v.unstable_handleError?this.performInitialMountWithErrorHandling(c,t,i,e,s):this.performInitialMount(c,t,i,e,s),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),b},_constructComponent:function(e,t,i,n){return this._constructComponentWithoutOwner(e,t,i,n)},_constructComponentWithoutOwner:function(e,t,i,n){var o=this._currentElement.type;return e?new o(t,i,n):o(t,i,n)},performInitialMountWithErrorHandling:function(e,t,i,n,o){var r,a=n.checkpoint();try{r=this.performInitialMount(e,t,i,n,o)}catch(s){n.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=n.checkpoint(),this._renderedComponent.unmountComponent(!0),n.rollback(a),r=this.performInitialMount(e,t,i,n,o)}return r},performInitialMount:function(e,t,i,n,o){var r=this._instance;r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===e&&(e=this._renderValidatedComponent());var a=h.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==h.EMPTY);return this._renderedComponent=s,g.mountComponent(s,n,t,i,this._processChildContext(o),0)},getHostNode:function(){return g.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var i=this.getName()+".componentWillUnmount()";u.invokeGuardedCallback(i,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(g.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,i=t.contextTypes;if(!i)return f;var n={};for(var o in i)n[o]=e[o];return n},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,i=this._currentElement.type,n=this._instance;if(n.getChildContext&&(t=n.getChildContext()),t){"object"!=typeof i.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var o in t)o in i.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",o);return s({},e,t)}return e},_checkContextTypes:function(e,t,i){},receiveComponent:function(e,t,i){var n=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,n,e,o,i)},performUpdateIfNecessary:function(e){null!=this._pendingElement?g.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,i,n,o){var r=this._instance;null==r&&a("136",this.getName()||"ReactCompositeComponent");var s,l=!1;this._context===o?s=r.context:(s=this._processContext(o),l=!0);var c=t.props,d=i.props;t!==i&&(l=!0),l&&r.componentWillReceiveProps&&r.componentWillReceiveProps(d,s);var u=this._processPendingState(d,s),p=!0;this._pendingForceUpdate||(r.shouldComponentUpdate?p=r.shouldComponentUpdate(d,u,s):this._compositeType===_.PureClass&&(p=!m(c,d)||!m(r.state,u))),this._updateBatchNumber=null,p?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,d,u,s,e,o)):(this._currentElement=i,this._context=o,r.props=d,r.state=u,r.context=s)},_processPendingState:function(e,t){var i=this._instance,n=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return i.state;if(o&&1===n.length)return n[0];for(var r=s({},o?n[0]:i.state),a=o?1:0;a<n.length;a++){var l=n[a];s(r,"function"==typeof l?l.call(i,r,e,t):l)}return r},_performComponentUpdate:function(e,t,i,n,o,r){var a,s,l,c=this._instance,d=Boolean(c.componentDidUpdate);d&&(a=c.props,s=c.state,l=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,i,n),this._currentElement=e,this._context=r,c.props=t,c.state=i,c.context=n,this._updateRenderedComponent(o,r),d&&o.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,a,s,l),c)},_updateRenderedComponent:function(e,t){var i=this._renderedComponent,n=i._currentElement,o=this._renderValidatedComponent();if(v(n,o))g.receiveComponent(i,o,e,this._processChildContext(t));else{var r=g.getHostNode(i)
;g.unmountComponent(i,!1);var a=h.getType(o);this._renderedNodeType=a;var s=this._instantiateReactComponent(o,a!==h.EMPTY);this._renderedComponent=s;var l=g.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(r,l,i)}},_replaceNodeWithMarkup:function(e,t,i){c.replaceNodeWithMarkup(e,t,i)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==_.StatelessFunctional){d.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{d.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||l.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var i=this.getPublicInstance();null==i&&a("110");var n=t.getPublicInstance();(i.refs===f?i.refs={}:i.refs)[e]=n},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===_.StatelessFunctional?null:e},_instantiateReactComponent:null};t.exports=w},{12:12,17:17,22:22,23:23,43:43,45:45,69:69,70:70,74:74,78:78,94:94,95:95,96:96,97:97,98:98}],14:[function(e,t,i){"use strict";function n(){this.reinitializeTransaction()}var o=e(98),r=e(49),a=e(55),s=e(93),l={initialize:s,close:function(){p.isBatchingUpdates=!1}},c={initialize:s,close:r.flushBatchedUpdates.bind(r)},d=[c,l];o(n.prototype,a,{getTransactionWrappers:function(){return d}});var u=new n,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,i,n,o,r){var a=p.isBatchingUpdates;return p.isBatchingUpdates=!0,a?e(t,i,n,o,r):u.perform(e,null,t,i,n,o,r)}};t.exports=p},{49:49,55:55,93:93,98:98}],15:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=n},{}],16:[function(e,t,i){"use strict";var n,o={injectEmptyComponentFactory:function(e){n=e}},r={create:function(e){return n(e)}};r.injection=o,t.exports=r},{}],17:[function(e,t,i){"use strict";function n(e,t,i){try{t(i)}catch(e){null===o&&(o=e)}}var o=null,r={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=r},{}],18:[function(e,t,i){"use strict";function n(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(2),r={handleTopLevel:function(e,t,i,r){n(o.extractEvents(e,t,i,r))}};t.exports=r},{2:2}],19:[function(e,t,i){"use strict";var n={logTopLevelRenders:!1};t.exports=n},{}],20:[function(e,t,i){"use strict";function n(e){r=e.UIManager}function o(){return r}var r;t.exports={configure:n,getUIManager:o}},{}],21:[function(e,t,i){"use strict";function n(e){return s||a("111",e.type),new s(e)}function o(e){return new l(e)}function r(e){return e instanceof l}var a=e(69),s=(e(95),null),l=null,c={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){l=e}},d={createInternalComponent:n,createInstanceForText:o,isTextComponent:r,injection:c};t.exports=d},{69:69,95:95}],22:[function(e,t,i){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=n},{}],23:[function(e,t,i){"use strict";t.exports={debugTool:null}},{}],24:[function(e,t,i){"use strict";function n(e,t,i){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:i,afterNode:t}}function o(e,t,i){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:p.getHostNode(e),toIndex:i,afterNode:t}}function r(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function c(e,t){u.processChildrenUpdates(e,t)}var d=e(69),u=e(12),p=(e(22),e(23),e(78),e(45)),h=e(11),g=(e(93),e(64)),f=(e(95),{Mixin:{_reconcilerInstantiateChildren:function(e,t,i){return h.instantiateChildren(e,t,i)},_reconcilerUpdateChildren:function(e,t,i,n,o,r){var a;return a=g(t,0),h.updateChildren(e,a,i,n,o,this,this._hostContainerInfo,r,0),a},mountChildren:function(e,t,i){var n=this._reconcilerInstantiateChildren(e,t,i);this._renderedChildren=n;var o=[],r=0;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=p.mountComponent(s,t,this,this._hostContainerInfo,i,0);s._mountIndex=r++,o.push(l)}return o},updateTextContent:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var i in t)t.hasOwnProperty(i)&&d("118");c(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var i in t)t.hasOwnProperty(i)&&d("118");c(this,[a(e)])},updateChildren:function(e,t,i){this._updateChildren(e,t,i)},_updateChildren:function(e,t,i){var n=this._renderedChildren,o={},r=[],a=this._reconcilerUpdateChildren(n,e,r,o,t,i);if(a||n){var s,d=null,u=0,h=0,g=0,f=null;for(s in a)if(a.hasOwnProperty(s)){var m=n&&n[s],v=a[s];m===v?(d=l(d,this.moveChild(m,f,u,h)),h=Math.max(m._mountIndex,h),m._mountIndex=u):(m&&(h=Math.max(m._mountIndex,h)),d=l(d,this._mountChildAtIndex(v,r[g],f,u,t,i)),g++),u++,f=p.getHostNode(v)}for(s in o)o.hasOwnProperty(s)&&(d=l(d,this._unmountChild(n[s],o[s])));d&&c(this,d),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;h.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,i,n){if(e._mountIndex<n)return o(e,t,i)},createChild:function(e,t,i){return n(i,t,e._mountIndex)},removeChild:function(e,t){return r(e,t)},_mountChildAtIndex:function(e,t,i,n,o,r){return e._mountIndex=n,this.createChild(e,i,t)},_unmountChild:function(e,t){var i=this.removeChild(e,t);return e._mountIndex=null,i}}});t.exports=f},{11:11,12:12,22:22,23:23,45:45,64:64,69:69,78:78,93:93,95:95}],25:[function(e,t,i){"use strict";var n=e(30),o=e(33),r=e(37),a=e(49),s=e(63),l=e(20),c=e(60);o.inject();var d=function(e,t,i){return r.renderComponent(e,t,i)},u={hasReactNativeInitialized:!1,findNodeHandle:s,render:d,unmountComponentAtNode:r.unmountComponentAtNode,unstable_batchedUpdates:a.batchedUpdates,unmountComponentAtNodeAndRemoveContainer:r.unmountComponentAtNodeAndRemoveContainer,configure:l.configure,createReactNativeComponentClass:c};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:function(e){return n.getClosestInstanceFromNode(e)},getNodeFromInstance:function(e){for(;e._renderedComponent;)e=e._renderedComponent;return e?n.getNodeFromInstance(e):null}},Mount:r,Reconciler:e(45)}),t.exports=u},{20:20,30:30,33:33,37:37,45:45,49:49,60:60,63:63}],26:[function(e,t,i){"use strict";function n(e,t){return"object"!=typeof t||null===t||g(e,t)}function o(e){return"number"==typeof e?h.getByID(e):e}function r(e,t,i){if(Array.isArray(t))for(var n=t.length;n--&&_>0;)r(e,t[n],i);else if(t&&_>0){var a=o(t);for(var s in v)if(v[s]){var l=a[s];if(void 0!==l){var c=i[s];if(c){if("function"==typeof l&&(l=!0),void 0===l&&(l=null),"object"!=typeof c)e[s]=l;else if("function"==typeof c.diff||"function"==typeof c.process){var d="function"==typeof c.process?c.process(l):l;e[s]=d}v[s]=!1,_--}}}}}function a(e,t,i,n){var o,r=t.length<i.length?t.length:i.length;for(o=0;o<r;o++)e=s(e,t[o],i[o],n);for(;o<t.length;o++)e=c(e,t[o],n);for(;o<i.length;o++)e=l(e,i[o],n);return e}function s(e,t,i,n){return e||t!==i?t&&i?Array.isArray(t)||Array.isArray(i)?Array.isArray(t)&&Array.isArray(i)?a(e,t,i,n):Array.isArray(t)?d(e,f(t),o(i),n):d(e,o(t),f(i),n):d(e,o(t),o(i),n):i?l(e,i,n):t?c(e,t,n):e:e}function l(e,t,i){if(!t)return e;if(!Array.isArray(t))return u(e,o(t),i);for(var n=0;n<t.length;n++)e=l(e,t[n],i);return e}function c(e,t,i){if(!t)return e;if(!Array.isArray(t))return p(e,o(t),i);for(var n=0;n<t.length;n++)e=c(e,t[n],i);return e}function d(e,t,i,o){var a,l,d;for(var u in i)if(a=o[u])if(d=t[u],l=i[u],"function"==typeof l&&(l=!0,"function"==typeof d&&(d=!0)),void 0===l&&(l=null,void 0===d&&(d=null)),v&&(v[u]=!1),e&&void 0!==e[u]){if("object"!=typeof a)e[u]=l;else if("function"==typeof a.diff||"function"==typeof a.process){var p="function"==typeof a.process?a.process(l):l;e[u]=p}}else if(d!==l)if("object"!=typeof a)n(d,l)&&((e||(e={}))[u]=l);else if("function"==typeof a.diff||"function"==typeof a.process){var h=void 0===d||("function"==typeof a.diff?a.diff(d,l):n(d,l));h&&(p="function"==typeof a.process?a.process(l):l,(e||(e={}))[u]=p)}else v=null,_=0,e=s(e,d,l,a),_>0&&e&&(r(e,l,a),v=null);for(u in t)void 0===i[u]&&(a=o[u])&&(e&&void 0!==e[u]||void 0!==(d=t[u])&&("object"!=typeof a||"function"==typeof a.diff||"function"==typeof a.process?((e||(e={}))[u]=null,v||(v={}),v[u]||(v[u]=!0,_++)):e=c(e,d,a)));return e}function u(e,t,i){return d(e,m,t,i)}function p(e,t,i){return d(e,t,m,i)}var h=e(38),g=e(61),f=e(65),m={},v=null,_=0,y={create:function(e,t){return u(null,e,t)},diff:function(e,t,i){return d(null,e,t,i)}};t.exports=y},{38:38,61:61,65:65}],27:[function(e,t,i){"use strict";var n=e(98),o=e(8),r=e(26),a=e(30),s=e(34),l=e(40),c=e(24),d=e(56),u=(e(62),s.registrationNames),p=s.putListener,h=s.deleteListener,g=s.deleteAllListeners,f=function(e){this.viewConfig=e};f.Mixin={getPublicInstance:function(){return this},unmountComponent:function(){a.uncacheNode(this),g(this),this.unmountChildren(),this._rootNodeID=0},initializeChildren:function(e,t,i,n){var o=this.mountChildren(e,i,n);if(o.length){for(var r=[],a=0,s=o.length;a<s;a++){var l=o[a],c=l;r[a]=c}d.setChildren(t,r)}},receiveComponent:function(e,t,i){var n=this._currentElement;this._currentElement=e;var o=r.diff(n.props,e.props,this.viewConfig.validAttributes);o&&d.updateView(this._rootNodeID,this.viewConfig.uiViewClassName,o),this._reconcileListenersUponUpdate(n.props,e.props),this.updateChildren(e.props.children,t,i)},_registerListenersUponCreation:function(e){for(var t in e)if(u[t]&&e[t]){var i=e[t];p(this,t,i)}},_reconcileListenersUponUpdate:function(e,t){for(var i in t)u[i]&&t[i]!==e[i]&&(t[i]?p(this,i,t[i]):h(this,i))},getHostNode:function(){return this._rootNodeID},mountComponent:function(e,t,i,n){var o=l.allocateTag();this._rootNodeID=o,this._hostParent=t,this._hostContainerInfo=i;var s=r.create(this._currentElement.props,this.viewConfig.validAttributes),c=i._tag;return d.createView(o,this.viewConfig.uiViewClassName,c,s),a.precacheNode(this,o),this._registerListenersUponCreation(this._currentElement.props),this.initializeChildren(this._currentElement.props.children,o,e,n),o}},n(f.prototype,c.Mixin,f.Mixin,o),t.exports=f},{24:24,26:26,30:30,34:34,40:40,56:56,62:62,8:8,98:98}],28:[function(e,t,i){"use strict";var n=e(98),o=n||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=e(5),a=e(53),s=e(56),l=(e(97),s.customBubblingEventTypes),c=s.customDirectEventTypes,d={};for(var u in l)d[u]=l[u];for(var p in c)d[p]=c[p];var h={eventTypes:o({},l,c),extractEvents:function(e,t,i,n){var o=l[e],s=c[e],d=a.getPooled(o||s,t,i,n);if(o)r.accumulateTwoPhaseDispatches(d);else{if(!s)return null;r.accumulateDirectDispatches(d)}return d}};t.exports=h},{5:5,53:53,56:56,97:97,98:98}],29:[function(e,t,i){"use strict";var n=e(32),o=e(39),r={processChildrenUpdates:n.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkupByID,clearNode:function(){},ReactReconcileTransaction:o};t.exports=r},{32:32,39:39}],30:[function(e,t,i){"use strict";function n(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var i=n(e);c[t]=i}function r(e){var t=e._rootNodeID;t&&delete c[t]}function a(e){return c[e]||null}function s(e){return e._rootNodeID||l("17"),e._rootNodeID}var l=e(69),c=(e(95),{}),d={getClosestInstanceFromNode:a,getInstanceFromNode:a,getNodeFromInstance:s,precacheNode:o,uncacheNode:r};t.exports=d},{69:69,95:95}],31:[function(e,t,i){"use strict";function n(e){return{_tag:e}}t.exports=n},{}],32:[function(e,t,i){"use strict";var n=e(30),o=e(56),r=function(e,t){if(t.length){for(var i,r,a,s,l,c=n.getNodeFromInstance(e),d=0;d<t.length;d++){var u=t[d];if("MOVE_EXISTING"===u.type)(i||(i=[])).push(u.fromIndex),(r||(r=[])).push(u.toIndex);else if("REMOVE_NODE"===u.type)(l||(l=[])).push(u.fromIndex);else if("INSERT_MARKUP"===u.type){var p=u.content,h=p;(s||(s=[])).push(u.toIndex),(a||(a=[])).push(h)}}o.manageChildren(c,i,r,a,s,l)}},a={dangerouslyProcessChildrenUpdates:r,dangerouslyReplaceNodeWithMarkupByID:function(e,t){var i=e;o.replaceExistingNonRootView(i,t)}};t.exports=a},{30:30,56:56}],33:[function(e,t,i){"use strict";function n(){s.register(m),r.injection.injectEventPluginOrder(v),a.injection.injectComponentTree(f),a.injection.injectTreeTraversal(w),C.injection.injectGlobalResponderHandler(_),r.injection.injectEventPluginsByName({ResponderEventPlugin:C,ReactNativeBridgeEventPlugin:p}),S.injection.injectReconcileTransaction(g.ReactReconcileTransaction),S.injection.injectBatchingStrategy(d),c.injection.injectEnvironment(g);var t=function(t){var i=e(57);return new b(l.createElement(i,{collapsable:!0,style:{position:"absolute"}}),t)};u.injection.injectEmptyComponentFactory(t),h.injection.injectTextComponentClass(y),h.injection.injectGenericComponentClass(function(e){var t="";"string"==typeof e&&/^[a-z]/.test(e)&&(t+=" Each component name should start with an uppercase letter."),o("18",e,t)})}var o=e(69);e(6);var r=e(2),a=e(4),s=e(10),l=e(74),c=e(12),d=e(14),u=e(16),p=e(28),h=e(21),g=e(29),f=e(30),m=e(34),v=e(35),_=e(36),y=e(41),w=e(42),b=e(47),S=e(49),C=e(50);e(95),t.exports={inject:n}},{10:10,12:12,14:14,16:16,2:2,21:21,28:28,29:29,30:30,34:34,35:35,36:36,4:4,41:41,42:42,47:47,49:49,50:50,57:57,6:6,69:69,74:74,95:95}],34:[function(e,t,i){"use strict";var n=e(98),o=n||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=e(2),a=e(3),s=e(18),l=e(30),c=e(40),d=e(49),u=(e(97),{}),p=function(e,t){for(var i=[],n=0;n<t.length;n++)i.push(e[t[n]]);return i},h=function(e,t){for(var i=[],n=e,o=0;o<t.length;o++){var r=t[o];i.push(e[r]),n[r]=null}for(var a=0,s=0;s<n.length;s++){var l=n[s];null!==l&&(n[a++]=l)}return n.length=a,i},g=o({},s,{registrationNames:a.registrationNameModules,putListener:r.putListener,getListener:r.getListener,deleteListener:r.deleteListener,deleteAllListeners:r.deleteAllListeners,_receiveRootNodeIDEvent:function(e,t,i){var n=i||u,o=l.getInstanceFromNode(e);o&&d.batchedUpdates(function(){g.handleTopLevel(t,o,n,n.target)})},receiveEvent:function(e,t,i){var n=e;g._receiveRootNodeIDEvent(n,t,i)},receiveTouches:function(e,t,i){for(var n="topTouchEnd"===e||"topTouchCancel"===e?h(t,i):p(t,i),o=0;o<n.length;o++){var r=n[o];r.changedTouches=n,r.touches=t;var a=r,s=null,l=a.target;null!==l&&void 0!==l&&(l<c.tagsStartAt||(s=l)),g._receiveRootNodeIDEvent(s,e,a)}}});t.exports=g},{18:18,2:2,3:3,30:30,40:40,49:49,97:97,98:98}],35:[function(e,t,i){"use strict";var n=["ResponderEventPlugin","ReactNativeBridgeEventPlugin"];t.exports=n},{}],36:[function(e,t,i){"use strict";var n=e(56),o={onChange:function(e,t,i){null!==t?n.setJSResponder(t._rootNodeID,i):n.clearJSResponder()}};t.exports=o},{56:56}],37:[function(e,t,i){"use strict";function n(e,t,i){var n=l.mountComponent(e,i,null,a(t),p,0);e._renderedComponent._topLevelWrapper=e,m._mountImageIntoNode(n,t)}function o(e,t){var i=d.ReactReconcileTransaction.getPooled();i.perform(n,null,e,t,i),d.ReactReconcileTransaction.release(i)}var r=e(74),a=(e(23),e(31)),s=e(40),l=e(45),c=e(48),d=e(49),u=e(56),p=e(94),h=e(68),g=e(70),f=function(){};f.prototype.isReactComponent={},f.prototype.render=function(){return this.props.child},f.isReactTopLevelWrapper=!0;var m={_instancesByContainerID:{},findNodeHandle:e(63),renderComponent:function(e,t,i){var n=r.createElement(f,{child:e}),a=t,l=m._instancesByContainerID[a];if(l){var u=l._currentElement,v=u.props.child;if(g(v,e))return c.enqueueElementInternal(l,n,p),i&&c.enqueueCallbackInternal(l,i),l;m.unmountComponentAtNode(t)}if(!s.reactTagIsNativeTopRootID(t))return console.error("You cannot render into anything but a top root"),null;s.assertRootTag(t);var _=h(n,!1);m._instancesByContainerID[t]=_,d.batchedUpdates(o,_,t);var y=_.getPublicInstance();return i&&i.call(y),y},_mountImageIntoNode:function(e,t){var i=e;u.setChildren(t,[i])},unmountComponentAtNodeAndRemoveContainer:function(e){m.unmountComponentAtNode(e),u.removeRootView(e)},unmountComponentAtNode:function(e){if(!s.reactTagIsNativeTopRootID(e))return console.error("You cannot render into anything but a top root"),!1;var t=m._instancesByContainerID[e];return!!t&&(m.unmountComponentFromNode(t,e),delete m._instancesByContainerID[e],!0)},unmountComponentFromNode:function(e,t){l.unmountComponent(e),u.removeSubviewsFromContainerWithID(t)}};t.exports=m},{23:23,31:31,40:40,45:45,48:48,49:49,56:56,63:63,68:68,70:70,74:74,94:94}],38:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o={},r=1,a={},s=function(){function e(){n(this,e)}return e.register=function(e){var t=++r;return o[t]=e,t},e.getByID=function(e){return e?o[e]||(console.warn("Invalid style with id `"+e+"`. Skipping ..."),a):a},e}();t.exports=s},{}],39:[function(e,t,i){"use strict";function n(){this.reinitializeTransaction(),this.reactMountReady=r.getPooled(null)}var o=e(98),r=e(1),a=e(9),s=e(55),l=(e(23),e(48)),c={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},d=[c],u={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return l},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};o(n.prototype,s,n,u),a.addPoolingTo(n),t.exports=n},{1:1,23:23,48:48,55:55,9:9,98:98}],40:[function(e,t,i){"use strict";var n=e(69),o=(e(95),{tagsStartAt:1,tagCount:1,allocateTag:function(){for(;this.reactTagIsNativeTopRootID(o.tagCount);)o.tagCount++;var e=o.tagCount;return o.tagCount++,e},assertRootTag:function(e){this.reactTagIsNativeTopRootID(e)||n("19",e)},reactTagIsNativeTopRootID:function(e){return e%10==1}});t.exports=o},{69:69,95:95}],41:[function(e,t,i){"use strict";var n=e(69),o=e(98),r=e(30),a=e(40),s=e(56),l=(e(95),function(e){this._currentElement=e,this._stringText=""+e,this._hostParent=null,this._rootNodeID=0});o(l.prototype,{mountComponent:function(e,t,i,o){o.isInAParentText||n("20",this._stringText),this._hostParent=t;var l=a.allocateTag();this._rootNodeID=l;var c=i._tag;return s.createView(l,"RCTRawText",c,{text:this._stringText}),r.precacheNode(this,l),l},getHostNode:function(){return this._rootNodeID},receiveComponent:function(e,t,i){if(e!==this._currentElement){this._currentElement=e;var n=""+e;n!==this._stringText&&(this._stringText=n,s.updateView(this._rootNodeID,"RCTRawText",{text:this._stringText}))}},unmountComponent:function(){r.uncacheNode(this),this._currentElement=null,this._stringText=null,this._rootNodeID=0}}),t.exports=l},{30:30,40:40,56:56,69:69,95:95,98:98}],42:[function(e,t,i){"use strict";function n(e,t){for(var i=0,n=e;n;n=n._hostParent)i++;for(var o=0,r=t;r;r=r._hostParent)o++;for(;i-o>0;)e=e._hostParent,i--;for(;o-i>0;)t=t._hostParent,o--;for(var a=i;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function r(e){return e._hostParent}function a(e,t,i){for(var n=[];e;)n.push(e),e=e._hostParent;var o;for(o=n.length;o-- >0;)t(n[o],"captured",i);for(o=0;o<n.length;o++)t(n[o],"bubbled",i)}function s(e,t,i,o,r){for(var a=e&&t?n(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var l=[];t&&t!==a;)l.push(t),t=t._hostParent;var c;for(c=0;c<s.length;c++)i(s[c],"bubbled",o);for(c=l.length;c-- >0;)i(l[c],"captured",r)}t.exports={isAncestor:o,getLowestCommonAncestor:n,getParentInstance:r,traverseTwoPhase:a,traverseEnterLeave:s}},{}],43:[function(e,t,i){"use strict";var n=e(69),o=e(74),r=(e(95),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?r.EMPTY:o.isValidElement(e)?"function"==typeof e.type?r.COMPOSITE:r.HOST:void n("26",e)}});t.exports=r},{69:69,74:74,95:95}],44:[function(e,t,i){"use strict";function n(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var o=e(69),r=(e(95),{addComponentAsRefTo:function(e,t,i){n(i)||o("119"),i.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,i){n(i)||o("120");var r=i.getPublicInstance();r&&r.refs[t]===e.getPublicInstance()&&i.detachRef(t)}});t.exports=r},{69:69,95:95}],45:[function(e,t,i){"use strict";function n(){o.attachRefs(this,this._currentElement)}var o=e(46),r=(e(23),e(97),{mountComponent:function(e,t,i,o,r,a){var s=e.mountComponent(t,i,o,r,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(n,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,i,r){var a=e._currentElement;if(t!==a||r!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,i,r),s&&e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(n,e)}},performUpdateIfNecessary:function(e,t,i){e._updateBatchNumber===i&&e.performUpdateIfNecessary(t)}});t.exports=r},{23:23,46:46,97:97}],46:[function(e,t,i){"use strict";function n(e,t,i){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,i)}function o(e,t,i){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,i)}var r=e(44),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var i=t.ref;null!=i&&n(i,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var i=null,n=null;null!==e&&"object"==typeof e&&(i=e.ref,n=e._owner);var o=null,r=null;return null!==t&&"object"==typeof t&&(o=t.ref,r=t._owner),i!==o||"string"==typeof o&&r!==n},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var i=t.ref;null!=i&&o(i,e,t._owner)}},t.exports=a},{44:44}],47:[function(e,t,i){"use strict";var n=e(98),o=e(45),r=function(e,t){this._currentElement=null,this._renderedComponent=t(e)};n(r.prototype,{mountComponent:function(e,t,i,n,r){return o.mountComponent(this._renderedComponent,e,t,i,n,r)},receiveComponent:function(){},getHostNode:function(){return o.getHostNode(this._renderedComponent)},unmountComponent:function(){o.unmountComponent(this._renderedComponent),this._renderedComponent=null}}),t.exports=r},{45:45,98:98}],48:[function(e,t,i){"use strict";function n(e){l.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var i=e.constructor&&e.constructor.name||t,n=Object.keys(e);return n.length>0&&n.length<20?i+" (keys: "+n.join(", ")+")":i}function r(e,t){return s.get(e)||null}var a=e(69),s=(e(78),e(22)),l=(e(23),e(49)),c=(e(95),e(97),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,i){c.validateCallback(t,i);var o=r(e);if(!o)return null;o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],n(o)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=r(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t,i){var o=r(e,"replaceState");o&&(o._pendingStateQueue=[t],o._pendingReplaceState=!0,void 0!==i&&null!==i&&(c.validateCallback(i,"replaceState"),o._pendingCallbacks?o._pendingCallbacks.push(i):o._pendingCallbacks=[i]),n(o))},enqueueSetState:function(e,t){var i=r(e,"setState");i&&((i._pendingStateQueue||(i._pendingStateQueue=[])).push(t),n(i))},enqueueElementInternal:function(e,t,i){e._pendingElement=t,e._context=i,n(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&a("122",t,o(e))}});t.exports=c},{22:22,23:23,49:49,69:69,78:78,95:95,97:97}],49:[function(e,t,i){"use strict";function n(){E.ReactReconcileTransaction&&b||d("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled(!0)}function r(e,t,i,o,r,a){return n(),b.batchedUpdates(e,t,i,o,r,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length&&d("124",t,v.length),v.sort(a),_++;for(var i=0;i<t;i++){var n=v[i],o=n._pendingCallbacks;n._pendingCallbacks=null;var r;if(g.logTopLevelRenders){var s=n;n._currentElement.type.isReactTopLevelWrapper&&(s=n._renderedComponent),r="React update: "+s.getName(),console.time(r)}if(f.performUpdateIfNecessary(n,e.reconcileTransaction,_),r&&console.timeEnd(r),o)for(var l=0;l<o.length;l++)e.callbackQueue.enqueue(o[l],n.getPublicInstance())}}function l(e){if(n(),!b.isBatchingUpdates)return void b.batchedUpdates(l,e);v.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=_+1)}function c(e,t){b.isBatchingUpdates||d("125"),y.enqueue(e,t),w=!0}var d=e(69),u=e(98),p=e(1),h=e(9),g=e(19),f=e(45),m=e(55),v=(e(95),[]),_=0,y=p.getPooled(),w=!1,b=null,S={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),R()):v.length=0}},C={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},T=[S,C];u(o.prototype,m,{getTransactionWrappers:function(){return T},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,i){return m.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,i)}}),h.addPoolingTo(o);var R=function(){for(;v.length||w;){if(v.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(w){w=!1;var t=y;y=p.getPooled(),t.notifyAll(),p.release(t)}}},P={injectReconcileTransaction:function(e){e||d("126"),E.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||d("127"),"function"!=typeof e.batchedUpdates&&d("128"),"boolean"!=typeof e.isBatchingUpdates&&d("129"),b=e}},E={ReactReconcileTransaction:null,batchedUpdates:r,enqueueUpdate:l,flushBatchedUpdates:R,injection:P,asap:c};t.exports=E},{1:1,19:19,45:45,55:55,69:69,9:9,95:95,98:98}],50:[function(e,t,i){"use strict";function n(e,t,i,n){var o=u(e)?b.startShouldSetResponder:p(e)?b.moveShouldSetResponder:"topSelectionChange"===e?b.selectionChangeShouldSetResponder:b.scrollShouldSetResponder,r=v?a.getLowestCommonAncestor(v,t):t,h=r===v,_=l.getPooled(o,r,i,n);_.touchHistory=c.touchHistory,h?s.accumulateTwoPhaseDispatchesSkipTarget(_):s.accumulateTwoPhaseDispatches(_);var y=m(_);if(_.isPersistent()||_.constructor.release(_),!y||y===v)return null;var S,C=l.getPooled(b.responderGrant,y,i,n);C.touchHistory=c.touchHistory,s.accumulateDirectDispatches(C);var T=!0===g(C);if(v){var R=l.getPooled(b.responderTerminationRequest,v,i,n);R.touchHistory=c.touchHistory,s.accumulateDirectDispatches(R);var P=!f(R)||g(R);if(R.isPersistent()||R.constructor.release(R),P){var E=l.getPooled(b.responderTerminate,v,i,n);E.touchHistory=c.touchHistory,s.accumulateDirectDispatches(E),S=d(S,[C,E]),w(y,T)}else{var I=l.getPooled(b.responderReject,y,i,n);I.touchHistory=c.touchHistory,s.accumulateDirectDispatches(I),S=d(S,I)}}else S=d(S,C),w(y,T);return S}function o(e,t,i){return t&&("topScroll"===e&&!i.responderIgnoreScroll||_>0&&"topSelectionChange"===e||u(e)||p(e))}function r(e){var t=e.touches;if(!t||0===t.length)return!0;for(var i=0;i<t.length;i++){var n=t[i],o=n.target;if(null!==o&&void 0!==o&&0!==o){var r=a.getInstanceFromNode(o);if(a.isAncestor(v,r))return!1}}return!0}var a=e(4),s=e(5),l=e(51),c=e(52),d=e(58),u=a.isStartish,p=a.isMoveish,h=a.isEndish,g=a.executeDirectDispatch,f=a.hasDispatches,m=a.executeDispatchesInOrderStopAtTrue,v=null,_=0,y=0,w=function(e,t){var i=v;v=e,null!==S.GlobalResponderHandler&&S.GlobalResponderHandler.onChange(i,e,t)},b={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"}},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"}},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"}},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"}},responderStart:{registrationName:"onResponderStart"},responderMove:{registrationName:"onResponderMove"},responderEnd:{registrationName:"onResponderEnd"},responderRelease:{registrationName:"onResponderRelease"},responderTerminationRequest:{registrationName:"onResponderTerminationRequest"},responderGrant:{registrationName:"onResponderGrant"},responderReject:{registrationName:"onResponderReject"},responderTerminate:{registrationName:"onResponderTerminate"}},S={_getResponderID:function(){return v?v._rootNodeID:null},eventTypes:b,extractEvents:function(e,t,i,a){if(u(e))_+=1;else if(h(e)){if(!(_>=0))return console.error("Ended a touch event which was not counted in `trackedTouchCount`."),null;_-=1}c.recordTouchTrack(e,i);var g=o(e,t,i)?n(e,t,i,a):null,f=v&&u(e),m=v&&p(e),C=v&&h(e),T=f?b.responderStart:m?b.responderMove:C?b.responderEnd:null;if(T){var R=l.getPooled(T,v,i,a);R.touchHistory=c.touchHistory,s.accumulateDirectDispatches(R),g=d(g,R)}var P=v&&"topTouchCancel"===e,E=v&&!P&&h(e)&&r(i),I=P?b.responderTerminate:E?b.responderRelease:null;if(I){var x=l.getPooled(I,v,i,a);x.touchHistory=c.touchHistory,s.accumulateDirectDispatches(x),g=d(g,x),w(null)}var A=c.touchHistory.numberActiveTouches;return S.GlobalInteractionHandler&&A!==y&&S.GlobalInteractionHandler.onChange(A),y=A,g},GlobalResponderHandler:null,GlobalInteractionHandler:null,injection:{injectGlobalResponderHandler:function(e){S.GlobalResponderHandler=e},injectGlobalInteractionHandler:function(e){S.GlobalInteractionHandler=e}}};t.exports=S},{4:4,5:5,51:51,52:52,58:58}],51:[function(e,t,i){"use strict";function n(e,t,i,n){return o.call(this,e,t,i,n)}var o=e(53),r={touchHistory:function(e){return null}};o.augmentClass(n,r),t.exports=n},{53:53}],52:[function(e,t,i){"use strict";function n(e){return e.timeStamp||e.timestamp}function o(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:n(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:n(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:n(e)}}function r(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=n(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=n(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=n(t)}function a(e){var t=e.identifier;return null==t&&p("138"),t}function s(e){var t=a(e),i=_[t];i?r(i,e):_[t]=o(e),y.mostRecentTimeStamp=n(e)}function l(e){var t=_[a(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=n(e),y.mostRecentTimeStamp=n(e)):console.error("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",d(e),u())}function c(e){var t=_[a(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,
t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=n(e),y.mostRecentTimeStamp=n(e)):console.error("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",d(e),u())}function d(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:n(e)})}function u(){var e=JSON.stringify(_.slice(0,v));return _.length>v&&(e+=" (original size: "+_.length+")"),e}var p=e(69),h=e(4),g=(e(95),e(97),h.isEndish),f=h.isMoveish,m=h.isStartish,v=20,_=[],y={touchBank:_,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0},w={recordTouchTrack:function(e,t){if(f(e))t.changedTouches.forEach(l);else if(m(e))t.changedTouches.forEach(s),y.numberActiveTouches=t.touches.length,1===y.numberActiveTouches&&(y.indexOfSingleActiveTouch=t.touches[0].identifier);else if(g(e)&&(t.changedTouches.forEach(c),y.numberActiveTouches=t.touches.length,1===y.numberActiveTouches))for(var i=0;i<_.length;i++){var n=_[i];if(null!=n&&n.touchActive){y.indexOfSingleActiveTouch=i;break}}},touchHistory:y};t.exports=w},{4:4,69:69,95:95,97:97}],53:[function(e,t,i){"use strict";function n(e,t,i,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=i;var o=this.constructor.Interface;for(var r in o)if(o.hasOwnProperty(r)){var s=o[r];s?this[r]=s(i):"target"===r?this.target=n:this[r]=i[r]}var l=null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue;return this.isDefaultPrevented=l?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e(98),r=e(9),a=e(93),s=(e(97),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var i=0;i<s.length;i++)this[s[i]]=null}}),n.Interface=l,n.augmentClass=function(e,t){var i=this,n=function(){};n.prototype=i.prototype;var a=new n;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},i.Interface,t),e.augmentClass=i.augmentClass,r.addPoolingTo(e,r.fourArgumentPooler)},r.addPoolingTo(n,r.fourArgumentPooler),t.exports=n},{9:9,93:93,97:97,98:98}],54:[function(e,t,i){"use strict";var n={};t.exports=n},{}],55:[function(e,t,i){"use strict";var n=e(69),o=(e(95),{}),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,o,r,a,s,l){this.isInTransaction()&&n("27");var c,d;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),d=e.call(t,i,o,r,a,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return d},initializeAll:function(e){for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n=t[i];try{this.wrapperInitData[i]=o,this.wrapperInitData[i]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[i]===o)try{this.initializeAll(i+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||n("28");for(var t=this.transactionWrappers,i=e;i<t.length;i++){var r,a=t[i],s=this.wrapperInitData[i];try{r=!0,s!==o&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}};t.exports=r},{69:69,95:95}],56:[function(e,t,i){"use strict";var n=e(20),o={removeSubviewsFromContainerWithID:function(){var e=n.getUIManager();e.removeSubviewsFromContainerWithID.apply(e,arguments)},createView:function(){var e=n.getUIManager();e.createView.apply(e,arguments)},setView:function(){var e=n.getUIManager();e.setView.apply(e,arguments)},manageChildren:function(){var e=n.getUIManager();e.manageChildren.apply(e,arguments)},updateView:function(){var e=n.getUIManager();e.updateView.apply(e,arguments)},setChildren:function(){var e=n.getUIManager();e.setChildren.apply(e,arguments)},replaceExistingNonRootView:function(){var e=n.getUIManager();e.replaceExistingNonRootView.apply(e,arguments)}};t.exports=o},{20:20}],57:[function(e,t,i){"use strict";var n={};t.exports=n},{}],58:[function(e,t,i){"use strict";function n(e,t){return null==t&&o("29"),null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(69);e(95),t.exports=n},{69:69,95:95}],59:[function(e,t,i){"use strict";function n(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(69);e(95),t.exports=n},{69:69,95:95}],60:[function(e,t,i){"use strict";var n=e(27),o=function(e){var t=function(e){this._currentElement=e,this._topLevelWrapper=null,this._hostParent=null,this._hostContainerInfo=null,this._rootNodeID=0,this._renderedChildren=null};return t.displayName=e.uiViewClassName,t.viewConfig=e,t.propTypes=e.propTypes,t.prototype=new n(e),t.prototype.constructor=t,t};t.exports=o},{27:27}],61:[function(e,t,i){"use strict";var n=function(){return!0};t.exports=n},{}],62:[function(e,t,i){"use strict";var n=function(){};t.exports=n},{}],63:[function(e,t,i){"use strict";function n(e){if(null==e)return null;if("number"==typeof e)return e;var t=e,i=r.get(t);if(i)return i.getHostNode();var n=t._rootNodeID;if(n)return n;"object"==typeof t&&"_rootNodeID"in t||null!=t.render&&"function"==typeof t.render||o("21",typeof t,Object.keys(t)),o("22")}var o=e(69),r=(e(78),e(22));e(95),e(97),t.exports=n},{22:22,69:69,78:78,95:95,97:97}],64:[function(e,t,i){(function(i){"use strict";function n(e,t,i,n){if(e&&"object"==typeof e){var o=e;void 0===o[i]&&null!=t&&(o[i]=t)}}function o(e,t){if(null==e)return e;var i={};return r(e,n,i),i}var r=(e(7),e(71));e(97),void 0!==i&&i.env,t.exports=o}).call(this,void 0)},{7:7,71:71,97:97}],65:[function(e,t,i){"use strict";var n={};t.exports=n},{}],66:[function(e,t,i){"use strict";function n(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}t.exports=n},{}],67:[function(e,t,i){"use strict";function n(e){var t=e&&(o&&e[o]||e[r]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";t.exports=n},{}],68:[function(e,t,i){"use strict";function n(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function r(e,t){var i;if(null===e||!1===e)i=c.create(r);else if("object"==typeof e){var s=e,l=s.type;if("function"!=typeof l&&"string"!=typeof l){var p="";p+=n(s._owner),a("130",null==l?l:typeof l,p)}"string"==typeof s.type?i=d.createInternalComponent(s):o(s.type)?(i=new s.type(s),i.getHostNode||(i.getHostNode=i.getNativeNode)):i=new u(s)}else"string"==typeof e||"number"==typeof e?i=d.createInstanceForText(e):a("131",typeof e);return i._mountIndex=0,i._mountImage=null,i}var a=e(69),s=e(98),l=e(13),c=e(16),d=e(21),u=(e(89),e(95),e(97),function(e){this.construct(e)});s(u.prototype,l,{_instantiateReactComponent:r}),t.exports=r},{13:13,16:16,21:21,69:69,89:89,95:95,97:97,98:98}],69:[function(e,t,i){"use strict";function n(e){for(var t=arguments.length-1,i="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);i+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(i);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=n},{}],70:[function(e,t,i){"use strict";function n(e,t){var i=null===e||!1===e,n=null===t||!1===t;if(i||n)return i===n;var o=typeof e,r=typeof t;return"string"===o||"number"===o?"string"===r||"number"===r:"object"===r&&e.type===t.type&&e.key===t.key}t.exports=n},{}],71:[function(e,t,i){"use strict";function n(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,i,r){var p=typeof e;if("undefined"!==p&&"boolean"!==p||(e=null),null===e||"string"===p||"number"===p||"object"===p&&e.$$typeof===s)return i(r,e,""===t?d+n(e,0):t),1;var h,g,f=0,m=""===t?d:t+u;if(Array.isArray(e))for(var v=0;v<e.length;v++)h=e[v],g=m+n(h,v),f+=o(h,g,i,r);else{var _=l(e);if(_){var y,w=_.call(e);if(_!==e.entries)for(var b=0;!(y=w.next()).done;)h=y.value,g=m+n(h,b++),f+=o(h,g,i,r);else for(;!(y=w.next()).done;){var S=y.value;S&&(h=S[1],g=m+c.escape(S[0])+u+n(h,0),f+=o(h,g,i,r))}}else if("object"===p){var C=String(e);a("31","[object Object]"===C?"object with keys {"+Object.keys(e).join(", ")+"}":C,"")}}return f}function r(e,t,i){return null==e?0:o(e,"",t,i)}var a=e(69),s=(e(78),e(15)),l=e(67),c=(e(95),e(7)),d=(e(97),"."),u=":";t.exports=r},{15:15,67:67,69:69,7:7,78:78,95:95,97:97}],72:[function(e,t,i){arguments[4][7][0].apply(i,arguments)},{7:7}],73:[function(e,t,i){arguments[4][9][0].apply(i,arguments)},{9:9,91:91,95:95}],74:[function(e,t,i){"use strict";var n=e(98),o=e(75),r=e(77),a=e(84),s=e(76),l=e(79),c=e(80),d=e(86),u=e(90),p=(e(97),c.createElement),h=c.createFactory,g=c.cloneElement,f=n,m={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:u},Component:r,PureComponent:a,createElement:p,cloneElement:g,isValidElement:c.isValidElement,createClass:s.createClass,createFactory:h,createMixin:function(e){return e},DOM:l,version:d,__spread:f};t.exports=m},{75:75,76:76,77:77,79:79,80:80,84:84,86:86,90:90,97:97,98:98}],75:[function(e,t,i){"use strict";function n(e){return(""+e).replace(w,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function r(e,t,i){var n=e.func,o=e.context;n.call(o,t,e.count++)}function a(e,t,i){if(null==e)return e;var n=o.getPooled(t,i);v(e,r,n),o.release(n)}function s(e,t,i,n){this.result=e,this.keyPrefix=t,this.func=i,this.context=n,this.count=0}function l(e,t,i){var o=e.result,r=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?c(l,o,i,m.thatReturnsArgument):null!=l&&(f.isValidElement(l)&&(l=f.cloneAndReplaceKey(l,r+(!l.key||t&&t.key===l.key?"":n(l.key)+"/")+i)),o.push(l))}function c(e,t,i,o,r){var a="";null!=i&&(a=n(i)+"/");var c=s.getPooled(t,a,o,r);v(e,l,c),s.release(c)}function d(e,t,i){if(null==e)return e;var n=[];return c(e,n,null,t,i),n}function u(e,t,i){return null}function p(e,t){return v(e,u,null)}function h(e){var t=[];return c(e,t,null,m.thatReturnsArgument),t}var g=e(73),f=e(80),m=e(93),v=e(92),_=g.twoArgumentPooler,y=g.fourArgumentPooler,w=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},g.addPoolingTo(o,_),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},g.addPoolingTo(s,y);var b={forEach:a,map:d,mapIntoWithKeyPrefixInternal:c,count:p,toArray:h};t.exports=b},{73:73,80:80,92:92,93:93}],76:[function(e,t,i){"use strict";function n(e){return e}function o(e,t){var i=w.hasOwnProperty(t)?w[t]:null;S.hasOwnProperty(t)&&"OVERRIDE_BASE"!==i&&p("73",t),e&&"DEFINE_MANY"!==i&&"DEFINE_MANY_MERGED"!==i&&p("74",t)}function r(e,t){if(t){"function"==typeof t&&p("75"),f.isValidElement(t)&&p("76");var i=e.prototype,n=i.__reactAutoBindPairs;t.hasOwnProperty(_)&&b.mixins(e,t.mixins);for(var r in t)if(t.hasOwnProperty(r)&&r!==_){var a=t[r],s=i.hasOwnProperty(r);if(o(s,r),b.hasOwnProperty(r))b[r](e,a);else{var d=w.hasOwnProperty(r),u="function"==typeof a,h=u&&!d&&!s&&!1!==t.autobind;if(h)n.push(r,a),i[r]=a;else if(s){var g=w[r];(!d||"DEFINE_MANY_MERGED"!==g&&"DEFINE_MANY"!==g)&&p("77",g,r),"DEFINE_MANY_MERGED"===g?i[r]=l(i[r],a):"DEFINE_MANY"===g&&(i[r]=c(i[r],a))}else i[r]=a}}}}function a(e,t){if(t)for(var i in t){var n=t[i];if(t.hasOwnProperty(i)){var o=i in b;o&&p("78",i);var r=i in e;r&&p("79",i),e[i]=n}}}function s(e,t){e&&t&&"object"==typeof e&&"object"==typeof t||p("80");for(var i in t)t.hasOwnProperty(i)&&(void 0!==e[i]&&p("81",i),e[i]=t[i]);return e}function l(e,t){return function(){var i=e.apply(this,arguments),n=t.apply(this,arguments);if(null==i)return n;if(null==n)return i;var o={};return s(o,i),s(o,n),o}}function c(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function d(e,t){return t.bind(e)}function u(e){for(var t=e.__reactAutoBindPairs,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[n]=d(e,o)}}var p=e(91),h=e(98),g=e(77),f=e(80),m=(e(83),e(82)),v=e(94),_=(e(95),e(97),"mixins"),y=[],w={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var i=0;i<t.length;i++)r(e,t[i])},childContextTypes:function(e,t){e.childContextTypes=h({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=h({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=l(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=h({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},C=function(){};h(C.prototype,g.prototype,S);var T={createClass:function(e){var t=n(function(e,i,n){this.__reactAutoBindPairs.length&&u(this),this.props=e,this.context=i,this.refs=v,this.updater=n||m,this.state=null;var o=this.getInitialState?this.getInitialState():null;("object"!=typeof o||Array.isArray(o))&&p("82",t.displayName||"ReactCompositeComponent"),this.state=o});t.prototype=new C,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(r.bind(null,t)),r(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render||p("83");for(var i in w)t.prototype[i]||(t.prototype[i]=null);return t},injection:{injectMixin:function(e){y.push(e)}}};t.exports=T},{77:77,80:80,82:82,83:83,91:91,94:94,95:95,97:97,98:98}],77:[function(e,t,i){"use strict";function n(e,t,i){this.props=e,this.context=t,this.refs=a,this.updater=i||r}var o=e(91),r=e(82),a=(e(87),e(94));e(95),e(97),n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&o("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},t.exports=n},{82:82,87:87,91:91,94:94,95:95,97:97}],78:[function(e,t,i){"use strict";var n={current:null};t.exports=n},{}],79:[function(e,t,i){"use strict";var n=e(80),o=n.createFactory,r={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=r},{80:80}],80:[function(e,t,i){"use strict";function n(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var r=e(98),a=e(78),s=(e(97),e(87),Object.prototype.hasOwnProperty),l=e(81),c={key:!0,ref:!0,__self:!0,__source:!0},d=function(e,t,i,n,o,r,a){return{$$typeof:l,type:e,key:t,ref:i,props:a,_owner:r}};d.createElement=function(e,t,i){var r,l={},u=null,p=null;if(null!=t){n(t)&&(p=t.ref),o(t)&&(u=""+t.key),void 0===t.__self||t.__self,void 0===t.__source||t.__source;for(r in t)s.call(t,r)&&!c.hasOwnProperty(r)&&(l[r]=t[r])}var h=arguments.length-2;if(1===h)l.children=i;else if(h>1){for(var g=Array(h),f=0;f<h;f++)g[f]=arguments[f+2];l.children=g}if(e&&e.defaultProps){var m=e.defaultProps;for(r in m)void 0===l[r]&&(l[r]=m[r])}return d(e,u,p,0,0,a.current,l)},d.createFactory=function(e){var t=d.createElement.bind(null,e);return t.type=e,t},d.cloneAndReplaceKey=function(e,t){return d(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},d.cloneElement=function(e,t,i){var l,u=r({},e.props),p=e.key,h=e.ref,g=(e._self,e._source,e._owner);if(null!=t){n(t)&&(h=t.ref,g=a.current),o(t)&&(p=""+t.key);var f;e.type&&e.type.defaultProps&&(f=e.type.defaultProps);for(l in t)s.call(t,l)&&!c.hasOwnProperty(l)&&(void 0===t[l]&&void 0!==f?u[l]=f[l]:u[l]=t[l])}var m=arguments.length-2;if(1===m)u.children=i;else if(m>1){for(var v=Array(m),_=0;_<m;_++)v[_]=arguments[_+2];u.children=v}return d(e.type,p,h,0,0,g,u)},d.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===l},t.exports=d},{78:78,81:81,87:87,97:97,98:98}],81:[function(e,t,i){arguments[4][15][0].apply(i,arguments)},{15:15}],82:[function(e,t,i){"use strict";var n=(e(97),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}});t.exports=n},{97:97}],83:[function(e,t,i){"use strict";var n={};t.exports=n},{}],84:[function(e,t,i){"use strict";function n(e,t,i){this.props=e,this.context=t,this.refs=l,this.updater=i||s}function o(){}var r=e(98),a=e(77),s=e(82),l=e(94);o.prototype=a.prototype,n.prototype=new o,n.prototype.constructor=n,r(n.prototype,a.prototype),n.prototype.isPureReactComponent=!0,t.exports=n},{77:77,82:82,94:94,98:98}],85:[function(e,t,i){"use strict";var n=e(98),o=e(74),r=e(25),a=n({ReactNative:r},o);t.exports=a},{25:25,74:74,98:98}],86:[function(e,t,i){"use strict";t.exports="15.5.4"},{}],87:[function(e,t,i){"use strict";t.exports=!1},{}],88:[function(e,t,i){arguments[4][67][0].apply(i,arguments)},{67:67}],89:[function(e,t,i){"use strict";function n(){return o++}var o=1;t.exports=n},{}],90:[function(e,t,i){"use strict";function n(e){return r.isValidElement(e)||o("143"),e}var o=e(91),r=e(80);e(95),t.exports=n},{80:80,91:91,95:95}],91:[function(e,t,i){arguments[4][69][0].apply(i,arguments)},{69:69}],92:[function(e,t,i){"use strict";function n(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,i,r){var p=typeof e;if("undefined"!==p&&"boolean"!==p||(e=null),null===e||"string"===p||"number"===p||"object"===p&&e.$$typeof===s)return i(r,e,""===t?d+n(e,0):t),1;var h,g,f=0,m=""===t?d:t+u;if(Array.isArray(e))for(var v=0;v<e.length;v++)h=e[v],g=m+n(h,v),f+=o(h,g,i,r);else{var _=l(e);if(_){var y,w=_.call(e);if(_!==e.entries)for(var b=0;!(y=w.next()).done;)h=y.value,g=m+n(h,b++),f+=o(h,g,i,r);else for(;!(y=w.next()).done;){var S=y.value;S&&(h=S[1],g=m+c.escape(S[0])+u+n(h,0),f+=o(h,g,i,r))}}else if("object"===p){var C=String(e);a("31","[object Object]"===C?"object with keys {"+Object.keys(e).join(", ")+"}":C,"")}}return f}function r(e,t,i){return null==e?0:o(e,"",t,i)}var a=e(91),s=(e(78),e(81)),l=e(88),c=(e(95),e(72)),d=(e(97),"."),u=":";t.exports=r},{72:72,78:78,81:81,88:88,91:91,95:95,97:97}],93:[function(e,t,i){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],94:[function(e,t,i){"use strict";var n={};t.exports=n},{}],95:[function(e,t,i){"use strict";function n(e,t,i,n,r,a,s,l){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[i,n,r,a,s,l],u=0;c=new Error(t.replace(/%s/g,function(){return d[u++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};t.exports=n},{}],96:[function(e,t,i){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!r.call(t,i[a])||!n(e[i[a]],t[i[a]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;t.exports=o},{}],97:[function(e,t,i){"use strict";var n=e(93),o=n;t.exports=o},{93:93}],98:[function(e,t,i){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,s,l=n(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var d in i)r.call(i,d)&&(l[d]=i[d]);if(o){s=o(i);for(var u=0;u<s.length;u++)a.call(i,s[u])&&(l[s[u]]=i[s[u]])}}return l}},{}]},{},[85])(85)}),define("lib/lodash/internals/baseEach",["./createIterator","./eachIteratorOptions"],function(e,t){return e(t)}),define("lib/lodash/collections/forEach",["../internals/baseCreateCallback","../internals/baseEach","../objects/isArray"],function(e,t,i){function n(e,n,o){if(n&&void 0===o&&i(e))for(var r=-1,a=e.length;++r<a&&!1!==n(e[r],r,e););else t(e,n,o);return e}return n}),function(){"use strict";define("core/oop/docs",["core/oop/typeRegistry","lib/react","lib/lodash/collections/forEach"],function(e,t,i){var n=function(e){return{errorMessage:"Value must be of type '"+e+"'",types:[e],run:function(t){return typeof t===e}}},o=function(){return{errorMessage:"Value must be a Promise",types:["Promise"],run:function(e){return void 0!==e.then&&void 0!==e.cancel}}},r=new RegExp("(^_)|(^get__)|(^set__)|(^onEvent__)|(^onAdded__)|(^onRemoved__)|(onEvent_initialized)|(get_initialized)|(get_initializedCreated)|(get_isInitialized)|(initialized)|(onEvent_initialized)|(singleton)|(get_singleton)|(get_singletonCreated)|(forEach)|(getName)|(equals)|(getEnumCount)"),a=function(e,t){var i=void 0===e?[]:e,n=void 0===t?[]:t;return i=Array.isArray(i)?i:[i],n=Array.isArray(n)?n:[n],i.concat(n)},s={_methodNameErrors:[],_typeErrors:[],getMethodNameErrors:function(){for(var e=[],t=0;t<this._methodNameErrors.length;t++)e.push(this._methodNameErrors[t]);return e},getTypeErrors:function(){for(var e=[],t=0;t<this._typeErrors.length;t++)e.push(this._typeErrors[t]);return e},validation:{isEnabled:build.features.validation,isBoolean:n("boolean"),isString:n("string"),isFunction:n("function"),isFunctionOf:function(e){var t=n("function");return t.delegateDoc=e,t},isPromiseOf:function(e,t,i){if(void 0===e)throw new Error("resolvedValidator must be defined when using `isPromiseOf` validation.");i=i||this.isObject;var n=o();return n.promiseValidation={resolved:e,rejected:i,isOptional:t||!1},n},isObject:{errorMessage:"Value must be of type 'object' and be non-null",types:["object"],run:function(e){return"object"==typeof e&&null!==e}},isRegExp:{errorMessage:"Value must be a regular expression.",types:["RegExp"],run:function(e){return e instanceof RegExp}},isNull:{errorMessage:"Value must be null.",types:["null"],run:function(e){return null===e}},isUndefined:{errorMessage:"Value must be undefined.",types:["undefined"],run:function(e){return void 0===e}},isNumber:{errorMessage:"Value must be a finite number.",types:["number"],run:function(e){return"number"==typeof e&&isFinite(e)}},isInfinity:{errorMessage:"Value must be infinite.",types:["number"],run:function(e){return"number"==typeof e&&e===1/0}},isArray:{errorMessage:"Value must be an Array",types:["Array"],run:function(e){return!0===Array.isArray(e)}},isStringValue:function(e){return{errorMessage:"Value must be '"+e+"'",types:["string"],run:function(t){return t===e}}},isArrayOf:function(e){var t=[],n=this,o={types:["Array"],run:function(o){t=[];var r;return r=e instanceof Array?e:[e],!1===n.isArray.run(o)?(t.push(n.isArray.errorMessage),!1):(i(r,function(e){i(o,function(i,n){!1===e.run(i)&&t.push("Item "+n+": "+e.errorMessage)})}),0===t.length)}};return Object.defineProperty(o,"errorMessage",{get:function(){return t.join("\n")}}),o},isNonEmptyString:{errorMessage:"Value must be a string with length > 0",types:["string"],run:function(e){return"string"==typeof e&&e.length>0}},isNonEmptyArray:{errorMessage:"Value must be an Array with length > 0",types:["Array"],run:function(e){return!0===Array.isArray(e)&&e.length>0}},isPromise:o(),or:function(){return this._multiValidator(arguments,!1)},and:function(){return this._multiValidator(arguments,!0)},_multiValidator:function(e,t){var n;n=1===e.length?Array.isArray(e[0])?e[0]:[e[0]]:Array.prototype.slice.call(e,0);var o=[],r=[],a={run:function(e){return o=[],r=[],i(n,function(i){if(!1===i.run(e))o.push(i.errorMessage),r=r.concat(i.types);else if(!0!==t)return!1}),t?0===o.length:o.length<n.length&&(o=[],r=[],!0)}};return Object.defineProperty(a,"errorMessage",{get:function(){return o.join("\n")}}),Object.defineProperty(a,"types",{get:function(){return r}}),a},greaterThan:function(e){return{errorMessage:"Value must be greater than '"+e+"'",types:["number"],run:function(t){return t>e}}},greaterThanOrEqualTo:function(e){return{errorMessage:"Value must be greater than or equal to '"+e+"'",types:["number"],run:function(t){return t>=e}}},lessThan:function(e){return{errorMessage:"Value must be less than '"+e+"'",types:["number"],run:function(t){return t<e}}},lessThanOrEqualTo:function(e){return{errorMessage:"Value must be less than or equal to '"+e+"'",types:["number"],run:function(t){return t<=e}}},isEnumerationValue:function(t){return{errorMessage:"Value must be a enumeration in '"+t+"'",types:[t],run:function(i){var n=e.get(t);return void 0!==n&&void 0!==n.getName&&void 0!==n.getName(i)}}},isFlagsValue:function(t){return{errorMessage:"Value must be a flag in '"+t+"'",types:[t],run:function(i){var n=e.get(t),o=0;return n.forEach(function(e){o|=e}),void 0!==n&&void 0!==n.getName&&i>0&&i<=o}}},isInstanceOf:function(e){return{errorMessage:"Value must be OOP type '"+e+"'",types:[e],run:function(t){if(void 0===t)return!1;var i=!1,n=t;do{if(n.typeName===e||n.typeName===e+"Mock"){i=!0;break}n="object"==typeof n&&Object.getPrototypeOf(n)}while(n);return i}}},isTemplateOf:function(e){var t=this;return{errorMessage:"Value must be a Template for '"+e+"'",types:[e],run:function(i){if(t.isInstanceOf("ui.Template").run(i)){var n=i.getOopType();return t.isDerivedClass(e).run(n)||t.isDerivedInterface(e).run(n)}return!1}}},isMapOf:function(e){var t=[],i=this,n={types:["object"],run:function(n){if(t=[],!0!==i.isObject.run(n))return t.push(i.isObject.errorMessage),!1;for(var o in n)!1===e.run(n[o])&&t.push("Item "+o+": "+e.errorMessage);return 0===t.length}};return Object.defineProperty(n,"errorMessage",{get:function(){return t.join("\n")}}),n},isMapKeysOf:function(e){var t=[],i=this,n={types:["object"],run:function(n){if(t=[],!0!==i.isObject.run(n))return t.push(i.isObject.errorMessage),!1;for(var o in n)!1===e.run(o)&&t.push("Item "+o+": "+e.errorMessage);return 0===t.length}};return Object.defineProperty(n,"errorMessage",{get:function(){return t.join("\n")}}),n},isNonEmptyMap:{errorMessage:"Value must be a map with length > 0",types:["object"],run:function(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}},isMapKeysCountEqualTo:function(e){return{errorMessage:"Value must be a map with "+e+" items",types:["object"],run:function(t){var i=0;for(var n in t)t.hasOwnProperty(n)&&i++;return i===e}}},isMapIncludesKey:function(e){return{errorMessage:"Value must be a map with '"+e+"' specified in it",types:["object"],run:function(t){for(var i in t)if(t.hasOwnProperty(i)&&i===e)return!0;return!1}}},_checkPropertyBag:function(e,t){var n={};i(e,function(e){n[e.name]=e});var o=[],r={types:["object"],run:function(r){o=[];for(var a=0,l=e.length;a<l;++a){var c=e[a];o=s._runParameterCheck(o,!0===c.optional,c.name,r[c.name],c.validation,r.hasOwnProperty(c.name))}return!1===t&&i(r,function(e,t){void 0===n[t]&&o.push("'"+t+"' is not a valid property name")}),0===o.length}};return Object.defineProperty(r,"errorMessage",{get:function(){return o.join("\n")}}),r},isPropertyBag:function(e){return this._checkPropertyBag(e,!1)},isInitializerOf:function(e){var t="Value must be an initialization object for '"+e+"'. ",n={types:[e],run:function(n){var o=s._allDocs[e];if(void 0!==o){var r=o.constructors.filter(function(e){return!1===e.isStatic&&!1===e.isSingleton&&1===e.params.length});if(r.length<1)return t+="Could not find any non-static, single parameter ctor to validate against.",!1;return r.map(function(e){return e.params[0].validation}).some(function(e){var o=!0;return i(e,function(e){return o=o&&e.run(n),!1===o&&(t+=e.errorMessage),o}),o})}return t+="Could not find any documentation for that type.",!1}};return Object.defineProperty(n,"errorMessage",{get:function(){return t}}),n},isSimplePropertyBag:{errorMessage:"Value must be a property bag with string keys and string, number or boolean values",types:["object"],
run:function(e){if("object"==typeof e&&null!==e&&e.constructor===Object&&!1===Array.isArray(e)){var t=!0;return i(e,function(e,i){t=t&&"string"==typeof i&&null!==e&&("string"==typeof e||"number"==typeof e||"boolean"==typeof e)}),t}return!1}},isExtensiblePropertyBag:function(e){return this._checkPropertyBag(e,!0)},isOopType:{errorMessage:"Value must be an OOP type",types:["function"],run:function(e){return"function"==typeof e&&e.hasOwnProperty("__typeMetadata")&&e.prototype.hasOwnProperty("__typeMetadata")}},isReactComponentType:{errorMessage:"Value must be a React Component class type. Note that pure functional React components cannot be mounted directly.",types:["function"],run:function(e){return"function"==typeof e&&void 0!==e.prototype&&e.prototype instanceof t.Component}},isDerivedClass:function(e){return{errorMessage:"Value must be class derived from OOP type '"+e+"'",types:[e],run:function(t){var i=!1,n=t.prototype;do{if(void 0===n)break;if(n.typeName===e){i=!0;break}n=Object.getPrototypeOf(n)}while(n);return i}}},implementsInterface:function(e){return{errorMessage:"Value must implement interface: '"+e+"'",types:[e],run:function(t){return void 0!==t.implementsInterfaceByName&&t.implementsInterfaceByName(e)}}},isDerivedInterface:function(e){return{errorMessage:"Value must be derived from interface: '"+e+"'",types:[e],run:function(t){var i=t.prototype;if(void 0!==i){if(i.typeName===e)return!0;for(var n=!1,o=i.constructor.__interfacesImplemented,r=0,a=o.length;r<a;++r)if(o[r].prototype.typeName===e){n=!0;break}return n}return!1}}},hasProperties:function(){var e;return e=1===arguments.length?Array.isArray(arguments[0])?arguments[0]:[arguments[0]]:Array.prototype.slice.call(arguments,0),{errorMessage:"Value must contain properties '"+e.join(", ")+"'",types:["object"],run:function(t){for(var i=!0,n=0;n<e.length;n++)if(e[n]in t==!1){i=!1;break}return i}}}},validateType:function(e,t,i,n,o){var r=this._allDocs[e];if(void 0!==r){var a=[],s=t.prototype.typeName||"Object";if(r.baseClass!==s&&a.push("Type has base class '"+s+"' but doc has '"+r.baseClass+"'"),a=this._validateTypeInterfaces(a,r,i),a=this._validateTypeConstructors(a,r,e,n,o),a.length>0){var l="["+e+"] Errors validating type documentation: "+a.join(",\n");-1===this._typeErrors.indexOf(l)&&this._typeErrors.push(l)}}},_runParameterValidation:function(e,t,i,n){Array.isArray(n)||(n=a(n));for(var o=0;o<n.length;o++){var r=n[o];!0!==r.run(i)&&(e=a(e,"Validator failed for "+t+": "+r.errorMessage))}return e},_runParameterCheck:function(e,t,i,n,o,r){return!0!==t&&!1===r&&void 0===n&&(e=a(e,"Required value not found or undefined: "+i)),(!0!==t&&!0===r||void 0!==n)&&(e=this._runParameterValidation(e,i,n,o)),e},_validateTypeInterfaces:function(e,t,i){for(var n=a(i),o=[],r=t.interfaces,s=r.length!==n.length,l=0;l<n.length;l++){var c=n[l].prototype.typeName||"Object";o.push(c),-1===r.indexOf(c)&&(s=!0)}return s&&(e=a(e,"Type has interfaces '"+o+"' but doc has '"+r+"'")),e},_validateTypeConstructors:function(e,t,i,n,o){var r=this._findMethodFromDocMethods(t.allMethods,"staticConstructor");void 0!==r&&!0!==n&&(e=a(e,"Doc has static constructor but type does not")),!0===n&&void 0===r&&(e=a(e,"Type has static constructor but doc does not"));var s=this._findMethodCore(i,"singletonConstructor");return void 0!==s&&!0!==o&&(e=a(e,"Doc has singleton constructor but type does not")),void 0===s&&!0===o&&(e=a(e,"Type has singleton constructor but doc does not")),e},registerDoc:function(e){var t,i=e.namespace+(void 0===e.className?"":"."+e.className),n=this._allDocs[i];try{t=this._processDocument(e,n)}catch(e){t=["Unknown error while processing document: "+e]}if(void 0!==t&&t.length>0)throw new Error("["+i+"] Errors verifying doc: "+t.join(",\n"));this._allDocs[i]=e},getArgumentValidationForMethod:function(e,t){var i,n=this._findMethod(e,t);if(void 0!==n){var o="["+e+"]["+t+"] Argument validation failed with errors";i=this._createArgValidator(o,n),i.delegateValidation=this._getDelegateValidationForMethod(e,t,n,this._getDeferredValidationForMethodArgs),i.promiseValidation=this._getPromiseValidationForMethod(e,t,n,this._getDeferredValidationForMethodArgs)}return i},_createArgValidator:function(e,t){return function(i,n){var o,r=void 0===t.params?0:t.params.length;!0!==t.variableArgCount&&n.length>r&&(o=a(o,"Expected maximum argument count of '"+r+"' but got '"+n.length+"'"));for(var l=0;l<r;l++){var c=t.params[l],d=n[l];!0===i&&!0===c.initOnly&&(o=a(o,"Cannot set initOnly property '"+c.name+"' after constructor")),o=s._runParameterCheck(o,c.optional,c.name,d,c.validation,!1)}if(void 0!==o&&o.length>0)throw new Error(e+": "+o.join(",\n"))}},_getDelegateValidationForMethod:function(e,t,i,n){var o=this;return n(e,t,i,"delegateDoc",function(e,t){return{validateArgs:o._createArgValidator(e,t),validateReturn:o._createReturnValueValidator(e,t.returnValue)}})},_getPromiseValidationForMethod:function(e,t,i,n){var o=this;return n(e,t,i,"promiseValidation",function(e,t){return{validateResolved:o._createReturnValueValidator(e,{optional:t.isOptional,validation:t.resolved}),validateRejected:o._createReturnValueValidator(e,{optional:!1,validation:t.rejected})}})},_getDeferredValidationForMethodArgs:function(e,t,n,o,r){var a;return i(n.params,function(n,s){i(n.validation,function(i){var l=i[o];if(void 0!==l){var c="["+e+"]["+t+"]";if(-1===t.indexOf("set_")&&(c+="[arg: "+n.name+"]"),c+=" Deferred validation failed with errors",a=a||{},void 0!==a[s])throw new Error(c+": Cannot have multiple deferred validators");a[s]=r(c,l)}})}),a},getReturnValidationForMethod:function(e,t){var i,n=this._findMethod(e,t);if(void 0!==n){var o="["+e+"]["+t+"] Return value validation failed with errors";i=this._createReturnValueValidator(o,n.returnValue),void 0!==n.returnValue&&(i.delegateValidation=this._getDelegateValidationForMethod(e,t,n,this._getDeferredValidationForMethodReturnValue),i.promiseValidation=this._getPromiseValidationForMethod(e,t,n,this._getDeferredValidationForMethodReturnValue))}return i},_createReturnValueValidator:function(e,t){return function(i,n){var o;if(void 0!==t){var r=!0===t.optional||!1===i;o=s._runParameterCheck(o,r,"returnValue",n,t.validation,!1)}else void 0!==n&&(o=a(o,"unexpected return value"));if(void 0!==o&&o.length>0)throw new Error(e+": "+o.join(",\n"))}},_getDeferredValidationForMethodReturnValue:function(e,t,n,o,r){var a;return i(n.returnValue.validation,function(i){var n=i[o];if(void 0!==n){var s="["+e+"]["+t+"][returnValue]";if(s+=" Deferred validation failed with errors",void 0!==a)throw new Error(s+": Cannot have multiple deferred validators");a=r(s,n)}}),a},_processDocument:function(e,t){var i;return e.baseClass=void 0===e.baseClass?"Object":e.baseClass,e.interfaces=a(e.interfaces),e.mixins=a(e.mixins),e.properties=a(e.properties),e.collections=a(e.collections),e.events=a(e.events),e.constructors=a(e.constructors),e.methods=a(e.methods),i=this._addMissingDataErrors(i,e,"docData","namespace","description"),i=this._addPropertyErrors(i,e),i=this._addCollectionErrors(i,e),i=this._addEventErrors(i,e),i=this._addConstructorErrors(i,e),i=this._addMethodErrors(i,e),e.allMethods=[],e.allMethods=a(e.allMethods,this._getMethodMetaDataForProperties(e)),e.allMethods=a(e.allMethods,this._getMethodMetaDataForCollections(e)),e.allMethods=a(e.allMethods,this._getMethodMetaDataForEvents(e)),e.allMethods=a(e.allMethods,this._getMethodMetaDataForConstructors(e)),e.allMethods=a(e.allMethods,e.methods),void 0!==t&&(e.interfaces=a(e.interfaces,t.interfaces),e.mixins=a(e.mixins,t.mixins),e.properties=a(e.properties,t.properties),e.collections=a(e.collections,t.collections),e.events=a(e.events,t.events),e.constructors=a(e.constructors,t.constructors),e.methods=a(e.methods,t.methods),e.allMethods=a(e.allMethods,t.allMethods)),i},_addPropertyErrors:function(e,t){return this._addPropertyErrorsCommon(e,"Property",t.properties)},_addPropertyErrorsCommon:function(e,t,i){for(var n=0;n<i.length;n++){var o=i[n];o.optional=!0===o.optional,o.isStatic=!0===o.isStatic,o.isReadOnly=!0===o.isReadOnly,o.initOnly=!0===o.initOnly,o.setOptional=!0===o.setOptional,o.getValidation=a(o.getValidation?o.getValidation:o.validation),o.setValidation=a(o.setValidation?o.setValidation:o.validation),e=this._addMissingDataErrors(e,o,t+o.name,"name","description"),e=this._addValidatorErrors(e,o.getValidation),e=this._addValidatorErrors(e,o.setValidation)}return e},_addCollectionErrors:function(e,t){for(var i=0;i<t.collections.length;i++){var n=t.collections[i];n.isStatic=!0===n.isStatic,n.validation=a(n.validation),e=this._addMissingDataErrors(e,n,"Collection:"+n.name,"name","description"),e=this._addValidatorErrors(e,n.validation)}return e},_addEventErrors:function(e,t){for(var i=0;i<t.events.length;i++){var n=t.events[i];n.isStatic=!0===n.isStatic,n.variableArgCount=!0===n.variableArgCount,n.params=a(n.params),e=this._addMissingDataErrors(e,n,"Event:"+n.name,"name","description"),e=this._addMethodParamErrors(e,n.params)}return e},_addConstructorErrors:function(e,t){for(var i=!1,n=!1,o=0;o<t.constructors.length;o++){var r=t.constructors[o];r.isStatic=!0===r.isStatic,r.isSingleton=!0===r.isSingleton,r.variableArgCount=!0===r.variableArgCount,r.params=a(r.params),!0===r.isStatic?(!0===r.isSingleton&&(e=a(e,"singleton constructor cannot be static")),!0===i&&(e=a(e,"cannot have multiple static constructors"))):!0===n&&(e=a(e,"cannot have multiple non-static constructors")),e=this._addMissingDataErrors(e,r,"Constructor","description"),e=this._addMethodParamErrors(e,r.params),!0===r.isStatic?i=!0:n=!0}return e},_addMethodErrors:function(e,t){for(var i=0;i<t.methods.length;i++){var n=t.methods[i];n.isStatic=!0===n.isStatic,n.variableArgCount=!0===n.variableArgCount,n.params=a(n.params),e=this._addMissingDataErrors(e,n,"Method:"+n.name,"name","description"),e=this._addMethodParamErrors(e,n.params),e=this._addMethodReturnErrors(e,n.returnValue)}return e},_addMethodParamErrors:function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.optional=!0===n.optional,n.validation=a(n.validation),e=this._addMissingDataErrors(e,n,"Parameter:"+n.name,"name","description"),e=this._addValidatorErrors(e,n.validation)}return e},_addMethodReturnErrors:function(e,t){return void 0!==t&&(t.optional=!0===t.optional,t.validation=a(t.validation),e=this._addMissingDataErrors(e,t,"returnValue","description"),e=this._addValidatorErrors(e,t.validation)),e},_addMissingDataErrors:function(e,t,i){for(var n=3;n<arguments.length;n++){var o=arguments[n];void 0===t[o]&&(e=a(e,"Expected '"+i+"' to have '"+o+"'' defined"))}return e},_addValidatorErrors:function(e,t){Array.isArray(t)||(t=a(t));for(var i=0;i<t.length;i++){var n=t[i];"string"!=typeof n.errorMessage&&"function"!=typeof n.errorMessage&&(e=a(e,"Expected argument validator errorMessage to return a string")),"function"!=typeof n.run&&(e=a(e,"Expected argument validator run to be a function"))}return e},_findMethod:function(e,t){var i=this._findMethodCore(e,t);if(void 0===i&&void 0!==this._allDocs[e]&&!1===r.test(t)){var n="["+e+"] Could not find documentation for method '"+t+"'";-1===this._methodNameErrors.indexOf(n)&&this._methodNameErrors.push(n)}return i},_findMethodCore:function(e,t){for(var i=this._allDocs[e];void 0!==i;){var n=this._findMethodFromDocMethods(i.allMethods,t);if(void 0!==n)return n;if(void 0!==(n=this._findMethodFromInterfaces(i.interfaces,t)))return n;if(void 0!==(n=this._findMethodFromMixins(i.mixins,t)))return n;i=this._allDocs[i.baseClass]}},_findMethodFromInterfaces:function(e,t){for(var i=0;i<e.length;i++){var n=this._allDocs[e[i]];if(void 0!==n){var o=this._findMethodFromDocMethods(n.allMethods,t);if(void 0!==o)return o;if(void 0!==(o=this._findMethodFromInterfaces(n.interfaces,t)))return o}}},_findMethodFromMixins:function(e,t){for(var i=0;i<e.length;i++){var n=this._findMethodCore(e[i],t);if(void 0!==n)return n}},_findMethodFromDocMethods:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n.name===t)return n}},_getMethodMetaDataForProperties:function(e){return this._getMethodMetaDataForPropertiesCommon(e.properties)},_getMethodMetaDataForPropertiesCommon:function(e){for(var t,i=0;i<e.length;i++){var n=e[i],o=n.getValidation,r=n.setValidation,s=[{name:"get_"+n.name,description:n.description,params:[],returnValue:{description:"Result from Get",optional:!0===n.optional,initOnly:n.initOnly,validation:o}},{name:"set_"+n.name,description:n.description,params:[{name:"setValue",description:"The value to Set",optional:!0===n.optional||!0===n.setOptional,initOnly:n.initOnly,validation:r}]}];t=a(t,s)}return t},_getMethodMetaDataForCollections:function(e){for(var t,i=0;i<e.collections.length;i++){var n=e.collections[i],o=[{name:"onAdded_"+n.name,description:n.description,params:[{name:"addedItem",description:"The item being added",optional:n.optional,validation:n.validation},{name:"addedIndex",description:"The new index",validation:this.validation.isNumber}]},{name:"onRemoved_"+n.name,description:n.description,params:[{name:"removedItem",description:"The item removed",optional:n.optional,validation:n.validation},{name:"removedIndex",description:"The removed item index",validation:this.validation.isNumber}]},{name:"onAdding_"+n.name,description:n.description,params:[{name:"addingItem",description:"The item being added",optional:n.optional,validation:n.validation},{name:"addingIndex",description:"The new index",validation:this.validation.isNumber}]},{name:"get_"+n.name,description:"Getter for event "+n.name,params:[],returnValue:{description:"Result from Get",optional:!1,initOnly:!1,validation:this.validation.isInstanceOf("core.oop.common.Collection")}},{name:"get_"+n.name+"Created",description:"Determines if event "+n.name+" is created",params:[],returnValue:{description:"Result from Get",optional:!1,initOnly:!1,validation:this.validation.isBoolean}}];t=a(t,o)}return t},_getMethodMetaDataForEvents:function(e){for(var t,i=0;i<e.events.length;i++){var n=e.events[i],o=[{name:"onEvent_"+n.name,description:n.description,variableArgCount:n.variableArgCount,params:n.params},{name:"get_"+n.name,description:"Getter for event "+n.name,params:[],returnValue:{description:"Result from Get",optional:!1,initOnly:!1,validation:this.validation.isInstanceOf("core.oop.common.Event")}},{name:"get_"+n.name+"Created",description:"Determines if event "+n.name+" is created",params:[],returnValue:{description:"Result from Get",optional:!1,initOnly:!1,validation:this.validation.isBoolean}}];t=a(t,o)}return t},_getMethodMetaDataForConstructors:function(e){for(var t,i=0;i<e.constructors.length;i++){var n,o=e.constructors[i];n=!0===o.isStatic?"staticConstructor":!0===o.isSingleton?"singletonConstructor":"constructor";var r=[{name:n,description:o.description,variableArgCount:o.variableArgCount,params:o.params}];t=a(t,r)}return t},_allDocs:{}};return s})}(),function(){"use strict";define("core/oop/property",["core/oop/classDefContext","core/oop/diagnostics","lib/lodash/objects/forOwn","core/oop/docs"],function(e,t,i,n){var o=function(i,n,o,r){if(r=void 0===r?i:r,void 0!==t.emitter&&t.emitter.isEnabledForMethod(e.qualifiedClassName,r)){var s="__"+i;a(i,function(){return this[s]},o?void 0:function(e){this[s]=e},r),i=s}var l=0!==i.indexOf("_");Object.defineProperty(e.memberTarget,i,{enumerable:l,configurable:!0,writable:!o,value:n}),e.memberTarget.__typeMetadata.properties[i]={writable:!o}},r=function(t,i,n){var o=0!==t.indexOf("_");i.displayName=e.currentClass+".get_"+t,void 0!==n&&(n.displayName=e.currentClass+".set_"+t),Object.defineProperty(e.memberTarget,t,{get:i,set:n,enumerable:o,configurable:!0}),e.memberTarget.__typeMetadata.properties[t]={writable:void 0!==n}},a=function(i,n,o,a){a=void 0===a?i:a,void 0!==t.emitter&&t.emitter.isEnabledForMethod(e.qualifiedClassName,a)&&(n=t.emitter.wrapMethod(e.qualifiedClassName,a,"get_"+a,n),o=void 0===o?o:t.emitter.wrapMethod(e.qualifiedClassName,a,"set_"+a,o)),r(i,n,o)},s=function(e,t){var i="_"+e;o(i,t,!1,e),a(e,function(){return this[i]})},l=function(e,t,i,n){var r="_"+e;if(n){var s=e;e=r,r="_"+r,a(s,function(){return this[r]}),o(r,t,!1,e)}else o(r,t);a(e,function(){return this[r]},function(t){var n=this[r];n!==t&&(this[r]=t,i.call(this,t,n,e))})},c=function(e){return void 0===e.get?"'set' can only be used if 'get' is also specified":!0===e.privateSet?"'privateSet' should not be true with 'get'":void 0!==e.onChange?"'onChange' cannot be used with 'get'":!0===e.readOnlyField?"'readOnlyField' should not be specified for get/set properties":void 0!==e.defaultValue?"'defaultValue' cannot be used with 'get'":"function"!=typeof e.get?"'get' must be a function":void 0!==e.set&&"function"!=typeof e.set?"'set' must be a function":void 0},d=function(e){if(!0===e.readOnlyField)return!0===e.privateSet?"'readOnlyField' cannot be true when 'privateSet' is true":"'readOnlyField' cannot be true with 'onChange'.";if(void 0!==e.onChange)if("string"==typeof e.onChange){var t=e.onChange;e.onChange=function(){this[t].apply(this,arguments)}}else if("function"!=typeof e.onChange)return"'onChange' must be either a string indicating an class method to call, or a callback function"},u=function(e){return e.hasOwnProperty("get")?!0===e.privateSet?"'privateSet' should not be true for an interface.":void 0!==e.onChange?"An interface cannot require an onChange handler":!0===e.readOnlyField?"Interfaces cannot mandate a property is a field.":void 0!==e.defaultValue?"Interfaces cannot set a default value.":void 0!==e.get?"Interfaces cannot have a non-undefined value for 'get'":void 0!==e.set?"Interfaces cannot have a non-undefined value for 'set'":void 0:"Interface properties must have a getter"},p=function(e){if("object"!=typeof e||null===e||Array.isArray(e))return"Property definition must be an object (Are you trying to set default value?). DefaultValue must be defined like properties({ name: { defaultValue: <value> }}) with the exception of undefined, which can be defined like properties({ name: undefined}).";var t={defaultValue:void 0,valueNeeded:void 0,privateSet:void 0,set:void 0,get:void 0,readOnlyField:void 0,onChange:void 0},n="";return i(e,function(e,i){t.hasOwnProperty(i)||(n+="'"+i+"' is not valid to use in property definition. \n")}),n.length>0?n:void 0},h=function(e){null===e||Object.isFrozen(e)||(t.sealObject(e,Object.freeze),Object.getOwnPropertyNames(e).forEach(function(t){"object"==typeof e[t]&&"__proto__"!==t&&h(e[t])}))};return function(t,i){var r=function(i){if(void 0!==i)throw i=e.currentClass.prototype.typeName+" had the following error while defining property '"+t+"': "+i,new Error(i)};if(void 0===e.currentClass)throw new Error("A property can only be defined within the body of a class.");if("string"!=typeof t)throw new Error("Property name must be a string.");void 0===i?i={}:r(p(i));var g=e.memberTarget===e.currentClass;!0!==n.validation.isEnabled||e.memberTarget.__typeMetadata.isSingleton||g||"object"!=typeof i.defaultValue||h(i.defaultValue),e.currentClass.__isInterface&&!g?(r(u(i)),e.memberTarget.__typeMetadata.properties[t]={writable:i.hasOwnProperty("set")}):void 0!==i.get||void 0!==i.set?(r(c(i)),a(t,i.get,i.set)):!0===i.privateSet||void 0!==i.onChange?(r(d(i)),void 0===i.onChange?s(t,i.defaultValue):l(t,i.defaultValue,i.onChange,i.privateSet)):o(t,i.defaultValue,i.readOnlyField)}})}(),function(e){"use strict";define("core/oop/constructor",["core/oop/classDefContext","core/oop/diagnostics","core/oop/property"],function(t,i,n){var o=function(e,t){if(null!==t&&t!==Object){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n];if(!e.hasOwnProperty(r)&&"__proto__"!==r){var a=Object.getOwnPropertyDescriptor(t,r);a.enumerable=!1,Object.defineProperty(e,r,a)}}t=Object.getPrototypeOf(t),o(e,t)}},r=function(e,o){var a=function(e){throw e=t.currentClass.prototype.typeName+" had the following error while defining a constructor: "+e,new Error(e)};if(void 0===t.currentClass&&a("A constructor can only be defined within the body of a class."),t.currentClass.__isInterface&&a("Constructors can't be defined for interfaces."),"function"!=typeof e&&a("The ctor argument must be a function."),t.memberTarget===t.currentClass)!0===o&&a("Cannot have a static singleton constructor."),void 0!==t.staticCtor&&a("Only one static constructor can be defined for a class."),void 0!==i.emitter&&i.emitter.isEnabledForMethod(t.qualifiedClassName,"staticConstructor")&&(e=i.emitter.wrapMethod(t.qualifiedClassName,"staticConstructor","staticConstructor",e)),t.staticCtor=e;else{t.hasExplicitCtor&&a("Only one non-static constructor can be defined for a class."),n("isInitialized",{get:function(){return this._isInitialized}}),n("_isInitialized",{defaultValue:!1});var s=!0===o?"singletonConstructor":"constructor";void 0!==i.emitter&&i.emitter.isEnabledForMethod(t.qualifiedClassName,s)&&(e=i.emitter.wrapMethod(t.qualifiedClassName,s,s,e));var l=t.currentClass.prototype;l.$ctor=e,r.preventExtensions?t.currentClass.new=function(){var t=Object.create(l);return r.setExtensibility(t),e.apply(t,arguments),t._isInitialized=!0,t}:t.currentClass.new=function(){var t=Object.create(l);return e.apply(t,arguments),t._isInitialized=!0,t},t.hasExplicitCtor=!0}};return r.preventExtensions=e.build.features.preventExtensions,r.setExtensibility=function(e){if(r.preventExtensions){var t=Object.getPrototypeOf(e);t!==Object&&Object.isExtensible(t.constructor)||(o(e,t),i.sealObject(e,Object.preventExtensions))}},r})}(this),function(){"use strict";define("core/oop/method",["core/oop/classDefContext","core/oop/diagnostics"],function(e,t){return function(i,n){var o=function(t){throw t=e.currentClass.prototype.typeName+" had the following error while defining a method: "+t,new Error(t)};void 0===e.currentClass&&o("A method can only be defined within the body of a class."),"string"!=typeof i&&o("The name argument must be a string."),void 0===n?e.currentClass.__isInterface||o("The impl argument must be a function."):(e.currentClass.__isInterface&&o("Interface methods cannot have an implementation."),"function"!=typeof n&&o("The impl argument must be a function."),void 0!==t.emitter&&t.emitter.isEnabledForMethod(e.qualifiedClassName,i)&&(n=t.emitter.wrapMethod(e.qualifiedClassName,i,i,n)),n.displayName=e.currentClass+"."+i,e.memberTarget[i]=n),e.memberTarget.__typeMetadata.methods[i]=!0}})}(),function(){"use strict";define("core/oop/properties",["core/oop/property"],function(e){return function(t){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}})}(),function(){"use strict";define("core/oop/staticScope",["core/oop/classDefContext"],function(e){return function(t){if(void 0===e.currentClass)throw new Error("staticScope can only be defined within the body of a class.");if("function"!=typeof t)throw new Error("The scope argument must be a function.");e.memberTarget=e.currentClass,t.call(e.currentClass),e.memberTarget=e.currentClass.prototype}})}(),define("lib/lodash/objects/forIn",["../internals/createIterator","../internals/eachIteratorOptions","../internals/forOwnIteratorOptions"],function(e,t,i){return e(t,i,{useHas:!1})}),define("lib/lodash/internals/arrayPool",[],function(){return[]}),define("lib/lodash/internals/getArray",["./arrayPool"],function(e){function t(){return e.pop()||[]}return t}),define("lib/lodash/internals/isNode",[],function(){function e(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}return e}),define("lib/lodash/internals/maxPoolSize",[],function(){return 40}),define("lib/lodash/internals/releaseArray",["./arrayPool","./maxPoolSize"],function(e,t){function i(i){i.length=0,e.length<t&&e.push(i)}return i}),define("lib/lodash/internals/baseIsEqual",["../objects/forIn","./getArray","../objects/isArguments","../objects/isFunction","./isNode","./objectTypes","./releaseArray","../support"],function(e,t,i,n,o,r,a,s){function l(v,w,b,S,C,T){if(b){var R=b(v,w);if(void 0!==R)return!!R}if(v===w)return 0!==v||1/v==1/w;var P=typeof v,E=typeof w;if(!(v!==v||v&&r[P]||w&&r[E]))return!1;if(null==v||null==w)return v===w;var I=y.call(v),x=y.call(w);if(I==c&&(I=g),x==c&&(x=g),I!=x)return!1;switch(I){case u:case p:return+v==+w;case h:return v!=+v?w!=+w:0==v?1/v==1/w:v==+w;case f:case m:return v==String(w)}var A=I==d;if(!A){if(_.call(v,"__wrapped__ ")||_.call(w,"__wrapped__"))return l(v.__wrapped__||v,w.__wrapped__||w,b,S,C,T);if(I!=g||!s.nodeClass&&(o(v)||o(w)))return!1;var k=!s.argsObject&&i(v)?Object:v.constructor,V=!s.argsObject&&i(w)?Object:w.constructor;if(k!=V&&!(n(k)&&k instanceof k&&n(V)&&V instanceof V))return!1}var M=!C;C||(C=t()),T||(T=t());for(var D=C.length;D--;)if(C[D]==v)return T[D]==w;var O=0;if(R=!0,C.push(v),T.push(w),A){if(D=v.length,O=w.length,!(R=O==v.length)&&!S)return R;for(;O--;){var N=D,F=w[O];if(S)for(;N--&&!(R=l(v[N],F,b,S,C,T)););else if(!(R=l(v[O],F,b,S,C,T)))break}return R}return e(w,function(e,t,i){if(_.call(i,t))return O++,R=_.call(v,t)&&l(v[t],e,b,S,C,T)}),R&&!S&&e(v,function(e,t,i){if(_.call(i,t))return R=--O>-1}),M&&(a(C),a(T)),R}var c="[object Arguments]",d="[object Array]",u="[object Boolean]",p="[object Date]",h="[object Number]",g="[object Object]",f="[object RegExp]",m="[object String]",v=Object.prototype,_=v.hasOwnProperty,y=v.toString;return l}),define("lib/lodash/objects/isEqual",["../internals/baseCreateCallback","../internals/baseIsEqual"],function(e,t){function i(i,n,o,r){return t(i,n,"function"==typeof o&&e(o,r,2))}return i}),function(){"use strict";define("core/oop/isEqual",["lib/lodash/objects/isEqual"],function(e){function t(n,o){var r;if(i(n)&&i(o)&&Object.getPrototypeOf(n)===Object.getPrototypeOf(o))for(var a=Object.getPrototypeOf(n);void 0!==a.__typeMetadata;){var s=Object.keys(a.__typeMetadata.properties);for(r=0;r<s.length;++r){var l=s[r];if(!t(n[l],o[l]))return!1}a=Object.getPrototypeOf(a)}else{if(!Array.isArray(n)||!Array.isArray(o)||n.length!==o.length)return e(n,o);for(r=0;r<n.length;++r)if(!t(n[r],o[r]))return!1}return!0}function i(e){return"object"==typeof e&&void 0!==e.typeName&&Object.getPrototypeOf(e).hasOwnProperty("__typeMetadata")}return t})}(),function(global){"use strict";define("core/oop/typeDef",["core/oop/classDefContext","core/oop/constructor","core/oop/method","core/oop/properties","core/oop/staticScope","core/oop/diagnostics","core/oop/typeRegistry","core/oop/isEqual","core/oop/docs","lib/lodash/objects/forOwn","lib/lodash/objects/isEqual"],function(classDefContext,constructor,method,properties,staticScope,diagnostics,typeRegistry,isEqual,docs,ldForOwn,ldIsEqual){function resetClassDefContext(){classDefContext.currentClass=void 0,classDefContext.memberTarget=void 0,classDefContext.hasExplicitCtor=!1,classDefContext.staticCtor=void 0,classDefContext.qualifiedClassName=void 0}function extractBaseClass(e,t){var i;return e.forEach(function(e){if(!e.__isInterface){if(!t)throw new Error("Interfaces cannot have non-interfaces as base classes");if(void 0!==i)throw new Error("A non-interface type can only have one non-interface base type. "+e+" is the second, and "+i+" is the first.");i=e}}),void 0===i&&(i=Object),i}function extractInterfaces(e,t){var i=[];return e.forEach(function(e){if(e.__isInterface){if(-1!==i.indexOf(e))throw new Error("Duplicate interface found, this is not supported");i.push(e)}if(t){(e.__interfacesImplemented||[]).forEach(function(e){-1===i.indexOf(e)&&i.push(e)})}}),i}function implementsInterface(e){return this.constructor.__interfacesImplemented.indexOf(e)>=0}function implementsInterfaceByName(e){for(var t=this.constructor.__interfacesImplemented,i=0,n=t.length;i<n;++i)if(t[i].prototype.typeName===e)return!0;return!1}function findMetadata(e,t,i){for(var n,o=e.prototype;void 0===n&&void 0!==o.__typeMetadata;)n=o.__typeMetadata[t][i],o=Object.getPrototypeOf(o);return n}function verifyTypeImplementsInterface(e,t){var i=[];if(ldForOwn(t.prototype.__typeMetadata.properties,function(t,n){var o=findMetadata(e,"properties",n);(void 0===o||!1===o.writable&&!0===t.writable)&&i.push("Property '"+n+"' is not implemented (must be writable).")}),ldForOwn(t.prototype.__typeMetadata.methods,function(t,n){var o=findMetadata(e,"methods",n);ldIsEqual(o,t)||i.push("Method '"+n+"' is not implemented.")}),ldForOwn(t.prototype.__typeMetadata.collections,function(t,n){var o=findMetadata(e,"collections",n);ldIsEqual(o,t)||i.push("Collection '"+n+"' is not implemented.")}),ldForOwn(t.prototype.__typeMetadata.events,function(t,n){var o=findMetadata(e,"events",n);ldIsEqual(o,t)||i.push("Event '"+n+"' is not implemented.")}),t.prototype.__typeMetadata.isSingleton&&(e.prototype.__typeMetadata.isSingleton||i.push("Interface requires singleton.")),t.prototype.__typeMetadata.hasInitConstructor&&(e.prototype.__typeMetadata.hasInitConstructor||i.push("Interface requires init constructor.")),i.length>0)throw new Error("Type: '"+e.prototype.typeName+"' does not implement interface: '"+t.prototype.typeName+"' - "+i.join("\n"))}function convertToSingleton(e,t){var i=e.new;staticScope(function(){properties({_singleton:void 0,singleton:{get:function(){return void 0===this._singleton&&(this._singleton=i.call(e)),this._singleton}}})}),e.new=function(){throw new Error(t+" has a singleton and cannot be instantiated.  Use "+t+".singleton to interact with the one instance.")},e._new=i}function setExtensibility(e,t,i){void 0===i&&(i=t!==Object&&Object.isExtensible(t)),!i&&constructor.preventExtensions&&diagnostics.sealObject(e,Object.preventExtensions)}function createConstructor(name){var currentClass=function(){throw new Error("All oop types should use 'Class.new()' instead of 'new Class()'")};if(!0===global.build.features.evalConstructorNames&&!0!==global.build.features.postprocess){var ctorNames=name.split("."),ctorName=ctorNames[ctorNames.length-1];currentClass=eval("(function() {\n"+currentClass.toString().replace(/function\s*/,"function "+ctorName)+"   return "+ctorName+";\n})();")}return currentClass}var classDef=function(e,t,i,n,o){if(void 0!==classDefContext.currentClass)throw new Error("class '"+e+"' cannot be defined while inside another class definition.");if(arguments.length<4||arguments.length>5)throw new Error("this method requires 4 or 5 arguments");if("string"!=typeof e)throw new Error("The name argument must be a string.");if("boolean"!=typeof i)throw new Error("isInterface must be a boolean");t=t||[],Array.isArray(t)||(t=[t]);var r=extractBaseClass(t,!i);if("function"!=typeof n)throw new Error("The body argument must be a function.");resetClassDefContext();var a=createConstructor(e);a.toString=function(){return e},a.prototype=Object.create(r.prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,"typeName",{enumerable:!1,get:function(){return e}}),classDefContext.qualifiedClassName=e,classDefContext.currentClass=a,classDefContext.memberTarget=a.prototype,a.__isInterface=i,a.prototype.implementsInterface=implementsInterface,a.prototype.implementsInterfaceByName=implementsInterfaceByName,a.__typeMetadata={properties:{},methods:{},collections:{},events:{},isSingleton:!1,hasInitConstructor:!1},a.prototype.__typeMetadata={properties:{},methods:{},collections:{},events:{},isSingleton:!1,hasInitConstructor:!1};try{if(a.__interfacesImplemented=extractInterfaces(t,!0),!0!==a.__isInterface&&r===Object&&method("equals",function(e){return isEqual(this,e)}),n.call(a,r.prototype),a.prototype.__typeMetadata.isSingleton&&!a.__isInterface&&convertToSingleton(a,e),setExtensibility(a,r,o),void 0!==classDefContext.staticCtor&&classDefContext.staticCtor.call(a),docs.validation.isEnabled){var s=r.prototype;if(void 0!==s.__typeMetadata&&!0===s.__typeMetadata.isSingleton)throw new Error("A singleton class cannot be derived from.");a.__isInterface||a.__interfacesImplemented.forEach(function(e){verifyTypeImplementsInterface(a,e)});var l=extractInterfaces(t,!1),c=void 0!==classDefContext.staticCtor,d=a.prototype.__typeMetadata.isSingleton||!1;docs.validateType(e,r,l,c,d)}}finally{resetClassDefContext()}return typeRegistry.register(e,a),a};return classDef.createConstructor=createConstructor,classDef})}(this),function(){"use strict"
;define("core/oop/classDef",["core/oop/typeDef"],function(e){return function(t,i,n,o){return e(t,i,!1,n,o)}})}(),function(){"use strict";define("core/oop/methods",["core/oop/method"],function(e){return function(t){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}})}(),function(){"use strict";define("core/oop/enumDef",["core/oop/classDefContext","core/oop/classDef","core/oop/property","core/oop/staticScope","core/oop/methods"],function(e,t,i,n,o){return function(r,a,s){if(void 0!==e.currentClass)throw new Error("enum '"+r+"' cannot be defined while inside another class definition.");if("string"!=typeof r)throw new Error("The name argument must be a string.");if("object"!=typeof a)throw new Error("The values argument must be an array or object.");return t(r,Object,function(){n(function(){if(Array.isArray(a)){var e=a;a={};for(var t=0;t<e.length;++t)a[e[t]]=t}var n=function(e,t){for(var i in a)a.hasOwnProperty(i)&&e.call(t,a[i],i)};n(function(e,t){i(t,{defaultValue:e,readOnlyField:!0})}),o({forEach:n,getName:function(e){for(var t in a)if(a.hasOwnProperty(t)&&a[t]===e)return t},getEnumCount:function(){return Object.keys(a).length}})})},s)}})}(),function(){"use strict";define("core/oop/flagsDef",["core/oop/classDefContext","core/oop/diagnostics","core/oop/enumDef","core/oop/constructor"],function(e,t,i,n){return function(o,r){if(void 0!==e.currentClass)throw new Error("flags '"+o+"' cannot be defined while inside another class definition.");if("string"!=typeof o)throw new Error("The name argument must be a string.");if(!Array.isArray(r))throw new Error("The values argument must be an array.");for(var a={NONE:0},s=1,l=0;l<r.length;++l)a[r[l]]=s,s*=2;var c=i(o,a,!0);return c.testFlag=function(e,t){return(e&t)===t},c.setFlag=function(e,t,i){return!0===i?e|=t:e&=~t,e},n.preventExtensions&&t.sealObject(c,Object.preventExtensions),c}})}(),function(){"use strict";define("core/oop/mixin",["core/oop/classDefContext","lib/lodash/objects/forOwn"],function(e,t){function i(e,t,i){Object.getOwnPropertyNames(t).forEach(function(n){-1===i.indexOf(n)&&Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}function n(e,i){if(t(i.__typeMetadata.properties,function(t,i){e.__typeMetadata.properties[i]=t}),t(i.__typeMetadata.methods,function(t,i){e.__typeMetadata.methods[i]=t}),t(i.__typeMetadata.collections,function(t,i){e.__typeMetadata.collections[i]=t}),t(i.__typeMetadata.events,function(t,i){e.__typeMetadata.events[i]=t}),!0===i.__typeMetadata.isSingleton)throw new Error("Mixing in singleton types is potentially dangerous and thus unsupported");!0===i.__typeMetadata.hasInitConstructor&&(e.__typeMetadata.hasInitConstructor=!0)}function o(e,t){i(e,t,["length","name","arguments","caller","prototype","__interfacesImplemented","__isInterface","__typeMetadata"]),i(e.prototype,t.prototype,["constructor","implementsInterface","typeName","__typeMetadata"]),t.__interfacesImplemented.forEach(function(t){-1===e.__interfacesImplemented.indexOf(t)&&e.__interfacesImplemented.push(t)}),n(e,t),n(e.prototype,t.prototype)}return function(t,i){if(void 0===e.currentClass){if(2!==arguments.length)throw new Error("When mixin is called outside of a classDef body, the dest and source must be specified.");o(t,i)}else{if(1!==arguments.length)throw new Error("When mixin is called inside of a classDef body, only the source must be specified.");o(e.currentClass,t)}}})}(),function(){"use strict";define("core/oop/common/Event",["core/oop/classDef","core/oop/constructor","core/oop/properties","core/oop/methods"],function(e,t,i,n){return e("core.oop.common.Event",Object,function(){t(function(e){void 0!==e&&(this._owner=e),this._handlers=[]}),i({owner:{get:function(){return this._owner||this}},hasListeners:{get:function(){return this._handlers.length>0}},_handlers:{defaultValue:void 0},_handlersCount:void 0,_owner:void 0,_currIndex:void 0}),n({on:function(e){if("function"!=typeof e)throw new Error("The handler argument must be a function.");this._handlers.push(e)},once:function(e){if("function"!=typeof e)throw new Error("The handler argument must be a function.");var t=function(){e.apply(this.owner,arguments),this.off(t)};t=t.bind(this),this._handlers.push(t)},off:function(e){if("function"!=typeof e)throw new Error("The handler argument must be a function.");var t=this._handlers,i=t.indexOf(e);i>=0&&(t.splice(i,1),void 0!==this._handlersCount&&this._handlersCount--,void 0!==this._currIndex&&this._currIndex>=i&&this._currIndex--)},_emit:function(){var e,t=this._handlers,i=this.owner;for(this._handlersCount=t.length,this._currIndex=0;this._currIndex<this._handlersCount;this._currIndex++)e=t[this._currIndex].apply(i,arguments);return this._currIndex=void 0,this._handlersCount=void 0,e}})})})}(),function(){"use strict";define("core/oop/event",["core/oop/classDefContext","core/oop/common/Event","core/oop/property","core/oop/method","core/oop/diagnostics"],function(e,t,i,n,o){return function(r,a){var s=function(t){throw t=e.currentClass.prototype.typeName+" had the following error while defining the event '"+r+"': "+t,new Error(t)};if(void 0===e.currentClass&&s("event '"+r+"' can only be defined within the body of a class."),"string"!=typeof r&&s("The name argument must be a string."),void 0!==a&&"function"!=typeof a&&s("The classHandler argument must be a function."),e.currentClass.__isInterface&&void 0!==a&&s("Interfaces cannot specify a classHandler."),void 0!==o.emitter&&o.emitter.isEnabledForMethod(e.qualifiedClassName,r)&&(a=o.emitter.wrapMethod(e.qualifiedClassName,r,"onEvent_"+r,a)),!e.currentClass.__isInterface){var l="_"+r;i(l,void 0),i(r,{get:function(){var e=this[l];return void 0===e&&(e=t.new(this),void 0!==a&&e.on(a),this[l]=e),e}});var c="_on"+r.substr(0,1).toUpperCase()+r.substr(1);n(c,function(){var e=this[r];e._emit.apply(e,arguments)})}e.memberTarget.__typeMetadata.events[r]=!0}})}(),function(){"use strict";define("core/oop/events",["core/oop/event"],function(e){return function(t){if(Array.isArray(t))for(var i=0;i<t.length;i++)e(t[i]);else for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}})}(),function(){"use strict";define("core/oop/common/Collection",["core/oop/classDef","core/oop/constructor","core/oop/properties","core/oop/events","core/oop/methods","lib/lodash/collections/forEach"],function(e,t,i,n,o,r){return e("core.oop.common.Collection",Object,function(){t(function(e){this._items=[],void 0!==e&&(this._owner=e)}),i({owner:{get:function(){return this._owner||this}},length:{get:function(){return this._items.length}},_owner:void 0,_items:void 0}),n(["added","removed","adding"]),o({getAt:function(e){return this._items[e]},insertAt:function(e,t){this._onAdding(t,e),this._items.splice(e,0,t),this._onAdded(t,e)},removeAt:function(e){var t=this._items.splice(e,1);t.length>0&&this._onRemoved(t[0],e)},indexOf:function(e){return this._items.indexOf(e)},add:function(e){this.insertAt(this.length,e)},addArray:function(e){for(var t=0,i=e.length;t<i;++t)this.add(e[t])},remove:function(e){var t=this.indexOf(e);t>=0&&this.removeAt(t)},removeAll:function(){for(;this.length>0;)this.removeAt(0)},forEach:function(e,t){r(this._items,e,t)},map:function(e,t){return this._items.map(e,t)},toArray:function(){for(var e=[],t=this._items,i=0,n=t.length;i<n;++i)e.push(t[i]);return e}})})})}(),function(){"use strict";define("core/oop/collection",["core/oop/classDefContext","core/oop/common/Collection","core/oop/property","core/oop/diagnostics"],function(e,t,i,n){return function(o,r,a,s){if(void 0===e.currentClass)throw new Error("A collection can only be defined within the body of a class");var l=function(t){throw t=e.currentClass.prototype.typeName+" had the following error while defining the collection '"+o+"': "+t,new Error(t)};if("string"!=typeof o&&l("The name argument must be a string"),!e.currentClass.__isInterface||void 0===r&&void 0===a&&void 0===s||l("Interfaces cannot specify collection event handler callbacks"),void 0!==r&&"function"!=typeof r&&l("The classHandlerAdded argument must be a function"),void 0!==a&&"function"!=typeof a&&l("The classHandlerRemoved argument must be a function"),void 0!==s&&"function"!=typeof s&&l("The classHandlerAdding argument must be a function"),void 0!==n.emitter&&n.emitter.isEnabledForMethod(e.qualifiedClassName,o)&&(r=n.emitter.wrapMethod(e.qualifiedClassName,o,"onAdded_"+o,r),a=n.emitter.wrapMethod(e.qualifiedClassName,o,"onRemoved_"+o,a),s=n.emitter.wrapMethod(e.qualifiedClassName,o,"onAdding_"+o,s)),!e.currentClass.__isInterface){var c="_"+o;i(c,void 0),i(o,{get:function(){var e=this[c];return void 0===e&&(e=t.new(this),void 0!==r&&e.added.on(r.bind(this)),void 0!==a&&e.removed.on(a.bind(this)),void 0!==s&&e.adding.on(s.bind(this)),this[c]=e),e}})}e.memberTarget.__typeMetadata.collections[o]=!0}})}(),define("lib/lodash/internals/defaultsIteratorOptions",["../objects/keys"],function(e){return{args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:e,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"}}),define("lib/lodash/objects/assign",["../internals/createIterator","../internals/defaultsIteratorOptions"],function(e,t){return e(t,{top:t.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"})}),function(){"use strict";define("core/oop/initConstructor",["core/oop/classDefContext","core/oop/constructor","lib/lodash/objects/forOwn","lib/lodash/objects/assign","core/oop/common/Collection","core/oop/common/Event","core/oop/docs"],function(e,t,i,n,o,r,a){return function(s,l){if(void 0===e.currentClass)throw new Error("An initConstructor can only be defined within the body of a class.");if(e.hasExplicitCtor)throw new Error("Only one constructor can be defined for a class.");if(e.memberTarget===e.currentClass)throw new Error("initConstructor cannot be used in a static scope.");if(void 0!==s&&"function"!=typeof s)throw new Error("The preInitCallback argument must be a function.");if(void 0!==l&&"function"!=typeof l)throw new Error("The postInitCallback argument must be a function.");e.currentClass.__isInterface||t(!0===a.validation.isEnabled?function(){void 0!==s&&s.call(this);for(var e=(function(e,t){if(t in this!=!0)throw new Error("Init object property '"+t+"' is not defined on "+this.typeName);var i=this[t];if(void 0!==i){if(i.constructor===o)throw new Error("Init object property '"+t+"' is a Collection, it cannot be used to init "+this.typeName);if(i.constructor===r)throw new Error("Init object property '"+t+"' is an Event, it cannot be used to init "+this.typeName)}this[t]=e}.bind(this)),t=0,n=arguments.length;t<n;t++)i(arguments[t],e);this._isInitialized=!0,void 0!==l&&l.call(this)}:function(){void 0!==s&&s.call(this);for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);this._isInitialized=!0,void 0!==l&&l.call(this)}),e.memberTarget.__typeMetadata.hasInitConstructor=!0}})}(),function(){"use strict";define("core/oop/singleton",["core/oop/classDefContext","core/oop/constructor"],function(e,t){return function(i){if(e.memberTarget===e.currentClass)throw new Error("A singleton cannot be defined in static scope.");e.currentClass.__isInterface||t(i,!0),e.memberTarget.__typeMetadata.isSingleton=!0}})}(),function(){"use strict";define("core/oop/interfaceDef",["core/oop/typeDef"],function(e){return function(t,i,n){return e(t,i,!0,n)}})}(),function(){"use strict";define("core/oop",["core/oop/classDef","core/oop/constructor","core/oop/staticScope","core/oop/method","core/oop/property","core/oop/methods","core/oop/properties","core/oop/enumDef","core/oop/flagsDef","core/oop/mixin","core/oop/events","core/oop/event","core/oop/collection","core/oop/initConstructor","core/oop/singleton","core/oop/diagnostics","core/oop/typeRegistry","core/oop/interfaceDef","core/oop/isEqual"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_){return{classDef:e,constructor:t,staticScope:i,method:n,property:o,methods:r,properties:a,enumDef:s,flagsDef:l,mixin:c,events:d,event:u,collection:p,initConstructor:h,singleton:g,diagnostics:f,typeRegistry:m,interfaceDef:v,isEqual:_}})}(),function(e){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define("lib/Promise",[],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Promise=e()}}(function(){var t,i,n;return function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[a]={exports:{}};t[a][0].call(d.exports,function(e){var i=t[a][1][e];return o(i||e)},d,d.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof _dereq_&&_dereq_,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,i){"use strict";t.exports=function(e){function t(e){var t=new i(e),n=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),n}var i=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,i){"use strict";function n(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues(e._batchSize)},this._customSetTimeout=void 0,this._schedule=l,this._batchSize=Math.pow(2,32)-1}function o(e,t,i){this._lateQueue.push(e,t,i),this._queueTick()}function r(e,t,i){this._normalQueue.push(e,t,i),this._queueTick()}function a(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(e){s=e}var l=e("./schedule"),c=e("./queue"),d=e("./util");n.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},n.prototype.setBatchSize=function(e){this._batchSize=e},n.prototype.setTimeoutScheduler=function(e){var t=this._customSetTimeout;return this._customSetTimeout=e,t},n.prototype.getTimeoutFn=function(){return this._customSetTimeout||setTimeout},n.prototype.hasCustomScheduler=function(){return this._customScheduler},n.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},n.prototype.disableTrampolineIfNecessary=function(){d.hasDevTools&&(this._trampolineEnabled=!1)},n.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},n.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},n.prototype.throwLater=function(e,t){1===arguments.length&&(t=e,e=function(){throw t});var i=this.getTimeoutFn();if(void 0!==i)i(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},d.hasDevTools?(n.prototype.invokeLater=function(e,t,i){if(this._trampolineEnabled)o.call(this,e,t,i);else{var n=this.getTimeoutFn();this._schedule(function(){n(function(){e.call(t,i)},100)})}},n.prototype.invoke=function(e,t,i){this._trampolineEnabled?r.call(this,e,t,i):this._schedule(function(){e.call(t,i)})},n.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):this._schedule(function(){e._settlePromises()})}):(n.prototype.invokeLater=o,n.prototype.invoke=r,n.prototype.settlePromises=a),n.prototype.invokeFirst=function(e,t,i){this._normalQueue.unshift(e,t,i),this._queueTick()},n.prototype._drainQueue=function(e,t){for(;e.length()>0&&0!==t;){var i=e.shift();if("function"==typeof i){var n=e.shift(),o=e.shift();i.call(n,o),t--}else i._settlePromises()}return t},n.prototype._drainQueues=function(e){e=this._drainQueue(this._normalQueue,e),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue,e),(this._normalQueue.length()>0||this._lateQueue.length()>0)&&this._queueTick()},n.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},n.prototype._reset=function(){this._isTickUsed=!1},t.exports=n,t.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){var o=!1,r=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(r,r,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(r){o||(o=!0,e.prototype._propagateFrom=n.propagateFromFunction(),e.prototype._boundValue=n.boundValueFunction());var c=i(r),d=new e(t);d._propagateFrom(this,1);var u=this._target();if(d._setBoundTo(c),c instanceof e){var p={promiseRejectionQueued:!1,promise:d,target:u,bindingPromise:c};u._then(t,a,void 0,d,p),c._then(s,l,void 0,d,p),d._setOnCancel(c)}else d._resolveCallback(u);return d},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,i){return e.resolve(i).bind(t)}}},{}],4:[function(e,t,i){"use strict";function n(){try{Promise===r&&(Promise=o)}catch(e){}return r}var o;"undefined"!=typeof Promise&&(o=Promise);var r=e("./promise")();r.noConflict=n,t.exports=r},{"./promise":22}],5:[function(e,t,i){"use strict";var n=Object.create;if(n){var o=n(null),r=n(null);o[" size"]=r[" size"]=0}t.exports=function(t){function i(e,i){var n;if(null!=e&&(n=e[i]),"function"!=typeof n){var o="Object "+s.classString(e)+" has no method '"+s.toString(i)+"'";throw new t.TypeError(o)}return n}function n(e){return i(e,this.pop()).apply(e,this)}function o(e){return e[this]}function r(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var a,s=e("./util"),l=s.canEvaluate;s.isIdentifier;t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(n,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,i="number"==typeof e;if(i)t=r;else if(l){var n=a(e);t=null!==n?n:o}else t=o;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,i){"use strict";t.exports=function(t,i,n,o){var r=e("./util"),a=r.tryCatch,s=r.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!o.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e.isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var i=e._cancellationParent;if(null==i||!i.isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),t=e,e=i}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e))for(var i=0;i<e.length;++i)this._doInvokeOnCancel(e[i],t);else if(void 0!==e)if("function"==typeof e){if(!t){var n=a(e).call(this._boundValue());n===s&&(this._attachExtraTrace(n.e),l.throwLater(n.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,i){"use strict";t.exports=function(t){function i(e,i,s){return function(l){var c=s._boundValue();e:for(var d=0;d<e.length;++d){var u=e[d];if(u===Error||null!=u&&u.prototype instanceof Error){if(l instanceof u)return r(i).call(c,l)}else if("function"==typeof u){var p=r(u).call(c,l);if(p===a)return p;if(p)return r(i).call(c,l)}else if(n.isObject(l)){for(var h=o(u),g=0;g<h.length;++g){var f=h[g];if(u[f]!=l[f])continue e}return r(i).call(c,l)}}return t}}var n=e("./util"),o=e("./es5").keys,r=n.tryCatch,a=n.errorObj;return i}},{"./es5":13,"./util":36}],8:[function(e,t,i){"use strict";t.exports=function(e){function t(){this._trace=new t.CapturedTrace(n())}function i(){if(o)return new t}function n(){var e=r.length-1;if(e>=0)return r[e]}var o=!1,r=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=r.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=i,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var i=e.prototype._pushContext,r=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=i,e.prototype._popContext=r,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,o=!1},o=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=n,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(e,t,i){"use strict";t.exports=function(t,i){function n(e,t){return{promise:t}}function o(){return!1}function r(e,t,i){var n=this;try{e(t,i,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+L.toString(e));n._attachCancellationCallback(e)})}catch(e){return e}}function a(e){if(!this.isCancellable())return this;var t=this._onCancel();void 0!==t?L.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function s(){return this._onCancelField}function l(e){this._onCancelField=e}function c(){this._cancellationParent=void 0,this._onCancelField=void 0}function d(e,t){if(0!=(1&t)){this._cancellationParent=e;var i=e._branchesRemainingToCancel;void 0===i&&(i=0),e._branchesRemainingToCancel=i+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function u(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function h(){this._trace=new k(this._peekContext())}function g(e,t){if(B(e)){var i=this._trace;if(void 0!==i&&t&&(i=i._parent),void 0!==i)i.attachExtraTrace(e);else if(!e.__stackCleaned__){var n=C(e);L.notEnumerableProp(e,"stack",n.message+"\n"+n.stack.join("\n")),L.notEnumerableProp(e,"__stackCleaned__",!0)}}}function f(e,t,i,n,o){if(void 0===e&&null!==t&&K){if(void 0!==o&&o._returnedNonUndefined())return;if(0==(65535&n._bitField))return;i&&(i+=" ");var r="a promise was created in a "+i+"handler but was not returned from it";n._warn(r,!0,t)}}function m(e,t){var i=e+" is deprecated and will be removed in a future version.";return t&&(i+=" Use "+t+" instead."),v(i)}function v(e,i,n){if(ne.warnings){var o,r=new F(e);if(i)n._attachExtraTrace(r);else if(ne.longStackTraces&&(o=t._peekContext()))o.attachExtraTrace(r);else{var a=C(r);r.stack=a.message+"\n"+a.stack.join("\n")}J("warning",r)||T(r,"",!0)}}function _(e,t){for(var i=0;i<t.length-1;++i)t[i].push("From previous event:"),t[i]=t[i].join("\n");return i<t.length&&(t[i]=t[i].join("\n")),e+"\n"+t.join("\n")}function y(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],i=1;i<e.length;++i){for(var n=e[i],o=t.length-1,r=t[o],a=-1,s=n.length-1;s>=0;--s)if(n[s]===r){a=s;break}for(var s=a;s>=0;--s){var l=n[s];if(t[o]!==l)break;t.pop(),o--}t=n}}function b(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],o="    (No stack trace)"===n||U.test(n),r=o&&ee(n);o&&!r&&(W&&" "!==n.charAt(0)&&(n="    "+n),t.push(n))}return t}function S(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),i=0;i<t.length;++i){var n=t[i];if("    (No stack trace)"===n||U.test(n))break}return i>0&&(t=t.slice(i)),t}function C(e){var t=e.stack,i=e.toString();return t="string"==typeof t&&t.length>0?S(e):["    (No stack trace)"],{message:i,stack:b(t)}}function T(e,t,i){if("undefined"!=typeof console){var n;if(L.isObject(e)){var o=e.stack;n=t+$(o,e)}else n=t+String(e);"function"==typeof D?D(n,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function R(e,t,i,n){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(n):t(i,n))}catch(e){N.throwLater(e)}"unhandledRejection"===e?J(e,i,n)||o||T(i,"Unhandled rejection "):J(e,n)}function P(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():L.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+E(t)+">, no stack trace)"}function E(e){return e.length<41?e:e.substr(0,38)+"..."}function I(){return"function"==typeof ie}function x(e){var t=e.match(te);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function A(e,t){if(I()){for(var i,n,o=e.stack.split("\n"),r=t.stack.split("\n"),a=-1,s=-1,l=0;l<o.length;++l){var c=x(o[l]);if(c){i=c.fileName,a=c.line;break}}for(var l=0;l<r.length;++l){var c=x(r[l]);if(c){n=c.fileName,s=c.line;break}}a<0||s<0||!i||!n||i!==n||a>=s||(ee=function(e){if(H.test(e))return!0;var t=x(e);return!!(t&&t.fileName===i&&a<=t.line&&t.line<=s)})}}function k(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);ie(this,k),t>32&&this.uncycle()}var V,M,D,O=t._getDomain,N=t._async,F=e("./errors").Warning,L=e("./util"),B=L.canAttachTrace,H=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=null,$=null,W=!1,j=!(0==L.env("BLUEBIRD_DEBUG")),G=!(0==L.env("BLUEBIRD_WARNINGS")||!j&&!L.env("BLUEBIRD_WARNINGS")),z=!(0==L.env("BLUEBIRD_LONG_STACK_TRACES")||!j&&!L.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=L.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(G||!!L.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),N.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){R("rejectionHandled",V,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),R("unhandledRejection",M,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,i){return v(e,t,i||this)},t.onPossiblyUnhandledRejection=function(e){var t=O();M="function"==typeof e?null===t?e:t.bind(e):void 0},t.onUnhandledRejectionHandled=function(e){var t=O();V="function"==typeof e?null===t?e:t.bind(e):void 0},t.enableHadronTestTracking=function(e){ne.trackHadronTest=e};var Y=function(){};t.longStackTraces=function(){if(N.haveItemsQueued()&&!ne.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ne.longStackTraces&&I()){var e=t.prototype._captureStackTrace,n=t.prototype._attachExtraTrace;ne.longStackTraces=!0,Y=function(){if(N.haveItemsQueued()&&!ne.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=n,i.deactivateLongStackTraces(),N.enableTrampoline(),ne.longStackTraces=!1},t.prototype._captureStackTrace=h,t.prototype._attachExtraTrace=g,i.activateLongStackTraces(),N.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return ne.longStackTraces&&I()};var q=function(){try{var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),L.global.dispatchEvent(e),function(e,t){var i=document.createEvent("CustomEvent");return i.initCustomEvent(e.toLowerCase(),!1,!0,t),!L.global.dispatchEvent(i)}}catch(e){}return function(){return!1}}(),Q=function(){return L.isNode?function(){return process.emit.apply(process,arguments)}:L.global?function(e){var t="on"+e.toLowerCase(),i=L.global[t];return!!i&&(i.apply(L.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),X={promiseCreated:n,promiseFulfilled:n,promiseRejected:n,promiseResolved:n,promiseCancelled:n,promiseChained:function(e,t,i){return{promise:t,child:i}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,i){return{reason:t,promise:i}},rejectionHandled:n},J=function(e){var t=!1;try{t=Q.apply(null,arguments)}catch(e){N.throwLater(e),t=!0}var i=!1;try{i=q(e,X[e].apply(null,arguments))}catch(e){N.throwLater(e),i=!0}return i||t};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&Y()),"trackHadronTest"in e&&t.enableHadronTestTracking(e.trackHadronTest),"warnings"in e){var i=e.warnings;ne.warnings=!!i,K=ne.warnings,L.isObject(i)&&"wForgottenReturn"in i&&(K=!!i.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!ne.cancellation){if(N.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=c,t.prototype._propagateFrom=d,t.prototype._onCancel=s,t.prototype._setOnCancel=l,t.prototype._attachCancellationCallback=a,t.prototype._execute=r,Z=d,ne.cancellation=!0}"monitoring"in e&&(e.monitoring&&!ne.monitoring?(ne.monitoring=!0,t.prototype._fireEvent=J):!e.monitoring&&ne.monitoring&&(ne.monitoring=!1,t.prototype._fireEvent=o))},t.prototype._fireEvent=o,t.prototype._execute=function(e,t,i){try{e(t,i)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},
t.prototype._propagateFrom=function(e,t){};var Z=u,ee=function(){return!1},te=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;L.inherits(k,Error),i.CapturedTrace=k,k.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],i={},n=0,o=this;void 0!==o;++n)t.push(o),o=o._parent;e=this._length=n;for(var n=e-1;n>=0;--n){var r=t[n].stack;void 0===i[r]&&(i[r]=n)}for(var n=0;n<e;++n){var a=t[n].stack,s=i[a];if(void 0!==s&&s!==n){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[n]._parent=void 0,t[n]._length=1;var l=n>0?t[n-1]:this;s<e-1?(l._parent=t[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,d=n-2;d>=0;--d)t[d]._length=c,c++;return}}}},k.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=C(e),i=t.message,n=[t.stack],o=this;void 0!==o;)n.push(b(o.stack.split("\n"))),o=o._parent;w(n),y(n),L.notEnumerableProp(e,"stack",_(i,n)),L.notEnumerableProp(e,"__stackCleaned__",!0)}};var ie=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():P(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=e,$=t;var i=Error.captureStackTrace;return ee=function(e){return H.test(e)},function(e,t){Error.stackTraceLimit+=6,i(e,t),Error.stackTraceLimit-=6}}var n=new Error;if("string"==typeof n.stack&&n.stack.split("\n")[0].indexOf("stackDetection@")>=0)return U=/@/,$=t,W=!0,function(e){e.stack=(new Error).stack};var o;try{throw new Error}catch(e){o="stack"in e}return"stack"in n||!o||"number"!=typeof Error.stackTraceLimit?($=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?P(t):t.toString()},null):(U=e,$=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(D=function(e){console.warn(e)},L.isNode&&process.stderr.isTTY?D=function(e,t){var i=t?"[33m":"[31m";console.warn(i+e+"[0m\n")}:L.isNode||"string"!=typeof(new Error).stack||(D=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var ne={warnings:G,longStackTraces:!1,cancellation:!1,monitoring:!1,trackHadronTest:!1};return z&&t.longStackTraces(),{longStackTraces:function(){return ne.longStackTraces},warnings:function(){return ne.warnings},cancellation:function(){return ne.cancellation},monitoring:function(){return ne.monitoring},trackHadronTest:function(){return ne.trackHadronTest},propagateFromFunction:function(){return Z},boundValueFunction:function(){return p},checkForgottenReturns:f,setBounds:A,warn:v,deprecated:m,CapturedTrace:k,fireDomEvent:q,fireGlobalEvent:Q}}},{"./errors":12,"./util":36}],10:[function(e,t,i){"use strict";t.exports=function(e){function t(){return this.value}function i(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(i){return i instanceof e&&i.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:i},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(i,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:e},void 0);var t=arguments[1],n=function(){throw t};return this.caught(e,n)},e.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof e&&i.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:i},void 0);var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();var o=function(){return n};return this.caught(i,o)}}},{}],11:[function(e,t,i){"use strict";t.exports=function(e,t){function i(){return r(this)}function n(e,i){return o(e,i,t,t)}var o=e.reduce,r=e.all;e.prototype.each=function(e){return this.mapSeries(e)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return o(this,e,t,t)},e.each=function(e,t){return n(e,t)._then(i,void 0,void 0,e,void 0)},e.mapSeries=n}},{}],12:[function(e,t,i){"use strict";function n(e,t){function i(n){if(!(this instanceof i))return new i(n);u(this,"message","string"==typeof n?n:t),u(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return d(i,Error),i}function o(e){if(!(this instanceof o))return new o(e);u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var r,a,s=e("./es5"),l=s.freeze,c=e("./util"),d=c.inherits,u=c.notEnumerableProp,p=n("Warning","warning"),h=n("CancellationError","cancellation error"),g=n("TimeoutError","timeout error"),f=n("AggregateError","aggregate error");try{r=TypeError,a=RangeError}catch(e){r=n("TypeError","type error"),a=n("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<m.length;++v)"function"==typeof Array.prototype[m[v]]&&(f.prototype[m[v]]=Array.prototype[m[v]]);s.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var _=0;f.prototype.toString=function(){var e=Array(4*_+1).join(" "),t="\n"+e+"AggregateError of:\n";_++,e=Array(4*_+1).join(" ");for(var i=0;i<this.length;++i){for(var n=this[i]===this?"[Circular AggregateError]":this[i]+"",o=n.split("\n"),r=0;r<o.length;++r)o[r]=e+o[r];n=o.join("\n"),t+=n+"\n"}return _--,t},d(o,Error);var y=Error.__BluebirdErrorTypes__;y||(y=l({CancellationError:h,TimeoutError:g,OperationalError:o,RejectionError:o,AggregateError:f}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:y,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:r,RangeError:a,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(e,t,i){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return!(i&&!i.writable&&!i.set)}};else{var o={}.hasOwnProperty,r={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var i in e)o.call(e,i)&&t.push(i);return t},l=function(e,t){return{value:e[t]}},c=function(e,t,i){return e[t]=i.value,e},d=function(e){return e},u=function(e){try{return Object(e).constructor.prototype}catch(e){return a}},p=function(e){try{return"[object Array]"===r.call(e)}catch(e){return!1}};t.exports={isArray:p,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:d,getPrototypeOf:u,isES5:n,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,i){"use strict";t.exports=function(e,t){var i=e.map;e.prototype.filter=function(e,n){return i(this,e,n,t)},e.filter=function(e,n,o){return i(e,n,o,t)}}},{}],15:[function(e,t,i){"use strict";t.exports=function(t,i){function n(e,t,i){this.promise=e,this.type=t,this.handler=i,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function r(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return l.call(this,this.promise._target()._settledValue())}function s(e){if(!r(this,e))return u.e=e,u}function l(e){var n=this.promise,l=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?l.call(n._boundValue()):l.call(n._boundValue(),e);if(void 0!==c){n._setReturnedNonUndefined();var p=i(c,n);if(p instanceof t){if(null!=this.cancelPromise){if(p.isCancelled()){var h=new d("late cancellation observer");return n._attachExtraTrace(h),u.e=h,u}p.isPending()&&p._attachCancellationCallback(new o(this))}return p._then(a,s,void 0,this,void 0)}}}return n.isRejected()?(r(this),u.e=e,u):(r(this),e)}var c=e("./util"),d=t.CancellationError,u=c.errorObj;return n.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){r(this.finallyHandler)},t.prototype._passThrough=function(e,t,i,o){return"function"!=typeof e?this.then():this._then(i,o,void 0,new n(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,l,l)},t.prototype.tap=function(e){return this._passThrough(e,1,l)},n}},{"./util":36}],16:[function(e,t,i){"use strict";t.exports=function(t,i,n,o,r,a){function s(e,i,n){for(var r=0;r<i.length;++r){n._pushContext();var a=h(i[r])(e);if(n._popContext(),a===p){n._pushContext();var s=t.reject(p.e);return n._popContext(),s}var l=o(a,n);if(l instanceof t)return l}return null}function l(e,i,o,r){if(a.cancellation()){var s=new t(n),l=this._finallyPromise=new t(n);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new t(n))._captureStackTrace()}this._stack=r,this._generatorFunction=e,this._receiver=i,this._generator=void 0,this._yieldHandlers="function"==typeof o?[o].concat(g):g,this._yieldedPromise=null,this._cancellationPhase=!1}var c=e("./errors"),d=c.TypeError,u=e("./util"),p=u.errorObj,h=u.tryCatch,g=[];u.inherits(l,r),l.prototype._isResolved=function(){return null===this._promise},l.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},l.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,i=void 0!==this._generator.return;if(i)this._promise._pushContext(),e=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=h(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},l.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},l.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},l.prototype.promise=function(){return this._promise},l.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},l.prototype._continue=function(e){var i=this._promise;if(e===p)return this._cleanup(),this._cancellationPhase?i.cancel():i._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?i.cancel():i._resolveCallback(n);var r=o(n,this._promise);if(!(r instanceof t)&&null===(r=s(r,this._yieldHandlers,this._promise)))return void this._promiseRejected(new d("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));r=r._target();var a=r._bitField;0==(50397184&a)?(this._yieldedPromise=r,r._proxy(this,null)):0!=(33554432&a)?this._promiseFulfilled(r._value()):0!=(16777216&a)?this._promiseRejected(r._reason()):this._promiseCancelled()},t.coroutine=function(e,t){if("function"!=typeof e)throw new d("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=Object(t).yieldHandler,n=l,o=(new Error).stack;return function(){var t=e.apply(this,arguments),r=new n(void 0,void 0,i,o),a=r.promise();return r._generator=t,r._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+u.classString(e));g.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new l(e,this),o=n.promise();return n._run(t.spawn),o}}},{"./errors":12,"./util":36}],17:[function(e,t,i){"use strict";t.exports=function(t,i,n,o){var r=e("./util");r.canEvaluate,r.tryCatch,r.errorObj;t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var n}var o=[].slice.call(arguments);e&&o.pop();var n=new i(o).promise();return void 0!==e?n.spread(e):n}}},{"./util":36}],18:[function(e,t,i){"use strict";t.exports=function(t,i,n,o,r,a){function s(e,t,i,n){this.constructor$(e),this._promise._captureStackTrace();var o=c();this._callback=null===o?t:o.bind(t),this._preservedValues=n===r?new Array(this.length()):null,this._limit=i,this._inFlight=0,this._queue=i>=1?[]:h,this._init$(void 0,-2)}function l(e,i,o,r){if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var a=0;if(void 0!==o){if("object"!=typeof o||null===o)return t.reject(new TypeError("options argument must be an object but it is "+d.classString(o)));if("number"!=typeof o.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+d.classString(o.concurrency)));a=o.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,i,a,r).promise()}var c=t._getDomain,d=e("./util"),u=d.tryCatch,p=d.errorObj,h=[];d.inherits(s,i),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,i){var n=this._values,r=this.length(),s=this._preservedValues,l=this._limit;if(i<0){if(i=-1*i-1,n[i]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return n[i]=e,this._queue.push(i),!1;null!==s&&(s[i]=e);var c=this._promise,d=this._callback,h=c._boundValue();c._pushContext();var g=u(d).call(h,e,i,r),f=c._popContext();if(a.checkForgottenReturns(g,f,null!==s?"Promise.filter":"Promise.map",c),g===p)return this._reject(g.e),!0;var m=o(g,this._promise);if(m instanceof t){m=m._target();var v=m._bitField;if(0==(50397184&v))return l>=1&&this._inFlight++,n[i]=m,m._proxy(this,-1*(i+1)),!1;if(0==(33554432&v))return 0!=(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);g=m._value()}n[i]=g}return++this._totalResolved>=r&&(null!==s?this._filter(n,s):this._resolve(n),!0)},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,i=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(i[n],n)}},s.prototype._filter=function(e,t){for(var i=t.length,n=new Array(i),o=0,r=0;r<i;++r)e[r]&&(n[o++]=t[r]);n.length=o,this._resolve(n)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return l(this,e,t,null)},t.map=function(e,t,i,n){return l(e,t,i,n)}}},{"./util":36}],19:[function(e,t,i){"use strict";t.exports=function(t,i,n,o,r){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var n=new t(i);n._captureStackTrace(),n._pushContext();var o=s(e).apply(this,arguments),a=n._popContext();return r.checkForgottenReturns(o,a,"Promise.method",n),n._resolveFromSyncValue(o),n}},t.attempt=t.try=function(e){if("function"!=typeof e)return o("expecting a function but got "+a.classString(e));var n=new t(i);n._captureStackTrace(),n._pushContext();var l;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],d=arguments[2];l=a.isArray(c)?s(e).apply(d,c):s(e).call(d,c)}else l=s(e)();var u=n._popContext();return r.checkForgottenReturns(l,u,"Promise.try",n),n._resolveFromSyncValue(l),n},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,i){"use strict";function n(e){return e instanceof Error&&d.getPrototypeOf(e)===Error.prototype}function o(e){var t;if(n(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var i=d.keys(e),o=0;o<i.length;++o){var r=i[o];u.test(r)||(t[r]=e[r])}return t}return a.markAsOriginatingFromRejection(e),e}function r(e,t){return function(i,n){if(null!==e){if(i){var r=o(s(i));e._attachExtraTrace(r),e._reject(r)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(n);e=null}}}var a=e("./util"),s=a.maybeWrapAsError,l=e("./errors"),c=l.OperationalError,d=e("./es5"),u=/^(?:name|message|stack|cause)$/;t.exports=r},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,i){"use strict";t.exports=function(t){function i(e,t){var i=this;if(!r.isArray(e))return n.call(i,e,t);var o=s(t).apply(i._boundValue(),[null].concat(e));o===l&&a.throwLater(o.e)}function n(e,t){var i=this,n=i._boundValue(),o=void 0===e?s(t).call(n,null):s(t).call(n,null,e);o===l&&a.throwLater(o.e)}function o(e,t){var i=this;if(!e){var n=new Error(e+"");n.cause=e,e=n}var o=s(t).call(i._boundValue(),e);o===l&&a.throwLater(o.e)}var r=e("./util"),a=t._async,s=r.tryCatch,l=r.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var r=n;void 0!==t&&Object(t).spread&&(r=i),this._then(r,o,void 0,this,e)}return this}}},{"./util":36}],22:[function(t,i,n){"use strict";i.exports=function(){function n(){}function o(e,t){if("function"!=typeof t)throw new y("expecting a function but got "+g.classString(t));if(e.constructor!==r)throw new y("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function r(t){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,t!==b&&(o(this,t),this._resolveFromExecutor(t)),this._promiseCreated(),this._fireEvent("promiseCreated",this),I.trackHadronTest()&&(this.currentHadronTest=e.currentHadronTest,this._captureStackTrace(),this.creationStack=void 0===this._trace?"Enable longStackTraces to capture stack":this._trace.stack,this._trace=void 0)}function a(e){this.promise._resolveCallback(e)}function s(e){this.promise._rejectCallback(e,!1)}function l(e){var t=new r(b);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var c,d=function(){return new y("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},u=function(){return new r.PromiseInspection(this._target())},p=function(e){return r.reject(new y(e))},h={},g=t("./util");c=g.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},g.notEnumerableProp(r,"_getDomain",c);var f=t("./es5"),m=t("./async"),v=new m;f.defineProperty(r,"_async",{value:v});var _=t("./errors"),y=r.TypeError=_.TypeError;r.RangeError=_.RangeError;var w=r.CancellationError=_.CancellationError;r.TimeoutError=_.TimeoutError,r.OperationalError=_.OperationalError,r.RejectionError=_.OperationalError,r.AggregateError=_.AggregateError;var b=function(){},S={},C={},T=t("./thenables")(r,b),R=t("./promise_array")(r,b,T,p,n),P=t("./context")(r),E=P.create,I=t("./debuggability")(r,P),x=(I.CapturedTrace,t("./finally")(r,T)),A=t("./catch_filter")(C),k=t("./nodeback"),V=g.errorObj,M=g.tryCatch;return r.prototype.toString=function(){return"[object Promise]"},r.prototype.caught=r.prototype.catch=function(e){var t=arguments.length;if(t>1){var i,n=new Array(t-1),o=0;for(i=0;i<t-1;++i){var r=arguments[i];if(!g.isObject(r))return p("expecting an object but got "+g.classString(r));n[o++]=r}return n.length=o,e=arguments[i],this.then(void 0,A(n,e,this))}return this.then(void 0,e)},r.prototype.reflect=function(){return this._then(u,u,void 0,this,void 0)},r.prototype.then=function(e,t){if(I.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var i=".then() only accepts functions but was passed: "+g.classString(e);arguments.length>1&&(i+=", "+g.classString(t)),this._warn(i)}return this._then(e,t,void 0,void 0,void 0)},r.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},r.prototype.spread=function(e){return"function"!=typeof e?p("expecting a function but got "+g.classString(e)):this.all()._then(e,void 0,void 0,S,void 0)},r.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},r.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new R(this).promise()},r.prototype.error=function(e){return this.caught(g.originatesFromRejection,e)},r.getNewLibraryCopy=i.exports,r.is=function(e){return e instanceof r},r.fromNode=r.fromCallback=function(e){var t=new r(b);t._captureStackTrace();var i=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=M(e)(k(t,i));return n===V&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},r.all=function(e){return new R(e).promise()},r.cast=function(e){var t=T(e);return t instanceof r||(t=new r(b),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},r.resolve=r.fulfilled=r.cast,r.reject=r.rejected=function(e){var t=new r(b);return t._captureStackTrace(),t._rejectCallback(e,!0),t},r.setScheduler=function(e){if("function"!=typeof e)throw new y("expecting a function but got "+g.classString(e));return v.setScheduler(e)},r.setTimeoutScheduler=function(e){if(void 0!==e&&"function"!=typeof e)throw new y("expecting a function but got "+g.classString(e));return v.setTimeoutScheduler(e)},r.setBatchSize=function(e){if("number"!=typeof e||e<=0)throw new y("batchSize must be a positive number: "+g.classString(e));return v.setBatchSize(e)},r.prototype._then=function(e,t,i,n,o){var a=void 0!==o,s=a?o:new r(b),l=this._target(),d=l._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&d)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var u=c();if(0!=(50397184&d)){var p,h,g=l._settlePromiseCtx;0!=(33554432&d)?(h=l._rejectionHandler0,p=e):0!=(16777216&d)?(h=l._fulfillmentHandler0,p=t,l._unsetRejectionIsUnhandled()):(g=l._settlePromiseLateCancellationObserver,h=new w("late cancellation observer"),l._attachExtraTrace(h),p=t),v.invoke(g,l,{handler:null===u?p:"function"==typeof p&&u.bind(p),promise:s,receiver:n,value:h})}else l._addCallbacks(e,t,s,n,u);return s},r.prototype._length=function(){return 65535&this._bitField},r.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},r.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},r.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},r.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},r.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},r.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},r.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},r.prototype._isFinal=function(){return(4194304&this._bitField)>0},r.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},r.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},r.prototype._setAsyncGuaranteed=function(){v.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},r.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==h)return void 0===t&&this._isBound()?this._boundValue():t},r.prototype._promiseAt=function(e){return this[4*e-4+2]},r.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},r.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},r.prototype._boundValue=function(){},r.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),i=e._rejectionHandler0,n=e._promise0,o=e._receiverAt(0);void 0===o&&(o=h),this._addCallbacks(t,i,n,o,null)},r.prototype._migrateCallbackAt=function(e,t){var i=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),o=e._promiseAt(t),r=e._receiverAt(t);void 0===r&&(r=h),this._addCallbacks(i,n,o,r,null)},r.prototype._addCallbacks=function(e,t,i,n,o){var r=this._length();if(r>=65531&&(r=0,this._setLength(0)),0===r)this._promise0=i,this._receiver0=n,"function"==typeof e&&(this._fulfillmentHandler0=null===o?e:o.bind(e)),"function"==typeof t&&(this._rejectionHandler0=null===o?t:o.bind(t));else{var a=4*r-4;this[a+2]=i,this[a+3]=n,"function"==typeof e&&(this[a+0]=null===o?e:o.bind(e)),"function"==typeof t&&(this[a+1]=null===o?t:o.bind(t))}return this._setLength(r+1),r},r.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},r.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(d(),!1);var i=T(e,this);if(!(i instanceof r))return this._fulfill(e);t&&this._propagateFrom(i,2);var n=i._target();if(n===this)return void this._reject(d());var o=n._bitField;if(0==(50397184&o)){var a=this._length();a>0&&n._migrateCallback0(this);for(var s=1;s<a;++s)n._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&o))this._fulfill(n._value());else if(0!=(16777216&o))this._reject(n._reason());else{var l=new w("late cancellation observer");n._attachExtraTrace(l),this._reject(l)}}},r.prototype._rejectCallback=function(e,t,i){var n=g.ensureErrorObject(e),o=n===e;if(!o&&!i&&I.warnings()){var r="a promise was rejected with a non-error: "+g.classString(e);this._warn(r,!0)}this._attachExtraTrace(n,!!t&&o),this._reject(e)},r.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var i=!0,n=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,i)});i=!1,this._popContext(),void 0!==n&&t._rejectCallback(n,!0)},r.prototype._settlePromiseFromHandler=function(e,t,i,n){var o=n._bitField;if(0==(65536&o)){n._pushContext();var r;t===S?i&&"number"==typeof i.length?r=M(e).apply(this._boundValue(),i):(r=V,r.e=new y("cannot .spread() a non-array: "+g.classString(i))):r=M(e).call(t,i);var a=n._popContext();o=n._bitField,0==(65536&o)&&(r===C?n._reject(i):r===V?n._rejectCallback(r.e,!1):(I.checkForgottenReturns(r,a,"",n,this),n._resolveCallback(r)))}},r.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},r.prototype._followee=function(){return this._rejectionHandler0},r.prototype._setFollowee=function(e){this._rejectionHandler0=e},r.prototype._settlePromise=function(e,t,i,o){var a=e instanceof r,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),i instanceof x&&i.isFinallyHandler()?(i.cancelPromise=e,M(t).call(i,o)===V&&e._reject(V.e)):t===u?e._fulfill(u.call(i)):i instanceof n?i._promiseCancelled(e):a||e instanceof R?e._cancel():i.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,i,o,e)):t.call(i,o,e):i instanceof n?i._isResolved()||(0!=(33554432&s)?i._promiseFulfilled(o,e):i._promiseRejected(o,e)):a&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(o):e._reject(o))},r.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,i=e.promise,n=e.receiver,o=e.value;"function"==typeof t?i instanceof r?this._settlePromiseFromHandler(t,n,o,i):t.call(n,o,i):i instanceof r&&i._reject(o)},r.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},r.prototype._settlePromise0=function(e,t,i){var n=this._promise0,o=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,e,o,t)},r.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},r.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var i=d();return this._attachExtraTrace(i),this._reject(i)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0?0!=(134217728&t)?this._settlePromises():v.settlePromises(this):I.trackHadronTest()&&this._verifyCurrentTestMatches()}},r.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return v.fatalError(e,g.isNode);(65535&t)>0?v.settlePromises(this):(this._ensurePossibleRejectionHandled(),I.trackHadronTest()&&this._verifyCurrentTestMatches())}},r.prototype._fulfillPromises=function(e,t){for(var i=1;i<e;i++){var n=this._fulfillmentHandlerAt(i),o=this._promiseAt(i),r=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(o,n,r,t)}},r.prototype._rejectPromises=function(e,t){for(var i=1;i<e;i++){var n=this._rejectionHandlerAt(i),o=this._promiseAt(i),r=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(o,n,r,t)}},r.prototype._verifyCurrentTestMatches=function(){if(void 0!==this.currentHadronTest&&e.currentHadronTest.indexOf(this.currentHadronTest)<0)throw new Error("Promise (debugName="+this.debugName+") was created by test: "+this.currentHadronTest+" but was settled during: "+e.currentHadronTest+" with value:\n"+JSON.stringify(this._settledValue())+"\nStack @ creation:\n==========================\n"+this.creationStack+"\n==========================\n\nPromises should resolve during the test that created them to avoid timing-related bugs.")},r.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(I.trackHadronTest()&&this._verifyCurrentTestMatches(),t>0){if(0!=(16842752&e)){var i=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,i,e),this._rejectPromises(t,i)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,e),this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()},r.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},r.defer=r.pending=function(){return{promise:new r(b),resolve:a,reject:s,fulfill:a,cancel:function(){return this.promise.cancel()}}},g.notEnumerableProp(r,"_makeSelfResolutionError",d),t("./method")(r,b,T,p,I),t("./bind")(r,b,T,I),t("./cancel")(r,R,p,I),t("./direct_resolve")(r),t("./synchronous_inspection")(r),t("./join")(r,R,T,b,I),r.Promise=r,r.version="3.4.0",t("./map.js")(r,R,p,T,b,I),t("./call_get.js")(r),t("./using.js")(r,p,T,E,b,I),t("./timers.js")(r,b,I),t("./generators.js")(r,p,b,T,n,I),t("./nodeify.js")(r),t("./promisify.js")(r,b),t("./props.js")(r,R,T,p),t("./race.js")(r,b,T,p),t("./reduce.js")(r,R,p,T,b,I),t("./settle.js")(r,R,I),t("./some.js")(r,R,p),t("./filter.js")(r,b),t("./each.js")(r,b),t("./any.js")(r),g.toFastProperties(r),g.toFastProperties(r.prototype),l({a:1}),l({b:2}),l({c:3}),l(1),l(function(){}),l(void 0),l(!1),l(new r(b)),I.setBounds(m.firstLineError,g.lastLineError),r}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,i){"use strict";t.exports=function(t,i,n,o,r){function a(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var n=this._promise=new t(i)
;e instanceof t&&n._propagateFrom(e,3),n._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var l=e("./util");l.isArray;return l.inherits(s,r),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(i,r){var s=n(this._values,this._promise);if(s instanceof t){s=s._target();var c=s._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,r);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=l.asArray(s))){var d=o("expecting an array or an iterable object but got "+l.classString(s)).reason();return void this._promise._rejectCallback(d,!1)}if(0===s.length)return void(-5===r?this._resolveEmptyArray():this._resolve(a(r)));this._iterate(s)},s.prototype._iterate=function(e){var i=this.getActualLength(e.length);this._length=i,this._values=this.shouldCopyValues()?new Array(i):this._values;for(var o=this._promise,r=!1,a=null,s=0;s<i;++s){var l=n(e[s],o);l instanceof t?(l=l._target(),a=l._bitField):a=null,r?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):r=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):r=this._promiseFulfilled(l,s)}r||o._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var i=0;i<e.length;++i)e[i]instanceof t&&e[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,i){"use strict";t.exports=function(t,i){function n(e){return!b.test(e)}function o(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function r(e,t,i){var n=h.getDataPropertyOrDefault(e,t+i,y);return!!n&&o(n)}function a(e,t,i){for(var n=0;n<e.length;n+=2){var o=e[n];if(i.test(o))for(var r=o.replace(i,""),a=0;a<e.length;a+=2)if(e[a]===r)throw new _("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function s(e,t,i,n){for(var s=h.inheritedDataKeys(e),l=[],c=0;c<s.length;++c){var d=s[c],u=e[d],p=n===S||S(d,u,e);"function"!=typeof u||o(u)||r(e,d,t)||!n(d,u,e,p)||l.push(d,u)}return a(l,t,i),l}function l(e,n,o,r,a,s){function l(){var o=n;n===p&&(o=this);var r=new t(i);r._captureStackTrace();var a="string"==typeof d&&this!==c?this[d]:e,l=g(r,s);try{a.apply(o,f(arguments,l))}catch(e){r._rejectCallback(m(e),!0,!0)}return r._isFateSealed()||r._setAsyncGuaranteed(),r}var c=function(){return this}(),d=e;return"string"==typeof d&&(e=r),h.notEnumerableProp(l,"__isPromisified__",!0),l}function c(e,t,i,n,o){for(var r=new RegExp(C(t)+"$"),a=s(e,t,r,i),l=0,c=a.length;l<c;l+=2){var d=a[l],u=a[l+1],g=d+t;if(n===T)e[g]=T(d,p,d,u,t,o);else{var f=n(u,function(){return T(d,p,d,u,t,o)});h.notEnumerableProp(f,"__isPromisified__",!0),e[g]=f}}return h.toFastProperties(e),e}function d(e,t,i){return T(e,t,void 0,e,null,i)}var u,p={},h=e("./util"),g=e("./nodeback"),f=h.withAppended,m=h.maybeWrapAsError,v=h.canEvaluate,_=e("./errors").TypeError,y={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],b=new RegExp("^(?:"+w.join("|")+")$"),S=function(e){return h.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},C=function(e){return e.replace(/([$])/,"\\$")},T=v?u:l;t.promisify=function(e,t){if("function"!=typeof e)throw new _("expecting a function but got "+h.classString(e));if(o(e))return e;t=Object(t);var i=void 0===t.context?p:t.context,r=!!t.multiArgs,a=d(e,i,r);return h.copyDescriptors(e,a,n),a},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new _("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var i=!!t.multiArgs,n=t.suffix;"string"!=typeof n&&(n="Async");var o=t.filter;"function"!=typeof o&&(o=S);var r=t.promisifier;if("function"!=typeof r&&(r=T),!h.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=h.inheritedDataKeys(e),s=0;s<a.length;++s){var l=e[a[s]];"constructor"!==a[s]&&h.isClass(l)&&(c(l.prototype,n,o,r,i),c(l,n,o,r,i))}return c(e,n,o,r,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,i){"use strict";t.exports=function(t,i,n,o){function r(e){var t,i=!1;if(void 0!==s&&e instanceof s)t=u(e),i=!0;else{var n=d.keys(e),o=n.length;t=new Array(2*o);for(var r=0;r<o;++r){var a=n[r];t[r]=e[a],t[r+o]=a}}this.constructor$(t),this._isMap=i,this._init$(void 0,-3)}function a(e){var i,a=n(e);return c(a)?(i=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new r(a).promise(),a instanceof t&&i._propagateFrom(a,2),i):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,l=e("./util"),c=l.isObject,d=e("./es5");"function"==typeof Map&&(s=Map);var u=function(){function e(e,n){this[t]=e,this[t+i]=n,t++}var t=0,i=0;return function(n){i=n.size,t=0;var o=new Array(2*n.size);return n.forEach(e,o),o}}(),p=function(e){for(var t=new s,i=e.length/2|0,n=0;n<i;++n){var o=e[i+n],r=e[n];t.set(o,r)}return t};l.inherits(r,i),r.prototype._init=function(){},r.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var i;if(this._isMap)i=p(this._values);else{i={};for(var n=this.length(),o=0,r=this.length();o<r;++o)i[this._values[o+n]]=this._values[o]}return this._resolve(i),!0}return!1},r.prototype.shouldCopyValues=function(){return!1},r.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return a(this)},t.props=function(e){return a(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,i){"use strict";function n(e,t,i,n,o){for(var r=0;r<o;++r)i[r+n]=e[r+t],e[r+t]=void 0}function o(e){this._capacity=e,this._length=0,this._front=0}o.prototype._willBeOverCapacity=function(e){return this._capacity<e},o.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},o.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var i=this._front,n=(i-1&t-1^t)-t;this[n]=e,this._front=n,this._length=this.length()+1},o.prototype.unshift=function(e,t,i){this._unshiftOne(i),this._unshiftOne(t),this._unshiftOne(e)},o.prototype.push=function(e,t,i){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(e),this._pushOne(t),void this._pushOne(i);var o=this._front+n-3;this._checkCapacity(n);var r=this._capacity-1;this[o+0&r]=e,this[o+1&r]=t,this[o+2&r]=i,this._length=n},o.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},o.prototype.length=function(){return this._length},o.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},o.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,n(this,0,this,t,this._front+this._length&t-1)},t.exports=o},{}],27:[function(e,t,i){"use strict";t.exports=function(t,i,n,o){function r(e,r){var l=n(e);if(l instanceof t)return s(l);if(null===(e=a.asArray(e)))return o("expecting an array or an iterable object but got "+a.classString(e));var c=new t(i);void 0!==r&&c._propagateFrom(r,3);for(var d=c._fulfill,u=c._reject,p=0,h=e.length;p<h;++p){var g=e[p];(void 0!==g||p in e)&&t.cast(g)._then(d,u,void 0,c,null)}return c}var a=e("./util"),s=function(e){return e.then(function(t){return r(t,e)})};t.race=function(e){return r(e,void 0)},t.prototype.race=function(){return r(this,void 0)}}},{"./util":36}],28:[function(e,t,i){"use strict";t.exports=function(t,i,n,o,r,a){function s(e,i,n,o){this.constructor$(e);var a=p();this._fn=null===a?i:a.bind(i),void 0!==n&&(n=t.resolve(n),n._attachCancellationCallback(this)),this._initialValue=n,this._currentCancellable=null,this._eachValues=o===r?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function l(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,i,o){return"function"!=typeof t?n("expecting a function but got "+h.classString(t)):new s(e,t,i,o).promise()}function d(e){this.accum=e,this.array._gotAccum(e);var i=o(this.value,this.array._promise);return i instanceof t?(this.array._currentCancellable=i,i._then(u,void 0,void 0,this,void 0)):u.call(this,i)}function u(e){var i=this.array,n=i._promise,o=g(i._fn);n._pushContext();var r;(r=void 0!==i._eachValues?o.call(n._boundValue(),e,this.index,this.length):o.call(n._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(i._currentCancellable=r);var s=n._popContext();return a.checkForgottenReturns(r,s,void 0!==i._eachValues?"Promise.each":"Promise.reduce",n),r}var p=t._getDomain,h=e("./util"),g=h.tryCatch;h.inherits(s,i),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&e!==r&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},s.prototype._iterate=function(e){this._values=e;var i,n,o=e.length;if(void 0!==this._initialValue?(i=this._initialValue,n=0):(i=t.resolve(e[0]),n=1),this._currentCancellable=i,!i.isRejected())for(;n<o;++n){var r={accum:null,value:e[n],index:n,length:o,array:this};i=i._then(d,void 0,void 0,r,void 0)}void 0!==this._eachValues&&(i=i._then(this._eachComplete,void 0,void 0,this,void 0)),i._then(l,l,void 0,i,this)},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,i,n){return c(e,t,i,n)}}},{"./util":36}],29:[function(e,t,i){"use strict";var n,o=e("./util"),r=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},a=o.getNativePromise();if(o.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,l=process.nextTick;n=o.isRecentNode?function(e){s.call(global,e)}:function(e){l.call(process,e)}}else if("function"==typeof a){var c=a.resolve();n=function(e){c.then(e)}}else n="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:r:function(){var e=document.createElement("div"),t={attributes:!0},i=!1,n=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),i=!1}).observe(n,t);var o=function(){i||(i=!0,n.classList.toggle("foo"))};return function(i){var n=new MutationObserver(function(){n.disconnect(),i()});n.observe(e,t),o()}}();t.exports=n},{"./util":36}],30:[function(e,t,i){"use strict";t.exports=function(t,i,n){function o(e){this.constructor$(e)}var r=t.PromiseInspection;e("./util").inherits(o,i),o.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(e,t){var i=new r;return i._bitField=33554432,i._settledValueField=e,this._promiseResolved(t,i)},o.prototype._promiseRejected=function(e,t){var i=new r;return i._bitField=16777216,i._settledValueField=e,this._promiseResolved(t,i)},t.settle=function(e){return n.deprecated(".settle()",".reflect()"),new o(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,i){"use strict";t.exports=function(t,i,n){function o(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function r(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new o(e),r=i.promise();return i.setHowMany(t),i.init(),r}var a=e("./util"),s=e("./errors").RangeError,l=e("./errors").AggregateError,c=a.isArray,d={};a.inherits(o,i),o.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},o.prototype.init=function(){this._initialized=!0,this._init()},o.prototype.setUnwrap=function(){this._unwrap=!0},o.prototype.howMany=function(){return this._howMany},o.prototype.setHowMany=function(e){this._howMany=e},o.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},o.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},o.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(d),this._checkOutcome())},o.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new l,t=this.length();t<this._values.length;++t)this._values[t]!==d&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},o.prototype._fulfilled=function(){return this._totalResolved},o.prototype._rejected=function(){return this._values.length-this.length()},o.prototype._addRejected=function(e){this._values.push(e)},o.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},o.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},o.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new s(t)},o.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return r(e,t)},t.prototype.some=function(e){return r(this,e)},t._SomePromiseArray=o}},{"./errors":12,"./util":36}],32:[function(e,t,i){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var i=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},r=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=e.prototype._isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype.isCancelled=function(){return this._target()._isCancelled()},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return r.call(this._target())},e.prototype.isFulfilled=function(){return o.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return i.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,i){"use strict";t.exports=function(t,i){function n(e,n){if(d(e)){if(e instanceof t)return e;var o=r(e);if(o===c){n&&n._pushContext();var l=t.reject(o.e);return n&&n._popContext(),l}if("function"==typeof o){if(a(e)){var l=new t(i);return e._then(l._fulfill,l._reject,void 0,l,null),l}return s(e,o,n)}}return e}function o(e){return e.then}function r(e){try{return o(e)}catch(e){return c.e=e,c}}function a(e){try{return u.call(e,"_promise0")}catch(e){return!1}}function s(e,n,o){function r(e){s&&(s._resolveCallback(e),s=null)}function a(e){s&&(s._rejectCallback(e,u,!0),s=null)}var s=new t(i),d=s;o&&o._pushContext(),s._captureStackTrace(),o&&o._popContext();var u=!0,p=l.tryCatch(n).call(e,r,a);return u=!1,s&&p===c&&(s._rejectCallback(p.e,!0,!0),s=null),d}var l=e("./util"),c=l.errorObj,d=l.isObject,u={}.hasOwnProperty;return n}},{"./util":36}],34:[function(e,t,i){"use strict";t.exports=function(t,i,n){function o(e){this.handle=e}function r(e){return clearTimeout(this.handle),e}function a(e){throw clearTimeout(this.handle),e}var s=e("./util"),l=t.TimeoutError,c=t._async;o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var d=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,r){var a,s;if(void 0!==r)a=t.resolve(r)._then(d,null,null,e,void 0),n.cancellation()&&r instanceof t&&a._setOnCancel(r);else{a=new t(i);s=c.getTimeoutFn()(function(){a._fulfill()},+e),n.cancellation()&&a._setOnCancel(new o(s))}return a._setAsyncGuaranteed(),a};t.prototype.delay=function(e){return u(e,this)};var p=function(e,t,i){var n;n="string"!=typeof t?t instanceof Error?t:new l("operation timed out"):new l(t),s.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._reject(n),null!=i&&i.cancel()};t.prototype.timeout=function(e,t){e=+e;var i,s,l=c.getTimeoutFn(),d=new o(l(function(){i.isPending()&&p(i,t,s)},e));return n.cancellation()?(s=this.then(),i=s._then(r,a,void 0,d,void 0),i._setOnCancel(d)):i=this._then(r,a,void 0,d,void 0),i}}},{"./util":36}],35:[function(e,t,i){"use strict";t.exports=function(t,i,n,o,r,a){function s(e){setTimeout(function(){throw e},0)}function l(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(e,i){function o(){if(a>=c)return d._fulfill();var r=l(e[a++]);if(r instanceof t&&r._isDisposable()){try{r=n(r._getDisposer().tryDispose(i),e.promise)}catch(e){return s(e)}if(r instanceof t)return r._then(o,s,null,null,null)}o()}var a=0,c=e.length,d=new t(r);return o(),d}function d(e,t,i){this._data=e,this._promise=t,this._context=i}function u(e,t,i){this.constructor$(e,t,i)}function p(e){return d.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function h(e){this.length=e,this.promise=null,this[e-1]=null}var g=e("./util"),f=e("./errors").TypeError,m=e("./util").inherits,v=g.errorObj,_=g.tryCatch,y={};d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():y},d.prototype.tryDispose=function(e){var t=this.resource(),i=this._context;void 0!==i&&i._pushContext();var n=t!==y?this.doDispose(t,e):null;return void 0!==i&&i._popContext(),this._promise._unsetDisposable(),this._data=null,n},d.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},m(u,d),u.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},h.prototype._resultCancelled=function(){for(var e=this.length,i=0;i<e;++i){var n=this[i];n instanceof t&&n.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return i("you must pass at least 2 arguments to Promise.using");var o=arguments[e-1];if("function"!=typeof o)return i("expecting a function but got "+g.classString(o));var r,s=!0;2===e&&Array.isArray(arguments[0])?(r=arguments[0],e=r.length,s=!1):(r=arguments,e--);for(var l=new h(e),u=0;u<e;++u){var f=r[u];if(d.isDisposer(f)){var m=f;f=f.promise(),f._setDisposable(m)}else{var y=n(f);y instanceof t&&(f=y._then(p,null,null,{resources:l,index:u},void 0))}l[u]=f}for(var w=new Array(l.length),u=0;u<w.length;++u)w[u]=t.resolve(l[u]).reflect();var b=t.all(w).then(function(e){for(var t=0;t<e.length;++t){var i=e[t];if(i.isRejected())return v.e=i.error(),v;if(!i.isFulfilled())return void b.cancel();e[t]=i.value()}S._pushContext(),o=_(o);var n=s?o.apply(void 0,e):o(e),r=S._popContext();return a.checkForgottenReturns(n,r,"Promise.using",S),n}),S=b.lastly(function(){var e=new t.PromiseInspection(b);return c(l,e)});return l.promise=S,S._setOnCancel(l),S},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new u(e,this,o());throw new f}}},{"./errors":12,"./util":36}],36:[function(e,t,i){"use strict";function n(){try{var e=I;return I=null,e.apply(this,arguments)}catch(e){return E.e=e,E}}function o(e){return I=e,n}function r(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return r(e)?new Error(m(e)):e}function l(e,t){var i,n=e.length,o=new Array(n+1);for(i=0;i<n;++i)o[i]=e[i];return o[i]=t,o}function c(e,t,i){if(!R.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var n=Object.getOwnPropertyDescriptor(e,t);return null!=n?null==n.get&&null==n.set?n.value:i:void 0}function d(e,t,i){if(r(e))return e;var n={value:i,configurable:!0,enumerable:!1,writable:!0};return R.defineProperty(e,t,n),e}function u(e){throw e}function p(e){try{if("function"==typeof e){var t=R.names(e.prototype),i=R.isES5&&t.length>1,n=t.length>0&&!(1===t.length&&"constructor"===t[0]),o=V.test(e+"")&&R.names(e).length>0;if(i||n||o)return!0}return!1}catch(e){return!1}}function h(e){function t(){}t.prototype=e;for(var i=8;i--;)new t;return e}function g(e){return M.test(e)}function f(e,t,i){for(var n=new Array(e),o=0;o<e;++o)n[o]=t+o+i;return n}function m(e){try{return e+""}catch(e){return"[no string representation]"}}function v(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function _(e){try{d(e,"isOperational",!0)}catch(e){}}function y(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function w(e){return v(e)&&R.propertyIsWritable(e,"stack")}function b(e){return{}.toString.call(e)}function S(e,t,i){for(var n=R.names(e),o=0;o<n.length;++o){var r=n[o];if(i(r))try{R.defineProperty(t,r,R.getDescriptor(e,r))}catch(e){}}}function C(e,t){return F?process.env[e]:t}function T(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}var R=e("./es5"),P="undefined"==typeof navigator,E={e:{}},I,x="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,A=function(e,t){function i(){this.constructor=e,this.constructor$=t;for(var i in t.prototype)n.call(t.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=t.prototype[i])}var n={}.hasOwnProperty;return i.prototype=t.prototype,e.prototype=new i,e.prototype},k=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1};if(R.isES5){var i=Object.getOwnPropertyNames;return function(e){for(var n=[],o=Object.create(null);null!=e&&!t(e);){var r;try{r=i(e)}catch(e){return n}for(var a=0;a<r.length;++a){var s=r[a];if(!o[s]){o[s]=!0;var l=Object.getOwnPropertyDescriptor(e,s);null!=l&&null==l.get&&null==l.set&&n.push(s)}}e=R.getPrototypeOf(e)}return n}}var n={}.hasOwnProperty;return function(i){if(t(i))return[];var o=[];e:for(var r in i)if(n.call(i,r))o.push(r);else{for(var a=0;a<e.length;++a)if(n.call(e[a],r))continue e;o.push(r)}return o}}(),V=/this\s*\.\s*\S+\s*=/,M=/^[a-z$_][a-z$_0-9]*$/i,D=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(m(e))}:function(e){if(w(e))return e;try{throw new Error(m(e))}catch(e){return e}}}(),O=function(e){return R.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,i=[],n=e[Symbol.iterator]();!(t=n.next()).done;)i.push(t.value);return i};O=function(e){return R.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?N(e):null}}var F="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),L={isClass:p,isIdentifier:g,inheritedDataKeys:k,getDataPropertyOrDefault:c,thrower:u,isArray:R.isArray,asArray:O,notEnumerableProp:d,isPrimitive:r,isObject:a,isError:v,canEvaluate:P,errorObj:E,tryCatch:o,inherits:A,withAppended:l,maybeWrapAsError:s,toFastProperties:h,filledRange:f,toString:m,canAttachTrace:w,ensureErrorObject:D,originatesFromRejection:y,markAsOriginatingFromRejection:_,classString:b,copyDescriptors:S,hasDevTools:!1,isNode:F,env:C,global:x,getNativePromise:T};L.isRecentNode=L.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),L.isNode&&L.toFastProperties(process);try{throw new Error}catch(e){L.lastLineError=e}t.exports=L},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}(this),function(){"use strict";define("core/Debug",["core/oop"],function(e){var t=e.classDef("core.Debug",Object,function(){e.staticScope(function(){e.methods({assert:function(e,t){if(!0!==e)throw new Error(t)},fail:function(e){}})})});return t})}(),function(){"use strict";define("core/uriUtils",["core/oop","core/Debug","lib/lodash/collections/forEach","lib/lodash/objects/forOwn"],function(e,t,i,n){var o=e.classDef("core.uriUtils",Object,function(){e.staticScope(function(){e.methods({format:function(e,t,n){var r=e,a=0;if(void 0!==t&&i(t,function(e){var t="{"+a+"}";r.indexOf(t),r=r.replace(t,encodeURIComponent(e)),a++}),void 0!==n){var s="?";-1!==r.indexOf(s)&&(s="&"),r+=s+o.encodeURIData(n)}return r},isLocal:function(e){return-1===e.indexOf("://")},encodeURIData:function(e){var t="";return n(e,function(e,i){var n=e;"object"!=typeof e||e instanceof Array||(n=JSON.stringify(e));var o=t.length>0?"&":"";t+=o+encodeURIComponent(i)+"="+encodeURIComponent(n)}),t},parseQueryString:function(e){e=e||"";for(var t={},i=e.split("&"),n=0;n<i.length;n++){var o=i[n].split("=");2===o.length&&(t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]))}return t},_isValidUriComponent:function(e){var t=!0;return["&","=","?"].forEach(function(i){e.indexOf(i)>-1&&(t=!1)}),t},addOrReplaceQueryParam:function(e,t,i){this._isValidUriComponent(t),this._isValidUriComponent(i);var n=new RegExp("("+t+"=).*?(&|$)"),o=e;return o=e.search(n)>=0?e.replace(n,"$1"+i+"$2"):o+(o.indexOf("?")>0?"&":"?")+t+"="+i},removeQueryParam:function(e,t){var i=e.split("?");if(i.length>=2){for(var n=i[1].split("&"),o=n.length-1;o>=0;o--)-1!==n[o].lastIndexOf(t+"=",0)&&n.splice(o,1);return 0!==n.length?i[0]+"?"+n.join("&"):i[0]}return e},getHostName:function(e){return e.match("^(?:.*://)?([A-Za-z0-9-.]+)")[1]}})})});return o})}(),function(){"use strict";define("core/datastructures/SimpleCache",["core/oop"],function(e){return e.classDef("core.datastructures.SimpleCache",Object,function(){e.initConstructor(function(){this._map={},this._size=0,this.capacity=5e3}),e.properties({capacity:{get:function(){return this._capacity},set:function(e){this._capacity=e,this._pruneIfOverCapacity()}},size:{get:function(){return this._size}},_size:void 0,_capacity:void 0,_map:void 0,_head:void 0,_tail:void 0}),e.methods({put:function(e,t){if(0!==this.capacity){var i=this._map[e];if(void 0!==i){if(void 0===t)return void this._deleteNode(i);i.value=t,this._removeNode(i),this._appendNode(i)}else void 0!==t&&(i={id:e,value:t,next:void 0,prev:void 0},this._map[e]=i,this._size++,this._appendNode(i),this._pruneIfOverCapacity())}},get:function(e){var t=this._map[e];if(void 0!==t)return t.value},traverse:function(e){for(var t=this._tail;void 0!==t;){if(!1===e(t.value))return;t=t.prev}},remove:function(e){var t=this._map[e];void 0!==t&&this._deleteNode(t)},clear:function(){this._clear()},_clear:function(){this._map={},this._size=0,this._head=void 0,this._tail=void 0},_removeNode:function(e){e===this._head?this._head=e.next:e.prev.next=e.next,e===this._tail?this._tail=e.prev:e.next.prev=e.prev,e.next=void 0,e.prev=void 0},_appendNode:function(e){void 0===this._tail?this._tail=this._head=e:(this._tail.next=e,e.prev=this._tail,this._tail=e)},_pruneIfOverCapacity:function(){this._size>this.capacity&&this._deleteNode(this._head)},_deleteNode:function(e){this._removeNode(e),delete this._map[e.id],this._size--}})})})}(),function(){"use strict";define("core/ExceptionRegistry",["core/oop","core/datastructures/SimpleCache"],function(e,t){return e.classDef("core.ExceptionRegistry",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments),this.capacity=100})})})}(),function(){"use strict";define("core/logging/Levels",["core/oop"],function(e){return e.enumDef("core.logging.Levels",["NONE","ERROR","WARNING","INFO","DIAG"])})}(),function(){"use strict";define("core/logging/Logger",["core/oop","core/logging/Levels"],function(e,t){return e.classDef("core.logging.Logger",Object,function(){e.staticScope(function(){e.properties({Levels:{defaultValue:t,readOnlyField:!0}})}),e.singleton(function(){}),e.collection("logHandlers"),e.properties({timeProvider:void 0}),e.methods({getTime:function(){var e=0;return void 0!==this.timeProvider&&(e=this.timeProvider.now()),e},log:function(e){this.logHandlers.forEach(function(t){t.log(e)})}})})})}(),function(){"use strict";define("core/logging/LogEntry",["core/oop","core/logging/Levels","core/logging/Logger"],function(e,t,i){return e.classDef("core.logging.LogEntry",Object,function(){e.properties({area:{defaultValue:"UNKNOWN"},verbosity:{defaultValue:t.INFO},timestamp:{defaultValue:0,privateSet:!0},type:{defaultValue:void 0,privateSet:!0}}),e.methods({log:function(){this._timestamp=i.singleton.getTime(),i.singleton.log(this)},toJSON:function(){return{type:this.type,area:this.area,verbosity:this.verbosity,timestamp:this.timestamp}}})})})}(),function(){"use strict";define("core/logging/MessageLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("core.logging.MessageLogEntry",t,function(t){e.initConstructor(function(){this._type="message"}),e.properties({message:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.message=this.message,e}})})})}(),function(){"use strict";define("core/logging/ExceptionLogEntry",["core/oop","core/logging/MessageLogEntry","lib/lodash/objects/forOwn"],function(e,t,i){return e.classDef("core.logging.ExceptionLogEntry",t,function(t){e.initConstructor(function(){}),e.properties({exceptionData:void 0}),e.methods({toJSON:function(){
var e=t.toJSON.apply(this,arguments);return i(this.exceptionData,function(t,i){e[i]=t}),e}})})})}(),function(){"use strict";define("core/CoreDeveloperSettings",["core/oop"],function(e){return e.classDef("core.CoreDeveloperSettings",Object,function(){e.singleton(function(){}),e.properties({preventAssertForLogTelemetry:{defaultValue:void 0,privateSet:!0},providersNeverExpire:{defaultValue:!1,privateSet:!0}})})})}(),function(){"use strict";define("engine/dependent/ITime",["core/oop"],function(e){return e.interfaceDef("engine.dependent.ITime",void 0,function(){e.singleton(),e.methods({now:void 0})})})}(),function(){"use strict";define("engine/dependent/Time",["core/oop","engine/dependent/ITime"],function(e,t){return e.classDef("engine.dependent.Time",[Object,t],function(){e.singleton(function(){}),e.methods({now:function(){return window.performance&&window.performance.now?window.performance.timing.navigationStart+window.performance.now():Date.now()}})})})}(),function(){"use strict";define("core/uuid",["core/oop","engine/dependent/Time"],function(e,t){return e.classDef("core.uuid",Object,function(){e.staticScope(function(){e.methods({create:function(){var e=t.singleton.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:7&i|8).toString(16)})}})})})})}(),function(){"use strict";define("core/Exception",["core/oop","core/Debug","core/ExceptionRegistry","core/logging/Levels","core/logging/ExceptionLogEntry","core/CoreDeveloperSettings","core/uuid","lib/lodash/objects/assign","lib/Promise"],function(e,t,i,n,o,r,a,s,l){var c=e.classDef("core.Exception",Error,function(){e.initConstructor(void 0,function(){if(void 0===this.id&&(this.id=a.create()),void 0===this.callstack){var e=!0===c.throwTempErrorToCaptureStackForWarnings||this.level!==n.WARNING;this.callstack=c._captureCallstackImpl(new Error(this.message),e,"new")}this._allowsWrapping=!0,i.singleton.put(this.id,this),this._log()}),e.staticScope(function(){e.properties({throwWarnings:void 0,throwTempErrorToCaptureStackForWarnings:void 0,inAutomation:{defaultValue:!1}}),e.methods({lookup:function(e){var t=e.indexOf("<id>"),n=e.indexOf("</id>");if(-1!==t&&-1!==n&&t<n){var o=e.substring(t+4,n);return i.singleton.get(o)}},wrap:function(e,t,i){if(t=s({},t),i=i||c,e instanceof i){e.level=t.level,e.contextualData=e.contextualData||t.contextualData;var o="wrapped exception: "+e.internalMessage;return e._log(t.area,o),e}return e instanceof Error&&!(e instanceof c)?t.innerException=c.new({message:e.message,callstack:c._captureCallstackImpl(e,!1,"wrap"),area:"core.Exception.wrap",level:e instanceof l.CancellationError?n.INFO:void 0}):t.innerException=e,i.new(t)},getInnermostException:function(e){for(var t=e;void 0!==t.innerException&&t.innerException instanceof c;)t=t.innerException;return t},_getErrorStack:function(e){return e.stack},captureCallstack:function(e){var t=void 0!==e,i=this._captureCallstackImpl(new Error(this.message),!0,"captureCallstack");return!0===t&&(i=i.slice(0,e)),i},_captureCallstackImpl:function(e,t,i){var n=c._getErrorStack(e);if(void 0===n&&!0===t)try{throw e}catch(e){n=e.stack}if(void 0!==n){for(var o,r=new RegExp(i+"[ |@].+\n","m"),a=new RegExp("as "+i+".+\n","m"),s=[];o=n.match(r)||n.match(a);){var l=o[0];n=n.substring(n.indexOf(l)+l.length),s[0]=this.toString()+": "+e.message}return s.concat(n.split(/\r*\n/))}}})}),e.properties({id:void 0,message:{get:function(){return"<id>"+this.id+"</id>"+this._message},set:function(e){this._message=e}},internalMessage:{get:function(){return this._message}},area:void 0,callstack:void 0,level:void 0,innerException:void 0,contextualData:void 0,_allowsWrapping:void 0,_message:void 0,_thrownAsException:void 0,_id:void 0}),e.methods({allowsWrapping:function(){return this._allowsWrapping},logErrorShow:function(){this._createLogEntry("errorshow").log()},logErrorGiveUp:function(){this._createLogEntry("giveup").log()},logTelemetry:function(){!1===c.getInnermostException(this)._isWrappedPromiseCancellationException()&&(!0!==c.inAutomation&&!0!==r.singleton.preventAssertForLogTelemetry&&this.internalMessage,this._createLogEntry("telemetry").log())},ignore:function(){},getLogData:function(){var e={};if(e.callstack=this.callstack,e.id=this.id,e.exceptionType=this.typeName,void 0!==this.contextualData&&(e.contextualData=this.contextualData),this.innerException instanceof c){var t=this.innerException;e.innerException=t._createLogEntry().toJSON()}else if(void 0!==this.innerException)try{e.innerException=JSON.parse(JSON.stringify(this.innerException))}catch(t){e.innerException="Failed to convert innerException to JSON: "+t}return e},_isWrappedPromiseCancellationException:function(){return this.level===n.INFO&&"late cancellation observer"===this.internalMessage&&"core.Exception.wrap"===this.area},_log:function(e,t){if(this._createLogEntry(void 0,e,t).log(),!0===c.throwWarnings&&!0!==this._thrownAsException)throw this._thrownAsException=!0,this},_createLogEntry:function(e,t,i){return void 0===e&&(e=void 0===this.level||this.level===n.ERROR?"error":"warning"),o.new({area:t||this.area,message:i||this._message,verbosity:this.level||n.ERROR,exceptionData:this.getLogData(),_type:e})}})},!0);return c})}(),function(){"use strict";define("core/logging/ObjectLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("core.logging.ObjectLogEntry",t,function(t){e.initConstructor(function(){this._type="objectlog"}),e.properties({objectId:void 0,stack:void 0,objectData:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.objectId=this.objectId,e.stack=this.stack,e.objectData=this.objectData,e}})})})}(),function(){"use strict";define("core/IDisposable",["core/oop"],function(e){return e.interfaceDef("core.IDisposable",void 0,function(){e.properties({isDisposed:{get:void 0}}),e.methods({dispose:void 0,getAutomationPeer:void 0})})})}(),function(){"use strict";define("core/logging/FilterCollection",["core/oop","core/oop/common/Collection"],function(e,t){return e.classDef("core.logging.FilterCollection",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({getConfig:function(e,t){for(var i=0;i<this.length;i++){var n=this.getAt(i);if(!0===n.test(e,t))return n.config}}})})})}(),function(){"use strict";define("core/logging/CounterLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("core.logging.CounterLogEntry",t,function(t){e.initConstructor(function(){this._type="counter"}),e.properties({stats:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.stats=this.stats.toJSON(),e}})})})}(),function(){"use strict";define("core/logging/CounterStats",["core/oop"],function(e){return e.classDef("core.logging.CounterStats",Object,function(){e.initConstructor(function(){}),e.properties({last:{defaultValue:0},min:{defaultValue:0},max:{defaultValue:0},avg:{defaultValue:0},count:{defaultValue:0},area:void 0}),e.methods({reset:function(){this.min=this.last,this.max=this.last,this.avg=this.last,this.count=0},update:function(e){this.count++,this.last=e,1===this.count?(this.min=e,this.max=e,this.avg=e):(this.avg+=(e-this.avg)/this.count,e<this.min&&(this.min=e),e>this.max&&(this.max=e))},toJSON:function(){return{last:Number(this.last.toFixed(2)),min:Number(this.min.toFixed(2)),max:Number(this.max.toFixed(2)),avg:Number(this.avg.toFixed(2))}}})})})}(),function(){"use strict";define("core/logging/Counters",["core/oop","core/logging/FilterCollection","core/logging/CounterLogEntry","core/logging/CounterStats"],function(e,t,i,n){return e.classDef("core.logging.Counters",Object,function(){e.singleton(function(){this._filters=t.new(),this.clearCounterStats()}),e.properties({isEnabled:{defaultValue:!1},filters:{defaultValue:void 0,privateSet:!0},isConfigured:{defaultValue:!1},_counterStats:void 0,_counterNames:void 0}),e.methods({_ensureArea:function(e){!0===this.isEnabled&&void 0===this._counterStats[e]&&(this._counterNames.push(e),this._counterStats[e]=n.new({area:e}))},incrementCounter:function(e){if(!0===this.isEnabled){var t=this.getCounterStats(e);t.update(t.last+1)}},decrementCounter:function(e){if(!0===this.isEnabled){var t=this.getCounterStats(e);t.update(t.last-1)}},setCounter:function(e,t,i){if(!0===this.isEnabled){var n=this.getCounterStats(e);(void 0===i||i(n.last))&&n.update(t)}},getCounter:function(e){if(!0===this.isEnabled)return this._ensureArea(e),this._counterStats[e].last},getCounterStats:function(e){if(!0===this.isEnabled)return this._ensureArea(e),this._counterStats[e]},getAllCounterStats:function(){return this._counterStats},resetCounterStats:function(){if(!0===this.isEnabled)for(var e=0;e<this._counterNames.length;e++)this._counterStats[this._counterNames[e]].reset()},clearCounterStats:function(){this._counterStats={},this._counterNames=[]},log:function(){if(!0===this.isEnabled)for(var e=0;e<this._counterNames.length;e++){var t=this._counterNames[e],n=this.filters.getConfig(t);if(void 0!==n&&n.enableCounterLog){var o=this.getCounterStats(t);i.new({stats:o,area:t}).log()}}}})})})}(),define("lib/lodash/functions/createCallback",["../internals/baseCreateCallback","../internals/baseIsEqual","../objects/isObject","../objects/keys"],function(e,t,i,n){function o(o,r,a){var s=typeof o;if(null==o||"function"==s)return e(o,r,a);if("object"!=s)return function(e){return e[o]};var l=n(o),c=l[0],d=o[c];return 1!=l.length||d!==d||i(d)?function(e){for(var i=l.length,n=!1;i--&&(n=t(e[l[i]],o[l[i]],null,!0)););return n}:function(e){var t=e[c];return d===t&&(0!==d||1/d==1/t)}}return o}),define("lib/lodash/collections/find",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,i){function n(n,o,r){if(o=t(o,r,3),!i(n)){var a;return e(n,function(e,t,i){if(o(e,t,i))return a=e,!1}),a}for(var s=-1,l=n.length;++s<l;){var c=n[s];if(o(c,s,n))return c}}return n}),function(){"use strict";define("core/DisposableTracker",["core/oop","core/logging/Counters","lib/lodash/objects/forOwn","lib/lodash/collections/find","core/Exception"],function(e,t,i,n,o){return e.classDef("core.DisposableTracker",Object,function(){e.singleton(function(){this._activeObjects={}}),e.properties({isEnabled:{defaultValue:!1},captureCallStack:{defaultValue:!1},_activeObjects:void 0,_nextId:{defaultValue:1001}}),e.methods({clearActive:function(){this._activeObjects={}},created:function(e){e._disposableId=this._nextId++;var i=t.singleton,n=e.typeName;i.incrementCounter("DisposableCount"),i.incrementCounter("Instances: "+n),!0===this.isEnabled&&(void 0===this._activeObjects[n]&&(this._activeObjects[n]={}),!0===this.captureCallStack&&(e._stack=this.collectCallStack()),this._activeObjects[n][e.disposableId]=e)},disposed:function(e){var i=e.disposableId;if(void 0===i)throw o.new({message:"Disposable disposed that wasn't notified of being created: "+e.typeName,area:"core.DisposableTracker.disposed"});var n=e.typeName,r=t.singleton;r.decrementCounter("DisposableCount"),r.decrementCounter("Instances: "+n),void 0!==this._activeObjects[n]&&delete this._activeObjects[n][i]},countActiveObjects:function(){var e=0;return i(this._activeObjects,function(t){i(t,function(){e++})}),e},getDisposableSummary:function(){var e=this,t={};return e._forEachDisposable(function(i,n){t[n]=t[n]||[],t[n].push(e._getDescription(i))}),t},queryDisposables:function(e){var t=[];return this._forEachDisposable(function(i){!0===e(i)&&t.push(i)}),t},getDisposableById:function(e){var t;return n(this._activeObjects,function(i){return void 0!==(t=n(i,{_disposableId:e}))}),t},getAutomationPeer:function(e){var t=this.getDisposableById(e);return void 0===t?void 0:t.getAutomationPeer()},collectCallStack:function(){return o.captureCallstack(40)},_forEachDisposable:function(e){i(this._activeObjects,function(t,n){i(t,function(t){e(t,n)})})},_getDescription:function(e){var t={id:e.disposableId};return void 0!==e.getContextualData&&(t.contextualData=e.getContextualData()),t}})})})}(),function(){"use strict";define("core/Disposable",["core/oop","core/logging/ObjectLogEntry","core/IDisposable","core/DisposableTracker"],function(e,t,i,n){return e.classDef("core.Disposable",i,function(){e.properties({isDisposed:{defaultValue:!1,privateSet:!0},_isDisposing:{defaultValue:!1},disposableId:{defaultValue:void 0,privateSet:!0},_stack:{defaultValue:void 0}}),e.methods({_doNothing:function(){},dispose:function(){!1===this._isDisposed&&!1===this._isDisposing&&(this._isDisposing=!0,this._disposeCore(),this._isDisposed=!0,n.singleton.disposed(this))},getAutomationPeer:function(){return{id:this.disposableId,className:this.typeName,stack:this._stack,parentId:void 0===this.parent?0:this.parent.disposableId,ownerId:void 0===this.owner?0:this.owner.disposableId}},_created:function(){n.singleton.created(this)},_debugHistory:function(e,i){t.new({objectId:this.disposableId,stack:!0===i?n.singleton.collectCallStack():[],objectData:e}).log()},_disposeCore:function(){}})})})}(),function(){"use strict";define("platform/NetworkCodes",["core/oop"],function(e){return e.enumDef("platform.NetworkCodes",["UNSPECIFIED","CELLULAR","WIRELESS","WIRED","NOT_CONNECTED"])})}(),function(){"use strict";define("platform/diagnostics/Timer",["core/oop","engine/dependent/Time"],function(e,t){return e.classDef("platform.diagnostics.Timer",Object,function(){e.constructor(function(){this.reset()}),e.properties({elapsedTime:{get:function(){return this._calculateCumulative()}},_started:void 0,_cumulative:void 0,_lastStartTime:void 0}),e.methods({start:function(){!0!==this._started&&(this._started=!0,this._lastStartTime=t.singleton.now())},stop:function(){this._cumulative=this._calculateCumulative(),this._started=!1},reset:function(){this._cumulative=0,this._lastStartTime=void 0,this._started=!1},_calculateCumulative:function(){var e=this._cumulative;return!0===this._started&&(e+=t.singleton.now()-this._lastStartTime),e}})})})}(),function(){"use strict";define("platform/PlatformDeveloperSettings",["core/oop"],function(e){return e.classDef("platform.PlatformDeveloperSettings",Object,function(){e.singleton(function(){}),e.properties({testLicenseUri:{defaultValue:void 0,privateSet:!0},userParentalControlsTheatricalMaxRatingCode:{defaultValue:void 0,privateSet:!0},userParentalControlsTelevisionMaxRatingCode:{defaultValue:void 0,privateSet:!0},userTimingIntegration:{defaultValue:void 0,privateSet:!0},useSWFVideo:{defaultValue:!0,privateSet:!0},useDashVideo:{defaultValue:!1,privateSet:!0},pushNotificationsEnabledOverride:{defaultValue:void 0,privateSet:!0}})})})}(),function(){"use strict";define("core/logging/SimpleLogEntry",["core/oop","core/Debug","core/logging/LogEntry","lib/lodash/collections/forEach"],function(e,t,i,n){return e.classDef("core.logging.SimpleLogEntry",i,function(t){e.initConstructor(function(){this._type="simple"}),e.properties({eventType:void 0,eventSubtype:void 0,area:void 0,payload:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return n(this.payload,function(t,i){e[i]=t}),e.type=this.eventSubtype,e.area=this.area,e}})})})}(),function(){"use strict";define("core/logging/TelegraphEventTypes",["core/oop"],function(e){return e.enumDef("core.logging.TelegraphEventTypes",{NAVIGATION:"navigation",VIDEO:"video",APPLICATION:"application",USER:"user",SEARCH:"search",TELEMETRY:"telemetry",UI:"ui",WATCHLIST:"watchlist",PURCHASE:"purchase",ACTIVATION:"activation",SUBSCRIPTION:"subscription",COMMERCE:"commerce",TEST:"test",VIDEO_QOS:"videoqos"})})}(),function(){"use strict";define("core/logging/TelegraphEventSubtypes",["core/oop"],function(e){return e.enumDef("core.logging.TelegraphEventSubtypes",{NAVIGATION_VIEW:"view",NAVIGATION_VIEWPOPUP:"viewpopup",NAVIGATION_VIEWSHOWN:"viewshown",SEARCH_TEXTENTRY:"textentry",SEARCH_INVOKE:"invoke",SEARCH_DEFAULTSEARCHINVOKE:"defaultsearchinvoke",VIDEO_START:"start",VIDEO_STOP:"stop",VIDEO_STATECHANGE:"stateChange",VIDEO_SCREENCASTSTART:"screencaststart",VIDEO_SCREENCASTSTOP:"screencaststop",VIDEO_PCRESTRICTED:"pcrestricted",ACTIVATION_ACTIVATIONCODE:"activationcode",APPLICATION_LAUNCH:"launch",APPLICATION_SESSIONSTART:"sessionstart",APPLICATION_ACTIVATE:"activate",APPLICATION_ACTIVATIONTIMEOUT:"activationtimeout",APPLICATION_DEACTIVATE:"deactivate",APPLICATION_DEEPLINK:"deeplink",APPLICATION_RESUME:"resume",USER_SIGNIN:"signin",USER_REAUTHENTICATION:"reauthentication",USER_EXPLICIT_LOGOUT:"explicitlogout",USER_IMPLICIT_LOGOUT:"implicitlogout",USER_ERROR_LOGOUT:"errorlogout",TELEMETRY_PERFORMANCE:"performance",TELEMETRY_ERRORMETRICS:"errormetrics",UI_USERINTERACTION:"userinteraction",UI_VIEWPORTCHANGE:"viewportchange",WATCHLIST_ADD:"add",WATCHLIST_REMOVE:"remove",WATCHLIST_TOGGLE_CONTINUE_WATCHING:"continuewatchingtoggle",WATCHLIST_CLEAR_CONTINUE_WATCHING:"continuewatchingclear",PURCHASE_SUCCESSFUL:"successful",SUBSCRIPTION_TOGGLEAUTORENEW:"toggleautorenew",TEST_DEVONLY:"devonly",VIDEO_QOS_START:"videoqosstart",VIDEO_QOS_END:"videoqossend",VIDEO_QOS_STATE_CHANGE:"videoqosstatechange",VIDEO_QOS_ERROR:"videoqoserror",VIDEO_QOS_BITRATE_CHANGE:"videoqosbitratechange",VIDEO_QOS_CHROMECAST_START:"videoqoschromecaststart",VIDEO_QOS_CHROMECAST_STOP:"videoqoschromecaststop",COMMERCE_WORKFLOW_START:"workflowStart",COMMERCE_SCREEN_SHOWN:"screenShown",COMMERCE_ACTION_CLICKED:"actionClicked",COMMERCE_ACCOUNT_CREATION_FAILURE:"accountCreationFailure",COMMERCE_SIGN_IN_FAILURE:"signInFailure",COMMERCE_USER_AUTHENTICATED:"userAuthenticated",COMMERCE_PAYMENT_FAILURE:"paymentFailure",COMMERCE_PAYMENT_SUCCESS:"paymentSuccess",COMMERCE_SUBSCRIPTION_FAILURE:"subscriptionFailure",COMMERCE_SUBSCRIPTION_SUCCESS:"subscriptionSuccess"})})}(),function(){"use strict";define("platform/ProcessBase",["core/oop","core/Debug","lib/Promise","lib/lodash/objects/forIn","core/Exception","core/logging/Levels","core/logging/MessageLogEntry","core/Disposable","engine/dependent/Time","platform/NetworkCodes","platform/diagnostics/Timer","platform/PlatformDeveloperSettings","core/logging/SimpleLogEntry","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("platform.ProcessBase",s,function(t){e.constructor(function(){this._created(),this._activationResolver=i.pending(),this._uptimeTimer=d.new(),this._nativeDialogQueue=[],this._applicationKeepAlives={},this._referrerUri=""}),e.properties({started:{defaultValue:!1,privateSet:!0},launchClientTimestamp:{privateSet:!0},uptime:{get:function(){return this._uptimeTimer.elapsedTime}},launchArgsReady:{get:function(){return this._activationResolver.promise}},referrerUri:{privateSet:!0},canGoBack:{defaultValue:!0,onChange:function(e){this._forwardCanGoBack(e)}},inAutomation:{defaultValue:!1},networkCode:{get:function(){return this._networkCode}},platformLocale:{get:function(){return this._getPlatformLocale()}},isVRModeEnabled:{get:function(){return!1}},pushNotificationsEnabled:{defaultValue:!1,privateSet:!0},hasSuspended:{defaultValue:!1,privateSet:!0},_suspendTimestamp:void 0,_hasNotifiedAppReady:{defaultValue:!1},_activationResolver:void 0,_chainedNotifyUnhandledErrorCallback:void 0,_applicationKeepAliveCounter:{defaultValue:0},_applicationKeepAlives:void 0,_uptimeTimer:void 0,_networkCode:{defaultValue:c.UNSPECIFIED,onChange:function(e,t){this._onNetworkCodeChanged(e,t)}},_nativeDialogQueue:void 0}),e.events(["reactivated","resumed","suspended","error","networkCodeChanged","simulatedVRModeChanged"]),e.methods({start:function(){!1===this.started&&(this._launchClientTimestamp=l.singleton.now(),this._startImpl())},notifyAppReady:function(){!0!==this._hasNotifiedAppReady&&(this._hasNotifiedAppReady=!0,this._notifyAppReadyImpl())},_notifyAppReadyImpl:function(){},_getPlatformLocale:function(){},_startImpl:function(){this._started=!0,this._uptimeTimer.start()},_launch:function(e){this._updatePushNotificationsSetting(e),this._activationResolver.resolve(e)},_updatePushNotificationsSetting:function(e){void 0!==u.singleton.pushNotificationsEnabledOverride?this._pushNotificationsEnabled=u.singleton.pushNotificationsEnabledOverride:void 0!==e.pushNotificationsEnabled?this._pushNotificationsEnabled=e.pushNotificationsEnabled:this._pushNotificationsEnabled=!1},restart:function(e){if(!1===this.started)throw o.new({message:"Cannot restart process that is not started",area:"platform.ProcessBase.restart"});this.clearNativeDialogQueue(),this._updatePushNotificationsSetting(e),this._onReactivated(e)},goBack:function(){!1===this.inAutomation&&!0===this.canGoBack&&this._goBackImpl()},_forwardCanGoBack:function(){},_goBackImpl:function(){},navigateExternal:function(){},openSystemSettings:function(){},openNotificationSettings:function(){},getApplicationKeepAlive:function(){var e=this;this.canGoBack=!1;var t=this._applicationKeepAlives,i="Token #"+this._applicationKeepAliveCounter+++" issued: "+l.singleton.now(),o=function(){t[i]=void 0,delete t[i];var o=!0;n(t,function(){o=!1}),e.canGoBack=o};return this._applicationKeepAlives[i]=o,o},getReentryUri:function(){return"/"},_disposeCore:function(){!0===this.started&&(this._started=!1,this._chainedNotifyUnhandledErrorCallback=void 0,this._uptimeTimer.stop()),this.clearNativeDialogQueue(),t._disposeCore.apply(this,arguments)},_notifyUnhandledError:function(e,t,i,n,r){var a=r,s=e,l=!1;try{void 0===r?void 0===(a=o.lookup(e))&&(a=o.new({message:"Unhandled error: "+e,area:"platform.ProcessBase._notifyUnhandledError.lookupFailed",callstack:["Unhandled exception: "+e+" at ("+t+":"+i+":"+n+")"]})):a=o.wrap(r,{message:"Unhandled error: "+e,area:"platform.ProcessBase._notifyUnhandledError"}),l=this.notifyUnhandledException(a)}catch(t){s="Unhandled error occurred during ProcessBase error handling (original message: "+e+")",a=t}return this._chainedNotifyUnhandledErrorCallback?this._chainedNotifyUnhandledErrorCallback.call(void 0,s,t,i,n,a):l},notifyUnhandledException:function(e){a.new({message:"Process caught unhandled exception",area:"platform.ProcessBase.notifyUnhandledException",verbosity:r.ERROR}).log();var t={exception:e,handled:!1};return this._onError(t),t.handled},makeFullUri:function(e){return e},setVRModeEnabled:function(){return!0},openNativeDialog:function(e,t,n,o,r){var a={type:e,title:t,body:n,confirmationButtonText:o,cancelButtonText:r,resolver:i.pending()};return this._nativeDialogQueue.push(a),1===this._nativeDialogQueue.length&&this._showNativeDialogEntry(a),a.resolver.promise},_showNativeDialogEntry:function(e){var t=this;this._openNativeDialog(e.type,e.title,e.body,e.confirmationButtonText,e.cancelButtonText).then(function(t){e.resolver.fulfill(t)}).catch(function(t){e.resolver.reject(t)}).finally(function(){t._nativeDialogQueue.shift(),t._nativeDialogQueue.length>0&&t._showNativeDialogEntry(t._nativeDialogQueue[0])})},_openNativeDialog:function(){},clearNativeDialogQueue:function(){this._nativeDialogQueue.forEach(function(e){e.resolver.cancel()}),this._nativeDialogQueue.length=0},_doSuspended:function(){this._hasSuspended=!0;var e=l.singleton.now();this._suspendTimestamp=e,this._onSuspended()},_doResumed:function(){if(this._onResumed(),void 0!==this._suspendTimestamp){var e=l.singleton.now()-this._suspendTimestamp;p.new({eventType:h.APPLICATION,eventSubtype:g.APPLICATION_RESUME,area:"platform.ProcessBase.doResumed",payload:{suspendDuration:e}}).log()}}})})})}(),function(e){"use strict";define("platform/dependent/DOMProcessBase",["core/oop","platform/ProcessBase"],function(t,i){return t.classDef("platform.dependent.DOMProcessBase",i,function(i){t.constructor(function(){i.$ctor.apply(this,arguments),this._window=e}),t.properties({_window:void 0,_notifyUnhandledErrorCallback:void 0,_checkForReadyStateCompleteCallback:void 0}),t.methods({_startImpl:function(){i._startImpl.apply(this,arguments),this._notifyUnhandledErrorCallback=this._notifyUnhandledError.bind(this),this._chainedNotifyUnhandledErrorCallback=this._window.onerror,this._window.onerror=this._notifyUnhandledErrorCallback,"complete"===this._window.document.readyState?this._onReadyComplete():(this._checkForReadyStateCompleteCallback=this._checkForReadyStateComplete.bind(this),this._window.document.addEventListener("DOMContentLoaded",this._checkForReadyStateCompleteCallback),this._window.document.addEventListener("readystatechange",this._checkForReadyStateCompleteCallback),this._window.addEventListener("load",this._checkForReadyStateCompleteCallback))},_disposeCore:function(){!0===this.started&&(this._detachReadyStateChange(),this._window.onerror=this._chainedNotifyUnhandledErrorCallback),i._disposeCore.apply(this,arguments)},_checkForReadyStateComplete:function(){"complete"===this._window.document.readyState&&(this._detachReadyStateChange(),this._onReadyComplete())},_detachReadyStateChange:function(){void 0!==this._checkForReadyStateCompleteCallback&&(this._window.document.removeEventListener("DOMContentLoaded",this._checkForReadyStateCompleteCallback),this._window.document.removeEventListener("readystatechange",this._checkForReadyStateCompleteCallback),this._window.removeEventListener("load",this._checkForReadyStateCompleteCallback),this._checkForReadyStateCompleteCallback=void 0)},_onReadyComplete:function(){},_getPlatformLocale:function(){if(void 0!==this._window.navigator){if(void 0!==this._window.navigator.languages&&void 0!==this._window.navigator.languages[0])return this._window.navigator.languages[0].toLowerCase();if(void 0!==this._window.navigator.language)return this._window.navigator.language.toLowerCase()}return"en-us"}})})})}(this),function(){"use strict";define("platform/dependent/NativeDialogType",["core/oop"],function(e){return e.enumDef("platform.dependent.NativeDialogType",["ALERT","CONFIRMATION","PROMPT"])})}(),function(){"use strict";define("platform/dependent/IProcess",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.IProcess",t,function(){e.singleton(),e.properties({started:{get:void 0},launchClientTimestamp:{get:void 0},uptime:{get:void 0},launchArgsReady:{get:void 0},canGoBack:{get:void 0},referrerUri:{get:void 0},inAutomation:{get:void 0},networkCode:{get:void 0},isVRModeEnabled:{get:void 0},platformLocale:{get:void 0},hasSuspended:{get:void 0}}),e.events(["reactivated","resumed","suspended","error","networkCodeChanged"]),e.methods({start:void 0,restart:void 0,goBack:void 0,navigateExternal:void 0,openSystemSettings:void 0,openNotificationSettings:void 0,getReentryUri:void 0,notifyAppReady:void 0,notifyUnhandledException:void 0,makeFullUri:void 0,openNativeDialog:void 0,setVRModeEnabled:void 0})})})}(),function(){"use strict";define("platform/dependent/graphics/DynamicStyleManager",["core/oop","core/Debug","core/Disposable"],function(e,t,i){return e.classDef("platform.dependent.graphics.DynamicStyleManager",i,function(t){e.singleton(function(){this._styleData={},this._created()}),e.methods({addStyle:function(e,t,i){var n=this._styleData[e];if(void 0!==n)return void(n.info===i&&n.style.textContent);var o=window.document.createElement("style");o.type="text/css",o.textContent=t,window.document.head.appendChild(o),this._styleData[e]={style:o,info:i}},getStyleInfo:function(e){var t=this._styleData[e];if(void 0!==t)return t.info},removeStyle:function(e){var t=this._styleData[e];return void 0!==t&&(window.document.head.removeChild(t.style),delete this._styleData[e],!0)},_disposeCore:function(){for(var e in this._styleData)window.document.head.removeChild(this._styleData[e].style);t._disposeCore.apply(this,arguments)}}),e.properties({_styleData:void 0})})})}(),function(){"use strict";define("platform/dependent/Process",["core/oop","lib/Promise","core/uriUtils","platform/dependent/DOMProcessBase","platform/dependent/NativeDialogType","platform/dependent/IProcess","platform/dependent/graphics/DynamicStyleManager","engine/dependent/Time"],function(e,t,i,n,o,r,a,s){return e.classDef("platform.dependent.Process",[n,r],function(n){e.singleton(function(){n.$ctor.apply(this,arguments),this._referrerUri=this._window.document.referrer}),e.properties({isVRModeEnabled:{defaultValue:!0,privateSet:!0},referrerUri:{defaultValue:"",privateSet:!0}}),e.methods({start:function(){!1===this.started&&(this._launchClientTimestamp=this._window.globalStartupTime||s.singleton.now(),this._startImpl())},_startImpl:function(){n._startImpl.apply(this,arguments),a.singleton.addStyle("assets/fonts/Street2-Bold.ttf","","street2_bold"),a.singleton.addStyle("assets/fonts/Street2-Book.ttf","","street2_book"),a.singleton.addStyle("assets/fonts/Street2-Medium.ttf","","street2_medium"),a.singleton.addStyle("assets/fonts/Street2-Thin.ttf","","street2_thin"),a.singleton.addStyle("assets/fonts/StreetNumbers2-Book.ttf","","streetNumbers2_book"),a.singleton.addStyle("assets/fonts/StreetNumbers2-Medium.ttf","","streetNumbers2_medium"),a.singleton.addStyle("assets/fonts/StreetNumbers2-Thin.ttf","","streetNumbers2_thin")},_goBackImpl:function(){this._window.close()},navigateExternal:function(e,t){!1===this.inAutomation&&(!0===t?this._window.open(e):this._window.location.href=e)},getReentryUri:function(e){return void 0!==e?this._window.location.protocol+"//"+this._window.location.host+e:this._window.location.href},makeFullUri:function(e){return e+(this._window.location.search||"")},isFlashEnabled:function(){var e=this._window.navigator;return void 0!==e&&void 0!==e.plugins&&e.plugins[this._getFlashPluginName()]instanceof Object&&null!==e.plugins[this._getFlashPluginName()].enabledPlugin},getFlashVersion:function(){var e=this._window.navigator;if(void 0!==e&&void 0!==e.plugins&&e.plugins[this._getFlashPluginName()]instanceof Object)return e.plugins[this._getFlashPluginName()].description;try{return new this._window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){}},getWebkitFPSKeySystem:function(){var e=this._window.WebKitMediaKeys;if(void 0!==e&&e.isTypeSupported("com.apple.fps.1_0","video/mp4"))return"com.apple.fps.1_0"},_openNativeDialog:function(e,i,n,r,a){var s={result:!0,input:void 0};if(!0===this.inAutomation)this._debugHistory({message:"Faking openNativeDialog",type:i,body:n,confirmationButtonText:r,cancelButtonText:a,result:s});else{var l="Title: "+i+"\nBody: "+n+"\nConfirm: "+r;switch(e!==o.ALERT&&(l+="\nCancel: "+a),e){case o.ALERT:this._window.alert(l);break;case o.CONFIRMATION:s.result=this._window.confirm(l);break;case o.PROMPT:var c=this._window.prompt(l,"");null===c?s.result=!1:""!==c&&(s.input=c)}}return t.fulfilled(s)},setVRModeEnabled:function(e){var t=this._window.confirm(!0===e?"Switching to VR mode":"Switching to 2D mode");return t=t||!0===e,!0===t&&(this._isVRModeEnabled=e,this._onSimulatedVRModeChanged()),t},_getFlashPluginName:function(){return"Shockwave Flash"},_onReadyComplete:function(){var e=i.parseQueryString(this._window.location.search.substring(1)),t=this.getFlashVersion();void 0!==t&&(e.playerVersion=t);var n=this.getWebkitFPSKeySystem();void 0!==n&&(e.webkitKeySystem=n),e.path=this._window.location.pathname,void 0!==this._window.location.pathname&&void 0!==this._window.location.search&&(e.path+=this._window.location.search),e.hash=this._window.location.hash;var o=this._window.navigator;void 0!==o&&(e.deviceModel=o.userAgent),this._launch(e)}})})})}(),function(){"use strict";define("core/PromiseMultiplexer",["core/oop","lib/Promise"],function(e,t){return e.classDef("core.PromiseMultiplexer",Object,function(){e.constructor(function(e){this._promiseFunc=e,this._resolver=t.pending()}),e.properties({_promiseFunc:void 0,_resolver:void 0,_multiplexedPromise:void 0}),e.methods({_makeInternalPromise:function(){var e=this;this._resolver=t.pending();var i=e._resolver.promise,n=this._promiseFunc();return new t(function(e,t,o){i.then(function(t){e(t),n.cancel()}),n.then(e).catch(t),o(function(){n.cancel()})})},resolve:function(e){this._resolver.resolve(e),this._multiplexedPromise=this._resolver.promise},reset:function(){this.cancel()},cancel:function(){void 0!==this._multiplexedPromise&&(this._multiplexedPromise.cancel(),
this._multiplexedPromise=void 0)},addPromise:function(){return(void 0===this._multiplexedPromise||this._multiplexedPromise.isRejected()||this._multiplexedPromise.isCancelled())&&(this.reset(),this._multiplexedPromise=this._makeInternalPromise()),this._multiplexedPromise.then(function(e){return e})},isFulfilled:function(){return void 0!==this._multiplexedPromise&&this._multiplexedPromise.isFulfilled()},isRejected:function(){return void 0!==this._multiplexedPromise&&this._multiplexedPromise.isRejected()}})})})}(),function(){"use strict";define("core/Startup",["core/oop","core/Debug","lib/Promise","core/PromiseMultiplexer","lib/lodash/collections/forEach"],function(e,t,i,n,o){return e.classDef("core.Startup",Object,function(){e.singleton(function(){this.reset(),this._tasks={}}),e.properties({ready:{get:function(){return this._startupMux.addPromise()}},_startupMux:void 0,_resolver:void 0,_tasks:void 0,_started:{defaultValue:!1}}),e.methods({reset:function(){if(this._started=!1,this._resolver=i.pending(),void 0===this._startupMux){var e=this;this._startupMux=n.new(function(){return e._resolver.promise})}else this._startupMux.reset();o(this._tasks,function(e){var t=i.pending();e.resolver=t,e.promise=t.promise})},_executeTask:function(e){try{i.cast(e.action()).then(function(){e.resolver.resolve()}).catch(function(t){e.resolver.reject(t)})}catch(t){e.resolver.reject(t)}},start:function(){var e=this,t=[];this._started,this._started=!0,o(this._tasks,function(i){t.push(i.promise),e._executeTask(i)}),i.all(t).then(function(){e._resolver.resolve()}).catch(function(t){e._resolver.reject(t)})},register:function(e,t){this._started,this._tasks[e];var n=i.pending();this._tasks[e]={id:e,action:t,resolver:n,promise:n.promise}},isRejected:function(){return this._startupMux.isRejected()}})})})}(),function(){"use strict";define("core/IFactoryTarget",["core/oop"],function(e){return e.interfaceDef("core.IFactoryTarget",void 0,function(){e.properties({factoryId:{get:void 0,set:void 0}})})})}(),function(){"use strict";define("core/data/Model",["core/oop"],function(e){return e.interfaceDef("core.data.Model",void 0,function(){e.properties({id:{get:void 0},expirationTime:{get:void 0},cacheable:{get:void 0},deepLinkUriPath:{get:void 0}}),e.methods({initialize:void 0})})})}(),function(){"use strict";define("core/datastructures/BinaryHeap",["core/oop"],function(e){return e.classDef("core.datastructures.BinaryHeap",Object,function(){e.constructor(function(e){this._score=void 0===e?function(e){return e}:e,this._content=[]}),e.properties({size:{get:function(){return this._content.length}},_content:void 0,_score:void 0}),e.methods({clear:function(){this._content.length=0},push:function(e){this._content.push(e),this._bubbleUp(this._content.length-1)},peek:function(){return this._content[0]},pop:function(){var e=this._content[0],t=this._content.pop();return this._content.length>0&&(this._content[0]=t,this._sinkDown(0)),e},remove:function(e){for(var t=this._content.length,i=0;i<t;i++)if(this._content[i]===e){var n=this._content.pop();if(i===t-1)break;this._content[i]=n,this._bubbleUp(i),this._sinkDown(i);break}},_bubbleUp:function(e){for(var t=this._content[e],i=this._score(t);e>0;){var n=Math.floor((e+1)/2)-1,o=this._content[n];if(i>=this._score(o))break;this._content[n]=t,this._content[e]=o,e=n}},_sinkDown:function(e){for(var t,i=this._content.length,n=this._content[e],o=this._score(n);;){var r,a,s=2*(e+1),l=s-1;if(t=void 0,l<i){var c=this._content[l];r=this._score(c),r<o&&(t=l)}if(s<i){var d=this._content[s];a=this._score(d),a<(void 0===t?o:r)&&(t=s)}if(void 0===t)break;this._content[e]=this._content[t],this._content[t]=n,e=t}}})})})}(),function(){"use strict";define("core/datastructures/AccessPriorityCache",["core/oop","core/datastructures/BinaryHeap","core/datastructures/SimpleCache","engine/dependent/Time"],function(e,t,i,n){return e.classDef("core.datastructures.AccessPriorityCache",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments),this._expirationHeap=t.new(function(e){return e.expirationTime})}),e.properties({_expirationHeap:void 0}),e.methods({put:function(e,t,o){void 0!==o&&o<=n.singleton.now()?this.remove(e):(i.put.call(this,e,t),this.setExpiration(e,o))},get:function(e){return this._removeExpiredEntries(),this.access(e),i.get.call(this,e)},access:function(e){var t=this._map[e];void 0!==t&&(this._removeNode(t),this._appendNode(t))},setExpiration:function(e,t){var i=this._map[e];if(void 0!==i){void 0!==i.expirationTime&&i.expirationTime!==t&&this._expirationHeap.remove(i);var n=i.expirationTime;i.expirationTime=t,void 0!==t&&n!==t&&this._expirationHeap.push(i)}},_clear:function(){i._clear.apply(this,arguments),this._expirationHeap.clear()},_deleteNode:function(e){i._deleteNode.apply(this,arguments),void 0!==e.expirationTime&&this._expirationHeap.remove(e)},_removeExpiredEntries:function(){for(var e=n.singleton.now(),t=this._expirationHeap.peek();void 0!==t&&t.expirationTime<=e;)this._deleteNode(t),t=this._expirationHeap.peek()}})})})}(),function(){"use strict";define("core/data/CacheManager",["core/oop","core/datastructures/AccessPriorityCache","core/logging/Counters"],function(e,t,i){var n=e.enumDef("core.data.CacheManager.Counters",{HIT_COUNTER:"CacheManager.hit",MISS_COUNTER:"CacheManager.miss",UPDATE_COUNTER:"CacheManager.update"});return e.classDef("core.data.CacheManager",t,function(t){e.singleton(function(){t.$ctor.call(this)}),e.properties({Counters:{defaultValue:n,readOnlyField:!0},capacity:void 0,waitOnWriteTime:{defaultValue:0},minimumCacheTime:{defaultValue:0}}),e.methods({get:function(){var e=t.get.apply(this,arguments);return void 0===e?i.singleton.incrementCounter(n.MISS_COUNTER):i.singleton.incrementCounter(n.HIT_COUNTER),e},put:function(){t.put.apply(this,arguments),i.singleton.incrementCounter(n.UPDATE_COUNTER)}})})})}(),function(){"use strict";define("core/data/Provider",["core/oop","core/Debug","core/IFactoryTarget","core/data/Model","core/data/CacheManager","engine/dependent/Time","core/CoreDeveloperSettings"],function(e,t,i,n,o,r,a){var s=e.classDef("core.data.Provider",[n,i],function(){e.constructor(function(e){this._id=e}),e.properties({id:{privateSet:!0,defaultValue:void 0},cacheable:{privateSet:!0,defaultValue:!0},expirationTime:{privateSet:!0,onChange:function(e){!0===this.cacheable&&!0!==a.singleton.providersNeverExpire&&o.singleton.setExpiration(this.id,e)}},factoryId:void 0,deepLinkUriPath:{get:function(){return s._getDeepLinkUriPath(this)}},_isExpired:{get:function(){return void 0!==this.expirationTime&&r.singleton.now()>this.expirationTime}},_timeToLive:{get:function(){return void 0!==this.expirationTime?this.expirationTime-r.singleton.now():1/0}}}),e.methods({initialize:function(e){this._expirationTime=e.expirationTime||this._expirationTime},_getData:function(e){},_keepBitLonger:function(){void 0!==this._expirationTime&&(this._expirationTime=r.singleton.now()+o.singleton.waitOnWriteTime)},_getProperty:function(e){return this._getData(e)},_ensureNoExpirationTime:function(e){e.expirationTime,e.expirationTime=void 0}}),e.staticScope(function(){e.methods({implementProperty:function(e){return function(){return this._getProperty(e)}},_getDeepLinkUriPath:function(e){return void 0===e.factoryId||void 0===e.id?void 0:"/"+e.factoryId.toLowerCase()+"/"+e.id}})})});return s})}(),function(){"use strict";define("core/data/ValueModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("core.data.ValueModel",t,function(){e.properties({value:{get:void 0}})})})}(),function(){"use strict";define("core/data/ExplicitValueProvider",["core/oop","core/data/Provider","core/data/ValueModel","lib/Promise"],function(e,t,i,n){return e.classDef("core.data.ExplicitValueProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({value:{get:function(){return n.fulfilled(this._value)}},_value:void 0}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),t.initialize.apply(this,arguments),this._value=e.value}})})})}(),function(){"use strict";define("ui/ReactComponentDescriptor",["core/oop"],function(e){return e.classDef("ui.ReactComponentDescriptor",Object,function(){e.initConstructor(function(){}),e.properties({componentType:void 0,props:void 0})})})}(),function(){"use strict";define("ui/ReactComponentRegistry",["core/oop","core/oop/common/Collection","core/Debug","core/Disposable","lib/lodash/objects/isEqual","lib/lodash/collections/forEach"],function(e,t,i,n,o,r){return e.classDef("ui.ReactComponentRegistry",n,function(i){e.singleton(function(){this._registry={},this._classNameRegistry={},this._parentToChildrenMap={},this._childToParentMap={},this._rootCounter=0,this._created()}),e.properties({_registry:void 0,_classNameRegistry:void 0,_parentToChildrenMap:void 0,_childToParentMap:void 0,_rootCounter:void 0}),e.methods({register:function(e,t,i){this._registry[e]=t,this._classNameRegistry[e]=i},registerRoot:function(e){var t=10*this._rootCounter+++1;return this._registry[t]=e,t},get:function(e){return this._registry[e]},getClassName:function(e){return this._classNameRegistry[e]},addChildIds:function(e,i,n){var o=this;this._validateAddChildrenParams(e,i,n),void 0===this._parentToChildrenMap[e]&&(this._parentToChildrenMap[e]=t.new()),i.forEach(function(t,i){o._childToParentMap[t]=e,void 0!==n?o._parentToChildrenMap[e].insertAt(n[i],t):o._parentToChildrenMap[e].add(t)})},_validateAddChildrenParams:function(e,t,i){var n=this;this._registry[e],t.length,void 0===i||(i.length,t.length),void 0===i||o(i.slice().sort(function(e,t){return e<t?-1:1}),i),t.forEach(function(e){n._registry[e],n._childToParentMap[e]})},getChildIds:function(e){var t=this._parentToChildrenMap[e];return void 0===t?void 0:t.toArray()},getParentId:function(e){return this._childToParentMap[e]},deregisterComponent:function(e,t){var i=this;this._registry[e];var o=this._registry[e];delete this._registry[e],delete this._classNameRegistry[e],!0===t&&this._unparent(e,o),this._childToParentMap[e];var a=this.getChildIds(e);delete this._parentToChildrenMap[e],r(a,function(e){delete i._childToParentMap[e],i.deregisterComponent(e)}),o instanceof n&&void 0===o.parent&&o.dispose()},_unparent:function(e,t){void 0!==t.parent&&t.parent.children.remove(t);var i=this._childToParentMap[e];if(void 0!==i){delete this._childToParentMap[e];var n=this._parentToChildrenMap[i];1===n.length?delete this._parentToChildrenMap[i]:n.remove(e)}},_disposeCore:function(){i._disposeCore.apply(this,arguments),this._registry=void 0,this._classNameRegistry=void 0}})})})}(),function(){"use strict";define("ui/StyleSheet",["core/oop","lib/lodash/objects/assign"],function(e,t){return e.classDef("ui.StyleSheet",Object,function(){e.staticScope(function(){e.methods({create:function(e){return Object.seal(e)},flatten:function(e){if(void 0===e||null===e)return this.create({});if(Array.isArray(e)){for(var i={},n=0;n<e.length;n++)t(i,e[n]);return this.create(i)}return this.create(e)}})})})})}(),define("lib/lodash/objects/values",["./keys"],function(e){function t(t){for(var i=-1,n=e(t),o=n.length,r=Array(o);++i<o;)r[i]=t[n[i]];return r}return t}),function(){"use strict";define("engine/dependent/IScheduler",["core/oop"],function(e){return e.interfaceDef("engine.dependent.IScheduler",void 0,function(){e.singleton(),e.methods({requestTimeout:void 0,requestFrame:void 0})})})}(),function(){"use strict";define("engine/dependent/Scheduler",["core/oop","engine/dependent/IScheduler"],function(e,t){return e.classDef("engine.dependent.Scheduler",t,function(){e.singleton(function(){}),e.methods({requestTimeout:function(e,t){var i=window.setTimeout(e,t);return function(){window.clearTimeout(i)}},requestFrame:function(e){window.requestAnimationFrame(e)}})})})}(),function(){"use strict";define("platform/common/Dispatcher",["core/oop","lib/Promise","core/Exception","core/logging/MessageLogEntry","core/logging/Levels","platform/dependent/Process","engine/dependent/Time","engine/dependent/Scheduler","core/logging/Counters","core/Disposable","core/Debug"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("platform.common.Dispatcher",c,function(c){e.singleton(function(){l.singleton.setCounter("Dispatcher.activeTimers",0),this._timerCancelers=[],this._currentQueue=[],this._pendingPost=[],this._backgroundQueue=[];var e=this;this._onTickCallback=function(){e._onTick()},this._created()}),e.properties({frameWorkCutoffMS:void 0,unresponsiveFrameMS:void 0,longWorkItemCutoffMS:void 0,verboseLogging:void 0,isEmpty:{get:function(){return 0===this._currentQueue.length&&0===this._pendingPost.length&&0===this._backgroundQueue.length&&!1===this._callbackPending}},_timerCancelers:void 0,_callbackPending:{defaultValue:!1},_currentQueue:void 0,_pendingPost:void 0,_backgroundQueue:void 0,_onTickCallback:void 0}),e.methods({queue:function(){var e=t.pending();return this.queueCallback(function(t){e.fulfill(t)}),e.promise},queueCallback:function(e){this._currentQueue.push(e),this._requestCallback()},queueBackground:function(e){var i={workFunction:e,resolver:t.pending()};return this._backgroundQueue.push(i),this._requestCallback(),i.resolver.promise},post:function(){var e=t.pending();return this.postCallback(function(t){e.fulfill(t)}),e.promise},postCallback:function(e){this._pendingPost.push(e),this._requestCallback()},postTimeout:function(e){e=Math.min(e,2147483647);var i,n=this,o=t.pending(),r=s.singleton.requestTimeout(function(){n._removeTimerCanceler(i),o.fulfill()},e);return i=function(){o.promise.cancel(),r(),n._removeTimerCanceler(i),r=void 0,i=void 0},this._addTimerCanceler(i),o.promise.finally(function(){o.promise.isCancelled()&&void 0!==i&&i()})},postInterval:function(e,t){function n(){if(void 0!==o){o=c.requestTimeout(n,e);try{t()}catch(e){void 0!==a&&a(),r.singleton.notifyUnhandledException(i.wrap(e,{message:"callback threw an error: "+e,area:"Dispatcher.postInterval"}))}}}var o,a,l=this,c=s.singleton;return o=c.requestTimeout(n,e),a=function(){void 0!==o&&(l._removeTimerCanceler(a),o(),o=void 0,a=void 0)},this._addTimerCanceler(a),a},_disposeCore:function(){for(;this._timerCancelers.length>0;)this._timerCancelers[0]();c._disposeCore.apply(this,arguments)},_addTimerCanceler:function(e){this._timerCancelers.push(e),l.singleton.incrementCounter("Dispatcher.activeTimers")},_removeTimerCanceler:function(e){var t=this._timerCancelers.indexOf(e);t>=0?(this._timerCancelers.splice(t,1),l.singleton.decrementCounter("Dispatcher.activeTimers")):i.new({message:"Timer cancel function not in array",level:o.WARNING,area:"Dispatcher._removeTimerCanceler"})},_resolveFunc:function(e){return function(t){e.fulfill(t)}},_rejectFunc:function(e){return function(t){e.reject(t)}},_onTick:function(){this._callbackPending=!1;var e=a.singleton.now();l.singleton.incrementCounter("Dispatcher.frame"),this._currentQueue=this._currentQueue.concat(this._pendingPost),this._pendingPost.length=0;for(var t=e,s=0,c=e+this.frameWorkCutoffMS,d=e+this.unresponsiveFrameMS;t<c;){if(this._currentQueue.length>0)try{this._currentQueue.shift()(e)}catch(e){this._requestCallback(),r.singleton.notifyUnhandledException(i.wrap(e,{message:"work item threw an error: "+e,area:"Dispatcher.browser._onTick-normalWorkItem"}))}else{if(!(this._backgroundQueue.length>0))break;this._processNextBackgroundItem()}var u=a.singleton.now(),p=u-t;p>=this.longWorkItemCutoffMS&&(l.singleton.incrementCounter("Dispatcher.longWorkItem"),!0===this.verboseLogging&&n.new({message:"Dispatcher: long-running work item: "+p+"ms (cutoff="+this.longWorkItemCutoffMS+"ms)",area:"platform.common.Dispatcher._onTick",verbosity:o.INFO}).log()),t=u,++s}if((this._currentQueue.length>0||this._backgroundQueue.length>0)&&this._requestCallback(),l.singleton.setCounter("Dispatcher.workItemsPerFrame",s),t>=c&&(l.singleton.incrementCounter("Dispatcher.fullFrame"),!0===this.verboseLogging&&n.new({message:"Dispatcher: full frame: "+(t-e)+"ms (cutoff="+this.frameWorkCutoffMS+"ms)",area:"platform.common.Dispatcher._onTick",verbosity:o.INFO}).log()),t>=d){var h=t-e;l.singleton.incrementCounter("Dispatcher.unresponsiveFrame"),l.singleton.setCounter("Dispatcher.unresponsiveFrameDuration",h),!0===this.verboseLogging&&n.new({message:"Dispatcher: unresponsive frame: "+h+"ms (cutoff="+this.unresponsiveFrameMS+"ms)",area:"platform.common.Dispatcher._onTick",verbosity:o.INFO}).log()}},_processNextBackgroundItem:function(){var e=this._backgroundQueue.shift();if(!0!==e.resolver.promise.isCancelled())try{var n=e.workFunction(),o=t.cast(n);o.then(this._resolveFunc(e.resolver)).catch(this._rejectFunc(e.resolver)).finally(function(){o.isCancelled()&&e.resolver.cancel()})}catch(t){e.resolver.reject(i.wrap(t,{message:"background work item threw an error",area:"Dispatcher.browser._onTick-backgroundItem"}))}},_requestCallback:function(){!1===this._callbackPending&&(this._callbackPending=!0,this._requestFrame(this._onTickCallback))},_requestFrame:function(e){s.singleton.requestFrame(e)}})})})}(),function(){"use strict";define("platform/dependent/graphics/IDisplayNode",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.graphics.IDisplayNode",t,function(){e.properties({x:{get:void 0},y:{get:void 0},offsetX:{get:void 0,set:void 0},offsetY:{get:void 0,set:void 0},scaleX:{get:void 0},scaleY:{get:void 0},rotationZ:{get:void 0},opacity:{get:void 0},borderThickness:{get:void 0},borderColor:{get:void 0},borderRadius:{get:void 0},isVisible:{get:void 0},tryUseHardwareSurface:{get:void 0},clipToBounds:{get:void 0},isFixedInViewport:{get:void 0},isFullScreenNode:{get:void 0},isFocusTarget:{get:void 0},hasNativeFocusWithScope:{get:void 0},isPointerTarget:{get:void 0},isPointerHittable:{get:void 0},backgroundColor:{get:void 0},naturalWidth:{get:void 0},naturalHeight:{get:void 0},width:{get:void 0},height:{get:void 0},owner:{get:void 0},keyframesAnimation:{get:void 0},parent:{get:void 0},accessibilityLabel:{get:void 0},accessibilityTrait:{get:void 0},isAccessibilityScope:{get:void 0},preventUserTextHighlighting:{get:void 0,set:void 0},nativeFocusGainedAnimations:{get:void 0},nativeFocusLostAnimations:{get:void 0}}),e.collection("children"),e.methods({setDebugData:void 0,animate:void 0,getViewportSpaceNaturalBounds:void 0,renderToBitmap:void 0})})})}(),function(){"use strict";define("platform/dependent/graphics/DOMElementWrapper",["core/oop"],function(e){var t=e.classDef("platform.dependent.graphics.DOMElementWrapper",Object,function(){e.initConstructor(function(){this._createWrappedElements()}),e.properties({parent:void 0,wrappedElement:{get:function(){return this._wrappedElement}},_wrappedElement:void 0}),e.methods({_createWrappedElements:function(){var e=t.createDOMElement("div");e.className="default",this._wrappedElement=e}}),e.staticScope(function(){e.methods({createDOMElement:function(e){return window.document.createElement(e)},getBodyElement:function(){return window.document.body}})})});return t})}(),function(){"use strict";define("platform/common/Color",["core/oop"],function(e){var t=e.classDef("platform.common.Color",Object,function(){e.staticScope(function(){e.constructor(function(){this._validHexString=/^#?([0-9a-fA-F]{2}){1,4}$/}),e.properties({_validHexString:void 0}),e.methods({fromHexString:function(e){e=e||"";var i=e;e.length>0&&"#"===e.charAt(0)&&(i=e.substring(1));var n;return t._validHexString.test(e)&&(n=t.new({r:parseInt(i.substring(0,2),16)/255,g:parseInt(i.substring(2,4)||"FF",16)/255,b:parseInt(i.substring(4,6)||"FF",16)/255,a:parseInt(i.substring(6,8)||"FF",16)/255})),n}})}),e.initConstructor(),e.properties({isImmutable:{get:function(){return!0}},r:void 0,g:void 0,b:void 0,a:{defaultValue:1}})});return t})}(),function(){"use strict";define("platform/common/Colors",["core/oop","platform/common/Color"],function(e,t){return e.classDef("platform.common.Colors",Object,function(){e.staticScope(function(){e.constructor(function(){this._Transparent=t.new({r:0,g:0,b:0,a:0}),this._Black=t.new({r:0,g:0,b:0,a:1}),this._White=t.new({r:1,g:1,b:1,a:1}),this._DebugRed=t.new({r:240/255,g:15/255,b:15/255,a:1})}),e.properties({Transparent:{privateSet:!0},Black:{privateSet:!0},White:{privateSet:!0},DebugRed:{privateSet:!0}})})})})}(),function(){"use strict";define("platform/common/AnimatableProperties",["core/oop"],function(e){return e.enumDef("platform.common.AnimatableProperties",{OFFSETX:"offsetX",OFFSETY:"offsetY",ROTATIONZ:"rotationZ",SCALEX:"scaleX",SCALEY:"scaleY",OPACITY:"opacity"})})}(),function(){"use strict";define("core/HorizontalAlignment",["core/oop"],function(e){return e.enumDef("core.HorizontalAlignment",["LEFT","CENTER","RIGHT"])})}(),function(){"use strict";define("core/VerticalAlignment",["core/oop"],function(e){return e.enumDef("core.VerticalAlignment",["TOP","CENTER","BOTTOM"])})}(),function(){"use strict";define("core/math/rect",["core/oop","core/HorizontalAlignment","core/VerticalAlignment"],function(e,t,i){var n=e.classDef("core.math.rect",Object,function(){e.staticScope(function(){e.properties({EMPTY:{defaultValue:function(){var e={x:0,y:0,width:0,height:0};return Object.freeze(e)}(),readOnlyField:!0}}),e.methods({isEmpty:function(e){return e.width<=0||e.height<=0},contains:function(e,t){if(n.isEmpty(e))return!1;if(void 0!==t.width&&void 0!==t.height&&n.isEmpty(t))return!1;var i=t.width||0,o=t.height||0;return t.x>=e.x&&t.y>=e.y&&t.x+i<=e.x+e.width&&t.y+o<=e.y+e.height},intersects:function(e,t){return!1===n.isEmpty(e)&&!1===n.isEmpty(t)&&e.x<t.x+t.width&&t.x<e.x+e.width&&e.y<t.y+t.height&&t.y<e.y+e.height},union:function(e,t){var i=Math.min(e.x,t.x),n=Math.max(e.x+e.width,t.x+t.width),o=Math.min(e.y,t.y);return{x:i,y:o,width:n-i,height:Math.max(e.y+e.height,t.y+t.height)-o}},intersect:function(e,t){if(!0===n.intersects(e,t)){var i=Math.max(e.x,t.x),o=Math.max(e.y,t.y);return{x:i,y:o,width:Math.min(e.x+e.width,t.x+t.width)-i,height:Math.min(e.y+e.height,t.y+t.height)-o}}return n.EMPTY},getCentroidDistanceSquared:function(e,t){var i=e.x+e.width/2,n=e.y+e.height/2,o=t.x+t.width/2,r=t.y+t.height/2;return Math.pow(o-i,2)+Math.pow(r-n,2)},getPointFromAlignment:function(e,n,o){var r=n===t.LEFT?0:n===t.CENTER?.5:1,a=o===i.TOP?0:o===i.CENTER?.5:1;return{x:e.x+e.width*r,y:e.y+e.height*a}},_sqr:function(e){return e*e},_distanceSquaredBetweenPoints:function(e,t){return n._sqr(e.x-t.x)+n._sqr(e.y-t.y)},distanceSquaredFromPoint:function(e,t){if(n.isEmpty(e))return 1/0;for(var i={x:0,y:0},o={x:0,y:0},r=1/0,a=0;a<4;++a){switch(a){case 0:i.x=e.x,i.y=e.y,o.x=e.x,o.y=e.y+e.height;break;case 1:i.x=e.x,i.y=e.y,o.x=e.x+e.width,o.y=e.y;break;case 2:i.x=e.x+e.width,i.y=e.y,o.x=e.x+e.width,o.y=e.y+e.height;break;case 3:i.x=e.x,i.y=e.y+e.height,o.x=e.x+e.width,o.y=e.y+e.height}var s=n._distanceSquaredBetweenPoints(i,o),l=((t.x-i.x)*(o.x-i.x)+(t.y-i.y)*(o.y-i.y))/s;l=Math.max(0,Math.min(1,l));var c=n._distanceSquaredBetweenPoints(t,{x:i.x+l*(o.x-i.x),y:i.y+l*(o.y-i.y)});r=Math.min(c,r)}return r}})})});return n})}(),function(){"use strict";define("platform/graphics/DisplayTree",["core/oop","core/math/rect"],function(e,t){return e.classDef("platform.graphics.DisplayTree",Object,function(){e.singleton(function(){}),e.methods({getViewportSpaceNaturalBounds:function(e){var t=e.x,i=e.y;if(!1===e.isFixedInViewport&&!1===e.isFullScreenNode)for(var n=e.parent;void 0!==n&&!0!==n.isFullScreenNode&&(t+=n.x,i+=n.y,!0!==n.isFixedInViewport);)void 0!==n.scrollOffsetX&&(t-=n.scrollOffsetX),void 0!==n.scrollOffsetY&&(i-=n.scrollOffsetY),n=n.parent;else!0===e.isFullScreenNode&&(t=0,i=0);return{x:t,y:i,width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},hitTestPoint:function(e,t,i,n){n=void 0===n?0:n;var o=this._inflatePointToRect(e,n),r={hitNode:void 0,occlusionBounds:void 0,fixedPoint:e,nearestDelta:1/0,hitNodeIsPointerTarget:!1,hitNodeInFixedSubtree:!1,touchHitRadius:n,inFixedSubtree:!1,fixedPointBounds:o,curNodeBounds:{x:0,y:0,width:0,height:0}};return this._hitTestPointCore(e,t,i,r,!1,void 0),r.hitNode},_hitTestPointCore:function(e,i,n,o,r,a){var s=!1;if(r=r||i===n,!0===i.isPointerHittable&&!0===i.isVisible){a=this._transformClipRectToNode(a,i);var l=o.inFixedSubtree;!0!==i.isFixedInViewport&&!0!==i.isFullScreenNode||(e=o.fixedPoint,o.inFixedSubtree=!0),e=this._transformPointToNode(e,i);for(var c=o.occlusionBounds,d=i.children.length-1;d>=0;--d)s=this._hitTestPointCore(e,i.children.getAt(d),n,o,r,a)||s;if(!0===r){var u=this._inflatePointToRect(e,o.touchHitRadius),p=o.occlusionBounds;o.occlusionBounds=c,!1===s?s=this._updateHitTestContext(i,u,o,a,!0):(this._updateHitTestContext(i,u,o,a,!1),o.hitNodeIsPointerTarget=i.isPointerTarget||o.hitNodeIsPointerTarget),void 0!==p&&(void 0!==o.occlusionBounds&&o.occlusionBounds!==p?o.occlusionBounds=t.union(o.occlusionBounds,p):o.occlusionBounds=p)}o.inFixedSubtree=l}return s},_updateHitTestContext:function(e,i,n,o,r){var a=!1;if(n.curNodeBounds.width=e.width,n.curNodeBounds.height=e.height,!0===t.intersects(n.curNodeBounds,i)&&!1===this._isClipped(i,o)){if(!0===r&&!1===this._isOccludedByCurrentHit(n)){var s=t.distanceSquaredFromPoint(n.curNodeBounds,i.center);!1===t.contains(n.curNodeBounds,i.center)&&(s+=1),!0===e.isPointerTarget?!1===n.hitNodeIsPointerTarget?(n.hitNodeIsPointerTarget=!0,a=!0):s<n.nearestDelta&&(a=!0):!1===n.hitNodeIsPointerTarget&&s<n.nearestDelta&&(a=!0),!0===a&&(n.nearestDelta=s,n.hitNode=e,n.hitNodeInFixedSubtree=n.inFixedSubtree)}var l=e.getViewportSpaceNaturalBounds(),c=n.occlusionBounds;n.occlusionBounds=void 0===c?l:t.union(c,l)}return a},_isOccludedByCurrentHit:function(e){var i=!1;return(!1===e.inFixedSubtree||!0===e.inFixedSubtree&&!0===e.hitNodeInFixedSubtree)&&(i=void 0!==e.occlusionBounds&&!0===t.contains(e.occlusionBounds,e.fixedPointBounds)),i},_isClipped:function(e,i){return void 0!==i&&!1===t.intersects(e,i)},_transformClipRectToNode:function(e,i){if(void 0!==e&&(e=this._transformRectToNode(e,i)),!0!==i.isFixedInViewport&&!0!==i.isFullScreenNode||(e=void 0),!0===i.clipToBounds){var n={x:0,y:0,width:i.width,height:i.height};e=void 0===e?n:t.intersect(e,n)}return e},_inflatePointToRect:function(e,t){return{center:e,x:e.x-t,y:e.y-t,width:2*t||1,height:2*t||1}},_transformRectToNode:function(e,t){var i=this._transformPointToNode(e,t);return i.width=e.width*Math.abs(t.scaleX),t.scaleX<0&&(i.x-=i.width),i.height=e.height*Math.abs(t.scaleY),t.scaleY<0&&(i.y-=i.width),i},_transformPointToNode:function(e,t){var i={x:e.x,y:e.y};i.x-=t.x,i.y-=t.y,i.x-=t.offsetX,i.y-=t.offsetY;var n=t.parent;return void 0!==n&&!1===t.isFixedInViewport&&!1===t.isFullScreenNode&&(i.x+=n.scrollOffsetX||0,i.y+=n.scrollOffsetY||0),i.x*=t.scaleX,i.y*=t.scaleY,i}})})})}(),function(){"use strict";define("platform/common/Interpolations",["core/oop"],function(e){return e.enumDef("platform.common.Interpolations",["LINEAR","EASE"])})}(),function(){"use strict";define("platform/common/Animation",["core/oop","platform/common/Interpolations"],function(e,t){return e.classDef("platform.common.Animation",Object,function(){e.initConstructor(),e.properties({isImmutable:{get:function(){return!0}},property:void 0,to:void 0,duration:void 0,delay:{defaultValue:0},interpolation:{defaultValue:t.LINEAR}})})})}(),function(){"use strict";define("platform/dependent/graphics/IDisplayNodeDebugger",["core/oop"],function(e){return e.interfaceDef("platform.dependent.graphics.IDisplayNodeDebugger",void 0,function(){e.singleton(),e.properties({trackingAnimations:{get:void 0},debugHitTest:{get:void 0,set:void 0},trackDebugData:{get:void 0,set:void 0},enableAnimationLines:{get:void 0,set:void 0},animationLinesDistance:{get:void 0,set:void 0},animationLinesDuration:{get:void 0,set:void 0},animationLinesOffset:{get:void 0,set:void 0}}),e.methods({enableAnimationTracking:void 0,pauseAnimations:void 0,resumeAnimations:void 0}),e.events(["animationStarted","animationFinished","animationRejected"])})})}(),function(){"use strict";define("platform/dependent/graphics/DisplayNodeDebugger",["core/oop","core/Debug","platform/common/Dispatcher","platform/dependent/graphics/IDisplayNodeDebugger","engine/dependent/Time","core/Disposable","lib/Promise"],function(e,t,i,n,o,r,a){return e.classDef("platform.dependent.graphics.DisplayNodeDebugger",[r,n],function(t){e.singleton(function(){this._created()}),e.properties({trackingAnimations:{get:function(){return this._animationTrackingEnableCount>0}},debugHitTest:{defaultValue:!1},trackDebugData:{defaultValue:!1},enableAnimationLines:{defaultValue:!1,onChange:"_updateEnableAnimationLines"},animationLinesDistance:{defaultValue:1920},animationLinesDuration:{defaultValue:1e4},animationLinesOffset:{defaultValue:1e3},_pendingResetTimer:void 0,_pendingDelayTimer:void 0,_pendingRemoveTimer:void 0,_pendingAnimatePost:void 0,_dependentLine:void 0,_independentLine:void 0,_animationTrackingEnableCount:{defaultValue:0}}),e.methods({_postToDispatcher:function(){return i.singleton.post()},enableAnimationTracking:function(e){this._animationTrackingEnableCount+=e?1:-1,this._animationTrackingEnableCount},pauseAnimations:function(){var e=this.enableAnimationLines;return this.enableAnimationLines=!1,a.fulfilled(e)},resumeAnimations:function(e){return this.enableAnimationLines=e,a.fulfilled()},_disposeCore:function(){this._clearAnimatedLines(),t._disposeCore.apply(this,arguments)},_clearAnimatedLines:function(){this._cancelPendingPromises(),this._removeDependentLine(),this._removeIndependentLine()},_updateEnableAnimationLines:function(e){e?(this._addAnimationLines(),this._pendingResetTimer=i.singleton.postTimeout(this.animationLinesDuration+this.animationLinesOffset).then(function(){this._pendingResetTimer=void 0,this._updateEnableAnimationLines(this.enableAnimationLines)}.bind(this)).catch(function(){})):this._clearAnimatedLines()},_addAnimationLines:function(){this._addDependentLine(),this._pendingDelayTimer=i.singleton.postTimeout(this.animationLinesOffset).then(function(){this._pendingDelayTimer=void 0,this._addIndependentLine()}.bind(this)).catch(function(){})},_addDependentLine:function(){this._dependentLine=this._createLine("dependentLine","rgb(255, 0, 255)","4px"),document.body.appendChild(this._dependentLine);var e=o.singleton.now(),t=this,i=function(){var n=!1;t._pendingAnimatePost=t._postToDispatcher().then(function(){var r=o.singleton.now(),a=r-e,s=a/t.animationLinesDuration;if(n=!0,t._pendingAnimatePost=void 0,s<=1&&void 0!==t._dependentLine){var l=s*t.animationLinesDistance;t._dependentLine.style.transform=t._dependentLine.style.webkitTransform="translate("+l+"px, 0px)",i()}else t._removeDependentLine()}).finally(function(){!1===n&&(t._removeDependentLine(),t._pendingAnimatePost=void 0)})};i()},_removeDependentLine:function(){void 0!==this._dependentLine&&(document.body.removeChild(this._dependentLine),this._dependentLine=void 0)},_addIndependentLine:function(){this._independentLine=this._createLine("independentLine","rgb(255, 255, 0)","4px"),this._independentLine.style.transition="transform "+this.animationLinesDuration/1e3+"s linear",this._independentLine.style.webkitTransition="-webkit-transform "+this.animationLinesDuration/1e3+"s linear",document.body.appendChild(this._independentLine);var e=this;this._postToDispatcher().then(function(){return i.singleton.post()}).then(function(){e._updateIndependentLineTransform()}).catch(function(){e._removeIndependentLine()}),this._pendingRemoveTimer=i.singleton.postTimeout(this.animationLinesDuration).finally(function(){e._removeIndependentLine(),e._pendingRemoveTimer=void 0})},_updateIndependentLineTransform:function(){void 0!==this._independentLine&&(this._independentLine.style.transform=this._independentLine.style.webkitTransform="translate("+this.animationLinesDistance+"px, 0px)")},_removeIndependentLine:function(){void 0!==this._independentLine&&(document.body.removeChild(this._independentLine),this._independentLine=void 0)},_createLine:function(e,t,i){var n=document.createElement("DIV");return n.id=e,n.style.position="absolute",n.style.backgroundColor=t,n.style.width=i,n.style.height="1080px",n.style.transform=n.style.webkitTransform="translate(0px, 0px)",
n.style.webkitBackfaceVisibility="hidden",n.style.pointerEvents="none",n},_cancelPendingPromises:function(){[this._pendingResetTimer,this._pendingDelayTimer,this._pendingRemoveTimer,this._pendingAnimatePost].forEach(function(e){void 0!==e&&e.cancel()})}}),e.events(["animationStarted","animationFinished","animationRejected"])})})}(),function(){"use strict";define("platform/dependent/graphics/IBitmapSource",["core/oop"],function(e){return e.interfaceDef("platform.dependent.graphics.IBitmapSource",void 0,function(){})})}(),function(){"use strict";define("platform/dependent/graphics/BitmapSource",["core/oop","platform/dependent/graphics/IBitmapSource"],function(e,t){return e.classDef("platform.dependent.graphics.BitmapSource",[Object,t],function(){e.constructor(function(){})})})}(),function(e){"use strict";define("platform/dependent/graphics/DisplayNodeBase",["core/oop","core/Debug","platform/dependent/graphics/IDisplayNode","platform/dependent/graphics/DOMElementWrapper","platform/common/Colors","platform/common/AnimatableProperties","platform/common/Dispatcher","lib/Promise","core/PromiseMultiplexer","lib/lodash/objects/forOwn","lib/lodash/collections/forEach","core/Disposable","core/Exception","platform/graphics/DisplayTree","platform/common/Animation","platform/common/Interpolations","platform/dependent/graphics/DynamicStyleManager","core/logging/Counters","platform/dependent/graphics/DisplayNodeDebugger","platform/dependent/graphics/BitmapSource"],function(t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w){var b=t.classDef("platform.dependent.graphics.DisplayNodeBase",[o,n],function(i){t.mixin(p),t.constructor(function(){this._animationData={},this._animationsRunning={},i.$ctor.apply(this,arguments),this._created(),this.setDebugData("displayNodeId",this._disposableId),this.setDebugData("displayNodeType",this.typeName)}),t.properties({x:{defaultValue:0,onChange:function(){this._updateXStyle()}},y:{defaultValue:0,onChange:function(){this._updateYStyle()}},offsetX:{defaultValue:0,onChange:"_onAnimatedPropertyChanged"},offsetY:{defaultValue:0,onChange:"_onAnimatedPropertyChanged"},scaleX:{defaultValue:1,onChange:"_onAnimatedPropertyChanged"},scaleY:{defaultValue:1,onChange:"_onAnimatedPropertyChanged"},rotationZ:{defaultValue:0,onChange:"_onAnimatedPropertyChanged"},opacity:{defaultValue:1,onChange:"_onAnimatedPropertyChanged"},isVisible:{defaultValue:!0,onChange:"_onVisibilityChanged"},borderThickness:{defaultValue:0,onChange:"_updateBorderStyle"},borderColor:{defaultValue:r.Transparent,onChange:"_updateBorderStyle"},borderRadius:{defaultValue:0,onChange:"_updateBorderStyle"},tryUseHardwareSurface:{defaultValue:!1,onChange:"_onTryUseHardwareSurfaceChanged"},clipToBounds:{defaultValue:!1,onChange:function(e){this._setClipToBounds(e)}},isFixedInViewport:{defaultValue:!1,onChange:function(e){this._wrappedElement.style.position=!0===e?"fixed":"absolute"}},isFullScreenNode:{defaultValue:!1},isFocusTarget:{defaultValue:!1},hasNativeFocusWithScope:{defaultValue:void 0},isPointerTarget:{defaultValue:!1,onChange:function(e){!0===e?(this._wrappedElement.style.msAttraction="0 0 0 0",this._wrappedElement.style.cursor="pointer",this._wrappedElement.draggable=!0):(this._wrappedElement.style.msAttraction="",this._wrappedElement.style.cursor="",this._wrappedElement.removeAttribute("draggable"))}},isPointerHittable:{defaultValue:!0,onChange:function(e){this._wrappedElement.style.pointerEvents=!1===e?"none":""}},backgroundColor:{defaultValue:r.Transparent,onChange:function(e){this._onBackgroundColorChanged(e)}},naturalWidth:{get:function(){return this._naturalWidth}},naturalHeight:{get:function(){return this._naturalHeight}},width:{get:function(){return void 0!==this._explicitWidth?this._explicitWidth:this.naturalWidth},set:function(e){if(this._explicitWidth!==e){var t=this._explicitWidth;this._explicitWidth=e,this._onExplicitWidthChanged(e,t)}}},height:{get:function(){return void 0!==this._explicitHeight?this._explicitHeight:this.naturalHeight},set:function(e){if(this._explicitHeight!==e){var t=this._explicitHeight;this._explicitHeight=e,this._onExplicitHeightChanged(e,t)}}},keyframesAnimation:{defaultValue:void 0,onChange:"_onKeyframesAnimationChanged"},preventUserTextHighlighting:{defaultValue:!1,onChange:"_onPreventUserTextHighlightingChanged"},owner:void 0,accessibilityLabel:void 0,accessibilityTrait:void 0,isAccessibilityScope:{defaultValue:!1},nativeFocusGainedAnimations:void 0,nativeFocusLostAnimations:void 0,_wrappedElementChildContainer:void 0,_naturalWidth:{defaultValue:0},_naturalHeight:{defaultValue:0},_explicitWidth:void 0,_explicitHeight:void 0,_cssClass:void 0,_cssTransitionClass:void 0,_cssKeyframesAnimationClass:void 0,_cssBorderClass:void 0,_animationData:void 0,_animationsRunning:void 0,_isVisibleChanged:{defaultValue:!1}}),t.collection("children",function(e,t){this._onChildAdded(e,t)},function(e){this._onChildRemoved(e)},function(e){this._validateChild(e)}),t.methods({setDebugData:function(e,t){this._setDebugData(this._wrappedElement,e,t)},_setDebugData:function(e,t,i){!0===y.singleton.trackDebugData&&(void 0!==i?e.setAttribute("data-"+t,i):e.removeAttribute("data-"+t))},_onBackgroundColorChanged:function(e){this._wrappedElement.style.backgroundColor=b._colorToCSS(e)},_onChildAdded:function(e,t){if(e.parent,e.parent=this,t<this._children.length-1){var i=this._wrappedElementChildContainer.children;this._wrappedElementChildContainer.insertBefore(e._wrappedElement,i[t])}else this._wrappedElementChildContainer.appendChild(e._wrappedElement)},_onChildRemoved:function(e){e.parent=void 0,this._wrappedElementChildContainer.removeChild(e._wrappedElement)},_validateChild:function(){},animate:function(e){var t,i=this,n=i._animationsRunning[e.property]||{changedVersion:0,animationVersion:0},o=n.animation,r=n.mux,a="_"+e.property,d=i[a]!==e.to,u=e.duration+e.delay,p=void 0===r||void 0===o||!1===o.equals(e);if(i._animationsRunning[e.property]=n,(d||0===u)&&(i[a]=e.to,d&&this._updateAnimationData(e),this._updateCssClass(e.property,u),void 0!==n.resolver&&n.resolver.fulfill(!1)),0===u){var h=++n.changedVersion;t=l.fulfilled(),n.changed=!0,s.singleton.postCallback(function(){i._updateAnimatablePropertyChanged(e.property,h,!1)})}else if(p){var g=++n.animationVersion;n.animation=e,n.resolver=l.pending(),n.mux=c.new(function(){return i._makeAnimationPromise(e,n.resolver,s.singleton.post().then(function(){return l.delay(1e3*u)})).finally(function(){i._updateRunningAnimationProperties(e.property,g,{running:!1,animation:void 0,mux:void 0,resolver:void 0})})}),!0!==n.running&&s.singleton.postCallback(function(){i._updateRunningAnimationProperties(e.property,g,{running:!0})}),t=n.mux.addPromise()}else t=r.addPromise();return t},renderToBitmap:function(){return l.fulfilled(w.new())},_onKeyframesAnimationChanged:function(e){if(void 0!==e){var t=b._keyframeToCSS(e);v.singleton.addStyle("Keyframes-"+e.name,t,e.name)}this._queueCssUpdate()},_onPreventUserTextHighlightingChanged:function(e){var t=!0===e?"none":"text";this._wrappedElement.style["-webkit-touch-callout"]=t,this._wrappedElement.style["-webkit-user-select"]=t,this._wrappedElement.style["-khtml-user-select"]=t,this._wrappedElement.style["-ms-user-select"]=t,this._wrappedElement.style["user-select"]=t,this._wrappedElement.style.MozUserSelect=t},_onTryUseHardwareSurfaceChanged:function(){this._updateCssClass()},_updateAnimatablePropertyChanged:function(e,t,i){var n=this._animationsRunning[e];void 0!==n&&n.changedVersion===t&&(n.changed=i)},_updateRunningAnimationProperties:function(e,t,i){var n=this._animationsRunning[e];void 0!==n&&n.animationVersion===t&&d(i,function(e,t){n[t]=e})},_updateBorderStyle:function(){this.borderRadius>0&&(this._wrappedElement.style.borderRadius=this.borderRadius+"px"),this._updateCssClass()},_onVisibilityChanged:function(){var e=this;e._updateCssClass(),e._isVisibleChanged=!0,s.singleton.postCallback(function(){e._isVisibleChanged=!1})},_onAnimatedPropertyChanged:function(e,t,i){this["_"+i]=t,this.animate(f.new({property:i,to:e,duration:0}))},_updateCssClass:function(e,t){t>0?(this._queueForceComputeStyle(e),this._queueCssUpdate()):this._doCSSUpdate()},_queueCssUpdate:function(){var e=this;void 0===b._animationCSSUpdateQueue&&(b._animationCSSUpdateQueue=[],s.singleton.queueCallback(function(){b._animationCSSUpdateQueue.forEach(function(e){e()}),b._animationCSSUpdateQueue=void 0})),b._animationCSSUpdateQueue.push(function(){e._doCSSUpdate()})},_queueForceComputeStyle:function(e){var t=this;void 0===b._forceComputeStyleQueue&&(b._forceComputeStyleQueue=[],s.singleton.queueCallback(function(){b._forceComputeStyleQueue.forEach(function(e){e()}),b._forceComputeStyleQueue=void 0})),b._forceComputeStyleQueue.push(function(){t._doForceComputeStyle(e)})},_doForceComputeStyle:function(e){if(!0!==this.isDisposed){var t=this._getCssClass(this._getCssClassBody()),i=this._cssClass!==t,n=this._animationsRunning[e],o=!0===this.isVisible&&!0===this._isVisibleChanged;i&&void 0!==n&&(!0===n.running||!0===n.changed||o)&&(this._forceComputeStyle(),n.changed=!1)}},_doCSSUpdate:function(){if(!0!==this.isDisposed){var e=this._getCssClass(this._getCssClassBody()),t=this._getCssClass(this._getCssTransitionClassBody()),i=this._getCssClass(this._getCssKeyframesAnimationClassBody()),n=this._getCssClass(this._getCssBorderPseudoClassBody(),"after"),o=this._cssClass!==e,r=this._cssTransitionClass!==t,a=this._cssKeyframesAnimationClass!==i,s=this._cssBorderClass!==n;o&&(this._wrappedElement.classList.remove(this._cssClass),this._wrappedElement.classList.add(e),this._cssClass=e),r&&(this._wrappedElement.classList.remove(this._cssTransitionClass),this._wrappedElement.classList.add(t),this._cssTransitionClass=t),a&&(this._wrappedElement.classList.remove(this._cssKeyframesAnimationClass),this._wrappedElement.classList.add(i),this._cssKeyframesAnimationClass=i),s&&(this._wrappedElement.classList.remove(this._cssBorderClass),this._wrappedElement.classList.add(n),this._cssBorderClass=n)}},_forceComputeStyle:function(){var e=this._getWrappedElementComputedStyle()||{};d(this._animationData,function(t,i){e.readValue=e[i]})},_getWrappedElementComputedStyle:function(){return b._getComputedStyle(this._wrappedElement)},_updateAnimationData:function(e){var t=b._animationPropToCssProp(e.property);this._animationData[t]=e.duration+e.delay>0?{duration:e.duration,delay:e.delay,interpolation:e.interpolation}:void 0},_getCssClass:function(e,t){var i=v.singleton.getStyleInfo(e);if(void 0!==i)return i;var n="class"+ ++b._currentCssClassId;_.singleton.incrementCounter("DisplayNodeBase.cssClasses");var o=this._makeCssClass(n,e,t);return v.singleton.addStyle(e,o,n),n},_getCssClassBody:function(){return this._getCssTransform()+this._getCssOpacity()+this._getCssDisplay()},_getCssTransitionClassBody:function(){return this._getCssTransition()},_getCssKeyframesAnimationClassBody:function(){var e="";if(void 0!==this.keyframesAnimation){var t=b._animationCssPropName;e+=t+"-name: "+this.keyframesAnimation.name+"; ",e+=t+"-duration: "+this.keyframesAnimation.duration+"ms; ",e+=t+"-delay: "+this.keyframesAnimation.delay+"ms; ",e+=t+"-iteration-count: infinite;"}return e},_getCssBorderPseudoClassBody:function(){var e="",t=this.borderThickness;return t>0&&(e="display: inline-block; content: ''; position: absolute;width: 100%; height: 100%; pointer-events: none;box-sizing: border-box; border: "+t+"px solid "+b._colorToCSS(this.borderColor)+";",this.borderRadius>0&&(e+="border-radius: "+this.borderRadius+"px;")),e},_getCssTransition:function(){var e=[];return d(this._animationData,function(t,i){if(void 0!==t){var n=i+" "+t.duration+"s "+b._interpolationToCSS(t.interpolation);t.delay>0&&(n+=" "+t.delay+"s"),e.push(n)}}),e.length>0?b._transitionCssPropName+":"+e.join(", ")+";":""},_getCssTransform:function(){return b._transformCssPropName+":"+b._transformToCss(this._offsetX,this._offsetY,this._rotationZ,this._scaleX,this._scaleY,this.tryUseHardwareSurface)+";"},_getCssOpacity:function(){return"opacity: "+this._opacity+";"},_getCssDisplay:function(){return!1===this._isVisible?"display: none;":""},_makeCssClass:function(e,t,i){return"."+e+(void 0===i?"":"::"+i)+" {"+t+"}"},_makeAnimationPromise:function(e,t,i){var n=y.singleton;n.trackingAnimations&&n._onAnimationStarted(e);var o,r=!1;return i.then(function(){t.fulfill(!0),r=!0,i=void 0}).catch(function(e){t.reject(e),o=e,i=void 0}).finally(function(){n.trackingAnimations&&(!0===r?n._onAnimationFinished():(o=o||new Error("Cancelled"),n._onAnimationRejected(o)),i=void 0)}),t.promise.finally(function(){void 0!==i&&i.cancel()})},getViewportSpaceNaturalBounds:function(){return g.singleton.getViewportSpaceNaturalBounds(this)},_updateXStyle:function(){this._wrappedElement.style.left=this.x+"px"},_updateYStyle:function(){this._wrappedElement.style.top=this.y+"px"},_onExplicitWidthChanged:function(){this._wrappedElement.style.width=this.width+"px"},_onExplicitHeightChanged:function(){this._wrappedElement.style.height=this.height+"px"},_setClipToBounds:function(e){var t=this._wrappedElement.style;!0===e?(t.overflowX="hidden",t.overflowY="hidden"):(t.overflowX="",t.overflowY="")},_createWrappedElements:function(){i._createWrappedElements.call(this),this._wrappedElementChildContainer=this._wrappedElement},_disposeCore:function(){p.prototype._disposeCore.apply(this,arguments),d(this._animationsRunning,function(e){void 0!==e.resolver&&e.resolver.fulfill(!1)}),this._animationsRunning={},this.children.forEach(function(e){e.dispose()}),this._wrappedElement=void 0,this._wrappedElementChildContainer=void 0}}),t.staticScope(function(){t.properties({_currentCssClassId:{defaultValue:0},_transformCssPropName:{get:function(){return!1===b.isWebkit?"transform":"-webkit-transform"}},_transitionCssPropName:{get:function(){return!1===b.isWebkit?"transition":"-webkit-transition"}},_animationCssPropName:{get:function(){return!1===b.isWebkit?"animation":"-webkit-animation"}},_keyframesCssPropName:{get:function(){return!1===b.isWebkit?"keyframes":"-webkit-keyframes"}},_forceComputeStyleQueue:void 0,_animationCSSUpdateQueue:void 0}),t.methods({_colorToCSS:function(e){var t=e.a;return 0===t?"":"rgba("+Math.floor(e.r/t*255)+","+Math.floor(e.g/t*255)+","+Math.floor(e.b/t*255)+","+t+")"},_interpolationToCSS:function(e){return e===m.LINEAR?"linear":"ease"},_shadowToCSS:function(e){var t;if(void 0!==e){t=e.x+"px "+e.y+"px",void 0!==e.blur&&(t+=" "+e.blur+"px");var i=b._colorToCSS(e.color);""!==i&&(t+=" "+i)}return t},_shadowsToCSS:function(e){var t=[];return u(e,function(e){var i=b._shadowToCSS(e);void 0!==i&&t.push(i)}),t.join(",")},_transformToCss:function(e,t,i,n,o,r){var a,s=e,l=t,c=i,d=n,u=o;return a="translate("+s+"px, "+l+"px)",!0===r&&(a+=" translateZ(0px)"),0!==c&&(a+=" rotate("+c+"rad)"),1===d&&1===u||(a+=" scale("+d+", "+u+")"),a},_animationPropToCssProp:function(e){switch(e){case a.OFFSETX:case a.OFFSETY:case a.SCALEX:case a.SCALEY:case a.ROTATIONZ:return b._transformCssPropName;case a.OPACITY:return e;default:throw h.new({message:"Do not know how to convert animation prop to CSS: "+e,area:"platform.dependent.graphics.DisplayNodeBase._browser._animationPropToCssProp"})}},_keyframeToCSS:function(e){var t,i="@"+b._keyframesCssPropName+" "+e.name+" {\n",n=e.property,o={offsetX:0,offsetY:0,rotationZ:0,scaleX:1,scaleY:1},r=n;switch(n){case a.OFFSETX:case a.OFFSETY:case a.SCALEX:case a.SCALEY:case a.ROTATIONZ:r=b._transformCssPropName,t=n}for(var s=0;s<e.stops.length;s++){var l=e.stops[s],c=e.values[s];void 0!==t&&(o[t]=c,c=b._transformToCss(o.offsetX,o.offsetY,o.rotationZ,o.scaleX,o.scaleY)),i+=l+"% {",i+=r+": "+c+";\n",i+="}\n"}return i+=" }"},_getComputedStyle:function(t){return e.getComputedStyle(t)}}),t.properties({isWebkit:{defaultValue:void 0!==e.webkitRequestAnimationFrame,privateSet:!0}})})});return b})}(this),function(){"use strict";define("platform/dependent/graphics/DisplayNode",["core/oop","platform/dependent/graphics/DisplayNodeBase"],function(e,t){return e.classDef("platform.dependent.graphics.DisplayNode",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("platform/dependent/graphics/IScroller",["core/oop","platform/dependent/graphics/IDisplayNode"],function(e,t){return e.interfaceDef("platform.dependent.graphics.IScroller",t,function(){e.properties({canScrollHorizontally:{get:void 0},canScrollVertically:{get:void 0},canUserScroll:{get:void 0},scrollOffsetX:{get:void 0},scrollOffsetY:{get:void 0},scrollWidth:{get:void 0},scrollHeight:{get:void 0},scrollBuffer:{get:void 0},showScrollbar:{get:void 0},nativeScrollConstraints:{get:void 0},indirectPanningEnabled:{get:void 0},usesNativeSnapPoints:{get:void 0},snapPointsX:{get:void 0},snapPointsY:{get:void 0}}),e.events(["scrollOffsetXChanged","scrollOffsetYChanged","manipulationStarted","manipulationStopped","scrollInertia"]),e.methods({scrollTo:void 0})})})}(),function(){"use strict";define("platform/dependent/graphics/ScrollerBase",["core/oop","platform/dependent/graphics/DisplayNode","platform/dependent/graphics/IScroller","platform/dependent/graphics/DOMElementWrapper"],function(e,t,i,n){return e.classDef("platform.dependent.graphics.ScrollerBase",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._onDOMScrollCallback=this._onDOMScroll.bind(this),this._getDOMScrollEventOwner().addEventListener("scroll",this._onDOMScrollCallback)}),e.properties({clipToBounds:{get:function(){return!0===this.canScrollHorizontally||!0===this.canScrollVertically}},canScrollHorizontally:{defaultValue:!1,onChange:function(){this._onScrollAxisChanged()}},canScrollVertically:{defaultValue:!1,onChange:function(){this._onScrollAxisChanged()}},canUserScroll:{defaultValue:!0,onChange:function(){this._onScrollAxisChanged()}},scrollOffsetX:{defaultValue:0,privateSet:!0,onChange:function(e,t){this._scrollOffsetX=this._clampScrollX(e),this._scrollOffsetX!==t&&this._onScrollOffsetXChanged(this._scrollOffsetX,t)}},scrollOffsetY:{defaultValue:0,privateSet:!0,onChange:function(e,t){this._scrollOffsetY=this._clampScrollY(e),this._scrollOffsetY!==t&&this._onScrollOffsetYChanged(this._scrollOffsetY,t)}},scrollWidth:{defaultValue:0,onChange:function(){this._updateScrollWidthStyle()}},scrollHeight:{defaultValue:0,onChange:function(){this._updateScrollHeightStyle()}},scrollBuffer:{defaultValue:0},showScrollbar:{defaultValue:!1,onChange:"_onShowScrollbarChanged"},nativeScrollConstraints:void 0,indirectPanningEnabled:{defaultValue:!1},usesNativeSnapPoints:{get:function(){return!1}},snapPointsX:void 0,snapPointsY:void 0,_onDOMScrollCallback:void 0}),e.events(["scrollOffsetXChanged","scrollOffsetYChanged","manipulationStarted","manipulationStopped","scrollInertia"]),e.methods({_disposeCore:function(){this._getDOMScrollEventOwner().removeEventListener("scroll",this._onDOMScrollCallback),t._disposeCore.apply(this,arguments)},scrollTo:function(e,t,i){e=this._clampScrollX(e),t=this._clampScrollY(t),this._scrollTo(e,t,i)},_updateScrollWidthStyle:function(){this._wrappedElementChildContainer.style.width=this.scrollWidth+"px"},_updateScrollHeightStyle:function(){this._wrappedElementChildContainer.style.height=this.scrollHeight+"px"},_scrollTo:function(){},_clampScrollX:function(e){var t=0;return!0===this.canScrollHorizontally&&(t=Math.max(0,Math.min(e,this.scrollWidth-this.width))),t},_clampScrollY:function(e){var t=0;return!0===this.canScrollVertically&&(t=Math.max(0,Math.min(e,this.scrollHeight-this.height))),t},_createWrappedElements:function(){t._createWrappedElements.call(this),this._createScrollContainer()},_createScrollContainer:function(){this._wrappedElementChildContainer=n.createDOMElement("div"),this._wrappedElementChildContainer.className="default",this._wrappedElement.appendChild(this._wrappedElementChildContainer)},_onScrollAxisChanged:function(){},_onDOMScroll:function(){this._scrollOffsetX=this._getDOMScrollOffsetElement().scrollLeft,this._scrollOffsetY=this._getDOMScrollOffsetElement().scrollTop},_getDOMScrollEventOwner:function(){return this._getWrappedElement()},_getDOMScrollOffsetElement:function(){return this._getWrappedElement()},_getWrappedElement:function(){return this._wrappedElement}})})})}(),function(){"use strict";define("platform/dependent/graphics/Scroller",["core/oop","platform/dependent/graphics/ScrollerBase","platform/common/Dispatcher","engine/dependent/Time","lib/lodash/objects/forOwn"],function(e,t,i,n,o){return e.classDef("platform.dependent.graphics.Scroller",t,function(t){e.constructor(function(e){t.$ctor.call(this,e),this._updateOverflowStyle()}),e.properties({_onDOMScrollCallback:void 0,_isHandlingDOMScrollChange:{defaultValue:!1},_animData:void 0,_animQueued:{defaultValue:!1}}),e.methods({_scrollTo:function(e,t,i){if(!0===i)this._scrollOffsetX!==e&&this._animate("_scrollOffsetX",e),this._scrollOffsetY!==t&&this._animate("_scrollOffsetY",t);else{if(this._scrollOffsetX===e&&this._scrollOffsetY===t){var n=this._getDOMScrollOffsetElement();this._scrollOffsetX!==n.scrollLeft&&(n.scrollLeft=this._scrollOffsetX),this._scrollOffsetY!==n.scrollTop&&(n.scrollTop=this._scrollOffsetY)}this._animData=void 0,this._scrollOffsetX=e,this._scrollOffsetY=t}},_animate:function(e,t){this._animData=this._animData||{},this._animData[e]={to:t,startTime:n.singleton.now(),startValue:this[e]};var r=this,a=function(e){if(!0!==r.isDisposed){var t=!1;o(r._animData,function(i,n){if(void 0!==i){var o=Math.min((e-i.startTime)/250,1);r[n]=o*i.to+(1-o)*i.startValue,1!==o?t=!0:r._animData[n]=void 0}}),!0===t?(r._animQueued=!0,i.singleton.postCallback(a)):r._animQueued=!1}};!1===this._animQueued&&(this._animQueued=!0,i.singleton.postCallback(a))},_onScrollAxisChanged:function(){this._updateOverflowStyle()},_onShowScrollbarChanged:function(){this._updateOverflowStyle()},_onScrollOffsetXChanged:function(e,i){t._onScrollOffsetXChanged.call(this,e,i),!1===this._isHandlingDOMScrollChange&&(this._getDOMScrollOffsetElement().scrollLeft=e)},_onScrollOffsetYChanged:function(e,i){t._onScrollOffsetYChanged.call(this,e,i),!1===this._isHandlingDOMScrollChange&&(this._getDOMScrollOffsetElement().scrollTop=e)},_updateOverflowStyle:function(){var e=!1,t="hidden",i=t;if(!0===this.showScrollbar){!0===this.canScrollHorizontally&&(e=!0,t="auto"),!0===this.canScrollVertically&&(e=!0,i="auto");var n=this._getWrappedElement().style;n.overflowX=t,n.overflowY=i}!1===e&&this._setClipToBounds(this.clipToBounds)},_onDOMScroll:function(){var e=this;i.singleton.queueCallback(function(){if(!1===e.isDisposed){e._isHandlingDOMScrollChange=!0;var t=e._getDOMScrollOffsetElement();e._scrollOffsetX=t.scrollLeft,e._scrollOffsetY=t.scrollTop,e._isHandlingDOMScrollChange=!1}})}})})})}(),function(){"use strict";define("platform/dependent/graphics/ViewportBase",["core/oop","lib/Promise","platform/common/Dispatcher","platform/dependent/Process","platform/dependent/graphics/Scroller","platform/graphics/DisplayTree","lib/lodash/objects/isEqual"],function(e,t,i,n,o,r,a){var s=e.classDef("platform.dependent.graphics.ViewportBase",o,function(o){e.constructor(function(){o.$ctor.call(this),this._windowResizedCallback=this._windowResized.bind(this),window.addEventListener("resize",this._windowResizedCallback),this._handleDOMFullscreenChangedCallback=this._handleDOMFullscreenChanged.bind(this),this._simulatedVRModeChangedCallback=this._handleSimulatedVRModeChanged.bind(this),n.singleton.simulatedVRModeChanged.on(this._simulatedVRModeChangedCallback);var e=s._getDocument();e.addEventListener("fullscreenchange",this._handleDOMFullscreenChangedCallback),e.addEventListener("webkitfullscreenchange",this._handleDOMFullscreenChangedCallback),e.addEventListener("mozfullscreenchange",this._handleDOMFullscreenChangedCallback),e.addEventListener("MSFullscreenChange",this._handleDOMFullscreenChangedCallback),this._handleDOMFullscreenChanged()}),e.properties({density:{get:function(){return 1}},reservedMargins:{get:function(){if(void 0===this._reservedMargins){var e=window.document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.overflow="scroll",e.style.top="-9999px",window.document.body.appendChild(e),this._reservedMargins={top:0,bottom:0,left:0,right:e.offsetWidth-e.clientWidth},window.document.body.removeChild(e)}return this._reservedMargins}},safeMargins:{get:function(){return{top:0,bottom:0,left:0,right:0}}},supportsFullscreen:{get:function(){if(void 0===this._supportsFullscreen){var e=s._getDocument(),t=this._getNativeExitFullScreenFromDocument(e);this._supportsFullscreen=void 0!==t}return this._supportsFullscreen}},isFullscreen:{privateSet:!0,onChange:"_isFullscreenChangedInternal"},touchHitRadius:void 0,showStatusBar:void 0,orientations:{privateSet:!0},_isResizing:void 0,_reservedMargins:void 0,_supportsFullscreen:void 0,_windowResizedCallback:void 0,_handleDOMFullscreenChangedCallback:void 0,_simulatedVRModeChangedCallback:void 0,_trackedFullScreenDisplayNode:void 0}),e.events(["resized","isFullscreenChanged","nativeFocusChanged","systemUIVisibilityChanged"]),e.methods({hitTestPoint:function(e,t){return r.singleton.hitTestPoint(e,this,t,this.touchHitRadius)},enterFullscreen:function(e){var t=e._wrappedElement;this._trackedFullScreenDisplayNode=e;var i=t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen;void 0!==i&&i.call(t)},exitFullscreen:function(){var e=s._getDocument(),t=this._getNativeExitFullScreenFromDocument(e);void 0!==t&&t.call(e)},setOrientations:function(e){var n=t.fulfilled();if(!1===a(this.orientations,e)){this._orientations=e;var o=this;n=i.singleton.post().then(function(){o._windowResizedCore(!0)})}return n},_getNativeExitFullScreenFromDocument:function(e){return e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen},nativeFocus:function(){},_handleDOMFullscreenChanged:function(){var e=s._getDocument(),t=e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement;this._isFullscreen=void 0!==t&&null!==t,void 0!==this._trackedFullScreenDisplayNode&&(this._trackedFullScreenDisplayNode.isFullScreenNode=this._isFullscreen,this._isFullscreen||(this._trackedFullScreenDisplayNode=void 0))},_handleSimulatedVRModeChanged:function(){this._onResized()},_windowResizedCore:function(e){if(!0===this._isResizing){var t=this;i.singleton.postCallback(function(){!1===t.isDisposed&&t._windowResizedCore(e)})}else{var n=this._naturalWidth,o=this._naturalHeight;if(this._updateNaturalSize(),e||this._naturalWidth!==n||this._naturalHeight!==o)try{this._isResizing=!0,this._onResized()}finally{this._isResizing=!1}}},_isFullscreenChangedInternal:function(e){this._windowResizedCore(!0),this._onIsFullscreenChanged(!0===e)},_windowResized:function(){this._windowResizedCore(!1)},_updateNaturalSize:function(){var e=s._getDocumentElement(),t=s._getWindow();this._naturalWidth=Math.max(t.innerWidth,e.clientWidth),this._naturalHeight=Math.max(t.innerHeight,e.clientHeight)},_getDOMScrollEventOwner:function(){return window},_getDOMScrollOffsetElement:function(){var e=s._getDocument();if(void 0!==e.scrollingElement&&null!==e.scrollingElement)return e.scrollingElement;var t=s._getDocumentElement();return t&&null!==t.scrollTop&&void 0!==t.scrollTop?t:s._getDocumentBody()},_createWrappedElements:function(){this._wrappedElement=s._getDocumentBody(),this._createScrollContainer();this._wrappedElement.id="Viewport",this._updateNaturalSize();var e=window.document.getElementById("splash");null!==e&&e.parentNode.removeChild(e),"string"==typeof this._wrappedElement.className&&(this._wrappedElement.className=this._wrappedElement.className.replace("loading",""));var t=this._wrappedElement.style;t.margin="0px",t.msTouchAction="none",t.msContentZooming="none"},_disposeCore:function(){window.removeEventListener("resize",this._windowResizedCallback),window.document.removeEventListener("fullscreenchange",this._fullscreenChangedCallback),window.document.removeEventListener("webkitfullscreenchange",this._fullscreenChangedCallback),window.document.removeEventListener("mozfullscreenchange",this._fullscreenChangedCallback),window.document.removeEventListener("MSFullscreenChange",this._fullscreenChangedCallback),n.singleton.simulatedVRModeChanged.off(this._simulatedVRModeChangedCallback),o._disposeCore.apply(this,arguments)}}),e.staticScope(function(){e.methods({_getDocumentBody:function(){return window.document.body},_getDocumentElement:function(){return window.document.documentElement},_getDocument:function(){return window.document},_getWindow:function(){return window},_getStyleProperty:function(e,t){return e[t]},_setStyleProperty:function(e,t,i){e[t]=i}})})});return s})}(),function(){"use strict";define("platform/dependent/graphics/IViewport",["core/oop","platform/dependent/graphics/IDisplayNode","platform/dependent/graphics/IScroller"],function(e,t,i){return e.interfaceDef("platform.dependent.graphics.IViewport",[t,i],function(){e.singleton(),e.events(["resized","isFullscreenChanged","nativeFocusChanged","systemUIVisibilityChanged"]),e.properties({density:{get:void 0},reservedMargins:{get:void 0},safeMargins:{get:void 0},supportsFullscreen:{get:void 0},isFullscreen:{get:void 0},touchHitRadius:{get:void 0},showStatusBar:{get:void 0},orientations:{get:void 0}}),e.methods({hitTestPoint:void 0,enterFullscreen:void 0,exitFullscreen:void 0,nativeFocus:void 0,setOrientations:void 0})})})}(),function(){"use strict";define("platform/dependent/graphics/Viewport",["core/oop","platform/dependent/graphics/ViewportBase","platform/dependent/graphics/IViewport"],function(e,t,i){return e.classDef("platform.dependent.graphics.Viewport",[t,i],function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_setClipToBounds:function(){},_updateNaturalSize:function(){t._updateNaturalSize.apply(this,arguments),this._onDOMScroll()}})})})}(),function(){"use strict";define("ui/Template",["core/oop","core/Debug","lib/react","lib/lodash/objects/forOwn","lib/lodash/objects/assign"],function(e,t,i,n,o){var r=e.classDef("ui.Template",Object,function(){e.constructor(function(e,t,i){this._templateManager=t,this._isDynamic=!1,this._isImmutable=!1,this._parse(this._flatten(e),i)}),e.properties({_init:{get:function(){var e=this._createSubTemplateInstances();return o(e,this._props,this._evaluatedDynamicProps)}},_isDynamic:void 0,_isLiteral:void 0,_isImmutable:void 0,_type:void 0,_props:void 0,_evaluatedDynamicProps:void 0,_dynamicFuncs:void 0,_subTemplates:void 0,_templateManager:void 0,_cachedInstance:void 0}),e.methods({evaluate:function(e){this._evaluatedDynamicProps={};var t=this;n(this._dynamicFuncs,function(i,n){for(var o=!0===i.$storeSubtemplates,a=i(e);a instanceof Function;)o=o&&!0===a.$storeSubtemplates,a=a(e);void 0===a||a.__typeMetadata;var s;!0===Array.isArray(a)?s=a.map(function(n){return!0!==i.$storeSubtemplates||!0===o||r._isTemplateDef(n),t._evaluateValue(n,e,!0===i.$storeSubtemplates)}):(!0!==i.$storeSubtemplates||!0===o||r._isTemplateDef(a),s=t._evaluateValue(a,e,!0===i.$storeSubtemplates)),t._evaluatedDynamicProps[n]=s}),void 0!==this._cachedInstance&&this.applyDynamicProps(this._cachedInstance)},_evaluateValue:function(e,t,i){if(void 0!==e&&r._isTemplateDef(e)){var n=this._parseSubTemplate(e,i);n._isLiteral?e=n:(n.evaluate(t),e=n.createInstance())}return e},_createTemplate:function(e,t,i){return r.new(e,t,i)},applyDynamicProps:function(e){!0!==this._isDynamic||this._evaluatedDynamicProps,n(this._subTemplates,function(t,i){var n=e[i];void 0!==n&&t.applyDynamicProps(n)}),n(this._evaluatedDynamicProps,function(t,i){e[i]=t})},getOopType:function(){return this._type},createInstance:function(e){if(!0!==this._isDynamic||this._evaluatedDynamicProps,void 0!==this._cachedInstance)return this._cachedInstance;var t;if(void 0!==this._type){var i=this._createSubTemplateInstances();o(i,this._props),!0===this._isDynamic&&o(i,this._evaluatedDynamicProps),o(i,e),t=this._createInstance(i)}else t=this._init
;return!0===this._isImmutable&&(this._cachedInstance=t),t},_createInstance:function(){return this._type.new.apply(this._type,arguments)},_createSubTemplateInstances:function(){var e={};return n(this._subTemplates,function(t,i){e[i]=t.createInstance()}),e},_flatten:function(e){if(void 0!==e){var t=e.$flatTemplateDef;return void 0===t&&(this._assertDefinedIfPresent(e,"$extend"),t=o({},this._flatten(e.$extend),e),Object.defineProperty(e,"$flatTemplateDef",{enumerable:!1,value:t})),t}},_assertDefinedIfPresent:function(e,t){!1===e.hasOwnProperty(t)||e[t]},_parse:function(e,t){var i=this;this._assertDefinedIfPresent(e,"$type"),this._type=e.$type,this._isLiteral=this._isLiteralType(this._type),this._isImmutable=this._isImmutableType(this._type),this._props={},this._dynamicFuncs={},this._subTemplates={},n(e,function(e,n){var o;0!==n.lastIndexOf("$",0)&&(void 0===e||e.__typeMetadata,i._isDynamicFunction(e,n)?(i._isDynamic=!0,i._dynamicFuncs[n]=e):r._isTemplateDef(e)?(o=i._parseSubTemplate(e,t),!0===o._isLiteral?i._props[n]=o:i._subTemplates[n]=o):Array.isArray(e)?i._props[n]=e.map(function(e){return r._isTemplateDef(e)?(o=i._parseSubTemplate(e,t),o._isLiteral?o:(o._isDynamic,o.createInstance())):e}):i._props[n]=e)})},_isDynamicFunction:function(e,t){return e instanceof Function&&!(void 0!==e.prototype&&e.prototype instanceof i.Component)&&"subComponentType"!==t},_parseSubTemplate:function(e,t){var i=this._templateManager.getAnonymousTemplate(e);return void 0===i&&(i=this._createTemplate(e,this._templateManager,t),!0===t&&this._templateManager.setAnonymousTemplate(e,i)),i},_isLiteralType:function(e){return void 0!==e&&!0===e.prototype.isTemplateLiteral},_isImmutableType:function(e){return void 0===e||!0===e.prototype.isImmutable}}),e.staticScope(function(){e.methods({createStoredDynamicFunction:function(e){var t=function(t){return e(t)};return t.$storeSubtemplates=!0,t},_isTemplateDef:function(e){return e instanceof Object==!0&&!1===Array.isArray(e)&&e instanceof Function==!1&&void 0===e.__typeMetadata}})})});return r})}(),function(){"use strict";define("platform/dependent/diagnostics/IPerformance",["core/oop"],function(e){return e.interfaceDef("platform.dependent.diagnostics.IPerformance",void 0,function(){e.singleton(),e.events(["markCreated"]),e.methods({getHeapSize:void 0,supportsHeapSizeCheck:void 0,mark:void 0,measure:void 0})})})}(),function(){"use strict";define("platform/dependent/diagnostics/PerformanceTimespan",["core/oop"],function(e){return e.classDef("platform.dependent.diagnostics.PerformanceTimespan",Object,function(){e.initConstructor(function(){}),e.properties({duration:{defaultValue:0},startName:void 0,endName:void 0,timestamp:void 0}),e.methods({toJSON:function(){return{duration:this.duration,startName:this.startName,endName:this.endName,timestamp:this.timestamp}}})})})}(),function(){"use strict";define("platform/dependent/diagnostics/PerformanceBase",["core/oop","core/Disposable","engine/dependent/Time","platform/dependent/diagnostics/PerformanceTimespan"],function(e,t,i,n){return e.classDef("platform.dependent.diagnostics.PerformanceBase",t,function(){e.constructor(function(){this._performanceMarks={},this._created()}),e.properties({_performanceMarks:void 0}),e.events(["markCreated"]),e.methods({getHeapSize:function(){return 0},supportsHeapSizeCheck:function(){return!1},mark:function(e,t){this._setPerformanceMark(e,t)},measure:function(e){var t,i=[],o=this._getPerformanceMarks(e);if(o.length>0){t=o[0];for(var r=1;r<o.length;r++){var a=o[r];i.push(n.new({startName:t.name,endName:a.name,duration:a.mark-t.mark,timestamp:a.time})),t=a}0===i.length&&i.push(n.new({startName:t.name,endName:t.name,duration:0,timestamp:t.time}))}return i},_setPerformanceMark:function(e,t){void 0===this._performanceMarks[e]&&(this._performanceMarks[e]=[]);var n=i.singleton.now();this._performanceMarks[e].push({name:t,mark:n,time:n}),this._onMarkCreated(e,t)},_getPerformanceMarks:function(e){var t=this._performanceMarks[e];return void 0===t&&(t=[]),t}})})})}(),function(e){"use strict";define("platform/dependent/diagnostics/PerformanceBrowserBase",["core/oop","platform/PlatformDeveloperSettings","platform/dependent/diagnostics/PerformanceBase"],function(t,i,n){return t.classDef("platform.dependent.diagnostics.PerformanceBrowserBase",n,function(n){t.constructor(function(){n.$ctor.apply(this,arguments),this._performance=e.performance}),t.properties({_performance:void 0,_enableTimeline:{get:function(){return!0===i.singleton.userTimingIntegration}}}),t.methods({getHeapSize:function(){return this.supportsHeapSizeCheck()?this._performance.memory.usedJSHeapSize:0},supportsHeapSizeCheck:function(){return void 0!==this._performance&&void 0!==this._performance.memory&&this._performance.memory.usedJSHeapSize>0},mark:function(e,t){if(n.mark.apply(this,arguments),!0===this._enableTimeline&&void 0!==this._performance&&void 0!==this._performance.mark){var i=this._getTimelineMarkName(e,t);this._performance.clearMarks(i),this._performance.mark(i)}},measure:function(e){var t=n.measure.apply(this,arguments);if(!0===this._enableTimeline&&void 0!==this._performance&&void 0!==this._performance.measure&&t.length>0){for(var i=0;i<t.length;i++){var o=t[i],r=this._getTimelineMarkName(e,o.startName),a=this._getTimelineMarkName(e,o.endName);this._ensureMeasurement(a,r,a)}if(t.length>1){var s=this._getTimelineMarkName(e,t[0].startName),l=this._getTimelineMarkName(e,t[t.length-1].endName);this._ensureMeasurement(e,s,l)}}return t},_ensureMeasurement:function(e,t,i){this._performance.clearMeasures(e);var n=this._getSinglePerformanceEntry(t),o=this._getSinglePerformanceEntry(i);void 0!==n&&void 0!==o&&this._performance.measure(e,t,i)},_getTimelineMarkName:function(e,t){return e+"."+t},_getSinglePerformanceEntry:function(e){var t=this._performance.getEntriesByName(e);return t.length>0?t[0]:void 0}})})})}(this),function(){"use strict";define("platform/dependent/diagnostics/Performance",["core/oop","platform/dependent/diagnostics/IPerformance","platform/dependent/diagnostics/PerformanceBrowserBase"],function(e,t,i){return e.classDef("platform.dependent.diagnostics.Performance",[i,t],function(t){e.singleton(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("core/PromiseManager",["core/oop","core/Debug","core/Disposable","core/Exception","lib/Promise","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r){var a=e.classDef("core.PromiseManager",i,function(t){e.staticScope(function(){e.constructor(function(){this._idCounter=1e3}),e.events(["started","finished"]),e.properties({_idCounter:void 0})}),e.constructor(function(){this._init(),this._created()}),e.properties({_disposablePromises:void 0,_nameToId:void 0}),e.methods({runUntilDisposed:function(e,t,i){this._cancelDisposablePromiseImpl(e),this._runUntilDisposedImpl(e,t,i)},runIndependentlyUntilDisposed:function(e,t,i){var n=e+"-v"+a._idCounter,r=o.pending();return this._runUntilDisposedImpl(n,t,i,r),r.promise},cancelDisposablePromise:function(e){this._cancelDisposablePromiseImpl(e)},cancelAllPromiseChains:function(){this._cancelAllPromiseChains()},_init:function(){this._nameToId={},this._disposablePromises={}},_disposeCore:function(){this._cancelAllPromiseChains(),t._disposeCore.apply(this,arguments)},_cancelAllPromiseChains:function(){r(this._disposablePromises,function(e){e.cancel()})},_runUntilDisposedImpl:function(e,t,i,n){var o=this;this.isDisposed,this._disposablePromises,this.typeName;var r=a._idCounter++;this._nameToId[e]=r;var s=this._createPromiseInfoObject(e,i||{});this._disposablePromises[r]=t().then(function(e){return o._markFinished(s,r,"resolved"),o._fulfill(n,e)}).catch(function(t){o._markFinished(s,r,"rejected"),o._reject(n,t,e,r)}).finally(function(){o._markFinished(s,r),o._cancel(n)}),this._markStarted(s,e,r)},_cancelDisposablePromiseImpl:function(e){e.indexOf("-v");var t=this._nameToId[e],i=this._disposablePromises[t];void 0!==i&&i.cancel(),delete this._nameToId[e]},_createPromiseInfoObject:function(e,t){var i=this;return{getDebugInfo:function(){return{name:e,managerTypeName:i.typeName,contextualData:i._getContextualData(),waitsForUserInteraction:!0===t.waitsForUserInteraction}}}},_fulfill:function(e,t){return void 0!==e&&e.fulfill(t),t},_reject:function(e,t,i,n){if(void 0!==e){i.indexOf("-v");var o=i.substring(0,i.indexOf("-v"));e.reject(this._createPromiseChainRejectionException(o,t))}else this._defaultRejectionHandler(i,t,n)},_cancel:function(e){void 0!==e&&e.cancel()},_defaultRejectionHandler:function(e,t){throw this._createPromiseChainRejectionException(e,t)},_createPromiseChainRejectionException:function(e,t){return n.wrap(t,{message:"promise chain rejected: "+e,area:this.typeName+"."+e,contextualData:this._getContextualData()})},_getContextualData:function(){return void 0!==this.getContextualData?this.getContextualData():void 0},_markStarted:function(e,t,i){a._onStarted(e)},_markFinished:function(e,t,i){void 0!==this._disposablePromises[t]&&(a._onFinished(e),delete this._disposablePromises[t])},_isRunningPromiseChain:function(e){return void 0!==this._disposablePromises[this._nameToId[e]]}})});return a})}(),function(){"use strict";define("ui/TemplateManager",["core/oop","core/Debug","lib/Promise","lib/lodash/objects/forOwn","lib/lodash/objects/keys","lib/lodash/objects/values","lib/lodash/objects/isEqual","platform/common/Dispatcher","platform/dependent/graphics/Viewport","ui/Template","platform/dependent/diagnostics/Performance","core/PromiseManager"],function(e,t,i,n,o,r,a,s,l,c,d,u){return e.classDef("ui.TemplateManager",u,function(t){e.singleton(function(){t.$ctor.call(this),this._templateMap={},this._lazyTemplateMap={},this._anonymousTemplates=[],this._dbgAnonymousTemplateDefs=[],this._nextAnonymousTemplateId=0,this._modulesToClear=[];var e=this;this._viewportChangedCallback=function(){e._reevaluateTemplates()},l.singleton.resized.on(this._viewportChangedCallback)}),e.properties({_anonymousTemplates:void 0,_templateMap:void 0,_lazyTemplateMap:void 0,_nextAnonymousTemplateId:void 0,_modulesToClear:void 0,_viewportChangedCallback:void 0,_anonymousTemplateIndex:{defaultValue:0},_dbgAnonymousTemplateDefs:void 0,_registrationComplete:{defaultValue:!1}}),e.methods({register:function(e){return this._registrationComplete,this._register(e)},_register:function(e){o(e).length;var t=[],i=this;n(e,function(e,n){if(i._checkDuplicateRegistration(n),void 0!==e)if(void 0!==e.setLazyTemplateDefs)i._lazyTemplateMap[n]=e;else{var o=i._createTemplate(e);t.push(o),i._templateMap[n]=o}}),this._evaluateTemplates(t)},_checkDuplicateRegistration:function(e){void 0===this._templateMap[e]&&this._lazyTemplateMap[e]},_createTemplate:function(e){return c.new(e,this,!0)},getTemplate:function(e){var t=this._getTemplate(e);return t},getAnonymousTemplate:function(e){var t;if(e.hasOwnProperty("$templateDefId")){var i=e.$templateDefId;t=this._anonymousTemplates[i],a(e,this._dbgAnonymousTemplateDefs[i])}return t},setAnonymousTemplate:function(e,t){Object.defineProperty(e,"$templateDefId",{enumerable:!1,value:this._nextAnonymousTemplateId++}),this._anonymousTemplates.push(t),this._dbgAnonymousTemplateDefs.push(e)},applyDynamicProps:function(e,t){this.getTemplate(t).applyDynamicProps(e)},completeRegistration:function(){this._registrationComplete,this._registrationComplete=!0;var e=this,t=o(e._lazyTemplateMap);this.runUntilDisposed("lazyLoadTemplates",function(){return i.each(t,function(t){return s.singleton.queueBackground(function(){void 0!==e._lazyTemplateMap&&void 0!==e._lazyTemplateMap[t]&&e._loadLazyTemplate(t)})}).then(function(){e._lazyTemplateMap=void 0,e._reclaim()})})},queueReclaim:function(e){this._modulesToClear,this._modulesToClear.push(e)},_reclaim:function(){void 0!==this._modulesToClear&&(this._modulesToClear.forEach(function(e){e.clear()}),this._modulesToClear=void 0)},_getTemplate:function(e){return void 0!==this._lazyTemplateMap&&void 0!==this._lazyTemplateMap[e]&&this._loadLazyTemplate(e),this._templateMap[e]},_reevaluateTemplates:function(){this._anonymousTemplateIndex=0,this._evaluateTemplates(r(this._templateMap))},_evaluateTemplates:function(e){var t={screenWidth:l.singleton.naturalWidth,screenHeight:l.singleton.naturalHeight};for(e.forEach(function(e){e.evaluate(t)});this._anonymousTemplateIndex<this._anonymousTemplates.length;){this._anonymousTemplates[this._anonymousTemplateIndex++].evaluate(t)}},_loadLazyTemplate:function(e){var t="template."+e;d.singleton.mark(t,"start");var i=this._lazyTemplateMap[e];i.setLazyTemplateDefs();var o=i.registered,r=this;n(o,function(e,t){o[t],delete r._lazyTemplateMap[t]}),this._register(o),d.singleton.mark(t,"lazyRegister"),d.singleton.measure(t)},_disposeCore:function(){l.singleton.resized.off(this._viewportChangedCallback),this._reclaim(),t._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("ui/TemplateFactory",["core/oop","ui/TemplateManager"],function(e,t){return e.classDef("ui.TemplateFactory",Object,function(){e.constructor(function(){}),e.properties({factoryIdSuffix:{defaultValue:""}}),e.methods({create:function(e,i){i=i||{};var n;if("string"==typeof e){var o=e;i.factoryId=o,n=t.singleton.getTemplate(o+this.factoryIdSuffix)}else n=i.template=e;return n.createInstance(i)}})})})}(),function(){"use strict";define("ui/ViewFactory",["core/oop","ui/TemplateFactory"],function(e,t){return e.classDef("ui.ViewFactory",t,function(t){e.singleton(function(){this.factoryIdSuffix="View"}),e.methods({create:function(e,i){return t.create.apply(this,[e,i])}})})})}(),function(){"use strict";define("ui/viewModels/ViewModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("ui.viewModels.ViewModel",t,function(){e.methods({equals:void 0})})})}(),function(){"use strict";define("ui/viewModelProviders/ViewModelProvider",["core/oop","lib/Promise","core/data/Provider","ui/viewModels/ViewModel"],function(e,t,i,n){return e.classDef("ui.viewModelProviders.ViewModelProvider",[i,n],function(i){e.staticScope(function(){e.methods({substitute:function(e,i){return t.reduce(Object.keys(i),function(e,t){return e.indexOf(t)>-1?i[t]().then(function(i){return e.replace(t,i)}):e},e)},substituteImmediate:function(e,t){return Object.keys(t).forEach(function(i){e=e.replace(i,t[i])}),e}})}),e.constructor(function(e){i.$ctor.call(this,void 0!==e?e.id:void 0),this._dataModel=e}),e.properties({dataModel:{privateSet:!0}}),e.methods({equals:function(e){if(this===e)return!0;if(this.id===e.id&&this.factoryId===e.factoryId){var t=this.dataModel,i=e.dataModel;return t===i||void 0!==t&&void 0!==i&&t.id===i.id}return!1}})})})}(),function(){"use strict";define("ui/viewModels/ValueArrayViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("ui.viewModels.ValueArrayViewModel",t,function(){e.properties({values:{get:void 0}})})})}(),function(){"use strict";define("ui/viewModelProviders/ValueArrayProvider",["core/oop","lib/Promise","ui/viewModelProviders/ViewModelProvider","ui/viewModels/ValueArrayViewModel"],function(e,t,i,n){return e.classDef("ui.viewModelProviders.ValueArrayProvider",[i,n],function(){e.constructor(function(e,t){this._values=e,this._transform=t}),e.properties({_values:void 0,_transform:void 0,values:{get:function(){if(void 0!==this._transform){var e=this;return t.fulfilled(this._values.map(e._transform))}return t.fulfilled(this._values)}}})})})}(),function(){"use strict";define("ui/viewModels/ValueViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("ui.viewModels.ValueViewModel",t,function(){e.properties({value:{get:void 0}})})})}(),function(){"use strict";define("ui/viewModelProviders/ValueProvider",["core/oop","lib/Promise","ui/viewModels/ValueViewModel","ui/viewModelProviders/ViewModelProvider"],function(e,t,i,n){return e.classDef("ui.viewModelProviders.ValueProvider",[n,i],function(i){e.constructor(function(e,t,n,o){i.$ctor.call(this,e),this._propertyPath=t,this._transform=n,this._allowOptional=o}),e.properties({value:{get:function(){var e=this._followPropertyPath(this._dataModel,this._propertyPath);if(void 0!==this._transform){var t=this;e=e.then(function(e){return t._transform(e)})}return e}},_propertyPath:void 0,_transform:void 0,_allowOptional:void 0}),e.methods({_followPropertyPath:function(e,i){if(void 0===i)return t.fulfilled(e);var n=this,o=i.split("."),r=t.fulfilled(e);return o.forEach(function(e){r=r.then(function(i){if(void 0!==i||!0!==n._allowOptional)return t.cast(i[e])})}),r},equals:function(e){return i.equals.apply(this,arguments)&&this._propertyPath===e._propertyPath&&this._transform===e._transform}})})})}(),function(){"use strict";define("ui/UIDeveloperSettings",["core/oop"],function(e){return e.classDef("ui.UIDeveloperSettings",Object,function(){e.singleton(function(){}),e.properties({testClosedCaptioningUri:{defaultValue:void 0,privateSet:!0},testClosedCaptioningUriTemplate:{defaultValue:void 0,privateSet:!0},testClosedCaptioningLookAheadMS:{defaultValue:void 0,privateSet:!0},resetPerfCountersOnPageTransition:{defaultValue:void 0,privateSet:!0},debugHitTest:{defaultValue:void 0,privateSet:!0},automatonVideoArguments:{defaultValue:void 0}})})})}(),function(){"use strict";define("core/Lifecycleable",["core/oop","core/Disposable","core/Exception"],function(e,t,i){var n=e.enumDef("core.Lifecycleable.LifecycleStates",["UNINITIALIZED","ACTIVATED","SUSPENDED","DEACTIVATED"]);return e.classDef("core.Lifecycleable",t,function(t){e.staticScope(function(){e.properties({LifecycleStates:{defaultValue:n,readOnlyField:!0}})}),e.properties({lifecycleState:{defaultValue:n.UNINITIALIZED,privateSet:!0,onChange:"_onLifecycleStateChanged"}}),e.events(["lifecycleStateChanged"]),e.methods({activate:function(){this._lifecycleState!==n.UNINITIALIZED&&this._throwWithContextualData("Can only activate from UNINITIALIZED state."),this._lifecycleState=n.ACTIVATED},deactivate:function(){this._lifecycleState!==n.SUSPENDED&&this._lifecycleState!==n.UNINITIALIZED&&this._throwWithContextualData("Can only deactivate from SUSPENDED or UNINITIALIZED state."),this._lifecycleState=n.DEACTIVATED,this.dispose()},resume:function(){this._lifecycleState!==n.SUSPENDED&&this._throwWithContextualData("Can only resume from SUSPENDED state."),this._lifecycleState=n.ACTIVATED},suspend:function(){this._lifecycleState!==n.ACTIVATED&&this._throwWithContextualData("Can only suspend from ACTIVATED state."),this._lifecycleState=n.SUSPENDED},_throwWithContextualData:function(e){var t=this.getContextualData();throw i.new({message:e,area:"core.Lifecycleable._throwWithContextualData",contextualData:t})},getContextualData:function(){return{lifecycleState:this._lifecycleState,typeName:this.typeName}},_disposeCore:function(){this._lifecycleState===n.ACTIVATED&&this.suspend(),this._lifecycleState!==n.UNINITIALIZED&&this._lifecycleState!==n.SUSPENDED||this.deactivate(),t._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("core/EventManager",["core/oop","core/Disposable"],function(e,t){return e.classDef("core.EventManager",t,function(t){e.constructor(function(){this._init(),this._created()}),e.properties({_hookedEventData:void 0}),e.methods({hookUntilDisposed:function(e,t,i){var n={target:e,eventName:t,handler:i};this._hookedEventData.push(n),n.target[n.eventName].on(n.handler)},unhook:function(e){this._unhook(e)},_unhook:function(e){for(var t=this._hookedEventData.length-1;t>=0;t--){var i=this._hookedEventData[t];void 0!==e&&!0!==e(i)||(i.target[i.eventName].off(i.handler),this._hookedEventData.splice(t,1))}},_init:function(){this._hookedEventData=[]},_disposeCore:function(){this._unhook(),t._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("core/AsyncManager",["core/oop","core/Disposable","core/EventManager","core/PromiseManager"],function(e,t,i,n){return e.classDef("core.AsyncManager",t,function(t){e.mixin(i),e.mixin(n),e.constructor(function(){i.prototype._init.call(this),n.prototype._init.call(this),this._created()}),e.methods({_disposeCore:function(){i.prototype._disposeCore.call(this),n.prototype._disposeCore.call(this),t._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("platform/input/Buttons",["core/oop"],function(e){return e.enumDef("platform.input.Buttons",["KEY_0","KEY_1","KEY_2","KEY_3","KEY_4","KEY_5","KEY_6","KEY_7","KEY_8","KEY_9","KEY_A","KEY_B","KEY_C","KEY_D","KEY_E","KEY_F","KEY_G","KEY_H","KEY_I","KEY_J","KEY_K","KEY_L","KEY_M","KEY_N","KEY_O","KEY_P","KEY_Q","KEY_R","KEY_S","KEY_T","KEY_U","KEY_V","KEY_W","KEY_X","KEY_Y","KEY_Z","KEY_PAGE_UP","KEY_PAGE_DOWN","KEY_HOME","KEY_END","KEY_SPACEBAR","KEY_SLASH","KEY_QUESTION_MARK","UP","DOWN","LEFT","RIGHT","OK","CANCEL","NEXT","PREV","TOGGLE_BROWSE_MENU","VIEW","ALT1","ALT2","ALT3","ALT4","MEDIA_PLAY","MEDIA_PAUSE","MEDIA_STOP","MEDIA_SKIP_NEXT","MEDIA_SKIP_PREV","MEDIA_FAST_FORWARD","MEDIA_REWIND","MEDIA_STEP_FORWARD","MEDIA_STEP_BACK","MEDIA_PLAY_PAUSE","MEDIA_TOGGLE_CAPTIONS","MEDIA_VOLUME_UP","MEDIA_VOLUME_DOWN","MEDIA_MUTE","MEDIA_UNMUTE","MEDIA_MUTE_UNMUTE","SEARCH","ESCAPE"])})}(),function(){"use strict";define("platform/dependent/input/IButtonDevice",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.input.IButtonDevice",t,function(){e.properties({buttonPressedCounts:{get:void 0}}),e.events(["pressed","released"])})})}(),function(){"use strict";define("platform/input/KeyCodes",["core/oop"],function(e){return e.enumDef("platform.input.KeyCodes",{KEYBOARD_0:"KEYBOARD_0",KEYBOARD_1:"KEYBOARD_1",KEYBOARD_2:"KEYBOARD_2",KEYBOARD_3:"KEYBOARD_3",KEYBOARD_4:"KEYBOARD_4",KEYBOARD_5:"KEYBOARD_5",KEYBOARD_6:"KEYBOARD_6",KEYBOARD_7:"KEYBOARD_7",KEYBOARD_8:"KEYBOARD_8",KEYBOARD_9:"KEYBOARD_9",KEYBOARD_NUMPAD_0:"KEYBOARD_NUMPAD_0",KEYBOARD_NUMPAD_1:"KEYBOARD_NUMPAD_1",KEYBOARD_NUMPAD_2:"KEYBOARD_NUMPAD_2",KEYBOARD_NUMPAD_3:"KEYBOARD_NUMPAD_3",KEYBOARD_NUMPAD_4:"KEYBOARD_NUMPAD_4",KEYBOARD_NUMPAD_5:"KEYBOARD_NUMPAD_5",KEYBOARD_NUMPAD_6:"KEYBOARD_NUMPAD_6",KEYBOARD_NUMPAD_7:"KEYBOARD_NUMPAD_7",KEYBOARD_NUMPAD_8:"KEYBOARD_NUMPAD_8",KEYBOARD_NUMPAD_9:"KEYBOARD_NUMPAD_9",KEYBOARD_LEFT:"KEYBOARD_LEFT",KEYBOARD_UP:"KEYBOARD_UP",KEYBOARD_RIGHT:"KEYBOARD_RIGHT",KEYBOARD_DOWN:"KEYBOARD_DOWN",KEYBOARD_A:"KEYBOARD_A",KEYBOARD_B:"KEYBOARD_B",KEYBOARD_C:"KEYBOARD_C",KEYBOARD_D:"KEYBOARD_D",KEYBOARD_E:"KEYBOARD_E",KEYBOARD_F:"KEYBOARD_F",KEYBOARD_G:"KEYBOARD_G",KEYBOARD_H:"KEYBOARD_H",KEYBOARD_I:"KEYBOARD_I",KEYBOARD_J:"KEYBOARD_J",KEYBOARD_K:"KEYBOARD_K",KEYBOARD_L:"KEYBOARD_L",KEYBOARD_M:"KEYBOARD_M",KEYBOARD_N:"KEYBOARD_N",KEYBOARD_O:"KEYBOARD_O",KEYBOARD_P:"KEYBOARD_P",KEYBOARD_Q:"KEYBOARD_Q",KEYBOARD_R:"KEYBOARD_R",KEYBOARD_S:"KEYBOARD_S",KEYBOARD_T:"KEYBOARD_T",KEYBOARD_U:"KEYBOARD_U",KEYBOARD_V:"KEYBOARD_V",KEYBOARD_W:"KEYBOARD_W",KEYBOARD_X:"KEYBOARD_X",KEYBOARD_Y:"KEYBOARD_Y",KEYBOARD_Z:"KEYBOARD_Z",KEYBOARD_ENTER:"KEYBOARD_ENTER",KEYBOARD_SPACEBAR:"KEYBOARD_SPACEBAR",KEYBOARD_ESCAPE:"KEYBOARD_ESCAPE",KEYBOARD_DELETE:"KEYBOARD_DELETE",KEYBOARD_MENU:"KEYBOARD_MENU",KEYBOARD_BACK:"KEYBOARD_BACK",KEYBOARD_PAGE_UP:"KEYBOARD_PAGE_UP",KEYBOARD_PAGE_DOWN:"KEYBOARD_PAGE_DOWN",KEYBOARD_HOME:"KEYBOARD_HOME",KEYBOARD_END:"KEYBOARD_END",KEYBOARD_SEARCH:"KEYBOARD_SEARCH",KEYBOARD_SLASH:"KEYBOARD_SLASH",KEYBOARD_QUESTION_MARK:"KEYBOARD_QUESTION_MARK",MEDIA_PLAY:"MEDIA_PLAY",MEDIA_PAUSE:"MEDIA_PAUSE",MEDIA_PLAY_PAUSE:"MEDIA_PLAY_PAUSE",MEDIA_STOP:"MEDIA_STOP",MEDIA_PREVIOUS_TRACK:"MEDIA_PREVIOUS_TRACK",MEDIA_NEXT_TRACK:"MEDIA_NEXT_TRACK",MEDIA_REWIND:"MEDIA_REWIND",MEDIA_FAST_FORWARD:"MEDIA_FAST_FORWARD",MEDIA_CAPTIONS:"MEDIA_CAPTIONS",GAMEPAD_FACE_BUTTON_BOTTOM:"GAMEPAD_FACE_BUTTON_BOTTOM",GAMEPAD_FACE_BUTTON_RIGHT:"GAMEPAD_FACE_BUTTON_RIGHT",GAMEPAD_FACE_BUTTON_TOP:"GAMEPAD_FACE_BUTTON_TOP",GAMEPAD_FACE_BUTTON_LEFT:"GAMEPAD_FACE_BUTTON_LEFT",GAMEPAD_OPTIONS_LEFT:"GAMEPAD_OPTIONS_LEFT",GAMEPAD_OPTIONS_MIDDLE:"GAMEPAD_OPTIONS_MIDDLE",GAMEPAD_OPTIONS_RIGHT:"GAMEPAD_OPTIONS_RIGHT",GAMEPAD_LEFT_SHOULDER:"GAMEPAD_LEFT_SHOULDER",GAMEPAD_RIGHT_SHOULDER:"GAMEPAD_RIGHT_SHOULDER",GAMEPAD_LEFT_TRIGGER:"GAMEPAD_LEFT_TRIGGER",GAMEPAD_RIGHT_TRIGGER:"GAMEPAD_RIGHT_TRIGGER"})})}(),function(){"use strict";define("platform/dependent/input/ButtonDeviceKeyMapBase",["core/oop","lib/lodash/objects/forOwn"],function(e,t){return e.classDef("platform.dependent.input.ButtonDeviceKeyMapBase",Object,function(){e.constructor(function(e){this._nativeCodesToKeyCodes=e}),e.properties({keyMap:{defaultValue:{},privateSet:!0},_nativeCodesToKeyCodes:void 0}),e.methods({initializeKeyMap:function(e){var i={};t(this._nativeCodesToKeyCodes,function(t,n){var o=e[t];void 0!==o&&(i[n]=o)}),this._keyMap=i}})})})}(),function(){"use strict";define("platform/dependent/input/ButtonDeviceKeyMap",["core/oop","platform/input/KeyCodes","platform/dependent/input/ButtonDeviceKeyMapBase"],function(e,t,i){return e.classDef("platform.dependent.input.ButtonDeviceKeyMap",i,function(i){e.singleton(function(){var e={0:t.KEYBOARD_MENU,8:t.KEYBOARD_BACK,13:t.KEYBOARD_ENTER,27:t.KEYBOARD_ESCAPE,32:t.KEYBOARD_SPACEBAR,33:t.KEYBOARD_PAGE_UP,34:t.KEYBOARD_PAGE_DOWN,35:t.KEYBOARD_END,36:t.KEYBOARD_HOME,37:t.KEYBOARD_LEFT,38:t.KEYBOARD_UP,39:t.KEYBOARD_RIGHT,40:t.KEYBOARD_DOWN,48:t.KEYBOARD_0,49:t.KEYBOARD_1,50:t.KEYBOARD_2,51:t.KEYBOARD_3,52:t.KEYBOARD_4,53:t.KEYBOARD_5,54:t.KEYBOARD_6,55:t.KEYBOARD_7,56:t.KEYBOARD_8,57:t.KEYBOARD_9,63:t.KEYBOARD_QUESTION_MARK,65:t.KEYBOARD_A,66:t.KEYBOARD_B,67:t.KEYBOARD_C,68:t.KEYBOARD_D,69:t.KEYBOARD_E,70:t.KEYBOARD_F,71:t.KEYBOARD_G,72:t.KEYBOARD_H,73:t.KEYBOARD_I,74:t.KEYBOARD_J,75:t.KEYBOARD_K,76:t.KEYBOARD_L,77:t.KEYBOARD_M,78:t.KEYBOARD_N,79:t.KEYBOARD_O,80:t.KEYBOARD_P,81:t.KEYBOARD_Q,82:t.KEYBOARD_R,83:t.KEYBOARD_S,84:t.KEYBOARD_T,85:t.KEYBOARD_U,86:t.KEYBOARD_V,87:t.KEYBOARD_W,88:t.KEYBOARD_X,89:t.KEYBOARD_Y,90:t.KEYBOARD_Z,93:t.KEYBOARD_MENU,96:t.KEYBOARD_NUMPAD_0,97:t.KEYBOARD_NUMPAD_1,98:t.KEYBOARD_NUMPAD_2,99:t.KEYBOARD_NUMPAD_3,100:t.KEYBOARD_NUMPAD_4,101:t.KEYBOARD_NUMPAD_5,102:t.KEYBOARD_NUMPAD_6,103:t.KEYBOARD_NUMPAD_7,104:t.KEYBOARD_NUMPAD_8,105:t.KEYBOARD_NUMPAD_9,127:t.KEYBOARD_DELETE,191:t.KEYBOARD_SLASH};i.$ctor.call(this,e)})})})}(),function(){"use strict";define("platform/dependent/input/ButtonDeviceKeyboard",["core/oop","platform/dependent/input/IButtonDevice","platform/input/Buttons","platform/dependent/input/ButtonDeviceKeyMap","lib/lodash/objects/forOwn","core/Disposable"],function(e,t,i,n,o,r){return e.classDef("platform.dependent.input.ButtonDeviceKeyboard",[r,t],function(t){e.constructor(function(){var e=this;e._keyMap=n.singleton.keyMap,this._browserKeysPressed={},o(this._keyMap,function(t,i){e._browserKeysPressed[i]=!1}),this._buttonPressedCounts={},i.forEach(function(e){this._buttonPressedCounts[e]=0},this),this._onBrowserKeyDown=function(t){return e._onKeyDown(t),!1},this._onBrowserKeyUp=function(t){return e._onKeyUp(t),!1},window.addEventListener("keydown",this._onBrowserKeyDown),window.addEventListener("keyup",this._onBrowserKeyUp),this._created()}),e.properties({_onBrowserKeyDown:void 0,_onBrowserKeyUp:void 0,_keyMap:void 0,_browserKeysPressed:void 0,buttonPressedCounts:{privateSet:!0}}),e.events(["pressed","released"]),e.methods({_disposeCore:function(){window.removeEventListener("keydown",this._onBrowserKeyDown),window.removeEventListener("keyup",this._onBrowserKeyUp),t._disposeCore.apply(this,arguments)},_onKeyDown:function(e){this._onKeyDownImpl(e.which)},_onKeyDownImpl:function(e){var t=this._keyMap[e];!0==(void 0!==t)&&!1===this._browserKeysPressed[e]&&(this._browserKeysPressed[e]=!0,1==++this._buttonPressedCounts[t]&&this._onPressed({button:t,device:this},!1))},_onKeyUp:function(e){this._onKeyUpImpl(e.which)},_onKeyUpImpl:function(e){var t=this._keyMap[e];!0==(void 0!==t)&&(this._browserKeysPressed[e]=!1,this._buttonPressedCounts[t]>0)&&(0==--this._buttonPressedCounts[t]&&this._onReleased({button:t,device:this},!1))}})})})}(),function(){"use strict";define("platform/dependent/input/IButtonDeviceManager",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.input.IButtonDeviceManager",t,function(){e.collection("devices"),e.methods({enableMediaButtons:void 0})})})}(),function(){"use strict";define("platform/dependent/input/ButtonDeviceMedia",["core/oop","platform/dependent/input/IButtonDevice","platform/input/Buttons","core/Disposable"],function(e,t,i,n){return e.classDef("platform.dependent.input.ButtonDeviceMedia",[n,t],function(){e.constructor(function(){this._buttonPressedCounts={},i.forEach(function(e){this._buttonPressedCounts[e]=0},this),this._created()}),e.properties({buttonPressedCounts:{privateSet:!0}}),e.events(["pressed","released"]),e.methods({enableMediaButtons:function(){}})})})}(),function(){"use strict";define("platform/dependent/input/ButtonDeviceManager",["core/oop","platform/dependent/input/ButtonDeviceKeyboard","platform/dependent/input/IButtonDeviceManager","platform/dependent/input/ButtonDeviceMedia","core/Disposable"],function(e,t,i,n,o){return e.classDef("platform.dependent.input.ButtonDeviceManager",[o,i],function(i){e.constructor(function(){this.devices.add(t.new()),this._mediaDevice=n.new(),this.devices.add(this._mediaDevice),this._created()}),e.collection("devices"),e.properties({_mediaDevice:void 0}),e.methods({enableMediaButtons:function(e){this._mediaDevice.enableMediaButtons(e)},_disposeCore:function(){for(var e=this.devices.length-1;e>=0;e--){this.devices.getAt(e).dispose()}this._mediaDevice=void 0,i._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("platform/input/ButtonProvider",["core/oop","platform/input/Buttons","platform/dependent/input/ButtonDeviceManager","platform/common/Dispatcher","engine/dependent/Time","core/Disposable"],function(e,t,i,n,o,r){return e.classDef("platform.input.ButtonProvider",r,function(r){e.singleton(function(){this._buttonPressedData={},this._devicePressedHandler=this._onDevicePressed.bind(this),this._deviceReleasedHandler=this._onDeviceReleased.bind(this),this._deviceManager=i.new();for(var e=this._deviceManager.devices.length,n=0;n<e;n++){var o=this._deviceManager.devices.getAt(n);this._onDeviceAdded(o)}this._deviceManager.devices.added.on(this._onDeviceAdded.bind(this)),this._deviceManager.devices.removed.on(this._onDeviceRemoved.bind(this)),t.forEach(function(e){this._buttonPressedData[e]={count:0,pressedAtTimeInMs:0,version:0}},this),this._created()}),e.properties({deviceManager:{get:function(){return this._deviceManager}},lastButtonStillPressed:{privateSet:!0,defaultValue:void 0},buttonPressedCount:{privateSet:!0,defaultValue:0},enableNativeInputEvents:{defaultValue:!0},_buttonPressedData:void 0,_devicePressedHandler:void 0,_deviceReleasedHandler:void 0,_deviceManager:void 0}),e.events(["pressed","released"]),e.methods({addDevice:function(e){this._deviceManager.devices.add(e)},removeDevice:function(e){this._deviceManager.devices.remove(e)},_disposeCore:function(){this._deviceManager.dispose();var e=this;t.forEach(function(t){++e._buttonPressedData[t].version}),this._deviceManager=void 0,this._buttonPressedData=void 0,this._devicePressedHandler=void 0,this._deviceReleasedHandler=void 0,r._disposeCore.apply(this,arguments)},_onDeviceAdded:function(e){e.pressed.on(this._devicePressedHandler),e.released.on(this._deviceReleasedHandler)},_onDeviceRemoved:function(e){e.pressed.off(this._devicePressedHandler),e.released.off(this._deviceReleasedHandler),t.forEach(function(t){var i=this._buttonPressedData[t];i.count-=e.buttonPressedCounts[t],0===i.count&&++i.version},this)},_onDevicePressed:function(e,t){if(!1!==this.enableNativeInputEvents||!1!==t){var i=e.button,n=this._buttonPressedData[i];1===++n.count&&(this._lastButtonStillPressed=i,++this._buttonPressedCount,n.pressedAtTimeInMs=o.singleton.now(),e.pressedDuration=0,this._onPressed(e),this._startRepeating(e,n))}},_onDeviceReleased:function(e,t){if(!1!==this.enableNativeInputEvents||!1!==t){var i=e.button,n=this._buttonPressedData[i];if(n.count>0){0===--n.count&&(this._lastButtonStillPressed===i&&(this._lastButtonStillPressed=void 0),
++n.version,this._onReleased(e))}}},_startRepeating:function(e,t){var i=n.singleton,o=t.version,r=this,a=function(n){if(t.version===o){var s=(n-t.pressedAtTimeInMs)/1e3;s>0&&r._onPressed({button:e.button,device:e.device,pressedDuration:s}),i.postCallback(a)}};i.postCallback(a)}})})})}(),function(){"use strict";define("platform/dependent/input/IPointerDevice",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.input.IPointerDevice",t,function(){e.events(["down","up","move","cancel","doubleTap","leftEdgeSwipe"])})})}(),function(){"use strict";define("platform/dependent/input/PointerDeviceBase",["core/oop","platform/dependent/input/IPointerDevice","core/Disposable","lib/lodash/objects/forIn","platform/dependent/graphics/Viewport"],function(e,t,i,n,o){return e.classDef("platform.dependent.input.PointerDeviceBase",[i,t],function(t){e.constructor(function(){this._initEventListenerMap(),this._addEventListeners(),this._created()}),e.properties({_eventListenerMap:void 0}),e.events(["down","up","move","cancel","doubleTap","leftEdgeSwipe"]),e.methods({_disposeCore:function(){this._disposeEventListeners(),t._disposeCore.apply(this,arguments)},_getEventArgs:function(e){var t=o.singleton;return{id:1,position:{x:e.pageX-t.scrollOffsetX,y:e.pageY-t.scrollOffsetY},device:this}},_onMouseDown:function(e){0===e.button&&this._onDown(this._getEventArgs(e),!1)},_onMouseUp:function(e){0===e.button&&this._onUp(this._getEventArgs(e),!1)},_onMouseMove:function(e){0===e.button&&this._onMove(this._getEventArgs(e),!1)},_initEventListenerMap:function(){var e=this;this._eventListenerMap={},this._eventListenerMap.mousedown=function(){return e._onMouseDown.apply(e,arguments),!1},this._eventListenerMap.mouseup=function(){return e._onMouseUp.apply(e,arguments),!1},this._eventListenerMap.mousemove=function(){return e._onMouseMove.apply(e,arguments),!1}},_addEventListeners:function(){n(this._eventListenerMap,function(e,t){window.addEventListener(t,e)})},_disposeEventListeners:function(){n(this._eventListenerMap,function(e,t){window.removeEventListener(t,e)})}})})})}(),function(){"use strict";define("platform/dependent/input/PointerDevice",["core/oop","platform/dependent/input/PointerDeviceBase"],function(e,t){var i=e.classDef("platform.dependent.input.PointerDevice",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.staticScope(function(){e.methods({isModifiedEvent:function(e){return!0===e.ctrlKey||!0===e.metaKey||!0===e.shiftKey||!0===e.altKey}})}),e.methods({_initEventListenerMap:function(){t._initEventListenerMap.apply(this,arguments);var e=this;this._eventListenerMap.drag=function(){return e._onMouseDrag.apply(e,arguments),!1}},_onMouseDown:function(e){0===e.button&&!1===i.isModifiedEvent(e)&&t._onMouseDown.apply(this,arguments)},_onMouseUp:function(e){0===e.button&&!1===i.isModifiedEvent(e)&&t._onMouseUp.apply(this,arguments)},_onMouseDrag:function(e){0===e.button&&this._onCancel(this._getEventArgs(e),!1)}})});return i})}(),function(){"use strict";define("platform/dependent/input/IPointerDeviceManager",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.input.IPointerDeviceManager",t,function(){e.collection("devices")})})}(),function(){"use strict";define("platform/dependent/input/PointerDeviceManager",["core/oop","platform/dependent/input/PointerDevice","platform/dependent/input/IPointerDeviceManager","core/Disposable"],function(e,t,i,n){return e.classDef("platform.dependent.input.PointerDeviceManager",[n,i],function(i){e.constructor(function(){this.devices.add(t.new()),this._created()}),e.collection("devices"),e.methods({_disposeCore:function(){for(var e=this.devices.length-1;e>=0;e--){this.devices.getAt(e).dispose()}i._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("platform/input/PointerProvider",["core/oop","platform/dependent/input/PointerDeviceManager","core/Disposable"],function(e,t,i){return e.classDef("platform.input.PointerProvider",i,function(i){e.singleton(function(){this._deviceDownHandler=this._onDeviceDown.bind(this),this._deviceUpHandler=this._onDeviceUp.bind(this),this._deviceMoveHandler=this._onDeviceMove.bind(this),this._deviceCancelHandler=this._onDeviceCancel.bind(this),this._deviceDoubleTapHandler=this._onDeviceDoubleTap.bind(this),this._deviceLeftEdgeSwipeHandler=this._onDeviceLeftEdgeSwipe.bind(this),this._deviceManager=t.new();for(var e=this.deviceManager.devices.length,i=0;i<e;i++){var n=this.deviceManager.devices.getAt(i);this._onDeviceAdded(n)}this._deviceManager.devices.added.on(this._onDeviceAdded.bind(this)),this._deviceManager.devices.removed.on(this._onDeviceRemoved.bind(this)),this._created()}),e.properties({deviceManager:{privateSet:!0},enableNativeInputEvents:{defaultValue:!0},_deviceDownHandler:void 0,_deviceUpHandler:void 0,_deviceMoveHandler:void 0,_deviceCancelHandler:void 0,_deviceDoubleTapHandler:void 0,_deviceLeftEdgeSwipeHandler:void 0}),e.events(["down","up","move","cancel","doubleTap","leftEdgeSwipe"]),e.methods({addDevice:function(e){this._deviceManager.devices.add(e)},removeDevice:function(e){this._deviceManager.devices.remove(e)},_disposeCore:function(){this._deviceManager.dispose(),i._disposeCore.apply(this,arguments)},_onDeviceAdded:function(e){e.down.on(this._deviceDownHandler),e.up.on(this._deviceUpHandler),e.move.on(this._deviceMoveHandler),e.cancel.on(this._deviceCancelHandler),e.doubleTap.on(this._deviceDoubleTapHandler),e.leftEdgeSwipe.on(this._deviceLeftEdgeSwipeHandler)},_onDeviceRemoved:function(e){e.down.off(this._deviceDownHandler),e.up.off(this._deviceUpHandler),e.move.off(this._deviceMoveHandler),e.cancel.off(this._deviceCancelHandler),e.doubleTap.off(this._deviceDoubleTapHandler),e.leftEdgeSwipe.off(this._deviceLeftEdgeSwipeHandler)},_onDeviceDown:function(e,t){!0!==this.enableNativeInputEvents&&!0!==t||this._onDown(e)},_onDeviceUp:function(e,t){!0!==this.enableNativeInputEvents&&!0!==t||this._onUp(e)},_onDeviceMove:function(e,t){!0!==this.enableNativeInputEvents&&!0!==t||this._onMove(e)},_onDeviceCancel:function(e,t){!0!==this.enableNativeInputEvents&&!0!==t||this._onCancel(e)},_onDeviceDoubleTap:function(e,t){!0!==this.enableNativeInputEvents&&!0!==t||this._onDoubleTap(e)},_onDeviceLeftEdgeSwipe:function(e,t){!0!==this.enableNativeInputEvents&&!0!==t||this._onLeftEdgeSwipe(e)}})})})}(),function(){"use strict";define("platform/diagnostics/ButtonLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("platform.diagnostics.ButtonLogEntry",t,function(t){e.initConstructor(function(){this._type="button"}),e.properties({event:void 0,button:void 0,pressedDuration:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.event=this.event,e.button=this.button,e.pressedDuration=this.pressedDuration,e}})})})}(),function(){"use strict";define("platform/diagnostics/PointerLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("platform.diagnostics.PointerLogEntry",t,function(t){e.initConstructor(function(){this._type="pointer"}),e.properties({event:void 0,id:void 0,position:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.event=this.event,e.id=this.id,e.position=this.position,e}})})})}(),function(){"use strict";define("ui/input/InputManager",["core/oop","core/PromiseManager","core/Startup","platform/input/ButtonProvider","platform/input/PointerProvider","core/Lifecycleable","platform/common/Dispatcher","platform/diagnostics/ButtonLogEntry","platform/diagnostics/PointerLogEntry","core/logging/Levels"],function(e,t,i,n,o,r,a,s,l,c){var d=e.classDef("ui.input.InputManager",t,function(t){e.staticScope(function(){e.constructor(function(){this._registerStartupTask()}),e.methods({_registerStartupTask:function(){i.singleton.register("ui.input.InputManager",function(){d.singleton._refreshMediaButtonsInternal()})}})}),e.singleton(function(){var e=this;this._buttonPressedCallback=function(t){e._onButtonPressed(t)},this._buttonReleasedCallback=function(t){e._onButtonReleased(t)},n.singleton.pressed.on(this._buttonPressedCallback),n.singleton.released.on(this._buttonReleasedCallback),this._pointerDownCallback=function(t){e._onPointerDown(t)},this._pointerUpCallback=function(t){e._onPointerUp(t)},this._pointerMoveCallback=function(t){e._onPointerMove(t)},this._pointerCancelCallback=function(t){e._onPointerCancel(t)},this._pointerLeftEdgeSwipeCallback=function(t){e._onPointerLeftEdgeSwipe(t)},o.singleton.down.on(this._pointerDownCallback),o.singleton.up.on(this._pointerUpCallback),o.singleton.move.on(this._pointerMoveCallback),o.singleton.cancel.on(this._pointerCancelCallback),o.singleton.leftEdgeSwipe.on(this._pointerLeftEdgeSwipeCallback),this._onFocusChangedCallback=function(){e._handleFocusChanged.apply(e,arguments)},t.$ctor.call(this)}),e.collection("scopes",function(e,t){if(e.owner.lifecycleState!==r.LifecycleStates.ACTIVATED)throw new Error("Managed input scopes must be owned by an active view.");t===this.scopes.length-1&&(this.currentScope=e)},function(e,t){var i=this.scopes.length;t===i&&(this.currentScope=i>0?this.scopes.getAt(i-1):void 0)}),e.properties({currentScope:{onChange:function(e,t){var i;void 0!==t&&(i=t.focusView,t._isCurrentScope=!1,t.focusChanged.off(this._onFocusChangedCallback));var n;void 0!==e&&(n=e.focusView,e._isCurrentScope=!0,e.focusChanged.on(this._onFocusChangedCallback)),this._handleFocusChanged(n,i)}},enableInputLogging:{defaultValue:!1},_buttonPressedCallback:void 0,_buttonReleasedCallback:void 0,_pointerDownCallback:void 0,_pointerUpCallback:void 0,_pointerMoveCallback:void 0,_pointerCancelCallback:void 0,_pointerLeftEdgeSwipeCallback:void 0,_onFocusChangedCallback:void 0,_refreshMediaButtonsQueued:{defaultValue:!0}}),e.events(["focusChanged"]),e.methods({refreshMediaButtons:function(){if(!1===this._refreshMediaButtonsQueued){this._refreshMediaButtonsQueued=!0;var e=this;this.runUntilDisposed("refreshMediaButtons",function(){return a.singleton.queue().then(function(){e._refreshMediaButtonsInternal()})})}},_refreshMediaButtonsInternal:function(){var e=this.currentScope,t=void 0!==e?e.focusView:void 0,i={};void 0!==t&&t.visitUp(function(e){e.invokeHandlers.forEach(function(e){void 0!==e.button&&(i[e.button]=!0)})}),n.singleton.deviceManager.enableMediaButtons(i),this._refreshMediaButtonsQueued=!1},_disposeCore:function(){n.singleton.pressed.off(this._buttonPressedCallback),n.singleton.released.off(this._buttonReleasedCallback),o.singleton.down.off(this._pointerDownCallback),o.singleton.up.off(this._pointerUpCallback),o.singleton.move.off(this._pointerMoveCallback),o.singleton.cancel.off(this._pointerCancelCallback),o.singleton.leftEdgeSwipe.off(this._pointerLeftEdgeSwipeCallback),t._disposeCore.apply(this,arguments)},_onButtonPressed:function(e){this._logButtonEvent("pressed",e);var t=this.currentScope;void 0!==t&&t._onButtonPressed(e)},_onButtonReleased:function(e){this._logButtonEvent("released",e);var t=this.currentScope;void 0!==t&&t._onButtonReleased(e)},_onPointerDown:function(e){this._logPointerEvent("down",e);var t=this.currentScope;void 0!==t&&t._onPointerDown(e)},_onPointerUp:function(e){this._logPointerEvent("up",e);var t=this.currentScope;void 0!==t&&t._onPointerUp(e)},_onPointerMove:function(e){this._logPointerEvent("move",e);var t=this.currentScope;void 0!==t&&t._onPointerMove(e)},_onPointerCancel:function(e){this._logPointerEvent("cancel",e);var t=this.currentScope;void 0!==t&&t._onPointerCancel(e)},_onPointerLeftEdgeSwipe:function(e){this._logPointerEvent("leftEdgeSwipe",e);var t=this.currentScope;void 0!==t&&t._onPointerLeftEdgeSwipe(e)},_logButtonEvent:function(e,t){this.enableInputLogging&&(t.pressedDuration>0&&"pressed"===e&&(e="repeated"),s.new({event:e,button:t.button,pressedDuration:t.pressedDuration||0,area:"platform.input",verbosity:c.DIAG}).log())},_logPointerEvent:function(e,t){this.enableInputLogging&&l.new({event:e,id:t.id,position:t.position,area:"platform.input",verbosity:c.DIAG}).log()},_handleFocusChanged:function(){this.refreshMediaButtons(),this._onFocusChanged.apply(this,arguments)}})});return d})}(),function(){"use strict";define("ui/ViewStates",["core/oop"],function(e){return e.flagsDef("ui.ViewStates",["NORMAL","FOCUSED","HOVERED","SELECTED","PRESSED","DISABLED"])})}(),define("lib/lodash/internals/baseIndexOf",[],function(){function e(e,t,i){for(var n=(i||0)-1,o=e?e.length:0;++n<o;)if(e[n]===t)return n;return-1}return e}),define("lib/lodash/collections/contains",["../internals/baseEach","../internals/baseIndexOf","../objects/isArray","../objects/isString"],function(e,t,i,n){function o(o,a,s){var l=-1,c=t,d=o?o.length:0,u=!1;return s=(s<0?r(0,d+s):s)||0,i(o)?u=c(o,a,s)>-1:"number"==typeof d?u=(n(o)?o.indexOf(a,s):c(o,a,s))>-1:e(o,function(e){if(++l>=s)return!(u=e===a)}),u}var r=Math.max;return o}),function(){"use strict";define("platform/common/StorageScope",["core/oop"],function(e){return e.enumDef("platform.common.StorageScope",["PERSISTENT","SESSION"])})}(),function(){"use strict";define("platform/dependent/IStorage",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IStorage",void 0,function(){e.singleton(),e.methods({read:void 0,write:void 0,remove:void 0,readSync:void 0,writeSync:void 0,removeSync:void 0})})})}(),function(e){"use strict";define("platform/dependent/Storage",["core/oop","lib/Promise","platform/common/StorageScope","platform/dependent/IStorage"],function(t,i,n,o){var r=t.classDef("platform.dependent.Storage",[Object,o],function(){t.staticScope(function(){t.methods({_testForLocalStorageException:function(){var t="uCgI2raDsb";e.localStorage[t]=55,e.localStorage.removeItem(t)},_makeMemoryOnlyLocalStorage:function(){return{removeItem:function(e){delete this[e]}}}})}),t.singleton(function(){this._storage={};try{r._testForLocalStorageException(),this._storage[n.PERSISTENT]=e.localStorage,this._storage[n.SESSION]=e.sessionStorage}catch(e){this._storage[n.PERSISTENT]=r._makeMemoryOnlyLocalStorage(),this._storage[n.SESSION]=r._makeMemoryOnlyLocalStorage()}}),t.properties({_storage:void 0}),t.methods({read:function(e,t){return i.fulfilled(this.readSync(e,t))},write:function(e,t,n){return this.writeSync(e,t,n),i.fulfilled()},remove:function(e,t){return this.removeSync(e,t),i.fulfilled()},readSync:function(e,t){return t=t||n.PERSISTENT,this._storage[t][e]},writeSync:function(e,t,i){i=i||n.PERSISTENT,this._storage[i][e]=t},removeSync:function(e,t){t=t||n.PERSISTENT,this._storage[t].removeItem(e)}})});return r})}(this),function(){"use strict";define("application/ClientDevice",["core/oop","core/logging/Levels","core/Startup","platform/dependent/Storage","platform/dependent/Process","core/uuid","lib/Promise","core/Exception","engine/dependent/Time"],function(e,t,i,n,o,r,a,s,l){var c=e.enumDef("application.ClientDevice.Ids",{XBOXONE:"xb1",FIRETV:"firetv",FIRETVSTICK:"firetv Stick",HILTONTV:"hiltontv",ANDROIDTV:"androidtv",ANDROID:"android",ANDROIDTABLET:"androidtablet",DESKTOP:"desktop",APPLETV:"appletv",IOS:"ios",IPAD:"ipad",PS4:"ps4",UWP:"uwp",TIZEN:"tizen",TEST:"test_deviceId"}),d=e.enumDef("application.ClientDevice.PerformanceLevels",["LOW","MEDIUM","HIGH"]),u=e.enumDef("application.ClientDevice.VideoEncodes",{PRIMETIME:"X264|HLS|PRM",FAIRPLAY:"X264|HLS|FPS"}),p=e.classDef("application.ClientDevice",Object,function(){e.staticScope(function(){e.constructor(function(){this._registerStartupTask()}),e.properties({Ids:{readOnlyField:!0,defaultValue:c},PerformanceLevels:{readOnlyField:!0,defaultValue:d},VideoEncodes:{readOnlyField:!0,defaultValue:u},LAUNCH_COUNT_KEY:{defaultValue:"application.ClientDevice.singleton.launchCount",readOnlyField:!0},FIRST_LAUNCH_TIMESTAMP:{defaultValue:"application.ClientDevice.singleton.firstLaunchTimestamp",readOnlyField:!0},SERIAL_STORAGE_KEY:{defaultValue:"application.ClientDevice.singleton.serial",readOnlyField:!0},PLAYER_LANGUAGE_STORAGE_KEY:{defaultValue:"application.ClientDevice.playerLanguage",readOnlyField:!0},WIFI_ONLY_PLAYBACK_STORAGE_KEY:{defaultValue:"application.ClientDevice.wifiOnlyPlayback",readOnlyField:!0},CELLULAR_PLAYBACK_WARNING_STORAGE_KEY:{defaultValue:"application.ClientDevice.cellularPlaybackWarning",readOnlyField:!0},PERSISTED_VOLUME_STORAGE_KEY:{defaultValue:"application.ClientDevice.persistedVolume",readOnlyField:!0}}),e.methods({_registerStartupTask:function(){var e=this;i.singleton.register("application.ClientDevice",function(){return e._getDeviceSerial().then(function(t){p.singleton.serial=t,p.singleton._wifiOnlyPlayback="on"===n.singleton.readSync(e.WIFI_ONLY_PLAYBACK_STORAGE_KEY),p.singleton._cellularPlaybackWarning="on"===n.singleton.readSync(e.CELLULAR_PLAYBACK_WARNING_STORAGE_KEY);var i=n.singleton.readSync(e.PERSISTED_VOLUME_STORAGE_KEY);return p.singleton._persistedVolume=void 0!==i?parseFloat(i):1,n.singleton.read(e.PLAYER_LANGUAGE_STORAGE_KEY)}).then(function(t){var i=t;p.singleton._playerLanguageCode=void 0===i||"es-US"!==i&&"en-US"!==i?p.singleton.defaultPlayerLanguageCode:i,p.singleton.launchCount=e._increaseLaunchCount(),p.singleton.firstLaunchTimestamp=parseInt(n.singleton.readSync(e.FIRST_LAUNCH_TIMESTAMP),10)}).catch(function(e){s.wrap(e,{message:"Failed to load player language from storage.",level:t.WARNING,area:"application.ClientDevice._registerStartupTask"}).logTelemetry(),p.singleton._playerLanguageCode=p.singleton.defaultPlayerLanguageCode})})},_increaseLaunchCount:function(){var e=this,t=n.singleton.readSync(this.LAUNCH_COUNT_KEY),i=parseInt(t,10);if(isNaN(i)){i=0;var o=Math.round(l.singleton.now()).toString();n.singleton.writeSync(e.FIRST_LAUNCH_TIMESTAMP,o)}return i++,n.singleton.writeSync(e.LAUNCH_COUNT_KEY,i.toString()),i},_generateDeviceSerial:function(){var e=r.create();return n.singleton.write(this.SERIAL_STORAGE_KEY,e).then(function(){return a.fulfilled(e)})},_getDeviceSerial:function(){if(void 0===p.singleton.serial){var e=this;return n.singleton.read(this.SERIAL_STORAGE_KEY).then(function(t){return void 0===t?e._generateDeviceSerial():a.fulfilled(t)})}return a.fulfilled(p.singleton.serial)}})}),e.singleton(function(){this.assetCollectionCacheMS=3e5,this.defaultPlaybackMarkerUpdateIntervalMS=1e4,this.playbackMarkerUpdateIntervalMS=this.defaultPlaybackMarkerUpdateIntervalMS,this.userInformationCacheMS=3e5,this.supportedVideoEncodes=[]}),e.properties({id:void 0,performanceLevel:{defaultValue:d.HIGH},code:void 0,videoCodeOverride:void 0,analyticsName:void 0,fullAnalyticsName:void 0,platform:void 0,locale:void 0,localeHyphenated:void 0,LOCALE_OVERRIDE_STORAGE_KEY:{defaultValue:"application.ClientDevice.localeOverride",readOnlyField:!0},defaultPlaybackMarkerUpdateIntervalMS:void 0,playbackMarkerUpdateIntervalMS:void 0,assetCollectionCacheMS:void 0,userInformationCacheMS:void 0,trickPlayImageInterval:void 0,defaultPlayerLanguageCode:void 0,playerLanguageCode:{get:function(){return this._playerLanguageCode||this.defaultPlayerLanguageCode},set:function(e){var t=this.playerLanguageCode;e!==t&&(this._playerLanguageCode=e,n.singleton.write(p.PLAYER_LANGUAGE_STORAGE_KEY,e),this._onPlayerLanguageCodeChanged(e,t))}},_playerLanguageCode:void 0,serial:void 0,launchCount:void 0,firstLaunchTimestamp:void 0,supportedVideoEncodes:void 0,supportsUniqueDeviceSerial:{defaultValue:!1},hasSimpleController:{defaultValue:!1},hasNativeTransportControls:{defaultValue:!1},hasNativeFocusManager:{defaultValue:!1},hasNativeScrollAnimationThrottling:{defaultValue:!1},imagesHaveBakedInProtection:{defaultValue:!1},supportsManipulation:{defaultValue:!0},supportsFillMode:{defaultValue:!1},hasParentalControls:{defaultValue:!1},includeClosedCaptioningSettingsMenuEntry:{defaultValue:!1},persistClosedCaptioningSettings:{defaultValue:!0},model:void 0,manufacturer:void 0,brand:void 0,osVersion:void 0,hasHoverState:{defaultValue:!0},ccSizeAdjustmentFactor:{defaultValue:1},wifiOnlyPlayback:{onChange:function(e){n.singleton.writeSync(p.WIFI_ONLY_PLAYBACK_STORAGE_KEY,!0===e?"on":"off")}},cellularPlaybackWarning:{onChange:function(e){n.singleton.writeSync(p.CELLULAR_PLAYBACK_WARNING_STORAGE_KEY,!0===e?"on":"off")}},persistedVolume:{onChange:function(e){n.singleton.writeSync(p.PERSISTED_VOLUME_STORAGE_KEY,e.toString())}},isPhone:{defaultValue:!1},enableLiveSeeking:{defaultValue:!1},dismissControlsDurationMS:void 0,updateFocusOnPointerDown:{defaultValue:!1}}),e.events(["playerLanguageCodeChanged"]),e.methods({performanceDependentValue:function(e){switch(p.singleton.performanceLevel){case p.PerformanceLevels.LOW:return e.low;case p.PerformanceLevels.MEDIUM:return e.hasOwnProperty("medium")?e.medium:e.low;case p.PerformanceLevels.HIGH:return e.hasOwnProperty("high")?e.high:e.hasOwnProperty("medium")?e.medium:e.low}},configureWithLocale:function(e){void 0!==e&&n.singleton.writeSync(this.LOCALE_OVERRIDE_STORAGE_KEY,e.toLowerCase());var t=o.singleton.platformLocale,i=n.singleton.readSync(this.LOCALE_OVERRIDE_STORAGE_KEY);i&&(t=i),this.locale=function(e){var t=e.split("-");return t.length>1?t[0].toLowerCase()+"_"+t[1].toUpperCase():t[0].toLowerCase()}(t),this.localeHyphenated=t.toLowerCase(),0===this.localeHyphenated.indexOf("es")?this.defaultPlayerLanguageCode="es-US":this.defaultPlayerLanguageCode="en-US"}})});return p})}(),function(){"use strict";define("ui/input/InputScope",["core/oop","ui/ViewStates","core/logging/Counters","core/Lifecycleable","lib/lodash/collections/contains","lib/lodash/objects/values","platform/input/Buttons","platform/dependent/graphics/Viewport","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l){return e.classDef("ui.input.InputScope",Object,function(){e.constructor(function(e){this._owner=e,this.focusView=e,this._pointerCaptureMap={}}),e.properties({owner:{privateSet:!0},nativeFocusForwardingEnabled:{defaultValue:!0},isCurrentScope:{privateSet:!0,defaultValue:!1,onChange:function(e){this.focusView.setViewStateFlag(t.FOCUSED,e),!0===e&&this._forwardNativeFocus();var i=this.hoverView;void 0!==i&&!0===l.singleton.hasHoverState&&i.setViewStateFlag(t.HOVERED,e)}},focusView:{onChange:function(e,i){this._pressedByInvoke=void 0,!0===this._isCurrentScope&&(e.setViewStateFlag(t.FOCUSED,!0),this._forwardNativeFocus()),void 0!==i&&i.setViewStateFlag(t.FOCUSED|t.PRESSED,!1),this._onFocusChanged(e,i)}},hoverView:{defaultValue:void 0,onChange:function(e,i){!1!==l.singleton.hasHoverState&&(void 0!==e&&!0===this._isCurrentScope&&e.setViewStateFlag(t.HOVERED,!0),void 0!==i&&i.setViewStateFlag(t.HOVERED,!1))}},_pointerCaptureMap:{defaultValue:void 0},_pressedByInvoke:{defaultValue:void 0}}),e.events(["focusChanged","invokeHandlerChanged"]),e.methods({resetFocus:function(){this.focusView=this.owner},notifyInvokeHandlerChanged:function(){this._onInvokeHandlerChanged()},getViewWithPointerCapture:function(e){return this._pointerCaptureMap[e]},bubbleInvoked:function(e){this._bubbleEvent(this._owner,"preinvoked",this._makeInvokedArgs(e),!1,!1,!1),this._bubbleEvent(this._owner,"invoked",this._makeInvokedArgs(e),!1,!1,!0)},_makeInvokedArgs:function(e){return{target:e.target,data:e.data,handled:!1}},_onButtonPressed:function(e){var t=this.focusView,i=this._makeButtonArgs(e);this._bubbleEvent(this._owner,"buttonPressed",i,!1,!1,!0),e.button!==a.OK||void 0!==e.pressedDuration&&0!==e.pressedDuration||(this._pressedByInvoke=this.focusView,this._resetPressedState(this.focusView)),!0!==l.singleton.hasNativeFocusManager||t!==this.focusView||!1!==i.handled||void 0===this.focusView||e.button!==a.UP&&e.button!==a.DOWN&&e.button!==a.LEFT&&e.button!==a.RIGHT||this._forwardNativeFocus()},_onButtonReleased:function(e){e.button===a.OK&&(this._pressedByInvoke=void 0,this._resetPressedState(this.focusView)),this._bubbleEvent(this._owner,"buttonReleased",this._makeButtonArgs(e),!1,!1,!0)},_onPointerDown:function(e){this._processPointerEvent(e,"pointerDown")},_onPointerUp:function(e){this._processPointerEvent(e,"pointerUp")},_onPointerMove:function(e){this._processPointerEvent(e,"pointerMove")},_onPointerCancel:function(e){this._processPointerEvent(e,"pointerCancel")},_onPointerLeftEdgeSwipe:function(e){this._processPointerEvent(e,"pointerLeftEdgeSwipe")},_processPointerEvent:function(e,t){var i,o=!1,r=e.id,a="pointerCancel"===t,s="pointerUp"===t,l="pointerLeftEdgeSwipe"===t,c=s||a;!0!==l&&(i=this.getViewWithPointerCapture(r),void 0!==i?o=!0:i=this._owner.hitTestPoint(e.position)),this.hoverView=!1===a?i:void 0,i=i||this._owner,!0===c&&this._setPointerCaptureForId(r,void 0);var d=!1;if(i.lifecycleState===n.LifecycleStates.ACTIVATED&&(d=this._bubbleEvent(this._owner,t,this._makePointerArgs(i,e),!c,o,!0)),!0===o&&(!0===d||!0===c)){var u={id:r,target:i,inputScope:this};this._bubbleEvent(this._owner,"pointerCaptureLost",u,!1,o,!0)}},_makeButtonArgs:function(e){var t={button:e.button,device:e.device,target:this.focusView,handled:!1};return void 0!==e.pressedDuration&&(t.pressedDuration=e.pressedDuration),t},_makePointerArgs:function(e,t){return{id:t.id,position:t.position,device:t.device,target:e,handled:!1,pointerCapture:!1,inputScope:this}},_bubbleEvent:function(e,t,i,n,o,r){var a=!1,s=this,l=i.id;return i.target.visitUp(function(c){if(c.handleInput(t,i),!0===i.pointerCapture){if(i.pointerCapture=!1,!1===n)throw new Error(t+" cannot be used to pointer capture.");!1!==o&&i.target===c||(s._setPointerCaptureForId(l,c),a=!0)}return!0===i.handled&&!0===r||c===e}),a},_setPointerCaptureForId:function(e,t){var n=this.getViewWithPointerCapture(e);void 0!==n&&(delete this._pointerCaptureMap[e],this._resetPressedState(n),i.singleton.decrementCounter("InputScope.pointerCaptureCount")),void 0!==t&&(this._pointerCaptureMap[e]=t,this._resetPressedState(t),i.singleton.incrementCounter("InputScope.pointerCaptureCount"))},_resetPressedState:function(e){var i=o(r(this._pointerCaptureMap),e),n=this._pressedByInvoke===e;e.setViewStateFlag(t.PRESSED,i||n)},_forwardNativeFocus:function(){!0!==this.nativeFocusForwardingEnabled||!0!==this.focusView.isFocusTarget&&this.focusView.nativeFocusTarget!==s.singleton||s.singleton.nativeFocus(this.focusView.nativeFocusTarget)}})})})}(),define("lib/lodash/internals/shimIsPlainObject",["../objects/forIn","../objects/isArguments","../objects/isFunction","./isNode","../support"],function(e,t,i,n,o){function r(r){var s,d;return!(!(r&&c.call(r)==a&&(s=r.constructor,!i(s)||s instanceof s))||!o.argsClass&&t(r)||!o.nodeClass&&n(r))&&(o.ownLast?(e(r,function(e,t,i){return d=l.call(i,t),!1}),!1!==d):(e(r,function(e,t){d=t}),void 0===d||l.call(r,d)))}var a="[object Object]",s=Object.prototype,l=s.hasOwnProperty,c=s.toString;return r}),define("lib/lodash/objects/isPlainObject",["./isArguments","../internals/reNative","../internals/shimIsPlainObject","../support"],function(e,t,i,n){var o=Object.prototype,r=t.test(r=Object.getPrototypeOf)&&r,a=o.toString;return r?function(t){if(!t||"[object Object]"!=a.call(t)||!n.argsClass&&e(t))return!1;var o=t.valueOf,s="function"==typeof o&&(s=r(o))&&r(s);return s?t==s||r(t)==s:i(t)}:i}),define("lib/lodash/internals/baseMerge",["../collections/forEach","../objects/forOwn","../objects/isArray","../objects/isPlainObject"],function(e,t,i,n){function o(r,a,s,l,c){(i(a)?e:t)(a,function(e,t){var a,d,u=e,p=r[t];if(e&&((d=i(e))||n(e))){for(var h=l.length;h--;)if(a=l[h]==e){p=c[h];break}if(!a){var g;s&&(u=s(p,e),(g=void 0!==u)&&(p=u)),g||(p=d?i(p)?p:[]:n(p)?p:{}),l.push(e),c.push(p),g||o(p,e,s,l,c)}}else s&&void 0===(u=s(p,e))&&(u=e),void 0!==u&&(p=u);r[t]=p})}return o}),define("lib/lodash/objects/merge",["../internals/baseCreateCallback","../internals/baseMerge","../internals/getArray","./isObject","../internals/releaseArray"],function(e,t,i,n,o){function r(r){var a=arguments,l=2;if(!n(r))return r;if("number"!=typeof a[2]&&(l=a.length),l>3&&"function"==typeof a[l-2])var c=e(a[--l-1],a[l--],2);else l>2&&"function"==typeof a[l-1]&&(c=a[--l]);for(var d=s.call(arguments,1,l),u=-1,p=i(),h=i();++u<l;)t(r,d[u],c,p,h);return o(p),o(h),r}var a=[],s=a.slice;return r}),define("lib/lodash/internals/compareAscending",[],function(){function e(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return e.index-t.index}return e}),define("lib/lodash/internals/objectPool",[],function(){return[]}),define("lib/lodash/internals/getObject",["./objectPool"],function(e){function t(){return e.pop()||{array:null,cache:null,criteria:null,false:!1,index:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,value:null}}return t}),define("lib/lodash/internals/releaseObject",["./maxPoolSize","./objectPool"],function(e,t){function i(n){var o=n.cache;o&&i(o),n.array=n.cache=n.criteria=n.object=n.number=n.string=n.value=null,t.length<e&&t.push(n)}return i}),define("lib/lodash/collections/sortBy",["../internals/compareAscending","../functions/createCallback","./forEach","../internals/getObject","../internals/releaseObject"],function(e,t,i,n,o){function r(r,a,s){var l=-1,c=r?r.length:0,d=Array("number"==typeof c?c:0);for(a=t(a,s,3),i(r,function(e,t,i){var o=d[++l]=n();o.criteria=a(e,t,i),o.index=l,o.value=e}),c=d.length,d.sort(e);c--;){var u=d[c];d[c]=u.value,o(u)}return d}return r}),function(){"use strict";define("ui/ITargetableHighlight",["core/oop"],function(e){return e.interfaceDef("ui.ITargetableHighlight",void 0,function(){e.methods({setHighlightTarget:void 0})})})}(),function(){"use strict";define("ui/Presence",["core/oop"],function(e){return e.enumDef("ui.Presence",["DISCONNECTED","CONNECTED","ENTERING","EXITING"])})}(),function(){"use strict";define("ui/DirectionalBooleans",["core/oop","core/Debug"],function(e,t){return e.classDef("ui.DirectionalBooleans",Object,function(){e.constructor(function(e){e=e||{},this._left=e.left||!1,this._top=e.top||!1,this._right=e.right||!1,this._bottom=e.bottom||!1,this._isImmutable=e.isImmutable||!1}),e.events(["valuesUpdated"]),e.properties({left:{get:function(){return this._left},set:function(e){this._isImmutable,e!==this._left&&(this._left=e,this._raiseValuesUpdated())}},top:{get:function(){return this._top},set:function(e){this._isImmutable,e!==this._top&&(this._top=e,this._raiseValuesUpdated())}},right:{get:function(){return this._right},set:function(e){this._isImmutable,e!==this._right&&(this._right=e,this._raiseValuesUpdated())}},bottom:{get:function(){return this._bottom},set:function(e){this._isImmutable,e!==this._bottom&&(this._bottom=e,this._raiseValuesUpdated())}},_isImmutable:void 0,_left:void 0,_top:void 0,_right:void 0,_bottom:void 0}),e.methods({equals:function(e){return void 0!==e&&this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom},toJSON:function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},_raiseValuesUpdated:function(){this._onValuesUpdated()}})})})}(),function(){"use strict";define("ui/DirectionalNumbers",["core/oop","core/Debug"],function(e,t){return e.classDef("ui.DirectionalNumbers",Object,function(){e.constructor(function(e){e=e||{},this._left=e.left||0,this._top=e.top||0,this._right=e.right||0,this._bottom=e.bottom||0,this._isImmutable=e.isImmutable||!1}),e.events(["valuesUpdated"]),e.properties({left:{get:function(){return this._left},set:function(e){this._isImmutable,e!==this._left&&(this._left=e,this._raiseValuesUpdated())}},top:{get:function(){return this._top},set:function(e){this._isImmutable,e!==this._top&&(this._top=e,this._raiseValuesUpdated())}},right:{get:function(){return this._right},set:function(e){this._isImmutable,e!==this._right&&(this._right=e,this._raiseValuesUpdated())}},bottom:{get:function(){return this._bottom},set:function(e){this._isImmutable,e!==this._bottom&&(this._bottom=e,this._raiseValuesUpdated())}},_isImmutable:void 0,_left:void 0,_top:void 0,_right:void 0,_bottom:void 0}),e.methods({equals:function(e){return void 0!==e&&this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom},toJSON:function(){return{left:this.left,top:this.top,right:this.right,bottom:this.bottom}},_raiseValuesUpdated:function(){this._onValuesUpdated()}})})})}();!function(){"use strict"
;define("ui/LayoutProps",["core/oop","core/Debug","ui/DirectionalBooleans","ui/DirectionalNumbers"],function(e,t,i,n){return e.classDef("ui.LayoutProps",Object,function(){e.constructor(function(){for(var e={},t=0;t<arguments.length;t++)e=this._merge(e,arguments[t]);this.minWidth=e.minWidth||0,this.minHeight=e.minHeight||0,this.maxWidth=e.maxWidth,this.maxHeight=e.maxHeight,this.flexAlignment=e.flexAlignment,this.flexWeight=e.flexWeight,void 0!==e.margin&&(this._margin=n.new(e.margin),this._margin.valuesUpdated.on(this._raiseParentLayoutNeeded.bind(this))),void 0!==e.padding&&(this._padding=n.new(e.padding),this._padding.valuesUpdated.on(this._raiseSelfLayoutNeeded.bind(this))),void 0!==e.anchor&&(this._anchor=i.new(e.anchor),this._anchor.valuesUpdated.on(this._validateCropAndRaiseParentLayoutNeeded.bind(this))),void 0!==e.crop&&(this._crop=i.new(e.crop),this._crop.valuesUpdated.on(this._validateCropAndRaiseParentLayoutNeeded.bind(this))),this._validateCrop()}),e.events(["selfLayoutNeeded","parentLayoutNeeded"]),e.properties({minWidth:{get:function(){return this._minWidth},set:function(e){e!==this._minWidth&&(void 0===this._maxWidth||this._maxWidth,this._minWidth=e,this._raiseParentLayoutNeeded())}},minHeight:{get:function(){return this._minHeight},set:function(e){e!==this._minHeight&&(void 0===this._maxHeight||this._maxHeight,this._minHeight=e,this._raiseParentLayoutNeeded())}},maxWidth:{get:function(){return this._maxWidth},set:function(e){e!==this._maxWidth&&(void 0===e||this._minWidth,this._maxWidth=e,this._raiseParentLayoutNeeded())}},maxHeight:{get:function(){return this._maxHeight},set:function(e){e!==this._maxHeight&&(void 0===e||this._minHeight,this._maxHeight=e,this._raiseParentLayoutNeeded())}},margin:{get:function(){return this._margin},set:function(e){this._margin!==e&&(void 0!==this._margin&&this._margin.valuesUpdated.off(this._raiseParentLayoutNeeded.bind(this)),void 0!==e?(this._margin=n.new(e),this._margin.valuesUpdated.on(this._raiseParentLayoutNeeded.bind(this))):this._margin=void 0,this._raiseParentLayoutNeeded())}},padding:{get:function(){return this._padding},set:function(e){this._padding!==e&&(void 0!==this._padding&&this._padding.valuesUpdated.off(this._raiseSelfLayoutNeeded.bind(this)),void 0!==e?(this._padding=n.new(e),this._padding.valuesUpdated.on(this._raiseSelfLayoutNeeded.bind(this))):this._padding=void 0,this._raiseSelfLayoutNeeded())}},anchor:{get:function(){return this._anchor},set:function(e){this._anchor!==e&&(void 0!==this._anchor&&this._anchor.valuesUpdated.off(this._validateCropAndRaiseParentLayoutNeeded.bind(this)),void 0!==e?(this._anchor=i.new(e),this._anchor.valuesUpdated.on(this._validateCropAndRaiseParentLayoutNeeded.bind(this))):this._anchor=void 0,this._validateCropAndRaiseParentLayoutNeeded())}},crop:{get:function(){return this._crop},set:function(e){this._crop!==e&&(void 0!==this._crop&&this._crop.valuesUpdated.off(this._validateCropAndRaiseParentLayoutNeeded.bind(this)),void 0!==e?(this._crop=i.new(e),this._crop.valuesUpdated.on(this._validateCropAndRaiseParentLayoutNeeded.bind(this))):this._crop=void 0,this._validateCropAndRaiseParentLayoutNeeded())}},flexAlignment:{defaultValue:void 0,onChange:"_raiseSelfLayoutNeeded"},flexWeight:{defaultValue:void 0,onChange:"_raiseParentLayoutNeeded"},_minWidth:{defaultValue:0},_minHeight:{defaultValue:0},_maxWidth:void 0,_maxHeight:void 0,_margin:void 0,_padding:void 0,_anchor:void 0,_crop:void 0}),e.methods({toJSON:function(){return{minWidth:this.minWidth,minHeight:this.minHeight,maxWidth:this.maxWidth,maxHeight:this.maxHeight,flexAlignment:this.flexAlignment,flexWeight:this.flexWeight,margin:this.margin&&this.margin.toJSON(),padding:this.padding&&this.padding.toJSON(),anchor:this.anchor&&this.anchor.toJSON(),crop:this.crop&&this.crop.toJSON()}},_raiseSelfLayoutNeeded:function(){this._onSelfLayoutNeeded()},_raiseParentLayoutNeeded:function(){this._onParentLayoutNeeded()},_validateCrop:function(){void 0===this.crop||!0!==this.crop.left&&!0!==this.crop.top&&!0!==this.crop.right&&!0!==this.crop.bottom||(this.anchor,!1===this.crop.left||this.crop.right,!1===this.crop.top||this.crop.bottom,!1===this.crop.left||this.anchor.left,!1===this.crop.top||this.anchor.top,!1===this.crop.right||this.anchor.right,!1===this.crop.bottom||this.anchor.bottom,this.anchor.left!==this.anchor.right||!1===this.crop.left&&this.crop.right,this.anchor.top!==this.anchor.bottom||!1===this.crop.top&&this.crop.bottom)},_validateCropAndRaiseParentLayoutNeeded:function(){this._validateCrop(),this._raiseParentLayoutNeeded()},_merge:function(e,t){return{anchor:t&&t.anchor||e&&e.anchor,margin:t&&t.margin||e&&e.margin,crop:t&&t.crop||e&&e.crop,padding:t&&t.padding||e&&e.padding,minHeight:void 0!==(t&&t.minHeight)?t.minHeight:e&&e.minHeight,minWidth:void 0!==(t&&t.minWidth)?t.minWidth:e&&e.minWidth,maxHeight:void 0!==(t&&t.maxHeight)?t.maxHeight:e&&e.maxHeight,maxWidth:void 0!==(t&&t.maxWidth)?t.maxWidth:e&&e.maxWidth,flexAlignment:void 0!==(t&&t.flexAlignment)?t.flexAlignment:e&&e.flexAlignment,flexWeight:void 0!==(t&&t.flexWeight)?t.flexWeight:e&&e.flexWeight}}})})})}(),function(){"use strict";define("ui/AfterExitActions",["core/oop"],function(e){return e.enumDef("ui.AfterExitActions",["NONE","HIDE","DEACTIVATE"])})}(),function(){"use strict";define("ui/VisitDownActions",["core/oop"],function(e){return e.enumDef("ui.VisitDownActions",["CONTINUE","HALT","PRUNE"])})}(),function(){"use strict";define("platform/common/AccessibilityTrait",["core/oop"],function(e){return e.enumDef("platform.common.AccessibilityTrait",["BUTTON","RADIO_BUTTON_SELECTED","RADIO_BUTTON_UNSELECTED","HEADING"])})}(),function(){"use strict";define("platform/HttpStatus",["core/oop"],function(e){return e.enumDef("platform.HttpStatus",{NETWORK_ERROR:0,OK:200,CREATED:201,NO_CONTENT:204,NOT_MODIFIED:304,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,REQUEST_TIMEOUT:408,INTERNAL_SERVICE_ERROR:500,SERVICE_UNAVAILABLE:503,TIMEOUT:599})})}(),function(){"use strict";define("platform/NetworkException",["core/oop","core/Exception","platform/HttpStatus"],function(e,t,i){return e.classDef("platform.NetworkException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({uri:void 0,status:void 0,methodName:void 0,response:void 0,headers:void 0}),e.methods({getLogData:function(){var e=t.getLogData.apply(this,arguments);return e.uri=this.uri,e.methodName=this.methodName,e.status=this.status,e},allowsWrapping:function(){return this.status!==i.NETWORK_ERROR&&this.status!==i.TIMEOUT&&t.allowsWrapping.apply(this,arguments)}})})})}(),function(){"use strict";define("dataservices/ServiceException",["core/oop","platform/NetworkException"],function(e,t){return e.classDef("dataservices.ServiceException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({code:void 0,guid:void 0,displayMessage:void 0,shouldDisplayMessage:{defaultValue:!1}}),e.methods({getLogData:function(){var e=t.getLogData.apply(this,arguments);return e.code=this.code,e.traceId=this.guid,e.displayMessage=this.displayMessage,e}})})})}(),function(){"use strict";define("dataservices/ContentUnavailableException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.ContentUnavailableException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("ui/logging/UserInteractionLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("ui.logging.UserInteractionLogEntry",t,function(t){e.initConstructor(function(){this._type="userinteraction",this.contextualData={},this.payload={}}),e.properties({target:void 0,contextualData:void 0,payload:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.target=this.target,e}})})})}(),function(){"use strict";define("design/analytics/UserInteractionTargets",["core/oop"],function(e){return e.enumDef("design.analytics.UserInteractionTargets",{OPEN_BROWSE_MENU:"OPEN_BROWSE_MENU",TOGGLE_BROWSE_MENU:"TOGGLE_BROWSE_MENU",POP_TO_TOP:"POP_TO_TOP",PROFILE:"PROFILE",DEVICE_MANAGEMENT:"DEVICE_MANAGEMENT",NOTIFICATIONS:"NOTIFICATIONS",BILLING_INFO:"BILLING_INFO",PARENTAL_CONTROLS:"PARENTAL_CONTROLS",DIRECT_LOGIN:"DIRECT_LOGIN",LANGUAGE:"LANGUAGE",SIGN_OUT:"SIGN_OUT",PLAYER_SKIP_BACK:"PLAYER_SKIP_BACK",PLAYER_SCRUB_BAR:"PLAYER_SCRUB_BAR",PLAYER_FULLSCREEN:"PLAYER_FULLSCREEN",PLAYER_EXIT_FULLSCREEN:"PLAYER_EXIT_FULLSCREEN",PLAYER_PLAY_BTN:"PLAYER_PLAY_BTN",PLAYER_PAUSE_BTN:"PLAYER_PAUSE_BTN",PLAYER_PLAY_PAUSE_TOGGLE:"PLAYER_PLAY_PAUSE_TOGGLE",PLAYER_CAPTIONS_BTN:"PLAYER_CAPTIONS_BTN",PLAYER_CAPTIONS_DISABLED:"PLAYER_CAPTIONS_DISABLED",PLAYER_CAPTIONS_ENABLED:"PLAYER_CAPTIONS_ENABLED",PLAYER_CAPTIONS_SETTINGS:"PLAYER_CAPTIONS_SETTINGS",PLAYER_VOLUME_BTN:"PLAYER_VOLUME_BTN",PLAYER_CAST_BTN:"PLAYER_CAST_BTN",PARENTAL_CONTROLS_ENABLED:"PARENTAL_CONTROLS_ENABLED",PARENTAL_CONTROLS_UPDATED:"PARENTAL_CONTROLS_UPDATED",PROFILE_REGISTERED:"PROFILE_REGISTERED",PROFILE_NEWSLETTER:"PROFILE_NEWSLETTER",CHROMECAST_PLAYED:"CHROMECAST_PLAYED",CHROMECAST_ENDED:"CHROMECAST_ENDED",HELP_CENTER_LAUNCHED:"HELP_CENTER_LAUNCHED",ASSET_SERIES_SELECTED:"ASSET_SERIES_SELECTED",PIP_POP_OUT:"PIP_POP_OUT",PIP_POP_IN:"PIP_POP_IN",AIRPLAY_START:"AIRPLAY_START",PLAYER_SKIP_FORWARD:"PLAYER_SKIP_FORWARD",INTERACTIVE_ITEM_OPENED:"INTERACTIVE_ITEM_OPENED",INTERACTIVE_ITEM_CLOSED:"INTERACTIVE_ITEM_CLOSED",SOCIAL_OPENED:"SOCIAL_OPENED",CATEGORY_NAV:"CATEGORY_NAV",SUBCATEGORY_NAV:"SUBCATEGORY_NAV",TILE_NAV:"TILE_NAV",TILE_PLAY:"TILE_PLAY",PAYWALL_CTA:"PAYWALL_CTA",PAYWALL_APPSTORE:"PAYWALL_APPSTORE",WATCHLIST:"WATCHLIST",CONTINUE_WATCHING_POPUP:"CONTINUE_WATCHING_POPUP",CONTINUE_WATCHING:"CONTINUE_WATCHING",CONTINUE_WATCHING_ASSET:"CONTINUE_WATCHING_ASSET",LOGIN:"LOGIN",HBO_LOGO:"HBO_LOGO",POPUP_CLOSED:"POPUP_CLOSED",SEARCH:"SEARCH",WATCHFREE:"WATCHFREE",AFFILIATE:"AFFILIATE",INVOKED:"INVOKED",PAGE_COMPONENT:"PAGE_COMPONENT",NONE:"NONE"})})}(),function(){"use strict";define("ui/views/View",["core/oop","core/oop/common/Event","core/Debug","core/IFactoryTarget","core/logging/Levels","ui/UIDeveloperSettings","ui/viewModelProviders/ValueProvider","core/data/ExplicitValueProvider","platform/dependent/graphics/DisplayNode","platform/dependent/graphics/DisplayNodeDebugger","platform/dependent/graphics/Viewport","core/Lifecycleable","core/AsyncManager","ui/input/InputManager","ui/input/InputScope","ui/ReactComponentRegistry","lib/lodash/objects/forOwn","lib/lodash/objects/merge","lib/lodash/collections/sortBy","lib/lodash/collections/forEach","lib/lodash/objects/assign","lib/react","ui/ViewStates","lib/Promise","ui/ViewFactory","ui/TemplateManager","core/Exception","ui/ITargetableHighlight","ui/Presence","ui/LayoutProps","platform/common/AnimatableProperties","platform/common/Animation","ui/AfterExitActions","ui/VisitDownActions","platform/common/Dispatcher","platform/common/Colors","platform/common/AccessibilityTrait","platform/input/Buttons","platform/dependent/Process","core/math/rect","dataservices/ContentUnavailableException","core/uuid","ui/logging/UserInteractionLogEntry","design/analytics/UserInteractionTargets"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A,k,V,M,D,O,N,F,L,B,H,U,$,W){var j=e.classDef("ui.views.View",[p,n],function(i){e.mixin(u),e.initConstructor(function(){i.$ctor.call(this),this._displayProxy=this._createDisplayProxy(),this._readyResolver=C.pending(),this._waitingForRelease={},this._buttonInvokeHandlerMap={},this.id=U.create()},function(){!0===this.flipHorizontal&&(this._displayProxy.scaleX=-1),!0===this.isReadyInit&&(this._readyResolver.promise=C.fulfilled(this)),this._displayProxy.hasNativeFocusWithScope=this.hasNativeFocusWithScope,this._displayProxy.isPointerTarget=this.isPointerTarget,this._displayProxy.isFocusTarget=this.isFocusTarget,this._updateHasHighlightView(),this._displayProxy.setDebugData("viewId",this.disposableId),this._displayProxy.setDebugData("viewType",this.typeName),this._displayProxy.setDebugData("viewFactoryId",this.factoryId),this._displayProxy.setDebugData("viewName",this.name),this._identityData=void 0;var e=this._createReactElement();void 0!==e&&(this.isReadyInit,this._childReactComponentId,this._childReactComponentId=f.singleton.registerRoot(this),this._childReactComponent=b.ReactNative.render(e,this._childReactComponentId))}),e.properties({isTemplateLiteral:{get:function(){return!0}},name:void 0,factoryId:void 0,template:void 0,suppressContentExceptions:{defaultValue:!1},parent:{privateSet:!0,onChange:"_onParentChanged"},registeredOwner:{privateSet:!0},attachedOwner:{privateSet:!0},isEntered:{privateSet:!0,defaultValue:!1},viewModel:{onChange:"_onViewModelChanged"},flipHorizontal:{defaultValue:!1},nativeFocusTarget:{get:function(){return this._displayProxy}},isFocused:{get:function(){var e=this._findInputScope();return void 0!==e&&e.focusView===this}},hasFocusWithin:{get:function(){var e=this._findInputScope(),t=!1;return void 0!==e&&e.focusView.visitUp(function(e){return e===this?(t=!0,!0):!!e.isInputScope||void 0},this),t}},isReady:{get:function(){return this._readyResolver.promise.isFulfilled()}},presence:{defaultValue:I.DISCONNECTED,privateSet:!0,onChange:"_onPresenceChanged"},viewState:{get:function(){return this._viewState}},computedViewState:{get:function(){return this._computedViewState}},raisesComputedViewStateUpdated:{defaultValue:!1},isInputScope:{defaultValue:!1,onChange:function(e){!0===e?(this._inputScope=g.new(this),this.lifecycleState===u.LifecycleStates.ACTIVATED&&h.singleton.scopes.add(this._inputScope)):(this.lifecycleState===u.LifecycleStates.ACTIVATED&&h.singleton.scopes.remove(this._inputScope),this._inputScope=void 0)}},hasNativeFocusWithScope:{defaultValue:void 0},inputScope:{get:function(){return this.isInputScope,this._inputScope}},stateArgs:{get:function(){return{}},set:function(){}},x:{defaultValue:0,onChange:function(e){this._onPositionChanged(e,this.y)}},y:{defaultValue:0,onChange:function(e){this._onPositionChanged(this.x,e)}},width:{get:function(){return void 0!==this._explicitWidth?this._explicitWidth:this._naturalWidth},set:function(e){this._explicitWidth=e}},height:{get:function(){return void 0!==this._explicitHeight?this._explicitHeight:this._naturalHeight},set:function(e){this._explicitHeight=e}},naturalWidth:{get:function(){return this._naturalWidth}},naturalHeight:{get:function(){return this._naturalHeight}},layout:{defaultValue:void 0},layoutOrder:{defaultValue:void 0,onChange:function(){!0===this.isReady&&this._onLayoutRequested()}},layoutProps:{get:function(){return this._layoutProps},set:function(e){this._layoutProps!==e&&(this._layoutProps=void 0===e?void 0:x.new(e),!0===this.isReady&&this._onLayoutRequested())}},_layoutProps:void 0,isVisible:{defaultValue:!0,onChange:"_onIsVisibleChanged"},borderThickness:{get:function(){return this._displayProxy.borderThickness},set:function(e){this._displayProxy.borderThickness=e}},borderColor:{get:function(){return this._displayProxy.borderColor},set:function(e){this._displayProxy.borderColor=e}},borderRadius:{get:function(){return this._displayProxy.borderRadius},set:function(e){this._displayProxy.borderRadius=e}},backgroundColor:{defaultValue:O.Transparent,onChange:"_onBackgroundColorChanged"},keyframesAnimation:{onChange:"_onKeyframesAnimationChanged"},preventUserTextHighlighting:{defaultValue:!1,onChange:"_onPreventUserTextHighlightingChanged"},tryUseHardwareSurface:{get:function(){return this._displayProxy.tryUseHardwareSurface},set:function(e){this._displayProxy.tryUseHardwareSurface=e}},afterReady:{get:function(){var e=this;return this._consumeReadyRejection=!0,this.runIndependentlyUntilDisposed("afterReady",function(){return e._readyResolver.promise.then(function(){return e})})}},highlightFactoryId:void 0,highlightViewStates:{defaultValue:S.FOCUSED},highlightAfterExitAction:{defaultValue:V.HIDE},transitionMap:{defaultValue:void 0,onChange:"_onTransitionMapChanged"},transitionMapOwner:{defaultValue:void 0,onChange:"_onTransitionMapChanged"},_mergedTransitionMap:void 0,transitionsEnabled:{defaultValue:!0},autoEnterChildren:{defaultValue:!0},runsLayout:{get:function(){return void 0!==this.layout}},clipToBounds:{get:function(){return this._displayProxy.clipToBounds},set:function(e){this._displayProxy.clipToBounds=e}},isPointerTarget:{defaultValue:!1,onChange:function(e){!0===this._isInitialized&&(this._displayProxy.isPointerTarget=e)}},isFocusTarget:{defaultValue:!1,onChange:function(e){!0===this._isInitialized&&(this._displayProxy.isFocusTarget=e)}},nativeFocusGainedAnimations:{onChange:function(e){this._ensureDisplayContent(!0),this._displayContent.nativeFocusGainedAnimations=e}},nativeFocusLostAnimations:{onChange:function(e){this._ensureDisplayContent(!0),this._displayContent.nativeFocusLostAnimations=e}},isFixedInViewport:{defaultValue:!1,onChange:function(){this._updateIsFixedInViewport(),this._onViewportChanged()}},isPointerHittable:{defaultValue:!0,onChange:function(e){this._displayProxy.isPointerHittable=e}},shouldBeHandedOff:{defaultValue:!0},isInvokable:{defaultValue:!1},isEnabled:{get:function(){return!1===this.hasViewStateFlag(S.DISABLED)},set:function(e){this.setViewStateFlag(S.DISABLED,!1===e)}},ancestorViewport:{defaultValue:void 0,onChange:function(){this._onViewportChanged()}},accessibilityTrait:{defaultValue:void 0,onChange:function(e){this.nativeFocusTarget.setDebugData("a11yTrait",N.getName(e)),this.nativeFocusTarget.accessibilityTrait=e}},isAccessibilityScope:{defaultValue:!1,onChange:function(e){this._displayProxy.setDebugData("a11yIsScope",e.toString()),this._displayProxy.isAccessibilityScope=e}},accessibilityTextOverride:{defaultValue:void 0,onChange:function(){this._updateAccessibility()}},inheritedViewStateNames:void 0,id:void 0,reactComponentProps:void 0,reactEventHandlers:void 0,isDefaultFocus:{defaultValue:!1},_viewportChangeQueued:{defaultValue:!1},_transitionAnimationsEnabled:{get:function(){return!0}},_readyResolver:void 0,isReadyInit:{defaultValue:!1},_consumeReadyRejection:void 0,_vmAnalyticsValue:void 0,analyticsValue:{defaultValue:W.INVOKED},_viewState:{defaultValue:S.NORMAL,onChange:"_onViewStateChanged"},_inheritedViewState:{defaultValue:S.NORMAL,onChange:"_onInheritedViewStateChanged"},_childrenViewState:{defaultValue:S.NORMAL,onChange:"_onChildrenViewStateChanged"},_computedViewState:{defaultValue:S.NORMAL,onChange:"_onComputedViewStateChanged"},_childrenInheritingViewStateCount:{defaultValue:0},__displayContent:void 0,_displayContent:{get:function(){return void 0===this.__displayContent&&(0===this._preChildrenCount&&0===this.children.length?this.__displayContent=this._displayProxy:(this._createDisplayContent(),this._displayProxy.children.insertAt(this._preChildrenCount,this.__displayContent))),this.__displayContent}},_isPreChild:{defaultValue:!1},_preChildrenCount:{defaultValue:0},_displayChildrenCount:{defaultValue:0},_naturalWidth:{get:function(){return this.__naturalWidth},set:function(e){this._setNaturalWidth(e)}},_naturalHeight:{get:function(){return this.__naturalHeight},set:function(e){this._setNaturalHeight(e)}},__naturalWidth:{defaultValue:0},__naturalHeight:{defaultValue:0},__explicitWidth:void 0,__explicitHeight:void 0,__layoutWidth:void 0,__layoutHeight:void 0,_explicitWidth:{get:function(){return void 0!==this._layoutWidth?this._layoutWidth:this.__explicitWidth},set:function(e){this._setExplicitWidth(e)}},_explicitHeight:{get:function(){return void 0!==this._layoutHeight?this._layoutHeight:this.__explicitHeight},set:function(e){this._setExplicitHeight(e)}},_layoutWidth:{get:function(){return this.__layoutWidth},set:function(e){this._setLayoutWidth(e)}},_layoutHeight:{get:function(){return this.__layoutHeight},set:function(e){this._setLayoutHeight(e)}},_inputScope:void 0,_pointerDownId:{defaultValue:void 0},_buttonInvokeHandlerMap:void 0,_waitingForRelease:void 0,_displayProxy:void 0,_highlightView:void 0,_pendingHighlightAdd:{defaultValue:!1},_pendingHighlightRemove:{defaultValue:!1},_afterExitAction:{defaultValue:V.NONE},_hasHighlightView:{defaultValue:!1,onChange:function(e){!0===e?(void 0===this._highlightView&&(this._highlightView=T.singleton.create(this.highlightFactoryId),this._onHighlightViewCreated(this._highlightView)),this._addHighlightView()):this._removeHighlightView()}},_identityData:void 0,_layoutRequestedCallback:void 0,_childReactComponent:void 0,_childReactComponentId:void 0,_reactPeerId:void 0}),e.collection("children",function(e,t){this._ensureDisplayContent(!1),this._addChild(e,this._preChildrenCount+this._displayChildrenCount+t)},function(e){this._removeChild(e)},function(e){this._validateChild(e)}),e.collection("preChildren",function(e,t){e._isPreChild=!0,this._ensureDisplayContent(!1),this._addChild(e,t),this._preChildrenCount++},function(e){this._removeChild(e),e._isPreChild=!1,this._preChildrenCount--},function(e){this._validateChild(e)}),e.collection("additionalInitialTransitionStates",function(){this._applyActiveTransitionSets()},function(){this._applyActiveTransitionSets()}),e.collection("additionalTransitionStates",function(){this._applyActiveTransitionSets()},function(){this._applyActiveTransitionSets()}),e.collection("invokeHandlers",function(e){this.isInvokable,void 0!==e.button&&(e.button,F.OK,void 0===this._buttonInvokeHandlerMap[e.button]&&(this._buttonInvokeHandlerMap[e.button]=t.new(this)),this._buttonInvokeHandlerMap[e.button].on(e.callback)),this._notifyInvokeHandlerChanged()},function(e){void 0!==e.button&&this._buttonInvokeHandlerMap[e.button].off(e.callback),this._notifyInvokeHandlerChanged()}),e.events(["buttonPressed","buttonReleased","pointerDown","pointerUp","pointerMove","pointerCancel","pointerLeftEdgeSwipe","pointerCaptureLost","preinvoked","invoked","layoutRequested","computedViewStateUpdated"]),e.methods({focus:function(){var e=this._findInputScope();this.isVisible,this.factoryId,e.focusView=this},notifyChildNativeFocused:function(){void 0!==this.parent&&this.parent.notifyChildNativeFocused(this)},invokeHandlersByButton:function(e){if(this.isInvokable,!1===this.isEnabled)return!1;var t=!1;if(e===F.OK)this._bubbleInvoked(),t=!0;else{var i=this._buttonInvokeHandlerMap[e];void 0!==i&&i.hasListeners&&(i._emit(),t=!0)}return t},refreshStyles:function(){void 0!==this.template?this.template.applyDynamicProps(this):void 0!==this.factoryId&&R.singleton.applyDynamicProps(this,this.factoryId+"View"),this.enumerateLogicalChildren(function(e){e.refreshStyles()}),this.preChildren.forEach(function(e){e.refreshStyles()})},enumerateOrderedChildren:function(e,t){for(var i=this.children,n=!0===t?i.length-1:0,o=!0===t?-1:1,r=i.length,a=n;a<r&&a>=0;a+=o)e(i.getAt(a))},enumerateLogicalChildren:function(e){this.enumerateOrderedChildren(e,!0)},_showHitTestPoint:function(e){var t=d.singleton.touchHitRadius||15,i=l.new({width:t,height:t,x:e.x-t/2,y:e.y-t/2,backgroundColor:O.DebugRed,isFixedInViewport:!0,isPointerTarget:!1,isPointerHittable:!1,isFocusTarget:!1});d.singleton.children.add(i),D.singleton.postTimeout(200).finally(function(){d.singleton.children.remove(i),i.dispose()})},_doIdentify:function(){this.isDisposed,0==this._identityData.remainingCount--?this._stopIdentify(!0):this.borderThickness++},_stopIdentify:function(e){void 0!==this._identityData&&(this._identityData.timerCanceller(),!0===e&&(this.borderThickness=this._identityData.originalThickness,this.borderColor=this._identityData.originalColor),this._identityData=void 0)},identify:function(){var e=O.DebugRed;!0===r.singleton.debugHitTest||L.singleton.inAutomation,this._stopIdentify(!0),this._identityData={originalColor:this.borderColor,originalThickness:this.borderThickness,remainingCount:5},this.borderThickness=1,this.borderColor=e,this._identityData.timerCanceller=D.singleton.postInterval(400,this._doIdentify.bind(this))},getAutomationChildren:function(){return this.children},getAutomationPeer:function(){var e=h.singleton.currentScope,t=i.getAutomationPeer.call(this);return t.title=void 0===this.viewModel?"noViewModel":this.viewModel.typeName,t.name=this.name,t.isFocused=void 0!==e&&e.focusView===this,t.factoryId=this.factoryId,t.isEnabled=this.isEnabled,t.rect={x:this.x,y:this.y,width:this.width,height:this.height,offsetX:this._displayProxy.offsetX,offsetY:this._displayProxy.offsetY},t.isInvokable=this.isInvokable,t.isPointerHittable=this.isPointerHittable,t.flipHorizontal=this.flipHorizontal,t.isFixedInViewport=this.isFixedInViewport,t.viewModelId=void 0===this.viewModel?"noViewModel":this.viewModel.id,t.layout=void 0!==this.layout?this.layout.typeName:void 0,t.layoutProps=JSON.stringify(this.layoutProps),t.accessibilityText=this.getAccessibilityText(),void 0!==this._childReactComponent&&(t.childReactComponentTypeName=this._childReactComponent.props.child.type.name),void 0!==this._reactPeerId&&(t.reactPeerId=this._reactPeerId,t.reactPeerClassName=f.singleton.getClassName(this._reactPeerId)),t.children=[],this.getAutomationChildren().forEach(function(e){!0===e.isVisible&&t.children.push(e.getAutomationPeer())}),void 0!==e&&e.owner===this&&(t.currentInputScopeOwner=!0),t},getAccessibilityText:function(){return void 0!==this.accessibilityTextOverride?this.accessibilityTextOverride:void 0!==this._childReactComponentId?this._getChildReactComponent().accessibilityText:this._getAccessibilityTextImpl()},_getAccessibilityTextImpl:function(){},onRecycle:function(){this.visitDown(function(e){e._resetViewState()})},_resetViewState:function(){this._viewState=S.NORMAL},setViewStateFlag:function(e,t){this._viewState=S.setFlag(this._viewState,e,t)},hasViewStateFlag:function(e){return S.testFlag(this._viewState,e)},hasComputedViewStateFlag:function(e){return S.testFlag(this._computedViewState,e)},hitTestPoint:function(e){for(var t,i=d.singleton.hitTestPoint(e,this._displayProxy);void 0!==i;){if(i.owner instanceof j){t=i.owner;break}i=i.parent}return(r.singleton.debugHitTest||!0===c.singleton.debugHitTest)&&(this._showHitTestPoint(e),void 0!==t&&t.identify()),t},find:function(e){var t,i=this;return this.visitDown(function(n){if(n.name===e&&n!==i)return t=n,M.HALT},this,function(e,t){e.enumerateLogicalChildren(t)}),t},findById:function(e){var t,i=this;return this.visitDown(function(n){if(n.disposableId===e&&n!==i)return t=n,M.HALT}),t},visitDown:function(e,t,i){var n=[this];i=i||function(e,t,i){return e.enumerateOrderedChildren(t,i)};var o=function(e){n.push(e)};t=t||this;for(var r=t;n.length>0;){var a=n.pop(),s=e.call(r,a);if(s===M.HALT)return;if(s!==M.PRUNE){i(a,o,!0);for(var l=a.preChildren.length-1;l>=0;--l)n.push(a.preChildren.getAt(l))}}},visitUp:function(e,t){for(var i=this;void 0!==i;){if(!0===e.call(t||this,i))return;i=i.parent}},transitionTo:function(e){var t=e.x,i=e.y,n=e.width,o=e.height,r=this._displayProxy.x+this._displayProxy.offsetX,a=this._displayProxy.y+this._displayProxy.offsetY;return this._displayProxy.offsetX=r-t,this._displayProxy.offsetY=a-i,this.x=t,this.y=i,void 0!==n&&(this.width=n),void 0!==o&&(this.height=o),this._applyActiveTransitionSets(),C.fulfilled()},enter:function(){this.isVisible=!0,this._presence!==I.DISCONNECTED&&(this._presence=I.ENTERING)},exit:function(e){this._lifecycleState!==u.LifecycleStates.DEACTIVATED&&(this._afterExitAction=e,e===V.DEACTIVATE&&!1===this.isVisible?this._doAfterExitAction():this._presence===I.DISCONNECTED?this._doAfterExitAction():this._presence=I.EXITING)},show:function(){void 0!==this.parent?this.enter():this.isVisible=!0},hide:function(){this.exit(V.HIDE)},handleInput:function(e,t){if(!1!==this.isEnabled){this["_raise"+e.substr(0,1).toUpperCase()+e.substr(1)](t)}},renderToBitmap:function(){return this._displayProxy.renderToBitmap()},updateOwner:function(e){this._registeredOwner=e},getContextualData:function(){var e,t=u.prototype.getContextualData.apply(this,arguments);if(void 0!==this.viewModel){e={typeName:this.viewModel.typeName,factoryId:this.viewModel.factoryId};var i;void 0!==this.viewModel.dataModel&&(i={typeName:this.viewModel.dataModel.typeName,id:this.viewModel.dataModel.id}),e.dataModelData=i}return v(t,{factoryId:this.factoryId,name:this.name,isReady:this.isReady,presence:this.presence,disposableId:this.disposableId,isDisposed:this.isDisposed,viewModelData:e})},_defaultRejectionHandler:function(e,t){this._rejectReadyPromise(this._createPromiseChainRejectionException(e,t))},_validateChild:function(e){e.parent,e.lifecycleState,u.LifecycleStates.DEACTIVATED,e.isReady},_addChild:function(e,t){this.isDisposed,e.ancestorViewport=this._getCombinedRealizationViewport(),e._parent=this,e._presence=I.CONNECTED,this._displayProxy.children.insertAt(t,e._displayProxy),e._presence=this._getChildPresence(this.presence,e),!0===e._inheritsViewState()&&(this._childrenInheritingViewStateCount,this._childrenInheritingViewStateCount+=1,e._updateInheritedViewState()),this._updateChildrenViewState(),!0!==e._isPreChild&&!0===this.runsLayout&&(this._runLayout(),void 0===this._layoutRequestedCallback&&(this._layoutRequestedCallback=this._runLayout.bind(this)),e.layoutRequested.on(this._layoutRequestedCallback))},_removeChild:function(e){this.isDisposed,this._displayProxy.children.remove(e._displayProxy),e._parent=void 0,e._presence=I.DISCONNECTED,!0===e._inheritsViewState()&&(this._childrenInheritingViewStateCount,this._childrenInheritingViewStateCount-=1,e._updateInheritedViewState()),this._updateChildrenViewState(),e.ancestorViewport=void 0,!0!==e._isPreChild&&!0===this.runsLayout&&(e.layoutRequested.off(this._layoutRequestedCallback),this._runLayout())},_createDisplayContent:function(){var e=l.new();e.setDebugData("viewPart","displayContent"),this.__displayContent=e,this._displayChildrenCount=1},_ensureDisplayContent:function(e){var t=!0===e?this._displayContent:this.__displayContent;if(void 0!==t&&t===this._displayProxy){for(this._createDisplayContent();this._displayProxy.children.length>0;){var i=this._displayProxy.children.getAt(0);this._displayProxy.children.removeAt(0),this.__displayContent.children.add(i)}this._displayProxy.children.add(this.__displayContent)}},_runLayout:function(){if(void 0===this.layout)this._setNaturalSize(0,0);else{var e=[],t={};this.children.forEach(function(t){t.presence!==I.EXITING&&e.push(t)}),e.forEach(function(e){var i="name="+e.name+", factoryId="+e.factoryId;if(void 0===e.layoutOrder)throw P.new({message:"no layoutOrder specified for child: "+i,area:"ui.views.View.runLayout"});if(void 0!==t[e.layoutOrder]){var n=t[e.layoutOrder],o="name="+n.name+", factoryId="+n.factoryId;throw P.new({message:"duplicate layoutOrder ("+e.layoutOrder+") specified for child: "+i+". (duplicate: "+o+")",area:"ui.views.View.runLayout"})}t[e.layoutOrder]=e}),e=e.sort(function(e,t){return e.layoutOrder-t.layoutOrder});var i={width:this._explicitWidth,height:this._explicitHeight},n=this.layout.run(this,e,i),o=this.layout.getContainerNaturalSize(this,n);this._setNaturalSize(o.width,o.height)}},_setNaturalSize:function(e,t){this._setSize(e,t,"natural")},_setNaturalWidth:function(e){var t=this._setWidthOrHeightWithoutLayoutRequest(e,"natural","width");this._handleSizeChangeSideEffects(t)},_setNaturalHeight:function(e){var t=this._setWidthOrHeightWithoutLayoutRequest(e,"natural","height");this._handleSizeChangeSideEffects(t)},_setExplicitSize:function(e,t){this._setSize(e,t,"explicit")},_setExplicitWidth:function(e){var t=this._setWidthOrHeightWithoutLayoutRequest(e,"explicit","width");this._handleSizeChangeSideEffects(t)},_setExplicitHeight:function(e){var t=this._setWidthOrHeightWithoutLayoutRequest(e,"explicit","height");this._handleSizeChangeSideEffects(t)},_setLayoutSize:function(e,t){this._setSize(e,t,"layout")},_setLayoutWidth:function(e){var t=this._setWidthOrHeightWithoutLayoutRequest(e,"layout","width");this._handleSizeChangeSideEffects(t)},_setLayoutHeight:function(e){var t=this._setWidthOrHeightWithoutLayoutRequest(e,"layout","height");this._handleSizeChangeSideEffects(t)},_setSize:function(e,t,i){
var n=this._setWidthOrHeightWithoutLayoutRequest(e,i,"width"),o=this._setWidthOrHeightWithoutLayoutRequest(t,i,"height"),r={raiseSizeChanged:!0===n.raiseSizeChanged||!0===o.raiseSizeChanged,updateDisplayProxySize:!0===n.updateDisplayProxySize||!0===o.updateDisplayProxySize};this._handleSizeChangeSideEffects(r)},_setWidthOrHeightWithoutLayoutRequest:function(e,t,i){var n=i[0].toUpperCase()+i.substring(1),o="__"+t+n,r="_explicit"+n,a=this[i],s=this[r];return this[o]=e,{raiseSizeChanged:a!==this[i],updateDisplayProxySize:!0==(void 0===this[r]&&void 0!==s)}},_handleSizeChangeSideEffects:function(e){if(!0===e.raiseSizeChanged)this._raiseSizeChanged();else if(!0===e.updateDisplayProxySize){var t=this.width,i=this.height;this._updateDisplayProxySize();var n=this.width,o=this.height;t===n&&i===o||this._raiseSizeChanged()}},_getChildPresence:function(e,t){return e===I.CONNECTED||!1===this.autoEnterChildren&&e===I.ENTERING?t.presence===I.EXITING?I.EXITING:I.CONNECTED:e},_onPresenceChanged:function(e,t){t!==I.DISCONNECTED||I.CONNECTED,e!==I.EXITING&&(t===I.EXITING&&e===I.DISCONNECTED&&this._doAfterExitAction(),this._afterExitAction=V.NONE),this._isEntered=!1;for(var i=this.children.length-1;i>=0;--i){var n=this.children.getAt(i);n._presence=this._getChildPresence(e,n)}for(var o=this.preChildren.length-1;o>=0;--o){var r=this.preChildren.getAt(o);r._presence=this._getChildPresence(e,r)}this._updateIsFixedInViewport(),this._applyActiveTransitionSets()},_createDisplayProxy:function(){return l.new({owner:this})},_onParentChanged:function(e,t){if(void 0!==e)e.lifecycleState===u.LifecycleStates.ACTIVATED&&this.visitDown(function(e){e.lifecycleState===u.LifecycleStates.SUSPENDED?e.resume():e.activate()});else{var i,n=this.lifecycleState===u.LifecycleStates.ACTIVATED;if(!1===this.isInputScope&&void 0!==t&&(i=t._findInputScope()),void 0!==i||n){var o=!1,r=!1;this.visitDown(function(e){void 0!==i&&(e===i.focusView&&(o=!0),e===i.hoverView&&(r=!0)),n&&e.suspend()}),!0===o&&i.resetFocus(),!0===r&&(i.hoverView=void 0)}}},deactivate:function(){if(void 0!==this.parent&&this.parent.lifecycleState!==u.LifecycleStates.DEACTIVATED)throw new Error("Parented views can only be deactivated if the parent view is deactivated");u.prototype.deactivate.apply(this,arguments)},resetReady:function(){!0!==this.isReadyInit&&(this._readyResolver=C.pending()),void 0!==this._childReactComponent&&this._clearReactComponentState()},_clearReactComponentState:function(){},_disposeCore:function(){if(this.reactEventHandlers=void 0,this._registeredOwner=void 0,!0===this.runsLayout&&void 0!==this._layoutRequestedCallback){var e=this;this.children.forEach(function(t){t.layoutRequested.off(e._layoutRequestedCallback)}),this._layoutRequestedCallback=void 0}this._stopIdentify(!1),u.prototype._disposeCore.apply(this,arguments),i._disposeCore.apply(this,arguments)},_updateIsFixedInViewport:function(){!0!==this.isFixedInViewport||this.presence!==I.ENTERING&&this.presence!==I.EXITING?this._displayProxy.isFixedInViewport=!1:this._displayProxy.isFixedInViewport=!0},_updateAccessibility:function(){var e=this.getAccessibilityText();this.nativeFocusTarget.setDebugData("a11yLabel",e),this.nativeFocusTarget.accessibilityLabel=e},_onLifecycleStateChanged:function(e,t){if(e===u.LifecycleStates.ACTIVATED)!0===this.isInputScope&&h.singleton.scopes.add(this._inputScope),this._updateAccessibility();else if(e===u.LifecycleStates.DEACTIVATED){if(this.unhook(),void 0===this.parent){var i=this;this.visitDown(function(e){e!==i&&e.deactivate()})}void 0!==this._highlightView&&void 0===this._highlightView.parent&&this._highlightView.deactivate(),this.__presence=I.DISCONNECTED,this._displayProxy.dispose(),this._displayProxy=void 0,void 0!==this._childReactComponentId&&(f.singleton.deregisterComponent(this._childReactComponentId),b.ReactNative.unmountComponentAtNode(this._childReactComponentId))}else this.isInputScope&&h.singleton.scopes.remove(this._inputScope);u.prototype._onLifecycleStateChanged.call(this,e,t)},_onIsVisibleChanged:function(){this._displayProxy.isVisible=this.isVisible},_transitionView:function(){},_rejectReadyPromise:function(e){var t=this;if(!0===this.suppressContentExceptions&&e instanceof H)P.wrap(e,{message:"_rejectReadyPromise suppressed",area:"ui.views.View._rejectReadyPromise",level:o.WARNING}).logTelemetry(),t._fulfillReadyPromise();else{if(this._readyResolver.promise.isResolved())throw e;this._readyResolver.reject(e),this._readyResolver.promise.catch(function(e){if(!0!==t._consumeReadyRejection)throw P.wrap(e,{message:"Ready promise rejected",area:"ui.views.View.constructor.readyPromiseChain"})})}},_fulfillReadyPromise:function(){this._readyResolver.fulfill()},_onBackgroundColorChanged:function(e){this._displayProxy.backgroundColor=e},_onKeyframesAnimationChanged:function(e){this._displayProxy.keyframesAnimation=e},_onPreventUserTextHighlightingChanged:function(e){this._displayProxy.preventUserTextHighlighting=e},_onTransitionMapChanged:function(e){if(void 0!==e){var t=e.initial,i=this;m(e,function(e,n){if(e!==t){if(void 0===t)throw P.new({message:i.factoryId+": has state '"+n+"' but no initial state",area:"ui.views.View.constructor.onTransitionMapChanged"});m(e,function(e,o){if(o in t==!1)throw P.new({message:i.factoryId+": state '"+n+"' has property "+o+" which does not exist in the initial state",area:"ui.views.View.constructor.onTransitionMapChanged"})})}})}this._mergedTransitionMap=void 0,!0===this._isInitialized&&this._applyActiveTransitionSets()},_onViewStateChanged:function(e,t){this._transitionView(e,t),this._recomputeComputedViewState(),this._notifyParentOfChildViewStateChange(),this._notifyChildrenOfParentViewStateChange()},_onInheritedViewStateChanged:function(){this._recomputeComputedViewState(),this._notifyChildrenOfParentViewStateChange()},_onChildrenViewStateChanged:function(){this._recomputeComputedViewState(),this._notifyParentOfChildViewStateChange(),this._notifyChildrenOfParentViewStateChange()},_onComputedViewStateChanged:function(e,t){if(this._updateHasHighlightView(),void 0!==this._highlightView&&this._highlightView.presence===I.ENTERING){this._highlightView._viewState=this.computedViewState}this._applyActiveTransitionSets(),void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.viewStateChanged&&this.reactEventHandlers.viewStateChanged(this._createViewStateObject()),!0===this.raisesComputedViewStateUpdated&&this._raiseComputedViewStateUpdated(e,t)},_createViewStateObject:function(){var e=this;return Object.keys(j._propertyNameToViewStateMap).reduce(function(t,i){var n=j._propertyNameToViewStateMap[i];return t[i]=e.hasComputedViewStateFlag(n),t},{})},_notifyParentOfChildViewStateChange:function(){var e=this._parent;void 0!==e&&e._updateChildrenViewState()},_inheritsViewState:function(){return void 0!==this.inheritedViewStateNames&&this.inheritedViewStateNames.length>0},_notifyChildrenOfParentViewStateChange:function(){this._childrenInheritingViewStateCount>0&&this.children.forEach(function(e){!0===e._inheritsViewState()&&e._updateInheritedViewState()})},_isFocusedOrHovered:function(){return this.hasComputedViewStateFlag(S.FOCUSED)||this.hasComputedViewStateFlag(S.HOVERED)},_updateHasHighlightView:function(){this._hasHighlightView=void 0!==this.highlightFactoryId&&S.testFlag(this.computedViewState,this.highlightViewStates)},_updateChildrenViewState:function(){var e=S.NONE;this.children.forEach(function(t){var i=S.setFlag(t.viewState,t._childrenViewState,!0);e=S.setFlag(e,i,!0)}),this._childrenViewState=e},_updateInheritedViewState:function(){this._inheritsViewState();var e=S.NORMAL,t=this.parent;if(void 0!==t){var i=this.inheritedViewStateNames,n=t.computedViewState;i.forEach(function(t){var i=j._getViewStateFromTransitionSetName(t),o=S.testFlag(n,i);e=S.setFlag(e,i,o)})}this._inheritedViewState=e},_recomputeComputedViewState:function(){var e=S.setFlag(this.viewState,this._inheritedViewState,!0);this._computedViewState=S.setFlag(e,this._childrenViewState,!0)},_onHighlightViewCreated:function(e){e.implementsInterface(E)&&e.setHighlightTarget({x:0,y:0,width:this.width,height:this.height},1,!1)},_addHighlightView:function(){var e=this;this.cancelDisposablePromise("_removeHighlightView"),this.runUntilDisposed("_addHighlightView",function(){return e._highlightView.afterReady.then(function(){var t=e._highlightView;void 0===t.parent&&e.preChildren.add(t),t.enter(),t._viewState=e._computedViewState}).catch(function(e){P.wrap(e,{message:"_addHighlightView was rejected.",level:o.WARNING,area:"ui.views.View._addHighlightView"}).ignore()})})},_removeHighlightView:function(){var e=this;this.cancelDisposablePromise("_addHighlightView"),this.runUntilDisposed("_removeHighlightView",function(){return C.fulfilled().then(function(){e._highlightView.exit(e.highlightAfterExitAction)}).catch(function(e){P.wrap(e,{message:"_removeHighlightView was rejected.",level:o.WARNING,area:"ui.views.View._removeHighlightView"}).ignore()})})},_findInputScope:function(){var e;return this.visitUp(function(t){return void 0!==(e=t._inputScope)}),e},_raiseButtonPressed:function(e){void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.buttonPressed?(this.reactEventHandlers.buttonPressed(e),e.handled=!0):this._onButtonPressed.apply(this,arguments),!0===this.isInvokable&&this._willHandleInvokeByButton(e.button)?(0===e.pressedDuration&&(this._waitingForRelease[e.button]=!0),e.handled=!0):this._waitingForRelease[e.button]=!1},_raiseButtonReleased:function(e){void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.buttonReleased?(this.reactEventHandlers.buttonReleased(e),e.handled=!0):this._onButtonReleased.apply(this,arguments),!0===this.isInvokable&&!0===this._waitingForRelease[e.button]&&this.invokeHandlersByButton(e.button)&&(e.handled=!0),this._waitingForRelease[e.button]=!1},_raisePointerDown:function(e){void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.pointerDown?(this.reactEventHandlers.pointerDown(e),e.handled=!0):this._onPointerDown.apply(this,arguments);var t=e.id;!0===this.isInvokable&&void 0===e.inputScope.getViewWithPointerCapture(t)&&(this._pointerDownId=t,e.pointerCapture=!0)},_raisePointerUp:function(e){this._onPointerUp.apply(this,arguments),!0===this.isInvokable&&this._pointerDownId===e.id&&void 0!==this.hitTestPoint(e.position)&&(e.handled=this.invokeHandlersByButton(F.OK),this._pointerDownId=void 0)},_raisePointerMove:function(){this._onPointerMove.apply(this,arguments)},_raisePointerCancel:function(){this._onPointerCancel.apply(this,arguments)},_raisePointerLeftEdgeSwipe:function(){this._onPointerLeftEdgeSwipe.apply(this,arguments)},_raisePointerCaptureLost:function(e){this._onPointerCaptureLost.apply(this,arguments),!0===this.isInvokable&&this._pointerDownId===e.id&&(this._pointerDownId=void 0)},_raiseComputedViewStateUpdated:function(){this._onComputedViewStateUpdated.apply(this,arguments)},_raisePreinvoked:function(){this._onPreinvoked.apply(this,arguments)},_raiseInvoked:function(e){if(!0===this.isInvokable&&this.analyticsValue!==W.NONE){var t=this._getUserInteractionContext();this._logUserInteraction(t)}void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.invoked?(this.reactEventHandlers.invoked(),e.handled=!0):(this._onInvoked.apply(this,arguments),this._onInvokedBubbled.apply(this,arguments))},_logUserInteraction:function(e){$.new({area:"ui.views.View._raiseInvoked",target:this._vmAnalyticsValue||this.analyticsValue,contextualData:e}).log()},_onInvokedBubbled:function(e){e.target===this&&this._doInvoked(e)},_doInvoked:function(){},_getUserInteractionContext:function(){return{invokedData:this._getInvokedData()}},_willHandleInvokeByButton:function(e){var t=this._buttonInvokeHandlerMap[e];return e===F.OK||void 0!==t&&t.hasListeners},_getInvokedData:function(){},_bubbleInvoked:function(){this.lifecycleState,u.LifecycleStates.ACTIVATED;var e=this._findInputScope(),t={target:this,data:this._getInvokedData()};e.bubbleInvoked(t)},_notifyInvokeHandlerChanged:function(){var e=this._findInputScope();void 0!==e&&e.notifyInvokeHandlerChanged()},_onViewModelChanged:function(e,t){void 0!==e?(this._displayProxy.setDebugData("viewModelType",e.typeName),this._displayProxy.setDebugData("viewModelFactoryId",e.factoryId),void 0!==e.dataModel&&(this._displayProxy.setDebugData("modelType",e.dataModel.typeName),this._displayProxy.setDebugData("modelFactoryId",e.dataModel.factoryId)),this._assignAnalyticsValue(e)):(this._vmAnalyticsValue=void 0,!1===this._displayProxy.isDisposed&&(this._displayProxy.setDebugData("viewModelFactoryId",void 0),this._displayProxy.setDebugData("viewModelFactoryId",void 0),this._displayProxy.setDebugData("modelType",void 0),this._displayProxy.setDebugData("modelFactoryId",void 0)))},_assignAnalyticsValue:function(e){var t=this;void 0!==e.analyticsValue?this.runUntilDisposed("ComputeAnalyticsValue",function(){return e.analyticsValue.then(function(e){t._vmAnalyticsValue=e})}):this._vmAnalyticsValue=void 0},_raiseSizeChanged:function(){this._updateDisplayProxySize(),this._queueViewportChange(),!0===this.isReady&&(this._onLayoutRequested(),!0===this.runsLayout&&this._runLayout())},_updateDisplayProxySize:function(){this._displayProxy.width=this.width,this._displayProxy.height=this.height},_onPositionChanged:function(e,t){this._displayProxy.x=e,this._displayProxy.y=t,this._queueViewportChange()},_queueViewportChange:function(){if(!1===this._viewportChangeQueued){this._viewportChangeQueued=!0;var e=this;this.runUntilDisposed("View._queueViewportChange",function(){return D.singleton.queue().then(function(){e._onViewportChanged()})})}},_onViewportChanged:function(){this._viewportChangeQueued=!1,this._propagateViewport()},_propagateViewport:function(){var e=this._getCombinedRealizationViewport();this.children.forEach(function(t){t.ancestorViewport=e}),this.preChildren.forEach(function(t){t.ancestorViewport=e})},_getCombinedRealizationViewport:function(){var e=this._getLocalRealizationViewport(),t=this.ancestorViewport;if(void 0!==t&&!1===this.isFixedInViewport){var i=this._transformFromParentToLocalViewport(t);e=void 0!==e?B.intersect(i,e):i}return e},_getLocalRealizationViewport:function(){},_transformFromParentToLocalViewport:function(e){return{x:e.x-this.x,y:e.y-this.y,width:e.width,height:e.height}},_applyActiveTransitionSets:function(){var e=this.presence;if(!1===this.transitionsEnabled||e===I.DISCONNECTED)return void(this._isEntered=e===I.ENTERING);var t=this._getActiveTransitionSetNames();this._tryAppendMatchingMultiTransitionSets(t);var i=t.map(function(e){return this._getTransitionSet(e)},this),n=i.reduce(w,{}),o=!0===this._transitionAnimationsEnabled&&e!==I.CONNECTED;this._applyMergedTransitionSet(n,o)},_tryAppendMatchingMultiTransitionSets:function(e){var t={};y(e,function(e,i){t[e]=Math.pow(2,i)});var i=this._getTransitionMap(),n=[];m(i,function(i,o){if(o.indexOf("+")>0){var r=o.split("+"),a=0;y(r,function(e){a+=t[e]}),isNaN(a)||(a+=Math.pow(2,e.length+r.length),n.push({sortOrder:a,setName:o}))}}),n=_(n,"sortOrder"),n.forEach(function(t){e.push(t.setName)})},_getTransitionMap:function(){return void 0===this._mergedTransitionMap&&(this._mergedTransitionMap=v({},this.transitionMap,this.transitionMapOwner)),this._mergedTransitionMap},_getTransitionSet:function(e){return this._getTransitionMap()[e]},_getActiveTransitionSetNames:function(){var e=["initial"];return this.additionalInitialTransitionStates.forEach(function(t){e.push(t)}),this.presence===I.ENTERING?e.push("enter"):this.presence===I.EXITING&&e.push("exit"),this.hasComputedViewStateFlag(S.SELECTED)&&e.push("selected"),this.hasComputedViewStateFlag(S.FOCUSED)&&e.push("focused"),this.hasComputedViewStateFlag(S.HOVERED)&&e.push("hovered"),this.hasComputedViewStateFlag(S.PRESSED)&&e.push("pressed"),this.hasComputedViewStateFlag(S.DISABLED)&&e.push("disabled"),this.additionalTransitionStates.forEach(function(t){e.push(t)}),e},_applyMergedTransitionSet:function(e,t){var i=this;this.runUntilDisposed("_applyMergedTransitionSet",function(){var n={},o=[];return m(e,function(e,r){0===e.duration?o.push(i._applyTransition(e,r,t)):n[r]=e}),m(n,function(e,n){o.push(i._applyTransition(e,n,t))}),i.runIndependentlyUntilDisposed("_applyMergedTransitionSet-transitionPromises",function(){return C.all(o)}).then(function(){i.presence===I.EXITING?i._doAfterExitAction():i.presence===I.ENTERING&&(i._isEntered=!0)})})},_doAfterExitAction:function(){this._afterExitAction===V.DEACTIVATE?(void 0!==this.parent&&(!0===this._isPreChild?this.parent.preChildren.remove(this):this.parent.children.remove(this)),D.singleton.queueBackground(function(){this._lifecycleState!==u.LifecycleStates.DEACTIVATED&&this.deactivate()}.bind(this))):(this._afterExitAction===V.HIDE&&(this.isVisible=!1),this._presence!==I.DISCONNECTED&&(this._presence=I.CONNECTED))},_applyTransition:function(e,t,i){if(this.lifecycleState===u.LifecycleStates.DEACTIVATED)return C.fulfilled();switch(t){case"opacity":return this._applyTransitionToDisplayNode(this._displayProxy,A.OPACITY,e,i);case"offsetX":return this._applyTransitionToDisplayNode(this._displayProxy,A.OFFSETX,e,i);case"offsetY":return this._applyTransitionToDisplayNode(this._displayProxy,A.OFFSETY,e,i);case"contentOpacity":return this._ensureDisplayContent(!0),this._applyTransitionToDisplayNode(this._displayContent,A.OPACITY,e,i);case"contentX":return this._ensureDisplayContent(!0),this._applyTransitionToDisplayNode(this._displayContent,A.OFFSETX,e,i);case"contentY":return this._ensureDisplayContent(!0),this._applyTransitionToDisplayNode(this._displayContent,A.OFFSETY,e,i);case"contentScaleX":return this._ensureDisplayContent(!0),this._applyTransitionToDisplayNode(this._displayContent,A.SCALEX,e,i);case"contentScaleY":return this._ensureDisplayContent(!0),this._applyTransitionToDisplayNode(this._displayContent,A.SCALEY,e,i);case"contentRotationZ":return this._ensureDisplayContent(!0),this._applyTransitionToDisplayNode(this._displayContent,A.ROTATIONZ,e,i);default:t.indexOf("set_"),e.duration<=0&&e.delay;return this[t.substr(4)]=e.to,C.fulfilled()}},_applyTransitionToDisplayNodeAfterPromise:function(e,t,i,n,o){var r=this;return void 0===e||!0===e.isFulfilled()||!1===o||0===n.duration?r._applyTransitionToDisplayNode(t,i,n,o):this.runIndependentlyUntilDisposed("_applyTransitionToDisplayNodeAfterPromise",function(){return e.then(function(){return r._applyTransitionToDisplayNode(t,i,n,o)})})},_applyTransitionToDisplayNode:function(e,t,i,n){return e.animate(k.new({property:t,to:i.to,duration:n?i.duration:0,delay:i.delay,interpolation:i.interpolation}))},_getReactComponentType:function(){},_getChildReactComponent:function(){return this._childReactComponent,this._childReactComponent._reactInternalInstance._renderedComponent.getPublicInstance()},_setReactComponentState:function(e){this._getChildReactComponent().setState(e)},_getReactComponentProps:function(){return this.reactComponentProps},_createReactElement:function(){var e=this._getReactComponentType();if(void 0!==e)return b.createElement(e,this._getReactComponentProps())},_convertTextToViewModel:function(e){if(void 0!==e){var t=s.new(e);return t.initialize({value:e}),a.new(t,"value")}}}),e.staticScope(function(){e.constructor(function(){this._propertyNameToViewStateMap={focused:S.FOCUSED,hovered:S.HOVERED,selected:S.SELECTED,pressed:S.PRESSED,disabled:S.DISABLED}}),e.properties({_propertyNameToViewStateMap:void 0}),e.methods({_getViewStateFromTransitionSetName:function(e){return this._propertyNameToViewStateMap[e],this._propertyNameToViewStateMap[e]},createDefaultViewStateObject:function(){return Object.keys(this._propertyNameToViewStateMap).reduce(function(e,t){return e[t]=!1,e},{})}})})});return j})}(),function(){"use strict";define("platform/dependent/graphics/ITextBlock",["core/oop","platform/dependent/graphics/IDisplayNode"],function(e,t){return e.interfaceDef("platform.dependent.graphics.ITextBlock",t,function(){e.collection("spans"),e.events(["hyperlinkInvoked"]),e.properties({format:{get:void 0},maxLines:{get:void 0},horizontalAlignment:{get:void 0},verticalAlignment:{get:void 0},spanAlignment:{get:void 0},naturalWidth:{get:void 0},naturalHeight:{get:void 0}})})})}(),function(){"use strict";define("platform/common/Shadow",["core/oop"],function(e){var t=e.classDef("platform.common.Shadow",Object,function(){e.initConstructor(),e.properties({isImmutable:{get:function(){return!0}},x:{defaultValue:0},y:{defaultValue:0},blur:void 0,color:void 0}),e.methods({scaleOffset:function(e){return t.new({x:this.x*e,y:this.y*e,blur:this.blur,color:this.color})}})});return t})}(),function(){"use strict";define("platform/dependent/graphics/ISpan",["core/oop"],function(e){return e.interfaceDef("platform.dependent.graphics.ISpan",void 0,function(){e.properties({text:{get:void 0},format:{get:void 0},parent:{get:void 0}})})})}(),function(){"use strict";define("platform/dependent/graphics/Span",["core/oop","platform/dependent/graphics/DOMElementWrapper","platform/common/Shadow","platform/dependent/graphics/ISpan","platform/dependent/graphics/DynamicStyleManager","platform/dependent/graphics/DisplayNodeBase"],function(e,t,i,n,o,r){var a=e.classDef("platform.dependent.graphics.Span",[t,n],function(n){e.constructor(function(){n.$ctor.apply(this,arguments)}),e.properties({text:{onChange:function(e){this._wrappedElement.textContent=e,this._notifyParentOfSizeChange()}},format:{onChange:"_updateStyle"},shouldBeMeasured:{get:function(){return void 0!==this.text&&void 0!==this.format}}}),e.methods({_createWrappedElements:function(){this._wrappedElement=t.createDOMElement("span")},_updateStyle:function(e,t){void 0!==e?(a._textFormatToCSS(e,this._wrappedElement.style),void 0!==t&&!1!==t.sizeEquals(e)||this._notifyParentOfSizeChange()):(this._wrappedElement.removeAttribute("style"),this._notifyParentOfSizeChange())},_notifyParentOfSizeChange:function(){var e=this.parent;void 0!==e&&!0===this.shouldBeMeasured&&e._invalidateSpanContainerSize()}}),e.staticScope(function(){e.constructor(function(){this._outlineApproximation=[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1},{x:-1,y:0}]}),e.properties({_fontFamilyNameCount:{defaultValue:0},_outlineApproximation:void 0}),e.methods({_textFormatToCSS:function(e,t){var n,s=e.font,l=o.singleton.getStyleInfo(s);if(void 0===l){n="font"+a._fontFamilyNameCount++;var c="@font-face { font-family:"+n+";src:url("+s+"); }";o.singleton.addStyle(s,c,n)}else n=l;t.fontFamily=n,t.fontSize=e.size+"px",!0===e.italic?(t.fontStyle="italic",t.paddingRight=e.size*Math.tan(Math.PI/15)+"px"):t.fontStyle="normal",t.textDecoration=!0===e.underlined?"underline":"none",t.textTransform=!0===e.uppercase?"uppercase":"none",void 0!==e._explicitLineHeight?t.lineHeight=e._explicitLineHeight+"px":t.lineHeight="",t.letterSpacing=e.letterSpacing+"px";var d=[];e.outlineThickness>0&&void 0!==e.outlineColor&&a._outlineApproximation.forEach(function(t){d.push(i.new({x:t.x,y:t.y,blur:e.outlineThickness,color:e.outlineColor}))}),d.push(e.shadow),d.push(e.shadow2),t.textShadow=r._shadowsToCSS(d),t.color=r._colorToCSS(e.color),!0===e.bold?t.fontWeight="bold":t.fontWeight=""}})})});return a})}(),function(){"use strict";define("platform/dependent/graphics/TextBlock",["core/oop","core/Debug","core/HorizontalAlignment","core/VerticalAlignment","platform/dependent/graphics/DisplayNodeBase","platform/dependent/graphics/DisplayNode","platform/dependent/graphics/DOMElementWrapper","platform/dependent/graphics/ITextBlock","platform/dependent/graphics/Span","core/logging/Counters"],function(e,t,i,n,o,r,a,s,l,c){var d=e.classDef("platform.dependent.graphics.TextBlock",[r,s],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._applyWrapStyle(),this._applyTextStyle(),this._updateSpanContainerPosition()}),e.collection("spans",function(e,t){if(e.parent,e.parent=this,t<this._spans.length-1){var i=this._spanContainer.children;this._spanContainer.insertBefore(e.wrappedElement,i[t])}else this._spanContainer.appendChild(e.wrappedElement);this._invalidateSpanContainerSize()},function(e){e.parent=void 0,this._spanContainer.removeChild(e.wrappedElement),this._invalidateSpanContainerSize()}),e.properties({format:{onChange:"_applyTextStyle"},maxLines:void 0,horizontalAlignment:{defaultValue:i.LEFT,onChange:"_applyHorizontalAlignmentStyle"},verticalAlignment:{defaultValue:n.TOP,onChange:"_applyVerticalAlignmentStyle"},spanAlignment:{defaultValue:n.CENTER,onChange:"_updateSpanContainerPosition"},naturalWidth:{get:function(){var e;return!0!==this._recalculateNaturalSize&&void 0!==this._naturalWidthCache?e=this._naturalWidthCache:!1===this._hasCompleteSpans||!1===this.isVisible?e=0:(this._cacheTextSize(),e=this._naturalWidthCache),e||0}},naturalHeight:{get:function(){var e;return!0!==this._recalculateNaturalSize&&void 0!==this._naturalHeightCache?e=this._naturalHeightCache:!1===this._hasCompleteSpans||!1===this.isVisible?e=0:(this._cacheTextSize(),e=this._naturalHeightCache),e||0}},_spanContainer:void 0,_hasCompleteSpans:{get:function(){if(!1===this._isInitialized)return!1;var e=this.spans,t=e.length;if(0===t)return!1;for(var i=0;i<t;++i){if(!1===e.getAt(i).shouldBeMeasured)return!1}return!0}},_wrappedElementChildContainer:{get:function(){return void 0===this.__wrappedElementChildContainer&&(this.__wrappedElementChildContainer=a.createDOMElement("div"),this.__wrappedElementChildContainer.className="default",this._setDebugData(this.__wrappedElementChildContainer,"displayNodePart","wrappedElementChildContainer"),this._wrappedElement.appendChild(this.__wrappedElementChildContainer)),this.__wrappedElementChildContainer},set:function(){}},__wrappedElementChildContainer:void 0,_naturalWidthCache:void 0,_naturalHeightCache:void 0,_recalculateNaturalSize:void 0}),e.events(["hyperlinkInvoked"]),e.methods({_performMultilineWrappingIfNecessary:function(){this.maxLines>1&&void 0!==this._explicitWidth&&this._performMultilineWrapping()},_performMultilineWrapping:function(){d._getTextMeasureContainer().childNodes.length;this.spans.forEach(function(e){d._removeChildNodes(e.wrappedElement)});var e=this._wrappedElement.cloneNode(!0),t=e.firstChild.childNodes;d._getTextMeasureContainer().appendChild(e);for(var i=Math.floor(this._explicitWidth),n=1,o=!1,r=0;r<this.spans.length&&!1===o;++r){var a=d._splitIntoWords(this.spans.getAt(r).text),s=d._createSpanElement(i);t[r].appendChild(s),s.textContent="…";var l=d._getOffsetWidth(s);for(s.textContent="";a.length>0&&n<=this.maxLines;){var c=a.shift(),u=s.textContent,p=u;!0===d._containsNonWhitespace(u)&&d._containsNonWhitespace(c)&&(p+=" "),p+=c,s.textContent=p;var h="\n"===c,g=d._getOffsetWidth(s)<i;if(!0===h||!1===g){if(!(n<this.maxLines)){!0===h&&(s.textContent=u),o=!0;break}if(!1===g&&(s.textContent=u+"\n"),n+=1,i=Math.floor(this._explicitWidth),n===this.maxLines&&(i-=l),s=d._createSpanElement(i),t[r].appendChild(s),!0===d._containsNonWhitespace(c)&&(s.textContent=c),n===this.maxLines&&d._getOffsetWidth(s)>=i){o=!0;break}}}!0===o?(d._trimToFit(s,i),s.textContent=s.textContent+"…"):i-=d._getOffsetWidth(s)}this._moveChildSpansToTree(t),d._getTextMeasureContainer().removeChild(e)},_moveChildSpansToTree:function(e){for(var t=0;t<this.spans.length;++t)for(;!0===e[t].hasChildNodes();){var i=e[t].removeChild(e[t].firstChild);i.style.display="inline",this.spans.getAt(t).wrappedElement.appendChild(i)}},_createWrappedElements:function(){t._createWrappedElements.call(this),this._spanContainer=a.createDOMElement("span"),this._spanContainer.style.display="inline-block",this._spanContainer.style.position="absolute",this._setDebugData(this._spanContainer,"displayNodePart","spanContainer"),this._wrappedElement.appendChild(this._spanContainer)},_onVisibilityChanged:function(e){t._onVisibilityChanged.apply(this,arguments),!0===e&&this._invalidateSpanContainerSize()},_onExplicitWidthChanged:function(e,i){void 0===e&&void 0!==i&&(this._recalculateNaturalSize=!0),this._clearCachedMetrics(),t._onExplicitWidthChanged.apply(this,arguments),this._applyWrapStyle(),this._updateSpanContainerPosition()},_onExplicitHeightChanged:function(e,i){void 0===e&&void 0!==i&&(this._recalculateNaturalSize=!0),this._clearCachedMetrics(),t._onExplicitHeightChanged.apply(this,arguments),this._updateSpanContainerPosition()},_updateSpanContainerPosition:function(){if(!0===this._isInitialized&&!0===this._hasCompleteSpans){var e=this.horizontalAlignment,t=this.verticalAlignment,r=this._spanContainer.style;r.height="",this._performMultilineWrappingIfNecessary();var a=0,s=0,l=this.height;e===i.CENTER?a=this.width/2-this.naturalWidth/2:e===i.RIGHT&&(a=this.width-this.naturalWidth),1===this.maxLines&&void 0!==this.format&&this.format.lineHeight===l||(t===n.CENTER?s=l/2-this.naturalHeight/2:t===n.BOTTOM&&(s=l-this.naturalHeight));var c=this.format;if(void 0!==c){var d=c.lineHeight,u=c.size,p=c.descenderHeight,h=Math.max(0,p-(d-u));this.spanAlignment===n.TOP?(s-=(d-u)/2+c.ascenderHeight,r.height=l+h+"px"):this.spanAlignment===n.BOTTOM&&(s+=(d-u)/2+p,r.height=l+h+"px")}var g=o._transformToCss(a,s,0,1,1);r[o._transformCssPropName]=g,e===i.CENTER?r.textAlign="center":e===i.RIGHT&&(r.textAlign="right")}},_applyTextStyle:function(){void 0!==this.format&&l._textFormatToCSS(this.format,this._spanContainer.style)},_applyWrapStyle:function(){var e=this._spanContainer.style;void 0!==this.maxLines?(e.whiteSpace="pre",1===this.maxLines?(e.overflow="hidden",e.textOverflow="ellipsis"):(e.overflow="",e.textOverflow=""),void 0!==this._explicitWidth?e.maxWidth=this.width+"px":e.maxWidth=""):(void 0!==this._explicitWidth?e.whiteSpace="pre-wrap":e.whiteSpace="pre",e.overflow="",e.textOverflow="",e.maxWidth="")},_applyHorizontalAlignmentStyle:function(){this._updateSpanContainerPosition()},_applyVerticalAlignmentStyle:function(){this._updateSpanContainerPosition()},_cacheTextSize:function(){if(!0===this._recalculateNaturalSize)this._measureTextSize(),this._recalculateNaturalSize=!1;else if(d._isInTheDOM(this._wrappedElement)&&!0===this._isAncestryTreeVisible()){var e=this._spanContainer;this._naturalWidthCache=d._getOffsetWidth(e),this._naturalHeightCache=e.offsetHeight}else this._measureTextSize()},_measureTextSize:function(){c.singleton.incrementCounter("TextBlock.size_workaround");var e=d._getTextMeasureContainer(),t=this._wrappedElement.cloneNode(!0),i=t.firstChild;e.appendChild(t),this._naturalWidthCache=d._getOffsetWidth(i),this._naturalHeightCache=i.offsetHeight,e.removeChild(t)},_isAncestryTreeVisible:function(){for(var e=!0,t=this;!0===e&&void 0!==t;)e=t.isVisible,t=t.parent;return!0===e},_clearCachedMetrics:function(){this._naturalHeightCache=void 0,this._naturalWidthCache=void 0,this._spanContainer.style.height=""},_invalidateSpanContainerSize:function(){this._clearCachedMetrics(),this._updateSpanContainerPosition()},_handleChildHyperlinkSpanClick:function(e){this._onHyperlinkInvoked(e)}}),e.staticScope(function(){e.methods({_getTextMeasureContainer:function(){var e=window.document.getElementById("textMeasureContainer");return null===e&&(e=window.document.createElement("DIV"),e.id="textMeasureContainer",e.style.position="absolute",e.style.display="block",e.style.width="0px",e.style.height="0px",e.style.overflow="hidden",e.style.visibility="hidden",window.document.body.appendChild(e)),e},_isInTheDOM:function(e){return window.document.body.contains(e)},_removeChildNodes:function(e){for(;!0===e.hasChildNodes();)e.removeChild(e.firstChild)},_createSpanElement:function(e){var t=a.createDOMElement("span");return t.style.display="inline-block",t.style.maxWidth=e+"px",t},_getOffsetWidth:function(e){return e.offsetWidth},_trimToFit:function(e,t){for(var i=e.textContent;d._getOffsetWidth(e)>=t&&i.length>0;)i=i.substring(0,i.length-1),e.textContent=i},_splitIntoWords:function(e){if(!0===d._containsNonWhitespace(e)){var t=e.split("\n").map(function(e){return e.trim()});t=t.reduce(function(e,t,i){return i>0&&e.push("\n"),e=e.concat(t.split(" "))},[]);var i=e.match(/^ +/),n=e.match(/ +$/);return i&&t.unshift(i[0]),n&&t.push(n[0]),t}
return[e]},_containsNonWhitespace:function(e){return!!e.match(/\S/)}})})});return d})}(),function(){"use strict";define("ui/views/TextView",["core/oop","lib/Promise","core/HorizontalAlignment","core/VerticalAlignment","core/Exception","ui/views/View","ui/viewModels/ValueViewModel","ui/viewModels/ValueArrayViewModel","platform/dependent/graphics/TextBlock","platform/dependent/graphics/Span","lib/lodash/collections/forEach"],function(e,t,i,n,o,r,a,s,l,c,d){var u=e.classDef("ui.views.TextView",r,function(r){e.constructor(function(){for(var e=0;e<arguments.length;e++)for(var t=arguments[e],i=0;i<u._preInitProperties.length;i++){var n=u._preInitProperties[i];t.hasOwnProperty(n)&&(this[n]=t[n])}r.$ctor.apply(this,arguments)}),e.staticScope(function(){e.constructor(function(){this._preInitProperties=["maxLines","verticalAlignment","horizontalAlignment","spanAlignment","format","width","height"]}),e.methods({readTextBlock:function(e){var t=[];return void 0!==e&&e.spans.forEach(function(e){void 0!==e.text&&""!==e.text&&t.push(e.text)}),t},readTextBlockToString:function(e){var t="";return void 0!==e&&e.spans.forEach(function(e){t+=e.text}),t}}),e.properties({_preInitProperties:void 0})}),e.properties({maxLines:{defaultValue:1,onChange:"_updateMaxLines"},_text:void 0,format:{onChange:"_applyFormatStyle"},horizontalAlignment:{defaultValue:i.LEFT,onChange:"_applyHorizontalAlignmentStyle"},verticalAlignment:{defaultValue:n.TOP,onChange:"_applyVerticalAlignmentStyle"},spanAlignment:{defaultValue:n.CENTER,onChange:"_applySpanAlignmentStyle"},spanFormats:{onChange:"_applyFormatStyle"}}),e.methods({_createDisplayProxy:function(){return l.new({owner:this,maxLines:this.maxLines,opacity:1,verticalAlignment:this.verticalAlignment,spanAlignment:this.spanAlignment,horizontalAlignment:this.horizontalAlignment,format:this.format,width:this._explicitWidth,height:this._explicitHeight})},_updateDisplayProxySize:function(){this._displayProxy.width=this._explicitWidth,this._displayProxy.height=this._explicitHeight,this._syncNaturalSize()},_getInvokedData:function(){return this._text},_getUserInteractionContext:function(){return{text:this._getInvokedData()}},_raiseSizeChanged:function(){void 0!==this._displayProxy&&r._raiseSizeChanged.apply(this,arguments)},getAutomationPeer:function(){var e=r.getAutomationPeer.call(this);return e.text=u.readTextBlock(this._displayProxy),e},_getAccessibilityTextImpl:function(){return this._text},_removeOldText:function(){this._displayProxy.spans.removeAll()},_applyHorizontalAlignmentStyle:function(){void 0!==this._displayProxy&&(this._displayProxy.horizontalAlignment=this.horizontalAlignment)},_applyVerticalAlignmentStyle:function(){void 0!==this._displayProxy&&(this._displayProxy.verticalAlignment=this.verticalAlignment)},_applySpanAlignmentStyle:function(){void 0!==this._displayProxy&&(this._displayProxy.spanAlignment=this.spanAlignment)},_getFormatForSpanIndex:function(e){return void 0!==this.spanFormats&&void 0!==this.spanFormats[e]?this.spanFormats[e]:this.format},_applyFormatStyle:function(){if(void 0!==this._displayProxy){this._displayProxy.format=this.format;var e=this;this._displayProxy.spans.forEach(function(t){t.format=e._getFormatForSpanIndex(e._displayProxy.spans.indexOf(t))}),this._syncNaturalSize()}},_updateMaxLines:function(){void 0!==this._displayProxy&&(this._displayProxy.maxLines=this.maxLines)},_getViewModelProperties:function(e){return e.implementsInterface(s)?{values:e.values}:{values:e.implementsInterface(a)?e.value:e.text}},_processStrings:function(e){return e},_createSpan:function(e,t){return c.new({text:void 0!==e?e:"",format:this._getFormatForSpanIndex(t)})},_bindChildViews:function(e){var t=void 0!==e?e.values:void 0;"string"==typeof t&&(t=[t]),t=this._processStrings(t),this._removeOldText(),this._text=void 0!==t?t.join(""):void 0;var i=this;d(t,function(e,t){i._displayProxy.spans.add(i._createSpan(e,t))}),this._syncNaturalSize()},_syncNaturalSize:function(){var e=this.isVisible;this.isVisible=!0,void 0!==this._explicitWidth&&void 0!==this._explicitHeight||this._setNaturalSize(this._displayProxy.width,this._displayProxy.height),this.isVisible=e},_onViewModelChanged:function(e){r._onViewModelChanged.apply(this,arguments);var i=this;i.runUntilDisposed("textViewModelChangedPromiseChain",function(){return(void 0===e?t.fulfilled(void 0):t.props(i._getViewModelProperties(e))).then(function(e){i._bindChildViews(e),i._updateAccessibility(),i._fulfillReadyPromise()}).catch(function(e){i._removeOldText(),i._rejectReadyPromise(o.wrap(e,{message:"ViewModelChange promise rejected",area:"ui.views.TextView._onViewModelChanged"}))})})}})});return u})}(),define("lib/lodash/internals/keyPrefix",[],function(){return+new Date+""}),define("lib/lodash/internals/cacheIndexOf",["./baseIndexOf","./keyPrefix"],function(e,t){function i(i,n){var o=typeof n;if(i=i.cache,"boolean"==o||null==n)return i[n]?0:-1;"number"!=o&&"string"!=o&&(o="object");var r="number"==o?n:t+n;return i=(i=i[o])&&i[r],"object"==o?i&&e(i,n)>-1?0:-1:i?0:-1}return i}),define("lib/lodash/internals/cachePush",["./keyPrefix"],function(e){function t(t){var i=this.cache,n=typeof t;if("boolean"==n||null==t)i[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var o="number"==n?t:e+t,r=i[n]||(i[n]={});"object"==n?(r[o]||(r[o]=[])).push(t):r[o]=!0}}return t}),define("lib/lodash/internals/createCache",["./cachePush","./getObject","./releaseObject"],function(e,t,i){function n(i){var n=-1,o=i.length,r=i[0],a=i[o/2|0],s=i[o-1];if(r&&"object"==typeof r&&a&&"object"==typeof a&&s&&"object"==typeof s)return!1;var l=t();l.false=l.null=l.true=l.undefined=!1;var c=t();for(c.array=i,c.cache=l,c.push=e;++n<o;)c.push(i[n]);return c}return n}),define("lib/lodash/internals/largeArraySize",[],function(){return 75}),define("lib/lodash/internals/baseUniq",["./baseIndexOf","./cacheIndexOf","./createCache","./getArray","./largeArraySize","./releaseArray","./releaseObject"],function(e,t,i,n,o,r,a){function s(s,l,c){var d=-1,u=e,p=s?s.length:0,h=[],g=!l&&p>=o,f=c||g?n():h;if(g){var m=i(f);m?(u=t,f=m):(g=!1,f=c?f:(r(f),h))}for(;++d<p;){var v=s[d],_=c?c(v,d,s):v;(l?!d||f[f.length-1]!==_:u(f,_)<0)&&((c||g)&&f.push(_),h.push(v))}return g?(r(f.array),a(f)):c&&r(f),h}return s}),define("lib/lodash/arrays/uniq",["../internals/baseUniq","../functions/createCallback"],function(e,t){function i(i,n,o,r){return"boolean"!=typeof n&&null!=n&&(r=o,o=r&&r[n]===i?null:n,n=!1),null!=o&&(o=t(o,r,3)),e(i,n,o)}return i}),function(){"use strict";define("ui/ReactUIManager",["core/oop","core/Debug","core/Disposable","core/data/ExplicitValueProvider","ui/ReactComponentDescriptor","ui/ReactComponentRegistry","ui/StyleSheet","ui/ViewFactory","ui/viewModelProviders/ValueArrayProvider","ui/viewModelProviders/ValueProvider","ui/views/TextView","ui/views/View","lib/lodash/arrays/uniq","lib/lodash/objects/assign","lib/lodash/objects/forOwn","lib/lodash/objects/isEqual","lib/lodash/objects/merge","lib/react"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("ui.ReactUIManager",i,function(){e.singleton(function(){this._created(),this._viewCreators={RCTView:this._createReadyInitView},this._nonViewComponentTypes=["RCTSpan","RCTRawText"]}),e.properties({_viewCreators:void 0,_typeMap:void 0,_nonViewComponentTypes:void 0}),e.methods({injectTypeMap:function(e){this._typeMap=e},start:function(){v.ReactNative.configure({UIManager:this})},createView:function(e,t,i,n){if(this._isNonViewComponentType(t))r.singleton.register(e,o.new({componentType:t,props:n}),t);else{if(!this._isViewComponentType(t))throw new Error("unexpected component type: "+t);var s,l={_reactPeerId:e};if(null!==n){var c=a.flatten(n.style);h(l,c)}else n={};s=void 0!==this._viewCreators[t]?this._viewCreators[t](l,n):this._createFromTypeMap(t,l,n),r.singleton.register(e,s,t)}},setChildren:function(e,t){r.singleton.addChildIds(e,t);var i=r.singleton.get(e);if(!(i instanceof o))if(i instanceof d)this._setTextViewProperties(e,t,i);else for(var n=0;n<t.length;++n){var a=r.singleton.get(t[n]);a.layoutOrder=n,this._addChild(i,a)}},removeSubviewsFromContainerWithID:function(e){},manageChildren:function(e,t,i,n,o,a){var s=this,l=r.singleton.get(e);if(void 0!==a){p(a).length,a.length,f(a.slice().sort(function(e,t){return e<t?-1:1}),a);var c=r.singleton.getChildIds(e);a.map(function(e){return c[e]}).forEach(function(e){r.singleton.deregisterComponent(e,!0)})}if(void 0!==n&&(p(o).length,o.length,f(o.slice().sort(function(e,t){return e<t?-1:1}),o),l instanceof d==!1&&n.forEach(function(t,i){var n=r.singleton.get(t);n.layoutOrder=o[i];var a=r.singleton.getChildIds(e);void 0!==a&&a.map(function(e){return r.singleton.get(e)}).filter(function(e){return e.layoutOrder>=o[i]}).sort(function(e,t){return t.layoutOrder-e.layoutOrder}).forEach(function(e){e.layoutOrder+=1}),s._addChild(l,n,o[i])}),r.singleton.addChildIds(e,n,o)),l instanceof d){var u=r.singleton.getChildIds(e);this._setTextViewProperties(e,u,l)}},updateView:function(e,t,i){var n=r.singleton.get(e);if(this._isNonViewComponentType(t)){m(n.props,i);var s=r.singleton.getParentId(e),l=r.singleton.get(s);l instanceof o&&(s=r.singleton.getParentId(s),l=r.singleton.get(s));var c=r.singleton.getChildIds(s);this._setTextViewProperties(s,c,l)}else{if(!this._isViewComponentType(t))throw new Error("unexpected component type: "+t);var d=a.flatten(i.style);g(d,function(e,t){n[t]!==e&&(n[t]=e)})}},replaceExistingNonRootView:function(e,t){var i=r.singleton.getParentId(e),n=r.singleton.getChildIds(i),o=n.indexOf(e);this.manageChildren(i,void 0,void 0,[t],[o],[o])},_isNonViewComponentType:function(e){return this._nonViewComponentTypes.indexOf(e)>=0},_isViewComponentType:function(e){return void 0!==this._viewCreators[e]||void 0!==this._typeMap[e]},_addChild:function(e,t,i){void 0!==i?e.children.insertAt(i,t):e.children.add(t)},_setTextViewProperties:function(e,t,i){if(1===t.length&&"RCTRawText"===r.singleton.get(t[0]).componentType)i.viewModel=this._createTextViewModelFromRawText(r.singleton.get(t[0]));else{var n=[];t.forEach(function(e){var t=r.singleton.getChildIds(e);t.length;var i=r.singleton.get(t[0]);n.push(i.props.text)}),i.viewModel=l.new(n),this._updateFormats(e)}},_createTextViewModelFromRawText:function(e){var t=e.props.text,i=n.new(t);return i.initialize({value:t}),c.new(i,"value")},_updateFormats:function(e){var t=[];r.singleton.getChildIds(e).forEach(function(e){var i=r.singleton.get(e);t.push(i.props.format)}),r.singleton.get(e).spanFormats=t},_createReadyInitView:function(e,t){return void 0!==t.template?s.singleton.create(t.template,e):u.new({isReadyInit:!0,reactEventHandlers:t.eventHandlers},e)},_createFromTypeMap:function(e,t,i){var n=this._typeMap[e],o={isReadyInit:!0,reactEventHandlers:i.eventHandlers};return n.type.new(n.defaultInitArgs,t,o)}})})})}(),define("lib/lodash/internals/slice",[],function(){function e(e,t,i){t||(t=0),void 0===i&&(i=e?e.length:0);for(var n=-1,o=i-t||0,r=Array(o<0?0:o);++n<o;)r[n]=e[t+n];return r}return e}),define("lib/lodash/internals/baseClone",["../objects/assign","./baseEach","../objects/forOwn","./getArray","../objects/isArray","./isNode","../objects/isObject","./releaseArray","./slice","../support"],function(e,t,i,n,o,r,a,s,l,c){function d(_,S,C,T,R){if(C){var P=C(_);if(void 0!==P)return P}if(!a(_))return _;var E=w.call(_);if(!v[E]||!c.nodeClass&&r(_))return _;var I=b[E];switch(E){case p:case h:return new I(+_);case g:case m:return new I(_);case f:return P=I(_.source,u.exec(_)),P.lastIndex=_.lastIndex,P}var x=o(_);if(S){var A=!T;T||(T=n()),R||(R=n());for(var k=T.length;k--;)if(T[k]==_)return R[k];P=x?I(_.length):{}}else P=x?l(_):e({},_);return x&&(y.call(_,"index")&&(P.index=_.index),y.call(_,"input")&&(P.input=_.input)),S?(T.push(_),R.push(P),(x?t:i)(_,function(e,t){P[t]=d(e,S,C,T,R)}),A&&(s(T),s(R)),P):P}var u=/\w*$/,p="[object Boolean]",h="[object Date]",g="[object Number]",f="[object RegExp]",m="[object String]",v={};v["[object Function]"]=!1,v["[object Arguments]"]=v["[object Array]"]=v[p]=v[h]=v[g]=v["[object Object]"]=v[f]=v[m]=!0;var _=Object.prototype,y=_.hasOwnProperty,w=_.toString,b={};return b["[object Array]"]=Array,b[p]=Boolean,b[h]=Date,b["[object Function]"]=Function,b["[object Object]"]=Object,b[g]=Number,b[f]=RegExp,b[m]=String,d}),define("lib/lodash/objects/clone",["../internals/baseClone","../internals/baseCreateCallback"],function(e,t){function i(i,n,o,r){return"boolean"!=typeof n&&null!=n&&(r=o,o=n,n=!1),e(i,n,"function"==typeof o&&t(o,r,1))}return i}),function(){"use strict";define("ui/navigation/Breadcrumb",["core/oop","core/Debug","lib/lodash/objects/clone","lib/lodash/objects/forOwn"],function(e,t,i,n){var o=e.classDef("ui.navigation.Breadcrumb",Object,function(){e.constructor(function(e){this._navigationIndex=e.navigationIndex,this.locationName=e.locationName;var t;void 0!==e.locationTitle&&(t=e.locationTitle.replace("\n"," "));var i;void 0!==e.analyticsTitle&&(i=e.analyticsTitle.replace("\n"," ")),this.locationTitle=t,this.analyticsTitle=i||t,this.isAnchor=!0===e.isAnchor,this._setActivationArgs(e.activationArgs),void 0!==this._activationArgs&&(this.modelId=this._activationArgs.modelId),this.uri=e.uri}),e.properties({locationName:void 0,locationTitle:void 0,analyticsTitle:void 0,prerollUri:void 0,isAnchor:void 0,navigationIndex:{defaultValue:0,privateSet:!0},uri:void 0,modelId:void 0,_activationArgs:void 0,_stateArgs:void 0}),e.staticScope(function(){e.methods({deserialize:function(e){var t=JSON.parse(e),i=o.new({navigationIndex:t.navigationIndex,locationName:t.locationName,locationTitle:t.locationTitle,analyticsTitle:t.analyticsTitle,activationArgs:t.activationArgs,isAnchor:t.isAnchor,uri:t.uri,modelId:t.modelId});return i.setStateArgs(t.stateArgs),i}})}),e.methods({serialize:function(){return JSON.stringify({navigationIndex:this.navigationIndex,locationName:this.locationName,locationTitle:this.locationTitle,analyticsTitle:this.analyticsTitle,activationArgs:this._activationArgs,isAnchor:this.isAnchor,stateArgs:this._stateArgs,uri:this.uri})},getStateArgs:function(){var e;return void 0!==this._stateArgs&&(e=i(this._stateArgs,!0)),e},getActivationArgs:function(){var e;return void 0!==this._activationArgs&&(e=i(this._activationArgs,!0)),e},resetActivationArgs:function(){void 0!==this._activationArgs&&delete this._activationArgs.autoplay},setStateArgs:function(e){void 0!==e?(this._validateArg(e),this._stateArgs=i(e,!0)):this._stateArgs=void 0},_setActivationArgs:function(e){void 0!==e&&(this._validateArg(e),this._activationArgs=i(e,!0))},_validateArg:function(e){void 0===e||e.typeName,n(e,function(e){this._validateArg(e)},this)}})});return o})}(),function(){"use strict";define("ui/navigation/PageViewLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("ui.navigation.PageViewLogEntry",t,function(){e.initConstructor(function(){this._type="pageview"}),e.properties({uri:void 0,modelId:void 0})})})}(),function(){"use strict";define("ui/ViewHostFactory",["core/oop","ui/TemplateFactory"],function(e,t){return e.classDef("ui.ViewHostFactory",t,function(t){e.singleton(function(){this.factoryIdSuffix="ViewHost"}),e.methods({create:function(e,i){return t.create.apply(this,[e,i])}})})})}(),function(){"use strict";define("ui/navigation/ViewReadyLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("ui.navigation.ViewReadyLogEntry",t,function(){e.initConstructor(function(){this._type="viewready"})})})}(),function(){"use strict";define("ui/views/InvokeableView",["core/oop","ui/views/View"],function(e,t){return e.classDef("ui.views.InvokeableView",t,function(t){e.constructor(function(){this.isPointerTarget=!0,this.isFocusTarget=!0,this.isInvokable=!0,t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("platform/common/ScrollUtil",["core/oop"],function(e){return e.classDef("platform.common.ScrollUtil",Object,function(){e.staticScope(function(){e.methods({getSnapIndex:function(e,t){var i=void 0!==t?t.length:0;if(i>0&&e>=t[0]&&e<=t[i-1])for(var n=1;n<i;n++){var o=t[n-1],r=t[n];if(e>=o&&e<=r){var a=(o+r)/2;return e<=a?n-1:n}}return-1},snapTo:function(e,t,i){if(!1===i){var n=this.getSnapIndex(e,t);if(n>=0)return t[n]}return e}})})})})}(),function(){"use strict";define("ui/views/ScrollView",["core/oop","core/Debug","design/analytics/UserInteractionTargets","ui/views/InvokeableView","platform/dependent/graphics/Scroller","platform/common/ScrollUtil","core/Lifecycleable","ui/Presence"],function(e,t,i,n,o,r,a,s){return e.classDef("ui.views.ScrollView",n,function(t){e.staticScope(function(){e.methods({_calculateNewScrollOffset:function(e,t,i,n,o,r,a){var s=r+a,l=e,c=o-n;if(r<n||a>c?l-=n-r:s>o&&(l+=s-o),l+=t,void 0!==i&&l!==e){var d,u,p=i.length;if(p>=2){var h=e+t;if(h>s){for(d=p-1;d>=0&&s<=i[d];d--)u=i[d];void 0!==u&&h>u&&(l=Math.min(u,l))}else if(h<r){for(d=0;d<p&&r>=i[d];d++)u=i[d];void 0!==u&&h<u&&(l=Math.max(u,l))}}}return l}})}),e.constructor(function(){t.$ctor.apply(this,arguments),void 0!==this.reactEventHandlers&&(this._updateReactScrollStateCallback=this.reactEventHandlers.updateScrollValues),this._proxyScrollOffsetXChangedHandler=this._onProxyScrollOffsetXChanged.bind(this),this._proxyScrollOffsetYChangedHandler=this._onProxyScrollOffsetYChanged.bind(this),this._proxyManipulationStartedHandler=this._onProxyManipulationStarted.bind(this),this._proxyManipulationStoppedHandler=this._onProxyManipulationStopped.bind(this),this._proxyScrollInertiaHandler=this._onProxyScrollInertia.bind(this),this._displayProxy.scrollOffsetXChanged.on(this._proxyScrollOffsetXChangedHandler),this._displayProxy.scrollOffsetYChanged.on(this._proxyScrollOffsetYChangedHandler),this._displayProxy.manipulationStarted.on(this._proxyManipulationStartedHandler),this._displayProxy.manipulationStopped.on(this._proxyManipulationStoppedHandler),this._displayProxy.scrollInertia.on(this._proxyScrollInertiaHandler),void 0===this.scrollPadding&&(this.scrollPadding={left:0,right:0,top:0,bottom:0}),this._checkSnapTarget(),this.analyticsValue=i.NONE}),e.properties({scrollProps:{onChange:"_onScrollPropsChanged"},stateArgs:{get:function(){return this._getStateArgs()},set:function(e){this._setStateArgs(e)}},bottomScrollPadding:void 0,minScrollHeight:void 0,throttleButtonScrollAnimations:void 0,animateButtonScrolling:void 0,enableScrollToAnimation:{defaultValue:!0},canScrollHorizontally:{get:function(){return this._displayProxy.canScrollHorizontally},set:function(e){this._displayProxy.canScrollHorizontally=e}},canScrollVertically:{get:function(){return this._displayProxy.canScrollVertically},set:function(e){this._displayProxy.canScrollVertically=e}},canUserScroll:{get:function(){return this._displayProxy.canUserScroll},set:function(e){this._displayProxy.canUserScroll=e}},scrollOffsetX:{get:function(){return this._displayProxy.scrollOffsetX}},scrollOffsetY:{get:function(){return this._displayProxy.scrollOffsetY}},scrollWidth:{privateSet:!0},scrollHeight:{privateSet:!0},_scrollWidth:{get:function(){return this._displayProxy.scrollWidth},set:function(e){this._displayProxy.scrollWidth=e}},_scrollHeight:{get:function(){return this._displayProxy.scrollHeight},set:function(e){this._displayProxy.scrollHeight=e}},clipToBounds:{get:function(){return this._displayProxy.clipToBounds},set:function(){}},snapPointsX:{onChange:"_onSnapPointsChanged"},snapPointsY:{onChange:"_onSnapPointsChanged"},showScrollbar:{defaultValue:!1,onChange:function(e){this._displayProxy.showScrollbar=e}},indirectPanningEnabled:{defaultValue:!1,onChange:function(e){this._displayProxy.indirectPanningEnabled=e}},runsLayout:{get:function(){return!0}},layout:{get:function(){},set:function(){}},localViewport:{get:function(){return{x:this.scrollOffsetX,y:this.scrollOffsetY,width:this.width,height:this.height}}},scrollPadding:void 0,restoresScrollOffset:{defaultValue:!1},_startedButtonDrivenScroll:{defaultValue:!1},scrollDestX:{get:function(){return void 0!==this._scrollDestX?this._scrollDestX:this.scrollOffsetX}},scrollDestY:{get:function(){return void 0!==this._scrollDestY?this._scrollDestY:this.scrollOffsetY}},reactEventHandlers:void 0,_scrollDestX:void 0,_scrollDestY:void 0,_updateReactScrollStateCallback:void 0,_proxyScrollOffsetXChangedHandler:void 0,_proxyScrollOffsetYChangedHandler:void 0,_proxyManipulationStartedHandler:void 0,_proxyManipulationStoppedHandler:void 0,_proxyScrollInertiaHandler:void 0,_isProxyInInertia:{defaultValue:!1},_snapTargetIndices:{defaultValue:{x:-1,y:-1},onChange:"_onSnapTargetIndicesChanged"},isUserScrolling:{defaultValue:!1,privateSet:!0},constrainScrolling:{defaultValue:!1}}),e.events(["scrollOffsetXChanged","scrollOffsetYChanged","manipulationStarted","manipulationStopped"]),e.methods({getAutomationPeer:function(){var e=t.getAutomationPeer.call(this);return e.scroll={scrollOffsetY:this.scrollOffsetY,scrollOffsetX:this.scrollOffsetX,scrollWidth:this.scrollWidth,scrollHeight:this.scrollHeight},e},scrollTo:function(e,t,i,n){this._scrollTo(e,t,i,!1,n)},_scrollTo:function(e,t,i,n,o){var r,a;r=!0===this.canScrollHorizontally?this._snapTo(e,this.snapPointsX):e=0,a=!0===this.canScrollVertically?this._snapTo(t,this.snapPointsY):t=0,!0===this._isUserScrolling||this._scrollDestX===e&&this._scrollDestY===t&&!0===i||!0===n&&r===e&&a===t||(this._isProxyInInertia=!1,this._scrollDestX=r,this._scrollDestY=a,this._scrollToCore(r,a,i,o))},_scrollToCore:function(e,t,i,n){var o=!1;!0===n&&!0===this.throttleButtonScrollAnimations&&(o=this._startedButtonDrivenScroll,this._startedButtonDrivenScroll=!0);var r=!0===i&&!0!==o&&!0===this.enableScrollToAnimation;this._displayProxy.scrollTo(e,t,r),void 0!==this._updateReactScrollStateCallback&&this._updateReactScrollStateCallback(this._displayProxy.scrollOffsetX,this._displayProxy.scrollOffsetY)},_createDisplayProxy:function(){return o.new({owner:this,width:this.width,height:this.height})},_runLayout:function(){var e=0,t=0;this.children.forEach(function(i){e=Math.max(e,i.x+i.width),t=Math.max(t,i.y+i.height)},this);var i=this.bottomScrollPadding||0;this._scrollWidth=e,this._scrollHeight=t+i,void 0!==this.minScrollHeight&&(this._scrollHeight=Math.max(this._scrollHeight,this.minScrollHeight)),this._setNaturalSize(e,t),this._updateScrollConstraints()},_updateScrollConstraints:function(){if(!0===this.constrainScrolling){var e=void 0,t=void 0,i=void 0,n=void 0;!0===this.canScrollHorizontally&&(e=0,t=this._scrollWidth),!0===this.canScrollVertically&&(i=0,n=this._scrollHeight),this._displayProxy.nativeScrollConstraints={minX:e,maxX:t,minY:i,maxY:n}}},_onSnapPointsChanged:function(){this._displayProxy.snapPointsX=this.snapPointsX,this._displayProxy.snapPointsY=this.snapPointsY,this._scrollDestX=void 0,this._scrollDestY=void 0,this.scrollTo(this.scrollOffsetX,this.scrollOffsetY,this._shouldScrollOnSnapPointsChanged())},_shouldScrollOnSnapPointsChanged:function(e,t){return this._isInitialized&&this.animateButtonScrolling&&void 0!==t},_onProxyScrollOffsetXChanged:function(e,t){!0===this._isProxyInInertia&&this._scrollTo(this.scrollOffsetX,this.scrollOffsetY,!0,!0),this._queueViewportChange(),this._onScrollOffsetXChanged(e,t),this._checkSnapTarget()},_onProxyScrollOffsetYChanged:function(e,t){!0===this._isProxyInInertia&&this._scrollTo(this.scrollOffsetX,this.scrollOffsetY,!0,!0),this._queueViewportChange(),this._onScrollOffsetYChanged(e,t),this._checkSnapTarget()},_getLocalRealizationViewport:function(){return{x:this.scrollOffsetX,y:this.scrollOffsetY,width:this.width,height:this.height}},_transformFromParentToLocalViewport:function(e){var i=t._transformFromParentToLocalViewport.call(this,e);return{x:i.x+this.scrollOffsetX,y:i.y+this.scrollOffsetY,width:i.width,height:i.height}},_checkSnapTarget:function(){var e=this._getSnapIndices();e.x===this._snapTargetIndices.x&&e.y===this._snapTargetIndices.y||(this._snapTargetIndices=e)},_onSnapTargetIndicesChanged:function(){},_onProxyManipulationStarted:function(){this._isProxyInInertia=!1,this._scrollDestX=this._scrollDestY=void 0,this._isUserScrolling=!0,this._onManipulationStarted()},_onProxyManipulationStopped:function(){this._onManipulationStopped()},_onProxyScrollInertia:function(){this._isUserScrolling=!1,this._isProxyInInertia=!0,this._scrollTo(this.scrollOffsetX,this.scrollOffsetY,!0,!0)},_onButtonReleased:function(){t._onButtonReleased.apply(this,arguments),this._doButtonReleased.apply(this,arguments)},_doButtonReleased:function(){this._startedButtonDrivenScroll=!1},_onLifecycleStateChanged:function(e){e===a.LifecycleStates.DEACTIVATED&&(this._displayProxy.scrollOffsetXChanged.off(this._proxyScrollOffsetXChangedHandler),this._displayProxy.scrollOffsetYChanged.off(this._proxyScrollOffsetYChangedHandler),this._displayProxy.manipulationStarted.off(this._proxyManipulationStartedHandler),this._displayProxy.manipulationStopped.off(this._proxyManipulationStoppedHandler),this._displayProxy.scrollInertia.off(this._proxyScrollInertiaHandler)),t._onLifecycleStateChanged.apply(this,arguments)},_onPresenceChanged:function(e,i){t._onPresenceChanged.call(this,e,i),e===s.ENTERING&&void 0!==this._scrollDestX&&void 0!==this._scrollDestY&&this.scrollTo(this._scrollDestX,this._scrollDestY,!1)},_getSnapIndices:function(){return{x:this._getSnapIndex(this._displayProxy.scrollOffsetX,this.snapPointsX),y:this._getSnapIndex(this._displayProxy.scrollOffsetY,this.snapPointsY)}},_getSnapIndex:function(e,t){return r.getSnapIndex(e,t)},_snapTo:function(e,t){return r.snapTo(e,t,this._displayProxy.usesNativeSnapPoints)},_getStateArgs:function(){var e={};return!0===this.restoresScrollOffset&&(e.scrollWidth=this.scrollWidth,e.scrollHeight=this.scrollHeight,e.scrollOffsetX=this.scrollOffsetX,e.scrollOffsetY=this.scrollOffsetY),e},_setStateArgs:function(e){!0===this.restoresScrollOffset&&(void 0!==e.scrollWidth&&void 0!==e.scrollHeight&&(this._scrollWidth=e.scrollWidth,this._scrollHeight=e.scrollHeight),this._scrollDestX=e.scrollOffsetX,this._scrollDestY=e.scrollOffsetY)},_onScrollPropsChanged:function(){var e=this.scrollProps;this.scrollTo(e.x,e.y,e.animate,e.isButtonDriven)}})})})}(),function(){"use strict";define("ui/logging/ViewportChangeLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("ui.logging.ViewportChangeLogEntry",t,function(){e.initConstructor(function(){this._type="viewportchange"}),e.properties({changeType:void 0,width:void 0,height:void 0,fullScreen:void 0,density:void 0})})})}(),function(){"use strict";define("ui/views/RootView",["core/oop","ui/views/ScrollView","ui/views/View","ui/ViewFactory","platform/dependent/graphics/Viewport","core/Lifecycleable","ui/TemplateManager","ui/Presence","ui/input/InputManager","lib/lodash/objects/forOwn","ui/logging/ViewportChangeLogEntry","platform/common/Dispatcher"],function(e,t,i,n,o,r,a,s,l,c,d,u){return e.classDef("ui.views.RootView",t,function(t){e.singleton(function(){this.name="RootView",this.isInputScope=!0,this.isReadyInit=!0,t.$ctor.call(this,this._getInit(),{isPointerTarget:!1,isFocusTarget:!1}),this.activate(),this._layers={},this.layerNames.forEach(function(e){var t,o=this.layerFactoryIds[e],r={transitionsEnabled:void 0!==o,name:e,isReadyInit:!0};t=void 0!==o?n.singleton.create(o,r):i.new(r),this._layers[e]=t,this.children.add(t),-1!==e.toLowerCase().indexOf("protection")&&(this._layers[e]._displayProxy.isPointerHittable=!1)},this),this._viewportResizedCallback=this._onViewportSizeChanged.bind(this),o.singleton.resized.on(this._viewportResizedCallback),this._viewportNativeFocusChangedCallback=this._onViewportNativeFocusChanged.bind(this),o.singleton.nativeFocusChanged.on(this._viewportNativeFocusChangedCallback),this._onViewportSizeChanged()}),e.properties({actionSafeArea:void 0,layerNames:void 0,layerFactoryIds:void 0,touchHitRadius:{defaultValue:void 0,onChange:function(e){o.singleton.touchHitRadius=e}},layers:{privateSet:!0},presence:{defaultValue:s.ENTERING,privateSet:!0,onChange:"_onPresenceChanged"},isEntered:{get:function(){return!0}},_viewportResizedCallback:void 0,_viewportNativeFocusChangedCallback:void 0}),e.methods({flushViews:function(){c(this.layers,function(e){for(var t=e.children.length-1;t>=0;--t){var i=e.children.getAt(t);e.children.remove(i),i.deactivate()}})},refreshStyles:function(){a.singleton.applyDynamicProps(this,this.name),t.refreshStyles.apply(this,arguments)},_onViewportSizeChanged:function(){this._reportSizeChange(),this._setNaturalSize()},_reportSizeChange:function(){this.runUntilDisposed("_onViewportSizeChanged",function(){return u.singleton.postTimeout(1e3).then(function(){d.new({area:"ui.views.RootView._onViewportSizeChanged",changeType:"resize",width:o.singleton.width,height:o.singleton.height,fullScreen:o.singleton.isFullscreen,density:o.singleton.density}).log()})})},_setNaturalSize:function(){t._setNaturalSize.call(this,o.singleton.width,o.singleton.height)},_onViewportNativeFocusChanged:function(e){var t=l.singleton.currentScope,i=t.nativeFocusForwardingEnabled;t.nativeFocusForwardingEnabled=!1;var n=e.owner;n.lifecycleState===r.LifecycleStates.ACTIVATED&&(n.focus(),void 0!==n.parent&&n.parent.notifyChildNativeFocused(n)),t.nativeFocusForwardingEnabled=i},_updateDisplayProxySize:function(){},_createDisplayProxy:function(){return o.singleton},_onLifecycleStateChanged:function(e,i){this.visitDown(function(t){e===r.LifecycleStates.ACTIVATED&&t.lifecycleState===r.LifecycleStates.SUSPENDED?t.resume():e===r.LifecycleStates.SUSPENDED&&t.lifecycleState===r.LifecycleStates.ACTIVATED&&t.suspend()}),t._onLifecycleStateChanged.call(this,e,i)},_getInit:function(){return a.singleton.getTemplate(this.name).createInstance()},_applyActiveTransitionSets:function(){},_disposeCore:function(){o.singleton.resized.off(this._viewportResizedCallback),o.singleton.nativeFocusChanged.off(this._viewportNativeFocusChangedCallback),this._viewportResizedCallback=void 0,this._viewportNativeFocusChangedCallback=void 0,t._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("platform/dependent/ITravelLog",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.ITravelLog",t,function(){e.properties({currentBreadcrumbData:{get:void 0},usePlatformNavigation:{get:void 0,set:void 0}}),e.events(["currentBreadcrumbDataChanged"]),e.methods({addBreadcrumbData:void 0,asyncBack:void 0})})})}(),function(){"use strict";define("platform/dependent/TravelLog",["core/oop","core/Disposable","platform/dependent/ITravelLog","core/Debug"],function(e,t,i,n){return e.classDef("platform.dependent.TravelLog",[t,i],function(t){e.singleton(function(){this._onStateChangedCallback=this._onStateChanged.bind(this),this._getWindow().addEventListener("popstate",this._onStateChangedCallback),this._created()}),e.properties({currentBreadcrumbData:{get:function(){var e;try{e=this._getWindow().history.state||void 0}catch(t){if(-2147467259!==t.number)throw t;e=void 0}return e}},usePlatformNavigation:{defaultValue:!1,onChange:function(e){}},_onStateChangedCallback:void 0}),e.events(["currentBreadcrumbDataChanged"]),e.methods({addBreadcrumbData:function(e,t,i){e.indexOf('"locationName":"GiveUp"'),this.usePlatformNavigation,!0===i||!1===this.usePlatformNavigation?this._getWindow().history.replaceState(e,"",t):this._getWindow().history.pushState(e,"",t)},asyncBack:function(){!0===this.usePlatformNavigation&&this._getWindow().history.back()},_onStateChanged:function(e){!0===this.usePlatformNavigation&&this._onCurrentBreadcrumbDataChanged(e.state||void 0)},_disposeCore:function(){t._disposeCore.apply(this,arguments),this._getWindow().removeEventListener("popstate",this._onStateChangedCallback)},_getWindow:function(){return window}})})})}(),function(){"use strict";define("ui/navigation/NavigationException",["core/oop","core/Exception"],function(e,t){return e.classDef("ui.navigation.NavigationException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),
define("lib/lodash/collections/forEachRight",["../internals/baseCreateCallback","../internals/baseEach","../objects/isArray","../objects/isString","../objects/keys","../support"],function(e,t,i,n,o,r){function a(a,s,l){var c=a,d=a?a.length:0;if(s=s&&void 0===l?s:e(s,l,3),i(a))for(;d--&&!1!==s(a[d],d,a););else{if("number"!=typeof d){var u=o(a);d=u.length}else r.unindexedChars&&n(a)&&(c=a.split(""));t(a,function(e,t,i){return t=u?u[--d]:--d,s(c[t],t,i)})}return a}return a}),define("lib/lodash/collections/findLast",["../functions/createCallback","./forEachRight"],function(e,t){function i(i,n,o){var r;return n=e(n,o,3),t(i,function(e,t,i){if(n(e,t,i))return r=e,!1}),r}return i}),function(){"use strict";define("ui/navigation/Navigator",["core/oop","core/oop/common/Collection","core/Debug","core/Disposable","core/Exception","core/logging/Counters","ui/UIDeveloperSettings","engine/dependent/Time","platform/dependent/Process","ui/navigation/Breadcrumb","ui/navigation/PageViewLogEntry","ui/ViewHostFactory","ui/navigation/ViewReadyLogEntry","ui/views/RootView","ui/TemplateManager","platform/dependent/TravelLog","ui/navigation/NavigationException","lib/lodash/collections/findLast","lib/lodash/collections/find","lib/lodash/objects/merge","platform/dependent/diagnostics/Performance"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w){var b=e.classDef("ui.navigation.Navigator",n,function(i){e.singleton(function(){var e=this._onHistoryChanged.bind(this);this._backStack.added.on(e),this._backStack.removed.on(e),this._onTravelBreadcrumbChangedCallback=this._onTravelBreadcrumbChanged.bind(this),f.singleton.currentBreadcrumbDataChanged.on(this._onTravelBreadcrumbChangedCallback),this._created()}),e.collection("_backStack"),e.collection("_forwardStack"),e.collection("visibleBreadcrumbs"),e.events(["navigated"]),e.properties({hasBackStack:{get:function(){return this._backStack.length>1}},_activationTarget:void 0,_activeViewHost:void 0,_onTravelBreadcrumbChangedCallback:void 0,_navigationCounter:{defaultValue:0},_wroteBootPerformanceMarks:{defaultValue:!1},_viewReadyCallback:void 0,_keepAliveToken:void 0}),e.methods({clearAllButHome:function(){if(this._throwIfUsingPlatformNavigation("clearAllButHome"),this._backStack.length>1){var e=this._backStack.getAt(0);this._backStack.removeAll(),this._backStack.add(e)}},clearState:function(){this._disposeActiveViewHost(),this._backStack.removeAll()},refresh:function(e,t){var i=this.getActiveBreadcrumb();if(void 0!==i){var n=i.getActivationArgs()||{};y(n,t);var o={locationName:i.locationName,locationTitle:i.locationTitle,analyticsTitle:i.analyticsTitle,activationArgs:n,isViewportChange:e,isAnchor:i.isAnchor,isRefresh:!0,uri:i.uri};this.getLastBreadcrumb()!==i?o.skipInsertIntoHistory=!0:o.replace=!0,this.navigateTo(o)}},insertIntoHistory:function(e){var t=this._createBreadcrumb(e);this._insertIntoHistory(t,e)},navigateTo:function(e){!0!==e.skipInsertIntoHistory||e.replace;var t=this.getActiveBreadcrumb();if(void 0!==t&&!0===t.isAnchor){this._throwIfUsingPlatformNavigation("navigateTo+isAnchor=true");var i=1,n=this._backStack.getAt(0);!0===this._doLocationsMatch(n,t)&&(i=0);for(var o=this._backStack.indexOf(t)-1;o>=i;--o)this._backStack.removeAt(o)}var r=!0===e.isRefresh,a=!0===e.isViewportChange,s=!0!==e.skipInsertIntoHistory&&!a,l=!0===e.replace&&s;void 0!==t&&!0!==s&&(e.navigationIndex=t.navigationIndex);var c=this._createBreadcrumb(e);void 0!==t&&"Player"===t.locationName&&"Player"===e.locationName&&(c.prerollUri=t.prerollUri),!0===s&&this._insertIntoHistory(c,e),this._doNavigate(t,c,!0,r,a,!s,l)},navigateBackTo:function(e){this._throwIfUsingPlatformNavigation("navigateBackTo");var t=this.getActiveBreadcrumb();if(t!==e){for(var i=this._backStack.indexOf(e),n=this._backStack.length-1;n>i;n--)this._backStack.removeAt(n);var o=this.getLastBreadcrumb();this._doNavigate(t,o,!1,!1,!1,!1,!1)}},navigateBackWhileTrue:function(e){for(;!0===this.hasBackStack&&!0===e(this.getActiveBreadcrumb());)this.navigateBack()},navigateBack:function(){if(this._throwIfUsingPlatformNavigation("navigateBack"),!0===this.hasBackStack){var e=this.getActiveBreadcrumb();this._backStack.removeAt(this._backStack.length-1);var t=this.getLastBreadcrumb();this._doNavigate(e,t,!1,!1,!1,!1,!1)}else l.singleton.goBack()},getActiveBreadcrumb:function(){return void 0!==this._activeViewHost?this._activeViewHost.breadcrumb:this.getLastBreadcrumb()},getActiveViewHost:function(){return this._activeViewHost},getLastBreadcrumb:function(){var e=this._backStack.length;return e>0?this._backStack.getAt(e-1):void 0},getFirstBreadcrumbByName:function(e){return _(this._backStack.toArray(),function(t){return t.locationName===e})},getLastBreadcrumbByName:function(e){return v(this._backStack.toArray(),function(t){return t.locationName===e})},getHistory:function(){var e=t.new();return this._backStack.forEach(function(t){e.add(t)}),e},collapseHistory:function(e,t){this._throwIfUsingPlatformNavigation("collapseHistory");var i,n=-1;for(i=0;i<this._backStack.length;++i){if(e(this._backStack.getAt(i))){n=i;break}}if(n>0)for(i=this._backStack.length-2;t?i>=n:i>n;i--)this._backStack.removeAt(i)},removeAllMatchingBreadcrumbs:function(e){this._throwIfUsingPlatformNavigation("removeAllMatchingBreadcrumbs"),e(this.getActiveBreadcrumb());for(var t=this._backStack.length-1;t>=0;t--){!0===e(this._backStack.getAt(t))&&this._backStack.removeAt(t)}},removeLastHistoryEntry:function(){this._throwIfUsingPlatformNavigation("removeLastHistoryEntry"),this._backStack.removeAt(this._backStack.length-1)},navigateToTravelBreadcrumb:function(e){var t,i=this.getActiveBreadcrumb(),n=c.deserialize(e),o=this._tryFindExistingBreadcrumbAndFixStacks(n.navigationIndex);void 0!==o&&(void 0===o.breadcrumb?(t=n,this._backStack.add(t),t.navigationIndex>=this._navigationCounter&&(this._navigationCounter=t.navigationIndex+1)):t=o.breadcrumb,this._doNavigate(i,t,o.isForward,!1,!1,!1,!1))},navigateExternal:function(e,t){this._saveStateArgs(this.getActiveBreadcrumb(),!1),l.singleton.navigateExternal(e,t)},_doLocationsMatch:function(e,t){return e.locationName===t.locationName&&e.locationTitle===t.locationTitle},_createBreadcrumb:function(e){void 0===e.uri&&this._throwIfUsingPlatformNavigation("_createBreadcrumb+uri=undefined");var t;if(!0===e.isAnchor){for(var i=0;i<this._backStack.length;i++){var n=this._backStack.getAt(i);if(this._doLocationsMatch(n,e)){t=n.getStateArgs();break}}this._throwIfUsingPlatformNavigation("_createBreadcrumb+isAnchor=true")}var o=this._navigationCounter;if(void 0!==e.navigationIndex&&(o=e.navigationIndex),!0===e.replace){var r=this._backStack.length-1;r>=0&&(o=this._backStack.getAt(r).navigationIndex,!0!==e.isViewportChange&&this._backStack.removeAt(r))}var a=c.new({navigationIndex:o,locationName:e.locationName,locationTitle:e.locationTitle,analyticsTitle:e.analyticsTitle,activationArgs:e.activationArgs,isAnchor:e.isAnchor,uri:e.uri});return a.setStateArgs(t),a},_insertIntoHistory:function(e,t){!0===t.clearHistory&&(this._throwIfUsingPlatformNavigation("_insertIntoHistory+clearHistory=true"),this._backStack.removeAll()),this._backStack.add(e),f.singleton.addBreadcrumbData(e.serialize(),e.uri,!0===t.replace||0===e.navigationIndex),!0!==t.replace&&(this._forwardStack.removeAll(),this._navigationCounter+=1)},_onHistoryChanged:function(){var e=this;this.visibleBreadcrumbs.removeAll(),this._backStack.forEach(function(t){!0===t.isAnchor&&e.visibleBreadcrumbs.removeAll(),void 0!==t.locationTitle&&e.visibleBreadcrumbs.add(t)}),this._checkHistoryDepth(this._backStack.length)},_checkHistoryDepth:function(e){1===e?void 0!==this._keepAliveToken&&(this._keepAliveToken(),this._keepAliveToken=void 0):void 0===this._keepAliveToken&&(this._keepAliveToken=l.singleton.getApplicationKeepAlive())},_doNavigate:function(e,t,i,n,o,r,a){void 0===e&&t.resetActivationArgs(),this._transitionTo(e,t,i,n,o,a),!0!==n&&(d.new({area:t.locationName,uri:t.uri,modelId:t.modelId}).log(),!0!==r&&f.singleton.addBreadcrumbData(t.serialize(),t.uri,!0),this._onNavigated({oldLocationName:void 0!==e?e.locationName:void 0,newLocationName:t.locationName,isForward:i}))},_disposeActiveViewHost:function(){void 0!==this._activeViewHost&&(this._activeViewHost.dispose(),this._activeViewHost=void 0)},_disposeCore:function(){this._disposeActiveViewHost(),f.singleton.currentBreadcrumbDataChanged.off(this._onTravelBreadcrumbChangedCallback),i._disposeCore.apply(this,arguments)},_saveStateArgs:function(e,t){var i;return void 0!==this._activeViewHost&&void 0!==e&&(i=this._activeViewHost.getStateArgs(),e.setStateArgs(i),!0!==t&&f.singleton.addBreadcrumbData(e.serialize(),e.uri,!0)),i},_transitionTo:function(e,t,i,n,o,l){var c,d=this._activeViewHost;void 0!==d&&(d.viewReady.off(this._viewReadyCallback),this._viewReadyCallback=void 0,c=this._saveStateArgs(e,o),!0===n&&!1===o&&h.singleton.flushViews(),d.dispose(),d=void 0),this._activeViewHost=void 0;var p=t.getActivationArgs()||{};p.breadcrumb=t;var g=!0===n?c:t.getStateArgs();g=g||{},g.isForward=i,g.isRefresh=n,g.replace=l,g.isViewportChange=o,!0===a.singleton.resetPerfCountersOnPageTransition&&r.singleton.resetCounterStats();var f=s.singleton.now();this._activeViewHost=u.singleton.create(t.locationName,p),this._viewReadyCallback=function(){return b.singleton._viewReady(t.locationName,f)},this._activeViewHost.viewReady.on(this._viewReadyCallback);try{!1===this._wroteBootPerformanceMarks&&w.singleton.mark("boot","activate"+t.locationName),this._activeViewHost.activate(g)}catch(i){throw i instanceof m&&(i.contextualData.newBreadcrumb=t,i.contextualData.oldBreadcrumb=e),i}},_viewReady:function(e,t){p.new({area:e}).log(),!1===this._wroteBootPerformanceMarks&&(w.singleton.mark("boot","viewReady"+e),this._wroteBootPerformanceMarks=!0,g.singleton.completeRegistration());var i=s.singleton.now()-t;r.singleton.setCounter("Navigator.pageTransitionDuration",i)},_tryFindExistingBreadcrumbAndFixStacks:function(e){var t,i,n=this.getActiveBreadcrumb();if(void 0!==n){var o,r;if(e>n.navigationIndex)i=!0,o=this._forwardStack,r=this._backStack;else{if(!(e<n.navigationIndex))return;i=!1,o=this._backStack,r=this._forwardStack}for(;o.length>0;){var a=o.length-1,s=o.getAt(a),l=s.navigationIndex===e;if(!1!==l&&!0!==i||(o.removeAt(a),r.add(s)),!0===l){t=s;break}}}else i=!0;return{breadcrumb:t,isForward:i}},_onTravelBreadcrumbChanged:function(e){if(!1===f.singleton.usePlatformNavigation)throw o.new({message:"This method should only be called when using platform navigation",area:"ui.navigation.Navigator._onTravelLocationChanged"});void 0!==e&&this.navigateToTravelBreadcrumb(e)},_throwIfUsingPlatformNavigation:function(e){if(!0===f.singleton.usePlatformNavigation)throw o.new({message:"This method should not be called when using platform navigation",area:"ui.navigation.Navigator."+e})}})});return b})}(),function(){"use strict";define("dataservices/IServiceUtils",["core/oop"],function(e){return e.interfaceDef("dataservices.IServiceUtils",void 0,function(){e.methods({getNoAccountModel:void 0,getMenuIdFromMenuTitle:void 0,getMenuTitleFromMenuId:void 0})})})}(),function(){"use strict";define("dataservices/DataValidationException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.DataValidationException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("dataservices/IErrorCodeUtils",["core/oop"],function(e){return e.interfaceDef("dataservices.IErrorCodeUtils",void 0,function(){e.staticScope(function(){e.methods({checkSuccessfulResponse:void 0,checkUnsuccessfulResponse:void 0})})})})}(),function(){"use strict";define("dataservices/CustomServiceException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.CustomServiceException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1}),e.properties({shouldDisplayMessage:{defaultValue:!0}})})})}(),function(){"use strict";define("dataservices/InvalidSessionException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.InvalidSessionException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1})})})}(),function(){"use strict";define("dataservices/authentication/AuthenticationException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.authentication.AuthenticationException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1}),e.properties({affiliateCode:void 0}),e.methods({getLogData:function(){var e=t.getLogData.apply(this,arguments);return e.affiliateCode=this.affiliateCode,e}})})})}(),function(){"use strict";define("dataservices/authentication/AuthenticationRequiredException",["core/oop","dataservices/authentication/AuthenticationException"],function(e,t){return e.classDef("dataservices.authentication.AuthenticationRequiredException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("dataservices/authentication/AffiliateAuthenticationException",["core/oop","dataservices/authentication/AuthenticationException"],function(e,t){return e.classDef("dataservices.authentication.AffiliateAuthenticationException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({affiliateErrorMessage:void 0}),e.methods({getLogData:function(){var e=t.getLogData.apply(this,arguments);return e.affiliateErrorMessage=this.affiliateErrorMessage,e}})})})}(),function(){"use strict";define("dataservices/activation/ActivationException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.activation.ActivationException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1})})})}(),function(){"use strict";define("dataservices/authentication/GeoValidationException",["core/oop","dataservices/authentication/AuthenticationException"],function(e,t){return e.classDef("dataservices.authentication.GeoValidationException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1})})})}(),function(){"use strict";define("dataservices/authentication/ClientVersionNotSupportedException",["core/oop","dataservices/authentication/AuthenticationException"],function(e,t){return e.classDef("dataservices.authentication.ClientVersionNotSupportedException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1})})})}(),function(){"use strict";define("dataservices/authentication/StreamTrackingException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.authentication.StreamTrackingException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1})})})}(),function(){"use strict";define("dataservices/authentication/InvalidCredentialsException",["core/oop","dataservices/authentication/AuthenticationException"],function(e,t){return e.classDef("dataservices.authentication.InvalidCredentialsException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("dataservices/authentication/InvalidResetTokenException",["core/oop","dataservices/authentication/AuthenticationException"],function(e,t){return e.classDef("dataservices.authentication.InvalidResetTokenException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("dataservices/ContentRestrictedException",["core/oop","dataservices/ContentUnavailableException"],function(e,t){return e.classDef("dataservices.ContentRestrictedException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1}),e.properties({isAffiliateManaged:void 0}),e.methods({getLogData:function(){var e=t.getLogData.apply(this,arguments);return e.isAffiliateManaged=this.isAffiliateManaged,e}})})})}(),function(){"use strict";define("dataservices/SubscriptionExpiredException",["core/oop","dataservices/ServiceException"],function(e,t){return e.classDef("dataservices.SubscriptionExpiredException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._allowsWrapping=!1}),e.properties({shouldDisplayMessage:{defaultValue:!0}})})})}(),function(){"use strict";define("dataservices/JsonChunk",["core/oop","core/Exception","core/logging/Levels","lib/lodash/collections/forEach"],function(e,t,i,n){var o=e.classDef("dataservices.JsonChunk",Object,function(){e.constructor(function(e){if(this._rawJson=e,void 0===o._specialCharacterArray){o._specialCharacterArray=[{text:/\(R\)/,code:"®"},{text:/\(C\)/,code:"©"}];var t="";n(o._specialCharacterArray,function(e){t=t.concat(e.text+"|")}),t=t.substr(0,t.length-1),t=t.replace(/\//g,""),o._specialCharacterRegex=new RegExp(t,"g")}}),e.staticScope(function(){e.properties({_specialCharacterArray:void 0,_specialCharacterRegex:void 0})}),e.properties({rawJson:{privateSet:!0}}),e.methods({_getPath:function(e,o,r){for(var a,s,l=this._rawJson,c=function(e,t){t.toLowerCase()===a.toLowerCase()&&(s=e)},d=0;d<e.length;++d){if(a=e[d],s=l[a],!0===r&&void 0===s&&n(l,c),void 0===s||null===s){l=void 0;break}l=s}return!0!==o&&void 0===l&&t.new({message:"missing expected data in JSON response for path="+e,level:i.WARNING,area:"dataservices.JsonChunk._getPath"}),l},_getStringInternal:function(e,n,o){return"string"==typeof e?!0===o?this._handleSpecialCharacters(e):e:"number"==typeof e||"boolean"==typeof e?String(e):void(void 0!==e&&t.new({message:"unexpected JSON field type for path="+n,level:i.WARNING,area:"dataservices.JsonChunk._getStringInternal"}))},_handleSpecialCharacters:function(e){return void 0!==e&&""!==e&&(e=e.replace(o._specialCharacterRegex,function(e){var t=e;return n(o._specialCharacterArray,function(i){if(i.text.test(e))return t=i.code,!1}),t})),e},hasPath:function(e){return void 0!==this._getPath(e,!0)},getChunk:function(e,n){var r=this._getPath(e,n);if("object"==typeof r)return o.new(r);""===r?!0!==n&&t.new({message:"missing data in JSON response for path="+e,level:i.WARNING,area:"dataservices.JsonChunk.getChunk"}):void 0!==r&&t.new({message:"unexpected JSON field type for path="+e,level:i.WARNING,area:"dataservices.JsonChunk.getChunk"})},getChunkArray:function(e,r){var a=this._getPath(e,r);if(!0===Array.isArray(a)){var s=[];return n(a,function(n){if("object"==typeof n&&null!==n){var r=o.new(n);s.push(r)}else t.new({message:"unexpected JSON subfield type for path="+e,level:i.WARNING,area:"dataservices.JsonChunk.getChunkArray"})}),s}if("object"==typeof a)return[o.new(a)];void 0!==a&&t.new({message:"unexpected JSON field type for path="+e,level:i.WARNING,area:"dataservices.JsonChunk.getChunkArray"})},getString:function(e,t,i){var n=this._getPath(e,t,i);return this._getStringInternal(n,e)},getDisplayString:function(e,t){var i=this._getPath(e,t);return this._getStringInternal(i,e,!0)},getStringArray:function(e,t){var i=this._getPath(e,t);if(!0===Array.isArray(i)){var o=[],r=this;return n(i,function(t){var i=r._getStringInternal(t,e);void 0!==i&&o.push(i)}),o}var a=this.getString(e,t);return void 0===a?void 0:[a]},getURIDecodedString:function(e,t){var i=this.getString(e,t);return void 0!==i?decodeURIComponent(i):void 0},getInt:function(e,n){var o,r=this.getString(e,n);return void 0!==r&&(o=parseInt(r,10),isNaN(o)&&(o=void 0,t.new({message:"invalid int format for path="+e+" with value="+r,level:i.WARNING,area:"dataservices.JsonChunk.getInt"}))),o},getBoolean:function(e,n,o){var r=this._getPath(e,n),a=!0===o&&void 0;return"boolean"==typeof r?a=r:"string"==typeof r?"true"===r.toLowerCase()?a=!0:"false"===r.toLowerCase()?a=!1:t.new({message:"invalid boolean string value for path="+e,level:i.WARNING,area:"dataservices.JsonChunk.getBoolean"}):void 0!==r&&t.new({message:"unexpected JSON field type for path="+e,level:i.WARNING,area:"dataservices.JsonChunk.getBoolean"}),a},getDate:function(e,n){var o,r=this._getPath(e,n);return"string"==typeof r?(o=new Date(r),isNaN(o.getTime())&&(o=void 0,t.new({message:"invalid date format for path="+e+" with value="+r,level:i.WARNING,area:"dataservices.JsonChunk.getDate"}))):void 0!==r&&t.new({message:"invalid date format for path="+e,level:i.WARNING,area:"dataservices.JsonChunk.getDate"}),o}})});return o})}(),function(){"use strict";define("dataservices/dependent/ErrorCodeUtils",["core/oop","dataservices/IErrorCodeUtils","core/Exception","dataservices/ServiceException","dataservices/CustomServiceException","dataservices/InvalidSessionException","dataservices/authentication/AuthenticationException","dataservices/authentication/AuthenticationRequiredException","dataservices/authentication/AffiliateAuthenticationException","dataservices/activation/ActivationException","dataservices/authentication/GeoValidationException","dataservices/authentication/ClientVersionNotSupportedException","dataservices/authentication/StreamTrackingException","dataservices/authentication/InvalidCredentialsException","dataservices/authentication/InvalidResetTokenException","dataservices/ContentRestrictedException","dataservices/SubscriptionExpiredException","platform/HttpStatus","platform/dependent/Process","dataservices/JsonChunk","core/logging/Levels","lib/Promise"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b){var S=e.enumDef("dataservices.dependent.ErrorCodeUtils.Codes",{NOT_AUTHORIZED:"not_authorized",NOT_PAIRED:"not_paired",BAD_CREDENTIAL:"bad_cred",STREAM_MAXED:"stream_maxed",GEO_BLOCKED:"geo_blocked",CLIENT_VERSION_NOT_SUPPORTED:"client_version_not_supported",PARENTAL_CONTROL_DENIED:"parental_denied",AFFILIATE_PARENTAL_CONTROL_DENIED:"affiliate_parental_denied",FORBIDDEN:"forbidden",REAUTHENTICATION_REQUIRED:"reauthentication_required",AFFILIATE_FORBIDDEN:"custom_forbidden",CUSTOM_MSG:"custom_error",INVALID_CREDENTIALS:"invalid_credentials",SUBSCRIPTION_EXPIRED:"subscription_expired",INVALID_RESET_TOKEN:"invalid_reset_password_pin_token"});return e.classDef("dataservices.dependent.ErrorCodeUtils",[t],function(){e.staticScope(function(){e.properties({Codes:{defaultValue:S,readOnlyField:!0},traceIdHeaderName:{get:function(){return"X-B3-TraceId"}}}),e.methods({isBasicAuthenticationException:function(e){return e instanceof a&&"dataservices.authentication.AuthenticationException"===e.typeName},shouldWrapRejection:function(e){return!(e instanceof b.CancellationError)&&(!(e instanceof i)||e.allowsWrapping())},checkSuccessfulResponse:function(){},checkUnsuccessfulResponse:function(e){var t,i,n,o={message:"Service Error: "+e.internalMessage,area:"dataservices.dependent.ErrorCodeUtils.checkForErrorCode",uri:e.uri,status:e.status,level:w.ERROR};if(void 0!==e.headers&&(t=y.new(e.headers)),void 0!==e.response)try{i=y.new(JSON.parse(e.response))}catch(e){}if(void 0!==i){n=i.getString(["code"],!0);var r=i.getString(["message"],!0),a=i.getString(["stack"],!0);o.displayMessage=r,o.message=a||o.message,o.code=n;"0"===i.getString(["type"],!0)&&(o.displayMessage=void 0)}return void 0!==t?o.guid=t.getString([this.traceIdHeaderName],!0,!0):void 0!==e.guid&&(o.guid=e.guid),o.status===v.UNAUTHORIZED?(o.level=w.INFO,this._handleUnauthorized(o,n,e)):o.status===v.FORBIDDEN?this._handleForbidden(o,n,e):this._createServiceException(o,e,!0)},_handleUnauthorized:function(e,t,n){switch(t){case S.NOT_PAIRED:return i.wrap(n,e,c);case S.INVALID_CREDENTIALS:return e.shouldDisplayMessage=!0,i.wrap(n,e,h);case S.INVALID_RESET_TOKEN:return-1!==_.singleton.getReentryUri().indexOf("resetpassword")?e.code="invalid_reset_password_token":e.code="invalid_reset_pin_token",i.wrap(n,e,g);default:return i.wrap(n,e,r)}},_handleForbidden:function(e,t,n){switch(t){case S.GEO_BLOCKED:return i.wrap(n,e,d);case S.CLIENT_VERSION_NOT_SUPPORTED:return i.wrap(n,e,u);case S.STREAM_MAXED:return i.wrap(n,e,p);case S.PARENTAL_CONTROL_DENIED:return e.isAffiliateManaged=!1,i.wrap(n,e,f);case S.AFFILIATE_PARENTAL_CONTROL_DENIED:return e.isAffiliateManaged=!0,i.wrap(n,e,f);case S.REAUTHENTICATION_REQUIRED:return i.wrap(n,e,s);case S.FORBIDDEN:return i.wrap(n,e,a);case S.AFFILIATE_FORBIDDEN:return e.affiliateErrorMessage=e.displayMessage,i.wrap(n,e,l);case S.SUBSCRIPTION_EXPIRED:return i.wrap(n,e,m);default:return this._createServiceException(e,n,!1)}},_createServiceException:function(e,t,r){e.shouldDisplayMessage=e.code===S.CUSTOM_MSG;var a=e.code===S.CUSTOM_MSG?o:n;return t instanceof a&&!0===r?a.new(e):i.wrap(t,e,a)}})})})})}(),function(){"use strict";define("dataservices/types/GrantType",["core/oop"],function(e){return e.enumDef("dataservices.types.GrantType",{CLIENT_CREDENTIALS:"client_credentials",REFRESH_TOKEN:"refresh_token",USER_ACTIVATION_CODE:"user_activation_code",USER_ACTIVATION_CODE_CLAIM_WORKFLOW:"user_activation_code_claim_workflow",USER_APPLE_SSO:"user_apple_sso",USER_OTT_LOGIN:"user_name_password",USER_OTT_PASSWORD_CHALLENGE:"user_password_challenge",USER_REFRESH_AFTER_LINKING:"user_refresh_after_linking",USER_REFRESH_AFTER_REGISTRATION:"user_refresh_after_registration",USER_RESET_TOKEN:"user_reset_password_pin_token",USER_RECEIPT_WORKFLOW:"user_receipt_workflow",USER_SITE_DEVICE_DATA:"user_site_device_data"})})}(),function(){"use strict";define("core/Factory",["core/oop","core/Debug","lib/lodash/objects/forOwn"],function(e,t,i){return e.classDef("core.Factory",Object,function(){e.properties({_factoryMap:void 0}),e.methods({register:function(e){this._factoryMap={},i(e,function(e,t){this._factoryMap[t]=e},this)},create:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1),i=this._createInternal(e,t);return i},_createInternal:function(e,t){var i,n=this._factoryMap[e];return void 0!==n&&(i=void 0!==n.new?n.new.apply(n,t):n.apply(n,t),i.factoryId=e),i}})})})}(),function(){"use strict";define("core/data/ModelFactory",["core/oop","core/Factory","core/data/CacheManager","core/logging/Counters"],function(e,t,i,n){return e.classDef("core.data.ModelFactory",t,function(t){e.singleton(function(){}),e.methods({create:function(){return t.create.apply(this,arguments)},_createInternal:function(e,o){var r,a=o[0],s=Array.prototype.slice.call(o,1);if(void 0===(r=i.singleton.get(a)))r=t._createInternal.call(this,e,[a]),r.factoryId=e,!0===r.cacheable&&i.singleton.put(r.id,r,r.expirationTime);else if(r.factoryId!==e){var l=r;r=Object.create(r),r.factoryId=e,r._wrappedModel=l}return s.length>0&&void 0!==s[0]&&r.initialize.apply(r,s),n.singleton.incrementCounter("ModelFactory.create"),r}})})})}(),function(){"use strict";define("platform/common/StoreType",["core/oop"],function(e){return e.enumDef("platform.common.StoreType",["AMAZON","APPLE","GOOGLE","TIZEN","BLACKMARKET"])})}(),function(){"use strict";define("application/ClientApplication",["core/oop"],function(e){return e.classDef("application.ClientApplication",Object,function(){e.singleton(function(){}),e.properties({version:void 0,buildTimestamp:void 0,buildFlavor:void 0,buildClient:void 0,buildDesign:void 0,buildEnvironment:void 0,buildPAL:void 0,buildServices:void 0,commit:void 0,environment:void 0,config:void 0,sessionId:void 0,regionId:void 0,shellVersion:void 0,playerVersion:void 0,versionString:void 0})})})}(),function(){"use strict";define("dataservices/DataServicesSettings",["core/oop"],function(e){return e.classDef("dataservices.DataServicesSettings",Object,function(){e.singleton(function(){}),e.properties({name:void 0,code:void 0,servicesId:void 0,servicesApiVersion:void 0,internalAnalyticsCampaign:void 0,externalAnalyticsCampaign:void 0,analyticsProductType:void 0,useMetricsAnalyticsDomain:{defaultValue:!1},productionAnalytics:{defaultValue:!1},enforceSecureServices:{defaultValue:!1},usesWebLogin:{defaultValue:!1},supportsInAppPurchasing:{defaultValue:!1},ACTIVATION_CODE_KEY:{defaultValue:"activationCode",readOnlyField:!0},enableContinueWatching:{defaultValue:!0},enablePlaybackMarkers:{defaultValue:!0},enableParentalControls:{defaultValue:!0},enableSignInSignOut:{defaultValue:!0},enableWatchlist:{defaultValue:!0}})})})}(),function(){"use strict";define("dataservices/types/LoginInfoFlag",["core/oop"],function(e){return e.enumDef("dataservices.types.LoginInfoFlag",["SSO","ACCOUNT_MANAGEMENT","USER_PROFILE_TYPE"])})}(),function(){"use strict";define("dataservices/authentication/ILoginInfo",["core/oop"],function(e){return e.interfaceDef("dataservices.authentication.ILoginInfo",void 0,function(){e.methods({toJSON:void 0,getFlag:void 0,setFlag:void 0,copyFlags:void 0})})})}(),function(){"use strict";define("dataservices/dependent/types/LoginInfo",["core/oop","core/Debug","dataservices/types/LoginInfoFlag","dataservices/authentication/ILoginInfo"],function(e,t,i,n){return e.classDef("dataservices.dependent.types.LoginInfo",[Object,n],function(){e.constructor(function(e){this.accessToken=e.accessToken,this.tokenType=e.tokenType,this.refreshToken=e.refreshToken,this.accessExpiration=e.accessExpiration,this.flags=e.flags||{}}),e.properties({accessToken:void 0,tokenType:void 0,refreshToken:void 0,accessExpiration:void 0,flags:void 0}),e.methods({toJSON:function(){return{accessToken:this.accessToken,tokenType:this.tokenType,refreshToken:this.refreshToken,accessExpiration:this.accessExpiration,flags:this.flags}},copyFlags:function(e){void 0!==e&&(e.typeName,this.typeName,e.typeName,this.typeName,this.flags=e.flags)},setFlag:function(e,t){var n=i.getName(e);JSON.parse(JSON.stringify(t)),this.flags[n]=t},getFlag:function(e){var t=i.getName(e);return this.flags[t]}})})})}(),function(){"use strict";define("design/Screen",["core/oop","platform/dependent/graphics/Viewport"],function(e,t){return e.classDef("design.Screen",Object,function(){e.staticScope(function(){e.methods({})}),e.singleton(function(){}),e.properties({maxWidth:{defaultValue:void 0,privateSet:!0},minWidth:{defaultValue:void 0,privateSet:!0}}),e.methods({getScreenHeight:function(e){return e=e||0,function(i){return i.screenHeight-t.singleton.reservedMargins.bottom+e}},getScreenWidthImmediate:function(e){return e=e||0,this._getScreenWidthImpl(e,t.singleton.naturalWidth)},getScreenWidth:function(e){return e=e||0,function(t){return this._getScreenWidthImpl(e,t.screenWidth)}.bind(this)},_getScreenWidthImpl:function(e,i){return Math.min(this.maxWidth,Math.max(this.minWidth,i-t.singleton.reservedMargins.right-t.singleton.reservedMargins.left))+e}})})})}(),function(){"use strict";define("design/ScreenType",["core/oop"],function(e){return e.enumDef("design.ScreenType",{MONITOR:"monitor",PHONE:"phone",TABLET:"tablet",DEFAULT:"default"})})}(),function(){"use strict";define("design/ScreenUtilBase",["core/oop","core/Debug","application/ClientDevice","platform/dependent/Process","design/ScreenType"],function(e,t,i,n,o){return e.classDef("design.ScreenUtilBase",Object,function(){e.constructor(function(){}),e.properties({_brand:void 0,_design:void 0,_designParentLookup:void 0}),e.methods({byDesign:function(e){this._design;for(var t=this._design;void 0!==t&&!0!==e.hasOwnProperty(t);)t=this._designParentLookup[t];return t=t||"default",e[t]},byDesignCall:function(e,t){return this._callIfDefined(this.byDesign(e),t)},byBrand:function(e){this._brand;var t=this._brand;return!0===e.hasOwnProperty(t)?e[t]:e.default},byBrandCall:function(e,t){return this._callIfDefined(this.byBrand(e),t)},byScreen:function(e){!1===e.hasOwnProperty(o.DEFAULT)||(Object.keys(e).length,o.getEnumCount());var t=this.byDesign({desktop:o.MONITOR,mobile:!0===i.singleton.isPhone?o.PHONE:o.TABLET,daydream:!0===n.singleton.isVRModeEnabled?o.TABLET:o.PHONE});return!0===e.hasOwnProperty(t)?e[t]:e.default},byScreenCall:function(e,t){return this._callIfDefined(this.byScreen(e),t)},_callIfDefined:function(e,t){if(void 0!==e)return e.bind(t)()}})})})}(),function(){"use strict";define("design/ScreenUtil",["core/oop","core/Debug","design/Screen","design/ScreenType","design/ScreenUtilBase","platform/dependent/graphics/Viewport","ui/Template"],function(e,t,i,n,o,r,a){var s=e.classDef("design.ScreenUtil",o,function(t){
e.singleton(function(){t.$ctor.apply(this,arguments)}),e.staticScope(function(){e.methods({dpiAwareImageUri:function(e,t){var i,n=r.singleton.density;return i=n<=1?"_1.":n<=2?"_2.":"_3.",e+i+t},dpiDesignAwareImageUri:function(e,t,i){var n=s.singleton.byDesign({mobile:"mobile",desktop:"desktop"});return s._dpiAwareImageUri(e,t,n,i)},dpiScreenAwareImageUri:function(e,t,i){var o=s.singleton.byScreen({monitor:n.MONITOR,phone:n.PHONE,tablet:n.TABLET});return s._dpiAwareImageUri(e,t,o,i)},dpiBrandAwareLogoUri:function(e){return!0===e?s.dpiAwareImageUri(s.singleton.byBrand({hbogo:"/assets/images/branding/mobile/hbogologo_large",hbonow:"/assets/images/branding/mobile/hbonowlogo_large"}),"png"):s.dpiAwareImageUri(s.singleton.byBrand({hbogo:"/assets/images/branding/mobile/hbogologo_small",hbonow:"/assets/images/branding/mobile/hbonowlogo_small"}),"png")},_dpiAwareImageUri:function(e,t,i,n){var o="/assets/images/";return void 0!==t&&(o+=t+"/"),o+=i+"/"+e,void 0===n&&(n="png"),s.singleton.byDesignCall({desktop:function(){return o+"."+n},mobile:function(){return s.dpiAwareImageUri(o,n)}})}})}),e.methods({byScreenWidth:function(e,t){var n=i.singleton.getScreenWidth(t),o=function(t){var i=n(t);return this._byScreenWidthImpl(e,i)}.bind(this);return a.createStoredDynamicFunction(o)},_byScreenWidthImpl:function(e,t){!1===e.hasOwnProperty(n.DEFAULT)||(Object.keys(e).length,n.getEnumCount());var i=this.byDesign({desktop:{largeLower:1280,mediumLower:1024},mobile:{largeLower:1367,mediumLower:641}}),o=this._getScreenWidthClass(t,i);return!0===e.hasOwnProperty(o)?e[o]:e.default},_getScreenWidthClass:function(e,t){var n=i.singleton.getScreenWidth();return e>=n({screenWidth:t.largeLower})?"large":e>=n({screenWidth:t.mediumLower})?"medium":"small"},byBreakpoint:function(e,t){var n=function(){var n=i.singleton.getScreenWidthImmediate();return e[n>=t?"greaterThanEqual":"lessThan"]};return a.createStoredDynamicFunction(n)},byBreakpointImmediate:function(e,t){return e[i.singleton.getScreenWidthImmediate()>=t?"greaterThanEqual":"lessThan"]}})});return s})}(),function(){"use strict";define("dataservices/dependent/ServiceUtils",["core/oop","core/Exception","dataservices/ServiceException","dataservices/IServiceUtils","dataservices/DataValidationException","dataservices/dependent/ErrorCodeUtils","dataservices/types/GrantType","core/data/ModelFactory","core/Debug","platform/common/StoreType","core/uuid","application/ClientApplication","application/ClientDevice","dataservices/DataServicesSettings","engine/dependent/Time","dataservices/dependent/types/LoginInfo","design/ScreenUtil","lib/lodash/objects/merge"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){var _=e.enumDef("dataservices.dependent.Ids",{ROOT_MENU:"urn:hbo:navigation-menu:root",HOME:"urn:hbo:product-menu:home",USER:"urn:hbo:user:me",USER_SETTINGS:"urn:hbo:settings:mine",CONTINUE_WATCHING:"urn:hbo:query:continuewatching",LAST_PLAYED:"urn:hbo:query:lastplayed",WATCHLIST:"urn:hbo:query:watchlist",WATCHLIST_MENU:"urn:hbo:product-menu:watchlist",TERMS_OF_SERVICE:"urn:hbo:document:terms-of-service",LEGAL_NOTICES:"urn:hbo:document:legal-notices",PRIVACY_POLICY:"urn:hbo:document:privacy-policy",PREVIEW:"urn:hbo:product-menu:preview",FAQ:"urn:hbo:navigation-menu:faq",LATE_NIGHT:"urn:hbo:navigation-menu:latenight",AUTHENTICATORS:"urn:hbo:query:authenticator-list",IMAGE_AVAILABILITY:"urn:hbo:image-availability:default",PAYWALL:"urn:hbo:paywalls:mine",SERIES_MARKERS:"urn:hbo:series-markers:mine",DEFAULT_SEARCH:"urn:hbo:navigation-menu:default-search",DEMO_SPLASH_SCREEN:"urn:hbo:view:demo-splash-screen"});return e.classDef("dataservices.dependent.ServiceUtils",[Object,n],function(){e.singleton(function(){this._menuIdToTitle={"urn:hbo:navigation-menu:root":"","urn:hbo:product-menu:home":"home","urn:hbo:navigation-menu:movies":"movies","urn:hbo:product-menu:movies-a-z":"movies","urn:hbo:product-menu:movie-genre-action":"movies/action","urn:hbo:product-menu:movie-genre-comedy":"movies/comedy","urn:hbo:product-menu:movie-genre-drama":"movies/drama","urn:hbo:product-menu:movie-genre-family":"movies/family","urn:hbo:product-menu:movie-genre-horror-sci-fi":"movies/horror_scifi","urn:hbo:product-menu:movie-genre-latino":"movies/latino","urn:hbo:product-menu:movie-genre-suspense":"movies/suspense","urn:hbo:product-menu:movie-genre-romance":"movies/romance","urn:hbo:navigation-menu:series":"series","urn:hbo:product-menu:series-a-z":"series","urn:hbo:product-menu:series-latino":"series/latino","urn:hbo:product-menu:series-international":"series/international","urn:hbo:product-menu:series-family":"series/family","urn:hbo:navigation-menu:comedy":"comedy","urn:hbo:product-menu:comedies-a-z":"comedy","urn:hbo:product-menu:comedies-movie":"comedy/movies","urn:hbo:product-menu:comedies-digital":"comedy/digital","urn:hbo:navigation-menu:sports":"sports","urn:hbo:product-menu:sports-a-z":"sports","urn:hbo:navigation-menu:documentaries":"documentaries","urn:hbo:product-menu:documentaries-a-z":"documentaries","urn:hbo:navigation-menu:latenight":"late_night","urn:hbo:product-menu:latenight-a-z":"late_night","urn:hbo:product-menu:latenight-special":"late_night/specials","urn:hbo:product-menu:latenight-movie":"late_night/movies","urn:hbo:product-menu:collections":"collections","urn:hbo:product-menu:watchlist":"watchlist","urn:hbo:navigation-menu:kids":"kids","urn:hbo:product-menu:kids-a-z":"kids","urn:hbo:product-menu:kids-series":"kids/series","urn:hbo:product-menu:kids-movie":"kids/movies","urn:hbo:product-menu:sesame-street":"kids/sesame_street","urn:hbo:product-menu:featured-movies":"featured","urn:hbo:product-menu:featured-series":"featured","urn:hbo:product-menu:featured-kids":"featured","urn:hbo:product-menu:featured-comedies":"featured","urn:hbo:product-menu:featured-latenight":"featured"},this._menuTitleToId=v({"":"urn:hbo:navigation-menu:root",home:"urn:hbo:product-menu:home",movies:"urn:hbo:navigation-menu:movies","movies/action":"urn:hbo:product-menu:movie-genre-action","movies/comedy":"urn:hbo:product-menu:movie-genre-comedy","movies/drama":"urn:hbo:product-menu:movie-genre-drama","movies/family":"urn:hbo:product-menu:movie-genre-family","movies/horror_scifi":"urn:hbo:product-menu:movie-genre-horror-sci-fi","movies/latino":"urn:hbo:product-menu:movie-genre-latino","movies/suspense":"urn:hbo:product-menu:movie-genre-suspense","movies/romance":"urn:hbo:product-menu:movie-genre-romance",series:"urn:hbo:navigation-menu:series","series/latino":"urn:hbo:product-menu:series-latino","series/international":"urn:hbo:product-menu:series-international","series/family":"urn:hbo:product-menu:series-family",comedy:"urn:hbo:navigation-menu:comedy","comedy/movies":"urn:hbo:product-menu:comedies-movie","comedy/digital":"urn:hbo:product-menu:comedies-digital",sports:"urn:hbo:navigation-menu:sports",documentaries:"urn:hbo:navigation-menu:documentaries",late_night:"urn:hbo:navigation-menu:latenight","late_night/specials":"urn:hbo:product-menu:latenight-special","late_night/movies":"urn:hbo:product-menu:latenight-movie",collections:"urn:hbo:product-menu:collections",watchlist:"urn:hbo:product-menu:watchlist",kids:"urn:hbo:navigation-menu:kids","kids/series":"urn:hbo:product-menu:kids-series","kids/movies":"urn:hbo:product-menu:kids-movie","kids/sesame_street":"urn:hbo:product-menu:sesame-street"},m.singleton.byDesign({desktop:{movies:"urn:hbo:page:movies-all","movies/action":"urn:hbo:page:movies-action","movies/comedy":"urn:hbo:page:movies-comedy","movies/drama":"urn:hbo:page:movies-drama","movies/family":"urn:hbo:page:movies-family","movies/horror_scifi":"urn:hbo:page:movies-horror","movies/latino":"urn:hbo:page:movies-latino","movies/suspense":"urn:hbo:page:movies-suspense","movies/romance":"urn:hbo:page:movies-romance",series:"urn:hbo:page:series-all","series/latino":"urn:hbo:page:series-latino","series/international":"urn:hbo:page:series-international","series/family":"urn:hbo:page:series-family",kids:"urn:hbo:page:kids-all","kids/series":"urn:hbo:page:kids-series","kids/movies":"urn:hbo:page:kids-movies","kids/sesame_street":"urn:hbo:page:kids-sesame-street",comedy:"urn:hbo:page:comedies-all","comedy/movies":"urn:hbo:page:comedies-movies","comedy/digital":"urn:hbo:page:comedies-digital",sports:"urn:hbo:page:sports-all",documentaries:"urn:hbo:page:documentaries-all"}})),this._hurleyIdToModelType={"urn:hbo:navigation-menu:root":"RootNavigationMenu","urn:hbo:product-menu:preview":"WelcomeLandingMenu","urn:hbo:product-menu:home":"HomeLandingMenu","urn:hbo:navigation-menu:faq":"FaqMenu","urn:hbo:product-menu:featured-movies":"LandingMenu","urn:hbo:product-menu:featured-series":"LandingMenu","urn:hbo:product-menu:featured-comedies":"LandingMenu","urn:hbo:product-menu:featured-sports":"LandingMenu","urn:hbo:product-menu:featured-documentaries":"LandingMenu","urn:hbo:product-menu:featured-latenight":"LandingMenu","urn:hbo:product-menu:featured-kids":"LandingMenu","urn:hbo:product-menu:watchlist":"WatchlistLandingMenu","urn:hbo:product-menu:collections":"CollectionsLandingMenu","urn:hbo:user":"User","urn:hbo:tile:activate":"ActivationTile","urn:hbo:tile:no-account":"NoAccountTile","urn:hbo:query:authenticator-list":"AffiliateList","urn:hbo:series-markers:mine":"SeriesMarkerMap","urn:hbo:commerce:gift-card":"GiftCardBalance","urn:hbo:commerce":"CommerceConfig"},this._hurleyTypeToModelType={"apple-sso":"SingleSignOnQuery",authenticator:"Affiliate","billing-status":"BillingInformation",carousel:"Carousel",collection:"Collection",edit:"VideoEdit","entitlement-status":"Entitlement",episode:"Episode","external-ids":"ExternalIds",extra:"Extra",faq:"Faq",feature:"Feature",franchise:"Franchise",grid:"Grid","interactive-document":"InteractiveDocument",link:"Link","link-set":"LinkSet",microsite:"Microsite","navigation-menu":"NavigationMenu",page:"Page","payment-metadata":"ServicePage",paywalls:"Paywall",privacy:"PrivacyPolicy","product-menu":"ProductMenu",query:"MenuItems",search:"SearchResults",season:"Season",series:"Series",settings:"UserSettings",text:"Text",tile:"Tile",timespan:"Timespan",tos:"TermsOfService",tray:"Tray",user:"User",video:"VideoPlayback","video-state":"VideoState"}}),e.properties({Ids:{defaultValue:_,readOnlyField:!0},_tileParts:{defaultValue:/^(urn:hbo:)tile(:[\w\-]+):type:([\w\-]+).*$/},_menuIdToTitle:void 0,_menuTitleToId:void 0,_hurleyIdToModelType:void 0,_hurleyTypeToModelType:void 0,traceIdHeaderName:{get:function(){return r.traceIdHeaderName}}}),e.methods({handleDataException:function(e){throw e instanceof i&&void 0!==e.displayMessage&&!0===r.shouldWrapRejection(e)&&(e=t.wrap(e,{displayMessage:e.displayMessage,area:"dataservices.dependent.ProfileService",message:e.message,code:e.code},o)),e},getDefaultHeaders:function(){return[{header:"Content-Type",value:"application/json"},{header:"Accept",value:h.singleton.servicesApiVersion},{header:"X-Hbo-Client-Version",value:u.singleton.versionString},{header:"Accept-Language",value:p.singleton.localeHyphenated}]},clearCachedModelsBasedOnUserData:function(){var e=this;[_.USER,_.CONTINUE_WATCHING,_.LAST_PLAYED,_.WATCHLIST,_.ROOT_MENU,_.PAYWALL,_.SERIES_MARKERS].forEach(function(t){e.createModelFromId(t).resetCache()})},getNoAccountModel:function(){return this.createModelFromId("urn:hbo:tile:no-account")},createModelFromId:function(e){var t=this.getFactoryIdFromModelId(e);if(void 0!==t)return s.singleton.create(t,e)},getInnerIdFromTileId:function(e){var t=this._tileParts.exec(e);return t[1]+t[3]+t[2]},getMenuTitleFromMenuId:function(e){return this._menuIdToTitle[e]},getMenuIdFromMenuTitle:function(e){return this._menuTitleToId[e]},getServerTimeFromHeaders:function(e){if(void 0!==e&&void 0!==e["x-hbo-server-time"])return parseInt(e["x-hbo-server-time"],10)},mapGrantType:function(e){return this._mapGrantType(e)},_mapGrantType:function(e){switch(e){case a.CLIENT_CREDENTIALS:return"client_credentials";case a.REFRESH_TOKEN:return"refresh_token";case a.USER_ACTIVATION_CODE:return"user_activation_code";case a.USER_APPLE_SSO:return"user_apple_sso";case a.USER_OTT_LOGIN:return"user_name_password";case a.USER_OTT_PASSWORD_CHALLENGE:return"user_password_challenge";case a.USER_REFRESH_AFTER_LINKING:return"user_refresh_after_linking";case a.USER_REFRESH_AFTER_REGISTRATION:return"user_refresh_after_registration";case a.USER_RESET_TOKEN:return"user_reset_password_pin_token";case a.USER_SITE_DEVICE_DATA:return"user_site_device_data"}},getFactoryIdFromModelId:function(e){var t=this._hurleyIdToModelType[e];if(void 0!==t)return t;var i=this._getTypeFromUrn(e);return this._hurleyTypeToModelType[i]},_getTypeFromUrn:function(e){if(void 0!==e){return e.split(":")[2]}},generateTraceId:function(){return u.singleton.sessionId+"-"+d.create()},getURNForPaymentMetadata:function(e){return"urn:hbo:payment-metadata:"+this.mapStoreTypeToPaymentProvider(e)},getHomeMenuURNs:function(){var e=[_.HOME];return!0===h.singleton.enableWatchlist&&e.push(_.WATCHLIST_MENU),!0===h.singleton.enableContinueWatching&&e.push("urn:hbo:product-menu:continuewatching"),e},mapStoreTypeToPaymentProvider:function(e){var t;switch(e){case c.AMAZON:t="amazon";break;case c.APPLE:t="apple";break;case c.GOOGLE:t="google-play";break;case c.TIZEN:t="samsung";break;case c.BLACKMARKET:t="blackmarket"}return t}}),e.staticScope(function(){e.methods({getLoginInfoFromChunk:function(e){return f.new({tokenType:e.getString(["token_type"]),accessToken:e.getString(["access_token"]),refreshToken:e.getString(["refresh_token"]),accessExpiration:g.singleton.now()+1e3*e.getInt(["expires_in"])})}})})})})}(),function(){"use strict";define("platform/common/DeepLinkAction",["core/oop"],function(e){return e.enumDef("platform.common.DeepLinkAction",["OPEN","PLAY","SETTINGS","SEARCH"])})}(),function(){"use strict";define("design/DeepLinkUtil",["core/oop","dataservices/dependent/ServiceUtils","platform/common/DeepLinkAction"],function(e,t,i){return e.classDef("design.DeepLinkUtil",[Object],function(){e.singleton(function(){}),e.methods({getDeepLink:function(e){var n,o,r,a,s,l;return void 0!==e.location&&void 0!==(n=t.singleton.createModelFromId(e.location))&&(o=i.OPEN),void 0!==e.action&&i.forEach(function(t,i){e.action.toLowerCase()===i.toLowerCase()&&(o=t)}),void 0!==e.source&&(r=e.source),void 0!==e.seasonNumber&&(a=Number(e.seasonNumber)),void 0!==e.episodeNumber&&(s=Number(e.episodeNumber)),o===i.SEARCH&&(l=e.searchTerm),void 0===o?void 0:{action:o,source:r,episodeNumber:s,model:n,seasonNumber:a,searchTerm:l}}})})})}(),function(){"use strict";define("dataservices/DataServicesDeveloperSettings",["core/oop"],function(e){return e.classDef("dataservices.DataServicesDeveloperSettings",Object,function(){e.singleton(function(){}),e.properties({preventAssetCollectionCacheRefresh:{defaultValue:void 0,privateSet:!0},testTrickPlayUri:{defaultValue:void 0,privateSet:!0},quickActivate:{defaultValue:!1,privateSet:!0},respondToAuthedRequestsWith401:{defaultValue:!1,privateSet:!0},ignoreGOST:{defaultValue:void 0,privateSet:!0},testIsClientVersionNotSupported:{defaultValue:void 0,privateSet:!0},testIsGeoBlocked:{defaultValue:void 0,privateSet:!0},batchProvidersNeverPreload:{defaultValue:!1,privateSet:!0},testCreditStartTime:{defaultValue:void 0,privateSet:!0},shortAuthTimeout:{defaultValue:!1,privateSet:!0},enableBootstrapper:{defaultValue:!1,privateSet:!0}})})})}(),function(){"use strict";define("dataservices/authentication/IAuthenticationManager",["core/oop"],function(e){return e.interfaceDef("dataservices.authentication.IAuthenticationManager",void 0,function(){e.singleton(),e.methods({getClientAuthorization:void 0,getUserLoginInfo:void 0,resetAuthenticationState:void 0,reset:void 0,refreshCredentialsWithGrantType:void 0,activateDevice:void 0,deactivateDevice:void 0,refreshCredentials:void 0,login:void 0,logout:void 0,submitActivationCode:void 0})})})}(),function(){"use strict";define("dataservices/dependent/LoginInfoManager",["core/oop","lib/Promise","core/data/ModelFactory"],function(e,t,i){return e.classDef("dataservices.dependent.LoginInfoManager",[Object],function(){e.singleton(function(){}),e.properties({_cachedClientProvider:void 0,_cachedUserProvider:void 0,_clientProvider:{get:function(){return void 0===this._cachedClientProvider&&(this._cachedClientProvider=i.singleton.create("ClientToken","ClientToken")),this._cachedClientProvider}},_userProvider:{get:function(){return void 0===this._cachedUserProvider&&(this._cachedUserProvider=i.singleton.create("UserToken","UserToken")),this._cachedUserProvider}}}),e.methods({reset:function(){this._cachedClientProvider=void 0,this._cachedUserProvider=void 0},_getProvider:function(e){return!0===e?this._userProvider:this._clientProvider},refresh:function(e,t){return this._getProvider(e).refresh(t)},refreshWithGrantType:function(e,i){var n=this._userProvider;return t.fulfilled().then(function(){return void 0!==i?n.setLoginInfo(i,!1):t.fulfilled()}).then(function(){return n.refreshWithGrantType(e)})},getLoginInfo:function(e){return this._getProvider(e).loginInfo},setLoginInfo:function(e,t,i){return this._getProvider(e).setLoginInfo(t,i)}})})})}(),function(){"use strict";define("platform/diagnostics/HttpRequestLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){var i=e.classDef("platform.diagnostics.HttpRequestLogEntry",t,function(t){e.staticScope(function(){e.properties({_counter:{defaultValue:1}})}),e.initConstructor(function(){this._type="httprequest",this.requestId=i._counter++}),e.properties({requestId:void 0,method:void 0,url:void 0,headers:void 0,body:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.requestId=this.requestId,e.method=this.method,e.url=this.url,void 0!==this.headers&&this.headers.length>0&&(e.headers=this.headers),void 0!==this.body&&(e.body=this.body),e}})});return i})}(),function(){"use strict";define("platform/diagnostics/HttpResponseLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("platform.diagnostics.HttpResponseLogEntry",t,function(t){e.initConstructor(function(){this._type="httpresponse"}),e.properties({requestId:void 0,status:void 0,response:void 0,attemptingRetry:void 0,headers:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.requestId=this.requestId,e.status=this.status,e.response=this.response,e.attemptingRetry=this.attemptingRetry,void 0!==this.headers&&this.headers.length>0&&(e.headers=this.headers),e}})})})}(),function(){"use strict";define("platform/diagnostics/HttpCancelLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("platform.diagnostics.HttpCancelLogEntry",t,function(t){e.initConstructor(function(){this._type="httpcancel"}),e.properties({requestId:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.requestId=this.requestId,e}})})})}(),function(){"use strict";define("platform/dependent/Base64Binary",["core/oop"],function(e){return e.classDef("platform.dependent.Base64Binary",[Object],function(){e.staticScope(function(){e.methods({binaryArrayToBase64:function(e){return btoa(String.fromCharCode.apply(null,e))},base64ToBinaryArray:function(e){return new Uint8Array(atob(e).split("").map(function(e){return e.charCodeAt(0)}))}})})})})}(),function(){"use strict";define("platform/dependent/IHttpClient",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IHttpClient",void 0,function(){e.singleton(),e.methods({get:void 0,post:void 0,put:void 0,del:void 0,patch:void 0})})})}(),function(){"use strict";define("platform/common/HttpResponseType",["core/oop"],function(e){return e.enumDef("platform.common.HttpResponseType",["String","Blob","ArrayBuffer","Bin64"])})}(),function(){"use strict";define("platform/dependent/HttpClient",["core/oop","lib/Promise","lib/lodash/collections/forEach","lib/lodash/collections/find","platform/dependent/Base64Binary","platform/dependent/IHttpClient","platform/HttpStatus","platform/common/HttpResponseType"],function(e,t,i,n,o,r,a,s){var l=e.classDef("platform.dependent.HttpClient",[Object,r],function(){e.staticScope(function(){e.methods({_createXMLHttpRequest:function(){return new XMLHttpRequest}})}),e.singleton(function(){}),e.properties({allowUnsentResponses:{defaultValue:!1},_contentTypeHeader:{defaultValue:{header:"Content-Type",value:"application/json"}}}),e.methods({_parseHeaders:function(e){var t={},n=e.split("\n");return i(n,function(e){var i=e.indexOf(": ");i>0&&(t[e.substr(0,i)]=e.substr(i+2,e.length-(i+2)))}),t},_getWindow:function(){return window},_shouldAbortEarly:function(e){var t=this._getWindow();return void 0!==t.location&&"https:"===t.location.protocol&&0===e.indexOf("http:")},_xmlHttp:function(e,i,r,c,d,u,p){var h=this;return new t(function(t,g,f){if(!0===h._shouldAbortEarly(i))return void t({status:a.NETWORK_ERROR,response:void 0,headers:{}});var m=l._createXMLHttpRequest();m.open(e,i,!0),void 0!==d&&(m.timeout=d),r=r||[],"GET"!==e&&void 0===n(r,{header:"Content-Type"})&&r.push(h._contentTypeHeader);for(var v=0;v<r.length;v++){var _=r[v];m.setRequestHeader(_.header,_.value)}u===s.Blob&&(m.responseType="blob"),u!==s.ArrayBuffer&&u!==s.Bin64||(m.responseType="arraybuffer"),m.addEventListener("load",function(){var e=m.response,i=m.status;if(u===s.Bin64){var n=new Uint8Array(e);e=o.binaryArrayToBase64(n)}!0===h.allowUnsentResponses&&0===i&&void 0!==e&&(i=200),t({status:i,response:e,headers:h._parseHeaders(m.getAllResponseHeaders())})}),m.addEventListener("error",function(){t({status:m.status,response:m.response,headers:h._parseHeaders(m.getAllResponseHeaders())})}),m.addEventListener("timeout",function(){t({status:a.TIMEOUT,response:m.response,headers:h._parseHeaders(m.getAllResponseHeaders())})}),p&&(m.withCredentials=!0),m.send(c||""),f(function(){m.abort()})})},get:function(e,t,i,n,o){return this._xmlHttp("GET",e,t,void 0,i,n,o)},post:function(e,t,i,n,o,r){return this._xmlHttp("POST",e,t,i,n,o,r)},put:function(e,t,i,n,o,r){return this._xmlHttp("PUT",e,t,i,n,o,r)},del:function(e,t,i,n,o){return this._xmlHttp("DELETE",e,t,void 0,i,n,o)},patch:function(e,t,i,n,o,r){return this._xmlHttp("PATCH",e,t,i,n,o,r)}})});return l})}(),function(){"use strict";define("platform/HttpClient",["core/oop","core/Debug","core/Exception","core/logging/Counters","core/logging/Levels","engine/dependent/Time","platform/diagnostics/HttpRequestLogEntry","platform/diagnostics/HttpResponseLogEntry","platform/diagnostics/HttpCancelLogEntry","platform/dependent/HttpClient","lib/Promise","platform/NetworkException","platform/HttpStatus"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){var h=e.enumDef("platform.HttpClient.Counters",{REQUEST_NUMBER_COUNTER:"HttpClientCounters.numRequests",TOTAL_TIME_COUNTER:"HttpClientCounters.totalTime"}),g=e.classDef("platform.HttpClient",Object,function(){e.staticScope(function(){e.properties({_xmlEncodeMap:{defaultValue:{"&":"&amp;","<":"&lt;",">":"&gt;"}},_xmlDecodeMap:{defaultValue:{"&amp;":"&","&lt;":"<","&gt;":">","&apos;":"'","&quot;":'"'}}}),e.methods({encodeXMLText:function(e){return(void 0===e?"":e).toString().replace(/([&<>])/g,function(e,t){return g._xmlEncodeMap[t]})},decodeXMLText:function(e){return(void 0===e?"":e).toString().replace(/(&amp;|&lt;|&gt;|&apos;|&quot;)/g,function(e,t){return g._xmlDecodeMap[t]})},isStatusCodeRetryable:function(e){return 0===e||e>=500&&e<600||e===p.REQUEST_TIMEOUT}})}),e.singleton(function(){}),e.properties({_maxRetryAttempts:{defaultValue:3},_timeout:{defaultValue:3e4}}),e.methods({get:function(e,t,i){return this._callInternalMethod("get","GET",e,t,void 0,i)},post:function(e,t,i,n){return this._callInternalMethod("post","POST",e,t,i,n)},put:function(e,t,i,n){return this._callInternalMethod("put","PUT",e,t,i,n)},del:function(e,t,i){return this._callInternalMethod("del","DELETE",e,t,void 0,i)},patch:function(e,t,i,n){return this._callInternalMethod("patch","PATCH",e,t,i,n)},_callInternalMethod:function(e,t,i,n,o,r){var a=this._logRequest(t,i,n,o),s=this._processRequestInternal(function(t){return"get"===e||"del"===e?c.singleton[e](i,n,t,void 0,r):c.singleton[e](i,n,o,t,void 0,r)},a,1);return this._wrapPromiseInErrorHandling(s,a,e,i)},_logRequest:function(e,t,i,n){var r=a.new({method:e,url:t,headers:i,body:n,area:"platform.HttpClient",verbosity:o.DIAG});return r.log(),r.requestId},_logResponse:function(e,t,i){e.status===p.REQUEST_TIMEOUT||e.response,s.new({requestId:t,status:e.status,response:e.response,headers:e.headers,attemptingRetry:i,area:"platform.HttpClient",verbosity:o.DIAG}).log()},_logCancel:function(e){l.new({requestId:e,area:"platform.HttpClient",verbosity:o.DIAG}).log()},_wrapPromiseInErrorHandling:function(e,t,n,r){var a=this;return e.catch(function(e){return d.rejected(i.wrap(e,{message:"HTTP request failure - url: "+r,area:"platform.HttpClient."+n,uri:r,status:e.status,response:e.response,headers:void 0===e.headers?void 0:e.headers,methodName:n,level:o.WARNING},u))}).finally(function(){e.isCancelled()&&a._logCancel(t)})},_processRequestInternal:function(e,t,i){var o=this,a=r.singleton.now();return e(this._timeout).then(function(s){if(!0===n.singleton.isEnabled){var l=r.singleton.now()-a,c=n.singleton.getCounter(h.TOTAL_TIME_COUNTER);n.singleton.setCounter(h.TOTAL_TIME_COUNTER,c+l),n.singleton.incrementCounter(h.REQUEST_NUMBER_COUNTER)}return s.status>=200&&s.status<400?(o._logResponse(s,t,!1),s):g.isStatusCodeRetryable(s.status)&&i<=o._maxRetryAttempts?(o._logResponse(s,t,!0),o._processRequestInternal(e,t,i+1)):(o._logResponse(s,t,!1),d.rejected(s))})}})});return g})}(),function(){"use strict";define("dataservices/JsonResponse",["core/oop","core/Exception","dataservices/ServiceException","dataservices/JsonChunk","engine/dependent/Time","core/data/CacheManager","dataservices/dependent/ErrorCodeUtils"],function(e,t,i,n,o,r,a){var s=e.classDef("dataservices.JsonResponse",Object,function(){e.staticScope(function(){e.methods({getExpirationFromHeaders:function(e,t){var i,n=e.getString(["Cache-Control"],!0)||e.getString(["cache-control"],!0);if(void 0!==n)if(n.indexOf("no-cache")>=0)i=o.singleton.now()+t;else if(n.indexOf("max-age")>=0){var r=n.indexOf("max-age=")+8,a=n.substr(r),s=a.indexOf(","),l=s>0?s:a.length,c=a.substr(0,l),d=parseInt(c,10);isNaN(d)||(i=o.singleton.now()+Math.max(t,1e3*d))}if(void 0===i){var u=e.getDate(["Expires"],!0)||e.getDate(["expires"],!0);i=void 0!==u?Math.max(o.singleton.now()+t,u.getTime()):o.singleton.now()+t}return i}})}),e.constructor(function(e,o){try{var r=JSON.parse(e.response);this._json=n.new(r),this.requestUri=o,void 0!==e.headers&&(this._headers=n.new(e.headers))}catch(e){throw t.wrap(e,{message:"Incorrect response format",area:"dataservices.JsonResponse.constructor",uri:o},i)}var s=a.checkSuccessfulResponse(e,this.requestUri);if(void 0!==s)throw s}),e.properties({headers:{privateSet:!0,defaultValue:void 0},json:{privateSet:!0,defaultValue:void 0},requestUri:void 0,expirationTime:{get:function(){return!0!==this._calculatedExpirationDate&&(this._expirationTime=this._calculateExpirationDate(),this._calculatedExpirationDate=!0),this._expirationTime}},ignoreMinimumCacheTime:{defaultValue:!1,onChange:function(){this._calculatedExpirationDate=!1}},_expirationTime:void 0,_calculatedExpirationDate:void 0}),e.methods({_calculateExpirationDate:function(){var e;if(void 0!==this._headers){var t=!0===this.ignoreMinimumCacheTime?0:r.singleton.minimumCacheTime;e=s.getExpirationFromHeaders(this._headers,t)}else e=!0===this.ignoreMinimumCacheTime?0:o.singleton.now()+r.singleton.minimumCacheTime;return e}})});return s})}(),function(){"use strict";define("dataservices/ServerTime",["core/oop","engine/dependent/Time"],function(e,t){return e.classDef("dataservices.ServerTime",Object,function(){e.singleton(function(){}),e.properties({_time:{defaultValue:void 0},isActive:{defaultValue:!1},time:{get:function(){return void 0===this._time?t.singleton.now():this._time},set:function(e){this._time=e}}})})})}(),function(){"use strict";define("dataservices/dependent/ServiceHttpClient",["core/oop","lib/Promise","core/logging/Counters","platform/HttpClient","platform/HttpStatus","dataservices/JsonResponse","dataservices/InvalidSessionException","dataservices/dependent/LoginInfoManager","core/Exception","dataservices/ServiceException","platform/NetworkException","dataservices/dependent/ErrorCodeUtils","engine/dependent/Time","core/data/CacheManager","dataservices/ServerTime","dataservices/dependent/ServiceUtils","lib/lodash/collections/find","dataservices/DataServicesDeveloperSettings","dataservices/authentication/ClientVersionNotSupportedException","core/logging/Levels"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y){var w=e.enumDef("dataservices.dependent.ServiceHttpClient.Counters",{REQUEST_NUMBER_COUNTER:"ServiceHttpClientCounters.numRequests",TOTAL_TIME_COUNTER:"ServiceHttpClientCounters.totalTime"}),b=e.classDef("dataservices.dependent.ServiceHttpClient",[Object],function(){e.singleton(function(){}),e.properties({_lastServerTimeOverride:void 0,_timeTravelHeader:{defaultValue:"x-hbo-time-travel-override"}}),e.methods({get:function(e,t,i){return b.singleton._wrapMethod("get",e,t,void 0,!1,i)},post:function(e,t,i,n){return b.singleton._wrapMethod("post",e,t,i,!1,n)},put:function(e,t,i,n){return b.singleton._wrapMethod("put",e,t,i,!1,n)},del:function(e,t,i){return b.singleton._wrapMethod("del",e,t,void 0,!1,i)},patch:function(e,t,i,n){return b.singleton._wrapMethod("patch",e,t,i,!1,n)},_copyHeaders:function(e,t){t.forEach(function(t){void 0===m(e,function(e){return t.header===e.header})&&e.push(t)})},_wrapMethod:function(e,m,S,C,T,R){if(!0===v.singleton.testIsClientVersionNotSupported)return t.rejected(_.new({area:"dataservices.dependent.ServiceHttpClient._wrapMethod",message:"client version blocked"}));var P,E,I,x,A=!0,k=this,V=p.singleton.now();return void 0===R?x=s.singleton.getLoginInfo(!0).then(function(e){return void 0===e?(A=!1,s.singleton.getLoginInfo(!1)):e}):(A=R,x=s.singleton.getLoginInfo(R),!0===R&&(x=x.then(function(e){return void 0===e?t.reject(c.new({area:"dataservices.dependent.ServiceHttpClient._wrapMethod",message:"user not authenticated"})):t.fulfilled(e)}))),x.then(function(e){if(!0===A&&!0===v.singleton.respondToAuthedRequestsWith401){var i=d.new({message:"Forced exception to respond with 401",area:"dataservices.dependent.ServiceHttpClient._wrapMethod",level:y.INFO,status:o.UNAUTHORIZED});return t.rejected(i)}E=e,I=f.singleton.generateTraceId(),void 0===S&&(S=[]),P=[],k._copyHeaders(P,S),k._copyHeaders(P,f.singleton.getDefaultHeaders()),k._copyHeaders(P,[{header:"Authorization",value:e.tokenType+" "+e.accessToken},{header:f.singleton.traceIdHeaderName,value:I}])}).then(function(){return"get"===e||"del"===e?n.singleton[e](m,P):n.singleton[e](m,P,C)}).then(function(e){if(!0===i.singleton.isEnabled){var t=p.singleton.now()-V,n=i.singleton.getCounter(w.TOTAL_TIME_COUNTER);i.singleton.setCounter(w.TOTAL_TIME_COUNTER,n+t),i.singleton.incrementCounter(w.REQUEST_NUMBER_COUNTER)}var o=!1;if(void 0!==e.headers){var a=e.headers["Content-Type"]||e.headers["content-type"];void 0!==a&&void 0!==e.response&&""!==e.response&&(o=a.indexOf("application/json")>-1)}var s;if(void 0!==e.headers&&void 0!==e.headers[k._timeTravelHeader]){var l=new Date(e.headers[k._timeTravelHeader]).getTime();!0!==isNaN(l)&&(s=l)}if(g.singleton.isActive=void 0!==s,s!==k._lastServerTimeOverride&&(k._lastServerTimeOverride=s,h.singleton.clear(),g.singleton.time=s),!0===o)return r.new(e,m)}).catch(function(i){return!1===u.shouldWrapRejection(i)?t.rejected(i):i instanceof d&&(i=u.checkUnsuccessfulResponse(i))instanceof a&&!0!==T?s.singleton.refresh(A,E).then(function(){return b.singleton._wrapMethod(e,m,S,C,!0,R)}):t.rejected(l.wrap(i,{message:"Service error",area:"dataservices.dependent.ServiceHttpClient._wrapMethod",level:i.level},c))})}})});return b})}(),function(){"use strict";define("dataservices/dependent/domains",["core/oop","application/ClientApplication"],function(e,t){return e.classDef("dataservices.dependent.domains",Object,function(){e.staticScope(function(){e.properties({cometUsesHttps:{get:function(){
return"comet-local"!==t.singleton.environment}},comet:{get:function(){return this._getDomain("comet{subdomain}.{domain}.hbo.com",!0)}},redirector:{get:function(){return this._getDomain("redirector{subdomain}.{domain}.hbo.com",!1)}},telegraph:{get:function(){return this._getDomain("telegraph{subdomain}.{domain}.hbo.com",!1)}},reporting:{get:function(){return this._getV2LegacyDomain("{environment}.reporting.hbogo.com")}},omniture:{get:function(){return"hbobroadband.122.2o7.net"}},omnitureMetrics:{get:function(){return"metrics.hbogo.com"}},omnitureMetricsHttps:{get:function(){return"smetrics.hbogo.com"}},convivaTest:{get:function(){return"hbotest.testonly.conviva.com"}},markers:{get:function(){return this._getDomain("markers{subdomain}.{domain}.hbo.com",!1)}}}),e.methods({_getDomainFromEnvironment:function(e,t){return"prod"===e||!1===t&&("comet-dev"===e||"comet-local"===e)?"api":"staging"===e?e+".hurley":"development.hurley"},_getSubdomainFromEnvironment:function(e){return"prod"===e||"staging"===e||"comet-dev"===e||"comet-local"===e?"":"-"+e},_getV2LegacyDomain:function(e){var i=t.singleton.environment;return i="prod"===i?"prod-v2":"qa-v2",e.replace("{environment}",i)},_getDomain:function(e,i){var n=t.singleton.environment;return"comet-local"===n&&!0===i?"localhost:3009":e.replace("{domain}",this._getDomainFromEnvironment(n,i)).replace("{subdomain}",this._getSubdomainFromEnvironment(n))}})})})})}(),function(){"use strict";define("dataservices/dependent/uris",["core/oop","dataservices/dependent/domains","dataservices/DataServicesSettings"],function(e,t,i){var n=e.classDef("dataservices.dependent.uris",Object,function(){e.staticScope(function(){e.methods({createUri:function(e,i,n){return(n?"https://":"http://")+t[e]+i}}),e.properties({deactivateDevices:{get:function(){return n.createUri("comet","/devices",t.cometUsesHttps)}},getTokens:{get:function(){return n.createUri("comet","/tokens",t.cometUsesHttps)}},getBatchObjects:{get:function(){return n.createUri("comet","/content",t.cometUsesHttps)}},users:{get:function(){return n.createUri("comet","/users",t.cometUsesHttps)}},forgotPin:{get:function(){return n.createUri("comet","/users/me/pin/reminders",t.cometUsesHttps)}},resetPasswordRequest:{get:function(){return n.createUri("comet","/users/me/password/resetRequests",t.cometUsesHttps)}},updateAutoRenew:{get:function(){return n.createUri("comet","/billing/me",t.cometUsesHttps)}},validatePin:{get:function(){return n.createUri("comet","/users/me/pin/validations",t.cometUsesHttps)}},updatePin:{get:function(){return n.createUri("comet","/users/me/pin",t.cometUsesHttps)}},updatePassword:{get:function(){return n.createUri("comet","/users/me",t.cometUsesHttps)}},getActivation:{get:function(){return n.createUri("comet","/devices/activationCode",t.cometUsesHttps)}},getActivationClientCodeStatus:{get:function(){return n.createUri("comet","/device-activator/activationCode/status/{0}",t.cometUsesHttps)}},postActivationCode:{get:function(){return n.createUri("comet","/device-activator/me/{0}",t.cometUsesHttps)}},getDeactivation:{get:function(){return n.createUri("comet","/devices/{0}",t.cometUsesHttps)}},getCommerceConfig:{get:function(){return n.createUri("comet","/payments/configurations/",t.cometUsesHttps)}},validateRedemptionCode:{get:function(){return n.createUri("comet","/payments/redemptions/",t.cometUsesHttps)}},checkSubscriptionEligibility:{get:function(){return n.createUri("comet","/billing/me/userCheck?purchaseType={0}&commercePlanId={1}",t.cometUsesHttps)}},purchaseSubscription:{get:function(){return n.createUri("comet","/billing/subscriptions?returnPath={0}&sessionId={1}",t.cometUsesHttps)}},giftCardBalance:{get:function(){return n.createUri("comet","/billing/giftcard/balance",t.cometUsesHttps)}},getPaymentsSignature:{get:function(){return n.createUri("comet","/payments/signatures",t.cometUsesHttps)}},updatePaymentMethod:{get:function(){return n.createUri("comet","/payments/methods/me",t.cometUsesHttps)}},getContinueWatching:{get:function(){return n.createUri("comet","/continuewatching",t.cometUsesHttps)}},setContinueWatching:{get:function(){return n.createUri("comet","/settings/continuewatching",t.cometUsesHttps)}},getLastPlayed:{get:function(){return n.createUri("comet","/lastplayed/{0}",t.cometUsesHttps)}},modifyWatchlist:{get:function(){return n.createUri("comet","/watchlist/{0}",t.cometUsesHttps)}},logTelemetry:{get:function(){return n.createUri("comet","/logs",t.cometUsesHttps)}},postTelegraph:{get:function(){return n.createUri("telegraph","/events/v1",t.cometUsesHttps)}},getStreamTracking:{get:function(){return n.createUri("comet","/concurrentStreams",t.cometUsesHttps)}},getTranslate:{get:function(){return n.createUri("redirector","/translate",!0)}},getPlaybackMarkers:{get:function(){return n.createUri("markers","/markers/{0}",!0)}},setPlaybackMarkers:{get:function(){return n.createUri("markers","/markers",!0)}},getOmniture:{get:function(){var e=n._shouldUseAnalyticsSSL,t=!0===i.singleton.useMetricsAnalyticsDomain?!0===e?"omnitureMetricsHttps":"omnitureMetrics":"omniture";return n.createUri(t,"/b/ss//6",e)}},convivaTest:{get:function(){return n.createUri("convivaTest","",n._shouldUseAnalyticsSSL)}},watchEventService:{get:function(){return n.createUri("reporting","/apps/reporting/rest/watchEventService/record",n._shouldUseAnalyticsSSL)}},fairPlayLocalCertificate:{get:function(){return"assets/certs/desktop/hbo.file"}},isReceiptLinked:{get:function(){return n.createUri("comet","/billing/receipts/linkLookups",t.cometUsesHttps)}},linkReceipt:{get:function(){return n.createUri("comet","/billing/receipts",t.cometUsesHttps)}},commerceRedirectUrl:{get:function(){return n.createUri("comet","/billing/me/redirectToCommerce",t.cometUsesHttps)}},_shouldUseAnalyticsSSL:{get:function(){return!0===i.singleton.productionAnalytics||!0===i.singleton.enforceSecureServices}}})})});return n})}(),function(){"use strict";define("dataservices/dependent/AuthenticationManager",["core/oop","lib/Promise","dataservices/authentication/IAuthenticationManager","dataservices/dependent/LoginInfoManager","dataservices/dependent/ServiceHttpClient","core/uriUtils","dataservices/dependent/uris","core/data/CacheManager","dataservices/authentication/AuthenticationException","dataservices/dependent/ServiceUtils","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("dataservices.dependent.AuthenticationManager",[Object,i],function(){e.singleton(function(){}),e.methods({getClientAuthorization:function(){return t.props({user:n.singleton.getLoginInfo(!0),client:n.singleton.getLoginInfo(!1)}).then(function(e){return void 0===e.user?e.client:e.user}).then(function(e){return e.tokenType+" "+e.accessToken})},getUserLoginInfo:function(){return n.singleton.getLoginInfo(!0)},resetAuthenticationState:function(){c.singleton.clearCachedModelsBasedOnUserData()},reset:function(){c.singleton.clearCachedModelsBasedOnUserData(),n.singleton.reset()},login:function(){return n.singleton.getLoginInfo(!0).then(function(e){return void 0!==e}).catch(function(e){return e instanceof l||t.rejected(e)})},refreshCredentialsWithGrantType:function(e,t){return n.singleton.refreshWithGrantType(e,t)},refreshCredentials:function(e){return n.singleton.setLoginInfo(!0,e,!0)},logout:function(){return n.singleton.setLoginInfo(!0,void 0).then(function(){c.singleton.clearCachedModelsBasedOnUserData(),n.singleton.reset()})},activateDevice:function(e){return s.singleton.clear(),n.singleton.setLoginInfo(!0,e)},submitActivationCode:function(e){var t=r.format(a.postActivationCode,[e]);return o.singleton.post(t,void 0,void 0,!0).catch(c.singleton.handleDataException.bind(c.singleton))},deactivateDevice:function(){s.singleton.clear();var e=r.format(a.getDeactivation,[d.singleton.serial]);return o.singleton.del(e).then(function(){return t.all([n.singleton.setLoginInfo(!0,void 0),n.singleton.setLoginInfo(!1,void 0)])}).catch(function(e){return t.all([n.singleton.setLoginInfo(!0,void 0),n.singleton.setLoginInfo(!1,void 0)]).then(function(){return t.rejected(e)})})}})})})}(),function(){"use strict";define("platform/dependent/IActivationListener",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IActivationListener",void 0,function(){e.singleton(),e.methods({setIsActivated:void 0})})})}(),function(){"use strict";define("platform/dependent/ActivationListener",["core/oop","platform/dependent/IActivationListener"],function(e,t){return e.classDef("platform.dependent.ActivationListener",[Object,t],function(){e.singleton(function(){}),e.methods({setIsActivated:function(){}})})})}(),function(){"use strict";define("dataservices/authentication/AuthenticationManager",["core/oop","core/Debug","core/Exception","core/logging/Levels","lib/Promise","core/data/ModelFactory","core/PromiseMultiplexer","dataservices/DataServicesDeveloperSettings","dataservices/types/LoginInfoFlag","dataservices/types/GrantType","dataservices/authentication/IAuthenticationManager","dataservices/dependent/AuthenticationManager","lib/lodash/objects/values","platform/dependent/ActivationListener","platform/dependent/Storage","platform/common/StorageScope","core/uuid"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m){return e.classDef("dataservices.authentication.AuthenticationManager",[Object,d],function(){e.singleton(function(){this._initAuthenticationId()}),e.properties({isAuthenticated:{defaultValue:void 0,privateSet:!0,onChange:function(e,t){h.singleton.setIsActivated(e),this._onIsAuthenticatedChanged(e,t)}},authenticationId:{defaultValue:void 0,privateSet:!0},_prelogoutPromises:{defaultValue:{}},_authIdStorageKey:{defaultValue:"dataservices.authentication.AuthenticationManager.authId"},_sessionAuthStorageKey:{defaultValue:"dataservices.authentication.AuthenticationManager.checkSessionAuthentication",readOnlyField:!0},_registrationInfo:void 0,_loginMux:void 0,_logoutPromise:void 0}),e.events(["userLoggingOut","isAuthenticatedChanged"]),e.methods({isSSOLogin:function(){return this.getUserLoginInfo().then(function(e){return void 0!==e&&void 0!==e.getFlag(l.SSO)})},getClientAuthorization:function(){return u.singleton.getClientAuthorization()},getUserLoginInfo:function(){return u.singleton.getUserLoginInfo()},_initAuthenticationId:function(){var e=g.singleton.readSync(this._authIdStorageKey);this._authenticationId="none"!==e?e:void 0},_storeAuthenticationId:function(e){this._authenticationId=e;var t=void 0!==e?e:"none";g.singleton.writeSync(this._authIdStorageKey,t)},_needsLoginRequest:function(){return void 0===this._loginMux},resetAuthenticationState:function(){this._loginMux=void 0,u.singleton.resetAuthenticationState(),this._storeAuthenticationId(void 0),this._isAuthenticated=!1},reset:function(){this._loginMux=void 0,u.singleton.reset()},loginAfterRegistration:function(){var e=this,t=this.getRegistrationInfo();return this.refreshCredentialsWithGrantType(c.USER_REFRESH_AFTER_REGISTRATION,t).then(function(){return e.setRegistrationInfo(void 0),e.login()})},refreshCredentials:function(e){return u.singleton.refreshCredentials(e)},refreshCredentialsWithGrantType:function(e,t){return u.singleton.refreshCredentialsWithGrantType(e,t)},activateAndLogin:function(e){var t=this;return this.activateDevice(e).then(function(){return t.login()})},login:function(){var e=this;return o.resolve(this._logoutPromise).then(function(){return e._needsLoginRequest()&&(e._loginMux=a.new(function(){return u.singleton.login().then(function(t){return e._storeAuthenticationId(t?m.create():void 0),e._isAuthenticated=t,t})})),e._loginMux.addPromise()})},logout:function(e){if(void 0!==this._logoutPromise)return this._logoutPromise;var t=this;void 0!==e&&t._onUserLoggingOut(e);var i=function(e){return o.fulfilled().then(e())};return this._logoutPromise=o.map(p(this._prelogoutPromises),i).then(function(){return u.singleton.logout().finally(function(){t.resetAuthenticationState(),s.singleton._respondToAuthedRequestsWith401=!1,t._prelogoutPromises={}})}),this._logoutPromise.finally(function(){t._logoutPromise=void 0}),this._logoutPromise},setRegistrationInfo:function(e){this.resetAuthenticationState(),this._registrationInfo=e},getRegistrationInfo:function(){return this._registrationInfo},activateDevice:function(e){return this.resetAuthenticationState(),u.singleton.activateDevice(e)},submitActivationCode:function(e){return u.singleton.submitActivationCode(e)},deactivateDevice:function(){var e=this;if(!0===this.isAuthenticated)return u.singleton.deactivateDevice().finally(function(){e.resetAuthenticationState()});var t=i.new({message:"deactivate requires that user be authenticated",level:n.WARNING,area:"dataservices.authentication.AuthenticationManager.deactivateDevice"});return o.rejected(t)},addPrelogoutPromise:function(e){var t=m.create();return this._prelogoutPromises[t]=e,t},removePrelogoutPromise:function(e){void 0!==this._prelogoutPromises[e]&&delete this._prelogoutPromises[e]},getShouldCheckSessionAuthentication:function(){return"true"===g.singleton.readSync(this._sessionAuthStorageKey,f.SESSION)},setShouldCheckSessionAuthentication:function(e){g.singleton.writeSync(this._sessionAuthStorageKey,e?"true":"false",f.SESSION)},getSessionAuthenticationHasBeenChecked:function(){return void 0!==g.singleton.readSync(this._sessionAuthStorageKey,f.SESSION)},verifySessionAuthentication:function(){var e=this;return!0===e.getShouldCheckSessionAuthentication()?(e.setShouldCheckSessionAuthentication(!1),e.getUserLoginInfo().then(function(e){if(void 0!==e){return r.singleton.create("User","User").affiliate.then(function(e){if(void 0!==e)return e.isReauthenticationRequiredOnNewBrowserSession.then(function(t){return t?e:void 0})})}return o.fulfilled()}).then(function(t){return void 0!==t?e.logout().then(function(){return t}):o.fulfilled()})):o.fulfilled()}})})})}(),function(){"use strict";define("dataservices/authentication/IPlatformAuthManager",["core/oop"],function(e){return e.interfaceDef("dataservices.authentication.IPlatformAuthManager",void 0,function(){e.methods({trySilentLogin:void 0,readPlatformAuthCredentials:void 0,verifyAuthenticationState:void 0})})})}(),function(){"use strict";define("dataservices/authentication/PlatformAuthManager",["core/oop","core/Debug","core/Startup","dataservices/authentication/IPlatformAuthManager","lib/Promise"],function(e,t,i,n,o){var r=e.classDef("dataservices.authentication.PlatformAuthManager",[Object,n],function(){e.staticScope(function(){e.constructor(function(){this._registerStartupTask()}),e.methods({_registerStartupTask:function(){i.singleton.register("dataservices.authentication.PlatformAuthManager",function(){return!0===r.singleton.enabled?r.singleton.trySilentLogin():o.fulfilled(!1)})}})}),e.singleton(function(){}),e.properties({_manager:void 0,enabled:{get:function(){return void 0!==this._manager}}}),e.methods({setDependentManager:function(e){this._manager=e},trySilentLogin:function(){return r.singleton.enabled,this._manager.trySilentLogin()},readPlatformAuthCredentials:function(e){return r.singleton.enabled,this._manager.readPlatformAuthCredentials(e)},verifyAuthenticationState:function(e){return r.singleton.enabled,this._manager.verifyAuthenticationState(e)}})});return r})}(),function(){"use strict";define("dataservices/ContinueWatchingClearLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("dataservices.ContinueWatchingClearLogEntry",t,function(){e.initConstructor(function(){this._type="continuewatchingclear"})})})}(),function(){"use strict";define("core/AsyncCollection",["core/oop","core/Debug","lib/Promise","lib/lodash/collections/forEach"],function(e,t,i,n){return e.classDef("core.AsyncCollection",Object,function(){e.initConstructor(function(){}),e.properties({shouldCache:{defaultValue:!1},_cache:void 0,cache:{get:function(){return void 0===this._cache&&(this._cache={index:{},value:{},maxIndexCached:-1}),this._cache}}}),e.methods({cacheLength:function(e){this.cache.length=e},cacheItem:function(e,t){e<0||(this.cache.index[e]=t,this.cache.value[t]=e,e>this.cache.maxIndexCached&&(this.cache.maxIndexCached=e))},uncacheItem:function(e){if(e<0)return!1;var t=this.cache.index[e];return void 0!==t&&(this.cache.index[e]=void 0,this.cache.value[t]=void 0,!0)},insertIntoCache:function(e,t){for(var i=this.cache.maxIndexCached;i>=e;i--)if(void 0!==this.cache.index[i]){var n=this.cache.index[i];this.uncacheItem(i),this.cacheItem(i+1,n)}this.cacheItem(e,t),void 0!==this.cache.length&&this.cache.length++},removeFromCache:function(e){this.uncacheItem(e);var t=this.cache.maxIndexCached;this.cache.maxIndexCached>e&&(this.cache.maxIndexCached=e);for(var i=e+1;i<=t;i++)if(void 0!==this.cache.index[i]){var n=this.cache.index[i];this.uncacheItem(i),this.cacheItem(i-1,n)}e>=0&&void 0!==this.cache.length&&e<this.cache.length&&this.cache.length--}}),e.methods({_length:function(){},_getRange:function(e,t){},_insertAt:function(e,t){},_removeAt:function(e){},_indexOf:function(e){}}),e.methods({getAt:function(e){if(this.shouldCache&&void 0!==this.cache.index[e])return i.fulfilled(this.cache.index[e]);var t=this._getRange(e,e+1);if(this.shouldCache){var n=this;t=t.then(function(t){return n.cacheItem(e,t[0]),t})}return t=t.then(function(e){return e[0]})},insertAt:function(e,t){return this.shouldCache&&this.insertIntoCache(e,t),this._insertAt(e,t)},removeAt:function(e){return this.shouldCache&&this.removeFromCache(e),this._removeAt(e)},length:function(){if(this.shouldCache&&void 0!==this.cache.length)return i.fulfilled(this.cache.length);var e=this._length();if(this.shouldCache){var t=this;e=e.then(function(e){return t.cacheLength(e),e})}return e},indexOf:function(e){if(this.shouldCache&&void 0!==this.cache.value[e])return i.fulfilled(this.cache.value[e]);var t=this._indexOf(e);if(this.shouldCache){var n=this;t=t.then(function(t){return n.cacheItem(t,e),t})}return t},getRange:function(e,t){var n=this,o=[];return this.length().then(function(r){(void 0===t||t>r)&&(t=r);for(var a=e;a<t;++a)o.push(n.getAt(a));return i.all(o)})},add:function(e){var t=this;return this.length().then(function(i){return t.insertAt(i,e)})},remove:function(e){var t=this;return this.indexOf(e).then(function(e){return t.removeAt(e)})},forEach:function(e){return this.getRange(0).then(function(t){return n(t,e)})},_asyncCallback:function(e,t,i,n){return function(){return e(t,i,n)}},forEachAsync:function(e){var t=this;return this.getRange(0).then(function(o){var r;return n(o,function(i,n,o){r=void 0===r?e(i,n,o):r.then(t._asyncCallback(e,i,n,o))}),void 0===r?i.fulfilled():r})}})})})}(),function(){"use strict";define("core/ReadOnlyAsyncArray",["core/oop","core/AsyncCollection","lib/Promise"],function(e,t,i){return e.classDef("core.ReadOnlyAsyncArray",t,function(){e.constructor(function(e){this._array=e}),e.properties({_array:void 0}),e.methods({_length:function(){return i.fulfilled(this._array.length)},_getRange:function(e,t){return i.fulfilled(this._array.slice(e,t))},_indexOf:function(e){return i.fulfilled(this._array.indexOf(e))}})})})}(),function(){"use strict";define("dataservices/models/TileableModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.TileableModel",[t],function(){e.properties({title:{get:void 0},shortTitle:{get:void 0},ultraShortTitle:{get:void 0},titles:{get:void 0},sortString:{get:void 0},summary:{get:void 0},shortSummary:{get:void 0},markdownShortSummary:{get:void 0},images:{get:void 0},isPlatformParentalControlRestricted:{get:void 0},isServiceParentalControlRestricted:{get:void 0},isFree:{get:void 0},rating:{get:void 0},episodeInSeason:{get:void 0},episodeDisplayId:{get:void 0},seasonNumber:{get:void 0},seriesName:{get:void 0},seasonTitles:{get:void 0},seriesId:{get:void 0},progress:{get:void 0},violator:{get:void 0},umbrella:{get:void 0},tagline:{get:void 0},dateAdded:{get:void 0},franchise:{get:void 0},isInteractive:{get:void 0},duration:{get:void 0},shouldUseEpisodePrefix:{get:void 0},videoState:{get:void 0},itemCount:{get:void 0},canBeAddedToWatchlist:{get:void 0}})})})}(),function(){"use strict";define("dataservices/models/TileModel",["core/oop","dataservices/models/TileableModel"],function(e,t){return e.interfaceDef("dataservices.models.TileModel",[t],function(){e.properties({asset:{get:void 0}})})})}(),function(){"use strict";define("dataservices/AssetCollectionCache",["core/oop","core/Debug","core/Exception","core/logging/Levels","lib/Promise","core/PromiseMultiplexer","core/ReadOnlyAsyncArray","dataservices/DataServicesDeveloperSettings","lib/lodash/collections/forEach","lib/lodash/objects/values","lib/lodash/objects/isEqual","engine/dependent/Time","dataservices/models/TileModel","dataservices/authentication/AuthenticationException","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("dataservices.AssetCollectionCache",Object,function(){e.constructor(function(){this._refreshDelayMS=g.singleton.assetCollectionCacheMS,this._reset()}),e.properties({cacheLength:{get:function(){return void 0===this._lastResult?void 0:Object.keys(this._lastResult).length}},_refreshDelayMS:void 0,_mux:void 0,_lastRefreshTime:void 0,_lastResult:void 0,_updatePromises:void 0}),e.events(["refreshed"]),e.methods({get:function(){var e=this;return this._ensureLastResult().then(function(t){return e._createAsyncCollection(t)})},add:function(e){return this.invalidate(this._addImpl(e.id)),void 0!==this._lastResult&&(this._lastResult[e.id],this._lastResult[e.id]=e,this._onRefreshed()),o.fulfilled()},remove:function(e){return this.invalidate(this._removeImpl(e.id)),void 0!==this._lastResult&&(this._lastResult[e.id],delete this._lastResult[e.id],this._onRefreshed()),o.fulfilled()},clear:function(){this._lastRefreshTime=0,this._lastResult=void 0,void 0!==this._mux&&this._mux.reset(),this._onRefreshed()},removeAll:function(){this.invalidate(this._removeAllImpl()),this.clear(),this._lastResult={}},invalidate:function(e){var t=this;if(this._lastRefreshTime=0,void 0!==e){e=this._getDerivedPromise(e);var i=e.finally(function(){var e=t._updatePromises.indexOf(i);e>=0&&t._updatePromises.splice(e,1)});this._updatePromises.push(i)}},contains:function(e){return this._ensureLastResult().then(function(t){return void 0!==t[e.id]})},_ensureLastResult:function(){var e;return(void 0===this._mux||u.singleton.now()>this._lastRefreshTime+this._refreshDelayMS&&!0!==s.singleton.preventAssetCollectionCacheRefresh)&&(e=this._refresh()),void 0!==this._lastResult?o.fulfilled(this._lastResult):e||this._addMuxPromise()},_addMuxPromise:function(){var e=this,t=this._mux.addPromise();return this._getDerivedPromise(t,function(){return e._lastResult||{}})},_reset:function(){this._lastResult=void 0,this._lastRefreshTime=0,this._updatePromises=[]},_refresh:function(){if(this._lastRefreshTime=u.singleton.now(),void 0===this._mux){var e=this;this._mux=r.new(function(){var t=e._updatePromises;e._updatePromises=[];var r={},a=o.all(t).then(function(){return e._getImpl()}).then(function(e){return r.assetArray=e,o.all(e.map(function(e){return e.implementsInterface(p)?e.asset.id:e.id}))}).then(function(t){var i={};l(t,function(e,t){i[e]=r.assetArray[t]});var n=e._lastResult;return e._lastResult=i,d(n,i)||e._onRefreshed(),e._lastResult}).catch(function(t){return e._lastRefreshTime=0,t instanceof h==!1&&i.wrap(t,{message:"failed to update local asset cache from remote",level:n.WARNING,area:"dataservices.AssetCollectionCache._refresh",contextualData:{hasPreviousResult:void 0!==e._lastResult}}).logTelemetry(),e._lastResult||{}});return e._getDerivedPromise(a,function(){return e._lastResult||{}})})}else this._mux.reset();return this._addMuxPromise()},_getDerivedPromise:function(e,t){return t=t||function(){},new o(function(i,n,o){e.then(i).catch(n).finally(function(){i(t())}),o(function(){i(t())})})},_getImpl:function(){},_addImpl:function(){},_removeImpl:function(){},_removeAllImpl:function(){},_createAsyncCollection:function(e){return a.new(c(e))}})})})}(),function(){"use strict";define("dataservices/ILastPlayedService",["core/oop"],function(e){return e.interfaceDef("dataservices.ILastPlayedService",void 0,function(){e.singleton(),e.methods({getLastPlayed:void 0,clearLastPlayed:void 0})})})}(),function(){"use strict";define("dataservices/dependent/LastPlayedService",["core/oop","core/Exception","lib/Promise","core/uriUtils","dataservices/ILastPlayedService","dataservices/authentication/AuthenticationManager","dataservices/dependent/ServiceHttpClient","dataservices/dependent/ServiceUtils","dataservices/dependent/uris"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.dependent.LastPlayedService",[Object,o],function(){e.singleton(function(){}),e.properties({_isLoggedIn:{get:function(){return r.singleton.isAuthenticated}}}),e.methods({getLastPlayed:function(){if(!0!==this._isLoggedIn)return i.fulfilled([]);var e=s.singleton.Ids.LAST_PLAYED,t=s.singleton.createModelFromId(e);return t.forceNetworkCall().then(function(){return t.items.then(function(e){return e.getRange(0,1)})})},clearLastPlayed:function(e){if(!0!==this._isLoggedIn)return i.rejected(t.new({message:"user not logged in",area:"dataservices.dependent.LastPlayedService.clearLastPlayed"}));var o=n.format(l.getLastPlayed,[e]);return a.singleton.del(o,void 0,!0)}})})})}(),function(){"use strict";define("dataservices/LastPlayedCache",["core/oop","dataservices/AssetCollectionCache","dataservices/dependent/LastPlayedService"],function(e,t,i){return e.classDef("dataservices.LastPlayedCache",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_getImpl:function(){return i.singleton.getLastPlayed()},_removeImpl:function(e){return i.singleton.clearLastPlayed(e)}})})})}(),function(){"use strict";define("dataservices/IContinueWatchingService",["core/oop"],function(e){return e.interfaceDef("dataservices.IContinueWatchingService",void 0,function(){e.singleton(),e.methods({getList:void 0,clearList:void 0})})})}(),function(){"use strict";define("platform/dependent/diagnostics/IConsoleLogger",["core/oop"],function(e){return e.interfaceDef("platform.dependent.diagnostics.IConsoleLogger",void 0,function(){e.singleton(),e.methods({log:void 0})})})}(),function(e){"use strict";define("platform/dependent/diagnostics/ConsoleLogger",["core/oop","platform/dependent/diagnostics/IConsoleLogger"],function(t,i){return t.classDef("platform.dependent.diagnostics.ConsoleLogger",[Object,i],function(){t.singleton(function(){this._global=e}),t.properties({_global:void 0}),t.methods({log:function(e){this._global.console.log(JSON.stringify(e,null,"    "))}})})})}(this),function(){"use strict";define("dataservices/dependent/ContinueWatchingService",["core/oop","core/Exception","lib/Promise","core/uriUtils","dataservices/DataServicesSettings","dataservices/dependent/uris","dataservices/dependent/ServiceHttpClient","dataservices/IContinueWatchingService","dataservices/authentication/AuthenticationManager","dataservices/dependent/ServiceUtils","platform/dependent/diagnostics/ConsoleLogger"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("dataservices.dependent.ContinueWatchingService",[Object,s],function(){e.singleton(function(){}),e.properties({_isLoggedIn:{get:function(){return l.singleton.isAuthenticated}}}),e.methods({_getList:function(e){if(!0===o.singleton.enableContinueWatching&&!0===this._isLoggedIn){var t=c.singleton.createModelFromId(e);return t.forceNetworkCall().then(function(){return t.items.then(function(e){return e.getRange(0)})})}return i.fulfilled([])},getList:function(){return this._getList(c.singleton.Ids.CONTINUE_WATCHING)},clearList:function(){if(!0===this._isLoggedIn){if(!0===o.singleton.enableContinueWatching){var e=n.format(r.getContinueWatching);return a.singleton.del(e,void 0,!0)}return d.singleton.log({message:"ContinueWatchingService.clearList ignored, continue watching is not enabled based on the continueWatching feature flag"}),i.fulfilled()}return i.rejected(t.new({message:"user not logged in",area:"dataservices.dependent.ContinueWatchingService.clearList"}))}})})})}(),function(){"use strict";define("dataservices/ContinueWatchingCache",["core/oop","dataservices/ContinueWatchingClearLogEntry","dataservices/AssetCollectionCache","dataservices/LastPlayedCache","dataservices/dependent/ContinueWatchingService"],function(e,t,i,n,o){return e.classDef("dataservices.ContinueWatchingCache",i,function(i){e.singleton(function(){i.$ctor.apply(this,arguments)}),e.methods({_getImpl:function(){return o.singleton.getList()},_removeAllImpl:function(){return o.singleton.clearList().then(function(){n.singleton.clear(),t.new({area:"dataservices.ContinueWatchingCache._removeAllImpl"}).log()})}})})})}(),function(){"use strict";define("dataservices/IWatchlistService",["core/oop"],function(e){return e.interfaceDef("dataservices.IWatchlistService",void 0,function(){e.singleton(),e.methods({get:void 0,add:void 0,remove:void 0})})})}(),function(){"use strict";define("dataservices/dependent/WatchlistService",["core/oop","lib/Promise","core/uriUtils","dataservices/dependent/uris","dataservices/dependent/ServiceHttpClient","dataservices/IWatchlistService","dataservices/authentication/AuthenticationManager","core/Exception","dataservices/dependent/ServiceUtils","dataservices/DataServicesSettings","platform/dependent/diagnostics/ConsoleLogger"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("dataservices.dependent.WatchlistService",[Object,r],function(){e.singleton(function(){}),e.properties({_isLoggedIn:{get:function(){return a.singleton.isAuthenticated}}}),e.methods({get:function(){if(!0===this._isLoggedIn&&!0===c.singleton.enableWatchlist){var e=l.singleton.createModelFromId(l.singleton.Ids.WATCHLIST);return e.forceNetworkCall().then(function(){return e.items.then(function(e){return e.getRange(0)})})}return t.fulfilled([])},add:function(e){if(!0===this._isLoggedIn){if(!0!==c.singleton.enableWatchlist)return d.singleton.log({message:"watchlist is not enabled based on the enableWatchlist feature flag"}),t.fulfilled();var r=i.format(n.modifyWatchlist,[e]);return o.singleton.put(r,void 0,void 0,!0)}return t.rejected(s.new({message:"user not logged in",area:"dataservices.dependent.WatchlistService.add"}))},remove:function(e){if(!0===this._isLoggedIn){if(!0!==c.singleton.enableWatchlist)return d.singleton.log({message:"watchlist is not enabled based on the enableWatchlist feature flag"}),t.fulfilled();var r=i.format(n.modifyWatchlist,[e]);return o.singleton.del(r,void 0,!0)}return t.rejected(s.new({message:"user not logged in",area:"dataservices.dependent.WatchlistService.remove"}))}})})})}(),function(){"use strict";define("dataservices/logging/ManipulatedWatchlistLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("dataservices.logging.ManipulatedWatchlistLogEntry",t,function(t){e.initConstructor(function(){this._type="manipulatedwatchlist"}),e.properties({contentId:void 0,added:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.contentId=this.contentId,e.added=this.added,e}})})})}(),function(){"use strict";define("dataservices/WatchlistCache",["core/oop","core/Debug","lib/Promise","dataservices/dependent/WatchlistService","dataservices/AssetCollectionCache","dataservices/logging/ManipulatedWatchlistLogEntry"],function(e,t,i,n,o,r){return e.classDef("dataservices.WatchlistCache",o,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_getImpl:function(){return n.singleton.get()},_addImpl:function(e){return n.singleton.add(e).then(function(){r.new({area:"dataservices.WatchlistCache._addImpl",contentId:e,added:!0}).log()})},_removeImpl:function(e){return n.singleton.remove(e).then(function(){r.new({area:"dataservices.WatchlistCache._removeImpl",contentId:e,added:!1}).log()})},_removeAllImpl:function(){return this._lastResult,Object.keys(this._lastResult).reduce(function(e,t){return e.then(function(){return n.singleton.remove(t)})},i.fulfilled())}})})})}(),function(){"use strict"
;define("dataservices/markers/PlaybackMarker",["core/oop"],function(e){return e.classDef("dataservices.markers.PlaybackMarker",Object,function(){e.initConstructor(function(){}),e.properties({cutId:void 0,time:void 0,runtime:void 0,completionTime:void 0})})})}(),function(){"use strict";define("dataservices/dependent/ConciergeService",["core/oop","core/Exception","lib/Promise","core/logging/Levels","dataservices/authentication/AuthenticationManager","dataservices/markers/PlaybackMarker","dataservices/dependent/ServiceHttpClient","lib/lodash/collections/forEach","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.dependent.ConciergeService",[Object],function(){e.constructor(function(){}),e.properties({_serviceHeaders:void 0}),e.methods({_getGetUri:function(){},_getSetUri:function(){},getMarkers:function(e){if(0===e.length)return i.fulfilled([]);var t=this,n=this._getGetUri(e);return this._verifyLogin().then(function(){return a.singleton.get(n,t._serviceHeaders).then(function(e){var t=[];if(void 0!==e){var i=e.json.getChunkArray([]);s(i,function(e){t.push(r.new({cutId:e.getString(["cutId"]),time:e.getInt(["position"]),runtime:e.getInt(["runtime"])}))})}return t})})},setMarker:function(e,t,i){var n=this,o={cutId:e,position:Math.floor(t),runtime:i},r=this._getSetUri();return this._verifyLogin().then(function(){return a.singleton.post(r,n._serviceHeaders,JSON.stringify(o)).then(function(e){var t=e.json.getInt(["nextUpdate"],!0);void 0===t?t=l.singleton.defaultPlaybackMarkerUpdateIntervalMS:(t*=1e3,t=Math.max(t,l.singleton.defaultPlaybackMarkerUpdateIntervalMS)),l.singleton.playbackMarkerUpdateIntervalMS=t})})},_verifyLogin:function(){return o.singleton.isAuthenticated?i.fulfilled():i.rejected(t.new({message:"User not logged in",level:n.WARNING,area:"dataservices.dependent.ConciergePlaybackMarkerService._verifyLogin"}))}})})})}(),function(){"use strict";define("dataservices/markers/IPlaybackMarkerService",["core/oop"],function(e){return e.interfaceDef("dataservices.markers.IPlaybackMarkerService",void 0,function(){e.singleton(),e.methods({getMarkers:void 0,setMarker:void 0})})})}(),function(){"use strict";define("dataservices/dependent/PlaybackMarkerService",["core/oop","dataservices/dependent/ConciergeService","core/uriUtils","dataservices/dependent/uris","dataservices/markers/IPlaybackMarkerService"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.PlaybackMarkerService",[t,o],function(){e.singleton(function(){}),e.methods({_getGetUri:function(e){var t={limit:e.length},o=e.join(",");return i.format(n.getPlaybackMarkers,[o],t)},_getSetUri:function(){return i.format(n.setPlaybackMarkers)}})})})}(),function(){"use strict";define("dataservices/markers/PlaybackMarkerCache",["core/oop","core/Exception","lib/Promise","platform/common/Dispatcher","dataservices/DataServicesSettings","dataservices/dependent/PlaybackMarkerService","dataservices/ContinueWatchingCache","dataservices/LastPlayedCache","dataservices/markers/PlaybackMarker","core/logging/Counters","engine/dependent/Time","core/datastructures/AccessPriorityCache","core/logging/Levels","core/PromiseMultiplexer","lib/lodash/collections/forEach","application/ClientDevice","platform/dependent/diagnostics/ConsoleLogger"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m){var v=e.enumDef("dataservices.markers.PlaybackMarkerCache.Counters",{FLUSHCOUNT_COUNTER:"PlaybackMarkerCache.flushcount",FOUNDMARKERCOUNT_COUNTER:"PlaybackMarkerCache.foundmarkercount"}),_=e.enumDef("dataservices.markers.PlaybackMarkerCache.UpdatePolicy",["LOCAL","NORMAL","FORCE"]);return e.classDef("dataservices.markers.PlaybackMarkerCache",Object,function(){e.staticScope(function(){e.properties({UpdatePolicy:{defaultValue:_,readOnlyField:!0}})}),e.singleton(function(){this._cachedMarkers=u.new(),this._initializeMuxMaps()}),e.properties({_maxPendingMarkerCount:{defaultValue:100},_pendingRequestTimerDurationMS:{defaultValue:1e3},_cachedMarkers:void 0,_pendingMuxLookup:void 0,_pendingMuxResolvers:void 0,_outstandingMuxLookup:void 0,_outstandingMuxResolvers:void 0,_requestMuxLookup:void 0,_flushPendingRequestTimer:void 0}),e.methods({getMarker:function(e,n){if(!1===o.singleton.enablePlaybackMarkers)return m.singleton.log({message:"PlaybackMarkerCache.getMarker is ignored based on the enablePlaybackMarkers feature flag."}),i.fulfilled();var r=this._cachedMarkers.get(e);return void 0!==r?i.fulfilled(r):this._queueMarkerRequest(e,n).catch(function(i){t.wrap(i,{message:"Unable to get playback marker ("+e+")",level:p.WARNING,area:"dataservices.markers.PlaybackMarkerCache.getMarker"}).logTelemetry()})},setMarker:function(e,n,o,c,d){var u;if(d===_.FORCE)u=!0;else{var h=this._cachedMarkers.get(e);u=void 0===h||Math.floor(h.time)!==Math.floor(n)}if(u){var g=l.new({cutId:e,time:n,runtime:o,completionTime:c});if(this._storeMarker(g),this._forceResolveMarkerMux(g),d!==_.LOCAL){var f=r.singleton.setMarker(e,n,o).catch(function(e){t.wrap(e,{message:"Unable to set playback marker ("+JSON.stringify(g)+")",level:p.WARNING,area:"dataservices.markers.PlaybackMarkerCache.setMarker"}).logTelemetry()});return[a.singleton,s.singleton].forEach(function(e){e.invalidate(f),e.clear(),d===_.FORCE&&e.get()}),f}}return i.fulfilled()},clear:function(){[this._pendingMuxLookup,this._outstandingMuxLookup,this._requestMuxLookup].forEach(function(e){g(Object.keys(e),function(t){e[t].cancel()})}),this._cachedMarkers.clear(),this._initializeMuxMaps(),void 0!==this._flushPendingRequestTimer&&(this._flushPendingRequestTimer.cancel(),this._flushPendingRequestTimer=void 0)},_initializeMuxMaps:function(){this._pendingMuxLookup={},this._pendingMuxResolvers={},this._outstandingMuxLookup={},this._outstandingMuxResolvers={},this._requestMuxLookup={}},_forceResolveMarkerMux:function(e){var t=this._pendingMuxLookup[e.cutId],i=this._outstandingMuxLookup[e.cutId];void 0!==t?(t.resolve(e),delete this._pendingMuxLookup[e.cutId],delete this._pendingMuxResolvers[e.cutId]):void 0!==i&&(i.resolve(e),delete this._outstandingMuxLookup[e.cutId],delete this._outstandingMuxResolvers[e.cutId])},_queueMarkerRequest:function(e,t){var n,o,r=this._pendingMuxLookup[e],a=this._outstandingMuxLookup[e],s=this._requestMuxLookup[e];return void 0!==r?n=r:void 0!==a?n=a:void 0!==s?(o=i.pending(),n=h.new(function(){return o.promise}),this._outstandingMuxLookup[e]=n,this._outstandingMuxResolvers[e]=o,this._attachResolverToRequest(o,s,e)):(o=i.pending(),n=h.new(function(){return o.promise}),this._pendingMuxLookup[e]=n,this._pendingMuxResolvers[e]=o),t=t||Object.keys(this._pendingMuxLookup).length>=this._maxPendingMarkerCount,!0===t?this._stopTimerAndFlush():this._ensureFlushPendingRequestTimer(),n.addPromise()},_flushPendingRequests:function(){var e=this,n=Object.keys(e._pendingMuxLookup),o=n.length;if(o>0){c.singleton.setCounter(v.FLUSHCOUNT_COUNTER,o);var a=h.new(function(){return r.singleton.getMarkers(n).then(function(e){c.singleton.setCounter(v.FOUNDMARKERCOUNT_COUNTER,e.length);var t={};return g(e,function(e){t[e.cutId]=e}),t}).catch(function(e){return i.rejected(t.wrap(e,{message:"Failed to retrieve markers ("+n.join(" ")+") due to error: "+e,level:p.WARNING,area:"dataservices.markers.PlaybackMarkerCache._flushPendingRequests"}))}).finally(function(){g(n,function(t){delete e._requestMuxLookup[t]})})});g(n,function(t){e._requestMuxLookup[t]=a,e._outstandingMuxLookup[t]=e._pendingMuxLookup[t],e._outstandingMuxResolvers[t]=e._pendingMuxResolvers[t],delete e._pendingMuxLookup[t],delete e._pendingMuxResolvers[t],e._attachResolverToRequest(e._outstandingMuxResolvers[t],a,t)})}},_attachResolverToRequest:function(e,t,i){var n=this;t.addPromise().then(function(t){var o=t[i];void 0===o&&(o=l.new({cutId:i,time:0,runtime:0})),n._storeMarker(o),e.resolve(o)}).catch(function(t){e.reject(t)}).finally(function(){delete n._outstandingMuxLookup[i],delete n._outstandingMuxResolvers[i]})},_ensureFlushPendingRequestTimer:function(){var e=this;if(void 0===this._flushPendingRequestTimer){var t=n.singleton.postTimeout(this._pendingRequestTimerDurationMS);this._flushPendingRequestTimer=t.finally(function(){e._flushPendingRequests(),e._flushPendingRequestTimer=void 0})}},_stopTimerAndFlush:function(){void 0!==this._flushPendingRequestTimer?this._flushPendingRequestTimer.cancel():this._flushPendingRequests(),this._flushPendingRequestTimer=void 0},_storeMarker:function(e){this._cachedMarkers.put(e.cutId,e,d.singleton.now()+f.singleton.assetCollectionCacheMS)}})})})}(),function(){"use strict";define("dataservices/ISeriesMarkerService",["core/oop"],function(e){return e.interfaceDef("dataservices.ISeriesMarkerService",void 0,function(){e.singleton(),e.methods({getSeriesMarkers:void 0})})})}(),function(){"use strict";define("dataservices/dependent/SeriesMarkerService",["core/oop","dataservices/ISeriesMarkerService","dataservices/dependent/ServiceUtils"],function(e,t,i){return e.classDef("dataservices.dependent.SeriesMarkerService",[Object,t],function(){e.singleton(function(){}),e.methods({_getSeriesMarkers:function(e){var t=i.singleton.createModelFromId(e);return t.forceNetworkCall().then(function(){return t})},getSeriesMarkers:function(){return this._getSeriesMarkers(i.singleton.Ids.SERIES_MARKERS)}})})})}(),function(){"use strict";define("dataservices/markers/SeriesMarker",["core/oop"],function(e){return e.classDef("dataservices.markers.SeriesMarker",Object,function(){e.initConstructor(function(){}),e.properties({status:void 0,focusEpisode:void 0})})})}(),function(){"use strict";define("dataservices/models/AssetModel",["core/oop","dataservices/models/TileableModel"],function(e,t){return e.interfaceDef("dataservices.models.AssetModel",t,function(){e.properties({year:{get:void 0},videos:{get:void 0},previews:{get:void 0},guests:{get:void 0},cast:{get:void 0},directors:{get:void 0},writers:{get:void 0},producers:{get:void 0},endDate:{get:void 0},languages:{get:void 0},primaryGenre:{get:void 0},extras:{get:void 0},relatedContent:{get:void 0},music:{get:void 0},soundTrack:{get:void 0},analyticsId:{get:void 0}}),e.methods({getDefaultVideo:void 0,getDefaultPreviewVideo:void 0})})})}(),function(){"use strict";define("dataservices/models/EpisodeModel",["core/oop","dataservices/models/AssetModel"],function(e,t){return e.interfaceDef("dataservices.models.EpisodeModel",t,function(){e.properties({seasonId:{get:void 0},season:{get:void 0},series:{get:void 0},nextEpisode:{get:void 0},previousEpisode:{get:void 0},seasonal:{get:void 0},defaultPlaylist:{get:void 0},seriesMarkerStatus:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/SeriesMarkerStatus",["core/oop"],function(e){return e.enumDef("dataservices.types.SeriesMarkerStatus",{TOPICAL:"TOPICAL",START:"START",NEXT:"NEXT",CONTINUE:"CONTINUE",LATENIGHT:"LATENIGHT",LATEST:"LATEST"})})}(),function(){"use strict";define("dataservices/markers/SeriesMarkerCache",["core/oop","core/Exception","lib/Promise","core/PromiseMultiplexer","core/logging/Levels","engine/dependent/Time","dataservices/DataServicesSettings","dataservices/dependent/SeriesMarkerService","dataservices/dependent/ServiceUtils","dataservices/markers/SeriesMarker","dataservices/models/EpisodeModel","dataservices/types/SeriesMarkerStatus","lib/lodash/objects/forOwn","platform/dependent/diagnostics/ConsoleLogger"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("dataservices.markers.SeriesMarkerCache",Object,function(){e.singleton(function(){this._reset()}),e.properties({_cacheExpirationTime:void 0,_markerCache:void 0,_mux:void 0,_cacheRefreshDelay:{defaultValue:3e5}}),e.methods({getMarker:function(e){var t=this;return this._ensureMarkerCache().then(function(i){return i[e]||t._getFirstEpisodeSeriesMarker(e)})},updateMarkerForEpisode:function(e,t){if(!1===a.singleton.enablePlaybackMarkers)return h.singleton.log({message:"SeriesMarkerCache.updateMarkerForEpisode is ignored based on the enablePlaybackMarkers feature flag."}),i.fulfilled();var n=this,o=l.singleton.createModelFromId(e);return void 0===o||!1===o.implementsInterface(d)?i.fulfilled():i.props({next:o.nextEpisode,series:o.series}).then(function(e){if(void 0===e.series||void 0===n._markerCache)return i.fulfilled();var a=n._markerCache[e.series.id];if(a&&a.status===u.LATENIGHT)return i.fulfilled();if(a&&a.status===u.TOPICAL&&(void 0!==e.next||t!==u.CONTINUE))return i.fulfilled();var s;t===u.CONTINUE?s=c.new({status:u.CONTINUE,focusEpisode:o}):t===u.NEXT&&(s=c.new(void 0===e.next?{status:u.LATEST,focusEpisode:o}:{status:u.NEXT,focusEpisode:e.next})),s&&(n._markerCache[e.series.id]=s,n._mux.reset(),n._cacheExpirationTime=r.singleton.now()+n._cacheRefreshDelay)})},clear:function(){this._reset()},_ensureMarkerCache:function(){var e;return!1===a.singleton.enablePlaybackMarkers?(h.singleton.log({message:"SeriesMarkerCache._ensureMarkerCache is ignored based on the enablePlaybackMarkers feature flag."}),i.fulfilled({})):((void 0===this._markerCache||r.singleton.now()>this._cacheExpirationTime)&&(e=this._refreshMarkerCache()),void 0!==this._markerCache?i.fulfilled(this._markerCache):e)},_getFirstEpisodeSeriesMarker:function(e){var t=l.singleton.createModelFromId(e);return void 0===t?i.fulfilled():t.allEpisodes.then(function(e){return e.getAt(0)}).then(function(e){return c.new({status:u.START,focusEpisode:e})})},_refreshMarkerCache:function(){var e=this;return void 0===this._mux?this._mux=n.new(function(){return s.singleton.getSeriesMarkers().then(function(t){return e._cacheExpirationTime=t.expirationTime,t.seriesMarkerMap}).then(function(t){var i={};return p(t,function(e,t){i[t]=c.new({status:e.markerStatus,focusEpisode:l.singleton.createModelFromId(e.focusEpisode)})}),e._markerCache=i,e._markerCache}).catch(function(i){return t.wrap(i,{message:"Error retrieving the Series Markers: "+i.message,level:o.WARNING,area:"dataservices.markers.SeriesMarkerCache"}).logTelemetry(),e._markerCache||{}})}):this._mux.isFulfilled()&&this._mux.reset(),this._mux.addPromise()},_reset:function(){this._cacheExpirationTime=0,this._markerCache=void 0,this._mux=void 0}})})})}(),function(){"use strict";define("dataservices/IEnvironmentUtils",["core/oop"],function(e){return e.interfaceDef("dataservices.IEnvironmentUtils",void 0,function(){e.staticScope(function(){e.methods({getEnvironmentNames:void 0,getEnvironmentByName:void 0})})})})}(),function(){"use strict";define("dataservices/dependent/EnvironmentUtils",["core/oop","dataservices/IEnvironmentUtils"],function(e,t){return e.classDef("dataservices.dependent.EnvironmentUtils",[Object,t],function(){e.staticScope(function(){e.properties({_environmentNameMap:{defaultValue:{Production:"prod",Staging:"staging",MSE:"mse",SNP:"snp",Next:"next",Nest:"nest","Comet Development":"comet-dev","Comet Local":"comet-local"}}}),e.methods({getEnvironmentByName:function(e){return this._environmentNameMap[e]},getEnvironmentNames:function(){return Object.keys(this._environmentNameMap)}})})})})}(),function(){"use strict";define("dataservices/LocaleOverrideUtils",["core/oop"],function(e){return e.classDef("dataservices.LocaleOverrideUtils",Object,function(){e.staticScope(function(){e.properties({_localeOverrideNameMap:{defaultValue:{"Platform Default":"","Pseudo Localization":"xx-xx","Spanish (US)":"es-us","Spanish (Mexico)":"es-mx","German (no region)":"de","Portugese (Brazil)":"pt-br","Chinese Simplified":"zh-cn"}}}),e.methods({getLocaleOverrideByName:function(e){return this._localeOverrideNameMap[e]},getLocaleOverrideNames:function(){return Object.keys(this._localeOverrideNameMap)}})})})})}(),function(){"use strict";define("platform/common/StoreReceipt",["core/oop"],function(e){return e.classDef("platform.common.StoreReceipt",Object,function(){e.initConstructor(function(){}),e.properties({store:void 0,skuId:void 0,data:void 0})})})}(),function(){"use strict";define("platform/dependent/IStore",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IStore",void 0,function(){e.singleton(),e.properties({isAvailable:{get:void 0},storeType:{get:void 0}}),e.methods({purchaseSku:void 0,getPreviousPurchases:void 0,restorePurchases:void 0,clear:void 0,notifyPurchaseFulfillment:void 0})})})}(),function(){"use strict";define("platform/dependent/Store",["core/oop","platform/dependent/Process","platform/dependent/Storage","platform/dependent/NativeDialogType","platform/common/StoreReceipt","platform/dependent/IStore","platform/common/StoreType"],function(e,t,i,n,o,r,a){return e.classDef("platform.dependent.Store",[Object,r],function(){e.singleton(function(){}),e.properties({isAvailable:{defaultValue:!0,privateSet:!0},storeType:{get:function(){return a.BLACKMARKET}},_purchaseStorageKey:{defaultValue:"stub:platform.dependent.Store.data"},_endpoint:void 0}),e.methods({purchaseSku:function(e,t){return this._purchase(e,t,"In-App Purchase","Purchase")},restorePurchases:function(){return this._purchase("stub_subscription",{userId:"hadron:somePayload"},"Restore purchase","Restore")},getPreviousPurchases:function(){return i.singleton.read(this._purchaseStorageKey).then(function(e){var t=[];return void 0!==e&&(t=JSON.parse(e)),t.map(function(e){return o.new({store:a.BLACKMARKET,skuId:e.skuId,data:e.data})})})},clear:function(){i.singleton.removeSync(this._purchaseStorageKey)},notifyPurchaseFulfillment:function(){},_purchase:function(e,i,r,s){var l=this;return t.singleton.openNativeDialog(n.PROMPT,r,"Enter receipt for the purchase of this item ("+e+")",s,"Cancel").then(function(t){if(!0===t.result){var n=t.input&&t.input.length>0?t.input:"APlaceholderReceiptId",r=o.new({store:a.BLACKMARKET,skuId:e,data:JSON.stringify({receiptId:n,additionalReceiptData:"SR",fullReceipt:JSON.stringify({purchaseToken:n,transactionId:"stubpurchase|"+e+"|"+i.userId})})});return l._addReceiptToPurchaseHistory(r).then(function(){return{purchased:!0,receipt:r}})}return{purchased:!1}})},_addReceiptToPurchaseHistory:function(e){var t=this;return i.singleton.read(t._purchaseStorageKey).then(function(n){var o=[];void 0!==n&&(o=JSON.parse(n));var r=!1;return o.forEach(function(t){t.skuId===e.skuId&&(t.data=e.data,r=!0)}),!0!==r&&o.push({skuId:e.skuId,data:e.data}),i.singleton.write(t._purchaseStorageKey,JSON.stringify(o))})}})})})}(),function(){"use strict";define("platform/StoreWrapper",["core/oop","core/Debug","lib/lodash/objects/merge","lib/Promise","platform/common/StoreReceipt","platform/common/StoreType","platform/dependent/IStore","platform/dependent/Store"],function(e,t,i,n,o,r,a,s){return e.classDef("platform.StoreWrapper",[Object,a],function(){e.singleton(function(){this._automationEnabled=!1,this._defaultState={storeType:r.BLACKMARKET,delayMS:0,isAvailable:!1,skus:[],currentPurchase:{},previousPurchases:[]},this._state=i({},this._defaultState)}),e.properties({_automationEnabled:void 0,_state:void 0,_defaultState:void 0,isAvailable:{get:function(){return this._state.isAvailable}},storeType:{get:function(){return this._state.storeType}}}),e.methods({_delay:function(){return n.delay(this._state.delayMS)},getStore:function(){return!0===this._automationEnabled?this:s.singleton},pushAutomationData:function(e){this._automationEnabled,this._state=i({},this._defaultState,e)},restart:function(e){this._automationEnabled=!0===e,this._state=i({},this._defaultState)},purchaseSku:function(e){this._state.currentPurchase[e];var t=this._state.currentPurchase[e];return this._delay().then(function(){return!0!==t.purchased?{purchased:!1}:{purchased:!0,receipt:o.new({store:r.BLACKMARKET,skuId:e,data:t.data})}})},getPreviousPurchases:function(){var e=this;return this._delay().then(function(){return e._state.previousPurchases.map(function(e){return o.new({store:r.BLACKMARKET,skuId:e.skuId,data:e.data})})})},clear:function(){this._state.previousPurchases=[]},restorePurchases:function(){return this._delay()},notifyPurchaseFulfillment:function(){}})})})}(),function(){"use strict";define("platform/dependent/IUser",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IUser",void 0,function(){e.singleton(),e.properties({shouldUseSafeImages:{get:void 0},advertisingID:{get:void 0},trackingID:{get:void 0},adTrackingEnabled:{get:void 0},isAccessibilityEnabled:{get:void 0},isPushEnabled:{get:void 0},admRegistrationId:{get:void 0}}),e.events(["restrictionsChanged"]),e.methods({getExtraAdvertisingData:void 0,getTheatricalMaxRatingCode:void 0,getTelevisionMaxRatingCode:void 0,requestRestrictedAccess:void 0,setMarketingId:void 0})})})}(),function(){"use strict";define("platform/common/Rating",["core/oop","core/Exception"],function(e,t){var i=e.enumDef("platform.common.Rating.Types",{Theatrical:"TH",Television:"TV",Both:"BOTH"}),n=e.enumDef("platform.common.Rating.RatingNames",{G:"G",PG:"PG",PG13:"PG-13",R:"R",NC17:"NC-17",TVY:"TV-Y",TVY7:"TV-Y7",TVG:"TV-G",TVPG:"TV-PG",TV14:"TV-14",TVMA:"TV-MA",NONE:"Not Allowed",NR:"NR",UNKNOWN:"UNKNOWN"}),o=e.enumDef("platform.common.Rating.TheatricalCodes",{NONE:0,G:1,PG:2,PG13:3,R:4,NR:6,UNKNOWN:7,NC17:8}),r=e.enumDef("platform.common.Rating.TelevisionCodes",{NONE:0,TVY:1,TVY7:2,TVG:3,TVPG:4,TV14:5,NR:6,UNKNOWN:7,TVMA:8}),a=e.classDef("platform.common.Rating",Object,function(){e.staticScope(function(){e.property("Types",{defaultValue:i,readOnlyField:!0}),e.property("RatingNames",{defaultValue:n,readOnlyField:!0}),e.property("TheatricalCodes",{defaultValue:o,readOnlyField:!0}),e.property("TelevisionCodes",{defaultValue:r,readOnlyField:!0}),e.methods({isUnrestricted:function(e){return"NC17"===e||"TVMA"===e},getValueFromCode:function(e,t){return t===i.Theatrical?a.TheatricalCodes.getName(e):a.TelevisionCodes.getName(e)},getRatingFromName:function(e,t,i){if(void 0!==e){var o=n.UNKNOWN;return n.forEach(function(t,r){if(o===n.UNKNOWN)if(t===e)o=r;else if(void 0!==i){var a=i(t);a===e&&(o=r)}}),a.new(o,void 0,t)}}})}),e.constructor(function(e,i,n){var o,r;void 0!==n?(o=n,r=n===a.Types.Theatrical?a.TheatricalCodes[e]:a.TelevisionCodes[e]):void 0!==a.TheatricalCodes[e]&&void 0!==a.TelevisionCodes[e]?(o=a.Types.Both,r=a.TheatricalCodes[e]):void 0!==a.TheatricalCodes[e]?(o=a.Types.Theatrical,r=a.TheatricalCodes[e]):void 0!==a.TelevisionCodes[e]&&(o=a.Types.Television,r=a.TelevisionCodes[e]),void 0!==r&&void 0!==o||t.new({message:"Unknown Rating ("+e+") for type ("+o+")",area:"platform.common.Rating.constructor"}).logTelemetry(),void 0===r&&(o=a.Types.Both,r=a.TheatricalCodes.UNKNOWN),this.code=r,this.type=o,this.name=void 0===i?a.RatingNames[e]:i}),e.properties({type:{get:void 0},code:{get:void 0},name:{get:void 0}})});return a})}(),function(e){"use strict";define("platform/dependent/User",["core/oop","lib/Promise","platform/dependent/IUser","platform/PlatformDeveloperSettings","platform/common/Rating"],function(t,i,n,o,r){return t.classDef("platform.dependent.User",[Object,n],function(){t.singleton(function(){}),t.events(["restrictionsChanged"]),t.properties({shouldUseSafeImages:{get:function(){return i.fulfilled(!1)}},advertisingID:{get:function(){for(var e,t=decodeURIComponent(this._getDocument().cookie).split("; "),n=[],o=0;o<t.length;o++)if(0===t[o].indexOf("AMCV_9A5E02BE532964DB0A490D4C")){n=t[o].split("|");break}var r=n.indexOf("MCMID");return e=-1!==r?n[r+1]:void 0,i.fulfilled(e)}},adTrackingEnabled:{get:function(){return i.fulfilled(!0)}},trackingID:{get:function(){if(void 0===e.bk_results||void 0===e.bk_results.campaigns)return i.fulfilled(void 0);for(var t=e.bk_results.campaigns,n=0;n<t.length;n++){var o=t[n];if(void 0!==o.bk_id)return i.fulfilled(o.bk_id)}return i.fulfilled(void 0)}},isAccessibilityEnabled:{get:function(){return i.fulfilled(void 0)}},isPushEnabled:{get:function(){return i.fulfilled(void 0)}},admRegistrationId:{get:function(){return i.fulfilled(void 0)}}}),t.methods({getExtraAdvertisingData:function(){return i.props({adobeId:this.advertisingID}).then(function(e){var t={};return void 0!==e.adobeId&&(t["adobe.mcmid"]=e.adobeId),t})},getTheatricalMaxRatingCode:function(){var e=o.singleton.userParentalControlsTheatricalMaxRatingCode;return void 0===e&&(e=r.TheatricalCodes.NC17),i.fulfilled(e)},getTelevisionMaxRatingCode:function(){var e=o.singleton.userParentalControlsTelevisionMaxRatingCode;return void 0===e&&(e=r.TelevisionCodes.TVMA),i.fulfilled(e)},requestRestrictedAccess:function(){return i.fulfilled(!1)},setMarketingId:function(e){},_getDocument:function(){return e.document}})})})}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("lib/i18next",t):e.i18next=t()}(this,function(){"use strict";function e(e){return null==e?"":""+e}function t(e,t,i){e.forEach(function(e){t[e]&&(i[e]=t[e])})}function i(e,t,i){function n(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(!e)return{};var r=n(o.shift());!e[r]&&i&&(e[r]=new i),e=e[r]}return e?{obj:e,k:n(o.shift())}:{}}function n(e,t,n){var o=i(e,t,Object);o.obj[o.k]=n}function o(e,t,n,o){var r=i(e,t,Object),a=r.obj,s=r.k;a[s]=a[s]||[],o&&(a[s]=a[s].concat(n)),o||a[s].push(n)}function r(e,t){var n=i(e,t),o=n.obj,r=n.k;if(o)return o[r]}function a(e,t,i){for(var n in t)n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof t[n]||t[n]instanceof String?i&&(e[n]=t[n]):a(e[n],t[n],i):e[n]=t[n];return e}function s(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function l(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return x[e]}):e}function c(e){return e.interpolation={unescapeSuffix:"HTML"},e.interpolation.prefix=e.interpolationPrefix||"__",e.interpolation.suffix=e.interpolationSuffix||"__",e.interpolation.escapeValue=e.escapeInterpolation||!1,e.interpolation.nestingPrefix=e.reusePrefix||"$t(",e.interpolation.nestingSuffix=e.reuseSuffix||")",e}function d(e){return e.resStore&&(e.resources=e.resStore),e.ns&&e.ns.defaultNs?(e.defaultNS=e.ns.defaultNs,e.ns=e.ns.namespaces):e.defaultNS=e.ns||"translation",e.fallbackToDefaultNS&&e.defaultNS&&(e.fallbackNS=e.defaultNS),e.saveMissing=e.sendMissing,e.saveMissingTo=e.sendMissingTo||"current",e.returnNull=!e.fallbackOnNull,e.returnEmptyString=!e.fallbackOnEmpty,e.returnObjects=e.returnObjectTrees,e.joinArrays="\n",e.returnedObjectHandler=e.objectTreeKeyHandler,e.parseMissingKeyHandler=e.parseMissingKey,e.appendNamespaceToMissingKey=!0,e.nsSeparator=e.nsseparator,e.keySeparator=e.keyseparator,"sprintf"===e.shortcutFunction&&(e.overloadTranslationOptionHandler=function(e){for(var t=[],i=1;i<e.length;i++)t.push(e[i]);return{postProcess:"sprintf",sprintf:t}}),e.whitelist=e.lngWhitelist,e.preload=e.preload,"current"===e.load&&(e.load="currentOnly"),"unspecific"===e.load&&(e.load="languageOnly"),e.backend=e.backend||{},e.backend.loadPath=e.resGetPath||"locales/__lng__/__ns__.json",e.backend.addPath=e.resPostPath||"locales/add/__lng__/__ns__",e.backend.allowMultiLoading=e.dynamicLoad,e.cache=e.cache||{},e.cache.prefix="res_",e.cache.expirationTime=6048e5,e.cache.enabled=!!e.useLocalStorage,e=c(e),e.defaultVariables&&(e.interpolation.defaultVariables=e.defaultVariables),e}function u(e){return e=c(e),e.joinArrays="\n",e}function p(e){return(e.interpolationPrefix||e.interpolationSuffix||e.escapeInterpolation)&&(e=c(e)),e.nsSeparator=e.nsseparator,e.keySeparator=e.keyseparator,e.returnObjects=e.returnObjectTrees,e}function h(e){e.lng=function(){return E.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),e.services.languageUtils.toResolveHierarchy(e.language)[0]},e.preload=function(t,i){E.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),e.loadLanguages(t,i)},e.setLng=function(t,i,n){return E.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof i&&(n=i,i={}),i||(i={}),!0===i.fixLng&&n?n(null,e.getFixedT(t)):void e.changeLanguage(t,n)},e.addPostProcessor=function(t,i){E.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),e.use({type:"postProcessor",name:t,process:i})}}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function f(){var e={};return D.forEach(function(t){t.lngs.forEach(function(i){return e[i]={numbers:t.nr,plurals:O[t.fc]}})}),e}function m(e,t){for(var i=e.indexOf(t);-1!==i;)e.splice(i,1),i=e.indexOf(t)}function v(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(e){return{defaultValue:e[1]}},interpolation:{escapeValue:!0,format:function(e,t,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function _(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&e.whitelist.push("cimode"),e}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},S=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},C=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},T=function(){function e(e,t){var i=[],n=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R={type:"logger",log:function(e){this._output("log",e)},warn:function(e){this._output("warn",e)},error:function(e){this._output("error",e)},_output:function(e,t){console&&console[e]&&console[e].apply(console,Array.prototype.slice.call(t))}},P=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w(this,e),this.subs=[],this.init(t,i)}return e.prototype.init=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.prefix=t.prefix||"i18next:",this.logger=e||R,this.options=t,this.debug=!1!==t.debug},e.prototype.setDebug=function(e){this.debug=e,this.subs.forEach(function(t){t.setDebug(e)})},e.prototype.log=function(){this.forward(arguments,"log","",!0)},e.prototype.warn=function(){this.forward(arguments,"warn","",!0)},e.prototype.error=function(){this.forward(arguments,"error","")},e.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,i,n){n&&!this.debug||("string"==typeof e[0]&&(e[0]=i+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){var i=new e(this.logger,b({prefix:this.prefix+":"+t+":"},this.options));return this.subs.push(i),i},e}(),E=new P,I=function(){function e(){w(this,e),
this.observers={}}return e.prototype.on=function(e,t){var i=this;e.split(" ").forEach(function(e){i.observers[e]=i.observers[e]||[],i.observers[e].push(t)})},e.prototype.off=function(e,t){var i=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var n=i.observers[e].indexOf(t);n>-1&&i.observers[e].splice(n,1)}else delete i.observers[e]})},e.prototype.emit=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&this.observers[e].forEach(function(e){e.apply(void 0,i)}),this.observers["*"]&&this.observers["*"].forEach(function(t){var n;t.apply(t,(n=[e]).concat.apply(n,i))})},e}(),x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},A=function(e){function t(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{ns:["translation"],defaultNS:"translation"}:arguments[1];w(this,t);var o=C(this,e.call(this));return o.data=i,o.options=n,o}return S(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],o=n.keySeparator||this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];return i&&"string"!=typeof i&&(a=a.concat(i)),i&&"string"==typeof i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(a=e.split(".")),r(this.data,a)},t.prototype.addResource=function(e,t,i,o){var r=arguments.length<=4||void 0===arguments[4]?{silent:!1}:arguments[4],a=this.options.keySeparator;void 0===a&&(a=".");var s=[e,t];i&&(s=s.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(s=e.split("."),o=t,t=s[1]),this.addNamespaces(t),n(this.data,s,o),r.silent||this.emit("added",e,t,i,o)},t.prototype.addResources=function(e,t,i){for(var n in i)"string"==typeof i[n]&&this.addResource(e,t,n,i[n],{silent:!0});this.emit("added",e,t,i)},t.prototype.addResourceBundle=function(e,t,i,o,s){var l=[e,t];e.indexOf(".")>-1&&(l=e.split("."),o=i,i=t,t=l[1]),this.addNamespaces(t);var c=r(this.data,l)||{};o?a(c,i,s):c=b({},c,i),n(this.data,l,c),this.emit("added",e,t,i)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?b({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(I),k={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,i,n,o){var r=this;return e.forEach(function(e){r.processors[e]&&(t=r.processors[e].process(t,i,n,o))}),t}},V=function(e){function i(n){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w(this,i);var r=C(this,e.call(this));return t(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,r),r.options=o,r.logger=E.create("translator"),r}return S(i,e),i.prototype.changeLanguage=function(e){e&&(this.language=e)},i.prototype.exists=function(e){var t=arguments.length<=1||void 0===arguments[1]?{interpolation:{}}:arguments[1];return"v1"===this.options.compatibilityAPI&&(t=p(t)),void 0!==this.resolve(e,t)},i.prototype.extractFromKey=function(e,t){var i=t.nsSeparator||this.options.nsSeparator;void 0===i&&(i=":");var n=t.ns||this.options.defaultNS;if(i&&e.indexOf(i)>-1){var o=e.split(i);n=o[0],e=o[1]}return"string"==typeof n&&(n=[n]),{key:e,namespaces:n}},i.prototype.translate=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("object"!==(void 0===t?"undefined":y(t))?t=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(t=p(t)),void 0===e||null===e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var i=t.lng||this.language;if(i&&"cimode"===i.toLowerCase())return e[e.length-1];var n=t.keySeparator||this.options.keySeparator||".",o=this.extractFromKey(e[e.length-1],t),r=o.key,a=o.namespaces,s=a[a.length-1],l=this.resolve(e,t),c=Object.prototype.toString.apply(l),d=["[object Number]","[object Function]","[object RegExp]"],u=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays;if(l&&"string"!=typeof l&&d.indexOf(c)<0&&(!u||"[object Array]"!==c)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(r,l,t):"key '"+r+" ("+this.language+")' returned an object instead of string.";var h="[object Array]"===c?[]:{};for(var g in l)h[g]=this.translate(""+r+n+g,b({joinArrays:!1,ns:a},t));l=h}else if(u&&"[object Array]"===c)(l=l.join(u))&&(l=this.extendTranslation(l,r,t));else{var f=!1,m=!1;if(this.isValidLookup(l)||void 0===t.defaultValue||(f=!0,l=t.defaultValue),this.isValidLookup(l)||(m=!0,l=r),m||f){this.logger.log("missingKey",i,s,r,l);var v=[];if("fallback"===this.options.saveMissingTo&&this.options.fallbackLng&&this.options.fallbackLng[0])for(var _=0;_<this.options.fallbackLng.length;_++)v.push(this.options.fallbackLng[_]);else"all"===this.options.saveMissingTo?v=this.languageUtils.toResolveHierarchy(t.lng||this.language):v.push(t.lng||this.language);this.options.saveMissing&&(this.options.missingKeyHandler?this.options.missingKeyHandler(v,s,r,l):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(v,s,r,l)),this.emit("missingKey",v,s,r,l)}l=this.extendTranslation(l,r,t),m&&l===r&&this.options.appendNamespaceToMissingKey&&(l=s+":"+r),m&&this.options.parseMissingKeyHandler&&(l=this.options.parseMissingKeyHandler(l))}return l},i.prototype.extendTranslation=function(e,t,i){var n=this;i.interpolation&&this.interpolator.init(i);var o=i.replace&&"string"!=typeof i.replace?i.replace:i;this.options.interpolation.defaultVariables&&(o=b({},this.options.interpolation.defaultVariables,o)),e=this.interpolator.interpolate(e,o,this.language),e=this.interpolator.nest(e,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.translate.apply(n,t)},i),i.interpolation&&this.interpolator.reset();var r=i.postProcess||this.options.postProcess,a="string"==typeof r?[r]:r;return void 0!==e&&a&&a.length&&!1!==i.applyPostProcessor&&(e=k.handle(a,e,t,i,this)),e},i.prototype.resolve=function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=void 0;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!t.isValidLookup(n)){var o=t.extractFromKey(e,i),r=o.key,a=o.namespaces;t.options.fallbackNS&&(a=a.concat(t.options.fallbackNS));var s=void 0!==i.count&&"string"!=typeof i.count,l=void 0!==i.context&&"string"==typeof i.context&&""!==i.context,c=i.lngs?i.lngs:t.languageUtils.toResolveHierarchy(i.lng||t.language);a.forEach(function(e){t.isValidLookup(n)||c.forEach(function(o){if(!t.isValidLookup(n)){var a=r,c=[a],d=void 0;s&&(d=t.pluralResolver.getSuffix(o,i.count)),s&&l&&c.push(a+d),l&&c.push(a+=""+t.options.contextSeparator+i.context),s&&c.push(a+=d);for(var u=void 0;u=c.pop();)t.isValidLookup(n)||(n=t.getResource(o,e,u,i))}})})}}),n},i.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},i.prototype.getResource=function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return this.resourceStore.getResource(e,t,i,n)},i}(I),M=function(){function e(t){w(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=E.create("languageUtils")}return e.prototype.getLanguagePartFromCode=function(e){if(e.indexOf("-")<0)return e;var t=["NB-NO","NN-NO","nb-NO","nn-NO","nb-no","nn-no"],i=e.split("-");return this.formatLanguageCode(t.indexOf(e)>-1?i[1].toLowerCase():i[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(function(e){return e.toLowerCase()}):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=g(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=g(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=g(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e,t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist&&!t)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.toResolveHierarchy=function(e,t){var i=this;"string"==typeof(t=t||this.options.fallbackLng||[])&&(t=[t]);var n=[],o=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];i.isWhitelisted(e,t)?n.push(e):i.logger.warn("rejecting non-whitelisted language code: "+e)};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e),!0),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),t.forEach(function(e){n.indexOf(e)<0&&o(i.formatLanguageCode(e))}),n},e}(),D=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],O={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},N=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w(this,e),this.languageUtils=t,this.options=i,this.logger=E.create("pluralResolver"),this.rules=f()}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return!(t&&t.numbers.length<=1)},e.prototype.getSuffix=function(e,t){var i=this,n=this.getRule(e);if(!n)return this.logger.warn("no plural rule found for: "+e),"";var o=function(){if(1===n.numbers.length)return{v:""};var e=n.noAbs?n.plurals(t):n.plurals(Math.abs(t)),o=n.numbers[e];2===n.numbers.length&&1===n.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var r=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return"v1"===i.options.compatibilityJSON?1===o?{v:""}:"number"==typeof o?{v:"_plural_"+o.toString()}:{v:r()}:"v2"===i.options.compatibilityJSON||2===n.numbers.length&&1===n.numbers[0]?{v:r()}:2===n.numbers.length&&1===n.numbers[0]?{v:r()}:{v:i.options.prepend&&e.toString()?i.options.prepend+e.toString():e.toString()}}();return"object"===(void 0===o?"undefined":y(o))?o.v:void 0},e}(),F=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];w(this,t),this.logger=E.create("interpolator"),this.init(e,!0)}return t.prototype.init=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e}),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=t.escapeValue,this.prefix=t.prefix?s(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?s(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?s(t.formatSeparator):t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?s(t.nestingPrefix):t.nestingPrefixEscaped||s("$t("),this.nestingSuffix=t.nestingSuffix?s(t.nestingSuffix):t.nestingSuffixEscaped||s(")"),this.resetRegExp()},t.prototype.reset=function(){this.options&&this.init(this.options)},t.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var i=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(i,"g")},t.prototype.interpolate=function(t,i,n){var o=this,a=void 0,s=void 0,c=function(e){if(e.indexOf(o.formatSeparator)<0)return r(i,e);var t=e.split(o.formatSeparator),a=t.shift().trim(),s=t.join(o.formatSeparator).trim();return o.format(r(i,a),s,n)};for(this.resetRegExp();a=this.regexpUnescape.exec(t);){var d=c(a[1].trim());t=t.replace(a[0],d),this.regexpUnescape.lastIndex=0}for(;a=this.regexp.exec(t);)s=c(a[1].trim()),"string"!=typeof s&&(s=e(s)),s||(this.logger.warn("missed to pass in variable "+a[1]+" for interpolating "+t),s=""),s=function(e){return e.replace(/\$/g,"$$$$")}(this.escapeValue?l(s):s),t=t.replace(a[0],s),this.regexp.lastIndex=0;return t},t.prototype.nest=function(t,i){function n(e){if(e.indexOf(",")<0)return e;var t=e.split(",");e=t.shift();var i=t.join(",");i=this.interpolate(i,s);try{s=JSON.parse(i)}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=void 0,a=void 0,s=JSON.parse(JSON.stringify(o));for(s.applyPostProcessor=!1;r=this.nestingRegexp.exec(t);)a=i(n.call(this,r[1].trim()),s),"string"!=typeof a&&(a=e(a)),a||(this.logger.warn("missed to pass in variable "+r[1]+" for interpolating "+t),a=""),a=function(e){return e.replace(/\$/g,"$$$$")}(this.escapeValue?l(a):a),t=t.replace(r[0],a),this.regexp.lastIndex=0;return t},t}(),L=function(e){function t(i,n,o){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];w(this,t);var a=C(this,e.call(this));return a.backend=i,a.store=n,a.services=o,a.options=r,a.logger=E.create("backendConnector"),a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(o,r.backend,r),a}return S(t,e),t.prototype.queueLoad=function(e,t,i){var n=this,o=[],r=[],a=[],s=[];return e.forEach(function(e){var i=!0;t.forEach(function(t){var a=e+"|"+t;n.store.hasResourceBundle(e,t)?n.state[a]=2:n.state[a]<0||(1===n.state[a]?r.indexOf(a)<0&&r.push(a):(n.state[a]=1,i=!1,r.indexOf(a)<0&&r.push(a),o.indexOf(a)<0&&o.push(a),s.indexOf(t)<0&&s.push(t)))}),i||a.push(e)}),(o.length||r.length)&&this.queue.push({pending:r,loaded:{},errors:[],callback:i}),{toLoad:o,pending:r,toLoadLanguages:a,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,i){var n=this,r=e.split("|"),a=T(r,2),s=a[0],l=a[1];t&&this.emit("failedLoading",s,l,t),i&&this.store.addResourceBundle(s,l,i),this.state[e]=t?-1:2,this.queue.forEach(function(i){o(i.loaded,[s],l),m(i.pending,e),t&&i.errors.push(t),0!==i.pending.length||i.done||(i.errors.length?i.callback(i.errors):i.callback(),n.emit("loaded",i.loaded),i.done=!0)}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,i,n,o,r){var a=this;return n||(n=0),o||(o=250),e.length?void this.backend[i](e,t,function(s,l){return s&&l&&n<5?void setTimeout(function(){a.read.call(a,e,t,i,++n,2*o,r)},o):void r(s,l)}):r(null,{})},t.prototype.load=function(e,t,i){var n=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();var o=b({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,i);return a.toLoad.length?void(o.allowMultiLoading&&this.backend.readMulti?this.read(a.toLoadLanguages,a.toLoadNamespaces,"readMulti",null,null,function(e,t){e&&n.logger.warn("loading namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&n.logger.log("loaded namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading",t),a.toLoad.forEach(function(i){var o=i.split("|"),a=T(o,2),s=a[0],l=a[1],c=r(t,[s,l]);if(c)n.loaded(i,e,c);else{var d="loading namespace "+l+" for language "+s+" via multiloading failed";n.loaded(i,d),n.logger.error(d)}})}):function(){var e=function(e){var t=this,i=e.split("|"),n=T(i,2),o=n[0],r=n[1];this.read(o,r,"read",null,null,function(i,n){i&&t.logger.warn("loading namespace "+r+" for language "+o+" failed",i),!i&&n&&t.logger.log("loaded namespace "+r+" for language "+o,n),t.loaded(e,i,n)})};a.toLoad.forEach(function(t){e.call(n,t)})}()):void(a.pending.length||i())},t.prototype.reload=function(e,t){var i=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var n=b({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),n.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,function(n,o){n&&i.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",n),!n&&o&&i.logger.log("reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",o),e.forEach(function(e){t.forEach(function(t){var a=r(o,[e,t]);if(a)i.loaded(e+"|"+t,n,a);else{var s="reloading namespace "+t+" for language "+e+" via multiloading failed";i.loaded(e+"|"+t,s),i.logger.error(s)}})})}):function(){var n=function(e){var t=this,i=e.split("|"),n=T(i,2),o=n[0],r=n[1];this.read(o,r,"read",null,null,function(i,n){i&&t.logger.warn("reloading namespace "+r+" for language "+o+" failed",i),!i&&n&&t.logger.log("reloaded namespace "+r+" for language "+o,n),t.loaded(e,i,n)})};e.forEach(function(e){t.forEach(function(t){n.call(i,e+"|"+t)})})}()},t.prototype.saveMissing=function(e,t,i,n){this.backend&&this.backend.create&&this.backend.create(e,t,i,n),e&&e[0]&&this.store.addResource(e[0],t,i,n)},t}(I),B=function(e){function t(i,n,o){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];w(this,t);var a=C(this,e.call(this));return a.cache=i,a.store=n,a.services=o,a.options=r,a.logger=E.create("cacheConnector"),a.cache&&a.cache.init&&a.cache.init(o,r.cache,r),a}return S(t,e),t.prototype.load=function(e,t,i){var n=this;if(!this.cache)return i&&i();var o=b({},this.cache.options,this.options.cache);"string"==typeof e&&(e=this.services.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),o.enabled?this.cache.load(e,function(t,o){if(t&&n.logger.error("loading languages "+e.join(", ")+" from cache failed",t),o)for(var r in o)for(var a in o[r])if("i18nStamp"!==a){var s=o[r][a];s&&n.store.addResourceBundle(r,a,s)}i&&i()}):i&&i()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(I);return new(function(e){function t(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];w(this,t);var o=C(this,e.call(this));return o.options=_(i),o.services={},o.logger=E,o.modules={},n&&!o.isInitialized&&o.init(i,n),o}return S(t,e),t.prototype.init=function(e,t){function i(e){if(e)return"function"==typeof e?new e:e}var n=this;if("function"==typeof e&&(t=e,e={}),e||(e={}),"v1"===e.compatibilityAPI?this.options=b({},v(),_(d(e)),{}):"v1"===e.compatibilityJSON?this.options=b({},v(),_(u(e)),{}):this.options=b({},v(),this.options,_(e)),t||(t=function(){}),!this.options.isClone){this.modules.logger?E.init(i(this.modules.logger),this.options):E.init(null,this.options);var o=new M(this.options);this.store=new A(this.options.resources,this.options);var r=this.services;r.logger=E,r.resourceStore=this.store,r.resourceStore.on("added removed",function(e,t){r.cacheConnector.save()}),r.languageUtils=o,r.pluralResolver=new N(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON}),r.interpolator=new F(this.options),r.backendConnector=new L(i(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];n.emit.apply(n,[e].concat(i))}),r.backendConnector.on("loaded",function(e){r.cacheConnector.save()}),r.cacheConnector=new B(i(this.modules.cache),r.resourceStore,r,this.options),r.cacheConnector.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];n.emit.apply(n,[e].concat(i))}),this.modules.languageDetector&&(r.languageDetector=i(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.translator=new V(this.services,this.options),this.translator.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];n.emit.apply(n,[e].concat(i))})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){n[e]=function(){return this.store[e].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&h(this);var a=function(){n.changeLanguage(n.options.lng,function(e,i){n.emit("initialized",n.options),n.logger.log("initialized",n.options),t(e,i)})};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),this},t.prototype.loadResources=function(e){var t=this;if(e||(e=function(){}),this.options.resources)e(null);else{var i=function(){if(t.language&&"cimode"===t.language.toLowerCase())return{v:e()};var i=[],n=function(e){t.services.languageUtils.toResolveHierarchy(e).forEach(function(e){i.indexOf(e)<0&&i.push(e)})};n(t.language),t.options.preload&&t.options.preload.forEach(function(e){n(e)}),t.services.cacheConnector.load(i,t.options.ns,function(){t.services.backendConnector.load(i,t.options.ns,e)})}();if("object"===(void 0===i?"undefined":y(i)))return i.v}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.warn)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&k.addPostProcessor(e),this},t.prototype.changeLanguage=function(e,t){var i=this,n=function(n){e&&(i.emit("languageChanged",e),i.logger.log("languageChanged",e)),t&&t(n,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.t.apply(i,t)})};!e&&this.services.languageDetector&&(e=this.services.languageDetector.detect()),e&&(this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.translator.changeLanguage(e),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(e)),this.loadResources(function(e){n(e)})},t.prototype.getFixedT=function(e,t){var i=this,n=function e(t,n){return n=n||{},n.lng=n.lng||e.lng,n.ns=n.ns||e.ns,i.t(t,n)};return n.lng=e,n.ns=t,n},t.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},t.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var i=this;return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){i.options.ns.indexOf(e)<0&&i.options.ns.push(e)}),void this.loadResources(t)):t&&t()},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var i=this.options.preload||[],n=e.filter(function(e){return i.indexOf(e)<0});return n.length?(this.options.preload=i.concat(n),void this.loadResources(t)):t()},t.prototype.dir=function(e){return e||(e=this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"},t.prototype.createInstance=function(){return new t(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1])},t.prototype.cloneInstance=function(){var e=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1],o=new t(b({},i,this.options,{isClone:!0}),n);return["store","translator","services","language"].forEach(function(t){o[t]=e[t]}),o},t}(I))}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("lib/globalize/globalize-runtime",t):"object"==typeof exports?module.exports=t():e.Globalize=t()}(this,function(){"use strict";function e(t){if(!(this instanceof e))return new e(t);l(t,"locale"),d(t,"locale"),this._locale=t}var t=function(e){return"string"==typeof e?e:"number"==typeof e?""+e:JSON.stringify(e)},i=function(e,i){return e=e.replace(/{[0-9a-zA-Z-_. ]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),t(i[e])})},n=function(){var e=arguments[0];return[].slice.call(arguments,1).forEach(function(t){var i;for(i in t)e[i]=t[i]}),e},o=function(e,t,o){var r;return t=e+(t?": "+i(t,o):""),r=new Error(t),r.code=e,n(r,o),r},r=function(e){return[].reduce.call(e,function(e,t){return 0|(e=(e<<5)-e+t.charCodeAt(0))},0)},a=function(e,t,i,n){var o;return n=n||JSON.stringify(i),o=r(e+t+n),o>0?"a"+o:"b"+Math.abs(o)},s=function(e,t,i,n){if(!i)throw o(e,t,n)},l=function(e,t){s("E_MISSING_PARAMETER","Missing required parameter `{name}`.",void 0!==e,{name:t})},c=function(e,t,i,n){s("E_INVALID_PAR_TYPE","Invalid `{name}` parameter ({value}). {expected} expected.",i,{expected:n,name:t,value:e})},d=function(e,t){c(e,t,void 0===e||"string"==typeof e,"a string")},u=function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},p=function(e,t,i){var n;for("string"!=typeof e&&(e=String(e)),n=e.length;n<t;n+=1)e=i?e+"0":"0"+e;return e};return e.locale=function(e){return d(e,"locale"),arguments.length&&(this._locale=e),this._locale},e._createError=o,e._formatMessage=i,e._regexpEscape=u,e._runtimeKey=a,e._stringPad=p,e._validateParameterPresence=l,e._validateParameterTypeString=d,e._validateParameterType=c,e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("lib/globalize/globalize-runtime/number",["../globalize-runtime"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime")):t(e.Globalize)}(this,function(e){"use strict";var t=e._createError,i=(e._regexpEscape,e._runtimeKey),n=e._stringPad,o=e._validateParameterType,r=e._validateParameterPresence,a=e._validateParameterTypeString,s=function(e){return t("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})},l=function(e,t){o(e,t,void 0===e||"number"==typeof e,"Number")},c=function(e,t,i){var n,o=t,r="",a=!!i;for(e=String(e).split("."),n=e[0].length;n>o;)r=e[0].slice(n-o,n)+(r.length?",":"")+r,n-=o,a&&(o=i,a=!1);return e[0]=e[0].slice(0,n)+(r.length?",":"")+r,e.join(".")},d=function(e,t,i,o,r,a){return o?(e=a?r(e,a):r(e,{exponent:-o}),i&&(e=String(e).split("."),e[1]=n(e[1]||"",i,!0),e=e.join("."))):e=r(e),e=String(e),t&&(e=e.split("."),e[0]=n(e[0],t),e=e.join(".")),e},u=function(e,t,i){var n;return e=e.toPrecision(t+2),n=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),n-=t,i(e,{exponent:n})},p=function(e,t,i,o){var r,a;if(t>i&&(i=t),r=u(e,t,o),a=u(e,i,o),e=+r==+a?r:a,e=(+e).toString(10),/e/.test(e))throw s({feature:"integers out of (1e21, 1e-7)"});return t-e.replace(/^0+|\./g,"").length>0&&(e=e.split("."),e[1]=n(e[1]||"",t-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e},h=function(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"":e.replace(/''/g,"'").slice(1,-1)},g=function(e,t){var i,n,o,r,a,s,l,u,g,f,m,v,_,y,w,b,S;return t[1],a=t[2],r=t[3],n=t[4],s=t[5],o=t[6],y=t[7],f=t[8],w=t[9],_=t[15],i=t[16],l=t[17],S=t[18],u=t[19],isNaN(e)?l:(e<0?(m=t[12],g=t[13],b=t[14]):(m=t[11],g=t[0],b=t[10]),isFinite(e)?(v=g,-1!==m.indexOf("%")?e*=100:-1!==m.indexOf("‰")&&(e*=1e3),e=isNaN(s*o)?d(e,a,r,n,_,y):p(e,s,o,_),e=e.replace(/^-/,""),f&&(e=c(e,f,w)),v+=e,v+=b,v.replace(/('([^']|'')+'|'')|./g,function(e,t){return t?h(t):(e=e.replace(/[.,\-+E%\u2030]/,function(e){return S[e]}),u&&(e=e.replace(/[0-9]/,function(e){return u[+e]})),e)})):g+i+b)},f=function(e){return function(t){return r(t,"value"),l(t,"value"),g(t,e)}},m=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,v=/[\-\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]/g,_=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g,y=function(e,t){function i(e){return function(t){switch(t=t.split("").map(function(e){return r[e]||o[e]||e}).join(""),e){case"infinity":s=1/0;break;case"nan":s=NaN;break;case"number":t=t.replace(/,/g,""),s=+t;break;case"prefix":case"negativePrefix":l=t;break;case"suffix":d=t;break;case"negativeSuffix":d=t,a=!0;break;default:throw new Error("Internal error")}return""}}var n,o,r,a,s,l,c,d,u;return n=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],r=t[0],o=t[1]||{},u=t[2],e=e.replace(m,"").replace(v,"-").replace(_," "),!function(e,t){return t.some(function(t){var n=e;return t.every(function(e){return null!==n.match(u[e])&&(n=n.replace(u[e],i(e)),!0)})&&!n.length})}(e,n)||isNaN(s)?NaN:(c=""+l+d,-1!==c.indexOf("%")?s/=100:-1!==c.indexOf("‰")&&(s/=1e3),a&&(s*=-1),s)
},w=function(e){return function(t){return r(t,"value"),a(t,"value"),y(t,e)}},b=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},S=function(e){return e=e||"round",e="truncate"===e?b:Math[e],function(t,i){var n,o;if(t=+t,isNaN(t))return NaN;if("object"==typeof i&&i.exponent){if(n=+i.exponent,o=1,0===n)return e(t);if("number"!=typeof n||n%1!=0)return NaN}else{if(1===(o=+i||1))return e(t);if(isNaN(o))return NaN;o=o.toExponential().split("e"),n=+o[1],o=+o[0]}return t=t.toString().split("e"),t[0]=+t[0]/o,t[1]=t[1]?+t[1]-n:-n,t=e(+(t[0]+"e"+t[1])),t=t.toString().split("e"),t[0]=+t[0]*o,t[1]=t[1]?+t[1]+n:n,+(t[0]+"e"+t[1])}};return e._createErrorUnsupportedFeature=s,e._numberFormat=g,e._numberFormatterFn=f,e._numberParse=y,e._numberParserFn=w,e._numberRound=S,e._removeLiteralQuotes=h,e._validateParameterPresence=r,e._validateParameterTypeNumber=l,e._validateParameterTypeString=a,e.numberFormatter=e.prototype.numberFormatter=function(t){return t=t||{},e[i("numberFormatter",this._locale,[t])]},e.numberParser=e.prototype.numberParser=function(t){return t=t||{},e[i("numberParser",this._locale,[t])]},e.formatNumber=e.prototype.formatNumber=function(e,t){return r(e,"value"),l(e,"value"),this.numberFormatter(t)(e)},e.parseNumber=e.prototype.parseNumber=function(e,t){return r(e,"value"),a(e,"value"),this.numberParser(t)(e)},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("lib/globalize/globalize-runtime/plural",["../globalize-runtime"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime")):t(e.Globalize)}(this,function(e){"use strict";var t=e._runtimeKey,i=e._validateParameterPresence,n=e._validateParameterType,o=function(e,t){n(e,t,void 0===e||"number"==typeof e,"Number")},r=function(e){return function(t){return i(t,"value"),o(t,"value"),e(t)}};return e._pluralGeneratorFn=r,e._validateParameterTypeNumber=o,e.plural=e.prototype.plural=function(e,t){return i(e,"value"),o(e,"value"),this.pluralGenerator(t)(e)},e.pluralGenerator=e.prototype.pluralGenerator=function(i){return i=i||{},e[t("pluralGenerator",this._locale,[i])]},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("lib/globalize/globalize-runtime/date",["../globalize-runtime","./number"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime"),require("./number")):t(e.Globalize)}(this,function(e){"use strict";var t=e._createErrorUnsupportedFeature,i=e._regexpEscape,n=e._removeLiteralQuotes,o=e._runtimeKey,r=e._stringPad,a=e._validateParameterPresence,s=e._validateParameterType,l=e._validateParameterTypeString,c=function(e,t){s(e,t,void 0===e||e instanceof Date,"Date")},d=function(e,t){return(e.getDay()-t+7)%7},u=function(e,t){return(t.getTime()-e.getTime())/864e5},p=function(e,t){switch(e=new Date(e.getTime()),t){case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0);case"hour":e.setMinutes(0);case"minute":e.setSeconds(0);case"second":e.setMilliseconds(0)}return e},h=function(e){return Math.floor(u(p(e,"year"),e))},g=function(e){return e-p(e,"day")},f=/([a-z])\1*|'([^']|'')+'|''|./gi,m=function(e,t,i,n){var o,a=e.getTimezoneOffset();return o=Math.abs(a),n=n||{1:function(e){return r(e,1)},2:function(e){return r(e,2)}},t.split(";")[a>0?1:0].replace(":",i).replace(/HH?/,function(e){return n[e.length](Math.floor(o/60))}).replace(/mm/,function(){return n[2](o%60)})},v=["sun","mon","tue","wed","thu","fri","sat"],_=function(e,t,i){var o=i.timeSeparator;return i.pattern.replace(f,function(r){var a,s=r.charAt(0),l=r.length;switch("j"===s&&(s=i.preferredTime),"Z"===s&&(l<4?(s="x",l=4):l<5?(s="O",l=4):(s="X",l=5)),s){case"G":a=i.eras[e.getFullYear()<0?0:1];break;case"y":a=e.getFullYear(),2===l&&(a=String(a),a=+a.substr(a.length-2));break;case"Y":a=new Date(e.getTime()),a.setDate(a.getDate()+7-d(e,i.firstDay)-i.firstDay-i.minDays),a=a.getFullYear(),2===l&&(a=String(a),a=+a.substr(a.length-2));break;case"Q":case"q":a=Math.ceil((e.getMonth()+1)/3),l>2&&(a=i.quarters[s][l][a]);break;case"M":case"L":a=e.getMonth()+1,l>2&&(a=i.months[s][l][a]);break;case"w":a=d(p(e,"year"),i.firstDay),a=Math.ceil((h(e)+a)/7)-(7-a>=i.minDays?0:1);break;case"W":a=d(p(e,"month"),i.firstDay),a=Math.ceil((e.getDate()+a)/7)-(7-a>=i.minDays?0:1);break;case"d":a=e.getDate();break;case"D":a=h(e)+1;break;case"F":a=Math.floor(e.getDate()/7)+1;break;case"e":case"c":if(l<=2){a=d(e,i.firstDay)+1;break}case"E":a=v[e.getDay()],a=i.days[s][l][a];break;case"a":a=i.dayPeriods[e.getHours()<12?"am":"pm"];break;case"h":a=e.getHours()%12||12;break;case"H":a=e.getHours();break;case"K":a=e.getHours()%12;break;case"k":a=e.getHours()||24;break;case"m":a=e.getMinutes();break;case"s":a=e.getSeconds();break;case"S":a=Math.round(e.getMilliseconds()*Math.pow(10,l-3));break;case"A":a=Math.round(g(e)*Math.pow(10,l-3));break;case"z":case"O":0===e.getTimezoneOffset()?a=i.gmtZeroFormat:(a=m(e,l<4?"+H;-H":i.tzLongHourFormat,o,t),a=i.gmtFormat.replace(/\{0\}/,a));break;case"X":if(0===e.getTimezoneOffset()){a="Z";break}case"x":a=1===l?"+HH;-HH":l%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm",a=m(e,a,":");break;case":":a=o;break;case"'":a=n(r);break;default:a=r}return"number"==typeof a&&(a=t[l](a)),a})},y=function(e,t){return function(i){return a(i,"value"),c(i,"value"),_(i,e,t)}},w=function(e){return 1===new Date(e,1,29).getMonth()},b=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},S=function(e,t){var i=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();e.setDate(t<1?1:t<i?t:i)},C=function(e,t){var i=e.getDate();e.setDate(1),e.setMonth(t),S(e,i)},T=function(e,t,i){return e<t||e>i},R=function(e,i,n){var o,r,a,s,l,c,d,u,h=new Date,g=[],f=["year","month","day","hour","minute","second","milliseconds"];if(!i.length)return null;if(!i.every(function(e){var i,p,f,m;if("literal"===e.type)return!0;switch(p=e.type.charAt(0),m=e.type.length,"j"===p&&(p=n.preferredTimeData),p){case"G":g.push(0),l=+e.value;break;case"y":if(f=e.value,2===m){if(T(f,0,99))return!1;i=100*Math.floor(h.getFullYear()/100),f+=i,f>h.getFullYear()+20&&(f-=100)}h.setFullYear(f),g.push(0);break;case"Y":throw t({feature:"year pattern `"+p+"`"});case"Q":case"q":break;case"M":case"L":if(f=m<=2?e.value:+e.value,T(f,1,12))return!1;s=f,g.push(1);break;case"w":case"W":break;case"d":r=e.value,g.push(2);break;case"D":a=e.value,g.push(2);break;case"F":break;case"e":case"c":case"E":break;case"a":o=e.value;break;case"h":if(f=e.value,T(f,1,12))return!1;c=d=!0,h.setHours(12===f?0:f),g.push(3);break;case"K":if(f=e.value,T(f,0,11))return!1;c=d=!0,h.setHours(f),g.push(3);break;case"k":if(f=e.value,T(f,1,24))return!1;c=!0,h.setHours(24===f?0:f),g.push(3);break;case"H":if(f=e.value,T(f,0,23))return!1;c=!0,h.setHours(f),g.push(3);break;case"m":if(f=e.value,T(f,0,59))return!1;h.setMinutes(f),g.push(4);break;case"s":if(f=e.value,T(f,0,59))return!1;h.setSeconds(f),g.push(5);break;case"A":h.setHours(0),h.setMinutes(0),h.setSeconds(0);case"S":f=Math.round(e.value*Math.pow(10,3-m)),h.setMilliseconds(f),g.push(6);break;case"Z":case"z":case"O":case"X":case"x":u=e.value-h.getTimezoneOffset()}return!0}))return null;if(c&&!(!o^d))return null;if(0===l&&h.setFullYear(-1*h.getFullYear()+1),void 0!==s&&C(h,s-1),void 0!==r){if(T(r,1,b(h)))return null;h.setDate(r)}else if(void 0!==a){if(T(a,1,w(h.getFullYear())?366:365))return null;h.setMonth(0),h.setDate(a)}return d&&"pm"===o&&h.setHours(h.getHours()+12),u&&h.setMinutes(h.getMinutes()+u),g=Math.max.apply(null,g),h=p(h,f[g])},P=/[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDD16-\uDD1B\uDE40-\uDE47\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDE60-\uDE7E]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9]|\uD806[\uDCE0-\uDCF2]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD834[\uDF60-\uDF71]|\uD835[\uDFCE-\uDFFF]|\uD83A[\uDCC7-\uDCCF]|\uD83C[\uDD00-\uDD0C]/,E=function(e,t,o){var r,a=o.timeSeparator,s=[],l=["abbreviated","wide","narrow"];return r=o.pattern.match(f).every(function(r){function c(t,i){var n=e.match(t);return i=i||function(e){return+e},!!n&&(n.length<8?y.value=60*(n[1]?-i(n[1]):i(n[4])):y.value=60*(n[1]?-i(n[1]):i(n[7]))+(n[1]?-i(n[4]):i(n[10])),!0)}function d(e,t,i){var n;return t||(t="{0}"),n=e.replace("+","\\+").replace(/HH|mm/g,"(("+P.source+")("+P.source+"))").replace(/H|m/g,"(("+P.source+")("+P.source+")?)"),i&&(n=n.replace(/:/g,i)),n=n.split(";").map(function(e){return t.replace("{0}",e)}).join("|"),new RegExp(n)}function u(){if(1===m)return v=!0,_=P}function p(){if(1===m)return v=!0,_=new RegExp("("+P.source+")("+P.source+")?")}function h(){if(2===m)return v=!0,_=new RegExp("("+P.source+")("+P.source+")")}function g(t){var i,n,r=o[t.join("/")];for(i in r)if(n=new RegExp("^"+r[i]),n.test(e))return y.value=i,_=new RegExp(r[i]);return null}var f,m,v,_,y={};switch(y.type=r,f=r.charAt(0),m=r.length,"Z"===f&&(m<4?(f="x",m=4):m<5?(f="O",m=4):(f="X",m=5)),f){case"G":g(["gregorian/eras",m<=3?"eraAbbr":4===m?"eraNames":"eraNarrow"]);break;case"y":case"Y":v=!0,_=1===m?new RegExp("("+P.source+")+"):2===m?new RegExp("("+P.source+")("+P.source+")"):new RegExp("("+P.source+"){"+m+",}");break;case"Q":case"q":u()||h()||g(["gregorian/quarters","Q"===f?"format":"stand-alone",l[m-3]]);break;case"M":case"L":p()||h()||g(["gregorian/months","M"===f?"format":"stand-alone",l[m-3]]);break;case"D":m<=3&&(v=!0,_=new RegExp("("+P.source+"){"+m+",3}"));break;case"W":case"F":u();break;case"e":case"c":if(m<=2){u()||h();break}case"E":6===m?g(["gregorian/days",["c"===f?"stand-alone":"format"],"short"])||g(["gregorian/days",["c"===f?"stand-alone":"format"],"abbreviated"]):g(["gregorian/days",["c"===f?"stand-alone":"format"],l[m<3?0:m-3]]);break;case"a":g(["gregorian/dayPeriods/format/wide"]);break;case"w":case"d":case"h":case"H":case"K":case"k":case"j":case"m":case"s":p()||h();break;case"S":v=!0,_=new RegExp("("+P.source+"){"+m+"}");break;case"A":v=!0,_=new RegExp("("+P.source+"){"+(m+5)+"}");break;case"z":case"O":if(e===o["timeZoneNames/gmtZeroFormat"])y.value=0,_=new RegExp(o["timeZoneNames/gmtZeroFormat"]);else if(_=d(m<4?"+H;-H":o["timeZoneNames/hourFormat"],o["timeZoneNames/gmtFormat"],a),!c(_,t))return null;break;case"X":if("Z"===e){y.value=0,_=/Z/;break}case"x":if(_=d(1===m?"+HH;-HH":m%2?"+HH:mm;-HH:mm":"+HHmm;-HHmm"),!c(_))return null;break;case"'":y.type="literal",_=new RegExp(i(n(r)));break;default:y.type="literal",_=/./}return!!_&&(e=e.replace(new RegExp("^"+_.source),function(e){return y.lexeme=e,v&&(y.value=t(e)),""}),!!y.lexeme&&(s.push(y),!0))}),""!==e&&(r=!1),r?s:[]},I=function(e,t,i){return function(n){var o;return a(n,"value"),l(n,"value"),o=E(n,e,i),R(0,o,t)||null}};return e._dateFormatterFn=y,e._dateParserFn=I,e._dateFormat=_,e._dateParser=R,e._dateTokenizer=E,e._validateParameterTypeDate=c,e.dateFormatter=e.prototype.dateFormatter=function(t){return t=t||{skeleton:"yMd"},e[o("dateFormatter",this._locale,[t])]},e.dateParser=e.prototype.dateParser=function(t){return t=t||{skeleton:"yMd"},e[o("dateParser",this._locale,[t])]},e.formatDate=e.prototype.formatDate=function(e,t){return a(e,"value"),c(e,"value"),this.dateFormatter(t)(e)},e.parseDate=e.prototype.parseDate=function(e,t){return a(e,"value"),l(e,"value"),this.dateParser(t)(e)},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("lib/globalize/globalize-runtime/relative-time",["../globalize-runtime","./number","./plural"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime"),require("./number"),require("./plural")):t(e.Globalize)}(this,function(e){"use strict";var t=e._formatMessage,i=e._runtimeKey,n=e._validateParameterPresence,o=e._validateParameterTypeNumber,r=function(e,i,n,o){var r,a=o["relative-type-"+e];return a||(r=e<=0?o["relativeTime-type-past"]:o["relativeTime-type-future"],e=Math.abs(e),a=r["relativeTimePattern-count-"+n(e)],t(a,[i(e)]))},a=function(e,t,i){return function(a){return n(a,"value"),o(a,"value"),r(a,e,t,i)}};return e._relativeTimeFormatterFn=a,e.formatRelativeTime=e.prototype.formatRelativeTime=function(e,t,i){return n(e,"value"),o(e,"value"),this.relativeTimeFormatter(t,i)(e)},e.relativeTimeFormatter=e.prototype.relativeTimeFormatter=function(t,n){return n=n||{},e[i("relativeTimeFormatter",this._locale,[t,n])]},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("lib/globalize/globalize-runtime/unit",["../globalize-runtime","./number","./plural"],t):"object"==typeof exports?module.exports=t(require("../globalize-runtime"),require("./number"),require("./plural")):t(e.Globalize)}(this,function(e){"use strict";var t=e._formatMessage,i=e._runtimeKey,n=e._validateParameterPresence,o=e._validateParameterTypeNumber,r=function(e,i,n,o){var r,a,s,l,c,d,u,p=o.compoundUnitPattern;return o=o.unitProperties,s=i(e),u=n(e),o instanceof Array?(a=o[0],c=o[1],r=t(a[u],[e]),l=t(c.one,[""]).trim(),t(p,[r,l])):(d=o[u],t(d,[s]))},a=function(e,t,i){return function(a){return n(a,"value"),o(a,"value"),r(a,e,t,i)}};return e._unitFormatterFn=a,e.formatUnit=e.prototype.formatUnit=function(e,t,i){return this.unitFormatter(t,i)(e)},e.unitFormatter=e.prototype.unitFormatter=function(t,n){return n=n||{},e[i("unitFormatter",this._locale,[t,n])]},e}),function(){"use strict";define("lib/globalize/compiledGlobalize",["lib/globalize/globalize-runtime/number","lib/globalize/globalize-runtime/plural","lib/globalize/globalize-runtime/date","lib/globalize/globalize-runtime/relative-time","lib/globalize/globalize-runtime/unit"],function(e){var t=(e._validateParameterTypeNumber,e._validateParameterPresence,e._numberRound),i=(e._numberFormat,e._numberFormatterFn),n=e._pluralGeneratorFn,o=(e._validateParameterTypeDate,e._dateFormat,e._dateFormatterFn),r=e._relativeTimeFormatterFn,a=e._unitFormatterFn;return e.a876545887=i(["",,2,,,,,,,,"","00","-00","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.a1378886668=i(["",,1,,,,,,,,"","0","-0","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.b468386326=i(["",,1,0,3,,,,3,,"","#,##0.###","-#,##0.###","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.b2029865525=i(["",,1,0,3,,,,3,,"","#,##0.###","-#,##0.###","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.a1297611572=i(["",,1,0,3,,,,3,,"","#,##0.###","-#,##0.###","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.a84802753=i(["",,1,0,3,,,,3,,"","#,##0.###","-#,##0.###","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.b803018987=i(["",,1,,,,,,,,"","0","-0","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.b203855544=i(["",,2,,,,,,,,"","00","-00","-","",t(),"∞","NaN",{".":".",",":",","%":"%","+":"+","-":"-",E:"E","‰":"‰"}]),e.a1662346136=n(function(e){var t=String(e).split("."),i=!t[1];return 1==e&&i?"one":"other"}),e.b2079432081=n(function(e){var t=String(e).split("."),i=!t[1];return 1==e&&i?"one":"other"}),e.a1529192925=o({1:e("xx").numberFormatter({raw:"0"}),2:e("xx").numberFormatter({raw:"00"})},{pattern:"h:mm a",timeSeparator:":",dayPeriods:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}}),e.a52764931=o({},{pattern:"EEEE",timeSeparator:":",days:{E:{4:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}}}),e.a1286203598=o({1:e("en").numberFormatter({raw:"0"})},{pattern:"MMM d, y",timeSeparator:":",months:{M:{3:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}}}}),e.b146585772=o({1:e("xx").numberFormatter({raw:"0"})},{pattern:"MMM d",timeSeparator:":",months:{M:{3:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}}}}),e.a1213628695=o({1:e("xx").numberFormatter({raw:"0"})},{pattern:"MMM d, y",timeSeparator:":",months:{M:{3:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}}}}),e.b1834668175=o({1:e("xx").numberFormatter({raw:"0"})},{pattern:"h a",timeSeparator:":",dayPeriods:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}}),e.a1492808922=o({1:e("en").numberFormatter({raw:"0"})},{pattern:"h a",timeSeparator:":",dayPeriods:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}}),e.a561702726=o({1:e("en").numberFormatter({raw:"0"}),2:e("en").numberFormatter({raw:"00"})},{pattern:"h:mm a",timeSeparator:":",dayPeriods:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}}),e.a878419275=o({1:e("en").numberFormatter({raw:"0"})},{pattern:"MMM d",timeSeparator:":",months:{M:{3:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"}}}}),e.a595906642=o({1:e("en").numberFormatter({raw:"0"})},{pattern:"M/d/y",timeSeparator:":"}),e.b1653915351=o({1:e("xx").numberFormatter({raw:"0"})},{pattern:"M/d/y",timeSeparator:":"}),e.b1063545510=o({},{pattern:"EEEE",timeSeparator:":",days:{E:{4:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}}}),e.a1972505455=r(e("xx").numberFormatter({form:"short"}),e("xx").pluralGenerator({}),{"relativeTime-type-future":{"relativeTimePattern-count-one":"in {0} min.","relativeTimePattern-count-other":"in {0} min."},"relativeTime-type-past":{"relativeTimePattern-count-one":"{0} min. ago","relativeTimePattern-count-other":"{0} min. ago"},"relative-type-0":"this minute"}),e.b687161418=r(e("en").numberFormatter({}),e("en").pluralGenerator({}),{"relativeTime-type-future":{"relativeTimePattern-count-one":"in {0} day","relativeTimePattern-count-other":"in {0} days"},"relativeTime-type-past":{"relativeTimePattern-count-one":"{0} day ago","relativeTimePattern-count-other":"{0} days ago"},"relative-type--1":"yesterday","relative-type-0":"today","relative-type-1":"tomorrow"}),e.a975765837=r(e("xx").numberFormatter({}),e("xx").pluralGenerator({}),{"relativeTime-type-future":{"relativeTimePattern-count-one":"in {0} day","relativeTimePattern-count-other":"in {0} days"},"relativeTime-type-past":{"relativeTimePattern-count-one":"{0} day ago","relativeTimePattern-count-other":"{0} days ago"},"relative-type--1":"yesterday","relative-type-0":"today","relative-type-1":"tomorrow"}),e.a2145156630=r(e("en").numberFormatter({form:"short"}),e("en").pluralGenerator({}),{"relativeTime-type-future":{"relativeTimePattern-count-one":"in {0} hr.","relativeTimePattern-count-other":"in {0} hr."},"relativeTime-type-past":{"relativeTimePattern-count-one":"{0} hr. ago","relativeTimePattern-count-other":"{0} hr. ago"},"relative-type-0":"this hour"}),e.b59126746=r(e("en").numberFormatter({form:"short"}),e("en").pluralGenerator({}),{"relativeTime-type-future":{"relativeTimePattern-count-one":"in {0} min.","relativeTimePattern-count-other":"in {0} min."},"relativeTime-type-past":{"relativeTimePattern-count-one":"{0} min. ago","relativeTimePattern-count-other":"{0} min. ago"},"relative-type-0":"this minute"}),e.b748815457=r(e("xx").numberFormatter({form:"short"}),e("xx").pluralGenerator({}),{"relativeTime-type-future":{"relativeTimePattern-count-one":"in {0} hr.","relativeTimePattern-count-other":"in {0} hr."},"relativeTime-type-past":{"relativeTimePattern-count-one":"{0} hr. ago","relativeTimePattern-count-other":"{0} hr. ago"},"relative-type-0":"this hour"}),e.b582915808=a(e("xx").numberFormatter({}),e("xx").pluralGenerator({}),{compoundUnitPattern:"{0} per {1}",unitProperties:{displayName:"hours",one:"{0} hour",other:"{0} hours",perUnitPattern:"{0} per hour"}}),e.a531894881=a(e("en").numberFormatter({}),e("en").pluralGenerator({}),{compoundUnitPattern:"{0}/{1}",unitProperties:{displayName:"hours",one:"{0} hr",other:"{0} hr",perUnitPattern:"{0}/h"}}),e.b594053161=a(e("en").numberFormatter({}),e("en").pluralGenerator({}),{compoundUnitPattern:"{0} per {1}",unitProperties:{displayName:"hours",one:"{0} hour",other:"{0} hours",perUnitPattern:"{0} per hour"}}),e.b672396336=a(e("xx").numberFormatter({}),e("xx").pluralGenerator({}),{compoundUnitPattern:"{0} per {1}",unitProperties:{displayName:"seconds",one:"{0} second",other:"{0} seconds",perUnitPattern:"{0} per second"}}),e.a956804656=a(e("xx").numberFormatter({}),e("xx").pluralGenerator({}),{compoundUnitPattern:"{0} per {1}",unitProperties:{displayName:"minutes",one:"{0} minute",other:"{0} minutes",perUnitPattern:"{0} per minute"}}),e.a1932890090=a(e("xx").numberFormatter({}),e("xx").pluralGenerator({}),{compoundUnitPattern:"{0}/{1}",unitProperties:{displayName:"hours",one:"{0} hr",other:"{0} hr",perUnitPattern:"{0}/h"}}),e.a2111158522=a(e("xx").numberFormatter({}),e("xx").pluralGenerator({}),{compoundUnitPattern:"{0}/{1}",unitProperties:{displayName:"mins",one:"{0} min",other:"{0} min",perUnitPattern:"{0}/min"}}),e.a1509509319=a(e("en").numberFormatter({}),e("en").pluralGenerator({}),{compoundUnitPattern:"{0} per {1}",unitProperties:{displayName:"seconds",one:"{0} second",other:"{0} seconds",perUnitPattern:"{0} per second"}}),e.b1156256985=a(e("en").numberFormatter({}),e("en").pluralGenerator({}),{compoundUnitPattern:"{0} per {1}",unitProperties:{displayName:"minutes",one:"{0} minute",other:"{0} minutes",perUnitPattern:"{0} per minute"}}),e.a79526321=a(e("en").numberFormatter({}),e("en").pluralGenerator({}),{compoundUnitPattern:"{0}/{1}",unitProperties:{displayName:"mins",one:"{0} min",other:"{0} min",perUnitPattern:"{0}/min"}}),e.compiledLocales=["en","xx"],e})}(),function(){"use strict";define("ui/Localization",["core/oop","core/Debug","lib/i18next","lib/globalize/compiledGlobalize","platform/common/Rating","engine/dependent/Time","platform/dependent/Process","application/ClientDevice"],function(e,t,i,n,o,r,a,s){var l=n,c=e.enumDef("ui.localization.DateFormat",{MONTH_DAY_YEAR_SHORT:"MONTH_DAY_YEAR_SHORT",MONTH_DAY_YEAR_LONG:"MONTH_DAY_YEAR_LONG",MONTH_DAY_LONG:"MONTH_DAY_LONG"});return e.classDef("ui.Localization",Object,function(){e.staticScope(function(){e.properties({DateFormat:{defaultValue:c,readOnlyField:!0}})}),e.singleton(function(){}),e.properties({_i18nextInstance:void 0}),e.methods({initialize:function(e){i.init({debug:!1,initImmediate:!1,lowerCaseLng:!0,lng:"en-us",fallbackLng:"en-us",parseMissingKeyHandler:function(e){},interpolation:{escapeValue:!1},resources:e}),this.configureWithDeviceLocale()},localizeToEnglishSpanish:function(e,t){return!0===t?"en-US"===e?"ResENG":"ResSPN":"en-US"===e?"ResEnglish":"ResSpanish"},configureWithDeviceLocale:function(){var e=s.singleton.localeHyphenated.toLowerCase();this._i18nextInstance=i.getFixedT(e),l.compiledLocales.indexOf(e)>=0?l.locale(e):l.compiledLocales.indexOf(e.substr(0,2))>=0?l.locale(e.substr(0,2)):l.locale("en")},getResource:function(e,t){return this._i18nextInstance(e,{replace:t})},_hasResourceRegistered:function(e){return void 0!==e&&i.exists(e,{lng:s.singleton.localeHyphenated})},_getDisplayDOWLocal:function(e){return l.formatDate(e,{raw:"EEEE"})},formatDate:function(e,t,i){switch(!0!==i&&(e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())),t){case c.MONTH_DAY_YEAR_SHORT:return l.formatDate(e,{skeleton:"yMd"});case c.MONTH_DAY_YEAR_LONG:return l.formatDate(e,{date:"medium"});case c.MONTH_DAY_LONG:return l.formatDate(e,{skeleton:"MMMd"})}},getTimeShortFormat:function(e){var t,i,n,o="";return e>=3600&&(t=Math.floor(e/3600),o+=t+":"),i=Math.floor(e%3600/60),void 0!==t&&i<10&&(o+="0"),o+=i+":",n=Math.floor(e%60),n<10&&(o+="0"),o+=n},getAccessibleTime:function(e){var t,i,n,o=this.getTimeShortFormat(e),r=o.split(":"),a="";switch(r.length){case 2:i=l.formatUnit(parseInt(r[0],10),"minute"),n=l.formatUnit(parseInt(r[1],10),"second"),a=this.getResource("ResA11yTimeMinutesSeconds",{minutes:i,seconds:n});break;case 3:t=l.formatUnit(parseInt(r[0],10),"hour"),i=l.formatUnit(parseInt(r[1],10),"minute"),n=l.formatUnit(parseInt(r[2],10),"second"),a=this.getResource("ResA11yTimeHoursMinutesSeconds",{hours:t,minutes:i,seconds:n})}return a},getAccessibleRating:function(e){return this.getResource("ResA11y"+o.getValueFromCode(e.code,e.type))},getRecencyDisplayString:function(e){var t;t=!0===a.singleton.inAutomation?new Date(2016,7,9,16,0,0):new Date(r.singleton.now());var i,n=Math.floor((t.getTime()-e.getTime())/6e4),o=Math.floor(n/60),s=Math.floor(o/24);return i=n<2?l.formatRelativeTime(-1,"minute",{form:"short"}):o<1?l.formatRelativeTime(-n,"minute",{form:"short"}):o<2?l.formatRelativeTime(-1,"hour",{form:"short"}):s<1?l.formatRelativeTime(-o,"hour",{form:"short"}):s<2?l.formatRelativeTime(-1,"day"):s<=3?l.formatRelativeTime(-s,"day"):e.getUTCFullYear()===t.getUTCFullYear()?this.formatDate(e,c.MONTH_DAY_LONG,!0):this.formatDate(e,c.MONTH_DAY_YEAR_LONG,!0),i.substr(0,1).toUpperCase()+i.substr(1)},getDurationDisplayString:function(e){var t=Math.ceil(e/60),i=Math.floor(t/60),n=t%60;return n>0&&i>0?l.formatUnit(i,"hour",{form:"short"})+" "+l.formatUnit(n,"minute",{form:"short"}):i>0?l.formatUnit(i,"hour",{form:"short"}):l.formatUnit(n,"minute",{form:"short"})},getRecencyDurationDisplayString:function(e,t,i){var n=[];void 0!==e?n.push(this.getRecencyDisplayString(e)):void 0!==t&&n.push(t),void 0!==i&&n.push(this.getDurationDisplayString(i));var o=n.join("   |   ");return""===o?void 0:o},_getTimeOfDay:function(e){return 0===e.getMinutes()?l.formatDate(e,{skeleton:"h"}):l.formatDate(e,{time:"short"})},_getDaysDiff:function(e,t){var i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-i)/864e5)},getDayAtTimeString:function(e){var t=new Date(r.singleton.now());if(t>=e)return this.getResource("ResDateAtTime",{date:this.formatDate(e,c.MONTH_DAY_LONG,!0),time:this._getTimeOfDay(e)});var i=this._getDaysDiff(t,e);return 0===i?e.getHours()<18?this.getResource("ResTodayAtTime",{time:this._getTimeOfDay(e)}):this.getResource("ResTonightAtTime",{time:this._getTimeOfDay(e)}):1===i?this.getResource("ResTomorrowAtTime",{time:this._getTimeOfDay(e)}):i<7?this.getResource("ResDOWAtTime",{dayOfWeek:this._getDisplayDOWLocal(e),time:this._getTimeOfDay(e)}):this.getResource("ResDateAtTime",{date:this.formatDate(e,c.MONTH_DAY_LONG,!0),time:this._getTimeOfDay(e)})}})})})}(),function(){"use strict";define("ui/navigation/ExceptionManager",["core/oop","core/Debug","core/Disposable","core/Exception","core/logging/Levels","core/logging/MessageLogEntry","platform/dependent/Process","lib/lodash/objects/forOwn","ui/Localization","dataservices/InvalidSessionException"],function(e,t,i,n,o,r,a,s,l,c){var d=e.enumDef("ui.navigation.ExceptionManager.RecoveryState",["NONE","PENDING","GIVE_UP"]);return e.classDef("ui.navigation.ExceptionManager",i,function(t){e.staticScope(function(){e.properties({RecoveryState:{defaultValue:d,readOnlyField:!0}}),e.methods({getExceptionDisplayId:function(e){if(void 0===e)return l.singleton.getResource("ResErrorUnknownServiceTraceId");var t=n.getInnermostException(e);return void 0!==t.guid?"S-"+t.guid:void 0!==t.id?"H-"+t.id:(n.new({message:"Unexpected: non-Exception instance passed to getExceptionDisplayId",area:"ui.navigation.ExceptionManager",level:o.WARNING,innerException:e}).logTelemetry(),l.singleton.getResource("ResErrorUnknownServiceTraceId"))}})}),e.singleton(function(){this._processErrorCallback=this._onError.bind(this),a.singleton.error.on(this._processErrorCallback),this._created()}),e.events(["restart"]),e.properties({_exceptionHandlerMap:void 0,_processErrorCallback:void 0,_recoveryState:{defaultValue:d.NONE}}),e.methods({register:function(e){this._exceptionHandlerMap,this._exceptionHandlerMap={},s(e,function(e,t){this._exceptionHandlerMap[t]=e},this)},raiseRestart:function(){var e=!1;this._recoveryState===d.NONE?this._recoveryState=d.PENDING:(this._recoveryState=d.GIVE_UP,e=!0),this._onRestart({giveUp:e})},resetRecoveryState:function(){this._recoveryState=d.NONE},_disposeCore:function(){a.singleton.error.off(this._processErrorCallback),t._disposeCore.apply(this,arguments)},_runDefaultErrorHandler:function(e,t){var i=this._exceptionHandlerMap["core.Exception"];void 0!==i&&(n.new({message:"Failed to handle exception type. Falling back to default Exception handler.",level:o.WARNING,area:"ui.navigation.ExceptionManager._runDefaultErrorHandler",contextualData:{exceptionType:e.exception.typeName,RecoveryState:d.getName(this._recoveryState)}}).logTelemetry(),e.handled=!1!==i(e.exception,t))},_onError:function(e){if(r.new({message:"Handling error with id="+e.exception.id+", message="+e.exception.internalMessage+".",area:"ui.navigation.ExceptionManager._onError",verbosity:o.INFO}).log(),this._recoveryState!==d.GIVE_UP){var t=this,i=!1,n=function(){t._recoveryState===d.NONE?t._recoveryState=d.PENDING:(t._recoveryState=d.GIVE_UP,i=!0,e.exception instanceof c==!1&&e.exception.logErrorGiveUp())},a=this._exceptionHandlerMap[e.exception.typeName];void 0!==a&&(n(),e.handled=!1!==a(e.exception,i)),!0!==e.handled&&(void 0===a&&n(),this._runDefaultErrorHandler(e,i))}}})})})}(),function(){"use strict";define("design/logging/RestartLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("design.logging.RestartLogEntry",t,function(){e.initConstructor(function(){this._type="restart"})})})}(),function(){"use strict";define("design/DesignSettings",["core/oop"],function(e){return e.classDef("design.DesignSettings",Object,function(){e.singleton(function(){}),e.properties({betweenEpisodesCountdownMS:void 0,betweenPlaylistCountdownMS:void 0,showDevExceptions:{defaultValue:!1},environmentSwitching:{defaultValue:!1},linkToParentalControlsSettings:{defaultValue:!0},PC_NOTIFICATION_SHOWN_KEY:{defaultValue:"pcNotificationShown",readOnlyField:!0},WATCHLIST_SORT_ORDER_KEY:{defaultValue:"watchlistSortOrder",readOnlyField:!0},ENVIRONMENT_STORAGE_KEY:{defaultValue:"application.ClientApplication.environment",readOnlyField:!0},KIDSLOCKED_KEY:{defaultValue:"kidsLocked",readOnlyField:!0},INTERACTIVECOACH_KEY:{defaultValue:"interactiveCoach",readOnlyField:!0},COMMERCE_DATA_KEY:{defaultValue:"commerceData",readOnlyField:!0},CHROMECASTCOACH_KEY:{defaultValue:"chromecastCoach",readOnlyField:!0},languageSettingsEnabled:{defaultValue:!1}})})})}(),function(){"use strict"
;define("design/NavigationRouterBase",["core/oop","core/Debug","core/PromiseManager","core/ExceptionRegistry","core/data/CacheManager","dataservices/authentication/AuthenticationManager","dataservices/authentication/PlatformAuthManager","dataservices/ContinueWatchingCache","dataservices/LastPlayedCache","dataservices/WatchlistCache","dataservices/markers/PlaybackMarkerCache","dataservices/markers/SeriesMarkerCache","dataservices/dependent/EnvironmentUtils","dataservices/LocaleOverrideUtils","lib/Promise","platform/StoreWrapper","platform/dependent/Process","platform/dependent/Storage","platform/dependent/User","platform/dependent/graphics/Viewport","ui/views/RootView","ui/navigation/ExceptionManager","ui/navigation/Navigator","ui/Localization","core/Startup","design/logging/RestartLogEntry","application/ClientApplication","application/ClientDevice","design/DesignSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I){return e.classDef("design.NavigationRouterBase",i,function(t){e.constructor(function(){t.$ctor.call(this)}),e.properties({_reactivatedCallback:void 0,_resumedCallback:void 0,_viewportChangedCallback:void 0,_exceptionManagerRestartCallback:void 0,_restrictionsChangedCallback:void 0}),e.methods({start:function(e){var t=this;this._reactivatedCallback=function(){t._reactivate.apply(t,arguments)},this._resumedCallback=function(){t._resume.apply(t,arguments)},this._viewportChangedCallback=function(){t._viewportChanged.apply(t,arguments)},this._exceptionManagerRestartCallback=function(){t._onExceptionManagerRestart.apply(t,arguments)},this._restrictionsChangedCallback=function(){t._restrictionsChanged.apply(t,arguments)},m.singleton.reactivated.on(this._reactivatedCallback),m.singleton.resumed.on(this._resumedCallback),y.singleton.resized.on(this._viewportChangedCallback),b.singleton.restart.on(this._exceptionManagerRestartCallback),_.singleton.restrictionsChanged.on(this._restrictionsChangedCallback),this._activate(e)},restart:function(e,t){this._resetState(e),R.new({area:"design.NavigationRouterBase.restart"}).log(),this._navigateToRestartLocation(t)},switchEnvironment:function(e){if(!1===m.singleton.inAutomation){var t=p.getEnvironmentByName(e);P.singleton.environment=t,v.singleton.writeSync(I.singleton.ENVIRONMENT_STORAGE_KEY,t),r.singleton.reset(),this.restart(!1)}},setLocaleOverride:function(e){if(!1===m.singleton.inAutomation){var t=h.getLocaleOverrideByName(e);E.singleton.configureWithLocale(t),C.singleton.configureWithDeviceLocale(),r.singleton.reset(),this.restart(!1)}},_clearCaches:function(){r.singleton.resetAuthenticationState(),o.singleton.clear(),n.singleton.clear(),s.singleton.clear(),l.singleton.clear(),c.singleton.clear(),d.singleton.clear(),u.singleton.clear(),f.singleton.getStore().clear()},_resetState:function(e){S.singleton.clearState(),!0!==e&&this._clearCaches(),this._cleanupViews(),!0===T.singleton.isRejected()&&(T.singleton.reset(),T.singleton.start())},_cleanupViews:function(){w.singleton.flushViews()},_navigateTo:function(e){S.singleton.navigateTo(e)},_navigateToRestartLocation:function(){},_onExceptionManagerRestart:function(e){this.restart(!1,e)},_disposeCore:function(){void 0!==this._exceptionManagerRestartCallback&&(b.singleton.restart.off(this._exceptionManagerRestartCallback),this._exceptionManagerRestartCallback=void 0),void 0!==this._reactivatedCallback&&(m.singleton.reactivated.off(this._reactivatedCallback),this._reactivatedCallback=void 0),void 0!==this._resumedCallback&&(m.singleton.resumed.off(this._resumedCallback),this._resumedCallback=void 0),void 0!==this._viewportChangedCallback&&(y.singleton.resized.off(this._viewportChangedCallback),this._viewportChangedCallback=void 0),void 0!==this._restrictionsChangedCallback&&(_.singleton.restrictionsChanged.off(this._restrictionsChangedCallback),this._restrictionsChangedCallback=void 0),t._disposeCore.apply(this,arguments)},navigateBack:function(){S.singleton.navigateBack()},navigateToPlayer:function(){},getLoginReturnPath:function(){},navigateToUri:function(){},_navigateToSingleSignOn:function(){},_activate:function(){},_getActivationPath:function(e){return e.path||"/"},_reactivate:function(){r.singleton.reset()},_resume:function(){if(!0===a.singleton.enabled){var e=this;return a.singleton.verifyAuthenticationState(function(){return e._navigateToSingleSignOn(!1),!1}).then(function(t){if(!0===t)return e.restart(!1)})}return g.fulfilled()},_viewportChanged:function(){S.singleton.refresh(!0)},_restrictionsChanged:function(){}})})})}(),function(){"use strict";define("design/CommerceFlow",["core/oop"],function(e){return e.enumDef("design.CommerceFlow",["NONE","GIFTCARD","PROMOTION","PURCHASE"])})}(),function(){"use strict";define("design/CommerceState",["core/oop"],function(e){return e.enumDef("design.CommerceState",["NONE","ENTRY","VALIDATION","REGISTRATION","SIGNIN","AUTHENTICATED","ELIGIBILITY","PAYWALL","PAYMENT","SUBSCRIPTION","ERROR","CONFIRMATION"])})}(),function(){"use strict";define("design/NavigationRouterUrlsBase",["core/oop","application/ClientDevice","design/ScreenUtil","platform/dependent/Process","platform/dependent/graphics/Viewport"],function(e,t,i,n,o){return e.classDef("design.NavigationRouterUrlsBase",Object,function(){e.constructor(function(){this._urlTable=this._collectUrls()}),e.properties({urlTable:{defaultValue:void 0,privateSet:!0},_versionInfoPath:{defaultValue:"/info"}}),e.methods({_collectUrls:function(){return[{url:new RegExp("^/login"),func:this._navigateToLogin},{url:new RegExp("^/affiliateSelection"),func:this._navigateToAffiliateSelection},{url:new RegExp("^/affiliateList"),func:this._navigateToAffiliateList},{url:new RegExp("^/forgotpassword"),func:this._navigateToForgotPassword},{url:new RegExp("^/resetpassword?(.*)postToTokensPayload=(.+)"),func:this._navigateToResetPassword},{url:new RegExp("^/resetpin?(.*)postToTokensPayload=(.+)"),func:this._navigateToResetPin},{url:new RegExp("^/linkaccount"),func:this._navigateToDirectLoginForAccountLinking},{url:new RegExp("^/affiliate/([^?/#]+)"),func:this._navigateToAffiliate},{url:new RegExp("^"+this._versionInfoPath),func:this._navigateToVersionInfo},{url:new RegExp("^/register"),func:this._navigateToRegistration},{url:new RegExp("^/freetrial"),func:this._navigateToFreeTrialRegistration},{url:new RegExp("^/terms"),func:this._navigateToTermsOfService},{url:new RegExp("^/privacy"),func:this._navigateToPrivacyPolicy}]},_navigateToDirectLoginForAccountLinking:function(){return{locationName:"DirectLogin",displayUri:n.singleton.makeFullUri("/login"),additionalActivationArgs:{linkAccounts:!0}}},_navigateToDirectLogin:function(){return{locationName:"DirectLogin",displayUri:n.singleton.makeFullUri("/login")}},_navigateToVersionInfo:function(){return{locationName:"VersionInfo",modelFactoryId:"VersionInfo",modelId:"VersionInfo",uriPath:this._versionInfoPath}},_navigateToLogin:function(){var e=this;return i.singleton.byBrandCall({hbonow:function(){return e._navigateToDirectLogin()},hbogo:function(){return e._navigateToAffiliateSelection()}})},_navigateToAffiliateSelection:function(){var e=o.singleton.naturalWidth,i=o.singleton.naturalHeight;return e>=768&&i>=768||void 0!==t.singleton.model&&-1!==t.singleton.model.toLowerCase().indexOf("ipad")?{locationName:"AffiliateSelection",displayUri:n.singleton.makeFullUri("/affiliateSelection")}:{locationName:"AffiliateList",modelFactoryId:"AffiliateList",modelId:"AffiliateList",displayUri:n.singleton.makeFullUri("/affiliateList")}},_navigateToAffiliateList:function(){return{locationName:"AffiliateList",modelFactoryId:"AffiliateList",modelId:"AffiliateList",displayUri:n.singleton.makeFullUri("/affiliateList")}},_navigateToForgotPassword:function(){return{locationName:"ForgotPassword",displayUri:n.singleton.makeFullUri("/forgotpassword")}},_navigateToResetPassword:function(){return{locationName:"ResetPassword",displayUri:n.singleton.makeFullUri("/resetpassword")}},_navigateToResetPin:function(){return{locationName:"ResetPin",displayUri:n.singleton.makeFullUri("/resetpin")}},_navigateToAffiliate:function(e){return{locationName:"AffiliateLogin",modelFactoryId:"Affiliate",modelId:e}},_navigateToRegistration:function(){return{locationName:"Register",displayUri:n.singleton.makeFullUri("/register")}},_navigateToFreeTrialRegistration:function(e,t){var i=t||{};return i.freeTrial=!0,{locationName:"Register",displayUri:n.singleton.makeFullUri("/register"),additionalActivationArgs:i}},_navigateToPrivacyPolicy:function(){return{locationName:"PrivacyPolicy",modelFactoryId:"PrivacyPolicy",modelId:"PrivacyPolicy",uriPath:"/privacy"}},_navigateToTermsOfService:function(){return{locationName:"TermsOfService",modelFactoryId:"TermsOfService",modelId:"TermsOfService",uriPath:"/terms"}}})})})}(),function(){"use strict";define("dataservices/types/CallToAction",["core/oop"],function(e){return e.classDef("dataservices.types.CallToAction",Object,function(){e.initConstructor(function(){}),e.properties({title:void 0,action:void 0,data:void 0,sku:void 0,skuDescription:void 0,skuPrice:void 0,skuCurrencyCode:void 0,appId:void 0}),e.methods({equals:function(e){return JSON.stringify(this)===JSON.stringify(e)},toJSON:function(){return{title:this.title,action:this.action,data:this.data,sku:this.sku,skuDescription:this.skuDescription,skuPrice:this.skuPrice,skuCurrencyCode:this.skuCurrencyCode,appId:this.appId}}})})})}(),function(){"use strict";define("dataservices/types/PaywallType",["core/oop"],function(e){return e.enumDef("dataservices.types.PaywallType",{UNAUTHENTICATED:"UNAUTHENTICATED",ABANDONER:"ABANDONER",LAPSED:"LAPSED",GIFT_CARD_LAPSED:"GIFT_CARD_LAPSED"})})}(),function(){"use strict";define("design/CommerceWorkflow",["core/oop","application/ClientApplication","core/Debug","core/data/ModelFactory","core/logging/TelegraphEventSubtypes","core/logging/TelegraphEventTypes","core/logging/SimpleLogEntry","design/CommerceFlow","design/CommerceState","design/DesignSettings","dataservices/authentication/AuthenticationManager","dataservices/types/CallToAction","dataservices/types/PaywallType","platform/dependent/Process","platform/dependent/Storage","platform/common/StorageScope","lib/lodash/objects/clone","lib/lodash/objects/merge","lib/Promise"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_){var y=e.enumDef("design.CommerceUserType",{NEW:"new",ABANDONER:"abandoner",LAPSED:"lapsed",GIFT_CARD_LAPSED:"giftCardLapsed",ENTITLED:"entitled"});return e.classDef("design.CommerceWorkflow",Object,function(){e.singleton(function(){this._initializeFromStoredData()}),e.properties({flow:{defaultValue:s.NONE,privateSet:!0},state:{defaultValue:l.NONE,privateSet:!0},purchaseType:{privateSet:!0},configParam:{privateSet:!0},displayUri:{privateSet:!0,defaultValue:"/"},planId:{privateSet:!0},returnPath:{privateSet:!0},giftCardDetails:{privateSet:!0},promotionDetails:{privateSet:!0},entryDetails:{privateSet:!0},registrationDetails:{privateSet:!0},signInDetails:{privateSet:!0},paymentMethodDetails:{privateSet:!0},errorDetails:{privateSet:!0},confirmationDetails:{privateSet:!0},userAuthenticatedImplicitly:{defaultValue:!1,privateSet:!0},commerceSessionId:{privateSet:!0},_lastLogPayload:void 0,_userId:void 0,_userType:void 0,_originalUri:void 0,_referrerUri:void 0,_flowConfig:{defaultValue:{showPlanLandingPage:!0,showSignIn:!1}}}),e.events(["stateChanged"]),e.methods({reset:function(){g.singleton.removeSync(c.singleton.COMMERCE_DATA_KEY,f.SESSION),this._initializeFromStoredData(!0)},startFlow:function(e,i,n,r){this.reset();var a=this;return this._determineInitialState(e,i).then(function(c){var d={flow:e,state:c,configParam:n,displayUri:r,purchaseType:i.purchaseType,planId:i.commercePlanId,returnPath:i.returnPath,registrationDetails:{title:i.registerConfig.title,description:i.registerConfig.description},signInDetails:{title:i.signInConfig.title,description:i.signInConfig.description},paymentMethodDetails:void 0,errorDetails:void 0,confirmationDetails:void 0,userAuthenticatedImplicitly:c===l.AUTHENTICATED};switch(void 0!==i.entryPageConfig?d.entryDetails={title:i.entryPageConfig.title,description:i.entryPageConfig.description,backgroundUrl:i.entryPageConfig.backgroundUrl,terms:i.entryPageConfig.terms,cta:i.entryPageConfig.cta}:e===s.PURCHASE||l.ENTRY,void 0!==i.flowConfig.sessionId?d.commerceSessionId=i.flowConfig.sessionId:d.commerceSessionId=t.singleton.sessionId,d.flowConfig=i.flowConfig,d.originalUri=h.singleton.getReentryUri(),d.referrerUri=h.singleton.referrerUri,e){case s.GIFTCARD:d.giftCardDetails={giftCardCode:i.entryPageConfig.redemptionCode},d.entryDetails.geoUnits=i.entryPageConfig.geoUnits,i.entryPageConfig.geoUnits;break;case s.PROMOTION:d.promotionDetails={promoCode:i.entryPageConfig.redemptionCode}}a._setStoredData(d),a._logCommerceEvent(o.COMMERCE_WORKFLOW_START,{origin:a._flowConfig.origin||""}),e===s.PURCHASE&&c===l.ENTRY?a._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"unauthenticatedPaywallPage"}):a._logPostValidationPage(c)})},startValidation:function(){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION],[l.ENTRY,l.VALIDATION]),this._setStoredData({state:l.VALIDATION})},stopValidation:function(){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION],[l.VALIDATION]),this._setStoredData({state:l.ENTRY})},completeGiftCardValidation:function(e){this._assertCurrentFlowAndState([s.GIFTCARD],[l.VALIDATION]);var t=this;return this._determinePostValidationState(this._flowConfig).then(function(i){t._logPostValidationPage(i),t._setStoredData({giftCardDetails:e,state:i})})},completePromoValidation:function(e){this._assertCurrentFlowAndState([s.PROMOTION],[l.VALIDATION]);var t=this;return this._determinePostValidationState(this._flowConfig).then(function(i){t._logPostValidationPage(i),t._setStoredData({promotionDetails:{promoCode:e},state:i})})},completePurchaseValidation:function(e){this._assertCurrentFlowAndState([s.PURCHASE],[l.ENTRY]);var t=!0===e?"signIn":"startFreeTrial";this._logCommerceEvent(o.COMMERCE_ACTION_CLICKED,{callToAction:t});var i=this;return this._determinePostValidationState(this._flowConfig,e).then(function(e){i._logPostValidationPage(e),i._setStoredData({state:e})})},startAuthentication:function(){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.REGISTRATION,l.SIGNIN]);var e;e=this.state===l.REGISTRATION?"createAccount":"signIn",this._logCommerceEvent(o.COMMERCE_ACTION_CLICKED,{callToAction:e})},processAuthenticationError:function(e){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.REGISTRATION,l.SIGNIN]);var t;t=this.state===l.REGISTRATION?o.COMMERCE_ACCOUNT_CREATION_FAILURE:o.COMMERCE_SIGN_IN_FAILURE,this._logCommerceEvent(t,{error:e})},completeAuthentication:function(){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.REGISTRATION,l.SIGNIN]);var e={state:l.AUTHENTICATED};this.state===l.REGISTRATION&&(e.userType=y.NEW),this._setStoredData(e)},setUserDetails:function(e,t){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.AUTHENTICATED]);var i={state:l.ELIGIBILITY,userId:e};!0===t&&(i.userType=y.ENTITLED,this._userId=e,this._userType=y.ENTITLED,this._logCommerceEvent(o.COMMERCE_USER_AUTHENTICATED)),this._setStoredData(i)},switchToSignIn:function(){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.REGISTRATION]),this._logCommerceEvent(o.COMMERCE_ACTION_CLICKED,{callToAction:"switchToSignIn"}),this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"signInPage"}),this._setStoredData({state:l.SIGNIN})},switchToRegistration:function(){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.SIGNIN]),this._logCommerceEvent(o.COMMERCE_ACTION_CLICKED,{callToAction:"switchToCreateAccount"}),this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"createAccountPage"}),this._setStoredData({state:l.REGISTRATION})},processAffiliateSignIn:function(){return this._assertCurrentFlowAndState([s.PURCHASE],[l.PAYWALL]),this._logCommerceEvent(o.COMMERCE_ACTION_CLICKED,{callToAction:"affiliateSignIn"}),_.delay(300)},completeEligibilityCheck:function(e,t){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.ELIGIBILITY]),this.flow,s.GIFTCARD,s.getName(this.flow),this.flow===s.GIFTCARD||(this.flow,s.PROMOTION),s.getName(this.flow);var i;switch(this.flow){case s.GIFTCARD:i=l.SUBSCRIPTION;break;case s.PROMOTION:i=l.PAYMENT,this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"paymentPage"});break;case s.PURCHASE:void 0===this._userType&&(this._userType=this._determineUserTypeFromPaywallType(t)),this._logCommerceEvent(o.COMMERCE_USER_AUTHENTICATED),this._userType===y.NEW||void 0!==this._flowConfig.paywallsToSkip&&-1!==this._flowConfig.paywallsToSkip.indexOf(t)?(i=l.PAYMENT,this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"paymentPage"})):(this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:this._determinePageNameFromPaywallType(t)}),i=l.PAYWALL)}this._setStoredData({paymentMethodDetails:e,state:i,userType:this._userType})},dismissPaywall:function(){this._assertCurrentFlowAndState([s.PURCHASE],[l.PAYWALL]);var e;e=this._userType===y.ABANDONER?"finishSigningUp":"renewSubscription",this._logCommerceEvent(o.COMMERCE_ACTION_CLICKED,{callToAction:e}),this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"paymentPage"}),this._setStoredData({state:l.PAYMENT})},completePaymentMethodSetup:function(){this._assertCurrentFlowAndState([s.PROMOTION,s.PURCHASE],[l.PAYMENT]),this._logCommerceEvent(o.COMMERCE_PAYMENT_SUCCESS),this._setStoredData({state:l.SUBSCRIPTION})},completeSubscription:function(e){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.SUBSCRIPTION]);var t=this;return this._logCommerceEvent(o.COMMERCE_SUBSCRIPTION_SUCCESS),this._signOut(o.USER_IMPLICIT_LOGOUT,"completeSubscription").then(function(){t._setStoredData({confirmationDetails:e,state:l.CONFIRMATION}),t._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"confirmationPage"})})},processPaymentMethodError:function(e){this._assertCurrentFlowAndState([s.PROMOTION,s.PURCHASE],[l.PAYMENT]),this._logCommerceEvent(o.COMMERCE_PAYMENT_FAILURE,{error:e})},showError:function(e){this._assertCurrentFlowAndState([s.NONE,s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.ELIGIBILITY,l.SUBSCRIPTION]);var t=this;return this.state===l.SUBSCRIPTION&&this._logCommerceEvent(o.COMMERCE_SUBSCRIPTION_FAILURE,{error:e.description}),this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"errorPage",error:e.description}),this._signOut(o.USER_ERROR_LOGOUT,"showError").then(function(){t._setStoredData({errorDetails:e,state:l.ERROR})})},completeFlow:function(){this._assertCurrentFlowAndState([s.GIFTCARD,s.PROMOTION,s.PURCHASE],[l.CONFIRMATION,l.ERROR]);var e;this.state===l.CONFIRMATION&&(e="successConfirmation"),this.state===l.ERROR&&(e="errorConfirmation"),this._logCommerceEvent(o.COMMERCE_ACTION_CLICKED,{callToAction:e})},_initializeLoggerPayload:function(){if(void 0!==this._lastLogPayload)return m(this._lastLogPayload);var e={planId:this.planId,commerceSessionId:this.commerceSessionId,entryUrl:this._originalUri,ref:this._referrerUri};return e.purchaseType="direct",e},_logCommerceEvent:function(e,t){if(this.flow===s.PURCHASE){var i=this._initializeLoggerPayload();void 0!==this._userId&&(i.hurleyId=this._userId),void 0!==this._userType&&(i.userType=this._userType);var n=v(i,t),o={eventType:r.COMMERCE,eventSubtype:e,area:"CommerceWorkflow",payload:n};this._lastLogPayload=n,a.new(o).log()}},_logPostValidationPage:function(e){e===l.SIGNIN?this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"signInPage"}):e===l.REGISTRATION&&this._logCommerceEvent(o.COMMERCE_SCREEN_SHOWN,{pageName:"createAccountPage"})},_assertCurrentFlowAndState:function(e,t){e.indexOf(this.flow);s.getName(this.flow);t.indexOf(this.state);l.getName(this.state)},_getStoredData:function(){var e=g.singleton.readSync(c.singleton.COMMERCE_DATA_KEY,f.SESSION);return void 0!==e&&(e=JSON.parse(e)),e},_setStoredData:function(e){var t=this.state,i=this._getStoredData()||{};Object.keys(e).forEach(function(t){i[t]=m(e[t]),this["_"+t]=i[t]}.bind(this)),g.singleton.writeSync(c.singleton.COMMERCE_DATA_KEY,JSON.stringify(i),f.SESSION),!0===e.hasOwnProperty("state")&&t!==e.state&&this._onStateChanged(this.state,t)},_initializeFromStoredData:function(e){var t=this.state,i=this._getStoredData()||{flow:s.NONE,state:l.NONE};this._flow=i.flow,this._state=i.state,this._configParam=i.configParam,this._displayUri=i.displayUri,this._purchaseType=i.purchaseType,this._planId=i.planId,this._returnPath=i.returnPath,this._flowConfig=i.flowConfig,this._giftCardDetails=i.giftCardDetails,this._promotionDetails=i.promotionDetails,this._registrationDetails=i.registrationDetails,this._signInDetails=i.signInDetails,this._paymentMethodDetails=i.paymentMethodDetails,this._userId=i.userId,this._commerceSessionId=i.commerceSessionId,this._originalUri=i.originalUri,this._referrerUri=i.referrerUri,this._convertCta(i.entryDetails),this._convertCta(i.errorDetails),this._convertCta(i.confirmationDetails),this._entryDetails=i.entryDetails,this._errorDetails=i.errorDetails,this._confirmationDetails=i.confirmationDetails,this._userType=i.userType,!0!==e&&t!==this.state&&this._onStateChanged(this.state,t)},_convertCta:function(e){void 0!==e&&void 0!==e.cta&&(e.cta=u.new(e.cta))},_determineInitialState:function(e,t){var i,n=this;return i=!0===t.flowConfig.signOut?this._signOut(o.USER_IMPLICIT_LOGOUT,"startFlow"):_.fulfilled(),i.then(function(){return e===s.PURCHASE&&!0!==t.flowConfig.showPlanLandingPage?n._determinePostValidationState(t.flowConfig):l.ENTRY})},_determinePageNameFromPaywallType:function(e){switch(e){case p.UNAUTHENTICATED:return"unauthenticatedPaywallPage";case p.ABANDONER:return"abandonerPaywallPage";case p.LAPSED:return"lapsedPaywallPage";case p.GIFT_CARD_LAPSED:return"giftCardLapsedPaywallPage"}},_determineUserTypeFromPaywallType:function(e){switch(e){case p.ABANDONER:return y.ABANDONER;case p.LAPSED:return y.LAPSED;case p.GIFT_CARD_LAPSED:return y.GIFT_CARD_LAPSED}},_determinePostValidationState:function(e,t){return d.singleton.login().then(function(i){return!0===i?l.AUTHENTICATED:!0===e.showSignIn||!0===t?l.SIGNIN:l.REGISTRATION})},_signOut:function(e,t){return d.singleton.login().then(function(i){if(!0===i){return n.singleton.create("User","User").logoutUri.then(function(e){return d.singleton.logout(e)}).then(function(){var i={eventType:r.USER,eventSubtype:e,area:"design.CommerceWorkflow."+t};a.new(i).log()})}})}})})})}(),function(){"use strict";define("design/NavigationRouterUrls",["core/oop","dataservices/authentication/AuthenticationManager","design/CommerceFlow","design/CommerceState","design/NavigationRouterUrlsBase","design/CommerceWorkflow"],function(e,t,i,n,o,r){return e.classDef("design.NavigationRouterUrls",o,function(o){e.constructor(function(){o.$ctor.apply(this,arguments)}),e.methods({_collectUrls:function(){return[{url:new RegExp("^/resetflow"),func:this._resetAndNavigateToHome},{url:new RegExp("^/(?:offers/)?(?:giftcard|gift)(?:/)?(\\?.*)?"),func:this._navigateToGiftCard},{url:new RegExp("^/gcloginbyflow"),func:this._navigateToGiftCardLoginByFlow},{url:new RegExp("^/gclogin"),func:this._navigateToGiftCardLogin},{url:new RegExp("^/promologinbyflow"),func:this._navigateToPromoLoginByFlow},{url:new RegExp("^/promologin"),func:this._navigateToPromoLogin},{url:new RegExp("^/purchaseloginbyflow"),func:this._navigateToPurchaseLoginByFlow},{url:new RegExp("^/purchaselogin"),func:this._navigateToPurchaseLogin},{url:new RegExp("^/gcregisterbyflow"),func:this._navigateToGiftCardRegistrationByFlow},{url:new RegExp("^/gcregister"),func:this._navigateToGiftCardRegistration},{url:new RegExp("^/promoregisterbyflow"),func:this._navigateToPromoRegistrationByFlow},{url:new RegExp("^/promoregister"),func:this._navigateToPromoRegistration},{url:new RegExp("^/purchaseregisterbyflow"),func:this._navigateToPurchaseRegistrationByFlow},{url:new RegExp("^/purchaseregister"),func:this._navigateToPurchaseRegistration},{url:new RegExp("^/offers(/.+)"),func:this._navigateToPromotion},{url:new RegExp("^/processauthentication"),func:this._navigateToPostAuthentication},{url:new RegExp("^/default.html.*"),func:this._navigateToPurchase},{url:new RegExp("^/(\\?.+)"),func:this._navigateToPurchaseWithParam},{url:new RegExp("^/$|^/\\?[^#]+$"),func:this._navigateToPurchase}].concat(o._collectUrls.apply(this,arguments))},_resetAndNavigateToHome:function(){r.singleton.reset();var e=this;return t.singleton.logout().then(function(){return e._navigateToPurchase()})},_navigateToGiftCard:function(e){e=e||"";var t="/gift"+e;return{locationName:"CommerceContainer",displayUri:t,modelFactoryId:"CommerceContainer",modelId:"CommerceContainer",additionalActivationArgs:{pageParams:{displayUri:t,commerceConfigParam:"giftcard/standard"+e,commerceFlow:i.GIFTCARD,commerceState:n.NONE}}}},_navigateToPromotion:function(e){var t="/offers"+e;return{locationName:"CommerceContainer",displayUri:t,modelFactoryId:"CommerceContainer",modelId:"CommerceContainer",additionalActivationArgs:{pageParams:{displayUri:t,commerceConfigParam:"promotions"+e,commerceFlow:i.PROMOTION,commerceState:n.NONE}}}},_navigateToPurchaseWithParam:function(e){var t="/"+e;return{locationName:"CommerceContainer",displayUri:t,modelFactoryId:"CommerceContainer",modelId:"CommerceContainer",additionalActivationArgs:{pageParams:{displayUri:t,commerceConfigParam:"purchases/standard"+e,commerceFlow:i.PURCHASE,commerceState:n.NONE}}}},_navigateToPurchase:function(){return{locationName:"CommerceContainer",displayUri:"/",modelFactoryId:"CommerceContainer",modelId:"CommerceContainer",additionalActivationArgs:{pageParams:{displayUri:"/",commerceConfigParam:"purchases/standard",commerceFlow:i.PURCHASE,commerceState:n.NONE}}}},_navigateToPostAuthentication:function(){return r.singleton.completeAuthentication(),{locationName:"CommerceContainer",displayUri:r.singleton.displayUri,modelFactoryId:"CommerceContainer",modelId:"CommerceContainer",additionalActivationArgs:{pageParams:{commerceState:n.AUTHENTICATED}}}},_navigateToGiftCardLoginByFlow:function(){return{locationName:"DirectLogin",displayUri:r.singleton.displayUri,additionalActivationArgs:{commerceFlow:i.GIFTCARD}}},_navigateToGiftCardLogin:function(){return r.singleton.switchToSignIn(),this._navigateToGiftCardLoginByFlow()},_navigateToPromoLoginByFlow:function(){return{locationName:"DirectLogin",displayUri:r.singleton.displayUri,additionalActivationArgs:{commerceFlow:i.PROMOTION}}},_navigateToPromoLogin:function(){return r.singleton.switchToSignIn(),this._navigateToPromoLoginByFlow()},_navigateToPurchaseLogin:function(){return r.singleton.switchToSignIn(),this._navigateToPurchaseLoginByFlow()},_navigateToPurchaseLoginByFlow:function(){return{locationName:"DirectLogin",displayUri:r.singleton.displayUri,additionalActivationArgs:{commerceFlow:i.PURCHASE}}},_navigateToGiftCardRegistrationByFlow:function(){return{locationName:"Register",displayUri:r.singleton.displayUri,additionalActivationArgs:{commerceFlow:i.GIFTCARD}}},_navigateToGiftCardRegistration:function(){return r.singleton.switchToRegistration(),this._navigateToGiftCardRegistrationByFlow()},_navigateToPromoRegistrationByFlow:function(){return{locationName:"Register",displayUri:r.singleton.displayUri,additionalActivationArgs:{commerceFlow:i.PROMOTION}}},_navigateToPromoRegistration:function(){return r.singleton.switchToRegistration(),this._navigateToPromoRegistrationByFlow()},_navigateToPurchaseRegistrationByFlow:function(){return{locationName:"Register",displayUri:r.singleton.displayUri,additionalActivationArgs:{commerceFlow:i.PURCHASE}}},_navigateToPurchaseRegistration:function(){return r.singleton.switchToRegistration(),this._navigateToPurchaseRegistrationByFlow()}})})})}(),function(){"use strict";define("design/INavigationRouter",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("design.INavigationRouter",t,function(){e.singleton(),e.methods({start:void 0})})})}(),function(){"use strict";define("ui/ILayout",["core/oop"],function(e){return e.interfaceDef("ui.ILayout",void 0,function(){e.methods({run:void 0,getContainerNaturalSize:void 0})})})}(),function(){"use strict";define("ui/Axis",["core/oop"],function(e){return e.enumDef("ui.Axis",["HORIZONTAL","VERTICAL"])})}(),function(){"use strict";define("ui/LayoutBase",["core/oop","ui/ILayout","ui/Axis","ui/DirectionalBooleans","ui/DirectionalNumbers","ui/LayoutProps"],function(e,t,i,n,o,r){var a=e.classDef("ui.LayoutBase",[t,Object],function(){e.staticScope(function(){e.constructor(function(){this._defaultAnchors=this._defaultCropping=n.new({isImmutable:!0}),this._defaultMargins=this._defaultPadding=o.new({isImmutable:!0}),this._defaultProps=r.new({margin:this._defaultMargins,padding:this._defaultPadding,anchor:this._defaultAnchors,crop:this._defaultCropping})}),e.properties({_defaultMargins:void 0,_defaultPadding:void 0,_defaultAnchors:void 0,_defaultCropping:void 0,_defaultProps:void 0})}),e.constructor(function(){}),e.methods({getContainerNaturalSize:function(e,t){var i={width:t.x+t.width,height:t.y+t.height};return this._applyContainerMinMax(e,i)},run:function(e,t,i,n){return t=this._filterItems(t),this._layoutItems(e,t,i,n),this._getBoundingRect(t)},_filterItems:function(e){return e.filter(function(e){return void 0!==e})},_layoutItems:function(e,t,i,n){},_anchorItem:function(e,t,n,o){var s,l,c,d,u=r.new(a._defaultProps,o,t.layoutProps),p=u.anchor,h=u.margin,g=e.width,f=e.height,m=!0;return n!==i.VERTICAL&&(!0===p.left&&!0===p.right?(s=e.x+h.left,c=g-h.left-h.right,void 0!==u.maxWidth&&(c=Math.min(c,u.maxWidth)),c=Math.max(c,u.minWidth)):void 0!==t.width?s=!0===p.left?e.x+h.left:!0===p.right?e.x+g-h.right-t.width:e.x+h.left+(g-(h.left+t.width+h.right))/2:m=!1),n!==i.HORIZONTAL&&(!0===p.top&&!0===p.bottom?(l=e.y+h.top,d=f-h.top-h.bottom,void 0!==u.maxHeight&&(d=Math.min(d,u.maxHeight)),d=Math.max(d,u.minHeight)):void 0!==t.height?l=!0===p.top?e.y+h.top:!0===p.bottom?e.y+f-h.bottom-t.height:e.y+h.top+(f-(h.top+t.height+h.bottom))/2:m=!1),!0===m&&(void 0!==s&&(t.x=s),void 0!==l&&(t.y=l)),t._setLayoutSize(c,d),u},_getBoundingRect:function(e){var t=e.map(function(e){var t=r.new(e.layoutProps),i=t.margin||a._defaultMargins;return{left:e.x-i.left,top:e.y-i.top,right:e.x+(e.width||0)+i.right,bottom:e.y+(e.height||0)+i.bottom}}),i=t.shift()||{left:0,top:0,right:0,bottom:0};return t.forEach(function(e){i.left=Math.min(e.left,i.left),i.top=Math.min(e.top,i.top),i.right=Math.max(e.right,i.right),i.bottom=Math.max(e.bottom,i.bottom)}),{x:i.left,y:i.top,width:i.right-i.left,height:i.bottom-i.top}},_getMaxItemSize:function(e){var t={width:0,height:0};return e.forEach(function(e){var i=r.new(e.layoutProps),n=i.margin||a._defaultMargins,o=n.left+(e.width||0)+n.right,s=n.top+(e.height||0)+n.bottom;t.width=Math.max(t.width,o),t.height=Math.max(t.height,s)}),t},_applyContainerMinMax:function(e,t){var i=e&&e.layoutProps||a._defaultProps,n=Math.max(i.minWidth,t.width),o=Math.max(i.minHeight,t.height);return void 0!==i.maxWidth&&(n=Math.min(n,i.maxWidth)),void 0!==i.maxHeight&&(o=Math.min(o,i.maxHeight)),{width:n,height:o}}})});return a})}(),function(){"use strict";define("ui/AbsoluteLayout",["core/oop","ui/LayoutBase"],function(e,t){return e.classDef("ui.AbsoluteLayout",[t],function(){e.initConstructor(),e.methods({_layoutItems:function(e,t,i,n){}})})})}(),function(){"use strict";define("ui/views/CompositeView",["core/oop","core/Debug","core/Lifecycleable","lib/Promise","ui/AfterExitActions","ui/AbsoluteLayout","ui/views/View","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r,a,s){return e.classDef("ui.views.CompositeView",a,function(t){e.constructor(function(){this._subViews={},this._activeSubViews={},this._subViewRegistrationOrders={},t.$ctor.apply(this,arguments),this._childReactComponentId;var e=this;this._forEachRegistration(function(t){t.name,e._subViewRegistrationOrders[t.name]=t.order}),this._layoutRequestedCallback=function(){e._layoutActiveSubViews()},this._ensureSubViewsReady()}),e.properties({
stateArgs:{get:function(){return this._createStateArgs()},set:function(e){this._stateArgs=e,this._setLocalStateArgs(e)}},_stateArgs:void 0,subViewRegistrations:void 0,containerViewRegistration:void 0,forwardOwnershipForSubViews:{defaultValue:!1},computeChildA11yText:{defaultValue:!1},analyticsViewName:void 0,_subViews:void 0,_activeSubViews:void 0,_containerSubView:void 0,_subViewModelsSet:{defaultValue:!1},_subViewRegistrationOrders:void 0,_defaultFocusSubView:{defaultValue:void 0,onChange:function(e,t){var i=void 0===t||!0===t.hasFocusWithin;!0===i&&void 0!==e&&!0===this.hasFocusWithin&&!1===e.hasFocusWithin?e.focus():!0===i&&void 0!==t&&void 0===e&&this.focus()}},runsLayout:{get:function(){return!1}},_layoutRequestedCallback:void 0,updateFocusOnPointerDown:{defaultValue:!1}}),e.methods({_raisePointerDown:function(e){if(t._raisePointerDown.apply(this,arguments),!0===this.updateFocusOnPointerDown){var i=e.inputScope;i&&void 0!==i.hoverView&&i.hoverView.focus()}},focus:function(){void 0!==this._defaultFocusSubView?this._defaultFocusSubView.focus():t.focus.apply(this,arguments)},refreshStyles:function(){t.refreshStyles.apply(this,arguments),this._layoutActiveSubViews()},enumerateLogicalChildren:function(e){var t=this;this._forEachRegistration(function(i){var n=t._subViews[i.name];void 0!==n&&e(n)})},updateOwner:function(e){if(t.updateOwner.apply(this,arguments),!0===this.forwardOwnershipForSubViews){var i=this;this._forEachRegistration(function(t){var n=i._subViews[t.name];void 0!==n&&n.updateOwner(e)})}},reattachSubViews:function(e){var t=this;this._forEachRegistration(function(i){var n=t._subViews[i.name];void 0!==n&&i.attachView(e,n)})},_ensureActiveSubViewsCreated:function(){var e=this,t=this._determineOwnerForSubViewRegistrations();this._forEachRegistration(function(i){if(void 0===e._subViews[i.name]&&(!1===i.isActiveFromOwner||!0===i.isActiveView(t,void 0))){var n=i.createView(t,e._getStateArgs(i.name));e._subViews[i.name]=n,i===e.containerViewRegistration&&(e._containerSubView=n),i.attachView(t,n)}})},_deactivateSubView:function(e){void 0===this._containerSubView||this._containerSubView.name;var t=this._subViews[e];void 0!==t&&(delete this._subViews[e],delete this._activeSubViews[e],t.exit(o.DEACTIVATE))},_getStateArgs:function(e){return void 0===this._stateArgs?{}:this._stateArgs[e]||{}},_prepareSubViewModels:function(){return n.fulfilled()},_ensureSubViewModels:function(){var e=this,t=this._determineOwnerForSubViewRegistrations(),i=t.viewModel,o=i?i.dataModel:t.dataModel,r=[];return this._forEachRegistration(function(n){var a=e._subViews[n.name];if(void 0!==a&&(!0!==e._subViewModelsSet||!0===n.getModelFromOwner||!0===n.getViewModelFromOwner||void 0!==n.getModel||void 0!==n.getViewModel||void 0===a.viewModel)){var s=n.setViewModel(t,a,o,i);void 0!==s&&r.push(s)}}),n.all(r)},_updateActiveSubViews:function(){var e=this,t=this._determineOwnerForSubViewRegistrations(),i=!1;this._forEachRegistration(function(n){var o=e._subViews[n.name];void 0===o&&!0===n.isActiveFromOwner&&!0===n.isActiveView(t,void 0)&&e._ensureSubViewsReady();var r=void 0!==o&&!0===n.isActiveView(t,o);!0===r&&void 0===e._activeSubViews[n.name]?(o.layoutRequested.on(e._layoutRequestedCallback),e._activeSubViews[n.name]=o):!1===r&&void 0!==e._activeSubViews[n.name]&&(!0===o.hasFocusWithin&&(i=!0),o.layoutRequested.off(e._layoutRequestedCallback),e._activeSubViews[n.name]=void 0)}),!0===i&&(this._defaultFocusSubView=void 0)},_getDefaultFocusSubView:function(){var e,t=this;return this._forEachRegistration(function(i){var n=t._activeSubViews[i.name];(void 0===e&&!0===i.isDefaultFocus||void 0!==n&&!0===n.isDefaultFocus)&&(e=n)}),e},_onViewModelChanged:function(){t._onViewModelChanged.apply(this,arguments),this._subViewModelsSet=!1,this._ensureSubViewsReady()},_getUserInteractionContext:function(){var e=void 0===this.analyticsViewName?void 0:this._subViews[this.analyticsViewName];return void 0!==e?e._getUserInteractionContext():t._getUserInteractionContext.apply(this,arguments)},_onSubViewsReady:function(){},_onSubViewsVisible:function(){},_raiseSizeChanged:function(){t._raiseSizeChanged.apply(this,arguments),!0===this.isReady&&this._layoutActiveSubViews()},_ensureSubViewsReady:function(){var e=this;!1!==e.isInitialized&&e.runUntilDisposed("_ensureSubViewsReady",function(){return e._ensureActiveSubViewsCreated(),e._prepareSubViewModels().then(function(){return e._ensureSubViewModels()}).then(function(e){e.forEach(function(e){e()})}).then(function(){return e._prepareUpdateActiveSubViews()}).then(function(){e._updateActiveSubViews()}).then(function(){return e._getActiveSubViewsReadyPromise()}).then(function(){e._subViewModelsSet=!0,e._onSubViewsReady(),e._layoutActiveSubViews(),e._ensureActiveSubViewsVisible(),e._onSubViewsVisible(),e._defaultFocusSubView=e._getDefaultFocusSubView(),e._fulfillReadyPromise()})})},_forEachActiveSubView:function(e){var t=this._activeSubViews||{};this._forEachRegistration(function(i){var n=t[i.name];void 0!==n&&e(n,i.name)})},_forEachRegistration:function(e){void 0!==this.containerViewRegistration&&e(this.containerViewRegistration),this.subViewRegistrations.forEach(e)},_prepareUpdateActiveSubViews:function(){return n.fulfilled()},_getActiveSubViewsReadyPromise:function(){var e=[];return this._forEachActiveSubView(function(t){e.push(t.afterReady)}),n.all(e)},_layoutActiveSubViews:function(){var e=[],t=this;this._forEachActiveSubView(function(i){i!==t._containerSubView&&e.push(i)});var i=this.layout||r.new(),n={width:this._explicitWidth,height:this._explicitHeight},o=i.run(this,e,n);void 0!==this._containerSubView&&(o={x:0,y:0,width:this._containerSubView.width,height:this._containerSubView.height});var a=i.getContainerNaturalSize(this,o);this._setNaturalSize(a.width,a.height)},_ensureActiveSubViewsVisible:function(){var e=void 0!==this.containerViewRegistration?this._containerSubView:this;if(void 0!==e){var t=this;s(this._subViews,function(i,n){var o=void 0!==t._activeSubViews[n];if(void 0!==i.parent)o?i.show():i.hide();else if(o)if(i===t._containerSubView)t.children.add(i);else{var r,a=t._subViewRegistrationOrders;if(void 0===a[n])r=e.children.length;else{for(r=e.children.length-1;r>=0;r--){var s=e.children.getAt(r);if(a[s.name]<=a[n]){r+=1;break}}r=Math.min(e.children.length,Math.max(0,r))}e.children.insertAt(r,i)}})}},_ensureSubViewsDeactivated:function(){var e=this;s(this._subViews,function(t,i){void 0===t.parent&&t.deactivate(),void 0!==e._activeSubViews[i]&&t.layoutRequested.off(e._layoutRequestedCallback)}),this._subViews=void 0,this._activeSubViews=void 0,this._layoutRequestedCallback=void 0},_onLifecycleStateChanged:function(e,n){e===i.LifecycleStates.DEACTIVATED&&this._ensureSubViewsDeactivated(),t._onLifecycleStateChanged.call(this,e,n)},_createStateArgs:function(){var e=this._getLocalStateArgs();return this._forEachActiveSubView(function(t,i){e[i]=t.stateArgs}),e},_getLocalStateArgs:function(){return{}},_setLocalStateArgs:function(){},_determineOwnerForSubViewRegistrations:function(){return!0===this.forwardOwnershipForSubViews?this.registeredOwner:this},_getAccessibilityTextImpl:function(){if(!0===this.computeChildA11yText){var e=[];return this.children.forEach(function(t){var i=t.getAccessibilityText();void 0!==i&&e.push(i)}),e.length>0?e.join(". "):void 0}}})})})}(),function(){"use strict";define("design/views/PopupViewBase",["core/oop","core/Lifecycleable","platform/dependent/Process","platform/input/Buttons","ui/views/CompositeView"],function(e,t,i,n,o){return e.classDef("design.views.PopupViewBase",o,function(o){e.constructor(function(){this.isInputScope=!0,o.$ctor.apply(this,arguments)}),e.properties({lightDismissable:{defaultValue:!0},preventsApplicationExit:{defaultValue:!0},_keepAliveToken:void 0}),e.events(["lightDismissed"]),e.methods({close:function(){void 0!==this._keepAliveToken&&(this._keepAliveToken(),this._keepAliveToken=void 0)},_onLifecycleStateChanged:function(e){e===t.LifecycleStates.ACTIVATED&&!0===this.preventsApplicationExit&&void 0===this._keepAliveToken&&(this._keepAliveToken=i.singleton.getApplicationKeepAlive()),o._onLifecycleStateChanged.apply(this,arguments)},_onButtonReleased:function(e){o._onButtonReleased.apply(this,arguments),e.button!==n.ESCAPE&&e.button!==n.CANCEL||(this._lightDismiss(),e.handled=!0)},_lightDismiss:function(){!0===this.lightDismissable&&(this.close(),this._onLightDismissed())}})})})}(),function(){"use strict";define("design/views/PopupView",["core/oop","core/Lifecycleable","design/views/PopupViewBase","ui/views/RootView","ui/AfterExitActions"],function(e,t,i,n,o){return e.classDef("design.views.PopupView",i,function(i){e.constructor(function(){this.isReadyInit=!0,i.$ctor.apply(this,arguments)}),e.properties({isPersistent:{defaultValue:!1},_previouslyOpened:{defaultValue:!1},_oldCanScrollVertical:void 0,_oldCanScrollHorizontal:void 0,_oldShowScrollbar:void 0,isOpen:{defaultValue:!1,privateSet:!0},_readyToOpen:{defaultValue:!0,onChange:"_readyToOpenChanged"},_waitingToOpen:{defaultValue:!1}}),e.events(["opened","closed","okClicked"]),e.methods({open:function(){!1===this._readyToOpen?this._waitingToOpen=!0:!1===this.isOpen&&(this._isOpen=!0,n.singleton.layers.popup.children.add(this),!0===this.isPersistent&&(this.hide(),this.enter(),this.refreshStyles()),this.focus(),this._onOpened())},_readyToOpenChanged:function(e){!0===e&&this._waitingToOpen&&(this._waitingToOpen=!1,this.open())},close:function(){i.close.apply(this,arguments),!0===this.isOpen&&(this._isOpen=!1,!0===this.isPersistent?this.hide():this.exit(o.DEACTIVATE),this._onClosed())},_attachClose:function(e){this.hookUntilDisposed(e,"invoked",this._closeInvoked.bind(this))},_closeInvoked:function(e){e.handled=!0,this.close()},ok:function(){this.close(),this._onOkClicked()},_attachOkClicked:function(e){this.hookUntilDisposed(e,"invoked",this._okClickedInvoked.bind(this))},_okClickedInvoked:function(e){e.handled=!0,this.ok()},_onIsVisibleChanged:function(e){i._onIsVisibleChanged.apply(this,arguments),!1===e&&n.singleton.layers.popup.children.remove(this)},_onLifecycleStateChanged:function(e,n){e===t.LifecycleStates.DEACTIVATED&&!0===this._isOpen&&this.close(),i._onLifecycleStateChanged.call(this,e,n)},enter:function(){!0===this.isPersistent&&!1===this._isOpen?this.hide():i.enter.apply(this,arguments)}})})})}(),function(){"use strict";define("design/PopupManager",["core/oop","core/Debug","core/Lifecycleable","ui/TemplateManager","ui/ViewFactory","design/ScreenUtil","design/views/PopupView","ui/views/RootView"],function(e,t,i,n,o,r,a,s){return e.classDef("design.PopupManager",Object,function(){e.singleton(function(){this._persistedPopupsByName={},this._persistedPopupNamesById={},this._scopeConfigStack=[],this._popupOpenedCallback=this._popupOpenedHandler.bind(this),this._popupClosedCallback=this._popupClosedHandler.bind(this),this._deactivatedCallbacksById={}}),e.properties({_persistedPopupsByName:void 0,_persistedPopupNamesById:void 0,_scopeConfigStack:void 0,_popupClosedCallback:void 0,_popupOpenedCallback:void 0,_deactivatedCallbacksById:void 0,_interactivityBlockingView:void 0}),e.methods({openPopup:function(e,t,i){!0!==i&&this._closeExistingPopups();var n=o.singleton.create(e,t);return this._watchForInputScope(n),n.open(),n},blockInteractivity:function(e){var t=e||"InteractivityBlockingView";r.singleton.byDesignCall({mobile:function(){this._interactivityBlockingView;var e=n.singleton.getTemplate(t);this._interactivityBlockingView=this.openPopup(e,void 0,!0)}.bind(this),desktop:function(){}})},unblockInteractivity:function(){r.singleton.byDesignCall({mobile:function(){void 0!==this._interactivityBlockingView&&(this._interactivityBlockingView.close(),this._interactivityBlockingView=void 0)}.bind(this),desktop:function(){}})},_closeExistingPopups:function(){for(var e=s.singleton.layers.popup.children,t=0;t<e.length;t++){var i=e.getAt(t);i instanceof a&&i.close()}},_watchForInputScope:function(e){e.opened.on(this._popupOpenedCallback),e.closed.on(this._popupClosedCallback);var t=this._handleDeactivate.bind(this,e);this._deactivatedCallbacksById[e.disposableId]=t,e.lifecycleStateChanged.on(t)},_popupOpenedHandler:function(){this._scopeConfigStack.push({canScrollVertically:s.singleton.canScrollVertically,canScrollHorizontally:s.singleton.canScrollHorizontally,showScrollbar:s.singleton.showScrollbar,isFixedInViewport:s.singleton.isFixedInViewport}),s.singleton.canScrollVertically=!1,s.singleton.canScrollHorizontally=!1,s.singleton.showScrollbar=!1,s.singleton.isFixedInViewport=!0},_popupClosedHandler:function(){var e=this._scopeConfigStack.pop();s.singleton.showScrollbar=e.showScrollbar,s.singleton.canScrollVertically=e.canScrollVertically,s.singleton.canScrollHorizontally=e.canScrollHorizontally,s.singleton.isFixedInViewport=e.isFixedInViewport},getPersistentPopup:function(e){return this._persistedPopupsByName[e]},createPersistentPopup:function(e){if(this.getPersistentPopup(e),void 0===this.getPersistentPopup(e)){var t=n.singleton.getTemplate(e),i=o.singleton.create(t,{isPersistent:!0});this._watchForInputScope(i),this._persistedPopupsByName[e]=i,this._persistedPopupNamesById[i.disposableId]=e,this._preloadPopup(i)}return this.getPersistentPopup(e)},disposePersistentPopups:function(){var e=this;Object.keys(this._persistedPopupsByName).forEach(function(t){e._persistedPopupsByName[t].dispose()})},_preloadPopup:function(e){e.open(),e.isVisible=!1,e.close()},_handleDeactivate:function(e,t){if(t===i.LifecycleStates.DEACTIVATED){e.opened.off(this._popupOpenedCallback),e.closed.off(this._popupClosedCallback);var n=e.disposableId,o=this._deactivatedCallbacksById[n];if(e.lifecycleStateChanged.off(o),delete this._deactivatedCallbacksById[n],!0===e.isPersistent){var r=this._persistedPopupNamesById[n];delete this._persistedPopupNamesById[n],delete this._persistedPopupsByName[r]}}}})})})}(),function(){"use strict";define("ui/ViewModelFactory",["core/oop","core/Debug","core/Factory","ui/Localization","ui/viewModelProviders/ValueProvider","core/data/ExplicitValueProvider"],function(e,t,i,n,o,r){var a=e.classDef("ui.ViewModelFactory",i,function(t){e.singleton(function(){}),e.staticScope(function(){e.methods({implementMapping:function(e,t){return function(){return void 0===t?this._dataModel[e]:this._dataModel[e].then(function(e){return a.singleton.create(t,e)})}},addSimpleFactoryMapping:function(e,t,i,n,o){e[t]=a._makeSimpleFactoryMethod(t,i,n,o)},addFactoryMappingWithDataModel:function(e,t,i,n,o,r){e[i]=function(){return a._makeSimpleFactoryMethod(i,n,o,r)(t)}},_makeSimpleFactoryMethod:function(e,t,i,n){return function(e){var o=("object"===t||"arguments"===t||"string"===t&&"string"==typeof e||"array"===t&&!0===Array.isArray(e)||e.implementsInterface(t),"arguments"===t?arguments:[e]);return void 0!==n&&(o=o.concat(n)),i.new.apply(i,o)}}})}),e.methods({_createInternal:function(e){var i=t._createInternal.apply(this,arguments);if(void 0===i){var a=n.singleton.getResource(e);if(void 0!==a){var s=r.new(e);s.initialize({value:a}),i=o.new(s,"value"),i.factoryId=e}}return i}})});return a})}(),function(){"use strict";define("design/KidsLockActions",["core/oop"],function(e){return e.enumDef("design.KidsLockActions",["NONE","CAN_LOCK","CAN_UNLOCK"])})}(),function(){"use strict";define("design/UserSettings",["core/oop"],function(e){return e.classDef("design.UserSettings",Object,function(){e.singleton(function(){}),e.properties({PIN:void 0})})})}(),function(){"use strict";define("design/PINHelper",["core/oop","lib/Promise","design/PopupManager","ui/TemplateManager","ui/ViewModelFactory","design/UserSettings"],function(e,t,i,n,o,r){return e.classDef("design.PINHelper",Object,function(){e.constructor(function(){}),e.properties({_closedCallback:void 0,_PINDialog:void 0,_resolver:void 0}),e.methods({openPINDialog:function(e,a){var s=this;return this.closePINDialog(),this._resolver=t.pending(),t.props({hasSetPin:e.hasSetPin,emailAddress:e.emailAddress}).then(function(e){var t;t=!0===e.hasSetPin?!0===a?"ChangePINDialog":"EnterPINDialog":"CreatePINDialog";var l=n.singleton.getTemplate("PINDialogView"),c={viewModel:o.singleton.create(t)};return s._PINDialog=i.singleton.openPopup(l,c),s._closedCallback=s._onClosed.bind(s),s._PINDialog.closed.on(s._closedCallback),s._PINDialog.emailAddressForPIN=e.emailAddress&&e.emailAddress.length>0?e.emailAddress:void 0,void 0!==a&&void 0!==r.singleton.PIN&&(s._PINDialog.currentPIN=r.singleton.PIN),s._resolver.promise})},closePINDialog:function(){void 0!==this._PINDialog&&(this._PINDialog.closed.off(this._closedCallback),this._closedCallback=void 0,this._PINDialog.close(),this._PINDialog=void 0)},_onClosed:function(){var e=this._PINDialog.currentPIN;this.closePINDialog(),r.singleton.PIN=e,this._resolver.resolve(e)}})})})}(),function(){"use strict";define("design/KidsLock",["core/oop","core/Debug","lib/Promise","core/Exception","core/PromiseManager","core/data/ModelFactory","core/logging/Levels","platform/dependent/Storage","platform/dependent/Process","platform/dependent/NativeDialogType","ui/navigation/Navigator","ui/Localization","ui/ViewModelFactory","design/KidsLockActions","dataservices/authentication/AuthenticationManager","design/PINHelper","design/ScreenUtil","design/DesignSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("design.KidsLock",o,function(t){e.singleton(function(){var e=v.singleton.KIDSLOCKED_KEY,i=s.singleton.readSync(e);this._locked="locked"===i,this._onIsAuthenticatedChangedCallback=this._onIsAuthenticatedChanged.bind(this),g.singleton.isAuthenticatedChanged.on(this._onIsAuthenticatedChangedCallback),this._onNavigatedCallback=this._onNavigated.bind(this),d.singleton.navigated.on(this._onNavigatedCallback),this._PINHelper=f.new(),t.$ctor.call(this)}),e.properties({locked:{privateSet:!0,onChange:function(e){var t=v.singleton.KIDSLOCKED_KEY,i=e?"locked":"unlocked";s.singleton.writeSync(t,i),this._onKidsLockedChanged()}},_onIsAuthenticatedChangedCallback:void 0,_onNavigatedCallback:void 0,_onInformationalDialogPopupClosedCallback:void 0,_inLockOrUnlock:{defaultValue:!1},_PINHelper:void 0}),e.events(["kidsLockedChanged"]),e.methods({getAvailableAction:function(){var e=this,t=d.singleton.getActiveViewHost();return m.singleton.byDesign({desktop:i.fulfilled(h.NONE),daydream:i.fulfilled(h.NONE),mobile:i.props({auth:g.singleton.login(),kids:e.isShowingKidsLockableContent(t),isSubAccount:e._isSubAccount()}).then(function(i){if(void 0!==t&&!0===e._shouldAppearForViewHostFactoryId(t.factoryId)){if(!0===e._locked)return h.CAN_UNLOCK;if(!0!==i.isSubAccount&&!0===i.auth&&!0===i.kids)return h.CAN_LOCK}return h.NONE})})},_shouldAppearForViewHostFactoryId:function(e){return-1===["Environment","VersionInfo","Menu","ParentalControls","Player","PrivacyPolicy","Profile","Ratings","TermsOfService","BillingInfo","VideoPlayback","Watchlist","Notifications","LocaleOverride"].indexOf(e)},_shouldNotAppearForViewHostFactoryId:function(e){return-1!==["Search"].indexOf(e)},lock:function(){this._locked,!0!==this._inLockOrUnlock&&this._doLockOrUnlock(!0)},unlock:function(){this._locked,!0!==this._inLockOrUnlock&&this._doLockOrUnlock(!1)},isShowingKidsLockableContent:function(e){var t=this;return void 0!==e?i.fulfilled().then(function(){var t=e.dataModel;if(void 0!==t)return i.props({showAdvisory:t.showPCAdvisory,isKids:t.isKids}).then(function(e){return!0===e.showAdvisory||!0===e.isKids})}).then(function(i){if(!0===i)return!0;var n=d.singleton.getHistory();if(n.length>1&&!1===t._shouldNotAppearForViewHostFactoryId(e.factoryId)){var o=n.getAt(n.length-2),r=o.getStateArgs();return void 0!==r&&!0===r.isKidsContent}return!1}):i.fulfilled(!1)},_doLockOrUnlock:function(e){this._inLockOrUnlock=!0;var t=this,o={};this.runUntilDisposed("KidsLock._doLockOrUnlock",function(){return t._userHasPIN().then(function(n){return o.userHasPIN=n,!0===e?!0===n?t._openConfirmationDialog():t._openPINDialog():!0===n?t._openPINDialog():i.fulfilled("0000")}).then(function(i){var n=!1;if(!0===e)if(!0===o.userHasPIN){var r=i.result;!0===r&&(t._locked=!0)}else void 0!==i&&(t._doLockOrUnlock(!0),n=!0);else void 0!==i&&(t._locked=!1);!0!==n&&(t._inLockOrUnlock=!1)}).catch(function(e){t._closePINDialog(),n.wrap(e,{message:"KidsLock promise chain rejected",level:a.WARNING,area:"KidsLock._doLockOrUnlock"}).logTelemetry(),t._inLockOrUnlock=!1})},{waitsForUserInteraction:!0})},_onNavigated:function(){this._onKidsLockedChanged()},_onIsAuthenticatedChanged:function(){this._onKidsLockedChanged()},_userHasPIN:function(){return r.singleton.create("User","User").hasSetPin},_isSubAccount:function(){return r.singleton.create("User","User").isSubAccount},_openConfirmationDialog:function(){return this._openNativeDialog(c.CONFIRMATION,"ResKidsLockConfirmTitle","ResKidsLockConfirmMessage","ResKidsLockConfirmButtonText","ResCancel")},_openNativeDialog:function(e,t,i,n,o){var r=u.singleton.getResource(t),a=u.singleton.getResource(i),s=u.singleton.getResource(n),c=u.singleton.getResource(o);return l.singleton.openNativeDialog(e,r,a,s,c)},_openPINDialog:function(){var e=p.singleton.create("ProfileVM");return this._PINHelper.openPINDialog(e)},_closePINDialog:function(){this._PINHelper.closePINDialog()}})})})}(),function(){"use strict";define("design/VRModeSwitchContext",["core/oop"],function(e){return e.enumDef("design.VRModeSwitchContext",["AUTHENTICATED_FROM_LOGIN"])})}(),function(){"use strict";define("design/VRModeSwitcher",["core/oop","core/Debug","lib/Promise","core/data/ModelFactory","design/ScreenUtil","design/VRModeSwitchContext","platform/dependent/Process","platform/dependent/NativeDialogType","ui/Localization"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.VRModeSwitcher",Object,function(){e.singleton(function(){}),e.properties({isInVRMode:{get:function(){return a.singleton.isVRModeEnabled}}}),e.events(["switched"]),e.methods({enter2DMode:function(e){this.isInVRMode;var t=a.singleton.setVRModeEnabled(!1);return!0===t&&(e(),this._onSwitched()),i.fulfilled(t)},enterVRMode:function(e,t){var n;this.isInVRMode;switch(t){case r.AUTHENTICATED_FROM_LOGIN:n=this._openLoginSuccessDialog();break;default:n=i.fulfilled(!0)}return n.then(function(){return a.singleton.setVRModeEnabled(!0),e(),this._onSwitched(),i.fulfilled(!0)}.bind(this))},_openLoginSuccessDialog:function(){var e=i.fulfilled(),t=l.singleton.getResource("BackToVRAllDone"),r=l.singleton.getResource("BackToVRSignedIn"),c=l.singleton.getResource("BackToVRReturn"),d=n.singleton.create("User","User");return o.singleton.byBrandCall({hbonow:function(){e=d.firstName.then(function(e){e&&(r=l.singleton.getResource("BackToVRSignedInNow",{firstName:e}))})}}),e.then(function(){return a.singleton.openNativeDialog(s.ALERT,t,r,c,"")})}})})})}(),function(){"use strict";define("dataservices/activation/AuthenticationStatus",["core/oop"],function(e){return e.enumDef("dataservices.activation.AuthenticationStatus",["PINREQUIRED","NOTPAIRED","PAIRED","SUCCESS","NEEDS_REGISTRATION","NEEDS_VERIFICATION","NEEDS_SUBSCRIPTION","FAILED"])})}(),function(){"use strict";define("dataservices/logging/SignInLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("dataservices.logging.SignInLogEntry",t,function(){e.initConstructor(function(){this._type="signin"})})})}(),function(){"use strict";define("dataservices/types/NextStepType",["core/oop"],function(e){return e.enumDef("dataservices.types.NextStepType",["NONE","UNSUPPORTED","SHOW_MESSAGE","SHOW_OPTIONS","PERFORM_ACTION"])})}(),function(){"use strict";define("dataservices/types/NextSteps",["core/oop","dataservices/types/CallToAction","dataservices/types/NextStepType","core/Debug"],function(e,t,i,n){return e.classDef("dataservices.types.NextSteps",Object,function(){e.singleton(function(){}),e.properties({_data:void 0,step:{get:function(){return this._getStepType()}},automaticAction:{get:function(){return this._getAutomaticAction()}},productLogoImageUrl:{get:function(){return this._data.getString(["productLogoImageUrl"])}},greetingMessage:{get:function(){return this._data.getString(["greetingMessage"])}},headlineMessage:{get:function(){return this._data.getString(["headlineMessage"])}},bodyMessage:{get:function(){return this._data.getString(["bodyMessage"])}},callToActionButton:{get:function(){return this._data.getChunk(["callToActionButton"])}},footerMessage:{get:function(){return this._data.getString(["footerMessage"])}},paywall:{get:function(){return this._data.getChunk(["paywallDataFromBilling"])}}}),e.methods({clearData:function(){this._data=void 0},hasData:function(){return void 0!==this._data},setData:function(e){this._data=e},_getStepType:function(){if(!this.hasData())return i.NONE;var e=this._data.getString(["nextStepsPayloadType"]);if(void 0===e)return i.NONE;var t={"client.automaticAction":i.PERFORM_ACTION,"client.nextStepsUserMessage":i.SHOW_MESSAGE,"client.nextStepsPaywallFromBilling":i.SHOW_OPTIONS},n=t[e]||i.UNSUPPORTED;return i.UNSUPPORTED,n},_getAutomaticAction:function(){var e=this._data.getChunk(["automaticAction"]);return t.new({title:"AUTOMATIC_ACTION_SHOULD_NOT_BE_VISIBLE",action:e.getString(["actionHandler"]),data:e.getChunk(["actionData"]).rawJson})}})})})}(),function(){"use strict";define("core/extend",[],function(){return function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}})}(),function(){"use strict";define("platform/common/PaywallConfirmation",["core/oop"],function(e){return e.enumDef("platform.common.PaywallConfirmation",["IN_APP_PURCHASE","REGISTER","LOGIN"])})}(),function(){"use strict";define("platform/common/ChromecastApplicationStatus",["core/oop"],function(e){return e.classDef("platform.common.ChromecastApplicationStatus",Object,function(){e.initConstructor(),e.properties({device:void 0,volume:void 0,cutId:void 0,duration:void 0,title:void 0,closedCaptionsAvailable:void 0,imageUrl:void 0,season:void 0,episode:void 0})})})}(),function(){"use strict";define("platform/common/NetworkConnectionState",["core/oop"],function(e){return e.enumDef("platform.common.NetworkConnectionState",["UNAVAILABLE","DISCONNECTED","CONNECTING","CONNECTED"])})}(),function(){"use strict";define("platform/common/PlaybackState",["core/oop"],function(e){return e.enumDef("platform.common.PlaybackState",["CLOSED","OPENING","PLAYING","PAUSED","SEEKING","BUFFERING","ENDED","ERROR","UNKNOWN"])})}(),function(){"use strict";define("platform/common/ClosedCaptioningFont",["core/oop"],function(e){return e.enumDef("platform.common.ClosedCaptioningFont",["MONO_SERIF","SERIF","MONO_SANS_SERIF","SANS_SERIF","CASUAL","SCRIPT","SMALL_CAPS"])})}(),function(){"use strict";define("platform/common/ClosedCaptioningColor",["core/oop"],function(e){return e.enumDef("platform.common.ClosedCaptioningColor",["WHITE","BLACK","RED","GREEN","BLUE","YELLOW","MAGENTA","CYAN"])})}(),function(){"use strict";define("platform/common/ClosedCaptioningOpacity",["core/oop"],function(e){return e.enumDef("platform.common.ClosedCaptioningOpacity",["OPAQUE","TRANSLUCENT","SEMITRANSPARENT","TRANSPARENT"])})}(),function(){"use strict";define("platform/common/ClosedCaptioningStyle",["core/oop"],function(e){return e.enumDef("platform.common.ClosedCaptioningStyle",["NONE","RAISED","DEPRESSED","UNIFORM","DROP_SHADOW"])})}(),function(){"use strict";define("platform/common/ClosedCaptioningSize",["core/oop"],function(e){return e.enumDef("platform.common.ClosedCaptioningSize",["EXTRA_LARGE","LARGE","MEDIUM","SMALL","TINY"])})}(),function(){"use strict";define("platform/common/ClosedCaptioningDisplayProperties",["core/oop","platform/common/ClosedCaptioningFont","platform/common/ClosedCaptioningColor","platform/common/ClosedCaptioningOpacity","platform/common/ClosedCaptioningStyle","platform/common/ClosedCaptioningSize"],function(e,t,i,n,o,r){return e.classDef("platform.common.ClosedCaptioningDisplayProperties",Object,function(){e.initConstructor(),e.properties({isDefault:{defaultValue:!1},font:{defaultValue:t.SANS_SERIF},fontSize:{defaultValue:r.MEDIUM},fontStyle:{defaultValue:o.NONE},fontColor:{defaultValue:i.WHITE},fontOpacity:{defaultValue:n.OPAQUE},backgroundColor:{defaultValue:i.BLACK},backgroundOpacity:{defaultValue:n.SEMITRANSPARENT},windowColor:{defaultValue:i.BLACK},windowOpacity:{defaultValue:n.TRANSPARENT}}),e.methods({toJSON:function(){return{isDefault:this.isDefault,font:this.font,fontSize:this.fontSize,fontStyle:this.fontStyle,fontColor:this.fontColor,fontOpacity:this.fontOpacity,backgroundColor:this.backgroundColor,backgroundOpacity:this.backgroundOpacity,windowColor:this.windowColor,windowOpacity:this.windowOpacity}}})})})}(),function(){"use strict";define("platform/common/ClosedCaptioningSettingsBase",["core/oop","core/Debug","platform/common/ClosedCaptioningDisplayProperties","core/Disposable"],function(e,t,i,n){return e.classDef("platform.common.ClosedCaptioningSettingsBase",n,function(){e.constructor(function(){this._created()}),e.events(["isEnabledChanged","displayPropertiesChanged"]),e.properties({isEnabled:{get:function(){return this._loadProperties(),this._isEnabled},set:function(e){e!==this._isEnabled&&(this._isEnabled=e,this._onIsEnabledChanged(e))}},displayPropertiesAreReadOnly:{defaultValue:!0},displayProperties:{get:function(){return this._loadProperties(),this._displayProperties},set:function(e){this.displayPropertiesAreReadOnly,this._internalSetDisplayProperties(e)}},hasPlatformRenderer:{get:function(){return!1}},_isEnabled:void 0,_displayProperties:void 0}),e.methods({resetToDefaultDisplayProperties:function(){this.displayPropertiesAreReadOnly,this._internalSetDisplayProperties(i.new({isDefault:!0}))},_init:function(){this._displayProperties=i.new({isDefault:!0}),this._loadProperties()},_internalSetDisplayProperties:function(e){var t=this._displayProperties;void 0!==t?t.equals(e)||(this._displayProperties=e,this._onDisplayPropertiesChanged(e)):this._displayProperties=e},_loadProperties:function(){}})})})}(),function(){"use strict";define("platform/dependent/IClosedCaptioningSettings",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IClosedCaptioningSettings",void 0,function(){e.singleton(),e.events(["isEnabledChanged","displayPropertiesChanged"]),e.properties({isEnabled:{get:void 0,set:void 0},displayPropertiesAreReadOnly:{get:void 0},displayProperties:{get:void 0,set:void 0},hasPlatformRenderer:{get:void 0}}),e.methods({resetToDefaultDisplayProperties:void 0})})})}(),function(){"use strict";define("platform/dependent/ClosedCaptioningSettings",["core/oop","core/Startup","platform/common/ClosedCaptioningSettingsBase","platform/dependent/IClosedCaptioningSettings","platform/common/ClosedCaptioningDisplayProperties","platform/dependent/Storage","platform/common/StorageScope","application/ClientDevice"],function(e,t,i,n,o,r,a,s){var l=e.classDef("platform.dependent.ClosedCaptioningSettings",[i,n],function(i){e.staticScope(function(){e.constructor(function(){this._registerStartupTask()}),e.methods({_registerStartupTask:function(){t.singleton.register("platform.dependent.ClosedCaptioningSettings",function(){return l.singleton._readDefaultSettings()})}})}),e.singleton(function(){this._init(),this._created()}),e.properties({displayPropertiesAreReadOnly:{defaultValue:!1},_initialLoadComplete:{defaultValue:!1},_storageFormatVersion:{defaultValue:1},_isEnabled:{defaultValue:!1}}),e.methods({_readDefaultSettings:function(){var e=this;return r.singleton.read(this.typeName).then(function(t){if(void 0===t)e._handleLoadFailure();else{var i=JSON.parse(t);if(e._storageFormatVersion!==i.version)throw new Error("CC settings version does not match.");e.isEnabled=i.isEnabled,e.displayProperties=o.new(i.displayProperties),e._initialLoadComplete=!0}}).catch(function(){e._handleLoadFailure()})},_handleLoadFailure:function(){this._initialLoadComplete=!0,this._storeProperties()},_storeProperties:function(){var e=!0===s.singleton.persistClosedCaptioningSettings?a.PERSISTENT:a.SESSION;!0===this._initialLoadComplete&&r.singleton.write(this.typeName,JSON.stringify({version:this._storageFormatVersion,
isEnabled:this.isEnabled,displayProperties:this.displayProperties.toJSON()}),e)},_onIsEnabledChanged:function(){i._onIsEnabledChanged.apply(this,arguments),this._storeProperties()},_onDisplayPropertiesChanged:function(){i._onDisplayPropertiesChanged.apply(this,arguments),this._storeProperties()}})});return l})}(),function(){"use strict";define("platform/dependent/IChromecast",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.IChromecast",t,function(){e.properties({isActiveScanning:{get:void 0,set:void 0},isAvailable:{get:void 0},isPastPreroll:{get:void 0},sessionId:{get:void 0},connectionState:{get:void 0},platformHandlesDeviceSelection:{get:void 0},applicationStatus:{get:void 0},position:{get:void 0},playbackState:{get:void 0},showIcon:{get:void 0},showCoachmark:{get:void 0}}),e.events(["isAvailableChanged","sessionIdChanged","connectionStateChanged","volumeChanged","applicationStatusChanged","playbackStateChanged","availableDevicesChanged"]),e.methods({establishSession:void 0,destroySession:void 0,loadMedia:void 0,sendSetPositionMessage:void 0,sendSetVolumeMessage:void 0,sendPlayMessage:void 0,sendPauseMessage:void 0,getAvailableDevices:void 0})})})}(),function(){"use strict";define("dataservices/types/TrickPlayImageSize",["core/oop"],function(e){return e.enumDef("dataservices.types.TrickPlayImageSize",["SMALL","MEDIUM"])})}(),function(){"use strict";define("dataservices/types/VideoQuality",["core/oop"],function(e){return e.enumDef("dataservices.types.VideoQuality",["SD","HD"])})}(),function(){"use strict";define("dataservices/types/AudioFormat",["core/oop"],function(e){return e.enumDef("dataservices.types.AudioFormat",["MONO","STEREO","DOLBY21","DOLBY51","DOLBY71","DSS","OTHER"])})}(),function(){"use strict";define("dataservices/types/AudioTrack",["core/oop"],function(e){return e.classDef("dataservices.types.AudioTrack",Object,function(){e.initConstructor(function(){}),e.properties({title:{get:void 0},displayName:{get:void 0},output:{get:void 0},language:{get:void 0}})})})}(),function(){"use strict";define("platform/common/DRM",["core/oop"],function(e){return e.classDef("platform.common.DRM",Object,function(){e.initConstructor(function(){}),e.properties({authType:{get:void 0},tokenUrl:{get:void 0},licenseUrl:{get:void 0},licenseCertificateUrl:{get:void 0}})})})}(),function(){"use strict";define("platform/common/DRMType",["core/oop"],function(e){return e.enumDef("platform.common.DRMType",{NONE:"NONE",TOKEN:"TOKEN",CERTIFICATE:"CERTIFICATE",UNSUPPORTED:"UNSUPPORTED"})})}();!function(){"use strict";define("platform/common/PlayItem",["core/oop"],function(e){return e.classDef("platform.common.PlayItem",Object,function(){e.initConstructor(function(){}),e.properties({type:{get:void 0},url:{get:void 0},audioTracks:{get:void 0},textTracks:{get:void 0},trickplayUrlTemplates:{get:void 0},drm:{get:void 0},duration:{get:void 0},playbackOptions:{get:void 0},containerType:{get:void 0}})})})}(),function(){"use strict";define("platform/common/PlayItemType",["core/oop"],function(e){return e.enumDef("platform.common.PlayItemType",{PREROLL:"PREROLL",PROMO:"PROMO",MAIN:"MAIN",OTHER:"OTHER"})})}(),function(){"use strict";define("dataservices/types/TextTrack",["core/oop"],function(e){return e.classDef("dataservices.types.TextTrack",Object,function(){e.initConstructor(function(){}),e.properties({title:{get:void 0},displayName:{get:void 0},type:{get:void 0},language:{get:void 0},format:{get:void 0},url:{get:void 0},isTemplated:{get:void 0},lookaheadMS:{get:void 0}})})})}(),function(){"use strict";define("dataservices/VideoUtil",["core/oop","lib/Promise","dataservices/markers/PlaybackMarkerCache","dataservices/DataServicesDeveloperSettings","platform/common/PlaybackState","dataservices/types/TrickPlayImageSize","core/ReadOnlyAsyncArray","dataservices/types/VideoQuality","dataservices/types/AudioFormat","dataservices/types/AudioTrack","platform/common/DRM","platform/common/DRMType","platform/common/PlayItem","platform/common/PlayItemType","dataservices/types/TextTrack","core/Debug","application/ClientDevice","lib/lodash/objects/forIn"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("dataservices.VideoUtil",Object,function(){e.singleton(function(){}),e.methods({getPlaybackMarker:function(e,n){return t.props({playbackMarkerId:e,isPreview:n}).then(function(e){if(!0!==e.isPreview&&void 0!==e.playbackMarkerId)return i.singleton.getMarker(e.playbackMarkerId)}).catch(function(){})},getTrickPlayUri:function(e,t,i,o){var a;void 0!==e&&void 0!==e.trickplayUrlTemplates&&(a=i===r.SMALL?e.trickplayUrlTemplates.sd:e.trickplayUrlTemplates.hd);var s=n.singleton.testTrickPlayUri||a;if(void 0!==s){var l=m.singleton.trickPlayImageInterval,c=Math.floor(o/l)*l;c=Math.max(0,Math.min(c,t));var d="00000000"+c;d=d.substring(d.length-8);var u=s;return u.indexOf("{0:00000000}")>-1?u=u.replace("{0:00000000}",d):u.indexOf("{%}")>-1?u=u.replace("{%}",c%7):(u=u.replace("{0}",i===r.SMALL?"1":"2"),u=u.replace("{1}",d)),u}},selectVideo:function(e){var i,n,o=m.singleton.playerLanguageCode;return e.then(function(e){return e.forEachAsync(function(e){return e.language.then(function(t){void 0===i&&(t===o?i=e:void 0===n&&(n=e))})})}).then(function(){return t.fulfilled(i||n)})},getLanguages:function(e){var t=[];return e.then(function(e){return e.forEachAsync(function(e){return e.language.then(function(e){t.push(e)})}).then(function(){return t.sort(),a.new(t)})})},getInitialLanguageFromAudioTracks:function(e){return e.then(function(e){return void 0!==e&&e.length>0?e[0].language:t.fulfilled("unknown")})},getServiceLanguageCode:function(e){var t="ENG";return"en-US"!==e&&(t="SPN"),t},convertQuality:function(e,t,i){var n;switch(e){case t:n=s.HD;break;case i:default:n=s.SD}return n},convertTextTrack:function(e){return g.new({title:e.title,displayName:e.displayName,type:e.type,language:e.language,format:e.format,url:e.url,isTemplated:e.isTemplated||!1,lookaheadMS:e.lookaheadMS})},convertAudioTrack:function(e){return c.new({title:e.title,displayName:e.displayName,output:this.convertAudioFormat(e.output),language:e.language})},convertAudioFormat:function(e){var t;switch(e){case"2.1 Surround":t=l.DOLBY21;break;case"5.1 Surround":t=l.DOLBY51;break;case"7.1 Surround":t=l.DOLBY71;break;case"Mono":t=l.MONO;break;case"Stereo":t=l.STEREO;break;case"DSS":t=l.DSS;break;default:t=l.OTHER}return t},convertDRM:function(e){return d.new({authType:this.convertDRMType(e.authType),tokenUrl:e.tokenUrl,licenseUrl:e.licenseUrl,licenseCertificateUrl:e.licenseCertificateUrl})},convertDRMType:function(e){if(void 0===e||""===e)return u.NONE;var t;switch(e){case"token":t=u.TOKEN;break;case"certificate":t=u.CERTIFICATE;break;default:t=u.UNSUPPORTED}return t},convertPlayItem:function(e){var t,i,n,o,r=this;return void 0!==e.audioTracks&&(t=e.audioTracks.map(function(e){return r.convertAudioTrack(e)})),void 0!==e.textTracks&&(i=e.textTracks.map(function(e){return r.convertTextTrack(e)})),void 0!==e.drm&&(n=this.convertDRM(e.drm)),void 0!==e.playbackOptions&&(o=this._convertPlaybackOptions(e.playbackOptions)),p.new({type:this.convertPlayItemType(e.type),url:e.url,audioTracks:t,textTracks:i,trickplayUrlTemplates:e.trickplayUrlTemplates,drm:n,playbackOptions:o,duration:e.duration,containerType:e.containerType})},convertPlayItemType:function(e){var t;switch(e){case"urn:video:preroll":t=h.PREROLL;break;case"urn:video:promo":t=h.PROMO;break;case"urn:video:main":t=h.MAIN;break;default:t=h.OTHER}return t},isVideoReadyToPlay:function(e,t){return t===o.OPENING&&(e===o.PLAYING||e===o.SEEKING||e===o.BUFFERING||e===o.PAUSED)},_convertPlaybackOptions:function(e){var t={};return v(e,function(e,i){!0==("string"==typeof e||"number"==typeof e||"boolean"==typeof e)&&(t[i]=e)}),t}})})})}(),function(){"use strict";define("platform/dependent/ChromecastBase",["core/oop","core/Debug","lib/Promise","core/Disposable","platform/dependent/IChromecast","platform/common/ChromecastApplicationStatus","platform/dependent/ClosedCaptioningSettings","platform/common/ClosedCaptioningFont","platform/common/ClosedCaptioningSize","platform/common/ClosedCaptioningOpacity","platform/common/ClosedCaptioningColor","platform/common/ClosedCaptioningStyle","dataservices/VideoUtil","platform/common/PlaybackState","platform/common/NetworkConnectionState","platform/dependent/Process"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){var m=e.enumDef("platform.dependent.Chromecast.HadronChannelMessageTypes",{ClosedCaptions:"CLOSED_CAPTIONS",PlayerState:"PLAYERSTATE",AssetDetails:"ASSET_DETAILS",SetPosition:"SET_POSITION"}),v=e.enumDef("platform.dependent.Chromecast.AppPlayerStates",{MediaPlaying:"MEDIA_PLAYING",MediaPaused:"MEDIA_PAUSED",MediaBuffering:"MEDIA_BUFFERING",MediaSeeking:"MEDIA_SEEKING",MediaEnded:"MEDIA_ENDED",MediaError:"MEDIA_ERROR",ApplicationInitializing:"APPLICATION_INIT",ApplicationError:"APPLICATION_ERROR",ApplicationLoading:"APPLICATION_LOADING",ApplicationWaiting:"APPLICATION_WAITING"});return e.classDef("platform.dependent.ChromecastBase",[n,o],function(t){e.constructor(function(){this._created(),this._showIcon=this._showCoachmark=!1===f.singleton.inAutomation}),e.properties({_applicationId:void 0,_handleClosedCaptioningChangesBound:void 0,_hadronChannelNamespace:{defaultValue:"urn:x-cast:hbogo",readOnlyField:!0},_hadronChannelMessageTypes:{defaultValue:m,readOnlyField:!0},_appPlayerStates:{defaultValue:v,readOnlyField:!0},isActiveScanning:{defaultValue:!1,onChange:"_onActiveScanningChanged"},isAvailable:{defaultValue:!1,privateSet:!0,onChange:"_onIsAvailableChanged"},sessionId:{defaultValue:void 0,privateSet:!0,onChange:"_onSessionIdChanged"},connectionState:{defaultValue:g.UNAVAILABLE,privateSet:!0,onChange:"_onConnectionStateChanged"},position:{get:function(){return this._updatePosition(),this._position}},_position:{defaultValue:0,onChange:"_onPositionChanged"},isPastPreroll:{defaultValue:!1,privateSet:!0},playbackState:{defaultValue:h.UNKNOWN,privateSet:!0,onChange:"_onPlaybackStateChanged"},platformHandlesDeviceSelection:{get:function(){return this._notImpl(),!1}},applicationStatus:{get:function(){return this._notImpl(),r.new()}},_connectedDevice:{defaultValue:void 0,onChange:"_onConnectedDeviceChanged"},showIcon:{defaultValue:!1,privateSet:!0},showCoachmark:{defaultValue:!1,privateSet:!0}}),e.events(["isAvailableChanged","applicationStatusChanged","connectionStateChanged","volumeChanged","sessionIdChanged","playbackStateChanged","availableDevicesChanged"]),e.methods({_getCustomDataString:function(e){return void 0!==e?e.toString():void 0},_disconnect:function(){this._sessionId=void 0,this._connectedDevice=void 0,this._connectionState=g.DISCONNECTED,this._playbackState=h.UNKNOWN},_updatePosition:function(){},_onPositionChanged:function(){},_onActiveScanningChanged:function(){},_onConnectedDeviceChanged:function(){this._onApplicationStatusChanged()},_handleClosedCaptioningChanges:function(){},_disposeCore:function(){t._disposeCore.apply(this,arguments),void 0!==this._handleClosedCaptioningChangesBound&&(a.singleton.isEnabledChanged.off(this._handleClosedCaptioningChangesBound),a.singleton.displayPropertiesChanged.off(this._handleClosedCaptioningChangesBound))},_getCustomData:function(e){var t=p.singleton.getServiceLanguageCode(e.language);return{algorithm:"adaptive",displayCC:a.singleton.isEnabled,isFree:e.isFree,isPreview:e.isPreview,isExtra:e.isExtra,language:t,position:e.position||0,deviceId:e.deviceId,featureTkey:e.assetId,userTkey:e.userId,authToken:e.receiverAuthToken,senderSessionId:e.senderSessionId,ccProperties:this._getCCPropertiesPropertyBag()}},_getCCPropertiesPropertyBag:function(){var e={},t={};e.font=t,t[s.MONO_SERIF]=1,t[s.SERIF]=2,t[s.MONO_SANS_SERIF]=3,t[s.SANS_SERIF]=4,t[s.CASUAL]=5,t[s.SCRIPT]=6,t[s.SMALL_CAPS]=7;var i={};e.size=i,i[l.EXTRA_LARGE]=200,i[l.LARGE]=150,i[l.MEDIUM]=100,i[l.SMALL]=75,i[l.TINY]=50;var n={};e.opacity=n,n[c.OPAQUE]=1,n[c.TRANSLUCENT]=.66,n[c.SEMITRANSPARENT]=.33,n[c.TRANSPARENT]=0;var o={};e.color=o,o[d.WHITE]="#FFFFFF",o[d.BLACK]="#000000",o[d.RED]="#FF0000",o[d.GREEN]="#00FF00",o[d.BLUE]="#0000FF",o[d.YELLOW]="#FFFF00",o[d.MAGENTA]="#FF00FF",o[d.CYAN]="#00FFFF";var r={};e.edgeStyle=r,r[u.NONE]="",r[u.RAISED]="raised",r[u.DEPRESSED]="lowered",r[u.UNIFORM]="outlined",r[u.DROP_SHADOW]="dropshadowed";var p=a.singleton.displayProperties;return{fontFamily:e.font[p.font],fontStyle:e.edgeStyle[p.fontStyle],fontColor:e.color[p.fontColor],fontOpacity:e.opacity[p.fontOpacity],fontSize:e.size[p.fontSize],backgroundColor:e.color[p.backgroundColor],backgroundOpacity:e.opacity[p.backgroundOpacity]}},_onSessionMessage:function(e,t){if(e===this._hadronChannelNamespace)switch(t=JSON.parse(t),t.type){case this._hadronChannelMessageTypes.ClosedCaptions:this._handleClosedCaptionsState(t.displayCC);break;case this._hadronChannelMessageTypes.PlayerState:this._handlePlayerState(t.playerState,!1===t.isPrerolling);break;case this._hadronChannelMessageTypes.AssetDetails:this._handleAssetDetails(t)}},_handleClosedCaptionsState:function(e){a.singleton.isEnabled=e},_handlePlayerState:function(e,t){switch(this._isPastPreroll=!0===t,e){case this._appPlayerStates.MediaEnded:this._playbackState=h.ENDED;break;case this._appPlayerStates.MediaBuffering:this._playbackState=h.BUFFERING;break;case this._appPlayerStates.MediaSeeking:this._playbackState=h.SEEKING;break;case this._appPlayerStates.MediaPaused:this._playbackState=h.PAUSED;break;case this._appPlayerStates.MediaPlaying:this._playbackState=h.PLAYING;break;case this._appPlayerStates.MediaError:this._playbackState=h.ERROR;break;case this._appPlayerStates.ApplicationLoading:case this._appPlayerStates.ApplicationWaiting:this._playbackState=h.OPENING;break;case this._appPlayerStates.ApplicationInitializing:this._playbackState=h.UNKNOWN;break;case this._appPlayerStates.ApplicationError:this._playbackState=h.ERROR}this._onApplicationStatusChanged()},initialize:function(e){this._applicationId=e.applicationId,this._handleClosedCaptioningChangesBound=this._handleClosedCaptioningChanges.bind(this),a.singleton.isEnabledChanged.on(this._handleClosedCaptioningChangesBound),a.singleton.displayPropertiesChanged.on(this._handleClosedCaptioningChangesBound)},establishSession:function(){return this._notImpl(),i.fulfilled()},destroySession:function(){return this._notImpl(),i.fulfilled()},loadMedia:function(){return this._notImpl(),i.fulfilled()},sendSetPositionMessage:function(){return this._notImpl(),i.fulfilled()},sendSetVolumeMessage:function(){return this._notImpl(),i.fulfilled()},sendPlayMessage:function(){return this._notImpl(),i.fulfilled()},sendPauseMessage:function(){return this._notImpl(),i.fulfilled()},getAvailableDevices:function(){return this._notImpl(),[]},_handleAssetDetails:function(){},_notImpl:function(){}})})})}(),function(){"use strict";define("platform/dependent/IChromecastDevice",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IChromecastDevice",void 0,function(){e.properties({deviceId:{get:void 0},friendlyName:{get:void 0}})})})}(),function(){"use strict";define("platform/dependent/ChromecastDevice",["core/oop","platform/dependent/IChromecastDevice"],function(e,t){return e.classDef("platform.dependent.ChromecastDevice",t,function(){e.constructor(function(e,t){this._deviceId=e,this._friendlyName=t}),e.properties({deviceId:{privateSet:!0},friendlyName:{privateSet:!0}})})})}(),function(e){"use strict";define("platform/dependent/Chromecast",["core/oop","core/Debug","lib/Promise","platform/common/ChromecastApplicationStatus","platform/common/NetworkConnectionState","platform/common/PlaybackState","engine/dependent/Scheduler","core/Exception","core/logging/Levels","platform/dependent/ClosedCaptioningSettings","platform/dependent/ChromecastBase","platform/dependent/ChromecastDevice"],function(t,i,n,o,r,a,s,l,c,d,u,p){return t.classDef("platform.dependent.Chromecast",u,function(i){t.singleton(function(){i.$ctor.apply(this,arguments),this._boundOnRemotePlayerController=this._onRemotePlayerController.bind(this),this._boundOnSessionMessage=this._onSessionMessage.bind(this),this._boundOnMediaStatusUpdate=this._onMediaStatusUpdate.bind(this)}),t.properties({_castContext:void 0,_currentSession:void 0,_currentMediaSession:void 0,_remotePlayer:void 0,_remotePlayerController:void 0,_boundOnRemotePlayerController:void 0,_boundOnSessionMessage:void 0,_boundOnMediaStatusUpdate:void 0,_window:{defaultValue:e.window},_castPluginIsAvailable:{defaultValue:!1},_extensionInitialized:{defaultValue:!1,onChange:function(){this._isAvailable=this._areReceiversAvailable&&this._extensionInitialized}},_areReceiversAvailable:{defaultValue:!1,onChange:function(){this._isAvailable=this._areReceiversAvailable&&this._extensionInitialized}},_handleClosedCaptioningChangesBound:void 0,platformHandlesDeviceSelection:{get:function(){return!0}},applicationStatus:{get:function(){var e=o.new();return void 0!==this._remotePlayer&&(e.device=this._connectedDevice,e.volume=this._remotePlayer.volumeLevel),this._currentMediaSession&&this._currentMediaSession.customData&&(e.cutId=this._getCustomDataString(this._currentMediaSession.customData.featureTkey),e.duration=this._currentMediaSession.customData.duration,e.title=this._getCustomDataString(this._currentMediaSession.customData.title),e.closedCaptionsAvailable=this._currentMediaSession.customData.closedCaptionsAvailable,e.imageUrl=this._getCustomDataString(this._currentMediaSession.customData.imageUrl),e.season=this._getCustomDataString(this._currentMediaSession.customData.season),e.episode=this._getCustomDataString(this._currentMediaSession.customData.episodeInSeasonDisp)),e}}}),t.methods({initialize:function(){i.initialize.apply(this,arguments),this._checkForCastHello()},_disconnect:function(){i._disconnect.apply(this,arguments),void 0!==this._remotePlayerController&&this._remotePlayerController.removeEventListener(this._window.cast.framework.RemotePlayerEventType.ANY_CHANGE,this._boundOnRemotePlayerController),void 0!==this._currentMediaSession&&this._currentMediaSession.removeUpdateListener(this._boundOnMediaStatusUpdate),void 0!==this._currentSession&&this._currentSession.removeMessageListener(this._hadronChannelNamespace,this._boundOnSessionMessage),this._currentSession=void 0,this._currentMediaSession=void 0},_updatePosition:function(){void 0!==this._currentMediaSession&&(this._position=this._currentMediaSession.getEstimatedTime())},_checkForCastHello:function(){if(!this._window.chrome||!this._window.chrome.cast||!this._window.chrome.cast.isAvailable)return this._window.chrome?void s.singleton.requestTimeout(this._checkForCastHello.bind(this),1e3):void 0;this._window.cast;var e={receiverApplicationId:this._applicationId,autoJoinPolicy:this._window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,resumeSavedSession:!0};this._castContext=this._window.cast.framework.CastContext.getInstance(),this._castContext.setOptions(e),this._remotePlayer=new this._window.cast.framework.RemotePlayer,this._remotePlayerController=new this._window.cast.framework.RemotePlayerController(this._remotePlayer),this._extensionInitialized=!0,this._connectionState=r.DISCONNECTED,this._castContext.addEventListener(this._window.cast.framework.CastContextEventType.CAST_STATE_CHANGED,this._onContextCastState.bind(this)),this._castContext.addEventListener(this._window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,this._onContextSessionState.bind(this))},_handleNewSession:function(e){this._currentSession=e,this._connectedDevice=p.new("deviceId",this._currentSession.getCastDevice().friendlyName),this._sessionId=this._currentSession.getSessionId(),this._connectionState=r.CONNECTED;var t=this._currentSession.getMediaSession()||void 0;!1!==this._remotePlayer.isConnected&&void 0!==t&&this._onMediaDiscovered(t),this._remotePlayerController.addEventListener(this._window.cast.framework.RemotePlayerEventType.ANY_CHANGE,this._boundOnRemotePlayerController),this._currentSession.addMessageListener(this._hadronChannelNamespace,this._boundOnSessionMessage)},_onContextCastState:function(e){this._areReceiversAvailable=e.castState!==this._window.cast.framework.CastState.NO_DEVICES_AVAILABLE,this._checkForConnectionChange()},_onContextSessionState:function(){this._checkForConnectionChange()},_onRemotePlayerController:function(e){if(this._checkForConnectionChange(),this._connectionState!==r.DISCONNECTED)switch(e.field){case"volumeLevel":case"isMuted":this._onVolumeChanged();break;case"mediaInfo":var t=this._currentSession.getSessionObj().media.length-1,i=this._currentSession.getSessionObj().media[t];i!==this._currentMediaSession?this._onMediaDiscovered(i):this._onApplicationStatusChanged();break;case"playerState":this._updatePlaybackState(e.value),this._onApplicationStatusChanged()}},_isCastSessionDisconnected:function(){if(!0!==this._remotePlayer.isConnected)return!0;switch(this._castContext.getCastState()){case this._window.cast.framework.CastState.NO_DEVICES_AVAILABLE:case this._window.cast.framework.CastState.NOT_CONNECTED:return!0}switch(this._castContext.getSessionState()){case this._window.cast.framework.SessionState.NO_SESSION:case this._window.cast.framework.SessionState.SESSION_START_FAILED:case this._window.cast.framework.SessionState.SESSION_ENDED:return!0}return!1},_isCastSessionConnected:function(){if(!0===this._remotePlayer.isConnected)switch(this._castContext.getSessionState()){case this._window.cast.framework.SessionState.SESSION_RESUMED:case this._window.cast.framework.SessionState.SESSION_STARTED:return!0}return!1},_checkForConnectionChange:function(){if(!0===this._isCastSessionDisconnected()&&this._connectionState!==r.DISCONNECTED)this._disconnect();else if(!0===this._isCastSessionConnected()){var e=this._castContext.getCurrentSession();this._currentSession!==e&&(this._disconnect(),this._handleNewSession(e))}},_onMediaDiscovered:function(e){this._currentMediaSession!==e&&(void 0!==this._currentMediaSession&&this._currentMediaSession.removeUpdateListener(this._boundOnMediaStatusUpdate),this._currentMediaSession=e||void 0,void 0!==this._currentMediaSession&&(this._currentMediaSession.addUpdateListener(this._boundOnMediaStatusUpdate),this._currentMediaSession.customData&&(d.singleton.isEnabled=!!this._currentMediaSession.customData.closedCaptionsVisible),this._currentMediaSession.getStatus(),this._onApplicationStatusChanged()))},_updatePlaybackState:function(e){switch(e){case this._window.chrome.cast.media.PlayerState.IDLE:this._playbackState=a.UNKNOWN;break;case this._window.chrome.cast.media.PlayerState.PLAYING:this._playbackState=a.PLAYING;break;case this._window.chrome.cast.media.PlayerState.PAUSED:this._playbackState=a.PAUSED;break;case this._window.chrome.cast.media.PlayerState.BUFFERING:this._playbackState=a.BUFFERING}},_onMediaStatusUpdate:function(){void 0!==this._currentMediaSession&&this._currentMediaSession.playerState===this._window.chrome.cast.media.PlayerState.IDLE&&(this._currentMediaSession.removeUpdateListener(this._boundOnMediaStatusUpdate),this._currentMediaSession=void 0),this._onApplicationStatusChanged()},establishSession:function(){var e=this;return new n(function(t,i){e._disconnect(),e._connectionState=r.CONNECTING,e._castContext.requestSession().then(function(){e._handleNewSession(e._castContext.getCurrentSession()),t(!0)}).catch(function(n){if(e._disconnect(),n===e._window.chrome.cast.ErrorCode.CANCEL)return t(!1);i(l.new({message:"Error occurred establishing a session",area:"platform.dependent.Chromecast",level:c.WARNING,contextualData:{code:n}}))})})},destroySession:function(){var e=this;return new n(function(t,i){var n=function(){e._position=0,e._disconnect(),t()};if(void 0===e._currentSession)return void n();e._castContext.requestSession().then(function(){n()}).catch(function(i){if(i===e._window.chrome.cast.ErrorCode.CANCEL)return t(!1);n()})})},loadMedia:function(e){var t=this;return new n(function(i,n){if(void 0===t._currentSession)return n(l.new({message:"Calling load media without first establishing a session",area:"platform.dependent.Chromecast",level:c.WARNING}));t._position=e.position||0;var o=new t._window.chrome.cast.media.MediaInfo(e.assetId,"video/mp4"),r=new t._window.chrome.cast.media.LoadRequest(o);r.autoplay=e.autoplay,r.customData=t._getCustomData(e),t._currentSession.loadMedia(r).then(function(){t._onMediaDiscovered(t._currentSession.getMediaSession()),i()}).catch(function(e){n(l.new({message:"Error loading media",area:"platform.dependent.Chromecast",level:c.WARNING,contextualData:{code:e.code,description:e.description,details:e.details}}))})})},getAvailableDevices:function(){return[]},sendSetVolumeMessage:function(e){var t=this;return new n(function(i,n){return void 0===t._currentSession?n(l.new({message:"Could not send SetVolume command with no session",area:"platform.dependent.Chromecast",level:c.WARNING})):(t._remotePlayer.volumeLevel=e,t._remotePlayerController.setVolumeLevel(),i())})},sendPlayMessage:function(){var e=this;return new n(function(t,i){if(void 0===e._currentMediaSession)return i(l.new({message:"Could not send media play message with no current media session",area:"platform.dependent.Chromecast",level:c.WARNING}));e._currentMediaSession.play(null,t,e._onMediaCommandFailure.bind(this,i,"play"))})},sendPauseMessage:function(){var e=this;return new n(function(t,i){if(void 0===e._currentMediaSession)return i(l.new({message:"Could not send media pause message with no current media session",area:"platform.dependent.Chromecast",level:c.WARNING}));e._currentMediaSession.pause(null,t,e._onMediaCommandFailure.bind(this,i,"pause"))})},_onMediaCommandFailure:function(e,t,i){e(l.new({message:"Couldn't send media command",area:"platform.dependent.Chromecast",level:c.WARNING,contextualData:{mediaCommand:t,code:i.code,description:i.description,details:i.details}}))},_handleClosedCaptioningChanges:function(){if(void 0!==this._currentMediaSession){var e={type:this._hadronChannelMessageTypes.ClosedCaptions,displayCC:d.singleton.isEnabled,ccProperties:this._getCCPropertiesPropertyBag()};this._sendHboChannelMessage(e)}},sendSetPositionMessage:function(e){var t={type:this._hadronChannelMessageTypes.SetPosition,position:e};return this._position=e,this._sendHboChannelMessage(t)},_sendHboChannelMessage:function(e){var t=this;return new n(function(i,n){if(void 0===t._currentSession)return n(l.new({message:"Could not send Hadron channel message with no session",area:"platform.dependent.Chromecast",level:c.WARNING}));t._currentSession.sendMessage(t._hadronChannelNamespace,e,i,function(t){n(l.new({message:"Couldn't send Hadron channel message",area:"platform.dependent.Chromecast",level:c.WARNING,contextualData:{messageType:e.type,code:t.code,description:t.description,details:t.details}}))})})}})})})}(this),function(){"use strict";define("design/logging/DeepLinkLaunchedLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("design.logging.DeepLinkLaunchedLogEntry",t,function(t){e.initConstructor(function(){this._type="deeplinklaunched"}),e.properties({action:void 0,target:void 0,linkType:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.action=this.action,e.target=this.target,e.linkType=this.linkType,e}})})})}(),function(){"use strict";define("design/logging/ReauthenticationLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("design.logging.ReauthenticationLogEntry",t,function(){e.initConstructor(function(){this._type="reauthentication"})})})}(),function(){"use strict";define("design/views/NavigationBarViewManager",["core/oop","core/Debug","core/Lifecycleable","ui/navigation/Navigator","lib/lodash/collections/forEach","lib/lodash/objects/assign"],function(e,t,i,n,o,r){return e.classDef("design.views.NavigationBarViewManager",Object,function(){e.singleton(function(){this._buttonsById={},this._viewsById={},this._deactivatedHandlersById={},this._deactivatedRegistrationsById={}}),e.properties({_buttonsById:void 0,_viewsById:void 0,_deactivatedHandlersById:void 0,_deactivatedRegistrationsById:void 0}),e.methods({getActiveNavigationBar:function(){var e,t=n.singleton.getActiveViewHost();return void 0!==t&&void 0!==(e=t._views.navigationBar)&&!0===e.isDisposed&&(e=void 0),e},registerNavBar:function(e){return this._registerView(e,!0),this._getButtonRegistrations.bind(this,e)},clearNavBarRegistrations:function(e){var t=this._getId(e);this._unregisterView(t,!0),this._buttonsById[t]={},e.refreshItems()},registerButtons:function(e,t,i){if(this._registerButtonImpl(e,t,i),arguments.length>3){Array.prototype.slice.call(arguments,3).forEach(function(i){this.registerButtons(e,t,i)}.bind(this))}this.refreshAllButtons(e)},_registerButtonImpl:function(e,t,n){e.lifecycleState,i.LifecycleStates.ACTIVATED;var o=this._getId(e),a=this._getId(t);void 0===this._viewsById[o]&&this._registerView(e,!1);var s=this._buttonsById[o],l=this._buttonsById[a],c=n.name;if(s[a]=s[a]||{},s[a][c],void 0===s[a][c]){var d=s[a][c]=r({navBarId:a,ownerId:o},n);l[o]=l[o]||{},l[o][c]=d}},refreshAllButtons:function(e){var t=this._getId(e);this._buttonsById[t],o(this._buttonsById[t],function(e,t){var i=this._viewsById[t];void 0!==i&&i.refreshItems()}.bind(this))},_getButtonRegistrations:function(e,t){var i=this._getId(e);this._buttonsById[i];var n={active:this._groupRegistrationsByName(this._buttonsById[i]),deactivated:this._groupRegistrationsByName(this._deactivatedRegistrationsById[i])};return!0===t&&void 0!==this._deactivatedRegistrationsById[i]&&delete this._deactivatedRegistrationsById[i],n},_groupRegistrationsByName:function(e){var t={};return o(e,function(e){o(e,function(e){!1===t.hasOwnProperty(e.name)?t[e.name]=[e]:t[e.name].push(e)})}),t},_getId:function(e){return e.disposableId},_registerView:function(e,t){var n=this._getId(e);if(this._viewsById[n],e.lifecycleState,i.LifecycleStates.DEACTIVATED,void 0===this._viewsById[n]&&e.lifecycleState!==i.LifecycleStates.DEACTIVATED){this._viewsById[n]=e;var o=this._handleDeactivate.bind(this,n,t);this._deactivatedHandlersById[n]=o,e.lifecycleStateChanged.on(o),this._buttonsById[n]={}}},_unregisterView:function(e,t){var i=this._buttonsById[e];o(i,function(i,n){var o=this._buttonsById[n];void 0!==o&&void 0!==o[e]&&(!1===t?(this._deactivatedRegistrationsById[n]=this._deactivatedRegistrationsById[n]||{},this._deactivatedRegistrationsById[n][e]=o[e],delete o[e],this._viewsById[n].refreshItems()):delete o[e])}.bind(this))},_handleDeactivate:function(e,t,n){if(void 0!==this._viewsById[e]&&n===i.LifecycleStates.DEACTIVATED){this._viewsById[e].lifecycleStateChanged.off(this._deactivatedHandlersById[e]),delete this._viewsById[e],delete this._deactivatedHandlersById[e],this._unregisterView(e,t),delete this._buttonsById[e]}}})})})}(),function(){"use strict";define("design/CoachmarkBase",["core/oop","core/Debug","core/Disposable","design/PopupManager","design/views/NavigationBarViewManager","platform/dependent/Storage","ui/TemplateManager"],function(e,t,i,n,o,r,a){return e.classDef("design.CoachmarkBase",i,function(){e.constructor(function(e,t){this._storageKey=e,this._templateName=t,this.restart(!0),this._created()}),e.properties({_storageKey:void 0,_templateName:void 0,_wasViewed:{defaultValue:!1,onChange:function(e){!0===e?r.singleton.write(this._storageKey,"shown"):r.singleton.remove(this._storageKey)}},_popup:void 0}),e.methods({showCoachmark:function(){},_showPopup:function(e){if(void 0===this._popup){var t=a.singleton.getTemplate(this._templateName);this._popup=n.singleton.openPopup(t);var i=this;this._popup.closed.once(function(){i._popup=void 0,i._wasViewed=!0})}return this._updatePopupImagePosition(e),this._popup},_getButtonRect:function(e){var t,i=o.singleton.getActiveNavigationBar();return void 0!==i&&(t=i.getButtonRect(e)),t},_updatePopupImagePosition:function(e){var t=this._popup.find("image");t.x=e.x-Math.round((t.width-e.width)/2),t.y=e.y-Math.round((t.height-e.height)/2)},restart:function(e){if(e){var t=r.singleton.readSync(this._storageKey);this.__wasViewed="shown"===t}}})
})})}(),function(){"use strict";define("design/KidsLockCoachmark",["core/oop","design/CoachmarkBase","ui/navigation/Navigator","design/DesignSettings"],function(e,t,i,n){return e.classDef("design.KidsLockCoachmark",t,function(t){e.singleton(function(){t.$ctor.call(this,n.singleton.PC_NOTIFICATION_SHOWN_KEY,"KidsLockCoachmark")}),e.methods({showCoachmark:function(){if(!1===this._wasViewed){var e=i.singleton.getActiveViewHost();if(void 0!==e&&!0===this._viewHostAllowsCoachmark(e)&&!0!==e.checkForPaywall&&!0!==e._overlayShown){var t=this._getButtonRect("KidsLock");void 0!==t&&this._showPopup(t)}}},resetWasViewed:function(){this._wasViewed=!1},_viewHostAllowsCoachmark:function(e){return-1!==["Category","Asset","Page"].indexOf(e.factoryId)}})})})}(),function(){"use strict";define("design/NavigationRouter",["core/oop","lib/Promise","core/Exception","application/ClientDevice","ui/navigation/Navigator","design/DeepLinkUtil","design/NavigationRouterBase","design/NavigationRouterUrls","design/INavigationRouter","design/PopupManager","design/KidsLock","design/VRModeSwitcher","design/VRModeSwitchContext","core/data/ModelFactory","ui/ViewModelFactory","platform/common/Dispatcher","platform/dependent/TravelLog","platform/dependent/Process","dataservices/dependent/ServiceUtils","core/uriUtils","dataservices/activation/AuthenticationStatus","dataservices/authentication/AuthenticationManager","dataservices/logging/SignInLogEntry","dataservices/types/NextSteps","core/Debug","core/extend","platform/dependent/Storage","ui/navigation/Breadcrumb","core/logging/Levels","platform/common/DeepLinkAction","platform/common/PaywallConfirmation","platform/dependent/Chromecast","platform/dependent/graphics/Viewport","platform/NetworkCodes","design/ScreenUtil","ui/TemplateManager","lib/lodash/objects/assign","lib/lodash/objects/isEqual","design/logging/DeepLinkLaunchedLogEntry","design/logging/ReauthenticationLogEntry","design/KidsLockCoachmark","design/DesignSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A,k,V,M,D,O,N,F,L,B,H,U){return e.classDef("design.NavigationRouter",[a,l],function(a){e.singleton(function(){a.$ctor.apply(this,arguments),this._portraitOrientation={portrait:!0,portraitReverse:!0,landscape:!1,landscapeReverse:!1},this._landscapeOrientation={portrait:!1,portraitReverse:!1,landscape:!0,landscapeReverse:!0},this._urls=s.new()}),e.properties({_urls:void 0,_postLoginCallback:void 0,_locationsToAvoid:{defaultValue:["Empty","GiveUp","ExceptionInfo","LoginRequired","SingleSignOn","ForgotPassword","AffiliateSelection","AffiliateList","AffiliateLogin","DirectLogin","Registration","Register"]},_portraitOrientation:void 0,_landscapeOrientation:void 0}),e.methods({_getLastBreadcrumbBeforeLogin:function(){for(var e=o.singleton.getHistory(),t=e.length-1;t>=0;t--){var i=e.getAt(t);if(-1===this._locationsToAvoid.indexOf(i.locationName))return i}},_getCurrentBreadcrumb:function(){var e=o.singleton.getHistory();return e.length>0?e.getAt(e.length-1):void 0},_getPreviousBreadcrumb:function(){var e=o.singleton.getHistory();return e.length>1?e.getAt(e.length-2):void 0},getLoginReturnPath:function(){var e,t=this._getLastBreadcrumbBeforeLogin();if(void 0!==t){e=t.uri;var i=t.getActivationArgs();void 0!==i&&void 0!==i.playlistId&&(e=y.addOrReplaceQueryParam(e,"playlistId",i.playlistId));var n=t.getStateArgs();void 0!==n&&!0===n.$autoplay&&(e=y.addOrReplaceQueryParam(e,"autoplay","true"))}return e||(e="/"),e},navigateToUri:function(e,i,n){n=n||{};var r=e.indexOf("?");if(-1!==r){var a=y.parseQueryString(e.substr(r+1));[{name:"autoplay",type:Boolean},{name:"preview",type:Boolean},{name:"scrollReset",type:Boolean},{name:"playlistId",type:String},{name:"showWelcomeOverlay",type:Boolean},{name:"code",type:String},{name:"redirectUri",type:String},{name:"state",type:String}].forEach(function(e){if(void 0!==a[e.name])switch(e.type){case Boolean:n[e.name]="true"===a[e.name];break;case String:n[e.name]=a[e.name]}})}for(var s,l=this._urls.urlTable,c=0,d=l.length;c<d;++c)if(null!==e.match(l[c].url)){s=l[c];break}if(void 0!==s){var u=e.match(s.url),p=u.slice(1);p.push(this),Object.keys(n).length>0&&p.push(n);var h=s.func.apply(this._urls,p),g=this;if(t.is(h))this.runUntilDisposed("navigateToUri",function(){return h.then(function(t){t.originalUri=e,g._ensureOrientationNavigateToHelper(N(t,i))})});else{var f=h;D.singleton.byDesignCall({mobile:function(){if(!0===g._isPlayerLocation(f.locationName)){var t=g._getCurrentBreadcrumb(),i=(t||{}).locationName,n=g._getPreviousBreadcrumb(),r=(n||{}).locationName,a=void 0===t;!0===g._isPlayerLocation(i)&&!0===g._isPlayerLocation(f.locationName)&&o.singleton.removeLastHistoryEntry(),!0===g._isAssetLocation(r)&&o.singleton.removeLastHistoryEntry(),!0!==g._isAssetLocation(r)&&!0!==a||o.singleton.insertIntoHistory({activationArgs:{modelId:f.modelId,modelType:f.modelFactoryId},locationName:"Asset",isAnchor:!1,uri:e})}}}),f.originalUri=e,this._ensureOrientationNavigateToHelper(N(f,i))}}else this.navigateToHome()},navigateToExceptionInfo:function(e,t){var i,n,r,a,s=o.singleton.getActiveBreadcrumb();if(void 0!==s?"GiveUp"===s.locationName||!1===t&&"ExceptionInfo"===s.locationName?i=!0:a=s.uri:(n="RootNavigationMenu",r="rootMenu"),!0!==i){var l="ExceptionInfo";!0===t&&(this._resetState(),l="GiveUp"),this._ensureOrientationNavigateToHelper({locationName:l,modelFactoryId:"ExceptionInfo",modelId:"ExceptionInfo",additionalActivationArgs:{modelInitializationArgs:e},uriModelFactoryId:n,uriModelId:r,uriPath:a,skipInsertIntoHistory:!0})}},getMenuAnalyticsTitlesFromBreadcrumb:function(e){e.locationName;var t=e.getActivationArgs(),i=void 0!==t&&void 0!==t.subcategoryModelId?t.subcategoryModelId:t.modelId,n=_.singleton.getMenuTitleFromMenuId(i),o=[];return void 0!==n&&""!==n&&n.split("/").forEach(function(e){var t=[];e.split("_").forEach(function(e){t.push(e.substr(0,1).toUpperCase()+e.substr(1))}),o.push(t.join(" "))}),o},_navigateToRestartLocation:function(){this.navigateToHome()},handleNewUserDirectLogin:function(e,n,o){var r=h.singleton.create("OttLogin","OttLogin");r.setLoginType(o),r.setCredentials(e,n);var a=this;return a._postLoginCallback=function(){},t.props({loginStatus:r.status,loginInfo:r.loginInfo}).then(function(e){if(e.loginStatus===w.SUCCESS)return a._handleLoginSuccess(e.loginInfo);throw i.new({message:"unexpected authentication failure ("+e.loginStatus+") for new user",area:"design.NavigationRouter.handleNewUserDirectLogin"})})},handleNewUserAffiliateLogin:function(){var e=this;return b.singleton.loginAfterRegistration().then(function(){e._logAuthenticationSuccess()})},handleAffiliateLogin:function(e,t){var i=h.singleton.create("WebLogin","WebLogin");i.setAffiliateResponse(e),i.enableMvpdRelinking=D.singleton.byBrand({hbogo:!1,hbonow:!0}),this._handleLogin(i,{redirectPath:t})},handleDirectLogin:function(e,t,i){var n=h.singleton.create("OttLogin","OttLogin");return n.setCredentials(e,t),this._handleLogin(n,{redirectPath:i,replace:!0})},_handleLogin:function(e,i){var n=this;return t.props({loginStatus:e.status,loginInfo:e.loginInfo}).then(function(e){n.handleAuthEvent(e.loginStatus,e.loginInfo,i)})},handleAuthEvent:function(e,t,i){var n=this;switch(e){case w.SUCCESS:this.runUntilDisposed("_handleAuthEvent:SUCCESS",function(){return n._handleLoginSuccess(t,i)});break;case w.NEEDS_REGISTRATION:this._debugHistory("Login needs registration: "),b.singleton.setRegistrationInfo(t),C.singleton.clearData(),this.navigateToUri("/register");break;case w.NEEDS_VERIFICATION:this._debugHistory("Login needs verification: ")}},_handleLoginSuccess:function(e,t){var i=this;return this._buildPostLoginPromise(e,t).then(function(){i._logAuthenticationSuccess()})},_logAuthenticationSuccess:function(){S.new({area:"design.NavigationRouter._handleLoginSuccess"}).log()},_buildPostLoginPromise:function(e,n){n=n||{};var r=this;return H.singleton.resetWasViewed(),t.all([P.singleton.remove(U.singleton.PC_NOTIFICATION_SHOWN_KEY),P.singleton.remove(U.singleton.WATCHLIST_SORT_ORDER_KEY)]).catch(function(e){i.wrap(e,{message:"Failed to clear watchlist sort order key",level:I.WARNING,area:"design.NavigationRouter.handleAuthEvent"}).logTelemetry()}).then(function(){return b.singleton.activateAndLogin(e)}).then(function(e){return r._debugHistory("AuthenticationManager reported LoggedIn: "+e),D.singleton.byDesignCall({activation:function(){return t.fulfilled(!1)},default:function(){return g.singleton.create("UserPaidForAccess").value}})}).then(function(e){var t={replace:n.replace},i={};D.singleton.byDesignCall({mobile:function(){for(var e=r._getLastBreadcrumbBeforeLogin(),i=o.singleton.getLastBreadcrumb();void 0!==i&&i!==e;)o.singleton.removeLastHistoryEntry(),i=o.singleton.getLastBreadcrumb();D.singleton.byDesignCall({daydream:function(){t.vrModeSwitcherContext=p.AUTHENTICATED_FROM_LOGIN}})}}),D.singleton.byBrandCall({hbonow:function(){i.checkForPaywall=!0}});var a;void 0!==r._postLoginCallback?(a=r._postLoginCallback,r._postLoginCallback=void 0):a=void 0!==n.redirectPath?r._resolvePostLoginCallback(n.redirectPath):r._resolvePostLoginCallback(r.getLoginReturnPath()),a(t,i,e)})},_activate:function(e){var i=this;void 0!==e.postToTokensPayload?i.handleAffiliateLogin(e,this._getActivationPath(e)):b.singleton.getShouldCheckSessionAuthentication()?i.runUntilDisposed("checkSessionAuthentication",function(){return b.singleton.verifySessionAuthentication().then(function(n){if(void 0!==n){var o=v.singleton.getReentryUri(i._getActivationPath(e));return n.getRedirectUri(o).then(function(e){return B.new({area:"design.NavigationRouter._activate"}).log(),e}).then(function(e){v.singleton.navigateExternal(e)})}return i._innerActivate(e),t.fulfilled()}).catch(function(){i._innerActivate(e)})}):i._innerActivate(e)},_innerActivate:function(e){var t;!0!==d.singleton.locked&&(t=r.singleton.getDeepLink(e)),void 0!==t&&(D.singleton.byDesignCall({mobile:function(){o.singleton.clearAllButHome()}}),L.new({area:"design.NavigationRouter._activate",action:x.getName(t.action),linkType:t.source||"Deeplink",target:e.location}).log()),this._navigateToInitialLocation(t,e)},_navigateToInitialLocation:function(e,t){var i=m.singleton.currentBreadcrumbData;if(void 0!==e){var n={};e.action===x.PLAY&&(n.autoplay=!0),!0===t.showWelcomeOverlay&&(n.showWelcomeOverlay=!0),this.navigateToUri(e.model.deepLinkUriPath,void 0,n)}else void 0!==i?this._navigateToTravelBreadcrumb(i):this.navigateToUri(this._getActivationPath(t))},_reactivate:function(e){a._reactivate.apply(this,arguments),void 0!==e?this._activate(e):this.navigateToHome()},_isPlayerLocation:function(e){return"Player"===e},_isAssetLocation:function(e){return"Asset"===e},_locationRequiresVRMode:function(e){return-1!==["GiveUp","ExceptionInfo"].indexOf(e)?u.singleton.isInVRMode:-1===["LoginRequired","SingleSignOn","DirectLogin","ForgotPassword","Register","AffiliateSelection","AffiliateList","AffiliateLogin"].indexOf(e)},_ensureOrientationsCall:function(e,i){var r=D.singleton.byDesign({mobile:!0,desktop:!1}),a=o.singleton.getActiveViewHost(),s=a&&a.breadcrumb.locationName,l=e.locationName;!0===r&&!0===this._isPlayerLocation(s)&&a.pauseVideo();var c=!1;D.singleton.byDesignCall({daydream:function(){c=this._ensureVRMode(e,i)}.bind(this)}),this.cancelDisposablePromise("_ensureOrientationsCall");var d=!0===n.singleton.isPhone?this._portraitOrientation:this._landscapeOrientation;if(!1===c){var u=this._isPlayerLocation(l),p=!1===F(V.singleton.orientations,d);if(!0===r&&(!0!==u&&!0===p||void 0===V.singleton.orientations)){var h=void 0!==a?a.getPreOrientationChangePromise():t.fulfilled();this.runUntilDisposed("_ensureOrientationsCall",function(){return h.then(function(){return V.singleton.setOrientations(d)}).then(function(){i()})}),c=!0}}!1===c&&i()},_ensureVRMode:function(e,i){var n=u.singleton.isInVRMode,r=this._locationRequiresVRMode(e.locationName);if(n===r)return!1;var a=this;return this.runUntilDisposed("_ensureVRMode",function(){var n=o.singleton.getActiveViewHost();a._navigateTo({locationName:"Empty",skipInsertIntoHistory:!0});var s=o.singleton.getActiveViewHost();s&&s.factoryId;var l=t.pending(),c=function(){void 0!==n&&!0!==n.isDisposed||!0!==s.isReady?f.singleton.postTimeout(100).finally(c):l.resolve()};return c(),l.promise.then(function(){return f.singleton.postTimeout(250)}).then(function(){return!0===r?u.singleton.enterVRMode(i,e.vrModeSwitcherContext):u.singleton.enter2DMode(i)}).then(function(e){if(!1===e){var t=a._getCurrentBreadcrumb();o.singleton.navigateBackTo(t)}})}),!0},_checkPlayableStateBeforeNavigation:function(e){this._isPlayerLocation(e.locationName);var i=h.singleton.create(e.modelFactoryId,e.modelId),n=this;this.runUntilDisposed("_checkPlayableStateBeforeNavigation",function(){return t.props({isAuthorized:i.isFree.then(function(i){return!0===i||!0===e.additionalActivationArgs.preview?t.fulfilled(!0):b.singleton.login().then(function(e){return!0===e&&D.singleton.byBrand({hbogo:!0,hbonow:g.singleton.create("UserPaidForAccess").value})})}),isPlatformLocked:i.isPlatformParentalControlRestricted,isServiceLocked:i.isServiceParentalControlRestricted}).then(function(t){D.singleton.byDesignCall({desktop:function(){e.locationName="Asset",n._checkNetworkStateBeforeNavigation(e)},mobile:function(){if(!0===t.isAuthorized)if(void 0!==k.singleton.sessionId){var r=o.singleton.getActiveViewHost(),a=e.additionalActivationArgs.preview||!1;r.showChromecastOverlay(i,a)}else n._checkNetworkStateBeforeNavigation(e);else D.singleton.byDesignCall({daydream:function(){n._postLoginCallback=n._resolvePostLoginCallback(e.originalUri),n.navigateToUri("/loginRequired")},default:function(){void 0===o.singleton.getActiveViewHost()?(n._postLoginCallback=n._resolvePostLoginCallback(e.originalUri),n.navigateToUri("/loginRequired")):D.singleton.byBrandCall({hbonow:function(){var t=function(t){t!==A.IN_APP_PURCHASE?n._postLoginCallback=n._resolvePostLoginCallback(e.originalUri):n.navigateToUri(e.originalUri)},i=O.singleton.getTemplate("PaywallOverlayView");c.singleton.openPopup(i).confirmed.on(t)},default:function(){var t=function(){n._postLoginCallback=n._resolvePostLoginCallback(e.originalUri),n.navigateToUri("/login")},i=O.singleton.getTemplate("SignInRequiredDialogView");c.singleton.openPopup(i).confirmed.on(t)}})}})}})})})},_resolvePostLoginCallback:function(e){return function(t,i,n){var r=this._getLastBreadcrumbBeforeLogin();if("#"===e?o.singleton.refresh(!1,i):!1===n&&!0!==m.singleton.usePlatformNavigation&&void 0!==r?(r._activationArgs=r._activationArgs||{},r._activationArgs.checkForPaywall=!0,o.singleton.navigateBackTo(r)):this.navigateToUri(e,t,i),void 0!==k.singleton.sessionId){var a=this._getCurrentBreadcrumb();o.singleton.navigateBackTo(a)}}.bind(this)},_checkNetworkStateBeforeNavigation:function(e){var t,i=this,o=function(){e.playableStateChecked=!0,i._ensureOrientationNavigateToHelper(e)},r=v.singleton.networkCode;if(r===M.CELLULAR)if(!0===n.singleton.wifiOnlyPlayback){var a=O.singleton.getTemplate("CellularPlaybackErrorView");t=c.singleton.openPopup(a)}else if(!0===n.singleton.cellularPlaybackWarning){var s=O.singleton.getTemplate("CellularPlaybackWarningView");t=c.singleton.openPopup(s),t.okClicked.on(o)}void 0===t&&o()},_ensureOrientationNavigateToHelper:function(e){var t=this;this._ensureOrientationsCall(e,function(){t._navigateToHelper(e)})},_navigateToHelper:function(e){if(-1===this._locationsToAvoid.indexOf(e.locationName)&&(this._postLoginCallback=void 0),this.cancelDisposablePromise("_checkPlayableStateBeforeNavigation"),!0===this._isPlayerLocation(e.locationName)&&!0!==e.playableStateChecked)return void this._checkPlayableStateBeforeNavigation(e);var t;if(void 0!==e.displayUri)t=y.removeQueryParam(e.displayUri,"postToTokensPayload"),this._navigateTo({locationName:e.locationName,activationArgs:e.additionalActivationArgs,uri:t,isAnchor:e.isAnchor,replace:e.replace,clearHistory:e.clearHistory});else{var i=R({modelType:e.modelFactoryId,modelId:e.modelId},e.additionalActivationArgs),n=h.singleton.create(e.uriModelFactoryId||e.modelFactoryId,e.uriModelId||e.modelId);t=v.singleton.makeFullUri(e.uriPath||n.deepLinkUriPath),t=y.removeQueryParam(t,"postToTokensPayload"),t=y.removeQueryParam(t,"showWelcomeOverlay"),t=void 0!==i.playlistId?y.addOrReplaceQueryParam(t,"playlistId",i.playlistId):y.removeQueryParam(t,"playlistId"),this._navigateTo({locationName:e.locationName,activationArgs:i,uri:t,skipInsertIntoHistory:e.skipInsertIntoHistory,isAnchor:e.isAnchor,replace:e.replace,clearHistory:e.clearHistory})}},navigateBackOnly:function(){var e=this,t=this._getPreviousBreadcrumb(),i=t&&t.locationName;this._ensureOrientationsCall({locationName:i},function(){a.navigateBack.call(e)})},_shouldBackOutToHome:function(){var e=D.singleton.byDesign({desktop:!1,mobile:!0}),t=o.singleton.getActiveBreadcrumb(),i=void 0!==t&&"Home"===t.locationName;return!1===o.singleton.hasBackStack&&!0===e&&!1===i},navigateBack:function(){if(this._shouldBackOutToHome())this.navigateToHome();else{D.singleton.byDesign({daydream:!0===o.singleton.hasBackStack,default:!0})&&this.navigateBackOnly()}},tryNavigateBackToName:function(e){var t=o.singleton.getLastBreadcrumbByName(e);if(void 0===t)return!1;var i=t.locationName;return this._ensureOrientationsCall({locationName:i},function(){o.singleton.navigateBackTo(t)}),!0},_navigateToSingleSignOn:function(e){this.navigateToUri("/singleSignOn",{replace:e})},_navigateToTravelBreadcrumb:function(e){var t=E.deserialize(e);this._ensureOrientationsCall({locationName:t.locationName},function(){o.singleton.navigateToTravelBreadcrumb(e)})},navigateToHome:function(){this.navigateToUri("/")},navigateToSearch:function(){this.navigateToUri("/search")},_restrictionsChanged:function(){this.navigateToHome()},_cleanupViews:function(){a._cleanupViews.apply(this,arguments),c.singleton.disposePersistentPopups()}})})})}(),function(){"use strict";define("ui/ScaleMode",["core/oop"],function(e){return e.enumDef("ui.ScaleMode",["NONE","FIT_CONTAINER","SCALE_TO_FILL","SCALE_TO_FIT"])})}(),function(){"use strict";define("platform/dependent/graphics/IImage",["core/oop","platform/dependent/graphics/IDisplayNode"],function(e,t){return e.interfaceDef("platform.dependent.graphics.IImage",t,function(){e.staticScope(function(){e.events(["requestStarted","requestFinished"])}),e.properties({uri:{get:void 0},hasNativeFocusEffect:{get:void 0,set:void 0}}),e.methods({setUri:void 0,setBitmapSource:void 0,setBlurEffect:void 0,cancel:void 0})})})}(),function(){"use strict";define("platform/dependent/graphics/Image",["core/oop","core/Exception","lib/Promise","core/logging/Levels","platform/HttpStatus","core/uriUtils","platform/dependent/graphics/IImage","platform/dependent/graphics/DisplayNode","platform/dependent/HttpClient","platform/common/HttpResponseType"],function(e,t,i,n,o,r,a,s,l,c){var d=e.classDef("platform.dependent.graphics.Image",[s,a],function(a){e.staticScope(function(){e.events(["requestStarted","requestFinished"]),e.methods({_createDOMImageElement:function(){return new window.Image},_createObjectURL:function(e){return window.URL.createObjectURL(e)},_revokeObjectURL:function(e){return window.URL.revokeObjectURL(e)}}),e.properties({_timeoutMS:{defaultValue:12e4}})}),e.constructor(function(e){a.$ctor.call(this,e)}),e.properties({uri:{onChange:function(e){this.setUri(e).catch(this._doNothing)}},hasNativeFocusEffect:{defaultValue:!1},_uriPromiseChain:void 0,_uriPromiseResolver:void 0,_uriCallback:void 0,_imageElement:void 0,_domUri:void 0,_objUri:void 0,_imagePending:void 0}),e.methods({setUri:function(e){this.setDebugData("src",e),this._tryCancelUriPromise();var t=this;return this._uriPromiseResolver=i.pending(),void 0!==e?this._uriPromiseChain=i.try(function(){return d._onRequestStarted(e),t._imagePending=e,r.isLocal(e)?i.fulfilled():t._downloadImage(e)}).then(function(i){var n;return void 0!==i&&(i.status===o.OK?n=i.response:t._rejectImageResolver(e,"network error, status code: "+i.status)),t._revokeObjectUri(),t._domUri=n?t._objUri=d._createObjectURL(n):e,t._setImageUri(e)}).then(function(){d._onRequestFinished(e),t._imagePending=void 0,t._uriPromiseResolver.fulfill()}).catch(function(i){d._onRequestFinished(e),t._imagePending=void 0,t._resetState(!0),t._uriPromiseResolver.reject(i)}):this._uriPromiseResolver.fulfill(),this._uriPromiseResolver.promise},setBitmapSource:function(){},setBlurEffect:function(){},_downloadImage:function(e){return l.singleton.get(e,void 0,d._timeoutMS,c.Blob)},_setImageUri:function(e){var o=i.pending(),r=this;return this._uriCallback=function(i){"load"===i.type?(r._naturalWidth=r._imageElement.width,r._naturalHeight=r._imageElement.height,void 0===r._explicitWidth&&(r._wrappedElement.style.width=r._naturalWidth+"px"),void 0===r._explicitHeight&&(r._wrappedElement.style.height=r._naturalHeight+"px"),r._wrappedElement.style.backgroundImage="url("+r._domUri+")",r._resetState(!1),o.fulfill()):(r._revokeObjectUri(),o.reject(t.new({message:"Failed to load uri: "+e+" (load failure: "+i.type+")",level:n.WARNING,area:"platform.dependent.graphics.Image._rejectImageResolver"})))},this._addImageLoadHandlers(this._imageElement,this._uriCallback),this._imageElement.src=this._domUri,this._uri=e,o.promise},_rejectImageResolver:function(e,i){throw t.new({message:"Failed to load uri: "+e+" ("+i+")",level:n.WARNING,area:"platform.dependent.graphics.Image._rejectImageResolver"})},_addImageLoadHandlers:function(e,t){e.addEventListener("load",t),e.addEventListener("error",t)},_removeImageLoadHandlers:function(e,t){e.removeEventListener("load",t),e.removeEventListener("error",t)},_resetState:function(e){!1===this.isDisposed&&(this._removeImageLoadHandlers(this._imageElement,this._uriCallback),this._uriCallback=void 0,!0===e&&(this._uri=void 0,this._clearImage()))},cancel:function(){this._tryCancelUriPromise()},_tryCancelUriPromise:function(){void 0!==this._imagePending&&(d._onRequestFinished(this._imagePending),this._imagePending=void 0),void 0!==this._uriPromiseChain&&(this._uriPromiseChain.cancel(),this._uriPromiseChain=void 0),void 0!==this._uriPromiseResolver&&(this._uriPromiseResolver.cancel(),this._uriPromiseResolver=void 0),this._resetState(!0)},_clearImage:function(){this._imageElement.removeAttribute("src"),this._wrappedElement.style.backgroundImage=""},_validateChild:function(){throw t.new({message:"Cannot add or remove children to Image",area:"platform.dependent.graphics.Image._validateChild"})},_createWrappedElements:function(){a._createWrappedElements.call(this),this._imageElement=d._createDOMImageElement(),this._wrappedElement.style.backgroundSize="100% 100%"},_revokeObjectUri:function(){void 0!==this._objUri&&(d._revokeObjectURL(this._objUri),this._objUri=void 0)},_revokeDOMUri:function(){void 0!==this._domUri&&(d._revokeObjectURL(this._domUri),this._domUri=void 0)},_disposeCore:function(){this._tryCancelUriPromise(),this._revokeDOMUri(),a._disposeCore.apply(this,arguments)}})});return d})}(),function(){"use strict";define("ui/views/ImageView",["core/oop","core/Exception","lib/Promise","core/logging/Levels","core/HorizontalAlignment","core/VerticalAlignment","ui/ScaleMode","ui/views/View","platform/dependent/graphics/Image","core/Lifecycleable","core/PromiseMultiplexer","platform/common/Color","platform/dependent/graphics/BitmapSource"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("ui.views.ImageView",s,function(s){e.constructor(function(){s.$ctor.apply(this,arguments),this._setUriProperty(this.uri)}),e.properties({uri:{get:function(){return this._uri},set:function(e){this._uri=e,!0===this._isInitialized&&this._setUriProperty(e)}},inAnimation:void 0,outAnimation:void 0,holdPrevious:{defaultValue:!0},hasNativeFocusEffect:{get:function(){return this._hasNativeFocusEffect},set:function(e){this._hasNativeFocusEffect=e,void 0!==this._current&&(this._current.img.hasNativeFocusEffect=this._hasNativeFocusEffect)}},contentHorizontalAlignment:{defaultValue:o.LEFT},contentVerticalAlignment:{defaultValue:r.TOP},contentScaleMode:{defaultValue:a.FIT_CONTAINER},_blurEffectSet:void 0,_targetUri:void 0,_uri:void 0,_uriMultiplexer:void 0,_pending:void 0,_current:void 0,_blurEffect:void 0,_hasNativeFocusEffect:{defaultValue:!1}}),e.methods({getAutomationPeer:function(){var e=s.getAutomationPeer.call(this);return this._uri instanceof p?e.text=[this.name+"_BitmapSource"]:e.text=[this._uri],e},_raiseSizeChanged:function(){s._raiseSizeChanged.apply(this,arguments),void 0!==this._pending&&this._setImageSizeAndPosition(this._pending.img),void 0!==this._current&&this._setImageSizeAndPosition(this._current.img)},_setImageSizeAndPosition:function(e){var t=this.width,i=this.height,n=e.naturalWidth,o=e.naturalHeight;if(this.contentScaleMode===a.NONE)return void this._setImagePosition(e,i,t,o,n);if(this.contentScaleMode===a.FIT_CONTAINER||0===t||0===i||0===n||0===o)return void this._setImageToContainerSizeAndPosition(e);var r=n/o,s=t/i;if(r===s)return void this._setImageToContainerSizeAndPosition(e);r>s==(this.contentScaleMode===a.SCALE_TO_FIT)?(n=t,o=n/r):(o=i,n=o*r),e.width=n,e.height=o,this._setImagePosition(e,i,t,o,n)},_setImageToContainerSizeAndPosition:function(e){e.width=this._explicitWidth,e.height=this._explicitHeight,e.x=0,e.y=0},_setImagePosition:function(e,t,i,n,a){switch(this.contentHorizontalAlignment){case o.LEFT:e.x=0;break;case o.CENTER:e.x=(i-a)/2;break;case o.RIGHT:e.x=i-a}switch(this.contentVerticalAlignment){case r.TOP:e.y=0;break;case r.CENTER:e.y=(t-n)/2;break;case r.BOTTOM:e.y=t-n}},_createImageWrapper:function(e){var t={hasNativeFocusEffect:this._hasNativeFocusEffect};this.contentScaleMode===a.FIT_CONTAINER&&(t.height=this._explicitHeight,t.width=this._explicitWidth);var n=l.new(t),o={img:n,uri:e};return e instanceof p?(o.promise=i.fulfilled(),n.setBitmapSource(e)):o.promise=n.setUri(e),o},_appendImageWrapper:function(e){this._displayContent.children.add(e.img)},_hideImageWrapper:function(e){e.img.isVisible=!1},_showImageWrapper:function(e){e.img.isVisible=!0},_destroyImageWrapper:function(e){e.img.cancel(),this._displayContent.children.remove(e.img),e.img.dispose(),e.img=void 0},_setUriProperty:function(e){this.setUri(e).catch(function(e){t.wrap(e,{message:"setUri promise rejected",level:n.WARNING,area:"ui.views.ImageView.constructor"}).ignore()})},setUri:function(e){return this._setImageSource(e)},_setImageSource:function(e){if(this.lifecycleState===c.LifecycleStates.DEACTIVATED)return i.reject();if(void 0!==this._pending&&e===this._pending.uri||void 0===this._pending&&void 0!==this._current&&e===this._current.uri)return this._uriMultiplexer.addPromise();var o=this;return o.additionalInitialTransitionStates.remove("loaded"),this._targetUri=e,this._blurEffectSet=void 0,void 0===o._uriMultiplexer?o._uriMultiplexer=d.new(function(){void 0!==o._pending&&o._destroyImageWrapper(o._pending),o._pending=o._createImageWrapper(o._targetUri),o._hideImageWrapper(o._pending),o._appendImageWrapper(o._pending);var e=i.pending();return o.runUntilDisposed("setImageSource",function(){var r;return!1===o.holdPrevious&&(r=o._animateOrCleanupCurrentImage()),o._pending.promise.then(function(){var e=[];return o._setImageSizeAndPosition(o._pending.img),o._showImageWrapper(o._pending),void 0!==o.inAnimation&&e.push(o._pending.img.animate(o.inAnimation)),!0===o.holdPrevious&&(r=o._animateOrCleanupCurrentImage()),void 0!==r&&e.push(r),o._fulfillReadyPromise(),o._uri=o._pending.uri,i.all(e)}).then(function(){void 0!==o._current&&o._destroyImageWrapper(o._current),o._current=void 0,void 0!==o._pending.uri&&o.additionalInitialTransitionStates.add("loaded"),o._current=o._pending,o._pending=void 0,void 0===o._explicitHeight&&(o._naturalHeight=o._current.img.naturalHeight),void 0===o._explicitWidth&&(o._naturalWidth=o._current.img.naturalWidth),void 0!==o._blurEffect&&o._applyBlurEffect(),e.fulfill()}).catch(function(i){var r=t.wrap(i,{message:"setImageSource promise rejected",level:n.WARNING,area:"ui.views.ImageView._setImageSource"}).ignore();o._fulfillReadyPromise(),e.reject(r)})}),e.promise}):o._uriMultiplexer.reset(),o._uriMultiplexer.addPromise()},_getInvokedData:function(){return this._uri},_getUserInteractionContext:function(){return{imageUri:this._getInvokedData()}},_animateOrCleanupCurrentImage:function(){var e;return void 0!==this._current&&(void 0!==this.outAnimation?e=this._current.img.animate(this.outAnimation):(this._destroyImageWrapper(this._current),this._current=void 0)),e},clearUri:function(){return this.setUri(void 0).catch(function(e){throw t.wrap(e,{message:"clearUri promise rejected",area:"ui.views.ImageView.clearUri"})})},setBlurEffect:function(e){this._blurEffect=e,this._applyBlurEffect()},clearBlurEffect:function(e){void 0!==this._blurEffectSet&&(this._blurEffect={radius:0,saturation:1,tint:u.new({r:this._blurEffectSet.tint.r,g:this._blurEffectSet.tint.g,b:this._blurEffectSet.tint.b,a:0}),renderScale:this._blurEffectSet.renderScale,duration:e},this._applyBlurEffect()),this._blurEffect=void 0},_applyBlurEffect:function(){void 0!==this._current&&void 0===this._pending&&(this._blurEffectSet=this._blurEffect,this._current.img.setBlurEffect(this._blurEffect))}})})})}(),function(){"use strict";define("ui/AxisLayout",["core/oop","ui/Axis","ui/LayoutBase"],function(e,t,i){return e.classDef("ui.AxisLayout",[i],function(n){e.initConstructor(),e.properties({primaryAxis:{defaultValue:t.VERTICAL},spacing:{defaultValue:0},secondarySpacing:void 0,origin:{defaultValue:{x:0,y:0}},primaryOnly:{defaultValue:!1},hideInvisible:{defaultValue:!1}}),e.methods({_layoutItems:function(e,n,o,r){for(var a=0,s=this.origin,l={x:s.x,y:s.y},c=0,d=this.spacing,u=void 0===this.secondarySpacing?d:this.secondarySpacing,p=this.primaryAxis,h=0,g=n.length;h<g;h++){var f=n[h],m=f.layoutProps&&f.layoutProps.margin||i._defaultMargins;this._layoutItem(f,m,l,r);var v=this._getItemWidth(f,m),_=this._getItemHeight(f,m),y=p===t.VERTICAL?_:v;c=Math.max(c,y),a++;!1===this._shouldMoveToPrimaryAxis(a,m,l,v,_,n[h+1],u)?p===t.VERTICAL?l.x+=v+u:l.y+=_+u:(a=0,p===t.VERTICAL?(l.x=s.x,l.y+=c+d):(l.x+=c+d,l.y=s.y),c=0)}},_layoutItem:function(e,i,n,o){!0===this.primaryOnly?this.primaryAxis===t.HORIZONTAL?e.x=n.x+i.left:e.y=n.y+i.top:(e.x=n.x+i.left,e.y=n.y+i.top),void 0!==o&&o(e)},_shouldMoveToPrimaryAxis:function(){},_getItemWidth:function(e,t){return t.left+(e.width||0)+t.right},_getItemHeight:function(e,t){return t.top+(e.height||0)+t.bottom},_filterItems:function(e){var t=this;return n._filterItems.apply(this,arguments).filter(function(e){return!1===t.hideInvisible||!1!==e.isVisible})}})})})}(),function(){"use strict";define("ui/GridLayout",["core/oop","ui/AxisLayout"],function(e,t){return e.classDef("ui.GridLayout",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({secondaryAxisItemCount:{defaultValue:1}}),e.methods({_shouldMoveToPrimaryAxis:function(e){return e>=this.secondaryAxisItemCount}})})})}(),function(){"use strict";define("ui/WrappedLayout",["core/oop","ui/Axis","ui/AxisLayout"],function(e,t,i){return e.classDef("ui.WrappedLayout",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({maxSecondaryExtent:void 0}),e.methods({_shouldMoveToPrimaryAxis:function(e,i,n,o,r,a,s){var l=!1;if(void 0!==a)if(this.primaryAxis===t.VERTICAL){var c=this._getItemWidth(a,i);l=n.x+o+s+c>this.maxSecondaryExtent+this.origin.x}else{var d=this._getItemHeight(a,i);l=n.y+r+s+d>this.maxSecondaryExtent+this.origin.y}return l}})})})}(),function(){"use strict";define("ui/IItemsView",["core/oop"],function(e){return e.interfaceDef("ui.IItemsView",void 0,function(){e.properties({localViewport:{get:void 0},ancestorCanFocusItems:{get:void 0,set:void 0},pageScrollViewport:{get:void 0},itemsBounds:{get:void 0},primaryAxis:{get:void 0},canFocusItems:{get:void 0},focusedItem:{get:void 0},dataItemCount:{get:void 0},scrollPadding:{get:void 0},trailingEdgeRealizedItems:{get:void 0},leadingEdgeRealizedItems:{get:void 0}}),e.methods({moveFocusIntoViewport:void 0,getFocusedItemRect:void 0,adjustTargetScrollRect:void 0,
focusWithHint:void 0,clearPageScrollViewport:void 0,getAncestorNestedItemIndex:void 0,resetFocusIndex:void 0,updateScrollConstraints:void 0})})})}(),function(){"use strict";define("ui/IItemSelector",["core/oop"],function(e){return e.interfaceDef("ui.IItemSelector",void 0,function(){e.properties({selectedIndex:{get:void 0,set:void 0},isManipulating:{get:void 0}}),e.events(["selectedIndexChanged"]),e.methods({scrollFocusedItemIntoViewport:void 0})})})}(),function(){"use strict";define("platform/dependent/ISound",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.ISound",t,function(){e.methods({load:void 0,play:void 0})})})}(),function(){"use strict";define("platform/dependent/PooledSound",["core/oop","platform/dependent/ISound","lib/Promise","core/Disposable","core/Exception","core/logging/Counters","core/logging/Levels"],function(e,t,i,n,o,r,a){return e.classDef("platform.dependent.PooledSound",[n,t],function(t){e.constructor(function(){this._created()}),e.properties({_source:void 0,_pool:void 0,_poolSize:void 0,_counterName:void 0}),e.methods({load:function(e,t){if(void 0!==this._source)return i.reject(o.new({message:"Should only call .load() once per sound object.",level:a.ERROR,area:"platform.dependent.Sound.load"}));this._source=e,this._counterName="Sounds.Available."+e,this._pool=[],this._poolSize=t;for(var n=[],r=0;r<t;r++)n.push(this._addInstance());return i.all(n)},play:function(){if(void 0!==this._pool){var e=this._pool.pop();void 0!==e?this._play(e):this._poolSize>0&&o.new({message:"No sound elements available for "+this._source,level:a.WARNING,area:"platform.dependent.Sound.play"}).logTelemetry()}},_play:function(e){r.singleton.decrementCounter(this._counterName),e.play()},_soundReady:function(e){!0!==this.isDisposed&&(this._pool.push(e),r.singleton.incrementCounter(this._counterName))},_disposeCore:function(){this._pool=void 0,t._disposeCore.apply(this,arguments)},_addInstance:function(){}})})})}(),function(){"use strict";define("platform/dependent/Sound",["core/oop","core/Exception","core/logging/Levels","lib/Promise","platform/dependent/PooledSound","application/ClientDevice"],function(e,t,i,n,o,r){var a=e.classDef("platform.dependent.Sound",o,function(o){e.constructor(function(){o.$ctor.apply(this,arguments),this._audioElements=[]}),e.staticScope(function(){e.methods({_createDOMAudioElement:function(){return window.document.createElement("audio")}})}),e.properties({_audioElements:void 0}),e.methods({_disposeCore:function(){this._audioElements=void 0,o._disposeCore.apply(this,arguments)},_addInstance:function(){o._addInstance.apply(this,arguments);var e=this,s=n.pending(),l=a._createDOMAudioElement();this._audioElements.push(l);var c=function(){s.reject(t.new({message:"Failed to load sound: "+l.src,level:i.WARNING,area:"platform.dependent.Sound.load"}).logTelemetry())},d=function(){e._soundReady(l)},u=function(){l.muted=!1,l.removeEventListener("ended",u),l.removeEventListener("error",c),l.addEventListener("ended",d),d(),s.fulfill()},p=function(){l.removeEventListener("canplaythrough",p),r.singleton.performanceLevel===r.PerformanceLevels.LOW?(l.addEventListener("ended",u),l.play(),l.muted=!0):u()};return l.addEventListener("error",c),l.addEventListener("canplaythrough",p),l.src=this._source,l.load(),s.promise}})});return a})}(),function(){"use strict";define("ui/SoundManager",["core/oop","core/Exception","core/PromiseManager","platform/dependent/Sound","core/logging/Levels","lib/lodash/collections/forEach","ui/TemplateManager","lib/lodash/objects/forIn"],function(e,t,i,n,o,r,a,s){return e.classDef("ui.SoundManager",i,function(i){e.singleton(function(){i.$ctor.call(this);var e=this,t=a.singleton.getTemplate("SoundManager").createInstance();this._soundNames=Object.getOwnPropertyNames(t),r(t,function(t,i){e[i]=t})}),e.properties({focusSound:void 0,invokeSound:void 0,backSound:void 0,disabledSound:void 0,errorSound:void 0,dialogOpenSound:void 0,dialogCloseSound:void 0,contextOpenSound:void 0,contextCloseSound:void 0,browseMenuOpenSound:void 0,browseMenuCloseSound:void 0,_soundNames:void 0,_soundInstances:void 0}),e.methods({init:function(){this._soundInstances={};for(var e=0;e<this._soundNames.length;e++){var t=this[this._soundNames[e]];void 0===this._soundInstances[t.uri]&&t.poolSize>0&&this._loadSound(t.uri,t.poolSize)}},play:function(e){if(void 0!==e&&void 0!==e.uri){var t=this._soundInstances[e.uri];void 0!==t&&t.play()}},_loadSound:function(e,i){var r=n.new();r.load(e,i).catch(function(i){t.wrap(i,{message:"Failed to load sound: "+e,level:o.WARNING,area:"ui.SoundManager.load"}).logTelemetry()}),this._soundInstances[e]=r},_disposeCore:function(){s(this._soundInstances,function(e){e.dispose()}),this._soundInstances=void 0,i._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("ui/input/ButtonRepeatHelper",["core/oop","platform/input/ButtonProvider","core/Disposable","core/Lifecycleable"],function(e,t,i,n){return e.classDef("ui.input.ButtonRepeatHelper",i,function(i){e.initConstructor(void 0,function(){this._pressedHandler=this._onButtonPressed.bind(this),this._lifecycleHandler=this._onLifecycleStateChanged.bind(this),this.pressedEvent.on(this._pressedHandler),void 0!==this.lifecycleStateChangedEvent&&this.lifecycleStateChangedEvent.on(this._lifecycleHandler),this._created()}),e.properties({nextTimesForButtons:void 0,pressedCallback:void 0,pressedEvent:void 0,lifecycleStateChangedEvent:void 0,_buttonPressedVersion:{defaultValue:0},_nextRepeatTime:void 0,_pressedHandler:void 0,_lifecycleHandler:void 0}),e.methods({_onButtonPressed:function(e){var i=e.button,n=this.nextTimesForButtons[i],o=e.pressedDuration,r=t.singleton;0===o?this.pressedCallback(e):void 0!==n&&r.lastButtonStillPressed===i&&(this._buttonPressedVersion!==r.buttonPressedCount&&(this._nextRepeatTime=void 0,this._buttonPressedVersion=r.buttonPressedCount),void 0===this._nextRepeatTime?(this._nextRepeatTime=this._calculateNextTime(o,n),e.handled=!0):o>this._nextRepeatTime?(this._nextRepeatTime=this._calculateNextTime(o,n),this.pressedCallback(e)):e.handled=!0)},_calculateNextTime:function(e,t){for(var i=0,n=t.length,o=0;o<n&&!((i+=t[o])>e);++o);if(i<=e){var r=t[n-1],a=(e-i)/r;i+=Math.ceil(a)*r,i<=e&&(i+=r)}return i},_onLifecycleStateChanged:function(e){e===n.LifecycleStates.SUSPENDED?this._nextRepeatTime=void 0:e===n.LifecycleStates.DEACTIVATED&&this.dispose()},_disposeCore:function(){this.pressedEvent.off(this._pressedHandler),void 0!==this.lifecycleStateChangedEvent&&this.lifecycleStateChangedEvent.off(this._lifecycleHandler),this._pressedHandler=void 0,this._lifecycleHandler=void 0,this._nextRepeatTime=void 0,this._buttonPressedVersion=void 0,i._disposeCore.apply(this,arguments)}})})})}(),define("lib/lodash/internals/baseFlatten",["../objects/isArguments","../objects/isArray"],function(e,t){function i(n,o,r,a){for(var s=(a||0)-1,l=n?n.length:0,c=[];++s<l;){var d=n[s];if(d&&"object"==typeof d&&"number"==typeof d.length&&(t(d)||e(d))){o||(d=i(d,o,r));var u=-1,p=d.length,h=c.length;for(c.length+=p;++u<p;)c[h++]=d[u]}else r||c.push(d)}return c}return i}),define("lib/lodash/objects/pick",["../internals/baseFlatten","../functions/createCallback","./forIn","./isObject"],function(e,t,i,n){function o(o,r,a){var s={};if("function"!=typeof r)for(var l=-1,c=e(arguments,!0,!1,1),d=n(o)?c.length:0;++l<d;){var u=c[l];u in o&&(s[u]=o[u])}else r=t(r,a,3),i(o,function(e,t,i){r(e,t,i)&&(s[t]=e)});return s}return o}),define("lib/lodash/arrays/findIndex",["../functions/createCallback"],function(e){function t(t,i,n){var o=-1,r=t?t.length:0;for(i=e(i,n,3);++o<r;)if(i(t[o],o,t))return o;return-1}return t}),function(){"use strict";define("ui/UISettings",["core/oop"],function(e){return e.classDef("ui.UISettings",Object,function(){e.singleton(function(){}),e.properties({enableVirtualization:{defaultValue:!0}})})})}(),function(){"use strict";define("ui/views/ItemsViewBase",["core/oop","core/Exception","ui/Axis","ui/ViewStates","ui/GridLayout","ui/WrappedLayout","ui/IItemsView","ui/IItemSelector","platform/input/Buttons","core/Lifecycleable","lib/Promise","ui/views/ScrollView","core/math/rect","ui/SoundManager","platform/common/Dispatcher","ui/input/ButtonRepeatHelper","lib/lodash/objects/pick","lib/lodash/arrays/findIndex","lib/lodash/collections/forEach","ui/ITargetableHighlight","core/Debug","lib/lodash/objects/isEqual","ui/UISettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S){return e.classDef("ui.views.ItemsViewBase",[u,a,s],function(s){e.constructor(function(){if(this._onViewModelDataChangedCallback=this._onViewModelDataChanged.bind(this),this._onChildLayoutRequestedCallback=this._onChildLayoutRequested.bind(this),this._recycledItemData=[],s.$ctor.apply(this,arguments),void 0!==this.buttonRepeatTimeDeltas){var e=this._onButtonPressedOrReleased.bind(this),t={};(this.primaryAxis===i.VERTICAL||this.secondaryAxisItemCount>1)&&(t[l.UP]=this.buttonRepeatTimeDeltas,t[l.DOWN]=this.buttonRepeatTimeDeltas),(this.primaryAxis===i.HORIZONTAL||this.secondaryAxisItemCount>1)&&(t[l.LEFT]=this.buttonRepeatTimeDeltas,t[l.RIGHT]=this.buttonRepeatTimeDeltas),!0===this.allowButtonPagination&&(t[l.NEXT]=this.buttonRepeatTimeDeltas,t[l.PREV]=this.buttonRepeatTimeDeltas),this._repeatHelper=f.new({nextTimesForButtons:t,pressedCallback:e,pressedEvent:this.buttonPressed,lifecycleStateChangedEvent:this.lifecycleStateChanged})}this._updateViewModelData()}),e.properties({viewModel:{onChange:"_onViewModelChanged"},itemSpacing:{defaultValue:0},secondaryItemSpacing:void 0,minScrollWidth:void 0,contentPadding:{defaultValue:{left:0,right:0,top:0,bottom:0}},allowButtonPagination:void 0,buttonRepeatTimeDeltas:void 0,setSelectionAfterManipulation:{defaultValue:!1},pageScrollViewport:{get:function(){return this._pageScrollViewport}},itemsBounds:{get:function(){return{x:this.x+this.contentPadding.left,y:this.y+this.contentPadding.top,width:this.width-this.contentPadding.left-this.contentPadding.right,height:this.height-this.contentPadding.top-this.contentPadding.bottom}}},fixedItemWidth:void 0,fixedItemHeight:void 0,computeChildA11yText:{defaultValue:!1},bufferOnPrimaryAxis:{defaultValue:0,onChange:function(e){this._displayProxy.scrollBuffer=e,this._queueViewportChange()}},primaryAxis:{defaultValue:i.VERTICAL},primaryOnly:{defaultValue:!1},secondaryAxisItemCount:{defaultValue:1,onChange:function(){this._queueViewportChange()}},selectedIndex:{defaultValue:-1,onChange:"_onSelectedIndexChangedHandler"},focusedIndex:{defaultValue:-1,onChange:"_onFocusedIndexChangedHandler"},syncFocusAndSelection:{defaultValue:!0},focusSelectedItemUponFocus:{defaultValue:!1},autoScroll:{defaultValue:!1},autoScrollOnActivation:{defaultValue:!1},canAutoscrollWithoutFocus:{defaultValue:!1},snapAtEachItem:{defaultValue:!1},clearFocusOnManipulation:{defaultValue:!1},shouldRecycleItems:{defaultValue:!0},animateSelectionScrolling:void 0,itemFactoryMap:void 0,itemTemplateMap:void 0,runsLayout:{get:function(){return!1}},ancestorCanFocusItems:{defaultValue:!0,onChange:"_onCanFocusItemsChanged"},focusedItem:{get:function(){return this._getItemAtIndex(this.focusedIndex)},set:function(e){if(void 0!==this._realizedItemViews){var t=this._realizedItemViews.indexOf(e);this.focusedIndex=t+this._realizedItemViewsStartIndex}}},selectedItem:{get:function(){return this._getItemAtIndex(this.selectedIndex)},set:function(e){if(void 0!==this._realizedItemViews){var t=this._realizedItemViews.indexOf(e);this.selectedIndex=t+this._realizedItemViewsStartIndex}}},canFocusItems:{get:function(){return!0===this._canFocusItems&&!0===this.ancestorCanFocusItems}},dataItemCount:{get:function(){return this._dataItemCount}},constrainScrollingToRealizationWindow:{defaultValue:!1},trailingEdgeRealizedItems:{get:function(){var e=this._trailingEdgeRealizedItems;if(void 0!==this._realizedItemViews&&this._realizedItemViews.length>0){var t=this._realizedItemViews[0];!0===t.implementsInterface(a)&&(e=t.x+t.trailingEdgeRealizedItems),0===this._getIndexOfItem(t)&&(e-=this.contentPadding.left)}return e}},leadingEdgeRealizedItems:{get:function(){var e=this._leadingEdgeRealizedItems;if(void 0!==this._realizedItemViews&&this._realizedItemViews.length>0){var t=this._realizedItemViews[this._realizedItemViews.length-1];!0===t.implementsInterface(a)&&(e=t.x+t.leadingEdgeRealizedItems),this._getIndexOfItem(t)===this._dataItemCount-1&&(e+=this.contentPadding.right)}return e}},highlightOpacityFromItemViewModel:void 0,handleChildLayoutRequested:{defaultValue:!1},isManipulating:{defaultValue:!1,privateSet:!0},_trailingEdgeRealizedItems:{defaultValue:0},_leadingEdgeRealizedItems:{defaultValue:0},_isRefreshingSubtreeStyles:{defaultValue:!1},_repeatHelper:void 0,_onViewModelDataChangedCallback:void 0,_onChildLayoutRequestedCallback:void 0,_itemsStateArgs:void 0,_itemsStateArgsStartIndex:{defaultValue:-1},_realizedItemViews:void 0,_realizedItemViewsStartIndex:{defaultValue:-1},_recycledItemData:void 0,_pendingItemViewsCount:{defaultValue:-1},_pendingItemViewsStartIndex:{defaultValue:-1},_dataItemCount:{defaultValue:0},_pageScrollViewport:void 0,_canMoveFocusIntoViewport:{get:function(){return!0===this._isVirtualizing||void 0!==this._realizedItemViews}},_canSetInitialScroll:{get:function(){var e=!0,t=this.parent,i=this;return t.visitUp(function(t){return!0===t.implementsInterface(a)&&t.focusedItem!==i?e=!1:i=t,!1===e}),e}},_isHandlingButtonPress:{defaultValue:!1},_isVirtualizing:{get:function(){return!0===S.singleton.enableVirtualization&&(void 0!==this.fixedItemWidth&&void 0!==this.fixedItemHeight)}},_virtGroupDimensionOnPrimaryAxis:{get:function(){return this.primaryAxis===i.VERTICAL?this.fixedItemHeight:this.fixedItemWidth}},_virtGroupDimensionOnSecondaryAxis:{get:function(){return this.primaryAxis===i.VERTICAL?this.fixedItemWidth:this.fixedItemHeight}},_virtGroupMaxIndex:{get:function(){return Math.ceil(this._dataItemCount/this.secondaryAxisItemCount)-1}},_realizationViewportDimensionOnPrimaryAxis:{get:function(){var e=this._getCombinedRealizationViewport();return this.primaryAxis===i.VERTICAL?e.height:e.width}},_virtViewportLeadingOffset:{get:function(){var e=this._getCombinedRealizationViewport(),t=this.primaryAxis===i.VERTICAL,n=t?e.y:e.x;return n-=t?this.scrollPadding.top:this.scrollPadding.left}},_virtViewportLeadingEdgeAsGroupIndex:{get:function(){return Math.floor(this._virtViewportLeadingOffset/(this._virtGroupDimensionOnPrimaryAxis+this.itemSpacing))}},_virtViewportTrailingEdgeAsGroupIndex:{get:function(){var e=this._getCombinedRealizationViewport(),t=this._virtViewportLeadingOffset,n=this.primaryAxis===i.VERTICAL?t+e.height:t+e.width;return Math.ceil(n/(this._virtGroupDimensionOnPrimaryAxis+this.itemSpacing)-1)}},_virtGroupStartIndex:{get:function(){return Math.max(0,Math.min(this._virtViewportLeadingEdgeAsGroupIndex,this._virtGroupMaxIndex))}},_virtItemStartIndex:{get:function(){return this._virtGroupStartIndex*this.secondaryAxisItemCount}},_virtItemCount:{get:function(){var e=this._virtViewportLeadingEdgeAsGroupIndex,t=this._virtViewportTrailingEdgeAsGroupIndex,i=t-e+1,n=i*this.secondaryAxisItemCount;e<0&&(n-=(0-e)*this.secondaryAxisItemCount);var o=this._virtGroupMaxIndex;if(t>=o){var r=this._dataItemCount%this.secondaryAxisItemCount;r>0&&(n-=this.secondaryAxisItemCount-r),t>o&&(n-=(t-o)*this.secondaryAxisItemCount)}return n}},_virtPrimaryAxisExtent:{get:function(){var e=Math.ceil(this._dataItemCount/this.secondaryAxisItemCount),t=this._virtGroupDimensionOnPrimaryAxis+this.itemSpacing;return Math.max(0,e*t-this.itemSpacing+this._primaryHeaderSpacing+this._primaryFooterSpacing)}},_virtSecondaryAxisExtent:{get:function(){var e=this._virtGroupDimensionOnSecondaryAxis+this.itemSpacing;return Math.max(0,this.secondaryAxisItemCount*e-this.itemSpacing+this._secondaryHeaderSpacing+this._secondaryFooterSpacing)}},_primaryHeaderSpacing:{get:function(){return this.primaryAxis===i.VERTICAL?Math.max(this.contentPadding.top,this.scrollPadding.top):Math.max(this.contentPadding.left,this.scrollPadding.left)}},_secondaryHeaderSpacing:{get:function(){return this.primaryAxis===i.VERTICAL?Math.max(this.contentPadding.left,this.scrollPadding.left):Math.max(this.contentPadding.top,this.scrollPadding.top)}},_primaryFooterSpacing:{get:function(){return this.primaryAxis===i.VERTICAL?Math.max(this.contentPadding.bottom,this.scrollPadding.bottom):Math.max(this.contentPadding.right,this.scrollPadding.right)}},_secondaryFooterSpacing:{get:function(){return this.primaryAxis===i.VERTICAL?Math.max(this.contentPadding.right,this.scrollPadding.right):Math.max(this.contentPadding.bottom,this.scrollPadding.bottom)}},_canFocusItems:{defaultValue:!0,onChange:"_onCanFocusItemsChanged"},_needFocusItem:{defaultValue:!1},_allowScrollingDuringFocus:{defaultValue:!0}}),e.events(["selectedIndexChanged","itemsRealized"]),e.methods({focus:function(){this._focus()},focusWithHint:function(e){this._focus(e)},notifyChildNativeFocused:function(e){var t=this._canFocusItems,i=this._getIndexOfItem(e);-1!==i&&(this._canFocusItems=!1,this.focusedIndex=i,this._canFocusItems=t),s.notifyChildNativeFocused.apply(this,arguments)},updateScrollConstraints:function(){if(!0===this.constrainScrollingToRealizationWindow){var e=this.primaryAxis===i.VERTICAL,t=this.trailingEdgeRealizedItems-(e?this.scrollPadding.top:this.scrollPadding.left),n=Math.max(0,this.leadingEdgeRealizedItems+(e?this.scrollPadding.bottom-this.height:this.scrollPadding.right-this.width));t=Math.max(t,e?this.contentPadding.top-this.scrollPadding.top:this.contentPadding.left-this.scrollPadding.left),n=Math.max(t,Math.min(n,e?this.scrollHeight-this.height-(this.contentPadding.bottom-this.scrollPadding.bottom):this.scrollWidth-this.width-(this.contentPadding.right-this.scrollPadding.right)));var o,r,s=t,l=n;!0===e&&(s=void 0,l=void 0,o=t,r=n),this._displayProxy.nativeScrollConstraints={minX:s,maxX:l,minY:o,maxY:r}}void 0!==this.parent&&!0===this.parent.implementsInterface(a)&&this.parent.updateScrollConstraints()},getAncestorNestedItemIndex:function(e){var i=this._getIndexOfItem(e);if(-1===i)return-1;if(void 0!==this.parent&&this.parent.implementsInterface(a)){var n=this.parent.getAncestorNestedItemIndex(this);return-1===n?-1:n+i}if(!0===this._isVirtualizing)throw t.new({message:"getAncestorNestedItemIndex only supports non-virtualized outer ItemsViews",area:"ui.views.ItemsView.getAncestorNestedItemIndex"});for(var o=i,r=0;r<o;r++){var s=this._getItemAtIndex(r);s.implementsInterface(a)&&(i+=s.dataItemCount-1)}return i},getItemOffset:function(e){this._isVirtualizing,this._dataItemCount,this._dataItemCount;var t=Math.min(e,this._dataItemCount),n=Math.floor(t/this.secondaryAxisItemCount),o=this._virtGroupDimensionOnPrimaryAxis+this.itemSpacing,r=this._primaryHeaderSpacing+n*o,a=this._virtGroupDimensionOnSecondaryAxis+this.itemSpacing,s=t%this.secondaryAxisItemCount,l=this._secondaryHeaderSpacing+s*a;return{x:this.primaryAxis===i.HORIZONTAL?r:l,y:this.primaryAxis===i.VERTICAL?r:l}},getAutomationPeer:function(){var e=s.getAutomationPeer.call(this);return e.primaryAxis=this.primaryAxis,e.secondaryAxisItemCount=this.secondaryAxisItemCount,e.dataItemCount=this.dataItemCount,e.startIndex=this._realizedItemViewsStartIndex,e},_focus:function(e){if(s.focus.call(this),this.focusSelectedItemUponFocus&&this.selectedIndex>=0)this.focusedIndex=this.selectedIndex;else{var t;void 0!==e&&(t=this._getNearestItemIndex(e)),void 0!==t?this.focusedIndex=t:(this.focusedIndex<0||this.focusedIndex>=this._dataItemCount)&&(this.focusedIndex=this._dataItemCount>0?0:-1)}this._tryFocusItem()},resetFocusIndex:function(){this.focusedIndex=-1,this._forEachRealizedItem(function(e){e.implementsInterface(a)&&e.resetFocusIndex()})},scrollFocusedItemIntoViewport:function(e){var t=this.focusedIndex;if(t>=0&&t<this._dataItemCount&&!0===this.isReady){var i=this.getFocusedItemRect();this._scrollIntoViewport(i,e)}},scrollItemIntoViewport:function(e,t){if(e>=0&&e<this._dataItemCount&&!0===this.isReady){var i=this._getItemRect(e);this._scrollIntoViewport(i,t)}},getFocusedItemRect:function(){var e,t=this.focusedItem;return void 0!==t?!0===t.implementsInterface(a)&&t.focusedIndex>=0?(e=t.getFocusedItemRect(),e.x+=t.x,e.y+=t.y):e={x:t.x,y:t.y,width:t.width,height:t.height}:e=this._getVirtualizedItemBounds(this.focusedIndex),e},_getItemRect:function(e){var t=this._getItemAtIndex(e);return void 0!==t?{x:t.x,y:t.y,width:t.width,height:t.height}:this._getVirtualizedItemBounds(e)},_getNearestItemIndex:function(e){var n={x:this.x,y:this.y,width:this.width,height:this.height};p.intersects(e,n)&&this._rejectReadyPromise(t.new({message:"_getNearestItemIndex only supports computing nearest items for non-intersecting rects",area:"ui.views.ItemsView._getNearestItemIndex"}));var o,r,a,s,l,c=this.primaryAxis===i.VERTICAL,d=Math.ceil(this._dataItemCount/this.secondaryAxisItemCount),u=(d-1)*this.secondaryAxisItemCount,h=c?this.secondaryAxisItemCount-1:u,g=c?u:this.secondaryAxisItemCount-1,f=this.dataItemCount-1,m=c?this.secondaryAxisItemCount:1,v=c?1:this.secondaryAxisItemCount,_=e.y>n.y+n.height;e.x+e.width<=n.x?(o=0,r=g,a=m,s=this._getVerticalIntersectPercentage,!0===_&&(l=r)):e.x>=n.x+n.width?(o=h,r=f,a=m,s=this._getVerticalIntersectPercentage,!0===_&&(l=r)):e.y+e.height<=n.y?(o=0,r=h,a=v,s=this._getHorizontalIntersectPercentage):(o=g,r=f,a=v,s=this._getHorizontalIntersectPercentage),r=Math.min(this._dataItemCount-1,r);var y=l;if(void 0===y){y=o;for(var w,b=o;b<=r;b+=a){var S=this._getItemRect(b);S.x+=this.x,S.y+=this.y;var C=s.call(this,S,e);(void 0===w||C>w)&&(w=C,y=b)}}return y},_getVerticalIntersectPercentage:function(e,t){var i={x:e.x,y:t.y,width:t.width,height:t.height};return p.intersect(i,e).height/e.height},_getHorizontalIntersectPercentage:function(e,t){var i={x:t.x,y:e.y,width:t.width,height:t.height};return p.intersect(i,e).width/e.width},_getItemAtIndex:function(e){if(void 0!==this._realizedItemViews)return this._realizedItemViews[e-this._realizedItemViewsStartIndex]},_getIndexOfItem:function(e){if(void 0!==this._realizedItemViews){var t=this._realizedItemViews.indexOf(e);if(-1!==t)return t+this._realizedItemViewsStartIndex}return-1},_onLifecycleStateChanged:function(e){e===c.LifecycleStates.DEACTIVATED&&(void 0!==this.viewModel&&(this.viewModel=void 0),this._cleanupRecycledItemData()),s._onLifecycleStateChanged.apply(this,arguments),e===c.LifecycleStates.ACTIVATED&&(!0!==this.autoScroll&&!0!==this.autoScrollOnActivation||!0!==this._canSetInitialScroll||this.scrollFocusedItemIntoViewport(!1),!0===this._isVirtualizing&&this._tryRealizeItems())},_cleanupRecycledItemData:function(){},_onViewModelChanged:function(e,t){s._onViewModelChanged.apply(this,arguments),void 0!==t&&t.dataChanged.off(this._onViewModelDataChangedCallback),void 0!==e&&e.dataChanged.on(this._onViewModelDataChangedCallback),!0===this._isInitialized&&this.lifecycleState!==c.LifecycleStates.DEACTIVATED&&(this._cleanupRealizedItems(),this._updateViewModelData())},_onViewModelDataChanged:function(){if(!0===this._isVirtualizing)throw t.new({message:"ItemsViewBase doesn't support dataChanged when virtualizing",area:"ui.views.ItemsView._onViewModelDataChanged"});this._updateViewModelData()},_updateViewModelData:function(){this.cancelDisposablePromise("itemsViewBaseCreateItemsPromiseChain"),this._tryRealizeItems()},_tryRealizeItems:function(e){var t=this,i=e||{isRefreshingSubtreeStyles:this._isRefreshingSubtreeStyles};i.virtGroupStartIndex=this._virtGroupStartIndex,void 0!==this.viewModel?this.runUntilDisposed("_tryRealizeItems",function(){return t.viewModel.items.then(function(e){return i.items=e,i.items.length()}).then(function(e){t._dataItemCount=e,t._tryRealizeItemsCore(i)})}):(this._dataItemCount=0,this._layout(),this.cancelDisposablePromise("_tryRealizeItems"))},_tryRealizeItemsCore:function(e){if(void 0===this._realizedItemViews&&this._layout(),!0===this._isVirtualizing&&this.lifecycleState!==c.LifecycleStates.ACTIVATED)this.cancelDisposablePromise("itemsViewBaseCreateItemsPromiseChain"),this._fulfillReadyPromise();else if(!1===this._isVirtualizing)this._realizeItems(this._dataItemCount,0,e);else{var t=this._virtItemStartIndex,i=this._virtItemCount;this._pendingItemViewsStartIndex===t&&this._pendingItemViewsCount===i&&void 0!==this._realizedItemViews||(this._pendingItemViewsStartIndex=t,this._pendingItemViewsCount=i,this._realizeItems(i,t,e))}},_recycleItem:function(e,t){e.isVisible=!1,this._recycledItemData.push({view:e,needsReset:t})},_realizeItems:function(e,t,i){i.items;var n=this,o=i;o.nextItemViews=new Array(e),o.nextItemViewsStartIndex=t,n.runUntilDisposed("itemsViewBaseCreateItemsPromiseChain",function(){var e=o.nextItemViewsStartIndex,t=o.nextItemViews.length;if(o.spareItemsCount=0,!0===n._isVirtualizing){var i=n._recycledItemData.length,r=n._realizationViewportDimensionOnPrimaryAxis/n._virtGroupDimensionOnPrimaryAxis,a=Math.ceil(r)*n.secondaryAxisItemCount,s=Math.max(0,a-t);i+t<a&&e+a<n._dataItemCount&&(o.spareItemsCount=s)}return o.items.getRange(e,e+t+o.spareItemsCount).then(function(e){o.itemsRealized=0,o.pendingItemViews=o.nextItemViews,o.pendingItemViewsStartIndex=o.nextItemViewsStartIndex;var t=n._recycledItemData.slice(0),i=e.length-o.spareItemsCount;o.pendingItemViews.length,o.pendingItemViews.length,o.spareItemsCount,JSON.stringify(n.getContextualData()),e.forEach(function(e,r){var a,s=n._getItemFactoryIdOrTemplate(e.factoryId);if(o.itemsRealized<i){var l=r+o.pendingItemViewsStartIndex,c=l-n._realizedItemViewsStartIndex;if(void 0!==n._realizedItemViews&&0<=c&&c<n._realizedItemViews.length){var d=n._realizedItemViews[c];d.viewModel.factoryId===e.factoryId&&d.viewModel.equals(e)&&(a=d)}if(void 0===a){for(var u=0;u<t.length;u++)if(!0===n._isSameView(t[u].view,s)){a=t.splice(u,1)[0].view;break}if(void 0!==a)!0!==a.isReadyInit&&!0===a.isReady&&a.viewModel!==e&&a.resetReady(),a.viewModel=e;else{var p=n._getItemsStateArgs(o.pendingItemViewsStartIndex+r);a=n._createItem(e,s,p),n._recycleItem(a,!1)}}o.itemsRealized++,o.pendingItemViews[r]=a}else a=n._createItem(e,s),n._recycleItem(a,!1)});var r=[];return o.pendingItemViews.forEach(function(e){r.push(e.afterReady)}),r.length,o.pendingItemViews.length,d.all(r)}).then(function(){n._itemsStateArgs=void 0,n._itemsStateArgsStartIndex=-1,n._becomeReady(o)})})},_createItem:function(e,t,i){},_getItemFactoryIdOrTemplate:function(e){},_isSameView:function(e,t){},refreshStyles:function(){this._isRefreshingSubtreeStyles=!0,this._viewportChangeQueued=!1;var e;!0===this._isVirtualizing&&(e={virtGroupStartIndex:this._virtGroupStartIndex}),s.refreshStyles.apply(this,arguments),this._layout(e),this.scrollFocusedItemIntoViewport(!1),this._isRefreshingSubtreeStyles=!1},enumerateLogicalChildren:function(e){this._forEachRealizedItem(function(t){e(t)}),this._forEachRecycledItem(function(t){e(t)})},_queueViewportChange:function(){if(!1===this._viewportChangeQueued||!0===this._isRefreshingSubtreeStyles){this._viewportChangeQueued=!0;var e=this,t=this._isRefreshingSubtreeStyles;this.runUntilDisposed("ItemsViewBase._queueViewportChange",function(){return g.singleton.queue().then(function(){var i={isRefreshingSubtreeStyles:t};e._onViewportChanged(i)})})}},_onViewportChanged:function(e){s._onViewportChanged.call(this),!0===this._isVirtualizing&&this._tryRealizeItems(e)},_getCombinedRealizationViewport:function(){var e=s._getCombinedRealizationViewport.call(this),t=this.bufferOnPrimaryAxis;return e=this.primaryAxis===i.VERTICAL?{x:e.x,y:e.y-t,width:e.width,height:e.height+2*t}:{x:e.x-t,y:e.y,width:e.width+2*t,height:e.height}},_onCanFocusItemsChanged:function(){this._propagateCanFocusItems()},_propagateCanFocusItems:function(){var e=this.canFocusItems;this._forEachRealizedItem(function(t){t.implementsInterface(a)&&(t.ancestorCanFocusItems=e)})},_setSelectedIndexFromRoutedEvent:function(e){var t=this._getItemIndexFromSubView(e.target);t>-1&&(this.selectedIndex=t)},_getItemIndexFromSubView:function(e){var t=-1;return void 0!==this._realizedItemViews&&e.visitUp(function(e){var i=this._realizedItemViews.indexOf(e);return i>-1&&(t=i+this._realizedItemViewsStartIndex),i>-1||e===this},this),t},_becomeReady:function(e){var t=e.pendingItemViews;this._cleanupRealizedItems(t),this._realizedItemViews=t,this._realizedItemViewsStartIndex=e.pendingItemViewsStartIndex,this._layout({virtGroupStartIndex:e.virtGroupStartIndex}),this._propagateViewport(),t.forEach(this._makeItemReady.bind(this)),this._updateReadyState(),this._tryFocusItem(void 0,!0===e.isRefreshingSubtreeStyles),this._trySelectItem(),this._tryTargetHighlight(!1),this._fulfillReadyPromise(),this._onItemsRealized()},_makeItemReady:function(e){var t=function(e){return e.view===this},i=v(this._recycledItemData,t,e);i>=0&&(!0===this._recycledItemData[i].needsReset&&this._recycleChild(e),this._recycledItemData.splice(i,1)),e.isVisible=!0,void 0===e.parent&&this._parentChild(e)},_recycleChild:function(e){},_parentChild:function(e){},_updateReadyState:function(){},_cleanupRealizedItems:function(e){var t=this,i=t._realizedItemViews;t._realizedItemViews=void 0,void 0!==i&&i.forEach(function(i){(void 0!==e?e.indexOf(i):-1)<0&&(!0===t.handleChildLayoutRequested&&i.layoutRequested.off(t._onChildLayoutRequestedCallback),!0===t.shouldRecycleItems&&!0===t._isVirtualizing?t._recycleItem(i,!0):t._cleanUpNonRecycledItem(i))})},_cleanUpNonRecycledItem:function(e){},_getItemsStateArgs:function(e){return void 0!==this._itemsStateArgs&&this._itemsStateArgsStartIndex>=0?this._itemsStateArgs[e-this._itemsStateArgsStartIndex]||{}:{}},_getStateArgs:function(){var e=s._getStateArgs.apply(this,arguments),t=[];return this._forEachRealizedItem(function(e,i){t[i]=e.stateArgs}),e.selectedIndex=this.selectedIndex,e.focusedIndex=this.focusedIndex,e.itemsStateArgsStartIndex=this._realizedItemViewsStartIndex,e.itemsStateArgs=t,e},_setStateArgs:function(e){s._setStateArgs.apply(this,arguments),void 0!==e.selectedIndex&&(this.selectedIndex=e.selectedIndex),void 0!==e.focusedIndex&&(this.focusedIndex=e.focusedIndex),void 0!==e.itemsStateArgsStartIndex&&void 0!==e.itemsStateArgs&&(this._itemsStateArgsStartIndex=e.itemsStateArgsStartIndex,this._itemsStateArgs=e.itemsStateArgs)},_tryFocusItem:function(e,t){if(void 0!==this._realizedItemViews&&!0===this.canFocusItems&&(!0===this.hasFocusWithin||!0===this.canAutoscrollWithoutFocus)){if(!0===this.hasFocusWithin){this._needFocusItem=!1;var i=this.focusedItem;void 0!==i&&(!0===i.implementsInterface(a)&&void 0!==e?i.focusWithHint(e):i.focus())}if(!0===this.autoScroll&&!0===this._allowScrollingDuringFocus){var n=!0===this.animateSelectionScrolling&&!0!==t;this.scrollFocusedItemIntoViewport(n)}}},_onChildLayoutRequested:function(){this._layout()},_layout:function(e){e=e||{virtGroupStartIndex:this._virtGroupStartIndex};var t=this.primaryAxis===i.VERTICAL,n=this._isVirtualizing,o={x:!1===t?this._primaryHeaderSpacing:this._secondaryHeaderSpacing,y:!0===t?this._primaryHeaderSpacing:this._secondaryHeaderSpacing};if(!0===n){var r=e.virtGroupStartIndex,a=r*(this._virtGroupDimensionOnPrimaryAxis+this.itemSpacing);!0===t?o.y+=a:o.x+=a}var s=this._createLayout(o),l=s.run(this,this._realizedItemViews||[],void 0,function(e){!0===e.flipHorizontal&&(e.x+=e.width)});this._trailingEdgeRealizedItems=t?l.y:l.x,this._leadingEdgeRealizedItems=t?l.y+l.height:l.x+l.width,!0===n?l={x:0,y:0,width:!0===t?this._virtSecondaryAxisExtent:this._virtPrimaryAxisExtent,height:!0===t?this._virtPrimaryAxisExtent:this._virtSecondaryAxisExtent}:(l.width+=!1===t?this._primaryFooterSpacing:this._secondaryFooterSpacing,l.height+=!0===t?this._primaryFooterSpacing:this._secondaryFooterSpacing),this._scrollWidth=Math.max(this.minScrollWidth||0,l.x+l.width),this._scrollHeight=Math.max(this.minScrollHeight||0,l.y+l.height),this._setNaturalSize(this.scrollWidth,this.scrollHeight),this.updateScrollConstraints(),this._generateSnapPoints()},_createLayout:function(e){var t,n={primaryAxis:this.primaryAxis,primaryOnly:this.primaryOnly,spacing:this.itemSpacing,secondarySpacing:this.secondaryItemSpacing,origin:e}
;return void 0!==this.secondaryAxisItemCount?(n.secondaryAxisItemCount=this.secondaryAxisItemCount,t=o.new(n)):(n.maxSecondaryExtent=this.primaryAxis===i.HORIZONTAL?this.height:this.width,t=r.new(n)),t},_generateSnapPoints:function(){if(!0===this.snapAtEachItem){var e=this.primaryAxis===i.VERTICAL;!1===e&&!0===this.canScrollHorizontally?this._updateSnapPoints("snapPointsX"):!0===e&&!0===this.canScrollVertically&&this._updateSnapPoints("snapPointsY")}},_updateSnapPoints:function(e){var t=this._generatePrimaryAxisSnapPoints();!1===b(t,this[e])&&(this[e]=t)},_generatePrimaryAxisSnapPoints:function(){var e=[],t=0;if(e.push(t),!0===this._isVirtualizing)for(var n=0;n<this._dataItemCount;n++)t+=this._virtGroupDimensionOnPrimaryAxis+this.itemSpacing,e.push(t);else{var o=this;_(this._realizedItemViews,function(n){var r=o.primaryAxis===i.HORIZONTAL?n.width:n.height;t+=r+o.itemSpacing,e.push(t)})}return e},_normalizeButtonToPrimaryHorizontal:function(e){var t=!1;return this.visitUp(function(e){!0===e.flipHorizontal&&(t=!t)}),!0===t&&(e===l.LEFT?e=l.RIGHT:e===l.RIGHT&&(e=l.LEFT)),this.primaryAxis===i.VERTICAL&&(e===l.UP?e=l.LEFT:e===l.RIGHT?e=l.DOWN:e===l.DOWN?e=l.RIGHT:e===l.LEFT&&(e=l.UP)),e},_page:function(e){this.clearPageScrollViewport();var t=this.localViewport,n=this.primaryAxis===i.VERTICAL,o=this._tryRestoreFocusAfterScroll()&&this.focusedIndex>=0&&!0===this._canMoveFocusIntoViewport&&(!0===n&&!0===this.canScrollVertically||!1===n&&!0===this.canScrollHorizontally),r=!1;if(!0===o){var a={x:t.x+(!0===n?0:!0===e?t.width:-t.width),y:t.y+(!0===n?!0===e?t.height:-t.height:0),width:t.width,height:t.height},s=this.scrollWidth-(this.contentPadding.right-this.scrollPadding.right),l=!0===e?Math.min(s-a.width,a.x):Math.max(this.contentPadding.left-this.scrollPadding.left,a.x),c=this.scrollHeight-(this.contentPadding.bottom-this.scrollPadding.bottom),d=!0===e?Math.min(c-a.height,a.y):Math.max(this.contentPadding.top-this.scrollPadding.top,a.y);this._pageScrollViewport={x:!0===n?a.x:l,y:!0===n?d:a.y,width:a.width,height:a.height};var u;!0===this.hasFocusWithin&&(u=this._getNestedFocusedItemRect(this.focusedItem));var p=this.getFocusedItemRect();this._moveFocusIntoViewport(a,u,this.focusedIndex,!1===e,!0,!0),this.scrollFocusedItemIntoViewport(this.animateSelectionScrolling);var h=this.getFocusedItemRect();r=p.x!==h.x||p.y!==h.y}return r},pageForward:function(){return this._page(!0)},pageBackward:function(){return this._page(!1)},_buttonRestoresFocus:function(e){return e===l.UP||e===l.DOWN||e===l.RIGHT||e===l.LEFT||e===l.NEXT||e===l.PREV||e===l.OK},_tryRestoreFocusAfterScroll:function(){if(!1===this._isManipulating&&!0===this._canMoveFocusIntoViewport){if(!0===this._needFocusItem||-1===this.focusedIndex){this._canFocusItems=!0;var e=this.localViewport;this.moveFocusIntoViewport(e,void 0,!1,!1,!1),this._tryFocusItem()}return!0}return!1},_onManipulationStarted:function(){s._onManipulationStarted.apply(this,arguments),this._canFocusItems=!1===this.clearFocusOnManipulation,this._needFocusItem=!0===this.clearFocusOnManipulation,this._isManipulating=!0,this.clearPageScrollViewport(),!0===this.hasFocusWithin&&!0===this.clearFocusOnManipulation&&this._findInputScope().resetFocus()},_onManipulationStopped:function(){s._onManipulationStopped.apply(this,arguments),this._isManipulating=!1},_onProxyScrollInertia:function(e,t){if(s._onProxyScrollInertia.apply(this,arguments),!0===this.setSelectionAfterManipulation){var i=this.localViewport;if(void 0!==e){var n=e-this.scrollOffsetX;i.x+=n}if(void 0!==t){var o=t-this.scrollOffsetY;i.y+=o}this._allowScrollingDuringFocus=!1,this.moveFocusIntoViewport(i,void 0,!1,!1,!1),this._allowScrollingDuringFocus=!0}},_onScrollOffsetXChanged:function(){s._onScrollOffsetXChanged.apply(this,arguments),this._queueViewportChange()},_onScrollOffsetYChanged:function(){s._onScrollOffsetYChanged.apply(this,arguments),this._queueViewportChange()},_onPreinvoked:function(e){s._onPreinvoked.apply(this,arguments),this._allowScrollingDuringFocus=!1,this._setSelectedIndexFromRoutedEvent(e),this._allowScrollingDuringFocus=!0},_onButtonPressed:function(){s._onButtonPressed.apply(this,arguments),void 0===this._repeatHelper&&this._onButtonPressedOrReleased.apply(this,arguments)},_onButtonPressedOrReleased:function(e){this._isHandlingButtonPress=!0;var t=e.button,i=!1;if(this.clearPageScrollViewport(),this._buttonRestoresFocus(t)&&!0===this._needFocusItem&&this._tryRestoreFocusAfterScroll())e.handled=!0;else if(t===l.NEXT)!0===this.allowButtonPagination&&(e.handled=this.pageForward(),i=e.handled);else if(t===l.PREV)!0===this.allowButtonPagination&&(e.handled=this.pageBackward(),i=e.handled);else{t=this._normalizeButtonToPrimaryHorizontal(t);var n=this._dataItemCount-1,o=this.secondaryAxisItemCount,r=this.focusedIndex,a=r%o,s=Math.min(o-1,n),c=Math.floor(r/o),d=Math.floor(n/o);t===l.UP&&a>0?(this.focusedIndex=r-1,e.handled=!0):t===l.RIGHT&&c<d?(this.focusedIndex=Math.min(n,r+o),e.handled=!0):t===l.DOWN&&a<s&&r!==n?(this.focusedIndex=r+1,e.handled=!0):t===l.LEFT&&c>0&&(this.focusedIndex=r-o,e.handled=!0),i=e.handled}!0===i&&h.singleton.play(h.singleton.focusSound),this._isHandlingButtonPress=!1},clearPageScrollViewport:function(){this._pageScrollViewport=void 0;var e=this.parent;void 0!==e&&!0===e.implementsInterface(a)&&e.clearPageScrollViewport()},_onSelectedIndexChangedHandler:function(e,t){!0===this.syncFocusAndSelection&&(this.focusedIndex=e);var i=this._getItemAtIndex(t);void 0!==i&&i.setViewStateFlag(n.SELECTED,!1),this._trySelectItem(),this._onSelectedIndexChanged(e,t)},_onParentChanged:function(){s._onParentChanged.apply(this,arguments),this._trySelectItem()},_onViewStateChanged:function(){s._onViewStateChanged.apply(this,arguments),this._trySelectItem()},_trySelectItem:function(){var e=this.selectedItem;void 0!==e&&(e.setViewStateFlag(n.SELECTED,!0),this._tryTargetHighlight(!0))},_tryTargetHighlight:function(e){var t=this._highlightView,i=this.selectedItem;if(void 0!==i&&void 0!==t&&t.implementsInterface(y)){var n=this._getHighlightOpacity(i);t.setHighlightTarget(m(i,["x","y","width","height"]),n,e)}},_getHighlightOpacity:function(e){var t=e.viewModel;if(void 0!==t&&void 0!==this.highlightOpacityFromItemViewModel){var i=this.highlightOpacityFromItemViewModel[t.factoryId];if(void 0!==i)return i}return 1},_onHighlightViewCreated:function(){this._tryTargetHighlight(!1)},_onFocusedIndexChangedHandler:function(e,t){!0===this.syncFocusAndSelection&&(this.selectedIndex=e);var i;void 0===this._pageScrollViewport&&(i=this._getNestedFocusedItemRect(this._getItemAtIndex(t))),this._tryFocusItem(i)},_getNestedFocusedItemRect:function(e){var t;return void 0!==e&&!0===e.implementsInterface(a)&&e.focusedIndex>=0&&(t=e.getFocusedItemRect(),t.x+=e.x,t.y+=e.y),t},_getVirtualizedItemBounds:function(e){var t=e%this.secondaryAxisItemCount,n=Math.floor(e/this.secondaryAxisItemCount),o=this.fixedItemWidth+this.itemSpacing,r=this.fixedItemHeight+this.itemSpacing,a=this.primaryAxis===i.VERTICAL;return{x:o*(!0===a?t:n)+(!1===a?this._primaryHeaderSpacing:this._secondaryHeaderSpacing),y:r*(!0===a?n:t)+(!0===a?this._primaryHeaderSpacing:this._secondaryHeaderSpacing),width:this.fixedItemWidth,height:this.fixedItemHeight}},_scrollIntoViewport:function(e,t){var i=!0===this._isHandlingButtonPress;this.visitUp(function(n){if(n instanceof u){var o=n.localViewport,r=n.pageScrollViewport||o,s=void 0===n.pageScrollViewport?0:n.pageScrollViewport.x-o.x,l=void 0===n.pageScrollViewport?0:n.pageScrollViewport.y-o.y,c=r.x,d=r.x+r.width,p=r.y,h=r.y+r.height;c+=n.scrollPadding.left,d-=n.scrollPadding.right,p+=n.scrollPadding.top,h-=n.scrollPadding.bottom;var g=n.scrollOffsetX,f=n.scrollOffsetY;!0===n.canScrollHorizontally&&(g=u._calculateNewScrollOffset(g,s,n.snapPointsX,c,d,e.x,e.width)),!0===n.canScrollVertically&&(f=u._calculateNewScrollOffset(f,l,n.snapPointsY,p,h,e.y,e.height)),g===n.scrollOffsetX&&f===n.scrollOffsetY||n.scrollTo(g,f,t,i),!0===n.implementsInterface(a)&&n.adjustTargetScrollRect(e),e.x+=this.scrollOffsetX,e.y+=this.scrollOffsetY}e.x+=n.x,e.y+=n.y})},adjustTargetScrollRect:function(){},moveFocusIntoViewport:function(e,t,i,n,o){if(!1===this._canMoveFocusIntoViewport)return!1;var r;return void 0!==t&&!1===this.hasFocusWithin&&(r=this._getNearestItemIndex(t)),void 0===r&&(r=this.focusedIndex),this._moveFocusIntoViewport(e,t,r,i,n,o)},_moveFocusIntoViewport:function(e,t,i,n,o,r){var s,l,c,d=this._isVirtualizing,u=this._dataItemCount,h=this.secondaryAxisItemCount,g=Math.ceil(u/h),f=(g-1)*h,m=Math.max(0,i%h);!0!==n?(s=m,l=function(e){return e<u},c=function(e){var t=h;return e<f&&e+t>=u?u-1-e:t}):(s=Math.min(u-1,m+f),l=function(e){return e>=0},c=function(e){var t=-h;if(e===s){t+=m-s%h}return t});for(var v=s;!0===l(v);v+=c(v)){var _,y=!0===r&&!1===l(v+c(v));if(!0===d)_=this._getVirtualizedItemBounds(v);else{var w=this._realizedItemViews[v];if(w.implementsInterface(a)){var b={x:e.x-w.x,y:e.y-w.y,width:e.width,height:e.height};if(!1===p.isEmpty(b)&&!0===w.moveFocusIntoViewport(b,t,n,o,y))return this.focusedIndex=v,!0}_=w.implementsInterface(a)?w.itemsBounds:{x:w.x,y:w.y,width:w.width,height:w.height}}if(!0===y||p.contains(e,_)||!0===o&&p.intersects(e,_))return this.focusedIndex=v,!0}return!1},_forEachRealizedItem:function(e){if(void 0!==this._realizedItemViews)for(var t=0;t<this._realizedItemViews.length;t++)e.call(this,this._realizedItemViews[t],t)},_forEachRecycledItem:function(e){for(var t=0;t<this._recycledItemData.length;t++)e.call(this,this._recycledItemData[t].view,t)},_getAccessibilityTextImpl:function(){if(!0===this.computeChildA11yText){var e="";return this.children.forEach(function(t){e+=t.getAccessibilityText()+". "}),e}return s._getAccessibilityTextImpl()}})})})}(),function(){"use strict";define("ui/views/ReactItemsView",["core/oop","core/Debug","lib/Promise","ui/views/ItemsViewBase","ui/UISettings"],function(e,t,i,n,o){return e.classDef("ui.views.ReactItemsView",n,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),!1===o.singleton.enableVirtualization||this._isVirtualizing,this.handleChildLayoutRequested}),e.properties({stateSetter:void 0,dataItemTransformer:void 0,_nextContainerIndex:{defaultValue:0}}),e.methods({_isSameView:function(e,t){return!0},_createItem:function(e,t,i){var n={viewModel:e,containerKey:"container"+this._nextContainerIndex,width:this.fixedItemWidth,height:this.fixedItemHeight};return void 0!==i&&(n.stateArgs=i),this._nextContainerIndex+=1,n},_getState:function(e){return e.map(function(e){var t={containerKey:e.containerKey,style:{width:e.width,height:e.height,isVisible:e.isVisible,stateArgs:e.stateArgs}};return!0===e.isVisible&&(t.style.x=e.x,t.style.y=e.y),t})},_updateReadyState:function(){var e=this;this.runUntilDisposed("_updateReadyState",function(){var t=e._recycledItemData.map(function(e){return e.view.isVisible,e.view}),n=e._getState(e._realizedItemViews),o=e._getState(t),r=e._realizedItemViews.map(function(t){return e.dataItemTransformer(t.viewModel)});return i.all(r).then(function(t){for(var i=0;i<n.length;++i)n[i].data=t[i];e.stateSetter({dataItems:n.concat(o)})})})},_forEachRealizedItem:function(e){for(var t=this.children,i=0;i<t.length;i++)e(t.getAt(i),i)},_forEachRecycledItem:function(e){}})})})}(),function(){"use strict";define("ui/views/ButtonScrollView",["core/oop","ui/views/ScrollView","platform/input/Buttons","ui/input/ButtonRepeatHelper"],function(e,t,i,n){return e.classDef("ui.views.ButtonScrollView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments);var e=this._onButtonPressedOrRepeated.bind(this);if(void 0!==this.buttonRepeatTimeDeltas){var o={};!0===this.canScrollVertically&&(o[i.UP]=this.buttonRepeatTimeDeltas,o[i.DOWN]=this.buttonRepeatTimeDeltas),!0===this.canScrollHorizontally&&(o[i.LEFT]=this.buttonRepeatTimeDeltas,o[i.RIGHT]=this.buttonRepeatTimeDeltas),this._repeatHelper=n.new({nextTimesForButtons:o,pressedCallback:e,pressedEvent:this.buttonPressed,lifecycleStateChangedEvent:this.lifecycleStateChanged})}}),e.properties({buttonScrollingIncrement:void 0,buttonRepeatTimeDeltas:void 0,buttonPressedProps:{onChange:"_onButtonPressedPropsChanged"},_repeatHelper:void 0}),e.methods({_onButtonPressed:function(){t._onButtonPressed.apply(this,arguments),void 0===this._repeatHelper&&this._onButtonPressedOrRepeated.apply(this,arguments)},_onButtonPressedOrRepeated:function(e){var t=e.button,n=this.scrollOffsetY,o=this.scrollOffsetX;t===i.UP?(n-=this.buttonScrollingIncrement,!0===this.canScrollVertically&&n>-this.buttonScrollingIncrement&&(e.handled=!0)):t===i.DOWN?(n+=this.buttonScrollingIncrement,!0===this.canScrollVertically&&(e.handled=!0)):t===i.LEFT?(o-=this.buttonScrollingIncrement,!0===this.canScrollHorizontally&&o>-this.buttonScrollingIncrement&&(e.handled=!0)):t===i.RIGHT&&(o+=this.buttonScrollingIncrement,!0===this.canScrollHorizontally&&(e.handled=!0)),this.scrollTo(o,n,this.animateButtonScrolling)},_onButtonPressedPropsChanged:function(e){this._onButtonPressedOrRepeated(e)},_getAccessibilityTextImpl:function(){var e=this.children.getAt(0);return void 0!==e?e.getAccessibilityText():void 0}})})})}(),function(){"use strict";define("ui/AnchoredLayout",["core/oop","ui/LayoutBase","lib/lodash/objects/clone"],function(e,t,i){return e.classDef("ui.AnchoredLayout",[t],function(){e.initConstructor(),e.methods({_layoutItems:function(e,t,n,o){var r=this._getMaxItemSize(t);r=this._applyContainerMinMax(e,r);var a=n&&n.width||r.width,s=n&&n.height||r.height,l=this,c={x:0,y:0,width:a,height:s},d=i(c);t.forEach(function(e){var t=l._anchorItem(d,e);if(e.width>0&&e.height>0){if(t.crop.left!==t.crop.right){var i=t.margin.left+e.width+t.margin.right;d.width=Math.max(0,d.width-i),!0===t.crop.left&&(d.x+=i)}if(t.crop.top!==t.crop.bottom){var n=t.margin.top+e.height+t.margin.bottom;d.height=Math.max(0,d.height-n),!0===t.crop.top&&(d.y+=n)}void 0!==o&&o(e)}})}})})})}(),function(){"use strict";define("platform/dependent/graphics/IHyperlink",["core/oop","platform/dependent/graphics/IDisplayNode"],function(e,t){return e.interfaceDef("platform.dependent.graphics.IHyperlink",t,function(){e.properties({uri:{get:void 0,set:void 0}})})})}(),function(){"use strict";define("platform/dependent/graphics/HyperlinkBase",["core/oop","platform/dependent/graphics/DisplayNode","platform/dependent/graphics/DOMElementWrapper","platform/dependent/graphics/IHyperlink"],function(e,t,i,n){return e.classDef("platform.dependent.graphics.HyperlinkBase",[t,n],function(t){e.constructor(function(){this._onClickCallback=this._onClick.bind(this),t.$ctor.apply(this,arguments)}),e.properties({uri:{defaultValue:void 0,onChange:function(e){this._wrappedElement.href=e}},_onClickCallback:void 0}),e.methods({_disposeCore:function(){this._wrappedElement.removeEventListener("click",this._onClickCallback),t._disposeCore.apply(this,arguments)},_onClick:function(e){0===e.button&&e.preventDefault()},_createWrappedElements:function(){var e=i.createDOMElement("a");e.className="default",e.addEventListener("click",this._onClickCallback),this._wrappedElement=e,this._wrappedElementChildContainer=this._wrappedElement}})})})}(),function(){"use strict";define("platform/dependent/graphics/Hyperlink",["core/oop","platform/dependent/graphics/HyperlinkBase","platform/dependent/input/PointerDevice"],function(e,t,i){return e.classDef("platform.dependent.graphics.Hyperlink",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({_onClick:function(e){!1===i.isModifiedEvent(e)&&t._onClick.apply(this,arguments)}})})})}(),function(){"use strict";define("ui/views/SimpleHyperlinkView",["core/oop","ui/AnchoredLayout","ui/views/View","platform/dependent/Process","platform/dependent/graphics/Hyperlink","design/NavigationRouter","core/uriUtils","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r,a,s){return e.classDef("ui.views.SimpleHyperlinkView",i,function(i){e.constructor(function(){this.layout=t.new(),i.$ctor.apply(this,arguments)}),e.properties({uri:void 0,uriParams:void 0,isExternal:{defaultValue:!1},openInExternalProcess:{defaultValue:!0}}),e.methods({getAutomationPeer:function(){var e=i.getAutomationPeer.call(this);return e.uri=this.uri,e},_createDisplayProxy:function(){return o.new({owner:this})},_onInvoked:function(e){i._onInvoked.apply(this,arguments);var t=this._getUriWithUriParams();e.handled=!0,!0===this.isExternal?n.singleton.navigateExternal(t,this.openInExternalProcess):r.singleton.navigateToUri(t)},_getUserInteractionContext:function(){return{linkTarget:this._getUriWithUriParams(),isExternal:this.isExternal,linkData:this._getInvokedData()}},_getUriWithUriParams:function(){var e=this.uri;return void 0!==this.uriParams&&s(this.uriParams,function(t,i){e=a.addOrReplaceQueryParam(e,i,t)}),e}})})})}(),function(){"use strict";define("platform/dependent/graphics/ISelector",["core/oop","platform/dependent/graphics/IDisplayNode"],function(e,t){return e.interfaceDef("platform.dependent.graphics.ISelector",t,function(){e.properties({options:{get:void 0},optionFormat:{get:void 0},optionHorizontalPadding:{get:void 0},arrowImageUri:{get:void 0},selectedIndex:{get:void 0,set:void 0}}),e.events(["selectedIndexChanged"]),e.methods({setFocus:void 0})})})}(),function(){"use strict";define("platform/dependent/graphics/Selector",["core/oop","platform/dependent/graphics/ISelector","platform/dependent/graphics/DisplayNodeBase","platform/dependent/graphics/DisplayNode","platform/dependent/graphics/DOMElementWrapper","core/Exception","platform/dependent/graphics/Span","platform/dependent/graphics/DynamicStyleManager"],function(e,t,i,n,o,r,a,s){return e.classDef("platform.dependent.graphics.Selector",[n,t],function(t){e.constructor(function(){this._options=[],t.$ctor.apply(this,arguments),this._updateOptions(this._options),this._onChangeHandler=this._onChange.bind(this),this._getSelect().addEventListener("change",this._onChangeHandler),this._setSelectPadding(this.optionHorizontalPadding),this._setupArrowImageUri(),this._getSelect().addEventListener("mousedown",this._onMouseEvent),this._getSelect().addEventListener("mouseup",this._onMouseEvent)}),e.properties({options:{defaultValue:void 0,onChange:"_updateOptions"},optionFormat:{defaultValue:void 0,onChange:function(e){a._textFormatToCSS(e,this._getSelect().style)}},arrowImageUri:{defaultValue:void 0},optionHorizontalPadding:{defaultValue:0},selectedIndex:{defaultValue:-1,onChange:function(e){if(e>=this.options.length)throw r.new({message:"selectedIndex is out of bounds",area:"platform.dependent.graphics.Selector.selectedIndex"});this._getSelect().selectedIndex=e,this._onSelectedIndexChanged()}},_onChangeHandler:void 0}),e.events(["selectedIndexChanged"]),e.methods({setFocus:function(e){!0===e?this._getSelect().focus():this._getSelect().blur()},_disposeCore:function(){var e=this._getSelect();e.removeEventListener("change",this._onChangeHandler),e.removeEventListener("mousedown",this._onMouseEvent),e.removeEventListener("mouseup",this._onMouseEvent),e.id&&s.singleton.removeStyle(e.id),t._disposeCore.apply(this,arguments)},_createWrappedElements:function(){var e=o.createDOMElement("select");e.style.border=0,e.className="default",this._wrappedElement=e,this._wrappedElementChildContainer=this._wrappedElement},_onChange:function(){this.selectedIndex=this._getSelect().selectedIndex},_onMouseEvent:function(e){e.stopPropagation()},_validateChild:function(){throw r.new({message:"Cannot add or remove children to Selector",area:"platform.dependent.graphics.Selector._validateChild"})},_onBackgroundColorChanged:function(e){var t=i._colorToCSS(e);""===t&&0===e.a&&(t="transparent"),this._getSelect().style.backgroundColor=t},_setSelectPadding:function(e){var t=e+"px",i=this._getSelect().style;i.paddingLeft=t,i.paddingRight=t},_setupArrowImageUri:function(){var e=this.arrowImageUri;if(void 0!==e){var t=this._getSelect(),i=t.style;i.backgroundImage='url("'+e+'")',i.backgroundRepeat="no-repeat",i.backgroundPosition="right",i.webkitAppearance="none",i.MozAppearance="none";var n="select"+this._disposableId,o="#"+n;t.id=n,s.singleton.addStyle(n,o+"::-ms-expand { display: none; }")}},_getSelect:function(){return this._wrappedElement},_updateOptions:function(e){if(this._isInitialized){var t=this.optionHorizontalPadding+"px",i=this._getSelect();i.innerHTML="";var n=i.options;e.forEach(function(e){var i=o.createDOMElement("option"),r=i.style;r.paddingLeft=t,r.paddingRight=t,i.text=e,n.add(i)})}}})})})}(),function(){"use strict";define("ui/views/SelectorView",["core/oop","core/Debug","ui/views/View","platform/dependent/graphics/Selector","core/Exception","lib/Promise","ui/ViewStates"],function(e,t,i,n,o,r,a){return e.classDef("ui.views.SelectorView",i,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._selector=n.new({options:this.options||[],optionFormat:this.optionFormat,arrowImageUri:this.arrowImageUri,optionHorizontalPadding:this.optionHorizontalPadding,selectedIndex:this.selectedIndex,width:this._explicitWidth,height:this._explicitHeight,borderThickness:this.borderThickness,borderColor:this.borderColor,backgroundColor:this.backgroundColor}),this._updateSize(),this.hookUntilDisposed(this._selector,"selectedIndexChanged",function(){var e=this._selector.selectedIndex;void 0!==this.initialOptionValue&&e--,this.selectedIndex=e}.bind(this)),this._displayContent.children.add(this._selector),void 0!==this.options&&void 0===this.viewModel&&this._fulfillReadyPromise()}),e.properties({viewModel:{onChange:"_onViewModelChanged"},options:{defaultValue:void 0,onChange:function(e){if(this._isInitialized){var t=e||[];void 0!==this.initialOptionValue&&(t=[this.initialOptionValue].concat(t)),this._selector.options=t}}},optionFormat:{defaultValue:void 0},arrowImageUri:{defaultValue:void 0},optionHorizontalPadding:{defaultValue:0},initialOptionValue:{defaultValue:void 0},selectedIndex:{defaultValue:-1,onChange:function(e){if(this._isInitialized){var t=e;void 0!==this.initialOptionValue&&t++,this._selector.selectedIndex=t,void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.selectedIndexChanged?this.reactEventHandlers.selectedIndexChanged(void 0===this.viewModel?this._selector.selectedIndex:this.getSelectedDataModel()):this._onSelectedIndexChanged()}}},reactEventHandlers:void 0,_selector:void 0}),e.events(["selectedIndexChanged"]),e.methods({getAutomationPeer:function(){var e=t.getAutomationPeer.call(this);return void 0!==this.options?(e.text=this.options.slice(0),e.selectedIndex=this.selectedIndex):(e.text="",e.selectedIndex=-1),e},getSelectedData:function(){this.viewModel;var e=this;return this.viewModel.items.then(function(e){return e.getRange(0)}).then(function(t){return t[e.selectedIndex].dataModel.value})},getSelectedDataModel:function(){this.viewModel;var e=this;return this.viewModel.items.then(function(e){return e.getRange(0)}).then(function(t){if(!(e.selectedIndex<0))return t[e.selectedIndex].dataModel})},selectFromData:function(e){this.viewModel;var t=this;return this.viewModel.items.then(function(e){return e.getRange(0)}).then(function(i){return t._findIndexOfData(i,0,e)}).then(function(e){t.selectedIndex=e>-1?e:0})},_findIndexOfData:function(e,t,i){if(t>=e.length)return r.fulfilled(-1);var n=this;return e[t].dataModel.value.then(function(o){return o===i?t:n._findIndexOfData(e,t+1,i)})},_raiseSizeChanged:function(){t._raiseSizeChanged.apply(this,arguments),this._updateSize()},_updateSize:function(){this._isInitialized&&(void 0===this._explicitWidth?this._naturalWidth=this._selector.width:this._selector.width=this.width,void 0===this._explicitHeight?this._naturalHeight=this._selector.height:this._selector.height=this.height)},_onViewStateChanged:function(e,i){t._onViewStateChanged.apply(this,arguments);var n=a.testFlag(i,a.FOCUSED),o=a.testFlag(e,a.FOCUSED);o!==n&&this._selector.setFocus(o)},_raisePointerDown:function(e){t._raisePointerDown.apply(this,arguments),e.handled=!0},_raisePointerUp:function(e){t._raisePointerUp.apply(this,arguments),!0!==e.handled&&this.focus()},_onViewModelChanged:function(e){t._onViewModelChanged.apply(this,arguments);var i=this;void 0===e?i.options=[]:i.runUntilDisposed("selectorViewModelChangedPromiseChain",function(){return e.items.then(function(e){return e.getRange(0)}).then(function(e){var t=e.map(function(e){return e.value});return r.all(t)}).then(function(e){i.options=e,i._updateSize(),i._fulfillReadyPromise()}).catch(function(e){i._selector.options=[],i._rejectReadyPromise(o.wrap(e,{message:"ViewModelChange promise rejected",area:"ui.views.SelectorView._onViewModelChanged"}))})})}})})})}(),function(){"use strict";define("platform/dependent/graphics/IWebFrame",["core/oop","platform/dependent/graphics/IDisplayNode"],function(e,t){return e.interfaceDef("platform.dependent.graphics.IWebFrame",t,function(){e.properties({uri:{get:void 0}}),e.events(["webFrameMessage","webFrameLoadingStateChanged"]),e.methods({setUri:void 0})})})}(),function(){"use strict";define("platform/dependent/graphics/WebFrameBase",["core/oop","core/Debug","core/Exception","platform/dependent/graphics/IWebFrame","platform/dependent/graphics/DOMElementWrapper","platform/dependent/graphics/DisplayNode"],function(e,t,i,n,o,r){var a=e.classDef("platform.dependent.graphics.WebFrameBase",[r,n],function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._onMessageCallback=this._onMessageReceived.bind(this),a._getWindow().addEventListener("message",this._onMessageCallback,!1)}),e.staticScope(function(){e.methods({_getWindow:function(){return window}})}),e.properties({uri:{get:function(){return this._wrappedElement,this._uri}},_uri:{defaultValue:void 0},_onMessageCallback:void 0}),e.events(["webFrameMessage","webFrameLoadingStateChanged"]),e.methods({_convertMessage:function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw new Error("Unexpected message received:"+e)},_onMessageReceived:function(e){if(e.source===this._wrappedElement.contentWindow){var t;try{t=this._convertMessage(e.data)}catch(t){i.new({message:"Cannot parse posted message data:  "+e.data,area:"platform.dependent.graphics.WebFrame._onMessageReceived"}).ignore()}void 0!==t&&this._onWebFrameMessage(t)}},setUri:function(e){this.isDisposed,this._wrappedElement,this._uri=e,this._wrappedElement.src=""===e?"about:blank":e,this._onWebFrameLoadingStateChanged({isLoading:!1})},_validateChild:function(){throw i.new({message:"Cannot add or remove children to WebFrame",area:"platform.dependent.graphics.WebFrame._validateChild"})},_createWrappedElements:function(){this._wrappedElement=o.createDOMElement("iframe"),this._wrappedElement.className="default",this._wrappedElement.style.display="block",this._wrappedElement.frameBorder=0,this._wrappedElementChildContainer=this._wrappedElement},_disposeCore:function(){a._getWindow().removeEventListener("message",this._onMessageCallback),t._disposeCore.apply(this,arguments)}})});return a})}(),function(){"use strict";define("platform/dependent/graphics/WebFrame",["core/oop","platform/dependent/graphics/WebFrameBase"],function(e,t){return e.classDef("platform.dependent.graphics.WebFrame",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("ui/views/WebFrameView",["core/oop","core/Debug","lib/Promise","core/Exception","ui/views/View","platform/dependent/graphics/WebFrame"],function(e,t,i,n,o,r){return e.classDef("ui.views.WebFrameView",o,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._webFrameMessageCallback=this._onWebFrameMessage.bind(this),this._webFrameLoadingStateCallback=this._onWebFrameLoadingStateChanged.bind(this)}),e.properties({reactEventHandlers:void 0,_webFrame:void 0,uri:{get:function(){return void 0===this._webFrame?void 0:this._webFrame.uri}},_webFrameMessageCallback:void 0,_webFrameLoadingStateCallback:void 0}),e.events(["webFrameMessage","webFrameLoadingStateChanged"]),e.methods({getAutomationPeer:function(){var e=t.getAutomationPeer.call(this);return e.text=[this.uri],e},_raiseSizeChanged:function(){t._raiseSizeChanged.apply(this,arguments),this._layoutWebFrame()},_setWebFrameSize:function(e,t){void 0!==this._webFrame&&(this._webFrame.width=e,this._webFrame.height=t)},_disposeCore:function(){void 0!==this.reactEventHandlers&&void 0!==this._webFrame&&(void 0!==this.reactEventHandlers.webFrameMessageHandler&&this._webFrame.webFrameMessage.off(this.reactEventHandlers.webFrameMessageHandler),void 0!==this.reactEventHandlers.webFrameLoadingStateHandler&&this._webFrame.webFrameLoadingStateChanged.off(this.reactEventHandlers.webFrameLoadingStateHandler)),t._disposeCore.apply(this,arguments)},_removeOldFrame:function(){void 0!==this._webFrame&&(this._webFrame.webFrameMessage.off(this._webFrameMessageCallback),this._webFrame.webFrameLoadingStateChanged.off(this._webFrameLoadingStateCallback),void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.webFrameMessageHandler&&this._webFrame.webFrameMessage.off(this.reactEventHandlers.webFrameMessageHandler),void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.webFrameLoadingStateHandler&&this._webFrame.webFrameLoadingStateChanged.off(this.reactEventHandlers.webFrameLoadingStateHandler),this._displayContent.children.remove(this._webFrame),this._webFrame.dispose(),this._webFrame=void 0)},_setupNewFrame:function(e,t,i){this._webFrame,this._webFrame=r.new({opacity:1}),this._webFrame.webFrameMessage.on(this._webFrameMessageCallback),void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.webFrameMessageHandler&&this._webFrame.webFrameMessage.on(this.reactEventHandlers.webFrameMessageHandler),this._webFrame.webFrameLoadingStateChanged.on(this._webFrameLoadingStateCallback),void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.webFrameLoadingStateHandler&&this._webFrame.webFrameLoadingStateChanged.on(this.reactEventHandlers.webFrameLoadingStateHandler),void 0!==t&&(this._naturalWidth=t),void 0!==i&&(this._naturalHeight=i),this._layoutWebFrame(),this._displayContent.children.add(this._webFrame),this._webFrame.setUri(e)},_layoutWebFrame:function(){this._setWebFrameSize(this.width,this.height)},_onViewModelChanged:function(e){t._onViewModelChanged.apply(this,arguments);var o=this;o.runUntilDisposed("webFrameViewModelChangedPromiseChain",function(){o._removeOldFrame();var t;return t=void 0===e?i.fulfilled():i.props({uri:e.uri,width:e.windowWidth,height:e.windowHeight}).then(function(e){o._setupNewFrame(e.uri,e.width,e.height)}),t.then(o._fulfillReadyPromise.bind(o)).catch(function(e){o._removeOldFrame(),o._rejectReadyPromise(n.wrap(e,{message:"ViewModelChange promise rejected",area:"ui.views.WebFrameView._onViewModelChanged"}))})})}})})})}(),function(){"use strict";define("platform/dependent/graphics/IHyperlinkSpan",["core/oop","platform/dependent/graphics/ISpan"],function(e,t){return e.interfaceDef("platform.dependent.graphics.IHyperlinkSpan",[t],function(){e.properties({uri:{get:void 0},hoverFormat:{get:void 0}})})})}(),function(){"use strict";define("platform/dependent/graphics/HyperlinkSpanBase",["core/oop","platform/dependent/graphics/DOMElementWrapper","platform/dependent/graphics/DynamicStyleManager","platform/dependent/graphics/Span","platform/dependent/graphics/IHyperlinkSpan"],function(e,t,i,n,o){var r=e.classDef("platform.dependent.graphics.HyperlinkSpanBase",[n,o],function(o){e.staticScope(function(){e.properties({_currentCssClassId:{defaultValue:0}})}),e.constructor(function(){this._boundClickHandler=this._onClick.bind(this),o.$ctor.apply(this,arguments)}),e.properties({_boundClickHandler:void 0,parent:{defaultValue:void 0,onChange:"_wireClickHandler"},uri:{defaultValue:void 0,onChange:function(e){this._wrappedElement.href=e}},hoverFormat:{onChange:"_updateStyle"}}),e.methods({_wireClickHandler:function(){void 0===this.parent?this._wrappedElement.removeEventListener("click",this._boundClickHandler):this._wrappedElement.addEventListener("click",this._boundClickHandler)},_onClick:function(e){0===e.button&&(e.preventDefault(),
this.parent._handleChildHyperlinkSpanClick(this.uri))},_createWrappedElements:function(){var e=t.createDOMElement("a");e.href=this.uri,this._wrappedElement=e},_updateStyle:function(){if(o._updateStyle.apply(this,arguments),void 0!==this.hoverFormat){n._textFormatToCSS(this.format,this._wrappedElement.style);var e=this._wrappedElement.style.cssText;n._textFormatToCSS(this.hoverFormat,this._wrappedElement.style);var t=this._wrappedElement.style.cssText;this._wrappedElement.removeAttribute("style");var a="hyperlinkSpan"+r._currentCssClassId++;this._wrappedElement.id=a,i.singleton.addStyle(a,"a#"+a+" { "+e+" } a#"+a+":hover { "+t+" } ")}}})});return r})}(),function(){"use strict";define("platform/dependent/graphics/HyperlinkSpan",["core/oop","platform/dependent/graphics/HyperlinkSpanBase","platform/dependent/input/PointerDevice"],function(e,t,i){return e.classDef("platform.dependent.graphics.HyperlinkSpan",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({_onClick:function(e){!1===i.isModifiedEvent(e)&&t._onClick.apply(this,arguments)}})})})}(),function(){"use strict";define("ui/views/MarkdownTextView",["core/oop","core/Debug","core/uriUtils","platform/dependent/graphics/Span","platform/dependent/graphics/HyperlinkSpan","platform/dependent/Process","ui/Localization","ui/views/TextView","design/NavigationRouter","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r,a,s,l,c){var d=e.classDef("ui.views.MarkdownTextView",s,function(t){e.staticScope(function(){e.methods({createSpansFromMarkdown:function(e,t,i){for(var n=d._processMarkdownCore(e),o=[],r=0,a=n.strings.length;r<a;++r){var s=d._createSpanCore(n.strings[r],r,n.indexToMarkdown,t,i);o.push(s)}return o},_processMarkdownCore:function(e){void 0===e&&(e="");for(var t,i=/\[(.*?)\]\(([^\) ]+)\)/gi,n={},o=[],r=0;null!==(t=i.exec(e));)r<t.index&&o.push(e.substring(r,t.index)),n[o.length]=t[2],o.push(t[1]),r=t.index+t[0].length;return r<e.length&&o.push(e.substring(r,e.length)),{strings:o,indexToMarkdown:n}},_createSpanCore:function(e,t,i,r,s,l,c){var d;if(i=i||{},r=r||{},l=l||s,c=c||l||s,void 0!==i[t]){var u=i[t];d=r[u],void 0===d&&this._isUrlLike(u)&&(d={uri:u,format:l,hoverFormat:c})}if(void 0===d&&(d={}),void 0!==d.date){var p=new Date(e);e=a.singleton.formatDate(p,d.date,!0)}return void 0!==d.uri?o.new({uri:d.uri,text:e,format:void 0!==d.format?d.format:l,hoverFormat:void 0!==d.hoverFormat?d.hoverFormat:c}):n.new({text:e,format:void 0!==d.format?d.format:s})},_isUrlLike:function(e){return/^#|^https?:\/\/|^\//i.test(e)}})}),e.constructor(function(){t.$ctor.apply(this,arguments),this.hookUntilDisposed(this._displayProxy,"hyperlinkInvoked",this._handleHyperlinkInvoked.bind(this))}),e.properties({markdownMap:void 0,markdownUriFormat:{defaultValue:void 0,onChange:"_onMarkdownFormatChanged"},markdownUriHoverFormat:{defaultValue:void 0,onChange:"_onMarkdownFormatChanged"},markdownUriOpenInExternalProcess:void 0,markdownUriNavigateToUriReplace:void 0,reactEventHandlers:void 0,_lastProcessedMarkdown:void 0,_spanIndexMarkdownTieback:void 0,_hyperlinkHandler:void 0}),e.events(["hyperlinkInvoked"]),e.methods({automationInvokeHyperlink:function(e){this._collectUris().indexOf(e),this._handleHyperlinkInvoked(e)},getAutomationPeer:function(){var e=t.getAutomationPeer.call(this);return e.uris=this._collectUris(),e},_collectUris:function(){var e=[];return this._displayProxy.spans.forEach(function(t){t instanceof o&&void 0!==t.uri&&e.push(t.uri)}),e},_onMarkdownFormatChanged:function(){void 0!==this._lastProcessedMarkdown&&this._bindChildViews({values:this._lastProcessedMarkdown})},_applyFormatStyle:function(){t._applyFormatStyle.apply(this,arguments),this._onMarkdownFormatChanged()},_handleHyperlinkInvoked:function(e){var t;c(this.markdownMap,function(i){i.uri===e&&(t=i)}),t=t||{},e=e||"";var n=!0!==i.isLocal(e),o={uri:e,isExternal:n,handled:!1};if(void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.hyperlinkInvoked?this.reactEventHandlers.hyperlinkInvoked(o):this._onHyperlinkInvoked(o),this._logUserInteraction({linkTarget:e,isExternal:n}),!1===o.handled)if(i.isLocal(e)){var a=void 0===t.navigateToUriReplace?this.markdownUriNavigateToUriReplace:t.navigateToUriReplace,s=void 0===a?void 0:{replace:a};l.singleton.navigateToUri(e,s)}else{var d=void 0===t.openInExternalProcess?this.markdownUriOpenInExternalProcess:t.openInExternalProcess;r.singleton.navigateExternal(e,d)}},_processMarkdown:function(e){this._lastProcessedMarkdown=e;var t=d._processMarkdownCore(e);return this._spanIndexMarkdownTieback=t.indexToMarkdown,t.strings},_processStrings:function(e){return void 0===e||e.length,this._processMarkdown(void 0!==e?e[0]:void 0)},_createSpan:function(e,t){return d._createSpanCore(e,t,this._spanIndexMarkdownTieback,this.markdownMap,this.format,this.markdownUriFormat,this.markdownUriHoverFormat)}})});return d})}(),function(){"use strict";define("platform/dependent/graphics/ITextInput",["core/oop","platform/dependent/graphics/IDisplayNode"],function(e,t){return e.interfaceDef("platform.dependent.graphics.ITextInput",t,function(){e.properties({text:{get:void 0,set:void 0},format:{get:void 0},mode:{get:void 0},placeholderText:{get:void 0},placeholderFormat:{get:void 0},maxLength:{get:void 0},padding:{get:void 0},horizontalAlignment:{get:void 0},keyboardReturnKeyType:{get:void 0},keyboardType:{get:void 0}}),e.events(["textChanged"]),e.methods({setFocus:void 0})})})}(),function(){"use strict";define("platform/common/TextInputMode",["core/oop"],function(e){return e.enumDef("platform.common.TextInputMode",["DEFAULT","PASSWORD"])})}(),function(){"use strict";define("platform/common/KeyboardReturnKeyType",["core/oop"],function(e){return e.enumDef("platform.common.KeyboardReturnKeyType",["DONE","SEARCH","NEXT"])})}(),function(){"use strict";define("platform/common/KeyboardType",["core/oop"],function(e){return e.enumDef("platform.common.KeyboardType",["DEFAULT","EMAIL","NUMBER_PAD"])})}(),function(){"use strict";define("platform/dependent/graphics/TextInput",["core/oop","core/Debug","core/HorizontalAlignment","platform/dependent/graphics/DisplayNode","platform/dependent/graphics/ITextInput","platform/dependent/graphics/Span","platform/dependent/graphics/DOMElementWrapper","platform/dependent/graphics/DynamicStyleManager","platform/dependent/graphics/Viewport","platform/common/TextInputMode","core/Exception","platform/common/KeyboardReturnKeyType","platform/common/KeyboardType","platform/dependent/input/ButtonDeviceKeyMap","platform/input/Buttons"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("platform.dependent.graphics.TextInput",[n,o],function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._inputChangedHandler=this._onInputChanged.bind(this),this._onKeyEventHandler=this._onKeyEvent.bind(this),this._nativeFocusChangedHandler=this._onNativeFocusChanged.bind(this);var e=this._getWrappedElement();e.addEventListener("input",this._inputChangedHandler),e.addEventListener("keyup",this._onKeyEventHandler),e.addEventListener("keydown",this._onKeyEventHandler),e.addEventListener("focus",this._nativeFocusChangedHandler),this._setupPlaceholderStyle()}),e.properties({text:{get:function(){return this._wrappedElement.value},set:function(e){this._wrappedElement.value=e,this._onTextChanged()}},format:{defaultValue:void 0,onChange:function(e){r._textFormatToCSS(e,this._wrappedElement.style)}},mode:{defaultValue:c.DEFAULT,onChange:function(e){this._wrappedElement.type=e===c.PASSWORD?"password":"text"}},placeholderText:{defaultValue:void 0,onChange:function(e){this._wrappedElement.placeholder=e}},maxLength:{defaultValue:void 0,onChange:function(e){this._wrappedElement.setAttribute("maxLength",e)}},placeholderFormat:{defaultValue:void 0},padding:{defaultValue:void 0,onChange:function(e){var t=this._wrappedElement.style;t.paddingLeft=(e.left||0)+"px",t.paddingRight=(e.right||0)+"px",t.paddingTop=(e.top||0)+"px",t.paddingBottom=(e.bottom||0)+"px",t.boxSizing="border-box"}},horizontalAlignment:{defaultValue:void 0,onChange:function(e){this._applyHorizontalAlignment(i.getName(e))}},keyboardReturnKeyType:{defaultValue:u.DONE},keyboardType:{defaultValue:p.DEFAULT},_inputChangedHandler:void 0,_onKeyEventHandler:void 0,_nativeFocusChangedHandler:void 0}),e.events(["textChanged"]),e.methods({setFocus:function(e){!0===e?this._wrappedElement.focus():this._wrappedElement.blur()},_disposeCore:function(){var e=this._wrappedElement.id;e&&s.singleton.removeStyle(e);var i=this._getWrappedElement();i.removeEventListener("input",this._inputChangedHandler),i.removeEventListener("keyup",this._onKeyEventHandler),i.removeEventListener("keydown",this._onKeyEventHandler),i.removeEventListener("focus",this._nativeFocusChangedHandler),t._disposeCore.apply(this,arguments)},_createWrappedElements:function(){var e=a.createDOMElement("input");e.className="default",e.type="text";var t=e.style;t.border=0,t.padding=0,this._wrappedElement=e,this._wrappedElementChildContainer=this._wrappedElement},_applyHorizontalAlignment:function(e){switch(e.toUpperCase()){case"LEFT":this._wrappedElement.style.textAlign="left";break;case"CENTER":this._wrappedElement.style.textAlign="center";break;case"RIGHT":this._wrappedElement.style.textAlign="right";break;default:e.toUpperCase()}},_onInputChanged:function(){this._onTextChanged()},_onKeyEvent:function(e){h.singleton.keyMap[e.keyCode]!==g.OK&&h.singleton.keyMap[e.keyCode]!==g.ESCAPE&&e.stopPropagation()},_onNativeFocusChanged:function(){void 0!==this.owner&&l.singleton._onNativeFocusChanged(this)},_getWrappedElement:function(){return this._wrappedElement},_validateChild:function(){throw d.new({message:"Cannot add or remove children to TextInput",area:"platform.dependent.graphics.TextInput._validateChild"})},_setupPlaceholderStyle:function(){if(void 0!==this.placeholderText&&void 0!==this.placeholderFormat){var e=window.document.createElement("div");r._textFormatToCSS(this.placeholderFormat,e.style);var t=e.style.cssText,i="textInput"+this.disposableId,n="#"+i;this._wrappedElement.id=i,s.singleton.addStyle(i,n+"::-webkit-input-placeholder { "+t+" } "+n+"::-moz-placeholder { "+t+" } "+n+":-ms-input-placeholder { "+t+" } ")}}})})})}(),function(){"use strict";define("ui/views/TextInputView",["core/oop","core/Debug","ui/views/View","platform/dependent/graphics/TextInput","ui/Localization","ui/ViewStates","platform/common/TextInputMode","lib/lodash/objects/merge","platform/common/KeyboardReturnKeyType","platform/common/KeyboardType"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("ui.views.TextInputView",i,function(t){e.constructor(function(){this.text="",this.isReadyInit=!0,t.$ctor.apply(this,arguments),void 0!==this.placeholderResourceId&&(this.placeholderText,this.placeholderText=o.singleton.getResource(this.placeholderResourceId)),this._wireUpTextInput()}),e.properties({text:{onChange:function(e,t){void 0!==this._textInput&&e!==this._textInput.text&&(this._textInput.text=e),void 0!==this.reactEventHandlers&&void 0!==this.reactEventHandlers.textChanged?this.reactEventHandlers.textChanged(e):this._onTextChanged(e,t)}},format:{defaultValue:void 0},horizontalAlignment:{defaultValue:void 0,onChange:function(e){void 0!==this._textInput&&(this._textInput.horizontalAlignment=e)}},mode:{defaultValue:a.DEFAULT,onChange:function(e){void 0!==this._textInput&&(this._textInput.mode=e)}},placeholderText:{defaultValue:void 0},placeholderResourceId:{defaultValue:void 0},placeholderFormat:{defaultValue:void 0},padding:{defaultValue:{}},maxLength:{defaultValue:void 0},keyboardReturnKeyType:{defaultValue:l.DONE},keyboardType:{defaultValue:c.DEFAULT},reactEventHandlers:{defaultValue:void 0},_textInput:{defaultValue:void 0}}),e.events(["textChanged"]),e.methods({getAutomationPeer:function(){var e=t.getAutomationPeer.call(this);return e.text=[this.text],e.mode=this.mode,e},_onViewStateChanged:function(e,i){t._onViewStateChanged.apply(this,arguments);var n=r.testFlag(i,r.FOCUSED),o=r.testFlag(e,r.FOCUSED);o!==n&&this._textInput.setFocus(o)},_wireUpTextInput:function(e){this._textInput=n.new(s({text:this.text,format:this.format,mode:this.mode,placeholderText:this.placeholderText,placeholderFormat:this.placeholderFormat,maxLength:this.maxLength,padding:this.padding,horizontalAlignment:this.horizontalAlignment,width:this.width,height:this.height,backgroundColor:this.backgroundColor,keyboardType:this.keyboardType,keyboardReturnKeyType:this.keyboardReturnKeyType,owner:this},e)),this.hookUntilDisposed(this._textInput,"textChanged",this._onTextInputTextChanged.bind(this)),this._displayContent.children.add(this._textInput)},_removeOldText:function(){void 0!==this._textInput&&(this._displayContent.children.remove(this._textInput),this._textInput.dispose(),this._textInput=void 0)},_onViewModelChanged:function(e){if(t._onViewModelChanged.apply(this,arguments),void 0!==e){var i=this;i.runUntilDisposed("textInputViewModelChanged",function(){return e.value.then(function(e){i._applyValueToPlaceholderText(e)})})}else this.cancelDisposablePromise("textInputViewModelChanged")},_applyValueToPlaceholderText:function(e){this._removeOldText(),this._wireUpTextInput({placeholderText:e})},_onTextInputTextChanged:function(){this.text=this._textInput.text},_raisePointerDown:function(e){t._raisePointerDown.apply(this,arguments),e.handled=!0},_raisePointerUp:function(e){t._raisePointerUp.apply(this,arguments),!0!==e.handled&&this.focus()},_raiseSizeChanged:function(){t._raiseSizeChanged.apply(this,arguments),!0===this.isInitialized&&(this._textInput.width=this.width,this._textInput.height=this.height)}})})})}(),function(){"use strict";define("platform/dependent/graphics/DirectCommerceDisplayNode",["core/oop","core/Debug","platform/dependent/graphics/DisplayNode"],function(e,t,i){return e.classDef("platform.dependent.graphics.DirectCommerceDisplayNode",i,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),window.document.getElementById("zuora_payment"),this._wrappedElement.setAttribute("id","zuora_payment")})})})}(),function(){"use strict";define("ui/views/DirectCommerceView",["core/oop","ui/views/View","platform/dependent/graphics/DirectCommerceDisplayNode"],function(e,t,i){return e.classDef("ui.views.DirectCommerceView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({_createDisplayProxy:function(){return i.new({owner:this})}})})})}(),function(){"use strict";define("ui/ReactTypeMap",["core/oop","core/Disposable","ui/ReactUIManager","ui/views/ImageView","ui/views/ReactItemsView","ui/views/ButtonScrollView","ui/views/ScrollView","ui/views/SimpleHyperlinkView","ui/views/SelectorView","ui/views/TextView","ui/views/WebFrameView","ui/views/MarkdownTextView","ui/views/TextInputView","ui/views/DirectCommerceView"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("ui.ReactTypeMap",t,function(){e.singleton(function(){this._created()}),e.methods({start:function(){i.singleton.injectTypeMap(this._getTypeMap())},_getTypeMap:function(){return{RCTImage:{type:n},RCTItemsView:{type:o,defaultInitArgs:{isReadyInit:!0}},RCTButtonScrollView:{type:r,defaultInitArgs:{isReadyInit:!0}},RCTScrollView:{type:a,defaultInitArgs:{isReadyInit:!0}},RCTMarkdownText:{type:u,defaultInitArgs:{}},RCTText:{type:c,defaultInitArgs:{}},RCTTextInput:{type:p},RCTSelector:{type:l,defaultInitArgs:{isReadyInit:!0}},RCTHyperlink:{type:s,defaultInitArgs:{isReadyInit:!0,isPointerTarget:!0,isInvokable:!0}},RCTWebFrameView:{type:d,defaultInitArgs:{isReadyInit:!0}},RCTDirectCommerceView:{type:h,defaultInitArgs:{isReadyInit:!0}}}}})})})}(),function(){"use strict";define("core/data/ExceptionInfoModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("core.data.ExceptionInfoModel",t,function(){e.properties({title:{get:void 0},description:{get:void 0},internalMessage:{get:void 0},callstack:{get:void 0},exceptionId:{get:void 0},serviceTraceId:{get:void 0}})})})}(),function(){"use strict";define("core/data/DocumentModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("core.data.DocumentModel",t,function(){e.properties({text:{get:void 0}})})})}(),function(){"use strict";define("dataservices/models/AffiliateListModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.AffiliateListModel",t,function(){e.properties({affiliates:{get:void 0}})})})}(),function(){"use strict";define("dataservices/models/AffiliateModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.AffiliateModel",t,function(){e.properties({code:{get:void 0},preferredOrder:{get:void 0},countryCode:{get:void 0},type:{get:void 0},name:{get:void 0},images:{get:void 0},isLoginRedirect:{get:void 0},affiliateURL:{get:void 0},logoutURL:{get:void 0},userProfileType:{get:void 0},windowWidth:{get:void 0},windowHeight:{get:void 0},hasSubAccounts:{get:void 0},inheritParentalControls:{get:void 0},manageParentalControlsUrl:{get:void 0},accountProviderIdentifierForPicker:{get:void 0},isSSOImplemented:{get:void 0},appleSSOFeatureListPickerOrder:{get:void 0},appleSSOMetadataQueryParams:{get:void 0},isReauthenticationRequiredOnNewBrowserSession:{get:void 0},doesSupportThisClient:{get:void 0},supportsDeviceToBeActivated:{get:void 0}}),e.methods({getRedirectUri:void 0})})})}(),function(){"use strict";define("design/viewModels/HyperlinkViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("design.viewModels.HyperlinkViewModel",t,function(){e.properties({uri:{get:void 0},isExternal:{get:void 0},openInExternalProcess:{get:void 0},subViewModel:{get:void 0},includeContext:{get:void 0},analyticsValue:{get:void 0}})})})}(),function(){"use strict";define("design/viewModelProviders/ExplicitHyperlinkProvider",["core/oop","ui/viewModelProviders/ViewModelProvider","design/viewModels/HyperlinkViewModel","platform/dependent/Process","lib/Promise","ui/ViewModelFactory"],function(e,t,i,n,o,r){return e.classDef("design.viewModelProviders.ExplicitHyperlinkProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,void 0),this._id=e.uriPath,this._isExternal=e.isExternal,this._uri=!0===this._isExternal?e.uriPath:n.singleton.makeFullUri(e.uriPath),void 0!==e.openInExternalProcess?this._openInExternalProcess=e.openInExternalProcess:this._openInExternalProcess=!0,void 0!==e.subViewModelFactoryId?this._subViewModel=r.singleton.create(e.subViewModelFactoryId,e.subViewDataModel):this._subViewModel=e.subViewModel,this._analyticsValue=e.analyticsValue}),e.properties({uri:{get:function(){return o.fulfilled(this._uri)}},isExternal:{get:function(){return o.fulfilled(this._isExternal)}},openInExternalProcess:{get:function(){return o.fulfilled(!0===this._openInExternalProcess&&!0===this._isExternal)}},subViewModel:{get:function(){return o.fulfilled(this._subViewModel)}},includeContext:{get:function(){return o.fulfilled(!1)}},analyticsValue:{get:function(){return o.fulfilled(this._analyticsValue)}},_uri:void 0,_isExternal:void 0,_openInExternalProcess:void 0,_subViewModel:void 0,_analyticsValue:void 0})})})}(),function(){"use strict";define("design/viewModelProviders/HyperlinkFromAffiliateProvider",["core/oop","ui/viewModelProviders/ViewModelProvider","design/analytics/UserInteractionTargets","design/viewModels/HyperlinkViewModel","design/ScreenUtil","lib/Promise","ui/ViewModelFactory","platform/dependent/Process","design/NavigationRouter"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.viewModelProviders.HyperlinkFromAffiliateProvider",[t,n],function(t){e.constructor(function(e,i){t.$ctor.call(this,e),this._id=e.deepLinkUriPath,this._subViewModel=i}),e.properties({_subViewModel:void 0,uri:{get:function(){var e=this;return this.isExternal.then(function(t){if(!0===t){var i=l.singleton.getLoginReturnPath();return e._dataModel.getRedirectUri(s.singleton.getReentryUri(i)).then(function(e){return e})}return s.singleton.makeFullUri(e._dataModel.deepLinkUriPath)})}},isExternal:{get:function(){return o.singleton.byDesign({desktop:this._dataModel.isLoginRedirect,mobile:r.fulfilled(!1)})}},openInExternalProcess:{get:function(){return r.fulfilled(!1)}},subViewModel:{get:function(){var e=a.singleton.create(this._subViewModel,this._dataModel);return r.fulfilled(e)}},includeContext:{get:function(){return r.fulfilled(!1)}},analyticsValue:{get:function(){return r.fulfilled(i.AFFILIATE)}}})})})}(),function(){"use strict";define("design/viewModelProviders/HyperlinkFromInternalProvider",["core/oop","ui/viewModelProviders/ViewModelProvider","design/viewModels/HyperlinkViewModel","lib/Promise","core/uriUtils","ui/ViewModelFactory","platform/dependent/Process"],function(e,t,i,n,o,r,a){return e.classDef("design.viewModelProviders.HyperlinkFromInternalProvider",[t,i],function(t){e.constructor(function(e,i,n,s,l){t.$ctor.call(this,void 0),this._id=e.deepLinkUriPath;var c=a.singleton.makeFullUri(e.deepLinkUriPath);if(c=o.removeQueryParam(c,"playlistId"),this._uri=c,void 0!==n){var d=-1!==this._uri.indexOf("?")?"&":"?";this._uri+=d+n}void 0!==i&&(this._subViewModel=r.singleton.create(i,e)),this._includeContext=!0===s,this._analyticsValue=l}),e.properties({uri:{get:function(){return n.fulfilled(this._uri)}},isExternal:{get:function(){return n.fulfilled(!1)}},openInExternalProcess:{get:function(){return n.fulfilled(!1)}},subViewModel:{get:function(){return n.fulfilled(this._subViewModel)}},includeContext:{get:function(){return n.fulfilled(this._includeContext)}},analyticsValue:{get:function(){return n.fulfilled(this._analyticsValue)}},_uri:void 0,_subViewModel:void 0,_includeContext:void 0,_analyticsValue:void 0})})})}(),function(){"use strict";define("design/viewModelProviders/HyperlinkFromExternalProvider",["core/oop","design/viewModels/HyperlinkViewModel","ui/viewModelProviders/ViewModelProvider","lib/Promise","core/uriUtils","ui/ViewModelFactory"],function(e,t,i,n,o,r){return e.classDef("design.viewModelProviders.HyperlinkFromExternalProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,void 0);var i=o.removeQueryParam(e.uri,"playlistId");this._id=i,this._uri=i,void 0!==e.subViewModelFactoryId&&(this._subViewModel=r.singleton.create(e.subViewModelFactoryId)),this._analyticsValue=e.analyticsValue}),e.properties({uri:{get:function(){return n.fulfilled(this._uri)}},isExternal:{get:function(){return n.fulfilled(!0)}},openInExternalProcess:{get:function(){return n.fulfilled(!0)}},subViewModel:{get:function(){return n.fulfilled(this._subViewModel)}},analyticsValue:{get:function(){return n.fulfilled(this._analyticsValue)}},includeContext:{get:function(){return n.fulfilled(!1)}},_uri:void 0,_subViewModel:void 0,_analyticsValue:void 0})})})}(),function(){"use strict";define("design/DesignDeveloperSettings",["core/oop"],function(e){return e.classDef("design.DesignDeveloperSettings",Object,function(){e.singleton(function(){}),e.properties({testPrerollPlayItem:{defaultValue:void 0,privateSet:!0},testVideoPlayItem:{defaultValue:void 0,privateSet:!0},testInitialVideoPosition:{defaultValue:void 0,privateSet:!0},showDebugInfo:{defaultValue:void 0,privateSet:!0},showDebugOverlay:void 0,debugOverlayUri:{defaultValue:void 0},enableTilePerfCounters:{defaultValue:void 0,privateSet:!0},tileOverrides:{defaultValue:void 0,privateSet:!0}})})})}(),function(){"use strict";define("platform/dependent/ISocket",["core/oop"],function(e){return e.interfaceDef("platform.dependent.ISocket",void 0,function(){e.events(["error","disconnected","connected","message"]),e.methods({setUri:void 0,send:void 0,disconnect:void 0,_getSocketIO:void 0,_initSocket:void 0})})})}(),function(){"use strict";define("platform/dependent/SocketBase",["core/oop","core/Exception","core/PromiseManager","lib/Promise"],function(e,t,i,n){return e.classDef("platform.dependent.SocketBase",i,function(i){e.constructor(function(){this._connectedCallback=this._onSocketConnected.bind(this),this._messageCallback=this._onSocketMessage.bind(this),this._disconnectedCallback=this._onSocketDisconnected.bind(this),this._errorCallback=this._onSocketError.bind(this),i.$ctor.call(this)}),e.properties({_connectedCallback:void 0,_messageCallback:void 0,_disconnectedCallback:void 0,_errorCallback:void 0,_socket:{defaultValue:void 0},_socketIO:{defaultValue:void 0},_forcefulDisconnectHappened:{defaultValue:!1}}),e.events(["error","disconnected","connected","message"]),e.methods({setUri:function(e){var t=this;this.runUntilDisposed("_setUri",function(){return t._setUri(e)})},send:function(e,i){void 0===this._socket?this._onError(t.new({message:"Cannot send data on Socket that is not connected",area:"platform.dependent.SocketBase.send"})):this._socket.emit(e,i)},disconnect:function(){void 0!==this._socket&&(this._forcefulDisconnectHappened=!0,this._clientDisconnect(),this._removeListeners(),this._socket=void 0)},_setUri:function(e){var i,o=this;return i=void 0===this._socketIO?this._getSocketIO():n.resolve(this._socketIO),i.then(function(t){o.disconnect(),o._socketIO=t,o._socket=o._initSocket(e)}).catch(function(e){o._onError(t.wrap(e,{message:"_setUri failed",area:"platform.dependent.SocketBase._setUri"}))})},_onSocketConnected:function(){this._forcefulDisconnectHappened=!1,this._onConnected()},_onSocketMessage:function(e){var t=Array.isArray(e)?e:[e];this._onMessage(t)},_onSocketDisconnected:function(e){!1===this._forcefulDisconnectHappened&&(this._removeListeners(),this._socket=void 0,this._onSocketError({message:e||"Socket disconnect happened due to unknown reason",area:"platform.dependent.SocketBase._onSocketDisconnected"})),this._onDisconnected()},_onSocketError:function(e){void 0!==this._socket&&(this._removeListeners(),this._socket=void 0,this._onDisconnected());var i;switch(typeof e){case"string":i=e;break;case"object":i=JSON.stringify(e);break;default:i="unknown socket error"}this._onError(t.new({message:i,area:"platform.dependent.SocketBase._onSocketError"}))},_removeListeners:function(){this._socket.removeAllListeners()},_clientDisconnect:function(){this._socket.disconnect()}})})})}(),function(){"use strict";define("platform/dependent/Socket",["core/oop","lib/Promise","platform/dependent/ISocket","platform/dependent/SocketBase"],function(e,t,i,n){return e.classDef("platform.dependent.Socket",[n,i],function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.methods({_getSocketIO:function(){return new t(function(e){require(["lib/socketio"],function(t){e(t)})})},_initSocket:function(e){var t=this._socketIO.connect(e);return t.on("error",this._errorCallback),t.on("disconnect",this._disconnectedCallback),t.on("connect",this._connectedCallback),t.on("message",this._messageCallback),t}})})})}(),function(){"use strict";define("automation/AtlasChannel",["core/oop","core/Debug","core/Disposable","core/Exception","platform/dependent/Socket"],function(e,t,i,n,o){return e.classDef("automation.AtlasChannel",i,function(t){e.singleton(function(){this._reset();var e=this;this._errorCallback=function(t){e._reset();throw void 0!==t?n.wrap(t,{message:"socket error reported",area:"automation.AtlasChannel._errorCallback"}):n.new({message:"Unknown socket error reported",area:"automation.AtlasChannel._errorCallback"})},this._disconnectedCallback=function(){!0===e._isConnected&&(e._isConnected=!1,e._onDisconnected())},this._connectedCallback=function(){e._isConnected=!0,e._isConnecting=!1,e._onConnected()},this._messageCallback=function(t){for(var i=0;i<t.length;i++)e._onMessage(t[i])},this._created()}),e.events(["message","dataQueued","connected","disconnected"]),e.properties({isEnabled:{defaultValue:!1},isConnected:{privateSet:!0,defaultValue:!1},maxBufferSize:{defaultValue:200},_isConnecting:{defaultValue:!1},_dataBuffer:void 0,_socket:void 0,_errorCallback:void 0,_disconnectedCallback:void 0,_connectedCallback:void 0,_messageCallback:void 0}),e.methods({connect:function(e){this._reset(),!0===this.isEnabled&&(this._isConnecting=!0,this._socket=o.new(),this._socket.error.on(this._errorCallback),this._socket.disconnected.on(this._disconnectedCallback),this._socket.connected.on(this._connectedCallback),this._socket.message.on(this._messageCallback),this._socket.setUri(e))},disconnect:function(){void 0!==this._socket&&this._socket.disconnect()},_isCircular:function(e,t){var i=this;if(t=t||[],"object"==typeof e){if(-1!==t.indexOf(e))return!0;t.push(e);for(var n in e)if(e.hasOwnProperty(n)&&i._isCircular(e[n],t))return!0;t.pop(e)}return!1},queue:function(e){this._isCircular(e),!0!==this.isConnected&&!0!==this._isConnecting||(this._dataBuffer.push(e),this._dataBuffer.length>=this.maxBufferSize?this.flush():this._onDataQueued(e))},flush:function(){if(!0===this._isConnected){var e=this._dataBuffer;e.length>0&&this._socket.send("message",e)}this._clearBuffer()},_clearBuffer:function(){this._dataBuffer.length=0},_reset:function(){void 0!==this._socket&&(this.disconnect(),this._socket.error.off(this._errorCallback),this._socket.disconnected.off(this._disconnectedCallback),this._socket.connected.off(this._connectedCallback),this._socket.message.off(this._messageCallback)),this._isConnecting=!1,this._dataBuffer=[],this._socket=void 0},_disposeCore:function(){this._reset(),t._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("automation/VirtualButtonDeviceKeyboard",["core/oop","platform/dependent/input/IButtonDevice","platform/input/Buttons","core/Disposable"],function(e,t,i,n){return e.classDef("automation.VirtualButtonDeviceKeyboard",[n,t],function(){e.constructor(function(){this._buttonPressedCounts={},i.forEach(function(e){this._buttonPressedCounts[e]=0},this),this._created()}),e.properties({buttonPressedCounts:{privateSet:!0}}),e.events(["pressed","released"]),e.methods({pressKey:function(e){return!(!0===this.isDisposed||void 0===this._buttonPressedCounts[e]||this._buttonPressedCounts[e]>0)&&(++this._buttonPressedCounts[e],this._onPressed({button:e,device:this},!0),!0)},releaseKey:function(e){return!0!==this.isDisposed&&void 0!==this._buttonPressedCounts[e]&&(this._buttonPressedCounts[e]>0&&(--this._buttonPressedCounts[e],this._onReleased({button:e,device:this},!0)),!0)}})})})}(),function(){"use strict";define("automation/VirtualPointerDevice",["core/oop","platform/dependent/input/IPointerDevice","core/Disposable"],function(e,t,i){return e.classDef("automation.VirtualPointerDevice",[i,t],function(){e.constructor(function(){this._position={x:0,y:0},this._created()}),e.properties({_position:void 0}),e.events(["down","up","move","cancel","doubleTap","leftEdgeSwipe"]),e.methods({_buildEventArgs:function(e,t,i){return void 0===i&&(i=1),void 0===e&&(e=this._position.x),void 0===t&&(t=this._position.y),this._position={x:e,y:t},{id:i,position:this._position,device:this}},pointerDown:function(e,t,i){!1===this.isDisposed&&this._onDown(this._buildEventArgs(e,t,i),!0)},pointerUp:function(e,t,i){!1===this.isDisposed&&this._onUp(this._buildEventArgs(e,t,i),!0)},pointerMove:function(e,t,i){!1===this.isDisposed&&this._onMove(this._buildEventArgs(e,t,i),!0)},pointerCancel:function(e,t,i){!1===this.isDisposed&&this._onCancel(this._buildEventArgs(e,t,i),!0)}})})})}(),function(){"use strict";define("platform/diagnostics/Performance",["core/oop","platform/common/Dispatcher","engine/dependent/Time","platform/dependent/diagnostics/Performance","core/logging/Counters"],function(e,t,i,n,o){return e.classDef("platform.diagnostics.Performance",Object,function(){e.singleton(function(){}),e.properties({isEnabled:{defaultValue:!1},_lastFrameTime:{defaultValue:0},_startTime:{defaultValue:0},_isMonitoring:{defaultValue:!1}}),e.methods({getFrameRateStats:function(){if(!0===this.isEnabled)return o.singleton.getCounterStats("Performance.fps")},getHeapSizeStats:function(){if(!0===this.isEnabled&&n.singleton.supportsHeapSizeCheck())return o.singleton.getCounterStats("Performance.heapSize")},supportsHeapSizeCheck:function(){var e=!1;return!0===this.isEnabled&&(e=n.singleton.supportsHeapSizeCheck()),e},startMonitor:function(e){if(!0===this.isEnabled&&!this._isMonitoring){if(e=e||500,o.singleton.resetCounterStats(),
this._startTime=i.singleton.now(),t.singleton.post().finally(this._onFrame.bind(this)),n.singleton.supportsHeapSizeCheck()){var r=function(){var e=n.singleton.getHeapSize();o.singleton.setCounter("Performance.heapSize",e)};this._memoryTimerCancel=t.singleton.postInterval(e,r),r()}this._isMonitoring=!0}},stopMonitor:function(){this._lastFrameTime=0,this._startTime=0,this._isMonitoring=!1,this._memoryTimerCancel(),this._memoryTimerCancel=function(){}},isMonitoring:function(){return this._isMonitoring},_onFrame:function(){this._isMonitoring&&t.singleton.post().finally(this._onFrame.bind(this));var e=i.singleton.now();if(0===this._lastFrameTime)return void(this._lastFrameTime=e);var n=Math.max(e-this._lastFrameTime,1)/1e3;this._lastFrameTime=e,o.singleton.setCounter("Performance.fps",1/n)},_memoryTimerCancel:function(){}})})})}(),function(){"use strict";define("dataservices/IMockServiceState",["core/oop"],function(e){return e.interfaceDef("dataservices.IMockServiceState",void 0,function(){e.properties({version:{get:void 0}}),e.methods({restart:void 0,tryGetModelData:void 0,getModelData:void 0,setModelData:void 0,pushAutomationData:void 0})})})}(),function(){"use strict";define("dataservices/dependent/BaseMockServiceState",["core/oop","core/Debug","core/Exception","lib/Promise","core/logging/Levels","lib/lodash/objects/assign","dataservices/IMockServiceState","platform/HttpClient","core/PromiseMultiplexer","dataservices/DataServicesSettings","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("dataservices.dependent.BaseMockServiceState",[Object,a],function(){e.constructor(function(){this._currentState={},this._versionByDevice={}}),e.properties({_defaultVersion:{defaultValue:2},_versionByDevice:void 0,version:{get:function(){var e=parseInt(c.singleton.servicesApiVersion,10);return isNaN(e)?void 0!==this._versionByDevice[d.singleton.id]?this._versionByDevice[d.singleton.id]:this._defaultVersion:e}},_baseDataSourcePath:{defaultValue:"/assets/mock/"},_dataSource:void 0,_defaultDataSource:void 0,_loadedDataSource:void 0,_loadDataMux:void 0,_currentState:void 0,_brand:void 0}),e.methods({tryGetModelData:function(e){var t=this;return this._ensureDataLoaded().then(function(){return void 0===t._currentState[e]?void 0:JSON.parse(JSON.stringify(t._currentState[e]))})},getModelData:function(e){var t=this;return this._ensureDataLoaded().then(function(){var r=t._currentState[e];if(void 0===r){try{e=JSON.parse(e),r=t._currentState[e.assetId]}catch(e){}if(void 0===r)return n.rejected(i.new({message:"No mock asset exists with id: "+(e.assetId||e)+" (caller: "+JSON.stringify(e)+")",area:"dataservices.dependent.BaseMockServiceState.getModelData",level:o.ERROR}))}return JSON.parse(JSON.stringify(r))})},setModelData:function(e){this._loadedDataSource,this._currentState[e.id]=e},restart:function(e,t,i){return this._dataSource=e||this._defaultDataSource,void 0!==this._loadDataMux&&this._loadDataMux.reset(),this._setupLogin(t)},pushAutomationData:function(e){this._processDataSource(JSON.parse(JSON.stringify(e)))},_ensureDataLoaded:function(){if(void 0===this._loadDataMux){var e=this;this._loadDataMux=l.new(function(){return e._processDataSource(e._dataSource).then(function(){e._loadedDataSource=e._dataSource})})}return this._loadDataMux.addPromise()},_processDataSource:function(e){var t=this;if(Array.isArray(e))return this._processArrayDataSource(e);if("string"==typeof e)return this._loadJsonDataSource(e);if("object"==typeof e){if(void 0!==e.$version&&this.version<e.$version)return n.fulfilled();if(void 0!==e.$validDevices){if(!0===Array.isArray(e.$validDevices)&&-1===e.$validDevices.indexOf(d.singleton.id))return n.fulfilled();if(!1===Array.isArray(e.$validDevices)&&(void 0===e.$validDevices[d.singleton.id]||this.version<e.$validDevices[d.singleton.id]))return n.fulfilled()}if(void 0!==e.$validBrands&&!0===Array.isArray(e.$validBrands)&&-1===e.$validBrands.indexOf(this._brand))return n.fulfilled();if(void 0!==e.id)return e.modelType,n.fulfilled().then(function(){t._currentState[e.id]=e});if(void 0!==e.command)return n.fulfilled().then(function(){t._processCommand(e)})}return n.rejected(i.new({message:"Invalid data source: "+JSON.stringify(e),area:"dataservices.dependent.BaseMockServiceState._processDataSource"}))},_processArrayDataSource:function(e){if(0===e.length)return n.fulfilled();var t=e[0];return this._processDataSource(t).then(this._processArrayDataSource.bind(this,e.slice(1)))},_loadJsonDataSource:function(e){var t=this._baseDataSourcePath+e,n=this;return s.singleton.get(t).then(function(e){var o;try{o=JSON.parse(e.response)}catch(e){throw i.new({message:"Failed to parse JSON response from "+t+": "+e.message,area:"dataservices.dependent.BaseMockServiceState"})}return n._processDataSource(o)})},_processCommand:function(e){switch(e.command){case"add":this._addCommand(e.collection,e.value);break;case"copy":this._copyCommand(e.sourceId,e);break;default:throw i.new({message:"Invalid command: "+e.command,area:"dataservices.dependent.BaseMockServiceState._processCommand"})}},_addCommand:function(e,t){this._followPath(e).push(t)},_followPath:function(e){for(var t=e.split("."),i=this._currentState;t.length>0;){i=i[t.shift()]}return i},_copyCommand:function(e,t){var i=r({},this._currentState[e],t,{id:t.destinationId});delete i.destinationId,delete i.command,delete i.sourceId,this._currentState[t.destinationId]=i}})})})}(),function(){"use strict";define("dataservices/authentication/LoginInfoParser",["core/oop","dataservices/dependent/types/LoginInfo","core/Exception","core/logging/Levels"],function(e,t,i,n){return e.classDef("dataservices.authentication.LoginInfoParser",Object,function(){e.singleton(function(){}),e.methods({parse:function(e){var o;try{o=t.new(e)}catch(e){i.wrap(e,{message:"Unable to parse login info.",area:"dataservices.authentication.LoginInfoParser.create",level:n.WARNING}).ignore()}return o}})})})}(),function(){"use strict";define("dataservices/dependent/MockServiceState",["core/oop","dataservices/dependent/BaseMockServiceState","dataservices/authentication/LoginInfoParser","dataservices/dependent/LoginInfoManager"],function(e,t,i,n){return e.classDef("dataservices.dependent.MockServiceState",t,function(t){e.singleton(function(){this._dataSource=this._defaultDataSource=[],t.$ctor.apply(this,arguments)}),e.methods({_setupLogin:function(e){var t,o;return void 0!==e&&(t=i.singleton.parse(e.user),o=i.singleton.parse(e.client)),n.singleton.setLoginInfo(!1,o).then(function(){return n.singleton.setLoginInfo(!0,t)})}})})})}(),function(){"use strict";define("platform/ChromecastWrapper",["core/oop","core/Debug","lib/Promise","platform/dependent/ChromecastBase","platform/dependent/Chromecast","platform/dependent/ChromecastDevice","platform/common/NetworkConnectionState","platform/common/PlaybackState","platform/common/ChromecastApplicationStatus"],function(e,t,i,n,o,r,a,s,l){return e.classDef("platform.ChromecastWrapper",n,function(t){e.singleton(function(){t.$ctor.apply(this,arguments),this._availableDevices=[],this._applicationStatus=l.new(),this._automationEnabled=!1}),e.properties({_automationEnabled:void 0,_pendingSession:void 0,_availableDevices:void 0,applicationStatus:{defaultValue:void 0,privateSet:!0,onChange:function(){this._onApplicationStatusChanged()}},platformHandlesDeviceSelection:{get:function(){return!1}},_dispatchEvents:{defaultValue:!0}}),e.methods({getChromecast:function(){return this._automationEnabled?this:o.singleton},restart:function(e){this._automationEnabled&&this.pushAutomationData({devices:[]}),void 0!==e?(this._automationEnabled=!0===e.enabled,this._showIcon=!0===e.showIcon,this._showCoachmark=!0===e.showCoachmark):(this._automationEnabled=!1,this._showIcon=!1,this._showCoachmark=!1)},pushAutomationData:function(e){if(this._automationEnabled,void 0!==e.devices&&this._handleDevicesChanged(e.devices),void 0!==e.connectionState){var t=a[e.connectionState];e.connectionState,this._connectionState=t,void 0!==this._pendingSession&&(this._pendingSession.resolve(),this._pendingSession=void 0)}if(void 0!==e.position&&(this._position=e.position),void 0!==e.playbackState){var i=s[e.playbackState];e.playbackState,this._playbackState=i}if(void 0!==e.applicationStatus){var n=e.applicationStatus;n.device=r.new(n.deviceId,n.friendlyName),delete n.deviceId,delete n.friendlyName,this._applicationStatus=l.new(n)}void 0!==e.sessionId&&(this._sessionId=e.sessionId)},establishSession:function(){return this.isAvailable,this._pendingSession,this._pendingSession=i.pending(),this._connectionState=a.CONNECTING,this._playbackState=s.UNKNOWN,this._pendingSession.promise},destroySession:function(){return this._position=0,this._sessionId=void 0,this._pendingSession=void 0,this._connectionState=a.DISCONNECTED,this._playbackState=s.UNKNOWN,i.fulfilled()},loadMedia:function(){return i.rejected()},sendSetPositionMessage:function(){return i.rejected()},sendSetVolumeMessage:function(){return i.rejected()},sendPlayMessage:function(){return this._playbackState=s.PLAYING,i.fulfilled()},sendPauseMessage:function(){return this._playbackState=s.PAUSED,i.fulfilled()},_handleDevicesChanged:function(e){this._availableDevices=e.map(function(e){return r.new(e.deviceId,e.friendlyName)}),this._isAvailable=e.length>0,this._onAvailableDevicesChanged()},getAvailableDevices:function(){return this._availableDevices},_handleClosedCaptioningChanges:function(){}})})})}(),function(){"use strict";define("platform/dependent/NativeAccessStatus",["core/oop"],function(e){return e.enumDef("platform.dependent.NativeAccessStatus",["NOTDETERMINED","RESTRICTED","DENIED","GRANTED"])})}(),function(){"use strict";define("platform/dependent/ISingleSignOn",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.ISingleSignOn",t,function(){e.methods({acceptsNonParticipatingSSOAffiliate:void 0,doesSupportStoredCreds:void 0,canAccessStoredCreds:void 0,getProviderInfo:void 0,readStoredCreds:void 0})})})}(),function(){"use strict";define("platform/dependent/SingleSignOnBase",["core/oop","core/Debug","lib/Promise","core/Disposable","platform/dependent/NativeAccessStatus","platform/dependent/ISingleSignOn"],function(e,t,i,n,o,r){return e.classDef("platform.dependent.SingleSignOnBase",[n,r],function(){e.constructor(function(){this._created()}),e.methods({acceptsNonParticipatingSSOAffiliate:function(){return!1},doesSupportStoredCreds:function(){return!1},canAccessStoredCreds:function(){return this.doesSupportStoredCreds(),i.fulfilled(o.DENIED)},getProviderInfo:function(){return this.doesSupportStoredCreds(),i.fulfilled({ssoProviderId:void 0,reason:"other provider"})},readStoredCreds:function(){return this.doesSupportStoredCreds(),i.fulfilled({ssoProviderId:void 0,samlResponse:void 0,reason:"not supported"})}})})})}(),function(){"use strict";define("platform/dependent/SingleSignOn",["core/oop","platform/dependent/SingleSignOnBase"],function(e,t){return e.classDef("platform.dependent.SingleSignOn",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("platform/SingleSignOnWrapper",["core/oop","core/Debug","lib/Promise","platform/dependent/SingleSignOnBase","platform/dependent/NativeAccessStatus","platform/dependent/SingleSignOn"],function(e,t,i,n,o,r){return e.classDef("platform.SingleSignOnWrapper",n,function(t){e.singleton(function(){t.$ctor.apply(this,arguments),this._automationEnabled=!1,this._defaultState={delayMS:0,doesSupportStoredCreds:!1,acceptsNonParticipatingSSOAffiliate:!1,canAccessStoredCreds:"DENIED",storedCreds:{},providerInfo:{}}}),e.properties({_automationEnabled:void 0,_state:void 0,_defaultState:void 0}),e.methods({_delay:function(){return i.delay(this._state.delayMS)},getSingleSignOn:function(){return this._automationEnabled?this:r.singleton},restart:function(e){this._automationEnabled&&this.pushAutomationData(this._defaultState),this._automationEnabled=!0===e},pushAutomationData:function(e){this._automationEnabled,this._state=JSON.parse(JSON.stringify(e))},acceptsNonParticipatingSSOAffiliate:function(){return this._state.acceptsNonParticipatingSSOAffiliate},doesSupportStoredCreds:function(){return this._state.doesSupportStoredCreds},canAccessStoredCreds:function(){o[this._state.canAccessStoredCreds];this._state.canAccessStoredCreds;var e=this;return this._delay().then(function(){return o[e._state.canAccessStoredCreds]})},getProviderInfo:function(){var e=this;return this._delay().then(function(){return e._state.providerInfo})},readStoredCreds:function(){var e=this;return this._delay().then(function(){return e._state.storedCreds})}})})})}(),function(){"use strict";define("core/logging/LogHandler",["core/oop","core/Disposable","core/logging/FilterCollection"],function(e,t,i){return e.classDef("core.logging.LogHandler",t,function(){e.constructor(function(){this._filters=i.new(),this._created()}),e.properties({filters:{defaultValue:void 0,privateSet:!0}}),e.methods({log:function(e){if(!1===this.isDisposed){var t=this.filters.getConfig(e.area,e.type);!0===(void 0!==t&&t.verbosity>=e.verbosity)&&this._log(e)}},_log:function(){}})})})}(),function(){"use strict";define("core/logging/Filter",["core/oop"],function(e){return e.classDef("core.logging.Filter",Object,function(){e.initConstructor(function(){}),e.properties({area:void 0,type:void 0,config:void 0}),e.methods({test:function(e,t){return(void 0===this.type||void 0===t||!0===this.type.test(t))&&!0===this.area.test(e)}})})})}(),function(){"use strict";define("platform/diagnostics/HttpCountersLogHandler",["core/oop","core/logging/LogHandler","core/logging/Filter","core/logging/Counters","core/logging/Levels","lib/lodash/collections/find"],function(e,t,i,n,o,r){var a=e.classDef("platform.diagnostics.HttpCountersLogHandler",t,function(t){e.staticScope(function(){e.properties({outstandingRequests:{defaultValue:[]}}),e.events(["requestStarted"])}),e.constructor(function(){t.$ctor.apply(this,arguments);var e=["httprequest","httpresponse","httpcancel"];this.filters.add(i.new({area:/.*/,type:new RegExp(e.join("|")),config:{verbosity:o.DIAG}}))}),e.properties({_totalResponseTime:{defaultValue:0}}),e.methods({_log:function(e){if("httprequest"===e.type)n.singleton.incrementCounter("Http.Requests"),n.singleton.incrementCounter("Http.Request."+e.method),n.singleton.incrementCounter("Http.Requests.Outstanding"),this._startRequest(e);else if("httpresponse"===e.type)if(e.attemptingRetry)n.singleton.incrementCounter("Http.Retries");else{n.singleton.incrementCounter("Http.Responses");var t=this._completeRequest(e),i=e.timestamp-t.timestamp;this._totalResponseTime+=i,n.singleton.setCounter("Http.ResponseTime.Sum",this._totalResponseTime),n.singleton.setCounter("Http.ResponseTime.Last",i),n.singleton.decrementCounter("Http.Requests.Outstanding")}else"httpcancel"===e.type&&(n.singleton.incrementCounter("Http.Requests.Canceled"),this._completeRequest(e),n.singleton.decrementCounter("Http.Requests.Outstanding"))},_startRequest:function(e){a.outstandingRequests.push({request:e,requestId:e.requestId,timestamp:e.timestamp,url:e.url}),a._onRequestStarted(e.url,e)},_completeRequest:function(e){var t=r(a.outstandingRequests,function(t){return t.requestId===e.requestId});return a.outstandingRequests.splice(a.outstandingRequests.indexOf(t),1),t.response=e,t}})});return a})}(),function(){"use strict";define("dataservices/Walker",["core/oop","lib/Promise","core/AsyncCollection","core/data/Provider","core/data/ModelFactory","core/data/CacheManager","core/logging/Counters","core/logging/Levels","core/logging/MessageLogEntry","dataservices/authentication/AuthenticationManager"],function(e,t,i,n,o,r,a,s,l,c){var d=e.classDef("dataservices.Walker",Object,function(){e.constructor(function(){this._typeInfo={},this._queue=[],this._visited={},this._failedModels={},this._ignore=["id","typeName","isInitialized","deepLinkUriPath","drm","cacheable","cdn","closedCaptioningUri","expirationTime","logoutUri","progress","playbackMarker","profile","prerollUri","trickPlayHDTemplateUri","trickPlaySDTemplateUri","videoUri"],this._flushes=0,this._models=0,this._props=0}),e.staticScope(function(){e.methods({run:function(){return d.new()._full(384)}})}),e.properties({_typeInfo:void 0,_queue:void 0,_visited:void 0,_failedModels:void 0,_ignore:void 0,_flushes:void 0,_models:void 0,_props:void 0,_start:void 0}),e.methods({_full:function(e){r.singleton.clear(),a.singleton.clearCounterStats(),this._queueVisit(o.singleton.create("RootNavigationMenu","RootNavigationMenu")),this._queueVisit(o.singleton.create("Legal","Legal")),this._queueVisit(o.singleton.create("FaqMenu","FaqMenu")),this._queueVisit(o.singleton.create("ContinueWatching","ContinueWatching"));var t=this;return c.singleton.login().then(function(e){e&&t._queueVisit(o.singleton.create("User","User"))}).then(function(){return t._processAll(e)}).then(function(){return t._failedModels}).catch(function(){return t._failedModels})},_queueVisit:function(e){void 0===this._visited[e.id]&&(this._queue.push(e),this._visited[e.id]=!0)},_processAll:function(e){return this._start=this._start||Date.now(),this._queue.length>0?this._processQueue(e).then(this._processAll.bind(this,e)):(this._logComplete(),this._start=void 0,t.fulfilled())},_processQueue:function(e){var i=this._queue.slice(0,e);return this._queue=this._queue.slice(e),this._flushes++,t.all(i.map(this._processModel.bind(this)))},_logComplete:function(){this._logMessage(JSON.stringify(this._typeInfo,void 0,"    "));var e=this,t=a.singleton.getAllCounterStats();Object.keys(t).sort().forEach(function(i){0!==i.indexOf("Batch")&&0!==i.indexOf("CacheManager")&&0!==i.indexOf("Http")||e._logMessage(i+": "+t[i].toJSON())}),this._log(),this._logMessage("Complete.")},_log:function(){this._logMessage("  walker flushes: "+this._flushes+"  models: "+this._models+"  failed models: "+Object.keys(this._failedModels).join(", ")+"  props: "+this._props+"  time: "+this._getTime())},_logMessage:function(e){l.new({message:e,area:"dataservices.Walker",verbosity:s.INFO}).log()},_ensureTypeInfo:function(e){return this._typeInfo[e.factoryId]=this._typeInfo[e.factoryId]||{count:0,failures:0},this._typeInfo[e.factoryId]},_getTime:function(){return(Date.now()-this._start)/1e3},_processModel:function(e){this._models++,this._ensureTypeInfo(e).count++;var i=this._getProps(e);return t.all(i.map(this._processProp.bind(this,e)))},_getProps:function(e){if(null===e)return[];var t=[],i=this._ignore;return Object.getOwnPropertyNames(e).forEach(function(n){0!==n.indexOf("_")&&-1===i.indexOf(n)&&void 0!==Object.getOwnPropertyDescriptor(e,n).get&&t.push(n)}),t.concat(this._getProps(Object.getPrototypeOf(e)))},_processProp:function(e,t){this._props++;var i=e[t];return this._processValue(i).catch(this._handleFailure.bind(this,e,t))},_processValue:function(e){if(e instanceof t)return e.then(this._processValue.bind(this));if(e instanceof i){var o=this;return e.getRange(0).then(function(e){return t.all(e.map(o._processValue.bind(o)))})}return e instanceof n&&this._queueVisit(e),t.fulfilled()},_handleFailure:function(e,t){void 0===this._failedModels[e.id]&&(this._failedModels[e.id]={modelId:e.id,props:[]},this._ensureTypeInfo(e).failures++),this._failedModels[e.id].props.push({property:t})}})});return d})}(),function(){"use strict";define("platform/dependent/IBootstrapperStorage",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IBootstrapperStorage",void 0,function(){e.singleton(),e.properties({_activeManifest:{get:void 0}}),e.methods({setPendingManifest:void 0,getActiveManifest:void 0,addPending:void 0,copyFromActiveToPending:void 0,activatePending:void 0})})})}(),function(){"use strict";define("platform/dependent/BootstrapperStorage",["core/oop","platform/dependent/IBootstrapperStorage","lib/Promise"],function(e,t,i){return e.classDef("platform.dependent.BootstrapperStorage",[Object,t],function(){e.singleton(function(){}),e.properties({_activeManifest:void 0,_pendingManifest:void 0}),e.methods({setPendingManifest:function(e){return this._pendingManifest=e,i.fulfilled()},getActiveManifest:function(){return i.fulfilled(this._activeManifest)},addPending:function(e,t){return i.fulfilled()},activatePending:function(){return this._activeManifest=this._pendingManifest,i.fulfilled()},copyFromActiveToPending:function(e){return i.fulfilled()}})})})}(),function(){"use strict";define("dataservices/bootstrapper/BootstrapperService",["core/oop","lib/Promise","platform/HttpClient","platform/dependent/BootstrapperStorage"],function(e,t,i,n){var o=e.classDef("dataservices.bootstrapper.BootstrapperService",Object,function(){e.singleton(function(){}),e.staticScope(function(){e.properties({bootstrapURL:void 0,_manifestEndPoint:{defaultValue:"manifest.raw.json",readOnlyField:!0},_manifestRootNode:{defaultValue:"files",readOnlyField:!0},_manifestHashNode:{defaultValue:"hash",readOnlyField:!0},_manifestTimeStampNode:{defaultValue:"timeStamp",readOnlyField:!0},_BOOTSTRAP_CONCURRENCY:{defaultValue:4,readOnlyField:!0}})}),e.methods({downloadFiles:function(){var e=this,i=o.bootstrapURL+o._manifestEndPoint,r=e._getManifestString(i),a=n.singleton.getActiveManifest(),s=e._parseManifest("Remote Manifest - "+i,r),l=e._parseManifest("Current Active Manifest - LocalStorage",a);return t.join(s,l).then(function(t){var i=t[0],a=t[1]||{};if(!0!==e._shouldDownloadFiles(i,a))return!1;var s=a[o._manifestRootNode]||{},l=i[o._manifestRootNode]||{},c=Object.keys(l);return 0!==c.length&&r.then(function(e){return n.singleton.setPendingManifest(e)}).then(function(){return e._addFilesFromManifest(c,l,s)}).then(function(){return n.singleton.activatePending()}).then(function(){return!0})}).catch(function(e){return t.reject(e)})},_makeRequestInternal:function(e){return i.singleton.get(e).then(function(e){return e.response})},_getManifestString:function(e){return this._makeRequestInternal(e)},_parseManifest:function(e,t){return t.then(function(e){try{return JSON.parse(e)}catch(e){return}})},_addFilesFromManifest:function(e,i,r){var a=this;return t.map(e,function(e){return a._fileHashesMatch(i[e],r[e])?n.singleton.copyFromActiveToPending(e):a._makeRequestInternal(o.bootstrapURL+e).then(function(t){return n.singleton.addPending(e,t)})},{concurrency:o._BOOTSTRAP_CONCURRENCY})},_fileHashesMatch:function(e,t){var i=e&&e[o._manifestHashNode],n=t&&t[o._manifestHashNode];return"string"==typeof i&&"string"==typeof n&&i===n},_shouldDownloadFiles:function(e,t){return!!e&&e[o._manifestTimeStampNode]!==t[o._manifestTimeStampNode]}})});return o})}(),function(e){"use strict";define("automation/AutomationManager",["core/oop","core/Debug","lib/lodash/objects/forOwn","automation/AtlasChannel","application/ClientDevice","automation/VirtualButtonDeviceKeyboard","automation/VirtualPointerDevice","dataservices/authentication/AuthenticationException","dataservices/authentication/AuthenticationManager","dataservices/authentication/StreamTrackingException","core/data/ModelFactory","core/DisposableTracker","platform/input/Buttons","platform/input/ButtonProvider","platform/input/PointerProvider","platform/common/Dispatcher","ui/views/RootView","ui/views/ScrollView","lib/Promise","platform/diagnostics/Performance","platform/dependent/diagnostics/Performance","platform/dependent/Process","platform/dependent/Storage","platform/dependent/graphics/Viewport","lib/lodash/collections/contains","lib/lodash/collections/forEach","core/Disposable","ui/navigation/Navigator","design/NavigationRouter","ui/views/MarkdownTextView","dataservices/dependent/MockServiceState","dataservices/dependent/PlaybackMarkerService","core/Exception","platform/dependent/TravelLog","ui/input/InputManager","ui/views/TextInputView","ui/views/SelectorView","platform/dependent/graphics/DisplayNodeDebugger","platform/ChromecastWrapper","platform/SingleSignOnWrapper","platform/StoreWrapper","core/logging/Counters","platform/diagnostics/HttpCountersLogHandler","platform/dependent/graphics/Image","platform/dependent/User","core/PromiseManager","dataservices/Walker","engine/dependent/Scheduler","dataservices/dependent/domains","application/ClientApplication","dataservices/DataServicesSettings","dataservices/bootstrapper/BootstrapperService","dataservices/types/NextSteps","ui/UIDeveloperSettings"],function(t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A,k,V,M,D,O,N,F,L,B,H,U,$,W,j,G,z,K,Y,q,Q,X,J,Z,ee){return t.classDef("automation.AutomationManager",E,function(i){t.singleton(function(){this._atlasMessageHandler=this._handleAtlasMessage.bind(this),this._atlasQueueHandler=this._handleAtlasQueue.bind(this),this._heartBeatHandler=this._sendHeartBeat.bind(this),this._heartBeatId=0,this._heartBeatTimeoutMS=1e3,this._animationsOutstanding=0,this._animationStartedHandler=this._handleAnimationStarted.bind(this),this._animationFinishedHandler=this._handleAnimationFinished.bind(this),this._networkRequestStartedHandler=this._handleNetworkRequestStarted.bind(this),this._imageRequestsOutstanding=[],this._imageRequestStartedHandler=this._handleImageRequestStarted.bind(this),this._imageRequestFinishedHandler=this._handleImageRequestFinished.bind(this),this._promiseChainsOutstanding=[],this._disposablePromiseStartedHandler=this._handlePromiseChainStarted.bind(this),this._disposablePromiseFinishedHandler=this._handlePromiseChainFinished.bind(this),this._stableUITimeoutMS=2e4,this._ignorablePromiseNamesDuringPauseUI=[],this._checkDispatcherDuringPauseUI=!0,this._networkEvents=[],this._commands={getVersion:this._getVersion,start:this._start,stop:this._stop,buttonPress:this._buttonPress,buttonDown:this._buttonDown,buttonUp:this._buttonUp,pointerClick:this._pointerClick,pointerMove:this._pointerMove,pointerDown:this._pointerDown,pointerUp:this._pointerUp,hyperlinkSpanClick:this._hyperlinkSpanClick,scrollTo:this._scrollTo,getAutomationTree:this._getAutomationTree,toggleDebugHitTest:this._toggleDebugHitTest,getCurrentViewHost:this._getCurrentViewHost,getHeapSize:this._getHeapSize,getClientInfo:this._getClientInfo,getDisposableSummary:this._getDisposableSummary,getAutomationPeer:this._getAutomationPeer,enableObjectTracker:this._enableObjectTracker,disableObjectTracker:this._disableObjectTracker,enableDispatcherCheck:this._enableDispatcherCheck,disableDispatcherCheck:this._disableDispatcherCheck,waitForBackgroundWork:this._waitForBackgroundWork,pauseUI:this._pauseUI,resumeUI:this._resumeUI,restart:this._restart,deepLink:this._deepLink,getViewportBounds:this._getViewportBounds,navigateBack:this._navigateBack,beginGetCoverage:this._beginGetCoverage,getPartialCoverage:this._getPartialCoverage,exceptionTest:this._exceptionTest,setText:this._setText,pauseAndSetPlayerPlayerPosition:this._pauseAndSetPlayerPlayerPosition,setSelectedIndex:this._setSelectedIndex,pushData:this._pushData,highlight:this._highlight,walkProviders:this._walkProviders,setPlaybackMarker:this._setPlaybackMarker,addConvivaTags:this._addConvivaTags,setAutomatonVideoArguments:this._setAutomatonVideoArguments,setPlayerControlToggleDelay:this._setPlayerControlToggleDelay,addHttpRequestsOutstandingFilter:this._addHttpRequestsOutstandingFilter,getADMRegistrationId:this._getADMRegistrationId,clearNetworkEvents:this._clearNetworkEvents,getNetworkEvents:this._getNetworkEvents,startBootstrap:this._startBootstrap},this._defaultHttpRequestFilters=[new RegExp(String(q.omniture),"i"),/comet.*?\.hbo\.com\/logs/],this._customHttpRequestFilters=[],this._PROTOCOL_VERSION=2,this._created(),this._automationMocks={chromecast:B.singleton,sso:H.singleton,mockServiceData:k.singleton,store:U.singleton}}),t.properties({isEnabled:{defaultValue:!1},isRunning:{defaultValue:!1},_PROTOCOL_VERSION:void 0,_atlasMessageHandler:void 0,_atlasQueueHandler:void 0,_heartBeatHandler:void 0,_heartBeatId:void 0,_heartBeatTimeoutMS:void 0,_heartBeatTimerCancel:void 0,_build:void 0,_commands:void 0,_keyboard:void 0,_pausedAnimationsState:void 0,_wasPerformanceMonitoring:void 0,_pointer:void 0,_animationsOutstanding:void 0,_animationStartedHandler:void 0,_animationFinishedHandler:void 0,_networkRequestStartedHandler:void 0,_imageRequestsOutstanding:void 0,_imageRequestStartedHandler:void 0,_imageRequestFinishedHandler:void 0,_promiseChainsOutstanding:void 0,_disposablePromiseStartedHandler:void 0,_disposablePromiseFinishedHandler:void 0,_stableUITimeoutMS:void 0,_pausedUI:{defaultValue:!1},_pausedUIViolations:void 0,_pauseUIIterationCount:void 0,_automationMocks:void 0,_global:{defaultValue:e},_convivaTags:void 0,_coveragePropertyNames:void 0,_nextCoveragePropertyIndex:void 0,_defaultHttpRequestFilters:void 0,_customHttpRequestFilters:void 0,_ignorablePromiseNamesDuringPauseUI:void 0,_checkDispatcherDuringPauseUI:void 0,_networkEvents:void 0}),t.events(["started","stopped"]),t.methods({_pushData:function(e){n(this._automationMocks,function(t,i){e[i]&&t.pushAutomationData(e[i])})},enable:function(e){this.isEnabled!==e&&(this.isEnabled=e,e?(o.singleton.isEnabled,o.singleton.message.on(this._atlasMessageHandler),o.singleton.dataQueued.on(this._atlasQueueHandler),L.singleton.enableAnimationTracking(!0),L.singleton.animationStarted.on(this._animationStartedHandler),L.singleton.animationFinished.on(this._animationFinishedHandler),L.singleton.animationRejected.on(this._animationFinishedHandler),W.requestStarted.on(this._networkRequestStartedHandler),j.requestStarted.on(this._imageRequestStartedHandler),j.requestFinished.on(this._imageRequestFinishedHandler),z.started.on(this._disposablePromiseStartedHandler),z.finished.on(this._disposablePromiseFinishedHandler),$.singleton.isEnabled=!0,r.singleton.dismissControlsDurationMS=-1):(o.singleton.message.off(this._atlasMessageHandler),o.singleton.dataQueued.off(this._atlasQueueHandler),L.singleton.enableAnimationTracking(!1),L.singleton.animationStarted.off(this._animationStartedHandler),L.singleton.animationFinished.off(this._animationFinishedHandler),L.singleton.animationRejected.off(this._animationFinishedHandler),W.requestStarted.off(this._networkRequestStartedHandler),j.requestStarted.off(this._imageRequestStartedHandler),j.requestFinished.off(this._imageRequestFinishedHandler),z.started.off(this._disposablePromiseStartedHandler),z.finished.off(this._disposablePromiseFinishedHandler),this._stop()))},setBuild:function(e){this._build=e},_disposeCore:function(){this._cleanupDevices(),i._disposeCore.apply(this,arguments)},_convertNullToUndefined:function(e){void 0!==e&&e.forEach(function(t,i){null===t&&(e[i]=void 0)})},_handleAtlasMessage:function(e){if(this.isEnabled){var t,i,n=this._commands[e.cmd];try{e.cmd,this._convertNullToUndefined(e.args),t=n.apply(this,e.args)||{}}catch(e){throw i=e,e}finally{if(e.reqId)if(void 0!==i)this._sendAndFlush({cmd:e.cmd,respId:e.reqId,error:this._wrapError(i)});else{var o=this;y.fulfilled(t).then(function(t){o._sendAndFlush({cmd:e.cmd,respId:e.reqId,response:t})}).catch(function(t){o._sendAndFlush({cmd:e.cmd,respId:e.reqId,error:o._wrapError(t)})})}}}},_wrapError:function(e){var t="object"==typeof e?e:new Error(e);return M.wrap(t,{message:"Automation Error",area:"automation.AutomationManager._wrapError"})},_sendAndFlush:function(e){e.type="automation",o.singleton.queue(e),o.singleton.flush()},_handleAtlasQueue:function(e){R(["pageview","viewready","automation","error","developermessage"],e.type)&&o.singleton.flush()},_sendHeartBeat:function(){this._heartBeatId++,this._sendAndFlush({heartBeat:this._heartBeatId})},_restart:function(e){var t=this;return this._setIgnorablePromises(e.ignorablePromises),c.singleton.logout().then(function(){return P(e.storageKeysToRemove,function(e){C.singleton.remove(e)}),n(t._automationMocks,function(t,i){t.restart(e[i])}),k.singleton.restart(e.dataSource,e.loginInfo,e.useSilentAuth).then(function(){Z.singleton.clearData(),x.singleton.restart(!1),S.singleton.restart(e.activationArgs||{})})})},_deepLink:function(e){S.singleton.restart(e)},_highlight:function(e){e.forEach(function(e){var t
;void 0!==(t=e===v.singleton.disposableId?v.singleton:v.singleton.findById(e))&&t.identify()})},_start:function(){var e=this;return y.try(function(){if(e.isEnabled&&!e.isRunning)return e._keyboard=a.new(),e._pointer=s.new(),g.singleton.addDevice(e._keyboard),f.singleton.addDevice(e._pointer),e.isRunning=!0,S.singleton.inAutomation=!0,M.inAutomation=!0,e._onStarted(),e._heartBeatTimerCancel=m.singleton.postInterval(e._heartBeatTimeoutMS,e._heartBeatHandler),L.singleton.pauseAnimations().then(function(t){e._pausedAnimationsState=t,v.singleton.layers.debug.isVisible=!1})}).then(function(){if(e.isRunning){var t={buttons:{}};return h.forEach(function(e,i){t.buttons[i]=e}),t}})},_stop:function(){void 0!==this._heartBeatTimerCancel&&(this._heartBeatTimerCancel(),this._heartBeatTimerCancel=void 0),this.isEnabled&&this.isRunning&&(this._cleanupDevices(),void 0!==this._pausedAnimationsState&&L.singleton.resumeAnimations(this._pausedAnimationsState),v.singleton.layers.debug.isVisible=!0,this.isRunning=!1,S.singleton.inAutomation=!1,M.inAutomation=!1,this._onStopped())},_cleanupDevices:function(){void 0!==this._keyboard&&(g.singleton.removeDevice(this._keyboard),this._keyboard.dispose(),this._keyboard=void 0),void 0!==this._pointer&&(f.singleton.removeDevice(this._pointer),this._pointer.dispose(),this._pointer=void 0)},_getVersion:function(){return this._PROTOCOL_VERSION},_getAutomationTree:function(){var e=v.singleton.getAutomationPeer();return e.currentViewHost=this._getCurrentViewHost(),e},_toggleDebugHitTest:function(){return L.singleton.debugHitTest=!L.singleton.debugHitTest,{debugHitTest:L.singleton.debugHitTest}},_getGlobalCoverageData:function(){return this._global.__coverage__},_beginGetCoverage:function(){var e=this._getGlobalCoverageData();this._coveragePropertyNames=Object.getOwnPropertyNames(e),this._nextCoveragePropertyIndex=0},_getPartialCoverage:function(){if(this._nextCoveragePropertyIndex,this._nextCoveragePropertyIndex!==this._coveragePropertyNames.length){var e=this._getGlobalCoverageData(),t=this._coveragePropertyNames[this._nextCoveragePropertyIndex];this._nextCoveragePropertyIndex++;var i={};return i[t]=e[t],i}},_getCurrentViewHost:function(){var e=I.singleton.getActiveViewHost();return{locationName:void 0===e?void 0:e.breadcrumb.locationName,isReady:void 0!==e&&e.isReady}},_getHeapSize:function(){return b.singleton.getHeapSize()},_getDisposableSummary:function(){return p.singleton.getDisposableSummary()},_getAutomationPeer:function(e){return p.singleton.getAutomationPeer(e)},_isDispatcherEmpty:function(){return!0===m.singleton.isEmpty},_requestNonAnimationFrameCallback:function(e){Y.singleton.requestTimeout(e,16)},_pollForEmptyDispatcher:function(e){if(this._isDispatcherEmpty())return e.fulfill("Done");this._requestNonAnimationFrameCallback(this._pollForEmptyDispatcher.bind(this,e),16)},_waitForBackgroundWork:function(){var e=y.pending();return this._pollForEmptyDispatcher(e),e.promise},_getPauseUIStatus:function(){return{iterationCount:this._pauseUIIterationCount,textInputHasFocus:O.singleton.currentScope.focusView instanceof N}},_makeDelayPromise:function(){return y.delay(this._stableUITimeoutMS)},_pauseUI:function(){var e=this;if(void 0!==e._wasPerformanceMonitoring)return y.fulfilled(e._getPauseUIStatus());e._wasPerformanceMonitoring=w.singleton.isMonitoring(),!0===e._wasPerformanceMonitoring&&w.singleton.stopMonitor(),e._pauseUIIterationCount=0;var t=[!1],i=e._waitForStableUIWorker(t),n=e._makeDelayPromise();return y.race([i,n]).then(function(){if(i.isPending()){t[0]=!0;var n=e._getPendingHttpRequestURLs(),o=e._getPromiseChainInfoArray();return y.reject("UI did not stabilize in <=Details=>: "+e._stableUITimeoutMS+" ms after "+e._pauseUIIterationCount+" waitForStableUIWorker iterations with "+e._animationsOutstanding+" outstanding animations, "+n.length+" outstanding http requests ["+n.join(", ")+"], "+e._imageRequestsOutstanding.length+" outstanding image requests ["+e._imageRequestsOutstanding.join(", ")+"], and "+o.length+" pending promise chains "+JSON.stringify(o),e._pausedUIViolations)}}).then(function(){return m.singleton.queue()}).then(function(){return e._pausedUI=!0,e._getPauseUIStatus()}).catch(function(t){return e._resumeUI().then(function(){return y.reject(t)})}).finally(function(){n.cancel()})},_resumeUI:function(){void 0!==this._wasPerformanceMonitoring&&(!0===this._wasPerformanceMonitoring&&w.singleton.startMonitor(),this._wasPerformanceMonitoring=void 0);var e=this._pausedUIViolations;return this._pausedUI=!1,this._pausedUIViolations=void 0,y.fulfilled(e)},_pollForStableUIWorker:function(e,t){if(this._pauseUIIterationCount++,t[0])return e.fulfill();this._checkDispatcherDuringPauseUI&&!this._isDispatcherEmpty()||0!==this._animationsOutstanding||this._getPendingHttpRequestURLs().length>0||0!==this._imageRequestsOutstanding.length||!0===this._areNonInteractivePromiseChainsOutstanding()?this._requestNonAnimationFrameCallback(this._pollForStableUIWorker.bind(this,e,t),16):e.fulfill()},_getPromiseChainInfoArray:function(){return this._promiseChainsOutstanding.map(function(e){return e.getDebugInfo()})},_areNonInteractivePromiseChainsOutstanding:function(){var e=this;return this._getPromiseChainInfoArray().reduce(function(t,i){return!0===t||!0!==i.waitsForUserInteraction&&e._ignorablePromiseNamesDuringPauseUI.indexOf(i.name)<0},!1)},_getPendingHttpRequestURLs:function(){var e,t=this._defaultHttpRequestFilters.concat(this._customHttpRequestFilters),i=[];return W.outstandingRequests.forEach(function(n){for(e=0;e<t.length;e++)if(t[e].test(n.url))return;i.push(n.url)}),i},_setIgnorablePromises:function(e){e=e||[],this._ignorablePromiseNamesDuringPauseUI=e},_waitForStableUIWorker:function(e){var t=y.pending();return this._pollForStableUIWorker(t,e),t.promise},_enableObjectTracker:function(e){!0===e&&p.singleton.clearActive(),p.singleton.isEnabled=!0,p.singleton.captureCallStack=!0},_disableObjectTracker:function(e){!0===e&&p.singleton.clearActive(),p.singleton.isEnabled=!1},_enableDispatcherCheck:function(){this._checkDispatcherDuringPauseUI=!0},_disableDispatcherCheck:function(){this._checkDispatcherDuringPauseUI=!1},_getClientInfo:function(){var e=r.singleton,t=Q.singleton,i={device:{id:e.id,code:e.code,analyticsName:e.analyticsName,model:e.model,serial:e.serial,platform:e.platform,locale:e.locale,localeHyphenated:e.localeHyphenated,playbackMarkerUpdateIntervalMS:e.playbackMarkerUpdateIntervalMS,assetCollectionCacheMS:e.assetCollectionCacheMS,userInformationCacheMS:e.userInformationCacheMS,trickPlayImageInterval:e.trickPlayImageInterval,defaultPlayerLanguageCode:e.defaultPlayerLanguageCode,playerLanguageCode:e.playerLanguageCode,performanceLevel:r.PerformanceLevels.getName(e.performanceLevel),isPhone:e.isPhone},application:{name:X.singleton.name,version:t.version,buildFlavor:t.buildFlavor,buildClient:t.buildClient,environment:t.environment,config:t.config,code:X.singleton.code,sessionId:t.sessionId,regionId:t.regionId,servicesId:X.singleton.servicesId,commit:t.commit},build:{brand:this._build.features.brand,pal:this._build.features.pal,design:this._build.features.design,services:this._build.features.services,environment:this._build.features.environment,optimize:this._build.features.optimize,coverage:this._build.features.coverage}};return S.singleton.launchArgsReady.then(function(e){return i.launchArgs=e,c.singleton.login()}).then(function(e){if(!0===e){var t=function(e){return{tv:{code:e.tv.code,name:e.tv.name},movie:{code:e.movie.code,name:e.movie.name}}},n=u.singleton.create("User","User");return y.props({userId:n.userId,displayName:n.displayName,isHBOSubscriber:n.isHBOSubscriber,isMAXSubscriber:n.isMAXSubscriber,marketingOptIn:n.marketingOptIn,primaryRating:n.primaryRating,mergedRating:n.mergedRating,continueWatchingEnabled:n.continueWatchingEnabled}).then(function(e){return i.user={userId:e.userId,displayName:e.displayName,isHBOSubscriber:e.isHBOSubscriber,isMAXSubscriber:e.isMAXSubscriber,marketingOptIn:e.marketingOptIn,continueWatchingEnabled:e.continueWatchingEnabled,primaryRating:t(e.primaryRating),mergedRating:t(e.mergedRating)},i})}return y.fulfilled(i)})},_buttonPress:function(e){this._keyboard.pressKey(e),this._keyboard.releaseKey(e)},_buttonDown:function(e){this._keyboard.pressKey(e)},_buttonUp:function(e){this._keyboard.releaseKey(e)},_pointerClick:function(e,t){this._pointer.pointerDown(e,t),this._pointer.pointerUp(e,t)},_pointerMove:function(e,t){this._pointer.pointerMove(e,t)},_pointerDown:function(e,t){this._pointer.pointerDown(e,t)},_pointerUp:function(e,t){this._pointer.pointerUp(e,t)},_hyperlinkSpanClick:function(e,t){var i=v.singleton.findById(e);i.typeName,i.automationInvokeHyperlink(t)},_scrollTo:function(e,t,i){var n;return n=void 0===i||i===v.singleton.disposableId?v.singleton:v.singleton.findById(i),n.typeName,n.scrollTo(e,t,!1)},_getViewportBounds:function(){return{width:T.singleton.width,height:T.singleton.height}},_navigateBack:function(){!0===D.singleton.usePlatformNavigation?D.singleton.asyncBack():I.singleton.navigateBack()},_getFocusView:function(e){var t=O.singleton.currentScope.focusView;if(t instanceof e)return t;throw new Error("Required focus view of type: "+e.prototype.typeName)},_exceptionTest:function(e){switch(e){case"throwException":throw M.new({message:"injected Exception",area:"automation.AutomationManager._exceptionTest"});case"throwAuthenticationException":throw l.new({message:"injected AuthenticationException",area:"automation.AuthenticationManager._exceptionTest"});case"throwStreamTrackingException":throw d.new({message:"injected StreamTrackingException",area:"automation.AutomationManager._exceptionTest"})}},_setText:function(e){this._getFocusView(N).text=e},_pauseAndSetPlayerPlayerPosition:function(e,t){var i=v.singleton.find(e);i.pause(),t<0&&(t=i.lastSeekablePosition+t),i.currentVideoPosition=t},_setSelectedIndex:function(e){this._getFocusView(F).selectedIndex=e},_walkProviders:function(){return K.run()},_handleAnimationStarted:function(e){!0===this._pausedUI&&(this._pausedUIViolations=this._pausedUIViolations||[],this._pausedUIViolations.push({animation:JSON.stringify({property:e.property,to:e.to,duration:e.duration,delay:e.delay}),stack:M.captureCallstack(100)})),this._animationsOutstanding++},_handleAnimationFinished:function(){this._animationsOutstanding>0&&this._animationsOutstanding--},_handleNetworkRequestStarted:function(e,t){!0===this._pausedUI&&(this._pausedUIViolations=this._pausedUIViolations||[],this._pausedUIViolations.push({networkRequestUrl:e,stack:M.captureCallstack(100)})),this._networkEvents.push(t)},_clearNetworkEvents:function(){this._networkEvents=[]},_getNetworkEvents:function(){return this._networkEvents},_handleImageRequestStarted:function(e){!0===this._pausedUI&&(this._pausedUIViolations=this._pausedUIViolations||[],this._pausedUIViolations.push({networkRequestUrl:e,stack:M.captureCallstack(100)})),this._imageRequestsOutstanding.push(e)},_handleImageRequestFinished:function(e){var t=this._imageRequestsOutstanding.indexOf(e);-1!==t&&this._imageRequestsOutstanding.splice(t,1)},_handlePromiseChainStarted:function(e){if(!0===this._pausedUI){this._pausedUIViolations=this._pausedUIViolations||[];var t=e.getDebugInfo().name;this._ignorablePromiseNamesDuringPauseUI.indexOf(t)<0&&!e.getDebugInfo().waitsForUserInteraction&&this._pausedUIViolations.push({promiseChainInfo:JSON.stringify(e.getDebugInfo()),stack:M.captureCallstack(100)})}this._promiseChainsOutstanding.push(e)},_handlePromiseChainFinished:function(e){var t=this._promiseChainsOutstanding.indexOf(e);-1!==t&&this._promiseChainsOutstanding.splice(t,1)},_addConvivaTags:function(e){var t=this;return this._convivaTags=this._convivaTags||{},n(e,function(e,i){t._convivaTags[i]=e}),y.fulfilled()},getConvivaTags:function(){return this._convivaTags||{}},_setAutomatonVideoArguments:function(e){return ee.singleton.automatonVideoArguments=e,y.fulfilled()},_setPlaybackMarker:function(e,t,i){return V.singleton.setMarker(e,t,i||1e3)},_setPlayerControlToggleDelay:function(e){return r.singleton.dismissControlsDurationMS=e,y.fulfilled()},_addHttpRequestsOutstandingFilter:function(e){if(!(e instanceof RegExp))throw new Error("Http.Requests.Outstanding filter should be an instance of RegExp");this._customHttpRequestFilters.push(e)},_getADMRegistrationId:function(){return G.singleton.admRegistrationId},_startBootstrap:function(){return J.singleton.downloadFiles()}})})})}(this),function(){"use strict";define("ui/viewModels/TextViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("ui.viewModels.TextViewModel",t,function(){e.properties({text:{get:void 0}})})})}(),function(){"use strict";define("ui/viewModels/DynamicTextViewModel",["core/oop","ui/viewModels/TextViewModel"],function(e,t){return e.interfaceDef("ui.viewModels.DynamicTextViewModel",t,function(){e.events(["textChanged"])})})}(),function(){"use strict";define("design/viewModelProviders/TextFromDebugInfoProvider",["core/oop","lib/Promise","core/Disposable","core/logging/Counters","ui/viewModelProviders/ViewModelProvider","design/DesignDeveloperSettings","automation/AtlasChannel","automation/AutomationManager","ui/viewModels/DynamicTextViewModel","platform/common/Dispatcher","platform/dependent/diagnostics/Performance","dataservices/ServerTime","ui/views/RootView","application/ClientApplication","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("design.viewModelProviders.TextFromDebugInfoProvider",[o,l],function(){e.mixin(i),e.constructor(function(e){void 0!==e&&(this._formatString=e),!0===n.singleton.isEnabled&&(this._formatString+="\nlong work items: {longWorkItems}, unresponsive frames: {unresponsiveFrames}",this._formatString+="\nunresponsive frame stats: {unresponsiveFrameStats}",this._formatString+="\npage transition stats: {pageTransitionStats}",!0===r.singleton.enableTilePerfCounters&&(this._formatString+="\ntile creation stats: {tileCreationStats}",this._formatString+="\ntile recycle stats: {tileRecycleStats}")),this._heapUsed=0;var t=this;this._onRefreshTextHandler=function(){t._onRefreshText()},a.singleton.connected.on(this._onRefreshTextHandler),a.singleton.disconnected.on(this._onRefreshTextHandler),s.singleton.started.on(this._onRefreshTextHandler),s.singleton.stopped.on(this._onRefreshTextHandler),!0===d.singleton.supportsHeapSizeCheck()&&(this._onRefreshHeapHandler=function(){t._onRefreshHeap()},this._cancelHeapTimer=c.singleton.postInterval(1e3,this._onRefreshHeapHandler)),this._created()}),e.properties({_formatString:{defaultValue:"{version}.{flavor} ({buildTimestamp})\ndsgn: {design}, pal: {pal}, svc: {service}, locale: {locale}, isPhone: {isPhone}\nenv: {environment}, server: {serverTimeOffset}\natlas: {isAtlasConnected}, automation: {isAutomationRunning}, heap: {heap}"},_onRefreshTextHandler:void 0,_onRefreshHeapHandler:void 0,_heapUsed:void 0,_cancelHeapTimer:void 0,text:{get:function(){function e(e){return e?"Y":"N"}function i(e,t){var i=n.singleton.getCounterStats(t).toJSON();r[e]=JSON.stringify(i)}function o(e,t){return r.hasOwnProperty(t)?r[t]:"???"}var r={version:h.singleton.version,flavor:h.singleton.buildFlavor,buildTimestamp:h.singleton.buildTimestamp,design:h.singleton.buildDesign,pal:h.singleton.buildPAL,service:h.singleton.buildServices,environment:h.singleton.environment,locale:g.singleton.localeHyphenated,isPhone:e(g.singleton.isPhone),isAtlasConnected:e(a.singleton.isConnected),isAutomationRunning:e(s.singleton.isRunning),heap:this._heapUsed.toFixed(3)+" MB",serverTimeOffset:this._getServerOffsetTime()};return!0===n.singleton.isEnabled&&(r.longWorkItems=n.singleton.getCounter("Dispatcher.longWorkItem"),r.unresponsiveFrames=n.singleton.getCounter("Dispatcher.unresponsiveFrame"),i("unresponsiveFrameStats","Dispatcher.unresponsiveFrameDuration"),i("pageTransitionStats","Navigator.pageTransitionDuration"),i("tileCreationStats","TileView.creationDuration"),i("tileRecycleStats","TileView.recycleDuration")),t.fulfilled(this._formatString.replace(/{(.*?)}/g,o))}}}),e.methods({_disposeCore:function(){a.singleton.connected.off(this._onRefreshTextHandler),a.singleton.disconnected.off(this._onRefreshTextHandler),s.singleton.started.off(this._onRefreshTextHandler),s.singleton.stopped.off(this._onRefreshTextHandler),void 0!==this._cancelHeapTimer&&(this._cancelHeapTimer(),this._cancelHeapTimer=void 0)},_getServerOffsetTime:function(){return new Date(u.singleton.time)},_onRefreshText:function(){p.singleton.layers.debug.isVisible&&this._onTextChanged()},_updateHeap:function(){var e=d.singleton.getHeapSize()/1048576;return Math.abs(this._heapUsed-e)>this._heapUsed/100&&(this._heapUsed=e,!0)},_onRefreshHeap:function(){!0===this._updateHeap()&&p.singleton.layers.debug.isVisible&&this._onTextChanged()}}),e.events(["textChanged"])})})}(),function(){"use strict";define("ui/viewModels/WebFrameViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("ui.viewModels.WebFrameViewModel",t,function(){e.properties({uri:{get:void 0},windowWidth:{get:void 0},windowHeight:{get:void 0}})})})}(),function(){"use strict";define("design/viewModelProviders/ExplicitWebFrameProvider",["core/oop","ui/viewModelProviders/ViewModelProvider","ui/viewModels/WebFrameViewModel","lib/Promise"],function(e,t,i,n){return e.classDef("design.viewModelProviders.ExplicitWebFrameProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.apply(this,void 0),this._uri=e.uriPath,this._windowWidth=void 0!==e.windowWidth?e.windowWidth:0,this._windowHeight=void 0!==e.windowHeight?e.windowHeight:0}),e.properties({uri:{get:function(){return n.fulfilled(this._uri)}},windowWidth:{get:function(){return n.fulfilled(this._windowWidth)}},windowHeight:{get:function(){return n.fulfilled(this._windowHeight)}},_uri:void 0,_windowWidth:void 0,_windowHeight:void 0})})})}(),function(){"use strict";define("core/AsyncCollectionTransformer",["core/oop","core/AsyncCollection","lib/Promise"],function(e,t,i){return e.classDef("core.AsyncCollectionTransformer",t,function(t){e.constructor(function(e,i,n,o){t.$ctor.call(this),this._source=e,this._transform=i,this._startIndex=n,this._length=o}),e.properties({_source:void 0,_transform:void 0,_startIndex:void 0,_length:void 0}),e.methods({length:function(){if(void 0!==this._length)return i.fulfilled(this._length);if(void 0!==this._startIndex){var e=this._startIndex;return this._source.length().then(function(t){return t-e})}return this._source.length()},getRange:function(e,t){void 0!==this._startIndex&&(e+=this._startIndex,void 0!==t?t+=this._startIndex:void 0!==this._length&&(t=e+this._length));var i=this._transform;return this._source.getRange(e,t).then(function(e){return e.map(i)})},getAt:function(e){return this.getRange(e,e+1).then(function(e){return e[0]})}})})})}(),function(){"use strict";define("ui/viewModels/ItemsViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("ui.viewModels.ItemsViewModel",t,function(){e.events(["dataChanged"]),e.properties({items:{get:void 0}})})})}(),function(){"use strict";define("ui/viewModelProviders/ItemsFromArrayProvider",["core/oop","lib/Promise","core/AsyncCollectionTransformer","core/ReadOnlyAsyncArray","ui/viewModelProviders/ViewModelProvider","ui/ViewModelFactory","ui/viewModels/ItemsViewModel"],function(e,t,i,n,o,r,a){return e.classDef("ui.viewModelProviders.ItemsFromArrayProvider",[o,a],function(){e.constructor(function(e,t){if(Array.isArray(e)||(e=[e],e.id=e[0].id),this._dataModel=e,this._rawItems=n.new(e),void 0!==t){var o=function(e){return r.singleton.create(t,e)},a=i.new(this._rawItems,o);a.shouldCache=!1,this._rawItems=a}}),e.events(["dataChanged"]),e.properties({items:{get:function(){return t.fulfilled(this._rawItems)}},_rawItems:void 0})})})}(),function(){"use strict";define("design/viewModelProviders/PreferredAffiliatesProvider",["core/oop","core/Debug","lib/Promise","ui/viewModelProviders/ItemsFromArrayProvider","ui/viewModelProviders/ViewModelProvider"],function(e,t,i,n,o){return e.classDef("design.viewModelProviders.PreferredAffiliatesProvider",o,function(t){e.constructor(function(e,i){t.$ctor.call(this,e),this._hyperlinkViewModelFactoryId=i}),e.properties({affiliates:{get:function(){return i.fulfilled(this._getPreferredAffiliates())}},_hyperlinkViewModelFactoryId:void 0,_gridOrderMap:void 0}),e.methods({_filterAffiliates:function(e){var t=this;return i.filter(e.getRange(0),function(e){var i=e.id;return e.preferredOrder.then(function(e){if(void 0!==e){var n=parseInt(e,10);return isNaN(n)?t._gridOrderMap[i]=Number.POSITIVE_INFINITY:t._gridOrderMap[i]=n,!0}return!1})})},_getAffiliateHyperlinks:function(e){var t=this;return e=e.sort(function(e,i){return t._gridOrderMap[e.id]-t._gridOrderMap[i.id]}),n.new(e,this._hyperlinkViewModelFactoryId)},_getPreferredAffiliates:function(){return this._gridOrderMap={},this._dataModel.affiliates.then(this._filterAffiliates.bind(this)).then(this._getAffiliateHyperlinks.bind(this))}})})})}(),function(){"use strict";define("ui/viewModels/CompositeViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("ui.viewModels.CompositeViewModel",t,function(){e.properties({subViewModels:{get:void 0}})})})}(),function(){"use strict";define("ui/viewModelProviders/CompositeViewModelProvider",["core/oop","lib/Promise","ui/ViewModelFactory","ui/viewModels/CompositeViewModel","ui/viewModelProviders/ViewModelProvider","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r){return e.classDef("ui.viewModelProviders.CompositeViewModelProvider",[o,n],function(){e.constructor(function(e,t){this._dataModel=e,this._viewModelMap=t}),e.properties({subViewModels:{get:function(){return void 0===this._subViewModels&&(this._subViewModels=this._createSubViewModels()),this._subViewModels}},_viewModelMap:void 0,_subViewModels:void 0}),e.methods({_createSubViewModels:function(){var e=this,n={};return r(this._viewModelMap,function(o,r){void 0!==o.viewModel?n[r]=t.fulfilled(o.viewModel):void 0!==o.viewModelFactoryId&&!0===o.includeDataModel?n[r]=e._getViewModelPromise(o,e._dataModel):void 0!==o.viewModelFactoryId&&void 0!==o.dataModelProperty?n[r]=e._dataModel[o.dataModelProperty].then(function(t){return e._getViewModelPromise(o,t)}):n[r]=t.fulfilled(i.singleton.create(o.viewModelFactoryId))}),n},_getViewModelPromise:function(e,n){var o,r=e.viewModelFactoryId,a=!0===e.requireNonEmptyAsyncCollection,s=!0===e.requireNonEmptyData,l=void 0!==n&&""!==n&&(!Array.isArray(n)||n.length>0);return!0===a?o=n.length().then(function(e){var t;return e>0&&(t=i.singleton.create(r,n)),t}):!0===s&&!0!==l||(o=t.fulfilled(i.singleton.create(r,n))),t.cast(o)}})})})}(),function(){"use strict";define("design/viewModels/ToggleViewModel",["core/oop","ui/viewModels/CompositeViewModel"],function(e,t){return e.interfaceDef("design.viewModels.ToggleViewModel",t,function(){e.properties({value:{get:void 0}}),e.methods({set:void 0})})})}(),function(){"use strict";define("design/viewModelProviders/TemporaryToggleViewModelProvider",["core/oop","lib/Promise","ui/viewModelProviders/CompositeViewModelProvider","design/viewModels/ToggleViewModel"],function(e,t,i,n){return e.classDef("design.viewModelProviders.TemporaryToggleViewModelProvider",[i,n],function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({value:{get:function(){return t.fulfilled(this._value)}},_value:void 0}),e.methods({set:function(e){return this._value=e,t.fulfilled()},equals:function(e){return i.equals.apply(this,arguments),this._value===e._value}})})})}(),function(){"use strict";define("design/viewModelProviders/NotificationsToggleViewModelProvider",["core/oop","lib/Promise","core/data/ModelFactory","ui/viewModelProviders/CompositeViewModelProvider","design/viewModels/ToggleViewModel","dataservices/authentication/AuthenticationManager"],function(e,t,i,n,o,r){return e.classDef("design.viewModelProviders.NotificationsToggleViewModelProvider",[n,o],function(n){e.constructor(function(){n.$ctor.apply(this,arguments)}),e.properties({value:{get:function(){if(!0===r.singleton.isAuthenticated){return i.singleton.create("User","User").marketingOptIn}return t.fulfilled(!1)}}}),e.methods({set:function(e){if(!0===r.singleton.isAuthenticated){return i.singleton.create("User","User").commitChange({marketingOptIn:e})}return t.fulfilled()}})})})}(),function(){"use strict";define("design/viewModelProviders/TosAgreeToggleViewModelProvider",["core/oop","lib/Promise","ui/viewModelProviders/CompositeViewModelProvider","design/viewModels/ToggleViewModel"],function(e,t,i,n){return e.classDef("design.viewModelProviders.TosAgreeToggleViewModelProvider",[i,n],function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({_value:{defaultValue:!1},value:{get:function(){return t.cast(this._value)}}}),e.methods({set:function(e){return this._value=e,t.cast(e)}})})})}(),function(){"use strict";define("design/viewModelProviders/WebFrameFromAffiliateProvider",["core/oop","ui/ViewModelFactory","ui/viewModelProviders/ViewModelProvider","ui/viewModels/WebFrameViewModel"],function(e,t,i,n){return e.classDef("design.viewModelProviders.WebFrameFromAffiliateProvider",[i,n],function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({uri:{get:t.implementMapping("affiliateURL")},windowWidth:{get:t.implementMapping("windowWidth")},windowHeight:{get:t.implementMapping("windowHeight")},supportedDevice:{get:t.implementMapping("supportsDeviceToBeActivated")}})})})}(),function(){"use strict";define("ui/viewModelProviders/ItemsFromPropertyProvider",["core/oop","core/AsyncCollectionTransformer","core/ReadOnlyAsyncArray","ui/viewModelProviders/ViewModelProvider","ui/ViewModelFactory","ui/viewModels/ItemsViewModel"],function(e,t,i,n,o,r){return e.classDef("ui.viewModelProviders.ItemsFromPropertyProvider",[n,r],function(n){e.constructor(function(e,t,i,o){n.$ctor.call(this,e),this._propertyName=t,this._reverse=void 0!==o&&o,"string"==typeof i?this._itemFactoryId=i:this._itemFactoryMap=i}),e.events(["dataChanged"]),e.properties({items:{get:function(){var e=this;return this._dataModel[this._propertyName].then(function(t){return!1===e._reverse?t:t.getRange(0).then(function(e){return e.reverse(),i.new(e)})}).then(function(i){var n=t.new(i,function(t){return void 0!==e._itemFactoryId?o.singleton.create(e._itemFactoryId,t):o.singleton.create(e._itemFactoryMap[t.factoryId],t)});return n.shouldCache=!0,n})}},_propertyName:void 0,_itemFactoryMap:void 0,_itemFactoryId:void 0,_reverse:void 0})})})}(),function(){"use strict";define("ui/viewModelProviders/VersionInfoViewModelProvider",["core/oop","lib/Promise","core/ReadOnlyAsyncArray","design/ScreenUtil","ui/Localization","ui/ViewModelFactory","ui/viewModels/ItemsViewModel","ui/viewModelProviders/ViewModelProvider","application/ClientApplication","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("ui.viewModelProviders.VersionInfoViewModelProvider",[s,a],function(a){e.constructor(function(e){a.$ctor.call(this,e),this._buildInfo()}),e.events(["dataChanged"]),e.methods({_createLineInfo:function(e,t,i){if(void 0!==i){var n=o.singleton.getResource(t);e.push(r.singleton.create("PairFromStringPair",{left:n,right:i}))}},_buildInfo:function(){var e=[];this._createLineInfo(e,"ResRegion",l.singleton.regionId),this._createLineInfo(e,"ResPlatform",c.singleton.platform);var o=this;n.singleton.byDesignCall({desktop:function(){},default:function(){o._createLineInfo(e,"ResDeviceBrand",c.singleton.brand),o._createLineInfo(e,"ResDeviceManufacturer",c.singleton.manufacturer),o._createLineInfo(e,"ResDeviceName",c.singleton.fullAnalyticsName),o._createLineInfo(e,"ResDeviceModel",c.singleton.model)}}),this._createLineInfo(e,"ResDeviceOSVersion",c.singleton.osVersion),this._createLineInfo(e,"ResDeviceSN",c.singleton.serial),this._createLineInfo(e,"ResVersion",l.singleton.version);var r=l.singleton.commit.substring(0,8)+" "+l.singleton.buildEnvironment.substring(0,2);this._createLineInfo(e,"ResBuild",r),this._createLineInfo(e,"ResSession",l.singleton.sessionId),this._createLineInfo(e,"ResShellVersion",l.singleton.shellVersion),this._createLineInfo(e,"ResCurrentTime",(new Date).toUTCString()),this._items=t.fulfilled(i.new(e))}}),e.properties({_items:void 0,items:{get:function(){return this._items}}})})})}(),function(){"use strict";define("design/viewModelProviders/TextFromResourceIdProvider",["core/oop","lib/Promise","ui/Localization","ui/viewModelProviders/ViewModelProvider","ui/viewModels/TextViewModel"],function(e,t,i,n,o){return e.classDef("design.viewModelProviders.TextFromResourceIdProvider",[n,o],function(n){e.constructor(function(e,t,i){n.$ctor.call(this,void 0),this.factoryId=this._resouceId=e,this._tokenValues=t,this._transform=i}),e.properties({text:{get:function(){var e=i.singleton.getResource(this._resouceId,this._tokenValues);if(void 0!==this._transform){var n=this;return t.fulfilled(e).then(function(e){return n._transform(e)})}return t.fulfilled(e)}},_resouceId:void 0,_tokenValues:void 0,_transform:void 0})})})}(),function(){"use strict";define("design/viewModels/PairViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("design.viewModels.PairViewModel",t,function(){e.properties({left:{get:void 0},right:{get:void 0}})})})}(),function(){"use strict";define("design/viewModelProviders/PairFromStringPairProvider",["core/oop","ui/viewModelProviders/ViewModelProvider","design/viewModels/PairViewModel","lib/Promise"],function(e,t,i,n){return e.classDef("design.viewModelProviders.PairFromStringPairProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,void 0),this._left=n.fulfilled(e.left),this._right=n.fulfilled(e.right)}),e.properties({left:{get:function(){return this._left}},right:{get:function(){return this._right}},_left:void 0,_right:void 0})})})}(),function(){"use strict";define("configuration/ViewModelFactoryConfigBase",["core/oop","core/data/ExceptionInfoModel","core/data/DocumentModel","dataservices/models/AffiliateListModel","dataservices/models/AffiliateModel","design/viewModelProviders/ExplicitHyperlinkProvider","design/viewModelProviders/HyperlinkFromAffiliateProvider","design/viewModelProviders/HyperlinkFromInternalProvider","design/ScreenUtil","design/viewModelProviders/HyperlinkFromExternalProvider","design/viewModelProviders/TextFromDebugInfoProvider","design/viewModelProviders/ExplicitWebFrameProvider","design/viewModelProviders/PreferredAffiliatesProvider","design/viewModelProviders/TemporaryToggleViewModelProvider","design/viewModelProviders/NotificationsToggleViewModelProvider","design/viewModelProviders/TosAgreeToggleViewModelProvider","design/viewModelProviders/WebFrameFromAffiliateProvider","ui/ViewModelFactory","ui/viewModelProviders/ItemsFromPropertyProvider","ui/viewModelProviders/ValueProvider","ui/viewModelProviders/VersionInfoViewModelProvider","design/viewModelProviders/TextFromResourceIdProvider","design/viewModelProviders/PairFromStringPairProvider"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S){return e.classDef("configuration.ViewModelFactoryConfigBase",[Object],function(){e.staticScope(function(){e.methods({addCommonMappings:function(e){v.addSimpleFactoryMapping(e,"DebugText","arguments",d),v.addSimpleFactoryMapping(e,"ExplicitWebFrame","object",u),v.addSimpleFactoryMapping(e,"ExceptionInfoTitle",t,y,["title"]),v.addSimpleFactoryMapping(e,"ExceptionInfoDescription",t,y,["description"]),v.addSimpleFactoryMapping(e,"VersionInfo","object",w),v.addSimpleFactoryMapping(e,"ExtendedVersionInfo","object",w),v.addSimpleFactoryMapping(e,"PairFromStringPair","object",S),v.addSimpleFactoryMapping(e,"ExceptionInfoInternalMessage",t,y,["internalMessage"]),v.addSimpleFactoryMapping(e,"ExceptionInfoCallstack",t,y,["callstack"]),v.addSimpleFactoryMapping(e,"ExceptionInfoServiceTraceId",t,y,["serviceTraceId"]),v.addFactoryMappingWithDataModel(e,{uri:l.singleton.byBrand({hbogo:"http://help.hbogo.com",
hbonow:"http://help.hbonow.com/?camp=desktop_need_help"}),subViewModelFactoryId:"ResFooterHelpLinkText"},"HelpCenterLink","object",c),v.addFactoryMappingWithDataModel(e,{uri:"http://itsh.bo/NOW-signin-help",subViewModelFactoryId:"ResFooterSignInHelpText"},"SignInHelpLink","object",c),v.addSimpleFactoryMapping(e,"TemporaryShowHidePasswordSetting","object",h),v.addFactoryMappingWithDataModel(e,{uriPath:"/forgotpassword",subViewModelFactoryId:"ResForgotPasswordWithQuestion",isExternal:!1},"ForgotPasswordLink","object",r),v.addFactoryMappingWithDataModel(e,"ResVersionInfo","VersionInfoText","string",b),v.addSimpleFactoryMapping(e,"PreferredAffiliateList",n,p,["AffiliateImageLink"]),v.addSimpleFactoryMapping(e,"AffiliateDropDownList",n,_,["affiliates","AffiliateName"]),v.addSimpleFactoryMapping(e,"AffiliateImageLink",o,a,["AffiliateGridImage"]),v.addSimpleFactoryMapping(e,"AffiliateGridImage",o,y,["images.gridUri"]),v.addSimpleFactoryMapping(e,"AffiliateName",o,y,["name"]),v.addSimpleFactoryMapping(e,"AffiliateWebFrame",o,m),v.addSimpleFactoryMapping(e,"ChooseAnotherAffiliateLink",n,s,["ResChooseAnotherAffiliateLink"]),v.addFactoryMappingWithDataModel(e,{uri:"http://itsh.bo/NOW-find-provider",subViewModelFactoryId:"ResAffiliatesFooterTitle"},"DontSeeProviderLink","object",c),v.addSimpleFactoryMapping(e,"AllAffiliateList",n,_,["affiliates","AffiliateNameLink"]),v.addSimpleFactoryMapping(e,"AffiliateNameLink",o,a,["AffiliateName"]),v.addSimpleFactoryMapping(e,"NotificationCheckboxSetting","object",g),v.addSimpleFactoryMapping(e,"TosAgreeCheckboxSetting","object",f),v.addSimpleFactoryMapping(e,"PrivacyDescription",i,y,["text"]),v.addSimpleFactoryMapping(e,"TermsDescription",i,y,["text"])}})})})})}(),function(){"use strict";define("configuration/IViewModelFactoryConfig",["core/oop"],function(e){return e.interfaceDef("configuration.IViewModelFactoryConfig",void 0,function(){e.staticScope(function(){e.methods({configure:void 0})})})})}(),function(){"use strict";define("design/viewModels/PaywallViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("design.viewModels.PaywallViewModel",t,function(){e.properties({paywallName:{get:void 0},backgroundImageUrl:{get:void 0},logoImageUrl:{get:void 0},greetingLine:{get:void 0},headline:{get:void 0},body1:{get:void 0},body2:{get:void 0},ctaAction:{get:void 0},callsToAction:{get:void 0},ctaHyperlink:{get:void 0},footer:{get:void 0},appStoreImageLinks:{get:void 0},paywallActionsViewModel:{get:void 0},paywallActionsMap:{get:void 0},menuItemTitle:{get:void 0},redirectUrl:{get:void 0},disclosures:{get:void 0}}),e.methods({getCallToActionAt:void 0})})})}(),function(){"use strict";define("design/viewModelProviders/PaywallViewModelProvider",["core/oop","core/uriUtils","core/data/ModelFactory","core/data/ExplicitValueProvider","lib/Promise","design/analytics/UserInteractionTargets","design/viewModels/PaywallViewModel","design/viewModelProviders/ExplicitHyperlinkProvider","dataservices/types/CallToAction","ui/ViewModelFactory","ui/viewModelProviders/ItemsFromArrayProvider","ui/viewModelProviders/ViewModelProvider","ui/viewModelProviders/ValueProvider","ui/navigation/Navigator","design/NavigationRouter","platform/dependent/Process"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){var m=e.enumDef("design.viewModelProviders.PaywallViewModelProvider.Sources",{Paywall:"Paywall",NextSteps:"NextStepsWall"});return e.classDef("design.viewModelProviders.PaywallViewModelProvider",[u,a],function(a){e.constructor(function(e,t){var n=i.singleton.create(t,t);this._storeViewModel=c.singleton.create("Store"),a.$ctor.call(this,n)}),e.staticScope(function(){e.properties({Sources:{defaultValue:m,readOnlyField:!0}})}),e.properties({paywallName:{get:function(){return this._getPaywallProperty("paywallName")}},backgroundImageUrl:{get:function(){return this._getPaywallProperty("backgroundImageUrl")}},logoImageUrl:{get:function(){return this._getPaywallProperty("logoImageUrl")}},greetingLine:{get:function(){return this._getFilledPaywallProperty("greetingLine")}},headline:{get:function(){return this._getFilledPaywallProperty("headline")}},body1:{get:function(){return this._getFilledPaywallProperty("body1")}},body2:{get:function(){return this._getFilledPaywallProperty("body2")}},menuItemTitle:{get:function(){return this._getFilledPaywallProperty("menuItemTitle")}},disclosures:{get:function(){return this._getFilledPaywallProperty("disclosures")}},redirectUrl:{get:function(){var e=this._getEncodedReturnPath(),i=this._getPaywallProperty("redirectUrl");return o.props({returnPath:e,redirectUrl:i}).then(function(e){return void 0===e.redirectUrl?void 0:t.addOrReplaceQueryParam(e.redirectUrl,"returnPath",e.returnPath)})}},ctaAction:{get:function(){return this.getCallToActionAt(0).then(function(e){return e&&e.action})}},ctaHyperlink:{get:function(){return this.getCallToActionAt(0).then(function(e){if(void 0!==e){var i=n.new("ctaButtonTitle");return i.initialize({value:e.title}),s.new({uriPath:e.action,subViewModelFactoryId:"PaywallCallToActionTitle",subViewDataModel:p.new(i,"value"),openInExternalProcess:!1,isExternal:!0!==t.isLocal(e.action),analyticsValue:r.PAYWALL_CTA})}})}},callsToAction:{get:function(){var e=this;return this._getPaywallProperty("callsToAction").then(function(t){return t.getRange(0).then(function(t){var i=e._getSubstitutionMap();return o.map(t,function(e){return o.props({title:u.substitute(e.title,i),action:u.substitute(e.action,i),data:e.data,sku:e.sku,skuDescription:e.skuDescription,skuPrice:e.skuPrice,skuCurrencyCode:e.skuCurrencyCode,appId:e.appId}).then(function(e){return l.new(e)})})})})}},footer:{get:function(){return this._getFilledPaywallProperty("footer")}},appStoreImageLinks:{get:function(){return this._getPaywallProperty("appStoreImageLinks").then(function(e){return e.getRange(0)}).then(function(e){if(e.length>0)return d.new(e.map(function(e){return c.singleton.create("ImageHyperlink",e,r.PAYWALL_APPSTORE)}))})}},paywallActionsViewModel:{get:function(){return this.callsToAction.then(function(e){var t=[];return e.forEach(function(e){t.push(e.title)}),c.singleton.create("TextItemsFromArray",t)})}},paywallActionsMap:{get:function(){return this.callsToAction.then(function(e){var t={};return e.forEach(function(e){t[e.title]=e}),t})}},_storeViewModel:void 0}),e.methods({getCallToActionAt:function(e){return this.callsToAction.then(function(t){return t[e]})},_getPaywallProperty:function(e){return this._dataModel[e]},_getEncodedReentryUri:function(){var e=g.singleton.getLoginReturnPath(),i=f.singleton.getReentryUri(e),n=t.addOrReplaceQueryParam(i,"showWelcomeOverlay","true");return o.fulfilled(encodeURIComponent(n))},_getEncodedReturnPath:function(){var e=h.singleton.getActiveBreadcrumb().uri;return e=e.split("?")[0],o.fulfilled(encodeURIComponent(e))},_getCurrentUserName:function(){return i.singleton.create("User","User").firstName.then(function(e){return e||""})},_getStoreDisplayName:function(){return this._storeViewModel.displayName},_getFilledPaywallProperty:function(e){var t=this;return this._getPaywallProperty(e).then(function(e){if(void 0!==e)return u.substitute(e,t._getSubstitutionMap())})},_getSubstitutionMap:function(){return{"{{name}}":this._getCurrentUserName.bind(this),"{{appstore}}":this._getStoreDisplayName.bind(this),"{{clientRelayState}}":this._getEncodedReentryUri.bind(this),"{{returnPath}}":this._getEncodedReturnPath.bind(this)}}})})})}(),function(){"use strict";define("design/viewModels/StoreViewModel",["core/oop","ui/viewModels/ViewModel"],function(e,t){return e.interfaceDef("design.viewModels.StoreViewModel",t,function(){e.properties({displayName:{get:void 0},logoImageUrl:{get:void 0}})})})}(),function(){"use strict";define("design/viewModelProviders/StoreViewModelProvider",["core/oop","core/data/ModelFactory","design/viewModels/StoreViewModel","ui/viewModelProviders/ViewModelProvider"],function(e,t,i,n){return e.classDef("design.viewModelProviders.StoreViewModelProvider",[n,i],function(i){e.constructor(function(){this._paymentMetadataModel=t.singleton.create("PaymentMetadata","PaymentMetadata"),i.$ctor.call(this)}),e.properties({_paymentMetadataModel:void 0,displayName:{get:function(){return this._paymentMetadataModel.storeName}},logoImageUrl:{get:function(){return this._paymentMetadataModel.logoImageUrl}}})})})}(),function(){"use strict";define("configuration/ViewModelFactoryConfig",["core/oop","configuration/ViewModelFactoryConfigBase","configuration/IViewModelFactoryConfig","design/viewModelProviders/PaywallViewModelProvider","design/viewModelProviders/StoreViewModelProvider","ui/ViewModelFactory"],function(e,t,i,n,o,r){return e.classDef("configuration.ViewModelFactoryConfig",[t,i],function(){e.staticScope(function(){e.methods({configure:function(){var e={};t.addCommonMappings(e),r.addSimpleFactoryMapping(e,"Paywall","object",n,[n.Sources.Paywall]),r.addSimpleFactoryMapping(e,"Store","object",o),r.singleton.register(e)}})})})})}(),function(){"use strict";define("core/data/ExceptionInfoProvider",["core/oop","lib/Promise","core/data/ExceptionInfoModel","core/data/Provider"],function(e,t,i,n){return e.classDef("core.data.ExceptionInfoProvider",[n,i],function(i){e.constructor(function(e){i.$ctor.call(this,e),this._cacheable=!1}),e.properties({title:{get:function(){return t.fulfilled(this._title)}},description:{get:function(){return t.fulfilled(this._description)}},internalMessage:{get:function(){return t.fulfilled(this._internalMessage)}},callstack:{get:function(){return t.fulfilled(this._callstack)}},exceptionId:{get:function(){return t.fulfilled(this._exceptionId)}},serviceTraceId:{get:function(){return t.fulfilled(this._serviceTraceId)}},_title:void 0,_description:void 0,_internalMessage:void 0,_callstack:void 0,_exceptionId:void 0,_serviceTraceId:void 0}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),i.initialize.apply(this,arguments),this._title=e.title,this._description=e.description,this._internalMessage=e.internalMessage,this._callstack=e.callstack,this._exceptionId=e.exceptionId,this._serviceTraceId=e.serviceTraceId}})})})}(),function(){"use strict";define("core/data/CachedProvider",["core/oop","lib/Promise","core/data/Provider","core/data/CacheManager","lib/lodash/objects/forOwn"],function(e,t,i,n,o){var r=e.classDef("core.data.CachedProvider",i,function(i){e.constructor(function(e){i.$ctor.call(this,e),this._propertyValues={},this._preservedPropertyValues={}}),e.properties({_propertyValues:void 0,_preservedPropertyValues:void 0,_wrappedModel:void 0}),e.methods({_updateAccessTime:function(){!0===this.cacheable&&n.singleton.access(this.id)},_getCachedProperties:function(e){return!0===this._isExpired&&!0!==e?{}:this._propertyValues},resetCache:function(){this._propertyValues={},void 0!==this._wrappedModel&&this._wrappedModel instanceof r&&this._wrappedModel.resetCache(),this._updateAccessTime()},_setProperty:function(e,t){this._propertyValues[e]=t},setProperty:function(e,t){this._setProperty(e,t),this._updateAccessTime()},setProperties:function(e){var t=this;o(e,function(e,i){t._setProperty(i,e)}),this._updateAccessTime()},_preserveProperty:function(e,t){this._preservedPropertyValues[e]=t},preserveProperty:function(e,t){this._preserveProperty(e,t),this._updateAccessTime()},preserveProperties:function(e){var t=this;o(e,function(e,i){t._preserveProperty(i,e)}),this._updateAccessTime()},_getProperty:function(e){return this._updateAccessTime(),this._preservedPropertyValues.hasOwnProperty(e)?t.fulfilled(this._preservedPropertyValues[e]):!0===this._isExpired||!1===this._propertyValues.hasOwnProperty(e)?this._getData(e):t.fulfilled(this._propertyValues[e])}})});return r})}(),function(){"use strict";define("dataservices/providers/BaseServiceProvider",["core/oop","lib/Promise","core/PromiseMultiplexer","core/data/CachedProvider","dataservices/dependent/ServiceHttpClient","dataservices/ServiceException"],function(e,t,i,n,o,r){return e.classDef("dataservices.providers.BaseServiceProvider",n,function(n){e.constructor(function(e){n.$ctor.call(this,e)}),e.properties({uri:{get:function(){return this._uri},set:function(e){this._uri=e}},headers:void 0,_defaultExceptionType:{defaultValue:r},_uri:void 0,_headers:void 0,_ignoreMinimumCacheTime:{defaultValue:!1},_serviceRequestMux:void 0}),e.methods({handleResult:function(){throw new Error("handleResult not implemented")},_queryService:function(){var e=this;return o.singleton.get(this.uri,this.headers).then(function(t){var i;return t.ignoreMinimumCacheTime=e._ignoreMinimumCacheTime,e._expirationTime=t.expirationTime,i=e.handleResult(t.json),e.setProperties(i),i=e._getCachedProperties(!0)})},queryService:function(){var e=this;return(void 0===this._serviceRequestMux||this._serviceRequestMux.isRejected())&&(e._serviceRequestMux=i.new(function(){return e._queryService().then(function(t){return e.setProperties({_queriedService:!0}),e._serviceRequestMux=void 0,t})})),this._serviceRequestMux.addPromise()},_getData:function(e){var i=this._getCachedProperties();return!1===this._isExpired&&!0===i._queriedService?t.fulfilled(void 0):this.queryService().then(function(t){return t[e]})}})})})}(),function(){"use strict";define("dataservices/models/ActivationCodeModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ActivationCodeModel",t,function(){e.properties({code:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/ActivationAction",["core/oop"],function(e){return e.enumDef("dataservices.types.ActivationAction",{SIGNIN:"#sign-in",REGISTER:"#register",RESTORE:"#restore",RESTORE_WORKFLOW:"#restore-workflow",RENEW:"#renew",SUBSCRIBE:"#subscribe",BROWSE:"#browse-hbo-now"})})}(),function(){"use strict";define("dataservices/dependent/providers/ActivationCodeProvider",["core/oop","core/Debug","dataservices/providers/BaseServiceProvider","core/data/Provider","dataservices/models/ActivationCodeModel","design/ScreenUtil","core/uriUtils","dataservices/dependent/uris","dataservices/dependent/ServiceHttpClient","dataservices/ServiceException","dataservices/types/ActivationAction","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u){return e.classDef("dataservices.dependent.providers.ActivationCodeProvider",[i,o],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._cacheable=!1,this._uri=a.format(s.getActivation)}),e.properties({code:{get:n.implementProperty("code")},_action:void 0}),e.methods({_queryService:function(){var e=this,t=r.singleton.byBrandCall({hbonow:function(){switch(e._action){case d.REGISTER:return"register";case d.RESTORE:case d.RESTORE_WORKFLOW:return"restore";case d.SIGNIN:return"login";default:e._action}},hbogo:function(){}}),i=JSON.stringify({model:u.singleton.id,serialNumber:u.singleton.serial,userIntent:t});return l.singleton.post(e._uri,void 0,i).then(function(t){var i=e.handleResult(t.json);return e.setProperties(i),i})},handleResult:function(e){var t=e.getString(["activationCode"]);if(void 0===t)throw c.new({message:"Invalid pin returned from service",area:"dataservices.dependent.providers.ActivationCodeProvider._handleResult"});return{code:t}},initialize:function(e){this._action=e.action,this._ensureNoExpirationTime(e),t.initialize.apply(this,arguments)}})})})}(),function(){"use strict";define("dataservices/dependent/BatchRequestQueue",["core/oop","core/Debug","core/Exception","dataservices/ServiceException","lib/Promise","core/uriUtils","dataservices/JsonResponse","dataservices/JsonChunk","dataservices/dependent/ServiceHttpClient","dataservices/dependent/uris","platform/common/Dispatcher","platform/HttpStatus","dataservices/dependent/ServiceUtils","dataservices/dependent/ErrorCodeUtils","platform/NetworkException","core/data/CacheManager","lib/lodash/collections/forEach","lib/lodash/objects/clone","lib/lodash/objects/values","core/logging/Counters","core/logging/Levels","platform/HttpClient","dataservices/authentication/AuthenticationManager"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S){return e.classDef("dataservices.dependent.BatchRequestQueue",Object,function(){e.constructor(function(){this._maxRequestsPerBatch=16,this._isDirty=!1,this._pendingRequestQueue={},this._requestDataFromId={},this._requestCounter=0}),e.properties({_pendingRequestQueue:void 0,_requestDataFromId:void 0,_maxRequestsPerBatch:void 0,_maxEntityRetryAttempts:{defaultValue:3,readOnlyField:!0},_isDirty:void 0,_requestCounter:void 0,_checkLogin:{get:function(){return S.singleton.login()}}}),e.methods({queueRequest:function(e,t,i,n){y.singleton.incrementCounter("Batch.request.queued");var o;return o=this._requestDataFromId[e],void 0!==o&&o.promise.isCancelled()&&(this._onCancelCleanup(e,o.requestNumber),o=void 0),void 0===o&&(o=this._getRequestData(e,t,i,n),this._requestDataFromId[e]=o,this._addRequestDataToBatch(o)),o.promise.isCancelled(),o.promise.then(function(e){return e})},_processEntity:function(e){var t=this._requestDataFromId[e.id];if(void 0!==t)delete this._requestDataFromId[e.id],t.handled=!0,e.body=e.body||t.etagData.body,t.resolver.resolve(e),m(t.dupeResolvers,function(t){t.resolve(e)});else if(void 0!==e.body){var i=p.singleton.createModelFromId(e.id);void 0!==i&&i.initialize(e)}},_rejectEntity:function(e,t,i){var o=this._requestDataFromId[i.id];if(void 0!==o){delete this._requestDataFromId[i.id],o.handled=!0;var a=r.format(c.getBatchObjects),s="Batch Request Status: "+e+" for "+a;e===u.UNAUTHORIZED&&(e=u.INTERNAL_SERVICE_ERROR);var l=n.new({message:s,area:"dataservices.dependent.BatchRequestManager._rejectEntity",status:e,uri:r.format(c.getBatchObjects)+" (id="+i.id+")",headers:t,response:JSON.stringify(i.body.rawJson)});l=h.checkUnsuccessfulResponse(l),o.resolver.reject(l),m(o.dupeResolvers,function(e){e.reject(l)})}},_parseEntity:function(e,t){var i,n,o,r=t.getString(["id"]),s=t.getInt(["statusCode"]),l=t.getChunk(["headers"],!0),c=t.getChunk(["body"],!0);void 0!==l&&(i=l.getString(["ETag"]),n=a.getExpirationFromHeaders(l,f.singleton.minimumCacheTime)),o=p.singleton.getServerTimeFromHeaders(e);var d={id:r,etag:i,expirationTime:n,headers:void 0===l?void 0:l.rawJson,body:s===u.NOT_MODIFIED?void 0:c,status:s,serverTime:o},h=this._requestDataFromId[r];s>=200&&s<300?(y.singleton.incrementCounter("Batch.response.success_entities"),this._processEntity(d)):s===u.NOT_MODIFIED?(y.singleton.incrementCounter("Batch.response.not_modified_entities"),this._processEntity(d)):!0===this._canRetry(s,h)?(y.singleton.incrementCounter("Batch.response.failure_retry_entities"),h.handled=!0,this._addRequestDataToBatch(h)):(y.singleton.incrementCounter("Batch.response.failure_entities"),this._rejectEntity(s,e,d))},_canRetry:function(e,t){return void 0!==t&&t.attemptCount<this._maxEntityRetryAttempts&&b.isStatusCodeRetryable(e)},_handleResult:function(e,t){var i=t.json.rawJson,o=t.headers.rawJson,r=this;y.singleton.setCounter("Batch.response.last_batch_size",i.length);for(var a=0;a<i.length;++a)r._parseEntity(o,s.new(i[a]));this._rejectUnhandledRequestData(e,function(e){return n.new({message:"Missing response for requested id: "+e,area:"dataservices.dependent.BatchRequestQueue._handleResult"})})},_flushRequests:function(){if(0===Object.keys(this._pendingRequestQueue).length&&(this._isDirty=!1),!1!==this._isDirty){this._isDirty=!1;var e=_(this._pendingRequestQueue);this._pendingRequestQueue={};var t=this;return t._checkLogin.then(function(o){var a,s,d={};for(a=0;a<e.length;a++){s=e[a];var u=d[s.id];void 0===u?d[s.id]=s:(u.dupeResolvers.push(s.resolver),delete u.etagData,i.new({message:"Two items in a batch cannot have the same ID "+s.id,level:w.ERROR,area:"dataservices.dependent.BatchRequestManager._flushRequests"}).logTelemetry(),e.splice(a,1),a--)}for(a=0;a<e.length;a++)s=e[a],!0===s.requireAuth&&!0!==o&&(t._rejectUnhandledRequestData([s],function(e){return i.new({message:"user must be logged in to make call to "+e,level:w.WARNING,area:"dataservices.dependent.BatchRequestManager._flushRequests"}).logTelemetry()}),e.splice(a,1),a--);var p=e.map(function(e){y.singleton.incrementCounter("Batch.request.num_entities");var t={id:e.id,headers:e.headers};return void 0!==e.etagData&&void 0!==e.etagData.etag&&(y.singleton.incrementCounter("Batch.request.etag_entities"),void 0===t.headers&&(t.headers={}),t.headers["If-None-Match"]=e.etagData.etag),t});return y.singleton.setCounter("Batch.request.last_batch_size",e.length),y.singleton.incrementCounter("Batch.request.count"),l.singleton.post(r.format(c.getBatchObjects),void 0,JSON.stringify(p)).then(function(i){y.singleton.incrementCounter("Batch.response.success"),t._handleResult(e,i)}).catch(function(o){y.singleton.incrementCounter("Batch.response.failure"),!1===h.shouldWrapRejection(o)?t._rejectUnhandledRequestData(e,function(){return o}):(o instanceof g&&(o=h.checkUnsuccessfulResponse(o)),t._rejectUnhandledRequestData(e,function(e){return i.wrap(o,{message:"Request failed while requesting id: "+e,area:"dataservices.dependent.BatchRequestQueue._flushRequests"},n)}))})})}},_rejectUnhandledRequestData:function(e,t){var i=this;e.forEach(function(e){if(!0!==e.handled){var n=t(e.id);delete i._requestDataFromId[e.id],e.resolver.reject(n),m(e.dupeResolvers,function(e){e.reject(n)})}e.handled=!1})},_getRequestData:function(e,t,i,n){var r=this,a=o.pending();t=t||{};var s=[],l={requestNumber:void 0,attemptCount:0,id:e,etagData:t,requireAuth:n,headers:v(i),resolver:a,handled:!1,dupeResolvers:s};return l.promise=new o(function(t,i,n){a.promise.then(t).catch(i),n(function(){r._onCancelCleanup(e,l.requestNumber),a.cancel()})}),l},_addRequestDataToBatch:function(e){this._pendingRequestQueue[e.requestNumber];var t=this._requestCounter++;if(this._pendingRequestQueue[t]=e,e.requestNumber=t,e.attemptCount++,Object.keys(this._pendingRequestQueue).length>=this._maxRequestsPerBatch)this._flushRequests();else if(!1===this._isDirty){this._isDirty=!0;var i=this._flushRequests.bind(this);d.singleton.post().then(i).catch(i)}},_onCancelCleanup:function(e,t){var i=this._requestDataFromId[e];void 0!==i&&i.requestNumber===t&&(y.singleton.incrementCounter("Batch.response.cancel"),delete this._requestDataFromId[e],i.handled=!0,m(i.dupeResolvers,function(e){e.cancel()})),delete this._pendingRequestQueue[t]}})})})}(),function(){"use strict";define("dataservices/dependent/BatchRequestManager",["core/oop","dataservices/dependent/ServiceUtils","dataservices/dependent/BatchRequestQueue"],function(e,t,i){return e.classDef("dataservices.dependent.BatchRequestManager",Object,function(){e.singleton(function(){this._idToBatch={},this._idToBatch[t.singleton.Ids.CONTINUE_WATCHING]="continueWatchingBatch",this._idToBatch[t.singleton.Ids.WATCHLIST]="watchlistBatch",this._batchQueues={}}),e.properties({_idToBatch:void 0,_batchQueues:void 0}),e.methods({_getBatchQueue:function(e){var t=this._idToBatch[e]||"defaultBatch";return this._batchQueues[t]=this._batchQueues[t]||i.new(),this._batchQueues[t]},queueRequest:function(e,t,i,n){return this._getBatchQueue(e).queueRequest(e,t,i,n)}})})})}(),function(){"use strict";define("dataservices/IncrementalAsyncCollection",["core/oop","lib/Promise","core/AsyncCollection","core/PromiseMultiplexer"],function(e,t,i,n){return e.classDef("dataservices.IncrementalAsyncCollection",i,function(i){e.constructor(function(e,t,n){i.$ctor.call(this),this._rawItems=e,this._transform=t,this._length=void 0!==this._rawItems?this._rawItems.length:0,this._pageMultiplexers=[],void 0!==n&&(this._pageSize=n)}),e.properties({_rawItems:void 0,_transform:void 0,_length:void 0,_pageMultiplexers:void 0,_pageSize:{defaultValue:9}}),e.methods({length:function(){return t.fulfilled(this._length)},getRange:function(e,i){if(i=void 0===i?this._length:i,e===i)return t.fulfilled([]);var n=this._pageSize,o=Math.floor(e/n),r=Math.floor(e%n),a=Math.max(0,i-1),s=Math.floor(a/n),l=Math.floor(a%n);if(o===s)return this._getPage(o).then(function(e){return e.slice(r,l+1)});var c=[];c.push(this._getPage(o).then(function(e){return e.slice(r,e.length)}));for(var d=o+1;d<s;d++)c.push(this._getPage(d));return c.push(this._getPage(s).then(function(e){return e.slice(0,l+1)})),t.all(c).then(function(e){return Array.prototype.concat.apply([],e)})},getAt:function(e){var t=this._pageSize,i=Math.floor(e/t),n=e%t;return this._getPage(i).then(function(e){return e[n]})},_getPage:function(e){return void 0===this._pageMultiplexers[e]&&(this._pageMultiplexers[e]=n.new(this._getPageCore.bind(this,e))),this._pageMultiplexers[e].addPromise()},_getPageCore:function(e){for(var i=this._pageSize,n=[],o=0;o<i;o++){var r=e*i+o;if(r>=this._length)break;n.push(this._transformItem(r))}return t.all(n)},_transformItem:function(e){return t.try(this._transform.bind(this,this._rawItems[e]))}})})})}(),function(){"use strict";define("dataservices/models/ServiceModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ServiceModel",t,function(){e.methods({commitChange:void 0,resetCache:void 0})})})}(),function(){"use strict";define("dataservices/models/RefreshableServiceModel",["core/oop","dataservices/models/ServiceModel"],function(e,t){return e.interfaceDef("dataservices.models.RefreshableServiceModel",t,function(){e.methods({refreshData:void 0}),e.events(["dataRefreshed"])})})}(),function(){"use strict";define("dataservices/providers/RestrictionProvider",["core/oop","lib/Promise","core/data/ModelFactory","platform/common/Rating","platform/dependent/User"],function(e,t,i,n,o){return e.classDef("dataservices.providers.RestrictionProvider",Object,function(){e.properties({isPlatformParentalControlRestricted:{get:function(){var e=this;return t.props({rating:e.rating,platformTheatricalMaxRatingCode:o.singleton.getTheatricalMaxRatingCode(),platformTelevisionMaxRatingCode:o.singleton.getTelevisionMaxRatingCode()}).then(function(t){return e._checkRating(t.rating,t.platformTheatricalMaxRatingCode,t.platformTelevisionMaxRatingCode)})}},isServiceParentalControlRestricted:{get:function(){var e=this,n=i.singleton.create("User","User");return t.props({rating:e.rating,primaryRating:n.primaryRating}).then(function(t){return e._checkRating(t.rating,t.primaryRating.movie.code,t.primaryRating.tv.code)})}}}),e.methods({_checkRating:function(e,t,i){var o=!1;return void 0!==e&&(o=e.type===n.Types.Theatrical?e.code>t:e.type===n.Types.Television?e.code>i:e.code>t||e.code>i),o}}),e.staticScope(function(){e.methods({checkLateNightRestrictions:function(){return i.singleton.create("User","User").mergedRating.then(function(e){return e.movie.code<n.TheatricalCodes.NC17||e.tv.code<n.TelevisionCodes.TVMA})}})})})})}(),function(){"use strict";define("dataservices/dependent/providers/BatchProvider",["core/oop","core/Debug","lib/lodash/objects/assign","dataservices/ServiceException","lib/Promise","core/PromiseMultiplexer","dataservices/dependent/BatchRequestManager","core/Exception","core/data/Provider","core/data/CacheManager","dataservices/IncrementalAsyncCollection","dataservices/dependent/ServiceUtils","dataservices/DataServicesDeveloperSettings","dataservices/models/RefreshableServiceModel","dataservices/JsonChunk","dataservices/dependent/ErrorCodeUtils","dataservices/providers/RestrictionProvider"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m){var v=e.classDef("dataservices.dependent.providers.BatchProvider",[l,h],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({_etag:void 0,_bodyChunk:void 0,_bodyParsed:void 0,_serviceRequestMux:void 0,_serverTime:void 0,_doNotCache:{defaultValue:!1},_defaultExceptionType:{defaultValue:n},requireAuth:{defaultValue:void 0,privateSet:!0}}),e.events(["dataRefreshed"]),e.methods({initialize:function(e){!0===this._doNotCache&&(e.expirationTime=-1),t.initialize.apply(this,arguments),void 0!==this._etag&&this._etag===e.etag||(this._etag=e.etag,this._serverTime=e.serverTime,e.body instanceof g?(this._bodyChunk=e.body,this._bodyParsed=void 0):(this._bodyChunk=void 0,this._bodyParsed=e.body)),this._updateAccessTime()},resetCache:function(){this._etag=this._bodyChunk=this._bodyParsed=void 0,this._doNotCache=!0},commitChange:function(e){var t=this;return this._getBody().then(function(i){return t._writeProperties(i,e).then(function(){t._bodyParsed=t._mergeProperties(i,e),t._keepBitLonger()})})},forceNetworkCall:function(){return this._ensureServiceRequestMux(),this._serviceRequestMux.addPromise()},refreshData:function(){var e=this;return this.forceNetworkCall().then(function(){e._onDataRefreshed()})},_updateAccessTime:function(){!0===this.cacheable&&c.singleton.access(this.id)},_getServiceId:function(){return this.id},_getHeaders:function(){},_queryService:function(){return this._makeRequest().then(this._handleResponse.bind(this)).catch(this._handleError.bind(this))},_makeRequest:function(){this._doNotCache=!1;var e;void 0!==this._etag&&(e={etag:this._etag,body:this._bodyChunk||this._bodyParsed});var t=this._getServiceId();return t.length,a.singleton.queueRequest(t,e,this._getHeaders(),this.requireAuth)},_handleResponse:function(e){if(this._serviceRequestMux=void 0,void 0===e.body&&void 0===this._etag){var t={message:"body missing for id: "+this._getServiceId()+" status: "+e.status,area:"dataservices.dependent.providers.BatchProvider._queryService"};throw this._defaultExceptionType.new(t)}return this.initialize(e),this._tryResolveBody()},_handleError:function(e){if(this._serviceRequestMux=void 0,!1===f.shouldWrapRejection(e))return o.rejected(e);this.resetCache();var t={message:"request failed for id: "+this._getServiceId(),area:"dataservices.dependent.providers.BatchProvider._queryService"};throw s.wrap(e,t,this._defaultExceptionType)},_ensureServiceRequestMux:function(){if(void 0===this._serviceRequestMux){var e=this;this._serviceRequestMux=r.new(function(){return e._queryService()})}},_tryResolveBody:function(){return void 0!==this._bodyChunk&&(this._bodyParsed=this._parseBody(this._bodyChunk),this._bodyChunk=void 0),this._bodyParsed},_parseBody:function(){throw new Error("Derived types must implement _parseBody")},_preloadModel:function(e){e instanceof v&&!0!==p.singleton.batchProvidersNeverPreload&&e._getBody().catch(function(){})},_writeProperties:function(){},_mergeProperties:function(e,t){return i({},e,t)},_getBody:function(){this._updateAccessTime();var e=this._tryResolveBody(),t=this._timeToLive;return void 0!==e&&t>0?o.fulfilled(e):this.forceNetworkCall()},_getProperty:function(e){var t=this;return this._getBody().then(function(i){if(void 0===i){var n={message:"body missing for id: "+t._getServiceId(),area:"dataservices.dependent.providers.BatchProvider._getProperty"};throw t._defaultExceptionType.new(n)}return i[e]})},_getLateNightRestrictedProperty:function(e,t){var i=this;return o.props({body:this._getBody(),isRestricted:m.checkLateNightRestrictions()}).then(function(n){if(void 0===n.body){var o={message:"body missing for id: "+i._getServiceId(),area:"dataservices.dependent.providers.BatchProvider._getProperty"};throw i._defaultExceptionType.new(o)}var r=n.isRestricted?t:e;return n.body[r]})},_getDeferredProperty:function(e){return this._getProperty(e).then(function(e){return e()})},_getModel:function(e){if(void 0!==e)return u.singleton.createModelFromId(e)},_getModelCollection:function(e,t){var i=this;return e=e||{rawJson:[]},d.new(e.rawJson,function(e){var t=i._getModel(e);return i._preloadModel(t),t},t)},_getCollection:function(e,t,i){return e=e||{rawJson:[]},t=t||function(e){return e},d.new(e.rawJson,function(e){return t(e)},i)},_getShortFull:function(e,t){if(void 0!==e){var i=e.getDisplayString(["full"],!0),n=e.getDisplayString(["short"],!0);return!0===t?i||n:n||i}}})});return v})}(),function(){"use strict";define("dataservices/models/ImageAvailabilityModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ImageAvailabilityModel",[t],function(){e.properties({lcr:{get:void 0}})})})}(),function(){"use strict"
;define("dataservices/dependent/providers/ImageAvailabilityProvider",["core/oop","lib/Promise","application/ClientDevice","dataservices/dependent/ServiceUtils","dataservices/models/ImageAvailabilityModel","dataservices/dependent/providers/BatchProvider"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.providers.ImageAvailabilityProvider",[r,o],function(o){e.singleton(function(){o.$ctor.call(this,n.singleton.Ids.IMAGE_AVAILABILITY)}),e.properties({lcr:{get:function(){return i.singleton.id===i.Ids.APPLETV?this._getProperty("lcr"):t.fulfilled([])}}}),e.methods({_parseBody:function(e){return{lcr:e.getChunk(["lcr"]).rawJson}}})})})}(),function(){"use strict";define("dataservices/types/CatalogImage",["core/oop"],function(e){return e.classDef("dataservices.types.CatalogImage",Object,function(){e.constructor(function(e){this._uri=e}),e.properties({uri:{defaultValue:void 0,privateSet:!0}})})})}(),function(){"use strict";define("dataservices/types/ImageCompression",["core/oop"],function(e){return e.enumDef("dataservices.types.ImageCompression",{LOW:"low",MEDIUM:"medium",HIGH:"high"})})}(),function(){"use strict";define("dataservices/types/ImagePurpose",["core/oop"],function(e){return e.enumDef("dataservices.types.ImagePurpose",{BACKGROUND:"BACKGROUND",BACKGROUND_BURNEDIN:"BACKGROUND_BURNEDIN",TILE:"TILE",TILE_BURNEDIN:"TILE_BURNEDIN",TILE_ZOOM:"TILE_ZOOM",PLACEHOLDER:"PLACEHOLDER",LOGO:"LOGO",LOGO_PADDED:"LOGO_PADDED"})})}(),function(){"use strict";define("dataservices/types/ImageSet",["core/oop","dataservices/types/CatalogImage","dataservices/types/ImageCompression","dataservices/types/ImagePurpose"],function(e,t,i,n){return e.classDef("dataservices.types.ImageSet",Object,function(){e.constructor(function(e,t){this._urlTemplates={};var i=this;n.forEach(function(t){i._urlTemplates[t]=e[t]}),void 0!==t&&(this._lcrSizes=t.sort(function(e,t){return e.width>t.width?1:t.width>e.width?-1:0}))}),e.properties({_urlTemplates:void 0,_lcrSizes:void 0}),e.methods({getImageUrl:function(e,n,o,r,a,s){var l=this._urlTemplates[e];if(void 0!==l){if(this._isLcrFormat(l)){var c=this._pickLcrSize(n,o);void 0!==c?(n=c.width,o=c.height):(l=l.replace("&protection={{protection}}",""),l+="&protection=true",l=l.replace("format=lcr","format=jpg"))}l=l.replace("{{size}}",Math.round(n)+"x"+Math.round(o));var d=!1;void 0!==r&&!1===this._isLcrFormat(l)&&(d=r),l=l.replace("{{protection}}",d);var u=i.LOW;void 0!==a&&(u=a),l=l.replace("{{compression}}",u);var p=!1;return void 0!==s&&(p=s),l=l.replace("{{scaleDownToFit}}",p),t.new(l)}},_isLcrFormat:function(e){return-1!==e.indexOf("format=lcr")},_pickLcrSize:function(e,t){if(void 0!==this._lcrSizes)for(var i=0;i<this._lcrSizes.length-1;){var n=this._lcrSizes[i],o=n.width/n.height,r=e/t;if(e<=n.width&&t<=n.height&&Math.abs(r-o)<=.02)return n;i++}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/BaseImageProvider",["core/oop","core/Exception","core/logging/Levels","dataservices/dependent/providers/BatchProvider","dataservices/dependent/providers/ImageAvailabilityProvider","dataservices/types/ImageSet","dataservices/ContentUnavailableException","dataservices/types/ImagePurpose"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.dependent.providers.BaseImageProvider",[n],function(n){e.constructor(function(e){this._lcrAvailability=[],n.$ctor.call(this,e)}),e.properties({images:{get:function(){return this._getProperty("images")}},_defaultExceptionType:{defaultValue:a},_lcrAvailability:{defaultValue:void 0}}),e.methods({_getBody:function(){var e=this;return o.singleton.lcr.then(function(t){e._lcrAvailability=t}).catch(function(e){t.wrap(e,{message:"Getting LCR Image Availability failed.",level:i.WARNING,area:"dataservices.dependent.providers.BaseImageProvider._getBody"}).ignore()}).then(function(){return n._getBody.apply(e,arguments)})},_parseBody:function(e){var t=this,i=e.getChunk(["images"],!0),n={};return void 0!==i&&s.forEach(function(e){n[e]=i.getString([e.replace(/[_]/g,"").toLowerCase()],!0)}),{images:void 0===i?void 0:r.new(n,t._lcrAvailability)}}})})})}(),function(){"use strict";define("core/data/MenuModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("core.data.MenuModel",t,function(){e.properties({title:{get:void 0},purpose:{get:void 0},items:{get:void 0},showPCAdvisory:{get:void 0},franchise:{get:void 0},sortType:{get:void 0},images:{get:void 0},linkTarget:{get:void 0},continuationItem:{get:void 0}})})})}(),function(){"use strict";define("dataservices/models/ContentMenuModel",["core/oop","core/data/MenuModel"],function(e,t){return e.interfaceDef("dataservices.models.ContentMenuModel",t,function(){e.properties({summary:{get:void 0},shortSummary:{get:void 0},suggestedItemCount:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/MenuPurpose",["core/oop"],function(e){return e.enumDef("dataservices.types.MenuPurpose",["UNKNOWN","FRONT_PAGE","TOP_FRANCHISE","FEATURED","FEATURED_EXTENDED","PREVIEW","CATALOG","CATALOG_EXTENDED","TRENDING","CROSS_PROMOTION","WATCHLIST","CONTINUE_WATCHING","COLLECTIONS","COLLECTION","FAQ","NAVIGATION","FRANCHISE","SUBFRANCHISE","SUBFRANCHISE_TOP","SUBFRANCHISE_BOTTOM","ENVIRONMENT","LOCALE_OVERRIDE","PLAYLIST"])})}(),function(){"use strict";define("dataservices/types/MenuSortType",["core/oop"],function(e){return e.enumDef("dataservices.types.MenuSortType",["UNKNOWN","ALPHABETICAL","CHRONOLOGICAL","REVERSE_CHRONOLOGICAL","EDITORIAL"])})}(),function(){"use strict";define("dataservices/dependent/providers/MenuProvider",["core/oop","dataservices/dependent/providers/BaseImageProvider","dataservices/models/ContentMenuModel","dataservices/ContentUnavailableException","dataservices/dependent/ServiceUtils","dataservices/types/MenuPurpose","dataservices/types/MenuSortType","lib/lodash/objects/assign"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.dependent.providers.MenuProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({title:{get:function(){return this._getProperty("title")}},purpose:{get:function(){return this._getProperty("purpose")}},items:{get:function(){return this._getProperty("items")}},showPCAdvisory:{get:function(){return this._getProperty("showPCAdvisory")}},franchise:{get:function(){return this._getProperty("franchise")}},sortType:{get:function(){return this._getProperty("sortType")}},linkTarget:{get:function(){return this._getProperty("linkTarget")}},continuationItem:{get:function(){return this._getProperty("continuationItem")}},deepLinkUriPath:{get:function(){return"/"+o.singleton.getMenuTitleFromMenuId(this._getServiceId())}},summary:{get:function(){return this._getProperty("summary")}},shortSummary:{get:function(){return this._getProperty("shortSummary")}},suggestedItemCount:{get:function(){return this._getProperty("suggestedItemCount")}},_defaultExceptionType:{defaultValue:n},_itemsPageSize:{defaultValue:1}}),e.methods({_getMenuItemsProperty:function(e,t){var i=this;return function(){var n=o.singleton.createModelFromId(e);return n.pageSize=i._itemsPageSize,n[t]}},_mapMenuType:function(e){return{"front-page":r.FRONT_PAGE,"top-franchise":r.TOP_FRANCHISE,featured:r.FEATURED,"featured-extended":r.FEATURED_EXTENDED,preview:r.PREVIEW,catalog:r.CATALOG,"catalog-extended":r.CATALOG_EXTENDED,trending:r.TRENDING,"cross-promotion":r.CROSS_PROMOTION,watchlist:r.WATCHLIST,"continue-watching":r.CONTINUE_WATCHING,collection:r.COLLECTIONS,collections:r.COLLECTIONS,faq:r.FAQ,navigation:r.NAVIGATION,"featured-subfranchise":r.SUBFRANCHISE,"top-navigation":r.SUBFRANCHISE_TOP,"bottom-navigation":r.SUBFRANCHISE_BOTTOM,playlist:r.PLAYLIST}[e]||r.UNKNOWN},_mapMenuSortType:function(e){return{alphabetical:a.ALPHABETICAL,chronological:a.CHRONOLOGICAL,"reverse-chronological":a.REVERSE_CHRONOLOGICAL,editorial:a.EDITORIAL}[e]||a.UNKNOWN},_parseItems:function(e){return this._getModelCollection(e.getChunk(["references","items"]),this._itemsPageSize)},_parseBody:function(e){var i=t._parseBody.call(this,e),n=e.getString(["references","franchise"],!0),o=e.getChunk(["summaries"],!0);return s(i,{title:this._getShortFull(e.getChunk(["titles"]),!1),purpose:this._mapMenuType(e.getString(["menuType"],!0)),items:this._parseItems(e),showPCAdvisory:e.getBoolean(["showPCAdvisory"],!0),franchise:this._getModel(n),sortType:this._mapMenuSortType(e.getString(["sortType"],!0)),linkTarget:this._getModel(e.getString(["references","linkTarget"],!0)),continuationItem:this._getModel(e.getString(["references","continuationItem"],!0)),summary:this._getShortFull(o,!0),shortSummary:this._getShortFull(o,!1),suggestedItemCount:e.getInt(["suggestedItemCount"],!0)})}})})})}(),function(){"use strict";define("dataservices/dependent/providers/SearchNavMenuProvider",["core/oop","dataservices/dependent/providers/MenuProvider","dataservices/dependent/ServiceUtils"],function(e,t,i){return e.classDef("dataservices.dependent.providers.SearchNavMenuProvider",[t],function(t){e.singleton(function(){t.$ctor.call(this,i.singleton.Ids.DEFAULT_SEARCH)})})})}(),function(){"use strict";define("dataservices/types/AssetTitles",["core/oop"],function(e){return e.classDef("dataservices.types.AssetTitles",Object,function(){e.constructor(function(e){this.full=e.full,this.short=e.short||this.full,this.ultraShort=e.ultraShort||this.short,this.isEditorialized=e.isEditorialized||!1}),e.properties({full:{get:void 0},short:{get:void 0},ultraShort:{get:void 0},isEditorialized:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/TileableProvider",["core/oop","dataservices/models/TileableModel","dataservices/dependent/providers/BaseImageProvider","dataservices/providers/RestrictionProvider","dataservices/types/AssetTitles","platform/common/Rating","dataservices/ContentUnavailableException","lib/Promise","dataservices/VideoUtil","lib/lodash/objects/assign"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("dataservices.dependent.providers.TileableProvider",[i,t],function(t){e.constructor(function(e){this._lcrAvailability=[],t.$ctor.call(this,e),this._canBeAddedToWatchlist=!1}),e.mixin(n),e.properties({title:{get:function(){return this._getProperty("title")}},shortTitle:{get:function(){return this._getProperty("shortTitle")}},ultraShortTitle:{get:function(){return this._getProperty("ultraShortTitle")}},titles:{get:function(){return this._getProperty("titles")}},sortString:{get:function(){return this._getProperty("sortString")}},summary:{get:function(){return this._getProperty("summary")}},shortSummary:{get:function(){return this._getProperty("shortSummary")}},markdownShortSummary:{get:function(){return this._getProperty("markdownShortSummary")}},isFree:{get:function(){return this._getProperty("isFree")}},rating:{get:function(){return this._getProperty("rating")}},episodeInSeason:{get:function(){return this._getProperty("episodeInSeason")}},episodeDisplayId:{get:function(){return this._getProperty("episodeDisplayId")}},seasonNumber:{get:function(){return this._getProperty("seasonNumber")}},seriesName:{get:function(){return this._getProperty("seriesName")}},seasonTitles:{get:function(){return this._getProperty("seasonTitles")}},seriesId:{get:function(){return this._getProperty("seriesId")}},violator:{get:function(){return this._getProperty("violator")}},umbrella:{get:function(){return this._getProperty("umbrella")}},tagline:{get:function(){return this._getProperty("tagline")}},dateAdded:{get:function(){return this._getProperty("dateAdded")}},franchise:{get:function(){return this._getProperty("franchise")}},videoState:{get:function(){return this._getProperty("videoState")}},isInteractive:{get:function(){return this._getProperty("isInteractive")}},duration:{get:function(){return this._getProperty("duration")}},itemCount:{get:function(){return this._getProperty("itemCount")}},shouldUseEpisodePrefix:{get:function(){return this._getProperty("shouldUseEpisodePrefix").then(function(e){return s.fulfilled(void 0===e||e)})}},progress:{get:function(){return l.singleton.getPlaybackMarker(this._getProperty("playbackMarkerId"),s.fulfilled(!1)).then(function(e){var t;return void 0!==e&&e.runtime>0&&(t=Math.max(Math.min(e.time/e.runtime,1),0)),s.fulfilled(t)})}},canBeAddedToWatchlist:{defaultValue:!1,privateSet:!0},_defaultExceptionType:{defaultValue:a},_lcrAvailability:{defaultValue:void 0}}),e.methods({_parseBody:function(e){var i=t._parseBody.call(this,e),n=e.getChunk(["titles"]),o=e.getChunk(["summaries"],!0),a=e.getString(["references","franchise"],!0);return c(i,{title:this._getShortFull(n,!0),shortTitle:this._getShortFull(n,!1),ultraShortTitle:n.getString(["ultraShort"],!0)||this._getShortFull(n,!1),titles:this._getAssetTitles(e.getChunk(["titles"])),sortString:e.getString(["sortString"],!0)||this._getShortFull(n,!1),summary:this._getShortFull(o,!0),shortSummary:this._getShortFull(o,!1),markdownShortSummary:e.getString(["markdownShortSummary"],!0),isFree:e.getBoolean(["isFree"],!0),rating:r.getRatingFromName(e.getString(["ratingCode"],!0)),episodeInSeason:e.getInt(["numberInSeason"],!0)||e.getInt(["numberInSeries"],!0),episodeDisplayId:e.getString(["episodeDisplayId"],!0),seasonNumber:e.getInt(["seasonNumber"],!0),seriesName:this._getShortFull(e.getChunk(["seriesTitles"],!0),!1),seasonTitles:this._getAssetTitles(e.getChunk(["seasonTitles"],!0)),seriesId:e.getString(["references","series"],!0),playbackMarkerId:e.getString(["playbackMarkerId"],!0),violator:e.getString(["violator","text"],!0),umbrella:e.getString(["umbrella"],!0),tagline:e.getString(["tagline"],!0),dateAdded:e.getDate(["firstOfferedDate"],!0),franchise:this._getModel(a),isInteractive:e.getBoolean(["isInteractive"],!0),duration:e.getInt(["duration"],!0),videoState:this._getModel(e.getString(["references","videoState"],!0)),shouldUseEpisodePrefix:e.getBoolean(["shouldUseEpisodePrefix"],!0,!0),itemCount:e.getInt(["itemCount"],!0)})},_getAssetTitles:function(e){return void 0===e?void 0:o.new({full:e.getString(["full"],!0),short:e.getString(["short"],!0),ultraShort:e.getString(["ultraShort"],!0),isEditorialized:e.getBoolean(["isEditorialized"],!0)})}})})})}(),function(){"use strict";define("dataservices/types/Credit",["core/oop"],function(e){return e.classDef("dataservices.types.Credit",Object,function(){e.constructor(function(e,t){this.name=e,this.credit=t}),e.properties({name:{get:void 0},credit:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/CastMember",["core/oop","dataservices/types/Credit"],function(e,t){return e.classDef("dataservices.types.CastMember",t,function(t){e.constructor(function(e,i,n){t.$ctor.call(this,e,i),this.characterName=n}),e.properties({characterName:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/SoundTrack",["core/oop"],function(e){return e.classDef("dataservices.types.SoundTrack",Object,function(){e.constructor(function(e,t,i,n){this.name=e,this.composer=t,this.artist=i,this.number=n}),e.properties({name:{get:void 0},composer:{get:void 0},artist:{get:void 0},number:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/AssetProvider",["core/oop","dataservices/models/AssetModel","dataservices/dependent/providers/TileableProvider","dataservices/types/CastMember","dataservices/types/Credit","dataservices/types/SoundTrack","lib/lodash/objects/assign","dataservices/VideoUtil","dataservices/IncrementalAsyncCollection"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.dependent.providers.AssetProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._canBeAddedToWatchlist=!0}),e.properties({year:{get:function(){return this._getProperty("year")}},videos:{get:function(){return this._getProperty("videos")}},previews:{get:function(){return this._getProperty("previews")}},guests:{get:function(){return this._getProperty("guests")}},cast:{get:function(){return this._getProperty("cast")}},directors:{get:function(){return this._getProperty("directors")}},writers:{get:function(){return this._getProperty("writers")}},producers:{get:function(){return this._getProperty("producers")}},endDate:{get:function(){return this._getProperty("endDate")}},primaryGenre:{get:function(){return this._getProperty("primaryGenre")}},extras:{get:function(){return this._getProperty("extras")}},relatedContent:{get:function(){return this._getProperty("relatedContent")}},music:{get:function(){return this._getProperty("music")}},soundTrack:{get:function(){return this._getProperty("soundTrack")}},analyticsId:{get:function(){return this._getProperty("analyticsId")}},languages:{get:function(){return s.singleton.getLanguages(this.videos)}}}),e.methods({getDefaultVideo:function(){return s.singleton.selectVideo(this.videos)},getDefaultPreviewVideo:function(){return s.singleton.selectVideo(this.previews)},_parseBody:function(e){var i=t._parseBody.call(this,e),n=e.getChunk(["references","extras"],!0),o=e.getChunk(["references","relatedContent"],!0);return a(i,{analyticsId:e.getString(["analyticsId"]),year:e.getInt(["releaseYear"],!0),videos:this._getModelCollection(e.getChunk(["references","edits"],!0)),previews:this._getPreviewCollection(e.getChunk(["references","previews"],!0)),guests:this._getCollection(e.getChunk(["credits","guests"],!0),this._convertCredit),cast:this._getCollection(e.getChunk(["credits","cast"],!0),this._convertCastMember),directors:this._getCollection(e.getChunk(["credits","directors"],!0),this._convertCredit),writers:this._getCollection(e.getChunk(["credits","writers"],!0),this._convertCredit),producers:this._getCollection(e.getChunk(["credits","producers"],!0),this._convertCredit),endDate:e.getDate(["endDate"],!0),primaryGenre:e.getString(["primaryGenre"],!0),extras:this._getModelCollection(n),relatedContent:this._getModelCollection(o),music:this._convertMusicBy(e.getChunk(["musicBy"],!0)),soundTrack:this._getCollection(e.getChunk(["soundtrack"],!0),this._convertSoundTrack.bind(this))})},_getPreviewCollection:function(e,t){var i=this;return e=e||{rawJson:[]},l.new(e.rawJson,function(e){var t=i._getModel(e);return i._preloadModel(t),t.setIsPreview(!0),t},t)},_convertCastMember:function(e){return n.new(e.person,e.role)},_convertCredit:function(e){return o.new(e.person,e.role)},_convertMusicBy:function(e){return this._convertArrayOfPeopleIntoString(void 0===e?void 0:e.rawJson)},_convertSoundTrack:function(e){return r.new(e.title,this._convertArrayOfPeopleIntoString(e.composers),this._convertArrayOfPeopleIntoString(e.artists))},_convertArrayOfPeopleIntoString:function(e){if(void 0!==e)return e.join(", ")}})})})}(),function(){"use strict";define("dataservices/dependent/providers/EpisodeProvider",["core/oop","lib/Promise","dataservices/models/EpisodeModel","dataservices/dependent/providers/AssetProvider","dataservices/markers/SeriesMarkerCache","lib/lodash/objects/assign"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.providers.EpisodeProvider",[n,i],function(i){e.constructor(function(e){i.$ctor.call(this,e)}),e.properties({seasonId:{get:function(){return this._getProperty("seasonId")}},season:{get:function(){return this._getProperty("season")}},series:{get:function(){return this._getProperty("series")}},nextEpisode:{get:function(){return this._getProperty("nextEpisode")}},previousEpisode:{get:function(){return this._getProperty("previousEpisode")}},seasonal:{get:function(){return this._getProperty("seasonal")}},defaultPlaylist:{get:function(){return this._getProperty("defaultPlaylist")}},seriesMarkerStatus:{get:function(){return this.seriesId.then(function(e){return void 0!==e?o.singleton.getMarker(e).then(function(e){return void 0!==e?e.status:t.fulfilled()}):t.fulfilled()})}}}),e.methods({_parseBody:function(e){var t=i._parseBody.call(this,e),n=e.getString(["references","series"]),o=e.getString(["references","season"],!0),a=e.getString(["references","defaultPlaylist"],!0);return r(t,{seasonId:o,season:this._getModel(o),series:this._getModel(n),nextEpisode:this._getModel(e.getString(["references","next"],!0)),previousEpisode:this._getModel(e.getString(["references","previous"],!0)),seasonal:void 0!==o,defaultPlaylist:this._getModel(a)})}})})})}(),function(){"use strict";define("dataservices/models/CollectionModel",["core/oop","dataservices/models/TileableModel","dataservices/models/ContentMenuModel"],function(e,t,i){return e.interfaceDef("dataservices.models.CollectionModel",[t,i],function(){e.properties({isPlaylist:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/CollectionProvider",["core/oop","dataservices/models/CollectionModel","dataservices/dependent/providers/TileableProvider","lib/lodash/objects/assign","lib/Promise","dataservices/types/MenuPurpose","dataservices/types/MenuSortType"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.dependent.providers.CollectionProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({items:{get:function(){return this._getProperty("items")}},purpose:{get:function(){return o.fulfilled(r.COLLECTION)}},sortType:{get:function(){return o.fulfilled(a.EDITORIAL)}},showPCAdvisory:{get:function(){return o.fulfilled(!1)}},linkTarget:{get:function(){return o.fulfilled()}},continuationItem:{get:function(){return o.fulfilled()}},suggestedItemCount:{get:function(){return o.fulfilled()}},isPlaylist:{get:function(){return this._getProperty("isPlaylist")}},_itemsPageSize:{defaultValue:32}}),e.methods({_parseBody:function(e){var i=t._parseBody.call(this,e);return n(i,{items:this._getModelCollection(e.getChunk(["references","items"]),this._itemsPerPage),isPlaylist:e.getBoolean(["isPlaylist"],!0)})}})})})}(),function(){"use strict";define("dataservices/models/SeasonModel",["core/oop","dataservices/models/TileableModel"],function(e,t){return e.interfaceDef("dataservices.models.SeasonModel",t,function(){e.properties({isPromotional:{get:void 0},year:{get:void 0},episodeCount:{get:void 0},episodes:{get:void 0},series:{get:void 0},extras:{get:void 0},relatedContent:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/SeasonProvider",["core/oop","dataservices/models/SeasonModel","dataservices/dependent/providers/TileableProvider","lib/lodash/objects/assign"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.SeasonProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({isPromotional:{get:function(){return this._getProperty("isPromotional")}},year:{get:function(){return this._getProperty("year")}},episodeCount:{get:function(){return this.episodes.then(function(e){return e.length()})}},episodes:{get:function(){return this._getProperty("episodes")}},series:{get:function(){return this._getProperty("series")}},extras:{get:function(){return this._getProperty("extras")}},relatedContent:{get:function(){return this._getProperty("relatedContent")}},_episodesPageSize:{defaultValue:6}}),e.methods({_parseBody:function(e){var i=t._parseBody.call(this,e),o=e.getChunk(["references","extras"],!0),r=e.getChunk(["references","relatedContent"],!0);return n(i,{isPromotional:e.getBoolean(["isPromotional"],!0)||!1,year:e.getInt(["releaseYear"],!0)||0,episodes:this._getModelCollection(e.getChunk(["references","episodes"]),this._episodesPageSize),series:this._getModel(e.getString(["references","series"])),extras:this._getModelCollection(o),relatedContent:this._getModelCollection(r)})}})})})}(),function(){"use strict";define("dataservices/models/SeriesModel",["core/oop","dataservices/models/TileableModel"],function(e,t){return e.interfaceDef("dataservices.models.SeriesModel",t,function(){e.properties({seasonal:{get:void 0},seasons:{get:void 0},allEpisodes:{get:void 0},episodeCount:{get:void 0},extras:{get:void 0},relatedContent:{get:void 0},status:{get:void 0},bottomNavigationMenu:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/SeriesStatus",["core/oop"],function(e){return e.enumDef("dataservices.types.SeriesStatus",["UNKNOWN","RETIRED","RETURNING","IN_FLIGHT","DAILY"])})}(),function(){"use strict";define("dataservices/dependent/providers/SeriesProvider",["core/oop","dataservices/models/SeriesModel","dataservices/dependent/providers/TileableProvider","lib/lodash/objects/assign","dataservices/types/SeriesStatus"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.providers.SeriesProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._canBeAddedToWatchlist=!0}),e.properties({seasonal:{get:function(){return this._getProperty("seasonal")}},seasons:{get:function(){return this._getProperty("seasons")}},allEpisodes:{get:function(){return this._getProperty("allEpisodes")}},episodeCount:{get:function(){return this._getProperty("episodeCount")}},extras:{get:function(){return this._getProperty("extras")}},relatedContent:{get:function(){return this._getProperty("relatedContent")}},status:{get:function(){return this._getProperty("status")}},bottomNavigationMenu:{get:function(){return this._getProperty("bottomNavigationMenu")}},_seasonsPageSize:{defaultValue:3},_episodesPageSize:{defaultValue:6}}),e.methods({_parseBody:function(e){var i=t._parseBody.call(this,e),o=e.getChunk(["references","seasons"],!0),r=e.getChunk(["references","episodes"]),a=e.getChunk(["references","extras"],!0),s=e.getChunk(["references","relatedContent"],!0);return n(i,{seasonal:void 0!==o,seasons:this._getModelCollection(o,this._seasonsPageSize),allEpisodes:this._getModelCollection(r,this._episodesPageSize),episodeCount:r.rawJson.length,extras:this._getModelCollection(a),relatedContent:this._getModelCollection(s),status:this._mapSeriesStatus(e.getString(["status"],!0)),bottomNavigationMenu:this._getModel(e.getString(["references","bottomMenu"]))})},_mapSeriesStatus:function(e){switch(e){case"retired":return o.RETIRED;case"returning":return o.RETURNING;case"in-flight":return o.IN_FLIGHT;case"daily":return o.DAILY}return o.UNKNOWN}})})})}(),function(){"use strict";define("dataservices/models/VideoEditModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.VideoEditModel",t,function(){e.properties({asset:{get:void 0},analyticsId:{get:void 0},cutId:{get:void 0},isPreview:{get:void 0},duration:{get:void 0},audio:{get:void 0},quality:{get:void 0},language:{get:void 0},creditStartTime:{get:void 0},playbackMarker:{get:void 0},isSecure:{get:void 0},timeline:{get:void 0},videoState:{get:void 0},originalAudioLanguage:{get:void 0},audioTracks:{get:void 0},textTracks:{get:void 0},playback:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/VideoEditProvider",["core/oop","core/Debug","dataservices/ContentUnavailableException","dataservices/dependent/providers/BatchProvider","dataservices/models/VideoEditModel","dataservices/VideoUtil","dataservices/types/AudioFormat","platform/PlatformDeveloperSettings","lib/Promise"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.dependent.providers.VideoEditProvider",[n,o],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({asset:{get:function(){return this._getProperty("asset")}},cutId:{get:function(){return this._getProperty("cutId")}},isPreview:{get:function(){return l.fulfilled(this._isPreview)}},quality:{get:function(){return this._getProperty("quality")}},duration:{get:function(){return this._getProperty("duration")}},creditStartTime:{get:function(){return this._getProperty("creditStartTime")}},isSecure:{get:function(){return this._getProperty("isSecure")}},analyticsId:{get:function(){return this._getProperty("analyticsId")}},timeline:{get:function(){return this._getProperty("timeline")}},videoState:{get:function(){return this._getProperty("videoState")}},originalAudioLanguage:{get:function(){return this._getProperty("originalAudioLanguage")}},audioTracks:{get:function(){return this._getProperty("audioTracks")}},textTracks:{get:function(){return this._getProperty("textTracks")}},playback:{get:function(){return this._getProperty("videoPlayback")}},audio:{get:function(){return this.audioTracks.then(function(e){var t=a.OTHER;return void 0!==e&&e.length>0&&e.forEach(function(e){(t===a.OTHER||e.output>t)&&(t=e.output)}),t})}},language:{get:function(){return this.audioTracks.then(function(e){return void 0!==e&&e.length>0?e[0].language:"en-US"})}},playbackMarker:{get:function(){return r.singleton.getPlaybackMarker(this.cutId,this.isPreview)}},_isPreview:{defaultValue:!1},_defaultExceptionType:{defaultValue:i}}),e.methods({setIsPreview:function(e){this._isPreview=e},_parseBody:function(e){var t=e.getChunk(["audioTracks"],!0);void 0!==t&&(t=t.rawJson.map(function(e){return r.singleton.convertAudioTrack(e)}));var i=e.getChunk(["textTracks"],!0);void 0!==i&&(i=i.rawJson.map(function(e){return r.singleton.convertTextTrack(e)}));var n={analyticsId:e.getString(["analyticsId"]),cutId:e.getString(["playbackMarkerId"]),originalAudioLanguage:e.getString(["originalAudioLanguage"],!0),audioTracks:t,textTracks:i,quality:this._convertQuality(e.getString(["quality"])),duration:e.getInt(["duration"]),creditStartTime:s.singleton.testCreditStartTime||e.getInt(["creditsStartTime"],!0),isSecure:!0,videoUrn:e.getString(["references","viewable"]),timeline:this._getModelCollection(e.getChunk(["references","timeline"],!0)),videoPlayback:this._getModel(e.getString(["references","video"])),videoState:this._getModel(e.getString(["references","videoState"],!0)),asset:this._getModel(e.getString(["references","viewable"]))};return n},_convertQuality:function(e){return r.singleton.convertQuality(e,"HD","SD")}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ProductMenuProvider",["core/oop","dataservices/dependent/providers/MenuProvider","core/ReadOnlyAsyncArray","core/Debug"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.ProductMenuProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({items:{get:function(){return this._getDeferredProperty("items")}},_itemsPageSize:{defaultValue:32}}),e.methods({_parseItems:function(e){return e.hasPath(["references","query"])?this._getMenuItemsProperty(e.getString(["references","query"]),"items"):e.hasPath(["references","collection"])?this._getMenuItemsProperty(e.getString(["references","collection"]),"items"):function(){return i.new([])}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/LandingMenuProvider",["core/oop","dataservices/dependent/providers/ProductMenuProvider"],function(e,t){return e.classDef("dataservices.dependent.providers.LandingMenuProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)})})})}(),function(){"use strict";define("dataservices/dependent/providers/WelcomeLandingMenuProvider",["core/oop","dataservices/dependent/providers/LandingMenuProvider","dataservices/dependent/ServiceUtils"],function(e,t,i){return e.classDef("dataservices.dependent.providers.WelcomeLandingMenuProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.methods({_getServiceId:function(){return i.singleton.Ids.PREVIEW}})})})}(),function(){"use strict";define("dataservices/dependent/providers/NavigationMenuProvider",["core/oop","dataservices/dependent/providers/MenuProvider","lib/Promise","dataservices/types/MenuPurpose"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.NavigationMenuProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({purpose:{get:function(){return i.fulfilled(n.NAVIGATION)}}})})})}(),function(){"use strict";define("dataservices/models/DRMTokenModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.DRMTokenModel",t,function(){e.properties({token:{get:void 0}})})})}(),function(){"use strict"
;define("dataservices/dependent/providers/DRMTokenProvider",["core/oop","core/data/Provider","dataservices/ServiceException","dataservices/providers/BaseServiceProvider","dataservices/dependent/ServiceHttpClient","dataservices/models/DRMTokenModel"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.providers.DRMTokenProvider",[n,r],function(n){e.constructor(function(){n.$ctor.apply(this,arguments),this._cacheable=!1}),e.properties({token:{get:t.implementProperty("token")}}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),n.initialize.apply(this,arguments),this.uri=e.drmTokenUri},_queryService:function(){var e=this;return o.singleton.post(this.uri).then(function(t){var i=e.handleResult(t.json);return e.setProperties(i),i})},handleResult:function(e){var t=e.getString(["token"]);if(void 0===t||""===t)throw i.new({message:"Invalid token returned from service",area:"dataservices.dependent.providers.DRMTokenProvider.handleResult"});return{token:t}}})})})}(),function(){"use strict";define("dataservices/models/FairPlayLicenseModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.FairPlayLicenseModel",t,function(){e.properties({license:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/FairPlayLicenseProvider",["core/oop","core/data/Provider","dataservices/ServiceException","dataservices/providers/BaseServiceProvider","dataservices/dependent/ServiceHttpClient","dataservices/models/FairPlayLicenseModel"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.providers.FairPlayLicenseProvider",[n,r],function(n){e.constructor(function(){n.$ctor.apply(this,arguments),this._cacheable=!1}),e.properties({license:{get:t.implementProperty("license")},_params:void 0,_licenseUri:void 0}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),n.initialize.apply(this,arguments),this._params={spc:e.serverPlaybackContext,assetId:e.inventoryId},this._licenseUri=e.licenseUri},_queryService:function(){var e=this,t=JSON.stringify(this._params);return o.singleton.post(this._licenseUri,void 0,t).then(function(t){var i=e.handleResult(t.json);return e.setProperties(i),i})},handleResult:function(e){var t=e.getString(["ckc"]);if(void 0===t)throw i.new({message:"Invalid license returned from service",area:"dataservices.dependent.providers.FairPlayLicenseProvider.handleResult"});return{license:t}}})})})}(),function(){"use strict";define("dataservices/models/FairPlayCertificateModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.FairPlayCertificateModel",t,function(){e.properties({certificate:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/FairPlayCertificateProvider",["core/oop","lib/Promise","core/Exception","platform/dependent/HttpClient","platform/common/HttpResponseType","core/data/Provider","dataservices/ServiceException","dataservices/models/FairPlayCertificateModel"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.dependent.providers.FairPlayCertificateProvider",[r,s],function(s){e.constructor(function(){s.$ctor.apply(this,arguments)}),e.properties({certificate:{get:r.implementProperty("certificate")},_uri:void 0}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),s.initialize.apply(this,arguments),this._uri=e.licenseCertificateUri},_getData:function(){var e=n.singleton.get(this._uri,void 0,void 0,o.Bin64).then(function(e){return e.response}).catch(function(e){throw i.wrap(e,{message:"Failed to get certificate",area:"dataservices.dependent.providers.FairPlayCertificateProvider._getData"},a)});return new t(function(t,i){return e.then(t).catch(i).finally(i)})}})})})}(),function(){"use strict";define("dataservices/models/AuthenticationStatusModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.AuthenticationStatusModel",t,function(){e.properties({status:{get:void 0},loginInfo:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/TokenScopeType",["core/oop"],function(e){return e.enumDef("dataservices.types.TokenScopeType",{ACCOUNT_REGISTRATION:"account_registration",ACCOUNT_MANAGEMENT:"account_management",BROWSE:"browse",DEVICE:"device",ELEVATED_ACCOUNT_MANAGEMENT:"elevated_account_management",SHORT_LIVED:"short_lived",VIDEO_PLAYBACK:"video_playback",VIDEO_PLAYBACK_FREE:"video_playback_free"})})}(),function(){"use strict";define("dataservices/types/TokenScopes",["core/oop","dataservices/DataServicesDeveloperSettings","design/ScreenUtil","dataservices/types/TokenScopeType","dataservices/DataServicesSettings"],function(e,t,i,n,o){return e.classDef("dataservices.types.TokenScopes",Object,function(){e.singleton(function(){}),e.methods({isScoped:function(e,t){var i=new RegExp("(^| )"+t+"( |$)");return-1!==e.search(i)},_generateScope:function(){for(var e=[],t=0;t<arguments.length;t++)"object"==typeof arguments[t]?e.push.apply(e,arguments[t]):void 0!==arguments[t]&&e.push(arguments[t]);return e.join(" ")}}),e.properties({_durationScope:{get:function(){return t.singleton.shortAuthTimeout?n.SHORT_LIVED:void 0}},_baseUserScope:{get:function(){return this._generateScope(n.BROWSE,n.VIDEO_PLAYBACK,n.DEVICE,this._durationScope)}},ClientScope:{get:function(){var e=o.singleton.usesWebLogin?i.singleton.byBrand({hbonow:i.singleton.byDesign({activation:n.ACCOUNT_REGISTRATION,default:n.ACCOUNT_REGISTRATION,desktop:void 0})}):void 0;return this._generateScope(n.BROWSE,n.VIDEO_PLAYBACK_FREE,this._durationScope,e)}},ElevatedUserScope:{get:function(){return this._generateScope(this._baseUserScope,n.ELEVATED_ACCOUNT_MANAGEMENT)}},RegistrationUserScope:{get:function(){return this._generateScope(this._baseUserScope,n.ACCOUNT_REGISTRATION)}},ResetScope:{get:function(){return this._generateScope(n.ELEVATED_ACCOUNT_MANAGEMENT)}},UserScope:{get:function(){return this._generateScope(this._baseUserScope)}}})})})}(),function(){"use strict";define("dataservices/IProfileService",["core/oop"],function(e){return e.interfaceDef("dataservices.IProfileService",void 0,function(){e.singleton(),e.methods({createUser:void 0,deactivateDevices:void 0,setNewPin:void 0,forgotPin:void 0,resetPasswordRequest:void 0,setNewPassword:void 0,isPinValid:void 0,isReceiptLinked:void 0,createWorkflowForReceipt:void 0,performWorkflowStep:void 0,linkReceipt:void 0,refreshTokenAfterReceipt:void 0,checkSubscriptionEligibility:void 0,purchaseSubscription:void 0,getCommerceRedirectUrl:void 0})})})}(),function(){"use strict";define("dataservices/dependent/ProfileService",["core/oop","core/Debug","lib/Promise","core/data/ModelFactory","dataservices/types/GrantType","dataservices/types/CallToAction","dataservices/dependent/ServiceUtils","dataservices/dependent/ServiceHttpClient","dataservices/dependent/uris","dataservices/authentication/AuthenticationManager","dataservices/dependent/LoginInfoManager","dataservices/dependent/types/LoginInfo","dataservices/IProfileService","dataservices/types/TokenScopes","engine/dependent/Time","core/uriUtils"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){return e.classDef("dataservices.dependent.ProfileService",[Object,p],function(){e.singleton(function(){this._userModel=n.singleton.create("User","User")}),e.properties({_userModel:void 0}),e.methods({_composeBody:function(e){return JSON.stringify(e)},_valueOrNull:function(e){return""===e?null:e},createUser:function(e){var t,n;if(!0===e.useClientToken)n=d.singleton.getLoginInfo(!1);else{var o=c.singleton.getRegistrationInfo();n=i.fulfilled(o)}!0==(void 0!==e.useClientToken)?(!0===e.isLiteProfile&&e.password,t={email:e.emailAddress,password:e.password,firstName:e.firstName,lastName:e.lastName,zipCode:e.zipCode,preferredUiLanguage:e.preferredUiLanguage}):(!0!==e.marketingOptIn||void 0!==e.emailAddress&&e.emailAddress,t={username:e.userName,email:this._valueOrNull(e.emailAddress),zipCode:this._valueOrNull(e.zipCode),preferredUiLanguage:e.preferredUiLanguage,marketingOptIn:e.marketingOptIn});var r=this;return n.then(function(e){return s.singleton.post(l.users,[{header:"Authorization",value:e.tokenType+" "+e.accessToken}],r._composeBody(t),!1).then(function(){r._userModel.resetCache()}).catch(a.singleton.handleDataException.bind(a.singleton))})},deactivateDevices:function(){return s.singleton.del(l.deactivateDevices,void 0,!0).then(function(e){return d.singleton.setLoginInfo(!0,void 0)})},setNewPin:function(e,t,i){var n=this;return s.singleton.put(l.updatePin,void 0!==t?[{header:"X-CurrentPin",value:t}]:void 0,this._composeBody({pin:e,resetPin:!0===i||void 0}),!0).then(function(e){return void 0===t&&!0!==i&&n._userModel.commitChange({hasSetPin:!0}),e}).catch(a.singleton.handleDataException.bind(a.singleton))},isPinValid:function(e){return s.singleton.post(l.validatePin,void 0,this._composeBody({pin:e}),!0).then(function(e){return e.json.getBoolean(["valid"])}).catch(a.singleton.handleDataException.bind(a.singleton))},forgotPin:function(){return s.singleton.post(l.forgotPin,void 0,"{}")},resetPasswordRequest:function(e){return s.singleton.post(l.resetPasswordRequest,void 0,this._composeBody({email:e}),!1).catch(a.singleton.handleDataException.bind(a.singleton))},setNewPassword:function(e){return s.singleton.patch(l.updatePassword,void 0,this._composeBody({password:e}),!0)},isReceiptLinked:function(e){return s.singleton.post(l.isReceiptLinked,void 0,this._convertReceiptToBody(e),!1).then(function(e){return e.json.getBoolean(["isLinked"])})},createWorkflowForReceipt:function(e){var t=JSON.parse(e.data),n=a.singleton.mapStoreTypeToPaymentProvider(e.store);t.receiptType=n;var r={grant_type:o.USER_RECEIPT_WORKFLOW,scope:h.singleton.RegistrationUserScope,receiptData:t,workflowData:{subscriptionProviderCode:n,receiptWorkflowType:"workflowType.receiptWorkflow",appStoreUserIntent:"appStoreUserIntent.restore"}};return i.fulfilled(JSON.stringify(r))},performWorkflowStep:function(e){var t=c.singleton.getRegistrationInfo(),i=void 0!==t?[{header:"Authorization",value:t.tokenType+" "+t.accessToken}]:void 0;return s.singleton.post(l.getTokens,i,e).then(function(e){var t=e.json,i=u.new({tokenType:t.getString(["token_type"]),accessToken:t.getString(["access_token"]),refreshToken:t.getString(["refresh_token"]),accessExpiration:g.singleton.now()+1e3*t.getInt(["expires_in"])});return{nextSteps:t.hasPath(["nextStepsPayload"])?t.getChunk(["nextStepsPayload"]):void 0,loginInfo:i,loginAsUser:t.getBoolean(["isUserLoggedIn"])}})},linkReceipt:function(e){var t=this;return s.singleton.post(l.linkReceipt,void 0,this._convertReceiptToBody(e),!0).then(function(){return t._userModel.entitlementStatus}).then(function(e){return e.refreshData()}).then(function(){return!0})},_convertReceiptToBody:function(e){var t=JSON.parse(e.data);return t.receiptType=a.singleton.mapStoreTypeToPaymentProvider(e.store),this._composeBody(t)},refreshTokenAfterReceipt:function(){return c.singleton.refreshCredentialsWithGrantType(o.USER_REFRESH_AFTER_LINKING)},getCommerceRedirectUrl:function(){return s.singleton.get(l.commerceRedirectUrl,void 0,!0).then(function(e){return e.json.getString(["redirectUrl"],!1)}).catch(a.singleton.handleDataException.bind(a.singleton))},checkSubscriptionEligibility:function(e,t){return s.singleton.get(f.format(l.checkSubscriptionEligibility,[e,t]),void 0,!0).then(function(e){var t={isEligible:e.json.getBoolean(["success"],!1)};if(!0===t.isEligible)t.paymentMethodDetails=e.json.getString(["description"],!0);else{t.error={title:e.json.getString(["title"],!1),description:e.json.getString(["description"],!1)};var i=e.json.getChunk(["cta"],!0);void 0!==i&&(t.error.cta=r.new({title:i.getString(["title"],!1),action:i.getString(["url"],!1)}))}return t}).catch(a.singleton.handleDataException.bind(a.singleton))},purchaseSubscription:function(e){var t=this._composeBody({purchaseType:e.purchaseType,commercePlanId:e.commercePlanId,additionalPurchaseDetails:e.additionalPurchaseDetails});return s.singleton.post(f.format(l.purchaseSubscription,[e.returnPath,e.sessionId]),void 0,t,!0).then(function(e){var t,i=e.json.getChunk(["cta"],!0);return void 0!==i&&(t=r.new({title:i.getString(["title"],!1),action:i.getString(["url"],!1)})),{success:e.json.getBoolean(["success"],!1),greeting:e.json.getString(["greeting"],!0),title:e.json.getString(["title"],!1),description:e.json.getString(["description"],!1),cta:t}}).catch(a.singleton.handleDataException.bind(a.singleton))}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ActivationCodeStatusProvider",["core/oop","lib/Promise","core/data/Provider","dataservices/models/AuthenticationStatusModel","dataservices/activation/AuthenticationStatus","core/Exception","dataservices/activation/ActivationException","dataservices/types/GrantType","dataservices/dependent/ErrorCodeUtils","dataservices/types/TokenScopes","dataservices/dependent/ProfileService","dataservices/dependent/ServiceUtils","dataservices/types/NextSteps","platform/NetworkException","dataservices/InvalidSessionException","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){return e.classDef("dataservices.dependent.providers.ActivationCodeStatusProvider",[i,n],function(n){e.constructor(function(e){n.$ctor.call(this,e)}),e.properties({_data:void 0,status:{get:i.implementProperty("status")},loginInfo:{get:i.implementProperty("loginInfo")}}),e.methods({_queryService:function(){var e={model:f.singleton.id,grant_type:u.singleton.mapGrantType(s.USER_ACTIVATION_CODE),code:this.id,serialNumber:f.singleton.serial,scope:c.singleton.UserScope},i=this;return d.singleton.performWorkflowStep(JSON.stringify(e)).then(function(e){return i._handleResult(e)}).catch(function(e){return i._data={status:o.NOTPAIRED},e instanceof a&&e.code===l.Codes.NOT_PAIRED?void 0:!1!==l.shouldWrapRejection(e)||!1!==l.isBasicAuthenticationException(e)||e instanceof g?(e instanceof h&&(e=l.checkUnsuccessfulResponse(e)),t.reject(r.wrap(e,{message:"Error during activation",displayMessage:e.displayMessage,area:"dataservices.dependent.providers.ActivationCodeStatusProvider._queryService",code:void 0===e.status?void 0:e.status.toString()},a))):t.rejected(e)})},_getData:function(e){var i=this;return"status"!==e||void 0!==this._data&&this._data.status!==o.NOTPAIRED?t.fulfilled(this._data[e]):this._queryService().then(function(){return t.fulfilled(i._data[e])})},_handleResult:function(e){void 0!==e.nextSteps&&p.singleton.setData(e.nextSteps),this._data={status:o.PAIRED,loginInfo:e.loginInfo}}})})})}(),function(){"use strict";define("dataservices/models/ActivationCodeIntentModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ActivationCodeIntentModel",t,function(){e.properties({code:{get:void 0},userIntent:{get:void 0},completionUrl:{get:void 0},displayMessage:{get:void 0}}),e.methods({setData:void 0,storeData:void 0,clear:void 0})})})}(),function(){"use strict";define("dataservices/types/UserActivationIntent",["core/oop"],function(e){return e.enumDef("dataservices.types.UserActivationIntent",{AUTHORIZE:"oauth",LOGIN:"login",MVPD_PICKER:"activationClientUserIntent.mvpdPicker",REGISTER:"register",RESTORE:"restore"})})}(),function(){"use strict";define("design/FilterUtils",["core/oop"],function(e){return e.classDef("design.FilterUtils",Object,function(){e.singleton(function(){}),e.methods({filterEmail:function(e){return e.replace(/\s|@.*@|[\[\]\\]+@|@.*[^\w-\.\[\]:]|\.{2}|(^|@)\.|\.@/g,"")},filterPin:function(e){return e.replace(/\D/g,"").substring(0,4)},filterActivationCode:function(e){return e.replace(/[^a-zA-Z\d]/g,"").substring(0,6)},filterGiftCardCode:function(e){return e.replace(/[\W_]+/g,"").substring(0,50).toUpperCase()},filterPromotionCode:function(e){return e.replace(/[\W_]+/g,"").substring(0,20)}})})})}(),function(){"use strict";define("design/ValidationUtils",["core/oop","design/FilterUtils","design/ScreenUtil"],function(e,t,i){return e.classDef("design.ValidationUtils",Object,function(){e.singleton(function(){}),e.methods({validateEmail:function(e){if(!0===i.singleton.byBrand({hbonow:!0,default:!1})||""!==e){if(!0!==this._isValidEmailFormat(e))return"ResInvalidEmailError";if(!0!==this._isValidEmailLength(e))return"ResInvalidEmailLengthError"}},validateEmailWithOptIn:function(e,t){var i=this.validateEmail(e);return void 0===i&&""===e&&!0===t&&(i="ResEmailNotificationError"),i},validatePasswordLength:function(e){return!0!==this._isValidPasswordMinLength(e)?"ResInvalidPasswordLengthError":!0!==this._isValidPasswordMaxLength(e)?"ResInvalidPasswordMaxLengthError":void 0},validatePassword:function(e){return!0!==this._isValidPasswordMinLength(e)?"ResInvalidPasswordLengthError":!0!==this._isValidPasswordMaxLength(e)?"ResInvalidPasswordMaxLengthError":!0!==this._isValidPasswordLetter(e)?"ResInvalidPasswordLetterError":!0!==this._isValidPasswordNumber(e)?"ResInvalidPasswordNumberError":void 0},validatePhoneNumber:function(e){if(""!==e){if(!0!==this._isValidPhoneNumberLength(e))return"ResInvalidPhoneNumber";if(!0!==this._isValidPhoneNumberFormat(e))return"ResInvalidPhoneNumber"}},validatePin:function(e){if(!0!==this._isValidPin(e))return"ResInvalidPinError"},validateName:function(e){return!0!==this._isValidNameLength(e)?"ResInvalidFirstOrLastNameLengthError":!0!==this._isValidNameFormat(e)?"ResInvalidFirstOrLastNameError":void 0},validateUserId:function(e){return!0!==this._isValidUserIdLength(e)?"ResInvalidUserIdLengthError":!0!==this._isValidUserIdFormat(e)?"ResInvalidUserIdError":void 0},validateActivationCode:function(e){if(!0!==this.isValidActivationCode(e))return"ResInvalidLicensePlateLengthError"},validateZipCode:function(e){if((!0===i.singleton.byBrand({hbonow:!0,default:!1})||""!==e)&&!0!==this.isValidZipCode(e))return"ResInvalidZipError"},runValidationIfFocusGained:function(e,t,i,n){void 0!==e&&i!==e&&t===e&&n()},runValidationIfFocusLost:function(e,t,i,n){void 0!==e&&i===e&&t!==e&&n()},isValidPartialEmail:function(e){return t.singleton.filterEmail(e)===e},isValidPartialActivationCode:function(e){return t.singleton.filterActivationCode(e)===e},_isValidEmailFormat:function(e){var t=/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,i=/.+@.+\.[a-zA-Z]+$/i;return t.test(e)&&i.test(e)},_isValidEmailLength:function(e){return e.length<=108},_isValidNameFormat:function(e){return/^[A-Za-z][A-Za-z '\-.]*$/g.test(e)},_isValidNameLength:function(e){return e.length>=1},_isValidUserIdFormat:function(e){return/^((?![<>=;&{}]).)*$/g.test(e)},_isValidUserIdLength:function(e){return e.length>=3&&e.length<=14},isValidZipCode:function(e){return/^\d{5}(?:-\d{4})?$/g.test(e)},_isValidPassword:function(e){return this._isValidPasswordMaxLength(e)&&this._isValidPasswordMinLength(e)&&this._isValidPasswordLetter(e)&&this._isValidPasswordNumber(e)},_isValidPasswordMaxLength:function(e){return e.length<=64},_isValidPasswordMinLength:function(e){return e.length>=8},_isValidPasswordLetter:function(e){return/[A-Za-z]/.test(e)},_isValidPasswordNumber:function(e){return/[0-9!@#\$%\^&*\)\(+=._-]/.test(e)},_isValidPhoneNumberFormat:function(e){return/^(\d{3}-\d{3}-\d{4}|\d{10}|\(\d{3}\) ?\d{3}-\d{4})$/.test(e)},isValidPartialPin:function(e){return t.singleton.filterPin(e)===e},_isValidPin:function(e){return/^\d{4}$/.test(e)},isValidActivationCode:function(e){return 6===e.length},isValidGiftCardCode:function(e){return/^[A-Z0-9]{5,50}$/.test(e)},isValidPromotionCode:function(e){return/^[a-zA-Z0-9]{5,20}$/.test(e)},_isValidPhoneNumberLength:function(e){return e.length>=10&&e.length<=32}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ActivationCodeIntentProvider",["core/oop","core/Debug","core/Exception","lib/Promise","core/data/Provider","dataservices/models/ActivationCodeIntentModel","dataservices/DataValidationException","dataservices/types/UserActivationIntent","core/uriUtils","dataservices/dependent/uris","dataservices/dependent/ServiceHttpClient","dataservices/dependent/ErrorCodeUtils","design/ValidationUtils","platform/NetworkException","platform/dependent/Storage","dataservices/DataServicesSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){return e.classDef("dataservices.dependent.providers.ActivationCodeIntentProvider",[o,r],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._storageLocation=f.singleton.ACTIVATION_CODE_KEY}),e.properties({_uri:void 0,_storageLocation:{defaultValue:void 0},_code:{defaultValue:void 0},_completionUrl:{defaultValue:void 0},code:{get:function(){var e=this;return void 0!==e._code?n.fulfilled(e._code):this._load().then(function(){return n.fulfilled(e._code)})}},userIntent:{get:function(){var e=this;return this.code.then(function(t){return void 0!==t?e._getProperty("userIntent"):n.fulfilled()})}},completionUrl:{get:function(){var e=this;return void 0!==e._completionUrl?n.fulfilled(e._completionUrl):this._load().then(function(){return n.fulfilled(e._completionUrl)})}},displayMessage:{get:function(){return this._getProperty("displayMessage")}}}),e.methods({_queryService:function(){var e=this;return void 0===this._code?n.reject(a.new({message:"Code not entered",area:"dataservices.dependent.providers.ActivationCodeIntentProvider._queryService"})):(this._uri=l.format(c.getActivationClientCodeStatus,[this._code]),d.singleton.get(e._uri,void 0,!1).then(function(t){return e._handleResult(t.json)}).catch(function(e){return e instanceof h&&(e=u.checkUnsuccessfulResponse(e)),n.reject(e)}))},_getData:function(e){return this._queryService().then(function(t){return n.fulfilled(t[e])})},_handleResult:function(e){var t,i=e.getString(["displayMessage"],!0),n=e.getString(["userIntent"],!0);return void 0===n?t=s.LOGIN:void 0!==s.getName(n)&&(t=n),{userIntent:t,displayMessage:i}},_load:function(){var e=this;return g.singleton.read(e._storageLocation).then(function(t){if(void 0!==t)try{var o=JSON.parse(t);e._code=o.code,e._completionUrl=o.completionUrl}catch(t){return e.clear().then(function(){return n.reject(i.wrap(t,{message:"Malformed data in storage",area:"dataservices.dependent.providers.ActivationCodeIntentProvider._load"}))})}return n.fulfilled()})},_makeCompletionUrl:function(e,t,i){return e=l.addOrReplaceQueryParam(e,"code",t),void 0!==i&&(e=l.addOrReplaceQueryParam(e,"state",i)),e},setData:function(e,t,i){return void 0===e||!1===p.singleton.isValidActivationCode(e)?n.reject(a.new({message:"Code not entered or incorrect format",area:"dataservices.dependent.providers.ActivationCodeIntentProvider.setData"})):(this._code=e,void 0!==t&&(this._completionUrl=this._makeCompletionUrl(t,e,i)),n.fulfilled())},storeData:function(){return void 0===this._code?n.reject(i.new({message:"storeData must be called after setData is called with a valid code",area:"dataservices.dependent.providers.ActivationCodeIntentProvider.storeData"})):g.singleton.write(this._storageLocation,JSON.stringify({code:this._code,completionUrl:this._completionUrl}))},clear:function(){return this._code=void 0,this._completionUrl=void 0,g.singleton.remove(this._storageLocation)}})})})}(),function(){"use strict";define("dataservices/models/ActivationCodeNextStepsModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ActivationCodeNextStepsModel",t,function(){e.properties({status:{get:void 0}}),e.methods({setData:void 0,clear:void 0})})})}(),function(){"use strict";define("dataservices/dependent/providers/ActivationCodeNextStepsProvider",["core/oop","core/Exception","dataservices/models/ActivationCodeNextStepsModel","dataservices/types/GrantType","dataservices/types/TokenScopes","lib/Promise","dataservices/DataServicesSettings","dataservices/types/NextSteps","dataservices/types/NextStepType","core/data/Provider","platform/dependent/Storage","dataservices/dependent/LoginInfoManager","dataservices/dependent/ProfileService"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("dataservices.dependent.providers.ActivationCodeNextStepsProvider",[c,i],function(i){e.constructor(function(e){i.$ctor.call(this,e),this._storageLocation=a.singleton.ACTIVATION_CODE_KEY}),e.properties({_storageLocation:{defaultValue:void 0},_code:{defaultValue:void 0},status:{get:function(){var e=this;return s.singleton.step!==l.NONE?r.fulfilled(s.singleton.step):e._load().then(function(){return void 0===e._code?l.NONE:e._queryService()})}}}),e.methods({_queryService:function(){var e=this,t=JSON.stringify({grant_type:n.USER_ACTIVATION_CODE_CLAIM_WORKFLOW,activationCode:e._code,scope:o.singleton.RegistrationUserScope});return p.singleton.performWorkflowStep(t).then(function(t){return e._handleResult(t)})},_handleResult:function(e){return s.singleton.clearData(),s.singleton.setData(e.nextSteps),u.singleton.setLoginInfo(e.loginAsUser,e.loginInfo),s.singleton.step},_load:function(){var e=this;return d.singleton.read(e._storageLocation).then(function(i){if(void 0!==i)try{var n=JSON.parse(i);e._code=n.code}catch(i){return e.clear().then(function(){return r.reject(t.wrap(i,{message:"Malformed data in storage",area:"dataservices.dependent.providers.ActivationCodeNextStepsProvider._load"}))})}return r.fulfilled()})},_storeData:function(){return void 0===this._code?r.reject(t.new({message:"storeData must be called after setData is called with a valid code",area:"dataservices.dependent.providers.ActivationCodeNextStepsProvider._storeData"})):d.singleton.write(this._storageLocation,JSON.stringify({code:this._code}))},setData:function(e){return this._code=e,s.singleton.clearData(),this._storeData()},clear:function(){return this._code=void 0,d.singleton.remove(this._storageLocation)}})})})}(),function(){"use strict";define("dataservices/models/GiftCardBalanceModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.GiftCardBalanceModel",t,function(){e.properties({balance:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/GiftCardBalanceProvider",["core/oop","lib/Promise","core/data/Provider","dataservices/dependent/uris","dataservices/dependent/ServiceHttpClient","dataservices/models/GiftCardBalanceModel"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.providers.GiftCardBalanceProvider",[i,r],function(r){e.constructor(function(e){r.$ctor.call(this,"GiftCardBalance"),this._pinCode=e}),e.properties({balance:{get:i.implementProperty("balance")},deepLinkUriPath:{get:function(){return"/gift"}},_pinCode:void 0}),e.methods({_queryService:function(){var e={pinCode:this._pinCode},t=this;return o.singleton.post(n.giftCardBalance,void 0,JSON.stringify(e),!1).then(function(e){return t._handleResult(e.json)})},_getData:function(e){return this._queryService().then(function(i){return t.fulfilled(i[e])})},_handleResult:function(e){return{balance:{amount:e.getString(["balance"]),currencyCode:e.getString(["currencyCode"])}}}})})})}(),function(){"use strict";define("dataservices/models/CommerceConfigModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.CommerceConfigModel",t,function(){e.properties({found:{get:void 0},commercePlanId:{get:void 0},purchaseType:{get:void 0},flowConfig:{get:void 0},entryPageConfig:{get:void 0},registerConfig:{get:void 0},signInConfig:{get:void 0},returnPath:{get:void 0},errorConfig:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/CommerceConfigProvider",["core/oop","core/data/Provider","dataservices/types/CallToAction","dataservices/dependent/uris","dataservices/dependent/ServiceHttpClient","dataservices/providers/BaseServiceProvider","dataservices/models/CommerceConfigModel"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.dependent.providers.CommerceConfigProvider",[r,a],function(r){e.constructor(function(e){r.$ctor.call(this,"CommerceConfig"),this._commerceConfigParam=e}),e.properties({found:{get:t.implementProperty("found")},commercePlanId:{get:t.implementProperty("commercePlanId")},purchaseType:{get:t.implementProperty("purchaseType")},flowConfig:{get:t.implementProperty("flowConfig")},entryPageConfig:{get:t.implementProperty("entryPageConfig")},registerConfig:{get:t.implementProperty("registerConfig")},signInConfig:{get:t.implementProperty("signInConfig")},errorConfig:{get:t.implementProperty("errorConfig")},returnPath:{get:t.implementProperty("returnPath")},deepLinkUriPath:{get:function(){return this._commerceConfigParam}},_commerceConfigParam:void 0}),e.methods({_queryService:function(){var e=n.getCommerceConfig+this._commerceConfigParam,t=this;return o.singleton.get(e,void 0,void 0).then(function(e){return t._parseBody(e.json)})},_parseBody:function(e){var t={found:e.getBoolean(["success"],!1),commercePlanId:e.getString(["commercePlanId"],!1),purchaseType:e.getString(["purchaseType"],!1),returnPath:e.getString(["returnPath"],!0)};if(!0===t.found){var n=e.getChunk(["entryPageConfig"],!0);if(void 0!==n){t.entryPageConfig={title:n.getString(["title"],!1),description:n.getString(["description"],!1),terms:n.getString(["terms"],!1),backgroundUrl:n.getString(["backgroundUrl"],!1),redemptionCode:n.getString(["redemptionCode"],!0)};var o=n.getChunkArray(["geoUnits"],!0);void 0!==o&&(t.entryPageConfig.geoUnits=o.map(function(e){return{name:e.getString(["name"],!1),abbr:e.getString(["abbr"],!1)}}));var r=n.getChunk(["cta"],!0);void 0!==r&&(t.entryPageConfig.cta=i.new({title:r.getString(["title"],!1),action:r.getString(["url"],!1)}))}var a=e.getChunk(["registerConfig"],!1);t.registerConfig={title:a.getString(["title"],!1),description:a.getString(["description"],!1)};var s=e.getChunk(["signInConfig"],!1);t.signInConfig={title:s.getString(["title"],!1),description:s.getString(["description"],!1)};var l=e.getChunk(["flowConfig"],!1);t.flowConfig={origin:l.getString(["origin"],!0),sessionId:l.getString(["sessionId"],!0),showPlanLandingPage:l.getBoolean(["showPlanLandingPage"],!0),showSignIn:l.getBoolean(["showSignIn"],!0),signOut:l.getBoolean(["signOut"],!0)};var c=l.getStringArray(["paywallsToSkip"],!0);void 0!==c&&(t.flowConfig.paywallsToSkip=c)}else{t.errorConfig={title:e.getString(["title"],!1),description:e.getString(["description"],!1)};var d=e.getChunk(["cta"],!0);void 0!==d&&(t.errorConfig.cta=i.new({title:d.getString(["title"],!1),action:d.getString(["url"],!1)}))}return t}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ResetPasswordProvider",["core/oop","core/data/Provider"],function(e,t){return e.classDef("dataservices.dependent.providers.ResetPasswordProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({deepLinkUriPath:{get:function(){return"/resetpassword"}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ResetPinProvider",["core/oop","core/data/Provider"],function(e,t){return e.classDef("dataservices.dependent.providers.ResetPinProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({deepLinkUriPath:{get:function(){return"/resetpin"}}})})})}(),function(){"use strict";define("dataservices/models/SearchResultsModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.SearchResultsModel",t,function(){e.properties({count:{get:void 0},series:{get:void 0},movies:{get:void 0},kids:{get:void 0},comedy:{get:void 0},sports:{get:void 0},documentaries:{get:void 0},family:{get:void 0},lateNight:{get:void 0},collections:{get:void 0},episodes:{get:void 0},extras:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/SearchResultsProvider",["core/oop","dataservices/models/SearchResultsModel","dataservices/dependent/providers/BatchProvider","dataservices/JsonChunk"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.SearchResultsProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({count:{get:function(){return this._getLateNightRestrictedProperty("hasUnrestrictedResultsCount","hasRestrictedResultsCount")}},series:{get:function(){
return this._getProperty("series")}},movies:{get:function(){return this._getProperty("movies")}},kids:{get:function(){return this._getProperty("kids")}},comedy:{get:function(){return this._getProperty("comedy")}},sports:{get:function(){return this._getProperty("sports")}},documentaries:{get:function(){return this._getProperty("documentaries")}},family:{get:function(){return this._getProperty("family")}},lateNight:{get:function(){return this._getLateNightRestrictedProperty("lateNight","empty")}},collections:{get:function(){return this._getProperty("collections")}},episodes:{get:function(){return this._getProperty("episodes")}},extras:{get:function(){return this._getProperty("extras")}}}),e.methods({_getServiceId:function(){return("urn:hbo:"+this._id).substr(0,128)},_parseBody:function(e){var t=e.getChunk(["references","series"],!0),i=e.getChunk(["references","movies"],!0),o=e.getChunk(["references","kids"],!0),r=e.getChunk(["references","comedy"],!0),a=e.getChunk(["references","sports"],!0),s=e.getChunk(["references","documentaries"],!0),l=e.getChunk(["references","family"],!0),c=e.getChunk(["references","lateNight"],!0),d=e.getChunk(["references","collections"],!0),u=e.getChunk(["references","episodes"],!0),p=e.getChunk(["references","extras"],!0),h=[t,i,o,r,a,s,l,d,u,p].map(function(e){return e=e||{rawJson:[]},e.rawJson.length}).reduce(function(e,t){return e+t});return{hasUnrestrictedResultsCount:h+(c||{rawJson:[]}).rawJson.length,hasRestrictedResultsCount:h,series:this._getModelCollection(t),movies:this._getModelCollection(i),kids:this._getModelCollection(o),comedy:this._getModelCollection(r),sports:this._getModelCollection(a),documentaries:this._getModelCollection(s),family:this._getModelCollection(l),lateNight:this._getModelCollection(c),collections:this._getModelCollection(d),episodes:this._getModelCollection(u),extras:this._getModelCollection(p),empty:this._getModelCollection(n.new([]))}}})})})}(),function(){"use strict";define("dataservices/types/AuthenticatorImageSet",["core/oop"],function(e){return e.classDef("dataservices.types.AuthenticatorImageSet",Object,function(){e.constructor(function(e,t){this._logoUri=e,this._gridUri=t}),e.properties({logoUri:{defaultValue:void 0,privateSet:!0},gridUri:{defaultValue:void 0,privateSet:!0}})})})}(),function(){"use strict";define("dataservices/types/UserProfileType",["core/oop"],function(e){return e.enumDef("dataservices.types.UserProfileType",{FULL:"fullUserProfile",LITE:"liteUserProfile"})})}(),function(){"use strict";define("dataservices/dependent/providers/AffiliateProvider",["core/oop","core/Debug","lib/Promise","core/uriUtils","platform/dependent/Process","platform/dependent/SingleSignOn","dataservices/models/AffiliateModel","dataservices/dependent/MockServiceState","dataservices/dependent/providers/BatchProvider","dataservices/types/AuthenticatorImageSet","dataservices/types/UserProfileType","dataservices/DataServicesSettings","dataservices/types/NextSteps","dataservices/types/NextStepType"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("dataservices.dependent.providers.AffiliateProvider",[l,a],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({code:{get:function(){var e=this.id.split(":");return i.fulfilled(e[e.length-1])}},accountProviderIdentifierForPicker:{get:function(){return this._getProperty("accountProviderIdentifierForPicker")}},isSSOImplemented:{get:function(){return this._getProperty("isSSOImplemented")}},appleSSOMetadataQueryParams:{get:function(){return this._getProperty("appleSSOMetadataQueryParams")}},appleSSOFeatureListPickerOrder:{get:function(){return this._getProperty("appleSSOFeatureListPickerOrder")}},preferredOrder:{get:function(){return this._getProperty("preferredOrder")}},countryCode:{get:function(){return this._getProperty("countryCode")}},type:{get:function(){return this._getProperty("type")}},name:{get:function(){return this._getProperty("name")}},images:{get:function(){return i.props({logoUri:this._getProperty("logoUri"),gridUri:this._getProperty("gridUri")}).then(function(e){return c.new(e.logoUri,e.gridUri)})}},isLoginRedirect:{get:function(){return this._getProperty("isLoginRedirect")}},affiliateURL:{get:function(){var e=o.singleton.getReentryUri("/assets/html/iframe.hurley.html");return this.getRedirectUri(e)}},logoutURL:{get:function(){return this._getProperty("logoutUrl")}},userProfileType:{get:function(){return this._getProperty("userProfileType")}},windowWidth:{get:function(){return this._getProperty("windowWidth")}},windowHeight:{get:function(){return this._getProperty("windowHeight")}},hasSubAccounts:{get:function(){return this._getProperty("hasSubAccounts")}},inheritParentalControls:{get:function(){return this._getProperty("inheritParentalControls")}},manageParentalControlsUrl:{get:function(){return this._getProperty("manageParentalControlsUrl")}},isReauthenticationRequiredOnNewBrowserSession:{get:function(){return this._getProperty("isReauthenticationRequiredOnNewBrowserSession")}},doesSupportThisClient:{get:function(){return this._getProperty("doesSupportThisClient")}},supportsDeviceToBeActivated:{get:function(){return this._getProperty("supportsDeviceToBeActivated")}}}),e.methods({getRedirectUri:function(e){e=n.addOrReplaceQueryParam(e,"reentered","true");var t=this;return s.singleton.tryGetModelData(this.id).then(function(i){return i&&i.userCreds&&(i.userCreds,i.userCreds,e=n.addOrReplaceQueryParam(e,"automation",i.userCreds)),t._getProperty("userProfileType").then(function(t){return t===d.LITE&&(e=n.addOrReplaceQueryParam(e,"userProfileType",t)),e}).then(function(e){return t._getProperty("loginUrl").then(function(t){return n.addOrReplaceQueryParam(t,"clientRelayState",encodeURIComponent(e))})})})},_getProperty:function(e){var i=this;return s.singleton.tryGetModelData(this.id).then(function(n){return n&&n.hasOwnProperty(e)?n[e]:t._getProperty.call(i,e)})},_parseBody:function(e){var t,i,n,o,a=e.getChunk(["unsupportedClientIds"],!0),s=void 0===a?[]:a.rawJson,l=-1===s.indexOf(u.singleton.servicesId),c=e.getChunk(["unsupportedDeviceTypes"],!0),d=void 0===c?[]:c.rawJson,g=!0;if(p.singleton.step===h.PERFORM_ACTION&&"clientFeature.mvpdPicker"===p.singleton.automaticAction.action&&(g=-1===d.indexOf(p.singleton.automaticAction.data.ctvDeviceCode)),!0===r.singleton.doesSupportStoredCreds()&&(t=e.getString(["sso","accountProviderIdentifierForPicker"],!0),i=e.getBoolean(["sso","isSsoImplemented"],!0),o=e.getInt(["appleSSOFeatureListPickerOrder"],!0),void 0!==t)){var f=e.getString(["references","sso"],!0);n=this._getModel(f)}return{countryCode:e.getString(["region"]),type:e.getString(["authenticatorType"]),name:e.getString(["name"]),logoUri:e.getString(["images","logo"]),gridUri:e.getString(["images","signupGrid"]),preferredOrder:e.getInt(["displayGridSortOrder"],!0),isLoginRedirect:e.getBoolean(["isLoginRedirect"],!0)&&g,loginUrl:e.getString(["loginUrl"],!0),userProfileType:e.getString(["userProfileType"],!0),windowWidth:e.getInt(["loginWindowSize","windowWidth"],!0),windowHeight:e.getInt(["loginWindowSize","windowHeight"],!0),hasSubAccounts:e.getBoolean(["isSubAccountsSupported"],!0),inheritParentalControls:e.getBoolean(["isAffiliateManagedParentalControls"],!0),manageParentalControlsUrl:e.getString(["affiliateManagedParentalControlsUrl"],!0),isReauthenticationRequiredOnNewBrowserSession:e.getBoolean(["isReauthenticationRequiredOnNewBrowserSession"],!0),logoutUrl:e.getString(["logoutUrl"],!0),accountProviderIdentifierForPicker:t,isSSOImplemented:i,appleSSOFeatureListPickerOrder:o,appleSSOMetadataQueryParams:n,doesSupportThisClient:l,supportsDeviceToBeActivated:g}}})})})}(),function(){"use strict";define("dataservices/models/BillingInformationModel",["core/oop","dataservices/models/ServiceModel"],function(e,t){return e.interfaceDef("dataservices.models.BillingInformationModel",[t],function(){e.properties({appStoreLinkText:{get:void 0},appStoreLinkUri:{get:void 0},billingInformationMessage:{get:void 0},paymentMethodMessage:{get:void 0},showPaymentMethod:{get:void 0},paymentMethodEditable:{get:void 0},autoRenewOnMessage:{get:void 0},autoRenewOffMessage:{get:void 0},autoRenew:{get:void 0},autoRenewToggleable:{get:void 0},eligibleForFreeTrial:{get:void 0},mitigationMode:{get:void 0},redirectOnRenewal:{get:void 0}})})})}();!function(){"use strict";define("dataservices/dependent/providers/BillingInformationProvider",["core/oop","core/Debug","dataservices/dependent/uris","dataservices/models/BillingInformationModel","dataservices/dependent/providers/BatchProvider","dataservices/dependent/ServiceHttpClient","dataservices/dependent/ServiceUtils"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.dependent.providers.BillingInformationProvider",[o,n],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({appStoreLinkText:{get:function(){return this._getProperty("appStoreLinkText")}},appStoreLinkUri:{get:function(){return this._getProperty("appStoreLinkUri")}},billingInformationMessage:{get:function(){return this._getProperty("billingInformationMessage")}},paymentMethodMessage:{get:function(){return this._getProperty("paymentMethodMessage")}},showPaymentMethod:{get:function(){return this._getProperty("showPaymentMethod")}},paymentMethodEditable:{get:function(){return this._getProperty("paymentMethodEditable")}},autoRenewOnMessage:{get:function(){return this._getProperty("autoRenewOnMessage")}},autoRenewOffMessage:{get:function(){return this._getProperty("autoRenewOffMessage")}},autoRenew:{get:function(){return this._getProperty("autoRenew")}},autoRenewToggleable:{get:function(){return this._getProperty("autoRenewToggleable")}},eligibleForFreeTrial:{get:function(){return this._getProperty("eligibleForFreeTrial")}},mitigationMode:{get:function(){return this._getProperty("mitigationMode")}},redirectOnRenewal:{get:function(){return this._getProperty("redirectOnRenewal")}}}),e.methods({_parseBody:function(e){return{appStoreLinkText:e.getString(["appstoreLinkText"],!0),appStoreLinkUri:e.getString(["appstoreLinkUri"],!0),billingInformationMessage:e.getString(["billingInformationMessage"],!0),paymentMethodMessage:e.getString(["paymentMethodMessage"],!0),showPaymentMethod:e.getBoolean(["showPaymentMethod"],!0),paymentMethodEditable:e.getBoolean(["paymentMethodEditable"],!0),autoRenewOnMessage:e.getString(["autoRenewOnMessage"],!0),autoRenewOffMessage:e.getString(["autoRenewOffMessage"],!0),autoRenew:e.getBoolean(["autoRenew"],!0),autoRenewToggleable:e.getBoolean(["autoRenewToggleable"],!0),eligibleForFreeTrial:e.getBoolean(["eligibleForFreeTrial"],!0),mitigationMode:e.getString(["mitigationMode"],!0),redirectOnRenewal:e.getBoolean(["redirectOnRenewal"],!0)}},_writeProperties:function(e,t){return t.autoRenew,JSON.stringify(t),Object.keys(t).length,JSON.stringify(t),r.singleton.patch(i.updateAutoRenew,void 0,JSON.stringify({autoRenew:t.autoRenew}),!0).catch(a.singleton.handleDataException.bind(a.singleton))}})})})}(),function(){"use strict";define("dataservices/models/PaymentMetadataModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.PaymentMetadataModel",t,function(){e.properties({logoImageUrl:{get:void 0},storeName:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/PaymentMetadataProvider",["core/oop","dataservices/dependent/ServiceUtils","dataservices/dependent/providers/BatchProvider","dataservices/models/PaymentMetadataModel","platform/StoreWrapper"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.providers.PaymentMetadataProvider",[i,n],function(i){e.constructor(function(e){var n=o.singleton.getStore();this._urn=t.singleton.getURNForPaymentMetadata(n.storeType),i.$ctor.call(this,e)}),e.properties({_urn:void 0,logoImageUrl:{get:function(){return this._getProperty("logoImageUrl")}},storeName:{get:function(){return this._getProperty("storeName")}}}),e.methods({_getServiceId:function(){return this._urn},_parseBody:function(e){return{logoImageUrl:e.getString(["logoImageUrl"],!0),storeName:e.getString(["storeName"])}}})})})}(),function(){"use strict";define("dataservices/models/EntitlementModel",["core/oop","dataservices/models/ServiceModel"],function(e,t){return e.interfaceDef("dataservices.models.EntitlementModel",[t],function(){e.properties({entitled:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/EntitlementProvider",["core/oop","dataservices/models/EntitlementModel","dataservices/dependent/providers/BatchProvider"],function(e,t,i){return e.classDef("dataservices.dependent.providers.EntitlementProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({entitled:{get:function(){return this._getProperty("entitled")}}}),e.methods({_parseBody:function(e){return{entitled:e.getBoolean(["entitled"],!0)}}})})})}(),function(){"use strict";define("dataservices/types/ImageLink",["core/oop"],function(e){return e.classDef("dataservices.types.ImageLink",Object,function(){e.constructor(function(e,t){this._imageUri=e,this._actionUri=t}),e.properties({imageUri:{defaultValue:void 0,privateSet:!0},actionUri:{defaultValue:void 0,privateSet:!0}})})})}(),function(){"use strict";define("dataservices/models/WallModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.WallModel",t,function(){e.properties({backgroundImageUrl:{get:void 0},headline:{get:void 0}})})})}(),function(){"use strict";define("dataservices/models/PaywallModel",["core/oop","dataservices/models/WallModel"],function(e,t){return e.interfaceDef("dataservices.models.PaywallModel",t,function(){e.properties({paywallType:{get:void 0},paywallName:{get:void 0},backgroundImageUrl:{get:void 0},logoImageUrl:{get:void 0},greetingLine:{get:void 0},headline:{get:void 0},body1:{get:void 0},body2:{get:void 0},callsToAction:{get:void 0},footer:{get:void 0},appStoreImageLinks:{get:void 0},menuItemTitle:{get:void 0},disclosures:{get:void 0},redirectUrl:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/WallProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/WallModel","dataservices/dependent/ServiceUtils"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.WallProvider",[t,i],function(t){e.constructor(function(e){void 0!==this._wallMap[e]&&(e=this._wallMap[e]),t.$ctor.call(this,e)}),e.properties({backgroundImageUrl:{get:function(){return this._getProperty("backgroundImageUrl")}},headline:{get:function(){return this._getProperty("headline")}},_wallMap:{get:function(){return{DemoSplashScreen:n.singleton.Ids.DEMO_SPLASH_SCREEN}}}}),e.methods({_parseBody:function(e){return{backgroundImageUrl:e.getString(["backgroundImageUrl"],!0),headline:e.getString(["headline"],!0)}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/PaywallProvider",["core/oop","dataservices/types/ImageLink","dataservices/types/CallToAction","dataservices/models/PaywallModel","dataservices/dependent/ServiceUtils","dataservices/dependent/providers/WallProvider","lib/lodash/objects/assign"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.dependent.providers.PaywallProvider",[r,n],function(n){e.singleton(function(){n.$ctor.call(this,o.singleton.Ids.PAYWALL)}),e.properties({paywallType:{get:function(){return this._getProperty("paywallType")}},paywallName:{get:function(){return this._getProperty("paywallName")}},logoImageUrl:{get:function(){return this._getProperty("logoImageUrl")}},greetingLine:{get:function(){return this._getProperty("greetingLine")}},body1:{get:function(){return this._getProperty("body1")}},body2:{get:function(){return this._getProperty("body2")}},callsToAction:{get:function(){return this._getProperty("callsToAction")}},footer:{get:function(){return this._getProperty("footer")}},appStoreImageLinks:{get:function(){return this._getProperty("appStoreImageLinks")}},menuItemTitle:{get:function(){return this._getProperty("menuItemTitle")}},disclosures:{get:function(){return this._getProperty("disclosures")}},redirectUrl:{get:function(){return this._getProperty("redirectUrl")}}}),e.methods({_parseBody:function(e){var t=n._parseBody.call(this,e);return a(t,{paywallType:e.getString(["paywallType"],!0),paywallName:e.getString(["paywallName"],!0),logoImageUrl:e.getString(["logoImageUrl"],!0),greetingLine:e.getString(["greetingLine"],!0),body1:e.getString(["body1"],!0),body2:e.getString(["body2"],!0),callsToAction:this._getCollection(e.getChunk(["callsToAction"],!0),this._convertCallToAction),footer:e.getString(["footer"],!0),appStoreImageLinks:this._getCollection(e.getChunk(["appStoreImages"],!0),this._convertImageLink),menuItemTitle:e.getString(["menuItemTitle"],!0),disclosures:e.getString(["disclosures"],!0),redirectUrl:e.getString(["redirectUrl"],!0)})},_convertImageLink:function(e){return t.new(e.imageUrl,e.action)},_convertCallToAction:function(e){var t;return void 0!==e.skuPrice&&(t=e.skuPrice.toString()),i.new({title:e.title,action:e.action,sku:e.sku,skuDescription:e.skuDescription,skuPrice:t,skuCurrencyCode:e.skuCurrencyCode,appId:e.appId})}})})})}(),function(){"use strict";define("dataservices/models/ServicePageModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ServicePageModel",t,function(){e.properties({uri:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ServicePageProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/ServicePageModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.ServicePageProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({uri:{get:function(){return this._getProperty("uri")}}}),e.methods({_parseBody:function(e){return{uri:e.getString(["url"])}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/AffiliateListProvider",["core/oop","dataservices/dependent/ServiceUtils","dataservices/dependent/providers/BatchProvider","dataservices/models/AffiliateListModel"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.AffiliateListProvider",[i,n],function(i){e.constructor(function(e){i.$ctor.call(this,e)}),e.properties({affiliates:{get:function(){return this._getProperty("affiliates")}},deepLinkUriPath:{get:function(){return"/login"}},_affiliatePageSize:{defaultValue:6}}),e.methods({_getServiceId:function(){return t.singleton.Ids.AUTHENTICATORS},_parseBody:function(e){return{affiliates:this._getModelCollection(e.getChunk(["references","items"]),this._affiliatePageSize)}}})})})}(),function(){"use strict";define("dataservices/models/SingleSignOnQueryModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.SingleSignOnQueryModel",t,function(){e.properties({verificationToken:{get:void 0},attributeNames:{get:void 0},channelIdentifier:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/SingleSignOnQueryProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/SingleSignOnQueryModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.SingleSignOnQueryProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({verificationToken:{get:function(){return this._getProperty("verificationToken")}},attributeNames:{get:function(){return this._getProperty("attributeNames")}},channelIdentifier:{get:function(){return this._getProperty("channelIdentifier")}}}),e.methods({_parseBody:function(e){var t=e.getChunk(["attributeNames"],!0),i=void 0===t?void 0:t.rawJson;return{verificationToken:e.getString(["verificationToken"],!0),channelIdentifier:e.getString(["channelIdentifier"],!0),attributeNames:i}}})})})}(),function(){"use strict";define("dataservices/models/UserModel",["core/oop","dataservices/models/ServiceModel"],function(e,t){return e.interfaceDef("dataservices.models.UserModel",[t],function(){e.properties({userId:{get:void 0},displayName:{get:void 0},firstName:{get:void 0},lastName:{get:void 0},emailAddress:{get:void 0},password:{get:void 0},phoneNumber:{get:void 0},preferredUiLanguage:{get:void 0},countryCode:{get:void 0},zipCode:{get:void 0},userProfileType:{get:void 0},status:{get:void 0},affiliate:{get:void 0},affiliateToken:{get:void 0},isHBOSubscriber:{get:void 0},isMAXSubscriber:{get:void 0},marketingOptIn:{get:void 0},hasSetPin:{get:void 0},masterId:{get:void 0},isSubAccount:{get:void 0},primaryRating:{get:void 0},subRating:{get:void 0},mergedRating:{get:void 0},activationDate:{get:void 0},continueWatchingEnabled:{get:void 0},logoutUri:{get:void 0},billingInfo:{get:void 0},entitlementStatus:{get:void 0},externalIds:{get:void 0}}),e.methods({setContinueWatchingEnabled:void 0,checkAuthentication:void 0})})})}(),function(){"use strict";define("dataservices/types/UserStatus",["core/oop"],function(e){return e.enumDef("dataservices.types.UserStatus",{ACTIVE:"ACTIVE",ANONYMOUS:"ANONYMOUS"})})}(),function(){"use strict";define("dataservices/dependent/providers/UserProvider",["core/oop","core/Exception","dataservices/models/UserModel","dataservices/types/UserProfileType","dataservices/types/UserStatus","dataservices/dependent/uris","dataservices/dependent/providers/BatchProvider","lib/Promise","dataservices/authentication/AuthenticationManager","core/data/ModelFactory","dataservices/dependent/ServiceUtils","dataservices/dependent/ServiceHttpClient","core/logging/ObjectLogEntry","lib/lodash/objects/forOwn","lib/lodash/objects/pick","core/Debug","application/ClientDevice","core/logging/SimpleLogEntry","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y){return e.classDef("dataservices.dependent.providers.UserProvider",[a,i],function(i){e.singleton(function(){i.$ctor.call(this,d.singleton.Ids.USER),this._editableUserProperties=["displayName","firstName","lastName","emailAddress","password","zipCode","phoneNumber","preferredUiLanguage"],this._editableSettingsProperties=["masterPin","hasSetPin","marketingOptIn","primaryRating","subRating"],this._requireAuth=!0,this._forwardPCChanged()}),e.properties({_editableUserProperties:void 0,_editableSettingsProperties:void 0,userId:{get:function(){return this._getAuthenticatedProperty("userId","")}},displayName:{get:function(){return this._getAuthenticatedProperty("displayName","")}},firstName:{get:function(){return this._getAuthenticatedProperty("firstName")}},lastName:{get:function(){return this._getAuthenticatedProperty("lastName")}},emailAddress:{get:function(){return this._getAuthenticatedProperty("emailAddress","")}},password:{get:function(){return this._getAuthenticatedProperty("password","")}},phoneNumber:{get:function(){return this._getAuthenticatedProperty("phoneNumber")}},countryCode:{get:function(){return this._getAuthenticatedProperty("countryCode")}},zipCode:{get:function(){return this._getAuthenticatedProperty("zipCode","")}},preferredUiLanguage:{get:function(){return this._getAuthenticatedProperty("preferredUiLanguage")}},userProfileType:{get:function(){return this._getAuthenticatedProperty("userProfileType",n.FULL)}},status:{get:function(){return this._getAuthenticatedProperty("status",o.ACTIVE)}},affiliate:{get:function(){return this._getAuthenticatedProperty("affiliate")}},billingInfo:{get:function(){return this._getAuthenticatedProperty("billingInfo")}},entitlementStatus:{get:function(){return this._getAuthenticatedProperty("entitlementStatus")}},affiliateToken:{get:function(){return this._getAuthenticatedProperty("affiliateToken","")}},isHBOSubscriber:{get:function(){return this._getAuthenticatedProperty("isHBOSubscriber",!1)}},isMAXSubscriber:{get:function(){return this._getAuthenticatedProperty("isMAXSubscriber",!1)}},masterId:{get:function(){return this._getAuthenticatedProperty("masterId")}},isSubAccount:{get:function(){return this._getAuthenticatedProperty("isSubAccount",!1)}},externalIds:{get:function(){return this._getAuthenticatedProperty("externalIds")}},logoutUri:{get:function(){return this._getUserLogoutUri()}},activationDate:{get:function(){return this._getDeviceProperty("activationDate")}},marketingOptIn:{get:function(){return this._getSettingsProperty("marketingOptIn")}},hasSetPin:{get:function(){return this._getSettingsProperty("hasSetPin")}},primaryRating:{get:function(){return this._getSettingsProperty("primaryRating")}},subRating:{get:function(){return this._getSettingsProperty("subRating")}},mergedRating:{get:function(){return this._getSettingsProperty("mergedRating")}},continueWatchingEnabled:{get:function(){return this._getSettingsProperty("continueWatchingEnabled")}}}),e.events(["parentalControlsChanged","continueWatchingSettingChanged"]),e.methods({_forwardPCChanged:function(){this._getSettingsModel().parentalControlsChanged.on(this._onParentalControlsChanged.bind(this))},checkAuthentication:function(){return s.fulfilled(l.singleton.isAuthenticated)},_getAuthenticatedProperty:function(e,t){var i=this;return l.singleton.login().then(function(n){return!0===n?i._getProperty(e):s.fulfilled(t)})},_getUserLogoutUri:function(){return l.singleton.isAuthenticated,this.affiliate.then(function(e){return void 0===e?void 0:e.logoutURL.then(function(e){return u.singleton.get(e,void 0,!0).then(function(e){var i=e.json.rawJson;if(p.new({objectId:1,stack:[],objectData:i}).log(),"iFrame"!==i.logoutType)throw t.new({message:"Unknown logoutType: "+i.logoutType,area:"dataservices.dependent.providers._getUserLogoutUri",contextualData:i});return i.iFramelogoutUrl,i.iFramelogoutUrl})})})},resetCache:function(){i.resetCache.apply(this,arguments),this._getSettingsModel().resetCache()},_getSettingsModel:function(){return c.singleton.create("UserSettings",d.singleton.Ids.USER_SETTINGS)},setContinueWatchingEnabled:function(e){var t=this;return this._getSettingsModel().setContinueWatchingEnabled(e).then(function(){return t._onContinueWatchingSettingChanged(e),v.new({eventType:_.WATCHLIST,eventSubtype:y.WATCHLIST_TOGGLE_CONTINUE_WATCHING,area:"dataservices.dependant.providers.setContinueWatchingEnabled",payload:{newState:e}}).log(),e})},_getDeviceProperty:function(e){var t="urn:hbo:device:"+m.singleton.serial;return c.singleton.create("Device",t)[e]},_getSettingsProperty:function(e){return this._getSettingsModel()[e]},_undefinedToNull:function(e){return void 0===e?null:e},_writeProperties:function(e,t){var i=this;h(t,function(e,t){i._editableUserProperties.indexOf(t)});var n={};return[{from:"displayName",to:"username",nullify:!1},{from:"firstName",to:"firstName",nullify:!0},{from:"lastName",to:"lastName",nullify:!0},{from:"emailAddress",to:"email",nullify:!0},{from:"password",to:"password",nullify:!0},{from:"zipCode",to:"zipCode",nullify:!0},{from:"phoneNumber",to:"phoneNumber",nullify:!0},{from:"preferredUiLanguage",to:"preferredUiLanguage",nullify:!0}].forEach(function(e){t.hasOwnProperty(e.from)&&(n[e.to]=e.nullify?this._undefinedToNull(t[e.from]):t[e.from])}.bind(this)),u.singleton.patch(r.users+"/me",void 0,JSON.stringify(n),!0).catch(d.singleton.handleDataException.bind(d.singleton))},commitChange:function(e){l.singleton.isAuthenticated;var t=this._editableUserProperties.concat(this._editableSettingsProperties);h(e,function(e,i){t.indexOf(i)});var n=g(e,this._editableUserProperties),o=g(e,this._editableSettingsProperties);if(this._isEmpty(n),this._isEmpty(o),this._isEmpty(n)){return this._getSettingsModel().commitChange(o)}return i.commitChange.call(this,n)},_parseBody:function(e){return{userId:e.getString(["userId"]),displayName:e.getString(["displayName"],!0),firstName:e.getString(["firstName"],!0),lastName:e.getString(["lastName"],!0),emailAddress:e.getString(["emailAddress"],!0),phoneNumber:e.getString(["phoneNumber"],!0),countryCode:e.getString(["countryCode"],!0),zipCode:e.getString(["zipCode"],!0),preferredUiLanguage:e.getString(["preferredUiLanguage"],!0),userProfileType:e.getString(["userProfileType"],!0),status:e.getString(["status"],!0),affiliate:this._getModel(e.getString(["references","authenticator"])),billingInfo:this._getModel(e.getString(["references","billingStatus"],!0)),entitlementStatus:this._getModel(e.getString(["references","entitlementStatus"],!0)),affiliateToken:e.getString(["authenticatorToken"]),isHBOSubscriber:e.getBoolean(["isHBOSubscriber"],!0,!0),isMAXSubscriber:e.getBoolean(["isMAXSubscriber"],!0,!0),masterId:e.getString(["masterId"]),isSubAccount:e.getBoolean(["isSubAccount"]),settingsId:e.getString(["references","settings"]),externalIds:this._getModel(e.getString(["references","externalIds"],!0))}},_isEmpty:function(e){return 0===Object.keys(e).length}})})})}(),function(){"use strict";define("dataservices/dependent/providers/DocumentProvider",["core/oop","core/data/DocumentModel","dataservices/dependent/providers/BatchProvider"],function(e,t,i){return e.classDef("dataservices.dependent.providers.DocumentProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({text:{get:function(){return this._getProperty("text")}}}),e.methods({_parseBody:function(e){return{text:e.getString(["text"])}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/PrivacyPolicyProvider",["core/oop","dataservices/dependent/providers/DocumentProvider","dataservices/dependent/ServiceUtils"],function(e,t,i){return e.classDef("dataservices.dependent.providers.PrivacyPolicyProvider",t,function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.methods({_getServiceId:function(){return i.singleton.Ids.PRIVACY_POLICY}})})})}(),function(){"use strict";define("dataservices/dependent/providers/TermsOfServiceProvider",["core/oop","dataservices/dependent/providers/DocumentProvider","dataservices/dependent/ServiceUtils"],function(e,t,i){return e.classDef("dataservices.dependent.providers.TermsOfServiceProvider",t,function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.methods({_getServiceId:function(){return i.singleton.Ids.TERMS_OF_SERVICE}})})})}(),function(){"use strict";define("dataservices/dependent/providers/FaqMenuProvider",["core/oop","lib/Promise","dataservices/dependent/providers/MenuProvider","dataservices/dependent/ServiceUtils","dataservices/types/MenuPurpose"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.providers.FaqMenuProvider",[i],function(i){e.constructor(function(e){i.$ctor.call(this,e)}),e.methods({_getServiceId:function(){return n.singleton.Ids.FAQ}}),e.properties({_itemsPageSize:{defaultValue:32},purpose:{get:function(){return t.fulfilled(o.FAQ)}}})})})}(),function(){"use strict";define("dataservices/models/FaqModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.FaqModel",t,function(){e.properties({question:{get:void 0},answer:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/FaqProvider",["core/oop","dataservices/models/FaqModel","dataservices/dependent/providers/BatchProvider"],function(e,t,i){return e.classDef("dataservices.dependent.providers.FaqProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({question:{get:function(){return this._getProperty("question")}},answer:{get:function(){return this._getProperty("answer")}}}),e.methods({_parseBody:function(e){return{question:e.getString(["question"]),answer:e.getString(["answer"])}}})})})}(),function(){"use strict";define("dataservices/models/LegalModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.LegalModel",t,function(){e.properties({privacyPolicy:{get:void 0},termsOfService:{get:void 0}})})})}(),function(){"use strict";define("dataservices/providers/LegalProvider",["core/oop","lib/Promise","core/data/ModelFactory","core/data/Provider","dataservices/models/LegalModel"],function(e,t,i,n,o){return e.classDef("dataservices.providers.LegalProvider",[n,o],function(n){e.constructor(function(e){n.$ctor.call(this,e)}),e.properties({
privacyPolicy:{get:function(){return t.fulfilled(i.singleton.create("PrivacyPolicy","PrivacyPolicy"))}},termsOfService:{get:function(){return t.fulfilled(i.singleton.create("TermsOfService","TermsOfService"))}}})})})}(),function(){"use strict";define("dataservices/models/SeriesMarkerMapModel",["core/oop","dataservices/models/ServiceModel"],function(e,t){return e.interfaceDef("dataservices.models.SeriesMarkerMapModel",[t],function(){e.properties({seriesMarkerMap:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/SeriesMarkerMapProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/SeriesMarkerMapModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.SeriesMarkerMapProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._requireAuth=!1}),e.properties({seriesMarkerMap:{get:function(){return this._getProperty("seriesMarkerMap")}}}),e.methods({_parseBody:function(e){return{seriesMarkerMap:e.getChunk(["seriesMarkers"]).rawJson}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/BaseLoginProvider",["core/oop","lib/Promise","core/data/Provider","dataservices/models/AuthenticationStatusModel","core/uriUtils","dataservices/dependent/ErrorCodeUtils","dataservices/dependent/uris","dataservices/activation/AuthenticationStatus","dataservices/dependent/ServiceHttpClient","dataservices/types/LoginInfoFlag","core/Exception","dataservices/authentication/AuthenticationException","dataservices/dependent/types/LoginInfo","engine/dependent/Time","dataservices/types/NextSteps","dataservices/types/TokenScopes","dataservices/types/TokenScopeType"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m){return e.classDef("dataservices.dependent.providers.BaseLoginProvider",[i,n],function(n){e.constructor(function(e){n.$ctor.call(this,e),this._uri=o.format(a.getTokens)}),e.properties({_queryPromise:void 0,_uri:void 0,_useUserInfo:{defaultValue:!1},cacheable:{defaultValue:!1,readOnlyField:!0},status:{get:i.implementProperty("status")},loginInfo:{get:i.implementProperty("loginInfo")}}),e.methods({_getBody:function(){},_getHeader:function(){return t.fulfilled(void 0)},_queryService:function(){var e=this;return t.props({header:e._getHeader(),body:e._getBody()}).then(function(i){return l.singleton.post(e._uri,i.header,JSON.stringify(i.body),e._useUserInfo).then(function(i){try{return e._handleResult(i.json)}catch(e){if(!0===r.shouldWrapRejection(e))return t.reject(d.wrap(e,{message:"Error processing response in BaseLoginProvider",area:"dataservices.dependent.providers.BaseLoginProvider._handleResult"},u));throw e}})})},_getData:function(e){return this._queryPromise=this._queryPromise||this._queryService(),this._queryPromise.then(function(t){return t[e]})},_handleResult:function(e){var t=e.getString(["scope"]),i=s.SUCCESS;if(f.singleton.isScoped(t,m.ACCOUNT_REGISTRATION)&&(i=s.NEEDS_REGISTRATION),e.hasPath(["nextStepsPayload"])){var n=e.getChunk(["nextStepsPayload"]);g.singleton.setData(n)}var o=p.new({tokenType:e.getString(["token_type"]),accessToken:e.getString(["access_token"]),refreshToken:e.getString(["refresh_token"]),accessExpiration:h.singleton.now()+1e3*e.getInt(["expires_in"])});return o.setFlag(c.ACCOUNT_MANAGEMENT,f.singleton.isScoped(t,m.ELEVATED_ACCOUNT_MANAGEMENT)),{status:i,loginInfo:o}}})})})}(),function(){"use strict";define("dataservices/models/AffiliateStatusModel",["core/oop","dataservices/models/AuthenticationStatusModel"],function(e,t){return e.interfaceDef("dataservices.models.AffiliateStatusModel",t,function(){e.methods({setAffiliateResponse:void 0})})})}(),function(){"use strict";define("dataservices/dependent/providers/WebLoginProvider",["core/oop","core/Debug","dataservices/dependent/providers/BaseLoginProvider","dataservices/models/AffiliateStatusModel","dataservices/types/GrantType","core/Startup","dataservices/types/TokenScopes","dataservices/types/UserProfileType","dataservices/types/LoginInfoFlag","dataservices/activation/AuthenticationStatus","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("dataservices.dependent.providers.WebLoginProvider",[i,n],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({_tokensData:void 0,_isLiteProfileAffiliate:void 0,_useUserInfo:{get:function(){}},enableMvpdRelinking:{defaultValue:!1}}),e.methods({setAffiliateResponse:function(e){this._tokensData=JSON.parse(e.postToTokensPayload),this._isLiteProfileAffiliate=e.userProfileType===s.LITE,this._tokensData.grant_type},_getBody:function(){var e=this;return r.singleton.ready.then(function(){return d.singleton.serial,e._tokensData.serialNumber=d.singleton.serial,e._tokensData.scope=e._tokensData.grant_type===o.USER_RESET_TOKEN?a.singleton.ResetScope:a.singleton.RegistrationUserScope,e._tokensData})},_getData:function(){return this._tokensData,t._getData.apply(this,arguments)},_handleResult:function(){var e=t._handleResult.apply(this,arguments);return e.status===c.NEEDS_REGISTRATION&&!0===this._isLiteProfileAffiliate&&e.loginInfo.setFlag(l.USER_PROFILE_TYPE,s.LITE),e}})})})}(),function(){"use strict";define("dataservices/dependent/providers/SingleSignOnLoginProvider",["core/oop","core/Debug","lib/Promise","dataservices/types/LoginInfoFlag","dataservices/types/GrantType","dataservices/dependent/providers/BaseLoginProvider","dataservices/dependent/ServiceUtils","dataservices/models/AffiliateStatusModel","dataservices/types/TokenScopes"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.dependent.providers.SingleSignOnLoginProvider",[r,s],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({_tokensData:void 0,_ssoToken:void 0}),e.methods({setAffiliateResponse:function(e){e.samlResp,e.samlResp,e.affiliateCode,e.affiliateCode,e.ssoToken,e.ssoToken,this._tokensData={appleSsoMetadata:e.samlResp,authenticatorCode:e.affiliateCode,grant_type:a.singleton.mapGrantType(o.USER_APPLE_SSO),scope:l.singleton.RegistrationUserScope},this._ssoToken=e.ssoToken},_getBody:function(){return i.fulfilled(this._tokensData)},_getData:function(){return this._tokensData,t._getData.apply(this,arguments)},_getProperty:function(e){var i=this;return t._getProperty.call(this,e).then(function(t){return"loginInfo"===e&&t.setFlag(n.SSO,i._ssoToken),t})}})})})}(),function(){"use strict";define("dataservices/models/CredentialsLoginModel",["core/oop","dataservices/models/AuthenticationStatusModel"],function(e,t){return e.interfaceDef("dataservices.models.CredentialsLoginModel",t,function(){e.methods({setCredentials:void 0,setLoginType:void 0})})})}(),function(){"use strict";define("dataservices/types/OttLoginType",["core/oop"],function(e){return e.enumDef("dataservices.types.OttLoginType",["PASSWORD_CHALLENGE","LOGIN","LINK"])})}(),function(){"use strict";define("dataservices/dependent/providers/OttLoginProvider",["core/oop","core/Debug","lib/Promise","dataservices/authentication/AuthenticationManager","dataservices/dependent/providers/BaseLoginProvider","dataservices/models/CredentialsLoginModel","dataservices/types/TokenScopes","dataservices/dependent/ServiceUtils","dataservices/types/GrantType","dataservices/types/OttLoginType"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("dataservices.dependent.providers.OttLoginProvider",[o,r],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({_username:void 0,_password:void 0,_loginType:{defaultValue:c.LOGIN}}),e.methods({setLoginType:function(e){this._loginType=e,this._useUserInfo=this._loginType===c.PASSWORD_CHALLENGE},setCredentials:function(e,t){this._username=e,this._password=t},_getGrantType:function(){var e=l.USER_OTT_LOGIN;switch(this._loginType){case c.PASSWORD_CHALLENGE:e=l.USER_OTT_PASSWORD_CHALLENGE}return e},_getBody:function(){return i.fulfilled({grant_type:s.singleton.mapGrantType(this._getGrantType()),scope:a.singleton.ElevatedUserScope,username:this._username,password:this._password})},_getHeader:function(){if(this._loginType!==c.LINK)return i.fulfilled(void 0);var e=n.singleton.getRegistrationInfo(),t=[{header:"Authorization",value:e.tokenType+" "+e.accessToken}];return i.fulfilled(t)},_getData:function(){return void 0!==this._username&&this._password,t._getData.apply(this,arguments)}})})})}(),function(){"use strict";define("dataservices/dependent/providers/HiltonLoginProvider",["core/oop","lib/Promise","dataservices/dependent/providers/BaseLoginProvider","dataservices/dependent/ServiceUtils","dataservices/types/GrantType"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.providers.HiltonLoginProvider",[i],function(i){e.constructor(function(e){i.$ctor.call(this,e)}),e.properties({_deviceData:void 0}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),i.initialize.apply(this,arguments),this._deviceData=e.deviceData},_getGrantType:function(){return o.USER_SITE_DEVICE_DATA},_getBody:function(){return t.fulfilled({grant_type:n.singleton.mapGrantType(this._getGrantType()),deviceData:this._deviceData,affiliateCode:"hilton"})}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ContinueWatchingMenuProvider",["core/oop","core/Exception","lib/Promise","core/data/Provider","core/data/MenuModel","dataservices/ContentUnavailableException","dataservices/ContinueWatchingCache","dataservices/types/MenuPurpose","dataservices/types/MenuSortType"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.dependent.providers.ContinueWatchingMenuProvider",[n,o],function(n){e.constructor(function(e){n.$ctor.call(this,e)}),e.properties({title:{get:function(){return i.fulfilled()}},purpose:{get:function(){return i.fulfilled(s.CONTINUE_WATCHING)}},sortType:{get:function(){return i.fulfilled(l.CHRONOLOGICAL)}},images:{get:function(){return i.fulfilled()}},franchise:{get:function(){return i.fulfilled()}},linkTarget:{get:function(){return i.fulfilled()}},continuationItem:{get:function(){return i.fulfilled()}},items:{get:function(){return a.singleton.get().catch(function(e){throw t.wrap(e,{message:"failed to fetch ContinueWatchingCache",area:"dataservices.dependent.providers.ContinueWatchingMenuProvider._getData"},r)})}},showPCAdvisory:{get:function(){return i.fulfilled(!1)}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/RootNavigationMenuProvider",["core/oop","dataservices/dependent/providers/NavigationMenuProvider","dataservices/dependent/ServiceUtils","dataservices/JsonChunk","dataservices/DataServicesSettings"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.providers.RootNavigationMenuProvider",[t],function(t){e.singleton(function(){t.$ctor.call(this,"rootMenu")}),e.properties({items:{get:function(){return this._getLateNightRestrictedProperty("items","restrictedItems")}}}),e.methods({_getServiceId:function(){return i.singleton.Ids.ROOT_MENU},_parseBody:function(e){var r=t._parseBody.apply(this,arguments),a=e.getChunk(["references","items"]),s=n.new(a.rawJson.slice());!1===o.singleton.enableSignInSignOut&&this._removeItem(s,i.singleton.Ids.PREVIEW),!1===o.singleton.enableWatchlist&&this._removeItem(s,i.singleton.Ids.WATCHLIST_MENU),r.items=this._getModelCollection(s,this._itemsPageSize);var l=n.new(s.rawJson.slice());return this._removeItem(l,i.singleton.Ids.LATE_NIGHT),r.restrictedItems=this._getModelCollection(l,this._itemsPageSize),r},_removeItem:function(e,t){var i=e.rawJson.indexOf(t);-1!==i&&e.rawJson.splice(i,1)}})})})}(),function(){"use strict";define("dataservices/dependent/providers/PreviewAccountTileProvider",["core/oop","dataservices/dependent/providers/TileableProvider"],function(e,t){return e.classDef("dataservices.dependent.providers.PreviewAccountTileProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)})})})}(),function(){"use strict";define("dataservices/models/ClosedCaptioningSettingsModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ClosedCaptioningSettingsModel",t,function(){e.properties({displayProperties:{get:void 0}})})})}(),function(){"use strict";define("core/data/ExplicitMenuProvider",["core/oop","core/data/Provider","core/data/MenuModel","lib/Promise","core/ReadOnlyAsyncArray"],function(e,t,i,n,o){return e.classDef("core.data.ExplicitMenuProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({title:{get:function(){return n.fulfilled(this._title)}},items:{get:function(){return n.fulfilled(this._items)}},purpose:{get:function(){return n.fulfilled()}},sortType:{get:function(){return n.fulfilled()}},franchise:{get:function(){return n.fulfilled()}},images:{get:function(){return n.fulfilled()}},linkTarget:{get:function(){return n.fulfilled()}},continuationItem:{get:function(){return n.fulfilled()}},showPCAdvisory:{get:function(){return n.fulfilled(!1)}},_title:void 0,_items:void 0}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),t.initialize.apply(this,arguments),this._title=e.title;var i=e.items;Array.isArray(i)&&(i=o.new(i)),this._items=i}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ClosedCaptioningSettingsProvider",["core/oop","lib/Promise","dataservices/models/ClosedCaptioningSettingsModel","core/data/Provider","platform/common/ClosedCaptioningFont","platform/common/ClosedCaptioningColor","platform/common/ClosedCaptioningOpacity","platform/common/ClosedCaptioningStyle","platform/common/ClosedCaptioningSize","core/data/ExplicitValueProvider","core/data/ExplicitMenuProvider"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("dataservices.dependent.providers.ClosedCaptioningSettingsProvider",[n,i],function(i){e.constructor(function(e){i.$ctor.call(this,e),this._createDisplaySettings()}),e.properties({displayProperties:{get:function(){return t.fulfilled(this._displayProperties)}},_displayProperties:void 0}),e.methods({_createDisplaySettings:function(){var e=function(e,t){var i=d.new(e);return i.initialize({title:e,items:t}),i.factoryId=e,i},t=function(e,t){var i=[];return t.forEach(function(t,n){var o=c.new(n);o.initialize({value:t}),o.factoryId=e,i.push(o)}),i},i=t("ClosedCaptioningFontValue",o),n=t("ClosedCaptioningSizeValue",l),u=t("ClosedCaptioningStyleValue",s),p=t("ClosedCaptioningColorValue",r),h=t("ClosedCaptioningOpacityValue",a);this._displayProperties=e("ClosedCaptioningDisplaySettings",[e("ClosedCaptioningFont",i),e("ClosedCaptioningFontColor",p),e("ClosedCaptioningFontSize",n),e("ClosedCaptioningFontOpacity",h),e("ClosedCaptioningFontStyle",u),e("ClosedCaptioningBackgroundColor",p),e("ClosedCaptioningBackgroundOpacity",h),e("ClosedCaptioningWindowColor",p),e("ClosedCaptioningWindowOpacity",h)])}})})})}(),function(){"use strict";define("dataservices/providers/NextStepsWallProvider",["core/oop","core/data/Provider","dataservices/types/ImageLink","dataservices/types/CallToAction","dataservices/models/PaywallModel","dataservices/types/NextSteps","dataservices/IncrementalAsyncCollection","lib/Promise"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.providers.NextStepsWallProvider",[t,o],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._payload=this._parseBody(r.singleton.paywall)}),e.properties({backgroundImageUrl:{get:function(){return this._getProperty("backgroundImageUrl")}},headline:{get:function(){return this._getProperty("headline")}},paywallType:{get:function(){return this._getProperty("paywallType")}},paywallName:{get:function(){return this._getProperty("paywallName")}},logoImageUrl:{get:function(){return this._getProperty("logoImageUrl")}},greetingLine:{get:function(){return this._getProperty("greetingLine")}},body1:{get:function(){return this._getProperty("body1")}},body2:{get:function(){return this._getProperty("body2")}},callsToAction:{get:function(){return this._getProperty("callsToAction")}},footer:{get:function(){return this._getProperty("footer")}},appStoreImageLinks:{get:function(){return this._getProperty("appStoreImageLinks")}},menuItemTitle:{get:function(){return this._getProperty("menuItemTitle")}},disclosures:{get:function(){return this._getProperty("disclosures")}},redirectUrl:{get:function(){return this._getProperty("redirectUrl")}},_payload:void 0}),e.methods({_getData:function(e){return s.fulfilled(this._payload[e])},_parseBody:function(e){return{backgroundImageUrl:e.getString(["backgroundImageUrl"],!0),headline:e.getString(["headline"],!0),paywallType:e.getString(["paywallType"],!0),paywallName:e.getString(["paywallName"],!0),logoImageUrl:e.getString(["logoImageUrl"],!0),greetingLine:e.getString(["greetingLine"],!0),body1:e.getString(["body1"],!0),body2:e.getString(["body2"],!0),callsToAction:this._getCollection(e.getChunk(["callsToAction"],!0),this._convertCallToAction),footer:e.getString(["footer"],!0),appStoreImageLinks:this._getCollection(e.getChunk(["appStoreImages"],!0),this._convertImageLink),menuItemTitle:e.getString(["menuItemTitle"],!0),disclosures:e.getString(["disclosures"],!0),redirectUrl:e.getString(["redirectUrl"],!0)}},_getCollection:function(e,t){return e=e||{rawJson:[]},a.new(e.rawJson,function(e){return t(e)})},_convertImageLink:function(e){return i.new(e.imageUrl,e.action)},_convertCallToAction:function(e){var t;return void 0!==e.skuPrice&&(t=e.skuPrice.toString()),n.new({title:e.title,action:void 0!==e.actionHandler?e.actionHandler:e.action,data:e.actionData,sku:e.sku,skuDescription:e.skuDescription,skuPrice:t,skuCurrencyCode:e.skuCurrencyCode,appId:e.appId})}})})})}(),function(){"use strict";define("dataservices/providers/EnvironmentMenuProvider",["core/oop","lib/Promise","core/data/Provider","core/data/MenuModel","core/ReadOnlyAsyncArray","dataservices/dependent/EnvironmentUtils","dataservices/types/MenuPurpose","dataservices/types/MenuSortType"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.providers.EnvironmentMenuProvider",[i,n],function(n){e.constructor(function(e){n.$ctor.call(this,e);var t=r.getEnvironmentNames();this._data={title:"Environment",items:o.new(t)}}),e.properties({_data:void 0,title:{get:i.implementProperty("title")},items:{get:i.implementProperty("items")},franchise:{get:function(){return t.fulfilled()}},purpose:{get:function(){return t.fulfilled(a.ENVIRONMENT)}},sortType:{get:function(){return t.fulfilled(s.EDITORIAL)}},images:{get:function(){return t.fulfilled()}},showPCAdvisory:{get:function(){return t.fulfilled(!1)}},linkTarget:{get:function(){return t.fulfilled()}},continuationItem:{get:function(){return t.fulfilled()}}}),e.methods({_getData:function(e){return t.fulfilled(this._data[e])}})})})}(),function(){"use strict";define("dataservices/providers/LocaleOverrideMenuProvider",["core/oop","lib/Promise","core/data/Provider","core/data/MenuModel","core/ReadOnlyAsyncArray","dataservices/LocaleOverrideUtils","dataservices/types/MenuPurpose","dataservices/types/MenuSortType"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.providers.LocaleOverrideMenuProvider",[i,n],function(n){e.constructor(function(e){n.$ctor.call(this,e);var t=r.getLocaleOverrideNames();this._data={title:"LocaleOverride",items:o.new(t)}}),e.properties({_data:void 0,title:{get:i.implementProperty("title")},items:{get:i.implementProperty("items")},franchise:{get:function(){return t.fulfilled()}},purpose:{get:function(){return t.fulfilled(a.LOCALE_OVERRIDE)}},sortType:{get:function(){return t.fulfilled(s.EDITORIAL)}},images:{get:function(){return t.fulfilled()}},showPCAdvisory:{get:function(){return t.fulfilled(!1)}},linkTarget:{get:function(){return t.fulfilled()}},continuationItem:{get:function(){return t.fulfilled()}}}),e.methods({_getData:function(e){return t.fulfilled(this._data[e])}})})})}(),function(){"use strict";define("dataservices/dependent/providers/TileProvider",["core/oop","dataservices/dependent/ServiceUtils","core/data/Provider","dataservices/dependent/providers/TileableProvider","dataservices/models/TileModel"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.providers.TileProvider",[n,o],function(n){e.constructor(function(e){n.$ctor.call(this,e)}),e.properties({asset:{get:function(){return t.singleton.createModelFromId(t.singleton.getInnerIdFromTileId(this.id))}},deepLinkUriPath:{get:function(){return i._getDeepLinkUriPath(this.asset)}}})})})}(),function(){"use strict";define("dataservices/models/DeviceModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.DeviceModel",[t],function(){e.properties({activationDate:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/DeviceProvider",["core/oop","dataservices/models/DeviceModel","dataservices/dependent/providers/BatchProvider"],function(e,t,i){return e.classDef("dataservices.dependent.providers.DeviceProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({activationDate:{get:function(){return this._getProperty("activationDate")}}}),e.methods({_parseBody:function(e){return{activationDate:e.getDate(["activationDate"])}},_queryService:function(){return t._queryService.apply(this,arguments).catch(function(){return{activationDate:void 0}})}})})})}(),function(){"use strict";define("dataservices/models/MenuItemsModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.MenuItemsModel",t,function(){e.properties({items:{get:void 0},pageSize:{get:void 0}})})})}(),function(){"use strict";define("dataservices/providers/SettingsMenuProvider",["core/oop","core/data/ExplicitMenuProvider","core/data/ModelFactory","core/data/Provider","core/ReadOnlyAsyncArray","dataservices/models/MenuItemsModel","lib/Promise"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.providers.SettingsMenuProvider",[n,r],function(n){e.constructor(function(e){n.$ctor.call(this,e),this.applicationMenus=[],this._cacheable=!1}),e.properties({items:{get:function(){return a.fulfilled(this._buildItems())}},pageSize:{get:function(){return 0}},applicationMenus:void 0}),e.methods({_buildItems:function(){var e=this.applicationMenus.map(function(e){var n=i.singleton.create(e.name,e.name),r=t.new(e.name);return r.initialize({title:e.title,items:o.new([n])}),r});return o.new(e)}})})})}(),function(){"use strict";define("dataservices/models/UserSettingsModel",["core/oop","dataservices/models/ServiceModel"],function(e,t){return e.interfaceDef("dataservices.models.UserSettingsModel",[t],function(){e.properties({marketingOptIn:{get:void 0},hasSetPin:{get:void 0},primaryRating:{get:void 0},subRating:{get:void 0},mergedRating:{get:void 0},continueWatchingEnabled:{get:void 0}}),e.methods({setContinueWatchingEnabled:void 0})})})}(),function(){"use strict";define("dataservices/types/RatingPair",["core/oop","core/Debug","platform/common/Rating"],function(e,t,i){return e.classDef("dataservices.types.RatingPair",Object,function(){e.constructor(function(e,t,n){this._tv=i.getRatingFromName(e,i.Types.Television,n),this._movie=i.getRatingFromName(t,i.Types.Theatrical,n),this._tv.type,i.Types.Television,this._movie.type,i.Types.Theatrical}),e.properties({tv:{defaultValue:void 0,privateSet:!0},movie:{defaultValue:void 0,privateSet:!0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/UserSettingsProvider",["core/oop","core/Debug","platform/dependent/User","lib/lodash/objects/forOwn","dataservices/DataServicesSettings","dataservices/models/UserSettingsModel","dataservices/authentication/AuthenticationManager","dataservices/dependent/ProfileService","dataservices/dependent/providers/BatchProvider","lib/Promise","dataservices/dependent/ServiceHttpClient","core/uriUtils","platform/common/Rating","dataservices/types/RatingPair","dataservices/dependent/uris","dataservices/ContinueWatchingCache","dataservices/LastPlayedCache","dataservices/dependent/ServiceUtils"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("dataservices.dependent.providers.UserSettingsProvider",[l,r],function(t){e.singleton(function(){t.$ctor.call(this,v.singleton.Ids.USER_SETTINGS),this._editableSettingsProperties=["masterPin","hasSetPin","marketingOptIn","primaryRating","subRating"],this._defaultRating=h.new("TV-MA","NC-17"),this._primaryRating=this._defaultRating,this._requireAuth=!0}),e.properties({_primaryRating:{onChange:function(t,i){e.isEqual(i,t)||this._onParentalControlsChanged()}},_editableSettingsProperties:void 0,_defaultRating:void 0,marketingOptIn:{get:function(){return this._getAuthenticatedProperty("marketingOptIn",!1)}},hasSetPin:{get:function(){return this._getAuthenticatedProperty("hasSetPin",!1)}},primaryRating:{get:function(){return this._getAuthenticatedProperty("primaryRating",this._defaultRating)}},subRating:{get:function(){return this._getAuthenticatedProperty("subRating",this._defaultRating)}},mergedRating:{get:function(){var e=this;return c.props({palMaxMovie:i.singleton.getTheatricalMaxRatingCode(),palMaxTV:i.singleton.getTelevisionMaxRatingCode(),hboRating:e.primaryRating}).then(function(t){return h.new(e._selectMostRestrictiveRating(t.palMaxTV,t.hboRating.tv.code,p.Types.Television),e._selectMostRestrictiveRating(t.palMaxMovie,t.hboRating.movie.code,p.Types.Theatrical))})}},continueWatchingEnabled:{get:function(){return!0===o.singleton.enableContinueWatching?this._getAuthenticatedProperty("continueWatchingEnabled",!1):c.fulfilled(!1)}}}),e.events(["parentalControlsChanged"]),e.methods({_getAuthenticatedProperty:function(e,t){var i=this;return a.singleton.login().then(function(n){return!0===n?i._getProperty(e):c.fulfilled(t)})},setContinueWatchingEnabled:function(e){var t=this,i=u.format(g.setContinueWatching),n=JSON.stringify({enable:e}),o=d.singleton.put(i,void 0,n).then(function(){t.resetCache()});return[f.singleton,m.singleton].forEach(function(t){t.invalidate(o),e?t.get():t.clear()}),o},_writeProperties:function(e,t){var i=0,o=this;if(n(t,function(e,t){i++,o._editableSettingsProperties.indexOf(t)}),1===i&&void 0!==t.hasSetPin)return c.fulfilled();var r={marketingOptIn:t.marketingOptIn,parentalControls:this._makeRating(t.primaryRating),subUserDefaultParentalControls:this._makeRating(t.subRating)};return this.hasSetPin.then(function(e){if(!0!==e&&void 0!==t.masterPin)return s.singleton.setNewPin(t.masterPin)}).then(function(){return d.singleton.patch(g.users+"/me",o._getPinHeaders(t.masterPin),JSON.stringify(r),!0)}).catch(v.singleton.handleDataException.bind(v.singleton))},_getPinHeaders:function(e){return void 0===e?void 0:[{header:"X-CurrentPin",value:e}]},_makeRating:function(e){if(e)return{movie:e.movie.name,tv:e.tv.name}},_mergeProperties:function(e,i){Object.keys(i).indexOf("masterPin")>-1&&(delete i.masterPin,i.hasSetPin=!0);var n=t._mergeProperties.call(this,e,i);return void 0!==i.primaryRating&&(this._primaryRating=i.primaryRating),n},_selectMostRestrictiveRating:function(e,t,i){var n=e<t?e:t;return p.new(p.getValueFromCode(n,i),void 0,i).name},_parseBody:function(e){var t=h.new(e.getString(["hboTelevisionRating"])||this._defaultRating.tv.name,e.getString(["hboTheatricalRating"])||this._defaultRating.movie.name),i=h.new(e.getString(["subTelevisionRating"],!0)||this._defaultRating.tv.name,e.getString(["subTheatricalRating"],!0)||this._defaultRating.movie.name);return this._primaryRating=t,{marketingOptIn:e.getBoolean(["marketingOptIn"]),hasSetPin:e.getBoolean(["hasSetPin"]),primaryRating:t,subRating:i,continueWatchingEnabled:e.getBoolean(["continueWatchingEnabled"])}}})})})}(),function(){"use strict";define("dataservices/models/VideoPlaybackModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.VideoPlaybackModel",t,function(){e.properties({profile:{get:void 0},playItems:{get:void 0},cdn:{get:void 0}})})})}(),function(){"use strict";define("dataservices/VideoSessionLogHandler",["core/oop","core/logging/LogHandler","core/logging/Filter","core/logging/Levels"],function(e,t,i,n){return e.classDef("dataservices.VideoSessionLogHandler",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments);var e=this._getLogEntryTypes();this.filters.add(i.new({area:/.*/,type:new RegExp(e.join("|")),config:{verbosity:n.DIAG}})),this._sessions={}}),e.properties({_sessions:void 0,_lastCreatedSessionId:void 0,_activeSessionCount:{get:function(){return Object.keys(this._sessions).length}}}),e.methods({_getLogEntryTypes:function(){return["videoplay","videostop","videoping","videostatechange","videoplaybackerror","videostreamingbitratechanged","pictureinpicturechange","chromecaststartstop"]},_log:function(e){var t;switch(e.type){case"videoplay":if(void 0===(t=this._sessions[e.sessionId])){t={videoEventData:e.videoEventData,id:e.sessionId,displayMetadata:e.displayMetadata};!0===this._initSession(t)&&(this._sessions[e.sessionId]=t,this._lastCreatedSessionId=e.sessionId)}break;case"videostop":t=this._sessions[e.sessionId],void 0!==t&&(this._endSession(t),delete this._sessions[e.sessionId]);break;case"videostatechange":t=this._sessions[e.sessionId],void 0!==t&&(void 0!==e.videoProgress&&(t.lastVideoProgress=e.videoProgress),this._updateSession(t,e.playbackState));break;case"videoping":t=this._sessions[e.sessionId],void 0!==t&&(t.lastVideoProgress=e.videoProgress,this._pingSession(t));break;case"videoplaybackerror":t=this._sessions[e.sessionId],void 0!==t&&this._errorSession(t,e.error,e.message,e.details);break;case"videostreamingbitratechanged":t=this._sessions[e.sessionId],void 0!==t&&this._sessionBitrateChanged(t,e.bitrate);break;case"videopictureinpicturechange":t=this._sessions[e.sessionId],void 0!==t&&this._sessionPipChanged(t,e.isActive);break;case"chromecaststartstop":t=this._sessions[this._lastCreatedSessionId],this._handleChromeCastEvent(t,e.isCasting?"castingStart":"castingStop")}},_initSession:function(){},_updateSession:function(){},_pingSession:function(){},_errorSession:function(){},_endSession:function(){},_sessionBitrateChanged:function(){},_sessionPipChanged:function(){},_handleChromeCastEvent:function(){}})})})}(),function(){"use strict";define("dataservices/PreferredBitrateLogHandler",["core/oop","platform/dependent/Storage","core/Startup","dataservices/VideoSessionLogHandler"],function(e,t,i,n){var o=e.classDef("dataservices.PreferredBitrateLogHandler",n,function(n){e.staticScope(function(){e.constructor(function(){this._registerStartupTask()}),e.methods({_registerStartupTask:function(){i.singleton.register("dataservices.PreferredBitrateLogHandler",function(){return t.singleton.read(o.singleton._bitrateStorageKey).then(function(e){void 0!==e&&(o.singleton._bitrate=parseInt(e,10))})})}})}),e.singleton(function(){n.$ctor.apply(this,arguments)}),e.properties({_bitrateStorageKey:{defaultValue:"dataservices.PreferredBitrateLogHandler.bitrate"},_bitrate:{defaultValue:3e3},bitrate:{get:function(){return this._bitrate}}}),e.methods({_initSession:function(e){return!0===e.videoEventData.isMainVideo},_sessionBitrateChanged:function(e,i){var n=Math.floor(i/1e3);this._bitrate=n,t.singleton.write(this._bitrateStorageKey,n.toString())}})});return o})}(),function(){"use strict";define("dataservices/dependent/providers/VideoPlaybackProvider",["core/oop","core/Debug","dataservices/ContentUnavailableException","dataservices/dependent/providers/BatchProvider","dataservices/models/VideoPlaybackModel","dataservices/VideoUtil","dataservices/PreferredBitrateLogHandler","application/ClientDevice"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.dependent.providers.VideoPlaybackProvider",[n,o],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._cacheable=!1}),e.properties({profile:{get:function(){return this._getProperty("profile")}},cdn:{get:function(){return this._getProperty("cdn")}},playItems:{get:function(){return this._getProperty("playItems")}},_defaultExceptionType:{defaultValue:i}}),e.methods({_getHeaders:function(){var e={"x-hbo-desired-bitrate":a.singleton.bitrate,"x-hbo-device-model":s.singleton.model};return void 0!==s.singleton.videoCodeOverride&&(e["x-hbo-device-code-override"]=s.singleton.videoCodeOverride),
s.singleton.supportedVideoEncodes.length>0&&(e["x-hbo-video-encodes"]=s.singleton.supportedVideoEncodes.join(", ")),e},_parseBody:function(e){var t=e.getChunk(["manifests"]);return{profile:e.getString(["profile"]),playItems:t.rawJson.map(function(e){return r.singleton.convertPlayItem(e)}),cdn:e.getString(["cdn","provider"],!0)}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/WatchlistLandingMenuProvider",["core/oop","dataservices/dependent/providers/MenuProvider","dataservices/WatchlistCache"],function(e,t,i){return e.classDef("dataservices.dependent.providers.WatchlistLandingMenuProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({items:{get:function(){return i.singleton.get()}},_itemsPageSize:{defaultValue:32}}),e.methods({_parseItems:function(){}})})})}(),function(){"use strict";define("dataservices/dependent/providers/MenuItemsProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/ContentUnavailableException","dataservices/dependent/ServiceUtils","dataservices/models/MenuItemsModel","dataservices/JsonChunk","platform/HttpStatus","core/logging/Levels","lib/Promise","core/Exception"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("dataservices.dependent.providers.MenuItemsProvider",[t,o],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._id!==n.singleton.Ids.CONTINUE_WATCHING&&this._id!==n.singleton.Ids.WATCHLIST&&this._id!==n.singleton.Ids.LAST_PLAYED||(this._requireAuth=!0)}),e.properties({items:{get:function(){var e=this;return this._getProperty("items").catch(function(t){if(t.status===a.NETWORK_ERROR){var i={message:"network unavailable, unable to get items for menu",level:s.ERROR,area:"dataservices.dependent.providers.MenuItemsProvider.items"};return l.rejected(c.wrap(t,i))}return e._getModelCollection(r.new([]),1)})}},_defaultExceptionType:{defaultValue:i},pageSize:{defaultValue:void 0}}),e.methods({_parseBody:function(e){return{items:this._getModelCollection(e.getChunk(["references","items"]),this.pageSize)}}})})})}(),function(){"use strict";define("dataservices/models/ChromecastReceiverAuthModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ChromecastReceiverAuthModel",t,function(){e.properties({token:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ChromecastReceiverAuthProvider",["core/oop","core/data/Provider","dataservices/models/ChromecastReceiverAuthModel","dataservices/dependent/LoginInfoManager"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.ChromecastReceiverAuthProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._cacheable=!1}),e.properties({token:{get:function(){return n.singleton.getLoginInfo(!0).then(function(e){return{refresh_token:e.refreshToken}}).catch(function(){})}}})})})}(),function(){"use strict";define("dataservices/models/LoginInfoModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.LoginInfoModel",t,function(){e.properties({loginInfo:{get:void 0}}),e.methods({refresh:void 0,refreshWithGrantType:void 0,setLoginInfo:void 0})})})}(),function(){"use strict";define("dataservices/dependent/providers/BaseAccessTokenProvider",["core/oop","core/data/Provider","core/Debug","dataservices/models/LoginInfoModel","core/uriUtils","dataservices/dependent/uris","dataservices/JsonResponse","platform/HttpClient","dataservices/dependent/ServiceHttpClient","engine/dependent/Time","lib/Promise","core/PromiseMultiplexer","platform/dependent/Storage","dataservices/dependent/types/LoginInfo","dataservices/types/GrantType","dataservices/types/LoginInfoFlag","dataservices/types/NextSteps","dataservices/types/TokenScopes","dataservices/types/TokenScopeType","core/Exception","dataservices/dependent/ErrorCodeUtils","platform/NetworkException","dataservices/DataServicesDeveloperSettings","dataservices/authentication/GeoValidationException","dataservices/authentication/ClientVersionNotSupportedException","platform/common/Dispatcher","dataservices/dependent/ServiceUtils","dataservices/ServiceException","application/ClientApplication","dataservices/DataServicesSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x){var A=e.classDef("dataservices.dependent.providers.BaseAccessTokenProvider",[t,n],function(t){e.constructor(function(e){t.$ctor.call(this,e),this._uri=o.format(r.getTokens),this._cacheable=!1}),e.properties({loginInfo:{get:function(){var e=this;return this._ensureLoginInfo().then(function(){return e._loginInfo})}},desiredScope:{get:function(){return!0===this._isClientToken?v.singleton.ClientScope:v.singleton.UserScope}},_isClientToken:{defaultValue:!1},_mux:void 0,_uri:void 0,_loginInfo:void 0,_forceRefresh:{defaultValue:!1},_loadedData:{defaultValue:!1},_refreshPromise:void 0}),e.methods({refresh:function(e){return this._loginInfo===e&&(this._forceRefresh=!0),this.loginInfo},refreshWithGrantType:function(e){var t=this;return this._refreshByGrantType(e).then(function(){return t.loginInfo})},setLoginInfo:function(e,t){return this._loadedData=!0,this._loginInfo=e,!0===t?(this._forceRefresh=!0,this._useRefreshToken()):this._saveLoginInfo(I.singleton.environment,x.singleton.servicesId)},_ensureLoginInfo:function(){var e=this;if(!1===this._loadedData){var t=function(){return e._loadedData=!0,e._ensureLoginInfo()};return e._loadLoginInfo(I.singleton.environment,x.singleton.servicesId).then(function(){return void 0===e._loginInfo?e._loadLoginInfo(I.singleton.environment,void 0).then(t):t()})}return void 0!==this._loginInfo?this._loginInfo.accessExpiration<=c.singleton.now()||!0===this._forceRefresh?this._useRefreshToken():d.fulfilled():this._getInitialLoginInfo()},_scheduleEarlyRefresh:function(e){var t=this;void 0!==this._refreshPromise&&this._refreshPromise.cancel(),this._refreshPromise=R.singleton.postTimeout(e).then(function(){if(void 0!==t._loginInfo)return t._useRefreshToken()}).then(function(){t._refreshPromise=void 0}).catch(function(){t._refreshPromise=void 0})},_getInitialLoginInfo:function(){return this._loginInfo=void 0,d.fulfilled()},_saveLoginInfo:function(e,t){if(void 0!==this._loginInfo){var i=this._loginInfo.accessExpiration-c.singleton.now()-6e4;i>=0&&this._scheduleEarlyRefresh(i)}var n,o=this._getStorageKeyForEnvironment(e,t);n=void 0===o?d.fulfilled():void 0===this._loginInfo?p.singleton.remove(o):p.singleton.write(o,JSON.stringify(this._loginInfo.toJSON()));var r=this._getStorageKeyForEnvironment(e);return void 0!==r&&(n=n.then(function(){p.singleton.remove(r)})),n},_loadLoginInfo:function(e,t){var i=this,n=this._getStorageKeyForEnvironment(e,t);return!1===x.singleton.enableSignInSignOut?d.fulfilled():void 0===n?(i._loginInfo=void 0,d.fulfilled()):p.singleton.read(n).then(function(e){if(void 0!==e)if("cleared"!==e){var t=JSON.parse(e);i._loginInfo=h.new(t),i._loginInfo.accessExpiration=0}else i._loginInfo=void 0})},_getStorageKeyForEnvironment:function(){},_handleResult:function(e){if(!1===e.hasPath(["access_token"]))throw new Error("Failed to get access token");this._forceRefresh=!1;var t=e.getString(["refresh_token"],!0);if(void 0===t&&void 0!==this._loginInfo&&(t=this._loginInfo.refreshToken),e.hasPath(["nextStepsPayload"])){var i=e.getChunk(["nextStepsPayload"]);m.singleton.setData(i)}var n=this._loginInfo;this._loginInfo=h.new({tokenType:e.getString(["token_type"]),accessToken:e.getString(["access_token"]),refreshToken:t,accessExpiration:c.singleton.now()+1e3*e.getInt(["expires_in"])}),this._loginInfo.copyFlags(n);var o=e.getString(["scope"])||"";return this._loginInfo.setFlag(f.ACCOUNT_MANAGEMENT,v.singleton.isScoped(o,_.ELEVATED_ACCOUNT_MANAGEMENT)),this._saveLoginInfo(I.singleton.environment,x.singleton.servicesId)},_useRefreshToken:function(){var e=this,t=!0===this._isClientToken?v.singleton.ClientScope:v.singleton.UserScope,i={grant_type:P.singleton.mapGrantType(g.REFRESH_TOKEN),refresh_token:this._loginInfo.refreshToken,scope:t};return!0!==x.singleton.enableSignInSignOut?d.fulfilled():this._makeRequest(i).then(function(){!1===e._isClientToken&&P.singleton.clearCachedModelsBasedOnUserData()})},_refreshByGrantType:function(e){this._isClientToken,e===g.USER_REFRESH_AFTER_LINKING||g.USER_REFRESH_AFTER_REGISTRATION;var t={grant_type:P.singleton.mapGrantType(e),scope:A.UserScope};return!0!==x.singleton.enableSignInSignOut?d.fulfilled():this._makeRequest(t,null,!0).then(function(){P.singleton.clearCachedModelsBasedOnUserData()})},_handleError:function(e){var t={message:"There was a problem during login",displayMessage:e.displayMessage,status:e.status,area:"dataservices.dependent.providers.BaseAccessTokenProvider._handleError"};return d.reject(y.wrap(e,t,E))},makeRequest:function(e){return this._makeRequest(e)},_makeRequest:function(e,t,i){if(!0===S.singleton.testIsGeoBlocked)return d.rejected(C.new({message:"geovalidation failed",area:"dataservices.dependent.providers.BaseAccessTokenProvider._makeRequest"}));if(!0===S.singleton.testIsClientVersionNotSupported)return d.rejected(T.new({message:"client version blocked",area:"dataservices.dependent.providers.BaseAccessTokenProvider._makeRequest"}));if(void 0===this._mux){var n=this,o=P.singleton.getDefaultHeaders(),r=P.singleton.generateTraceId();o.push({header:P.singleton.traceIdHeaderName,value:r}),this._mux=u.new(function(){var a;return a=!0===n._isClientToken?n._sendRequestWithoutToken(o,e):n._sendRequestWithToken(o,e,i),a.then(function(e){return n._handleResult(e.json)}).catch(function(e){return!0===w.shouldWrapRejection(e)?(e instanceof b&&(void 0!==e.headers&&(e.headers[P.singleton.traceIdHeaderName]=r),e=w.checkUnsuccessfulResponse(e)),n._handleError(e,t)):d.reject(e)}).finally(function(){n._mux=void 0})})}return this._mux.addPromise()},_sendRequestWithoutToken:function(e,t){var i=this;return s.singleton.post(this._uri,e,JSON.stringify(t)).then(function(e){return a.new(e,i._uri)})},_sendRequestWithToken:function(e,t,i){return l.singleton.post(this._uri,e,JSON.stringify(t),!0===i)}})});return A})}(),function(){"use strict";define("dataservices/authentication/ClientCredentialsInvalidException",["core/oop","dataservices/authentication/AuthenticationException"],function(e,t){return e.classDef("dataservices.authentication.ClientCredentialsInvalidException",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)})})})}(),function(){"use strict";define("dataservices/dependent/providers/ClientAccessTokenProvider",["core/oop","dataservices/dependent/providers/BaseAccessTokenProvider","dataservices/dependent/ServiceUtils","dataservices/InvalidSessionException","dataservices/authentication/ClientCredentialsInvalidException","dataservices/types/GrantType","platform/StoreWrapper","lib/Promise","core/Exception","dataservices/dependent/ErrorCodeUtils","dataservices/types/TokenScopes","dataservices/DataServicesSettings","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("dataservices.dependent.providers.ClientAccessTokenProvider",[t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({cacheable:{defaultValue:!1,readOnlyField:!0},_isClientToken:{defaultValue:!0}}),e.methods({_getStorageKeyForEnvironment:function(){},_getInitialLoginInfo:function(){var e=this,t={client_id:u.singleton.servicesId,client_secret:u.singleton.servicesId,scope:d.singleton.ClientScope,grant_type:i.singleton.mapGrantType(r.CLIENT_CREDENTIALS),deviceSerialNumber:p.singleton.serial};if(!0===u.singleton.supportsInAppPurchasing){var n=a.singleton.getStore().storeType,o=i.singleton.mapStoreTypeToPaymentProvider(n);t.clientDeviceData={paymentProviderCode:o}}return e._makeRequest(t,!0)},_handleError:function(e,t){return!1!==c.shouldWrapRejection(e)||e instanceof n?!0!==t&&e instanceof n?(this._mux=void 0,this._getInitialLoginInfo()):s.reject(l.wrap(e,{message:"There was a problem during login",area:"dataservices.dependent.providers.ClientAccessTokenProvider._handleError"},o)):s.reject(e)}})})})}(),function(){"use strict";define("dataservices/dependent/providers/UserAccessTokenProvider",["core/oop","dataservices/DataServicesSettings","dataservices/dependent/providers/BaseAccessTokenProvider"],function(e,t,i){return e.classDef("dataservices.dependent.providers.UserAccessTokenProvider",[i],function(i){e.constructor(function(e){i.$ctor.call(this,e)}),e.properties({cacheable:{defaultValue:!1,readOnlyField:!0}}),e.methods({_getStorageKeyForEnvironment:function(e,i){if(!1!==t.singleton.enableSignInSignOut){var n=e+":dataservices.dependent.hurley.types.LoginInfo.user";return void 0!==i&&(n=n+":"+i),n}}})})})}(),function(){"use strict";define("dataservices/providers/UserProxyProvider",["core/oop","dataservices/models/UserModel","core/data/Provider","dataservices/dependent/providers/UserProvider"],function(e,t,i,n){return e.classDef("dataservices.providers.UserProxyProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({userId:{get:function(){return n.singleton.userId}},displayName:{get:function(){return n.singleton.displayName}},firstName:{get:function(){return n.singleton.firstName}},lastName:{get:function(){return n.singleton.lastName}},emailAddress:{get:function(){return n.singleton.emailAddress}},password:{get:function(){return n.singleton.password}},phoneNumber:{get:function(){return n.singleton.phoneNumber}},preferredUiLanguage:{get:function(){return n.singleton.preferredUiLanguage}},countryCode:{get:function(){return n.singleton.countryCode}},zipCode:{get:function(){return n.singleton.zipCode}},userProfileType:{get:function(){return n.singleton.userProfileType}},status:{get:function(){return n.singleton.status}},affiliate:{get:function(){return n.singleton.affiliate}},affiliateToken:{get:function(){return n.singleton.affiliateToken}},isHBOSubscriber:{get:function(){return n.singleton.isHBOSubscriber}},isMAXSubscriber:{get:function(){return n.singleton.isMAXSubscriber}},marketingOptIn:{get:function(){return n.singleton.marketingOptIn}},hasSetPin:{get:function(){return n.singleton.hasSetPin}},masterId:{get:function(){return n.singleton.masterId}},isSubAccount:{get:function(){return n.singleton.isSubAccount}},externalIds:{get:function(){return n.singleton.externalIds}},activationDate:{get:function(){return n.singleton.activationDate}},primaryRating:{get:function(){return n.singleton.primaryRating}},subRating:{get:function(){return n.singleton.subRating}},mergedRating:{get:function(){return n.singleton.mergedRating}},continueWatchingEnabled:{get:function(){return n.singleton.continueWatchingEnabled}},logoutUri:{get:function(){return n.singleton.logoutUri}},billingInfo:{get:function(){return n.singleton.billingInfo}},entitlementStatus:{get:function(){return n.singleton.entitlementStatus}}}),e.methods({commitChange:function(e){return n.singleton.commitChange(e)},checkAuthentication:function(){return n.singleton.checkAuthentication()},resetCache:function(){return n.singleton.resetCache()},setContinueWatchingEnabled:function(e){return n.singleton.setContinueWatchingEnabled(e)}})})})}(),function(){"use strict";define("dataservices/models/FranchiseModel",["core/oop","dataservices/models/TileableModel","dataservices/models/ContentMenuModel"],function(e,t,i){return e.interfaceDef("dataservices.models.FranchiseModel",[t,i],function(){e.properties({items:{get:void 0},topNavigationMenu:{get:void 0},bottomNavigationMenu:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/FranchiseProvider",["core/oop","lib/Promise","dataservices/models/FranchiseModel","dataservices/dependent/providers/TileableProvider","dataservices/types/MenuPurpose","dataservices/types/MenuSortType","lib/lodash/objects/assign"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.dependent.providers.FranchiseProvider",[n,i],function(i){e.constructor(function(e){i.$ctor.call(this,e),this._canBeAddedToWatchlist=!0}),e.properties({items:{get:function(){return this._getProperty("itemsMenu").then(function(e){return e.items})}},topNavigationMenu:{get:function(){return this._getProperty("topNavigationMenu")}},bottomNavigationMenu:{get:function(){return this._getProperty("bottomNavigationMenu")}},purpose:{get:function(){return t.fulfilled(o.FRANCHISE)}},sortType:{get:function(){return t.fulfilled(r.EDITORIAL)}},showPCAdvisory:{get:function(){return t.fulfilled(!1)}},linkTarget:{get:function(){return t.fulfilled()}},continuationItem:{get:function(){return t.fulfilled()}},suggestedItemCount:{get:function(){return t.fulfilled()}}}),e.methods({_parseBody:function(e){var t=i._parseBody.call(this,e);return a(t,{itemsMenu:this._getModel(e.getString(["references","contentMenu"])),topNavigationMenu:this._getModel(e.getString(["references","topMenu"],!0)),bottomNavigationMenu:this._getModel(e.getString(["references","bottomMenu"],!0))})}})})})}(),function(){"use strict";define("dataservices/models/TimespanModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.TimespanModel",t,function(){e.properties({startTime:{get:void 0},duration:{get:void 0},item:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/TimespanProvider",["core/oop","dataservices/models/TimespanModel","dataservices/dependent/providers/BatchProvider"],function(e,t,i){return e.classDef("dataservices.dependent.providers.TimespanProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({startTime:{get:function(){return this._getProperty("startTime")}},duration:{get:function(){return this._getProperty("duration")}},item:{get:function(){return this._getProperty("item")}}}),e.methods({_parseBody:function(e){return{startTime:e.getInt(["startTime"]),duration:e.getInt(["duration"]),item:this._getModel(e.getString(["references","item"]))}}})})})}(),function(){"use strict";define("dataservices/models/MicrositeModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.MicrositeModel",t,function(){e.properties({titles:{get:void 0},uri:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/MicrositeProvider",["core/oop","dataservices/models/MicrositeModel","dataservices/dependent/providers/BatchProvider","dataservices/types/AssetTitles"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.MicrositeProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({titles:{get:function(){return this._getProperty("titles")}},uri:{get:function(){return this._getProperty("uri")}}}),e.methods({_parseBody:function(e){return{titles:this._getMicrositeTitles(e.getChunk(["titles"])),uri:e.getString(["uri"])}},_getMicrositeTitles:function(e){return void 0===e?void 0:n.new({full:e.getString(["full"],!0),short:e.getString(["short"],!0)})}})})})}(),function(){"use strict";define("dataservices/models/InteractiveDocumentModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.InteractiveDocumentModel",t,function(){e.properties({titles:{get:void 0},uri:{get:void 0},viewerUri:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/InteractiveDocumentProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/InteractiveDocumentModel","dataservices/types/AssetTitles"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.InteractiveDocumentProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({titles:{get:function(){return this._getProperty("titles")}},uri:{get:function(){return this._getProperty("uri")}},viewerUri:{get:function(){return this._getProperty("viewerUri")}}}),e.methods({_parseBody:function(e){return{titles:this._getDocumentTitles(e.getChunk(["titles"])),uri:e.getString(["uri"]),viewerUri:e.getString(["viewerUri"])}},_getDocumentTitles:function(e){return void 0===e?void 0:n.new({full:e.getString(["full"],!0),short:e.getString(["short"],!0)})}})})})}(),function(){"use strict";define("dataservices/VideoPlayableStatus",["core/oop"],function(e){return e.enumDef("dataservices.VideoPlayableStatus",["LIVE","VOD","NOT_PLAYABLE"])})}(),function(){"use strict";define("dataservices/models/VideoStateModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.VideoStateModel",t,function(){e.properties({playableStatus:{get:void 0},isLiveExperience:{get:void 0},playableStartTime:{get:void 0},playableStartTimeInClientTime:{get:void 0},timeline:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/VideoStateProvider",["core/oop","dataservices/VideoPlayableStatus","dataservices/dependent/providers/BatchProvider","dataservices/models/VideoStateModel","engine/dependent/Time"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.providers.VideoStateProvider",[i,n],function(i){e.constructor(function(e){i.$ctor.call(this,e)}),e.properties({playableStatus:{get:function(){return this._getProperty("playableStatus")}},isLiveExperience:{get:function(){return this._getProperty("isLiveExperience")}},playableStartTime:{get:function(){return this._getProperty("playableStartTime")}},playableStartTimeInClientTime:{get:function(){return this._getProperty("playableStartTimeInClientTime")}},timeline:{get:function(){return this._getProperty("timeline")}}}),e.methods({_parseBody:function(e){var t=e.getChunk(["references","timeline"],!0),i=e.getInt(["playableStartTime"],!0),n=this._serverTime,r=o.singleton.now();return{playableStatus:this._getPlayableStatus(e.getString(["playableStatus"],!0)),isLiveExperience:e.getBoolean(["isLiveExperience"],!0),playableStartTime:void 0===i?void 0:new Date(i),playableStartTimeInClientTime:this._convertToClientDate(r,n,i),timeline:this._getModelCollection(t)}},_getPlayableStatus:function(e){switch(e){case"VOD":return t.VOD;case"LIVE":return t.LIVE;case"NOT_PLAYABLE":return t.NOT_PLAYABLE;default:return t.VOD}},_convertToClientDate:function(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i){var n=e-t;return new Date(i+n)}}})})})}(),function(){"use strict";define("dataservices/models/ExtraModel",["core/oop","dataservices/models/AssetModel"],function(e,t){return e.interfaceDef("dataservices.models.ExtraModel",t,function(){e.properties({parentAsset:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ExtraProvider",["core/oop","dataservices/models/ExtraModel","dataservices/dependent/providers/AssetProvider","lib/lodash/objects/assign"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.ExtraProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({parentAsset:{get:function(){return this._getProperty("parentAsset")}}}),e.methods({_parseBody:function(e){var i=t._parseBody.call(this,e);return n(i,{parentAsset:this._getModel(e.getString(["references","parent"],!0))})}})})})}(),function(){"use strict";define("dataservices/models/ExternalIdsModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.ExternalIdsModel",t,function(){e.properties({marketing:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/ExternalIdsProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/ExternalIdsModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.ExternalIdsProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({marketing:{get:function(){return this._getProperty("marketing")}}}),e.methods({_parseBody:function(e){return{marketing:e.getString(["marketing"],!0)}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/HomeMenuProvider",["core/oop","core/data/ExplicitMenuProvider","core/data/Provider","core/ReadOnlyAsyncArray","dataservices/models/MenuItemsModel","dataservices/dependent/ServiceUtils","dataservices/authentication/AuthenticationManager","lib/Promise"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.dependent.providers.HomeMenuProvider",[i,o],function(i){e.constructor(function(e){i.$ctor.call(this,e)}),e.properties({items:{get:function(){var e=r.singleton.getHomeMenuURNs(),i=e.map(function(e){return r.singleton.createModelFromId(e)});return i[0].items.then(function(e){var o=t.new("Featured");o.initialize({title:"Featured",items:e});var r=[o];return!0===a.singleton.isAuthenticated&&(r=r.concat(i.slice(1))),s.fulfilled(n.new(r))})}},images:{get:function(){var e=r.singleton.Ids.HOME;return r.singleton.createModelFromId(e).images}},pageSize:{get:function(){return 0}}})})})}(),function(){"use strict";define("dataservices/models/PageModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.PageModel",[t],function(){e.properties({isKids:{get:void 0},items:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/PageProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/PageModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.PageProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({isKids:{get:function(){return this._getProperty("isKids")}},items:{get:function(){return this._getProperty("items")}}}),e.methods({_parseBody:function(e){var t=e.getChunk(["references","items"]);return{isKids:e.getBoolean(["isKids"]),items:this._getModelCollection(t)}}})})})}(),function(){"use strict";define("dataservices/models/TextModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.TextModel",[t],function(){e.properties({value:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/TextProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/TextModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.TextProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({value:{get:function(){return this._getProperty("value")}}}),e.methods({_parseBody:function(e){return{value:e.getDisplayString(["value"])}}})})})}(),function(){"use strict";define("dataservices/models/LinkModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.LinkModel",[t],function(){e.properties({label:{get:void 0},target:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/LinkableComponent",["core/oop","core/Debug","dataservices/dependent/ServiceUtils"],function(e,t,i){return e.classDef("dataservices.types.LinkableComponent",Object,function(){e.properties({_uri:void 0,deepLinkUriPath:{get:function(){if(void 0===this._uri)return"/";var e=i.singleton.getFactoryIdFromModelId(this._uri);return void 0!==e?"/"+e.toLowerCase()+"/"+this._uri:"/"===this._uri.charAt(0)?this._uri:"/"}}})})})}(),function(){"use strict";define("dataservices/dependent/providers/LinkProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/LinkModel","dataservices/types/LinkableComponent"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.LinkProvider",[i,t],function(t){e.mixin(n),e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({label:{get:function(){return this._getProperty("label")}},target:{get:function(){return this._getProperty("target")}}}),e.methods({_parseBody:function(e){var t=e.getString(["references","target"]);return this._uri=t,{label:e.getDisplayString(["label"]),target:t}}})})})}(),function(){"use strict";define("dataservices/models/LinkSetModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.LinkSetModel",[t],function(){e.properties({links:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/LinkSetProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/LinkSetModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.LinkSetProvider",[i,t],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({links:{get:function(){return this._getProperty("links")}}}),e.methods({_parseBody:function(e){var t=e.getChunk(["references","links"]);return{links:this._getModelCollection(t)}}})})})}(),function(){"use strict";define("dataservices/models/TileSetModel",["core/oop","core/data/Model"],function(e,t){return e.interfaceDef("dataservices.models.TileSetModel",[t],function(){e.properties({items:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/TileSetProvider",["core/oop","dataservices/dependent/providers/BatchProvider","dataservices/models/TileSetModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.TileSetProvider",[t,i],function(){e.properties({items:{get:function(){return this._getProperty("items")}}}),e.methods({_parseBody:function(e){var t=e.getChunk(["references","items"]);return{items:this._getModelCollection(t)}}})})})}(),function(){"use strict";define("dataservices/models/GridModel",["core/oop","dataservices/models/TileSetModel"],function(e,t){return e.interfaceDef("dataservices.models.GridModel",[t],function(){})})}(),function(){"use strict";define("dataservices/dependent/providers/GridProvider",["core/oop","dataservices/dependent/providers/TileSetProvider","dataservices/models/GridModel"],function(e,t,i){return e.classDef("dataservices.dependent.providers.GridProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)})})})}(),function(){"use strict";define("dataservices/models/TrayModel",["core/oop","dataservices/models/TileSetModel"],function(e,t){return e.interfaceDef("dataservices.models.TrayModel",[t],function(){e.properties({header:{get:void 0},target:{get:void 0},style:{get:void 0}})})})}(),function(){"use strict";define("dataservices/types/PageBandHeader",["core/oop"],function(e){return e.classDef("dataservices.types.PageBandHeader",Object,function(){e.initConstructor(function(){}),e.properties({label:void 0,imageUrl:void 0,description:void 0})})})}(),function(){"use strict";define("dataservices/dependent/providers/TrayProvider",["core/oop","dataservices/dependent/providers/TileSetProvider","dataservices/models/TrayModel","dataservices/types/LinkableComponent","dataservices/types/PageBandHeader","lib/lodash/objects/merge"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.providers.TrayProvider",[t,i],function(t){e.mixin(n),e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({header:{get:function(){return this._getProperty("header")}},target:{get:function(){return this._getProperty("target")}},style:{get:function(){return this._getProperty("style")}}}),e.methods({_parseBody:function(e){var i=e.getChunk(["header"]),n=e.getString(["references","target"],!0);return this._uri=n,r(t._parseBody(e),{header:o.new(i.rawJson),target:e.getString(["references","target"],!0),style:e.getString(["style"])})}})})})}(),function(){"use strict";define("dataservices/models/CarouselModel",["core/oop","dataservices/models/TileSetModel"],function(e,t){return e.interfaceDef("dataservices.models.CarouselModel",[t],function(){e.properties({style:{get:void 0}})})})}(),function(){"use strict";define("dataservices/dependent/providers/CarouselProvider",["core/oop","dataservices/dependent/providers/TileSetProvider","dataservices/models/CarouselModel","lib/lodash/objects/merge"],function(e,t,i,n){return e.classDef("dataservices.dependent.providers.CarouselProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({style:{get:function(){return this._getProperty("style")}}}),e.methods({_parseBody:function(e){return n(t._parseBody(e),{style:e.getString(["style"])})}})})})}(),function(){"use strict"
;define("configuration/ModelFactory",["core/oop","core/Debug","core/data/ModelFactory","core/data/Provider","core/data/ExceptionInfoProvider","dataservices/dependent/providers/ActivationCodeProvider","dataservices/dependent/providers/SearchNavMenuProvider","dataservices/dependent/providers/EpisodeProvider","dataservices/dependent/providers/AssetProvider","dataservices/dependent/providers/CollectionProvider","dataservices/dependent/providers/SeasonProvider","dataservices/dependent/providers/SeriesProvider","dataservices/dependent/providers/VideoEditProvider","dataservices/dependent/providers/LandingMenuProvider","dataservices/dependent/providers/WelcomeLandingMenuProvider","dataservices/dependent/providers/NavigationMenuProvider","dataservices/dependent/providers/ProductMenuProvider","dataservices/dependent/providers/DRMTokenProvider","dataservices/dependent/providers/FairPlayLicenseProvider","dataservices/dependent/providers/FairPlayCertificateProvider","dataservices/dependent/providers/ActivationCodeStatusProvider","dataservices/dependent/providers/ActivationCodeIntentProvider","dataservices/dependent/providers/ActivationCodeNextStepsProvider","dataservices/dependent/providers/GiftCardBalanceProvider","dataservices/dependent/providers/CommerceConfigProvider","dataservices/dependent/providers/ResetPasswordProvider","dataservices/dependent/providers/ResetPinProvider","dataservices/dependent/providers/SearchResultsProvider","dataservices/dependent/providers/AffiliateProvider","dataservices/dependent/providers/BillingInformationProvider","dataservices/dependent/providers/PaymentMetadataProvider","dataservices/dependent/providers/EntitlementProvider","dataservices/dependent/providers/PaywallProvider","dataservices/dependent/providers/ServicePageProvider","dataservices/dependent/providers/AffiliateListProvider","dataservices/dependent/providers/SingleSignOnQueryProvider","dataservices/dependent/providers/UserProvider","dataservices/dependent/providers/PrivacyPolicyProvider","dataservices/dependent/providers/TermsOfServiceProvider","dataservices/dependent/providers/FaqMenuProvider","dataservices/dependent/providers/FaqProvider","dataservices/dependent/providers/WallProvider","dataservices/providers/LegalProvider","dataservices/dependent/providers/SeriesMarkerMapProvider","dataservices/dependent/providers/WebLoginProvider","dataservices/dependent/providers/SingleSignOnLoginProvider","dataservices/dependent/providers/OttLoginProvider","dataservices/dependent/providers/HiltonLoginProvider","dataservices/dependent/providers/ContinueWatchingMenuProvider","dataservices/dependent/providers/ImageAvailabilityProvider","dataservices/dependent/providers/RootNavigationMenuProvider","dataservices/dependent/providers/PreviewAccountTileProvider","dataservices/dependent/providers/ClosedCaptioningSettingsProvider","dataservices/providers/NextStepsWallProvider","dataservices/providers/EnvironmentMenuProvider","dataservices/providers/LocaleOverrideMenuProvider","dataservices/dependent/providers/TileProvider","dataservices/dependent/providers/DeviceProvider","dataservices/providers/SettingsMenuProvider","dataservices/dependent/providers/UserSettingsProvider","dataservices/dependent/providers/VideoPlaybackProvider","dataservices/dependent/providers/WatchlistLandingMenuProvider","dataservices/dependent/providers/MenuItemsProvider","dataservices/dependent/providers/ChromecastReceiverAuthProvider","dataservices/dependent/providers/ClientAccessTokenProvider","dataservices/dependent/providers/UserAccessTokenProvider","dataservices/providers/UserProxyProvider","dataservices/dependent/providers/FranchiseProvider","dataservices/dependent/providers/TimespanProvider","dataservices/dependent/providers/MicrositeProvider","dataservices/dependent/providers/InteractiveDocumentProvider","dataservices/dependent/providers/VideoStateProvider","dataservices/dependent/providers/ExtraProvider","dataservices/dependent/providers/ExternalIdsProvider","dataservices/dependent/providers/HomeMenuProvider","dataservices/dependent/providers/PageProvider","dataservices/dependent/providers/TextProvider","dataservices/dependent/providers/LinkProvider","dataservices/dependent/providers/LinkSetProvider","dataservices/dependent/providers/GridProvider","dataservices/dependent/providers/TrayProvider","dataservices/dependent/providers/CarouselProvider"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A,k,V,M,D,O,N,F,L,B,H,U,$,W,j,G,z,K,Y,q,Q,X,J,Z,ee,te,ie,ne,oe,re,ae,se,le,ce,de,ue,pe,he,ge,fe,me,ve,_e,ye,we,be,Se,Ce,Te,Re,Pe,Ee){return e.classDef("configuration.ModelFactory",Object,function(){e.staticScope(function(){e.methods({_createModelAndProviderCallback:function(e,t){return function(){var i=Array.prototype.slice.call(arguments).concat(t||[]);return e.new.apply(this,i)}},_createSingletonModelAndProviderCallback:function(e){return function(){return e.singleton}},configure:function(){i.singleton.register({HomeMenu:this._createModelAndProviderCallback(we),SettingsMenu:this._createModelAndProviderCallback(oe),ExceptionInfo:this._createModelAndProviderCallback(o),DefaultSearch:this._createSingletonModelAndProviderCallback(a),Episode:this._createModelAndProviderCallback(s),AssetFallback:this._createModelAndProviderCallback(l),Feature:this._createModelAndProviderCallback(l),Extra:this._createModelAndProviderCallback(_e),Collection:this._createModelAndProviderCallback(c),Season:this._createModelAndProviderCallback(d),Series:this._createModelAndProviderCallback(u),VideoEdit:this._createModelAndProviderCallback(p),VideoPlayback:this._createModelAndProviderCallback(ae),LandingMenu:this._createModelAndProviderCallback(h),FranchiseLandingMenu:this._createModelAndProviderCallback(h),CollectionsLandingMenu:this._createModelAndProviderCallback(h),HomeLandingMenu:this._createModelAndProviderCallback(h),WatchlistLandingMenu:this._createModelAndProviderCallback(se),WelcomeLandingMenu:this._createModelAndProviderCallback(g),NavigationMenu:this._createModelAndProviderCallback(f),ProductMenu:this._createModelAndProviderCallback(m),FranchiseProductMenu:this._createModelAndProviderCallback(m),DRMToken:this._createModelAndProviderCallback(v),FairPlayLicense:this._createModelAndProviderCallback(_),FairPlayCertificate:this._createModelAndProviderCallback(y),ActivationCode:this._createModelAndProviderCallback(r),ActivationCodeStatus:this._createModelAndProviderCallback(w),ActivationCodeIntent:this._createModelAndProviderCallback(b),ActivationCodeNextSteps:this._createModelAndProviderCallback(S),GiftCardBalance:this._createModelAndProviderCallback(C),CommerceConfig:this._createModelAndProviderCallback(T),ResetPassword:this._createModelAndProviderCallback(R),ResetPin:this._createModelAndProviderCallback(P),SearchResults:this._createModelAndProviderCallback(E),ClosedCaptioningSettings:this._createModelAndProviderCallback(J),Affiliate:this._createModelAndProviderCallback(I),BillingInformation:this._createModelAndProviderCallback(x),PaymentMetadata:this._createModelAndProviderCallback(A),Entitlement:this._createModelAndProviderCallback(k),Paywall:this._createSingletonModelAndProviderCallback(V),NextStepsWall:this._createModelAndProviderCallback(Z),ServicePage:this._createModelAndProviderCallback(M),AffiliateList:this._createModelAndProviderCallback(D),SingleSignOnQuery:this._createModelAndProviderCallback(O),User:this._createSingletonModelAndProviderCallback(N),PrivacyPolicy:this._createModelAndProviderCallback(F),TermsOfService:this._createModelAndProviderCallback(L),ParentalControls:this._createModelAndProviderCallback(pe),FaqMenu:this._createModelAndProviderCallback(B),Faq:this._createModelAndProviderCallback(H),Legal:this._createModelAndProviderCallback($),Wall:this._createModelAndProviderCallback(U),SeriesMarkerMap:this._createModelAndProviderCallback(W),VersionInfo:this._createModelAndProviderCallback(n),WebLogin:this._createModelAndProviderCallback(j),SSOLogin:this._createModelAndProviderCallback(G),OttLogin:this._createModelAndProviderCallback(z),HiltonLogin:this._createModelAndProviderCallback(K),DeactivateDevice:this._createModelAndProviderCallback(pe),ContinueWatchingSettings:this._createModelAndProviderCallback(pe),ContinueWatching:this._createModelAndProviderCallback(Y),EnvironmentMenu:this._createModelAndProviderCallback(ee),LocaleOverrideMenu:this._createModelAndProviderCallback(te),RootNavigationMenu:this._createSingletonModelAndProviderCallback(Q),ActivationTile:this._createModelAndProviderCallback(X),NoAccountTile:this._createModelAndProviderCallback(X),Tile:this._createModelAndProviderCallback(ie),Device:this._createModelAndProviderCallback(ne),UserSettings:this._createSingletonModelAndProviderCallback(re),ChromecastReceiverAuth:this._createModelAndProviderCallback(ce),MenuItems:this._createModelAndProviderCallback(le),UserToken:this._createModelAndProviderCallback(ue),ClientToken:this._createModelAndProviderCallback(de),ImageAvailability:this._createModelAndProviderCallback(q),Franchise:this._createModelAndProviderCallback(he),Timespan:this._createModelAndProviderCallback(ge),Microsite:this._createModelAndProviderCallback(fe),InteractiveDocument:this._createModelAndProviderCallback(me),VideoState:this._createModelAndProviderCallback(ve),ExternalIds:this._createModelAndProviderCallback(ye),Page:this._createModelAndProviderCallback(be),Text:this._createModelAndProviderCallback(Se),Link:this._createModelAndProviderCallback(Ce),LinkSet:this._createModelAndProviderCallback(Te),Grid:this._createModelAndProviderCallback(Re),Tray:this._createModelAndProviderCallback(Pe),Carousel:this._createModelAndProviderCallback(Ee)})}})})})})}(),function(){"use strict";define("configuration/ConfigurationDeveloperSettings",["core/oop"],function(e){return e.classDef("configuration.ConfigurationDeveloperSettings",Object,function(){e.singleton(function(){}),e.properties({useOSMFVideo:{defaultValue:!1,privateSet:!0},videoCodeOverride:{defaultValue:void 0,privateSet:!0},isPhoneOverride:{defaultValue:void 0,privateSet:!0},chromecastAppIdOverride:{defaultValue:void 0,privateSet:!0}})})})}(),function(){"use strict";define("configuration/Client",["core/oop","configuration/ConfigurationDeveloperSettings","core/uuid","core/Exception","core/logging/Levels","platform/dependent/Storage","platform/dependent/HttpClient","application/ClientDevice","application/ClientApplication","ui/UISettings","dataservices/DataServicesSettings","dataservices/bootstrapper/BootstrapperService","design/DesignSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("configuration.Client",Object,function(){e.staticScope(function(){e.methods({_getCCAdjustmentFactor:function(e){return"android"===e?1.25:1},configure:function(e,n){var o=s.singleton,a=l.singleton,c=d.singleton,h=p.singleton;o.configureWithLocale(n.locale),a.regionId="USA",c.code="HBO",this._configureBrandSettings(c,e.features.brand);var g=t.singleton.isPhoneOverride;o.isPhone=void 0!==g?g:"true"===n.isPhone,o.model=n.deviceModel,o.supportsManipulation="browser"!==e.features.pal,this._configureDesignSettings(c,o,e,n),this._configurePlatformSettings(h,o),this._configureCampaignSettings(c,n),o.ccSizeAdjustmentFactor=this._getCCAdjustmentFactor(e.features.pal),o.trickPlayImageInterval=1,o.imagesHaveBakedInProtection="hurley"===e.features.services,this._configureVideoOverrides(e,o,n);var f=["desktop","activation","commerce"].indexOf(e.features.design)>-1;if(o.supportsUniqueDeviceSerial=!f,h.linkToParentalControlsSettings="daydream"!==e.features.design,c.usesWebLogin=f||"ios"===e.features.design||"android"===e.features.design,a.shellVersion=n.shellVersion,a.playerVersion=n.playerVersion,a.config=e.config,a.buildFlavor=e.flavor,a.buildClient=e.client,a.buildDesign=e.features.design,a.buildPAL=e.features.pal,a.buildServices=e.features.services,a.buildEnvironment=e.buildEnvironment||"private",a.version=e.version,a.buildTimestamp=e.buildTimestamp,a.commit=e.commit,a.sessionId=i.create(),c.useMetricsAnalyticsDomain=f,h.environmentSwitching=!0===e.features.environmentSwitching,void 0!==n.environment)a.environment=n.environment,r.singleton.write(h.ENVIRONMENT_STORAGE_KEY,n.environment);else if(a.environment=e.features.environment,!0===h.environmentSwitching){var m=r.singleton.readSync(h.ENVIRONMENT_STORAGE_KEY);void 0!==m&&(a.environment=m)}!0===e.features.devExceptions&&(h.showDevExceptions=!0),!0===e.features.productionAnalytics&&(c.productionAnalytics=!0),c.servicesApiVersion=n.servicesApiVersion||"application/vnd.hbo.v9.full+json",c.servicesId=this._getServiceCredentials(o,e);var v=e.bootstrapURL||n.atlasUri;v&&(u.bootstrapURL=-1!==v.indexOf("/",v.length-1)?v:v+"/"),a.versionString="Hadron/"+a.version+" "+a.buildDesign,void 0!==a.shellVersion&&(a.versionString+="/"+a.shellVersion),void 0!==o.fullAnalyticsName&&(a.versionString+=" ("+o.fullAnalyticsName,void 0!==o.osVersion&&(a.versionString+="/"+o.osVersion),a.versionString+=")")},_configureBrandSettings:function(e,t){switch(t){case"hbogo":e.name="HBO GO",e.analyticsProductType="hbo go";break;case"hbonow":e.name="HBO NOW",e.analyticsProductType="hbo now",e.supportsInAppPurchasing=!0;break;case"maxgo":e.name="MAX GO",e.analyticsProductType="max go"}},_configureCampaignSettings:function(e,t){e.internalAnalyticsCampaign=t.icid,e.externalAnalyticsCampaign=t.camp},_configureDesignSettings:function(e,t,i,r){switch(i.features.design){case"desktop":this._configureDesktopDesignSettings(e,t,r);break;case"activation":this._configureActivationDesignSettings(e,t,r);break;case"commerce":this._configureCommerceDesignSettings(e,t,r);break;case"ios":this._configureIOSDesignSettings(t,r);break;case"android":this._configureAndroidDesignSettings(t,r);break;case"androidtv":this._configureAndroidTVDesignSettings(t,r);break;case"hiltontv":this._configureHiltonTVDesignSettings(e,t,r);break;case"appletv":case"appletvdemo":this._configureAppleTVDesignSettings(t,i,r);break;case"uwptv":this._configureUWPTVDesignSettings(t,r);break;case"ps4":this._configurePS4DesignSettings(e,t,r);break;case"daydream":this._configureDaydreamDesignSettings(e,t,i,r);break;case"uwptablet":this._configureUWPTabletDesignSettings(t,r);break;case"tizentv":this._configureTizenDesignSettings(t,i,r);break;default:n.new({message:"Cannot configure settings due to unknown design: "+i.features.design,level:o.ERROR,area:"configuration.Client._configureDesignSettings"}).logTelemetry()}},_configurePlatformSettings:function(e,t){var i=t.platform;"CONSOLE"!==i&&"TV"!==i&&"MOBILE"!==i&&"DESKTOP"!==i&&n.new({message:"Cannot configure settings due to unknown platform.",level:o.ERROR,area:"configuration.Client._configurePlatformSettings"}).logTelemetry(),e.betweenEpisodesCountdownMS=1e4,e.betweenPlaylistCountdownMS=5e3},_configureActivationDesignSettings:function(e,t,i){this._configureDesktopDesignSettings(e,t),t.analyticsName="Activation",t.fullAnalyticsName=i.deviceModel,t.updateFocusOnPointerDown=!1,c.singleton.enableVirtualization=!1},_configureCommerceDesignSettings:function(e,t,i){this._configureActivationDesignSettings(e,t,i),t.analyticsName="Commerce"},_configureDesktopDesignSettings:function(e,t){t.id=s.Ids.DESKTOP,t.code="DESKTOP",t.analyticsName="Desktop",t.fullAnalyticsName="DESKTOP",t.platform="DESKTOP",t.enableLiveSeeking=!0,t.updateFocusOnPointerDown=!0,e.enforceSecureServices=!0},_configureIOSDesignSettings:function(e,t){var i=!0===e.isPhone?"iPhone":"iPad",n=!0===e.isPhone?s.Ids.IOS:s.Ids.IPAD;e.id=n,e.code=i.toUpperCase(),e.analyticsName=i,e.fullAnalyticsName=i.toUpperCase(),e.platform="MOBILE",e.hasHoverState=!1,e.osVersion=t.osVersion,e.manufacturer=t.deviceManufacturer,e.updateFocusOnPointerDown=!0},_configureAndroidDesignSettings:function(e,t){var i=!0===e.isPhone?s.Ids.ANDROID:s.Ids.ANDROIDTABLET;e.id=i,e.code="ANDROID",e.analyticsName="ANDROID",e.fullAnalyticsName=t.deviceModel,e.platform="MOBILE",e.hasHoverState=!1,e.osVersion=t.osVersion,e.updateFocusOnPointerDown=!0},_configureAndroidTVDesignSettings:function(e,t){var i=["Nexus Player","SHIELD Android TV","Forge","AFTS"],n=["AFTM","AFTT"];if(i.indexOf(t.deviceModel)>=0?e.performanceLevel=s.PerformanceLevels.HIGH:n.indexOf(t.deviceModel)>=0?e.performanceLevel=s.PerformanceLevels.LOW:e.performanceLevel=s.PerformanceLevels.MEDIUM,!0===this._isFireDevice(t)&&0===t.deviceModel.indexOf("AFT")){var o=n.indexOf(t.deviceModel)>=0;e.id=o?s.Ids.FIRETVSTICK:s.Ids.FIRETV,e.analyticsName="Amazon Fire TV",e.fullAnalyticsName=e.analyticsName+(o?" Stick":""),e.code="FIRETV"}else e.id=s.Ids.ANDROIDTV,e.analyticsName="Android TV",e.fullAnalyticsName=t.deviceModel,e.code="ANDROIDTV";e.manufacturer=t.deviceManufacturer,e.brand=t.deviceBrand,e.platform="TV",e.serial=t.deviceId,e.hasSimpleController=!0,e.osVersion=t.osVersion,e.includeClosedCaptioningSettingsMenuEntry=!0,e.hasNativeScrollAnimationThrottling=!0},_configureHiltonTVDesignSettings:function(e,t,i){t.id=s.Ids.HILTONTV,t.analyticsName="Hilton TV",t.fullAnalyticsName=i.deviceModel,t.code="HILTONTV",t.manufacturer=i.deviceManufacturer,t.brand=i.deviceBrand,t.platform="TV",t.serial=i.deviceId,t.hasSimpleController=!0,t.osVersion=i.osVersion,t.includeClosedCaptioningSettingsMenuEntry=!0,t.hasNativeScrollAnimationThrottling=!0,t.performanceLevel=s.PerformanceLevels.LOW,t.persistClosedCaptioningSettings=!1,e.enableContinueWatching=!1,e.enablePlaybackMarkers=!1,e.enableSignInSignOut=!1,e.enableWatchlist=!1,e.enableParentalControls=!1},_configurePS4DesignSettings:function(e,t,i){t.id=s.Ids.PS4,t.code="PS4",t.analyticsName="PS4",t.fullAnalyticsName="PS4",t.platform="TV",t.performanceLevel=s.PerformanceLevels.MEDIUM,t.hasParentalControls=!1,t.manufacturer=i.deviceManufacturer,t.brand=i.deviceBrand,t.serial=i.deviceId,t.includeClosedCaptioningSettingsMenuEntry=!0,t.osVersion=i.osVersion,e.enforceSecureServices=!0},_configureDaydreamDesignSettings:function(e,t,i,n){t.id=s.Ids.ANDROID,t.analyticsName="ANDROID",t.fullAnalyticsName=n.deviceModel,t.platform="MOBILE","hbonow"===i.features.brand?(e.analyticsProductType="hbo now vr",t.code="GVR-NOW"):(e.analyticsProductType="hbo go vr",t.code="GVR-GO")},_configureAppleTVDesignSettings:function(e,t,i){e.id=s.Ids.APPLETV,e.analyticsName="Apple TV",e.fullAnalyticsName=i.deviceModel,e.code="APPLETV",e.platform="TV",e.hasSimpleController=!0,e.osVersion=i.osVersion,e.hasParentalControls=!0,"ios"===t.features.pal&&(e.hasNativeTransportControls=!0,e.hasNativeFocusManager=!0),e.manufacturer=i.deviceManufacturer},_configureUWPTVDesignSettings:function(e,t){e.id=s.Ids.XBOXONE,e.code="XBOX_ONE",e.analyticsName="Xbox One",e.platform="CONSOLE",e.osVersion=t.osVersion,e.serial=t.deviceId,e.performanceLevel=s.PerformanceLevels.HIGH,e.supportsFillMode=!0,e.hasParentalControls=!0},_configureUWPTabletDesignSettings:function(e,t){e.id=s.Ids.UWP,e.code="UWP",e.analyticsName="UWP",e.fullAnalyticsName=t.deviceModel,e.platform="MOBILE",e.manufacturer=t.deviceManufacturer,e.brand=t.deviceBrand,e.osVersion=t.osVersion,e.serial=t.deviceId},_configureTizenDesignSettings:function(e,t,i){e.id=s.Ids.TIZEN,e.code="TIZENTV",e.analyticsName="Tizen",e.fullAnalyticsName=i.deviceModel,e.platform="TV",e.manufacturer=i.deviceManufacturer,e.brand=i.deviceBrand,e.osVersion=i.osVersion,e.serial=i.deviceId,e.performanceLevel=s.PerformanceLevels.LOW,e.hasParentalControls=!1,e.includeClosedCaptioningSettingsMenuEntry=!0,e.hasSimpleController=!0,"tizen"===t.features.pal&&(a.singleton.allowUnsentResponses=!0)},_getServiceCredentials:function(e,t){switch(t.features.brand){case"hbogo":return this._getGoServiceCredentials(e,t);case"hbonow":return this._getNowServiceCredentials(e,t)}},_getNowServiceCredentials:function(e,t){switch(e.id){case s.Ids.DESKTOP:switch(t.features.design){case"activation":case"commerce":return"dc81e604-5f56-41f0-ad08-e48204011c12";default:return"88a4f3c6-f1de-42d7-8ef9-d3b00139ea6a"}case s.Ids.ANDROIDTV:return"4059d59c-5043-49e6-9dd6-c2bb1ee2766b";case s.Ids.FIRETVSTICK:return"96419e4b-2198-4a7a-ae36-d653ba8092dc";case s.Ids.FIRETV:return"0ff0b526-3c37-4ac3-9266-23457ff39472";case s.Ids.XBOXONE:return"50ff3774-3481-4f39-a586-e5f129021669";case s.Ids.APPLETV:return"appletvdemo"===t.features.design?"6a6f397e-ae22-4931-9e52-e915d11f7ad4":"0e08af86-8ec4-4006-a3a6-e638e16d12de";case s.Ids.IOS:return"7e278f74-d580-4292-b3a9-f7a023e5ca03";case s.Ids.IPAD:return"c74f1444-4352-4839-a176-4c4964d406b0";case s.Ids.ANDROID:return"daydream"===t.features.design?"1aa5f517-cf73-4f62-894d-697c05ea5146":"400d3a0a-1499-4ded-87f4-8b5013102002";case s.Ids.ANDROIDTABLET:return"2a81ad33-a9c7-44d1-93d9-14965185945f";case s.Ids.PS4:return"75d7d62d-0d4e-48c9-9f8c-b1be7ee3c7f2";case s.Ids.UWP:return"c209db17-3c33-424c-a071-1b4a018c3062";case s.Ids.TIZEN:return"hbonowtizen2015"===t.target?"516dd55d-7ae4-46f4-8c25-09cc8555e396":"a96259e8-7094-40f7-b4ca-0bb8e7767f58"}},_getGoServiceCredentials:function(e,t){switch(e.id){case s.Ids.DESKTOP:return"activation"===t.features.design?"c6056267-54c1-470e-9629-400920dc430f":"dd80d19d-61e3-4052-ba5b-e38e19dd1eb6";case s.Ids.ANDROIDTV:return"211f4b8c-f2fd-4228-ab7d-d8e68900252e";case s.Ids.FIRETVSTICK:return"32157074-4290-40fa-8717-18d3254f8365";case s.Ids.FIRETV:return"b24007df-e2ce-46c2-b1df-03e97ee3353c";case s.Ids.HILTONTV:return"12289419-7415-4399-9ed4-c3d97d1da3ad";case s.Ids.XBOXONE:return"5232160d-6a97-4cd6-9791-b16370424daf";case s.Ids.APPLETV:return"4cf34c68-b343-438e-aa7d-86a5d0ac33c5";case s.Ids.IOS:return"49d6e6d3-dbf1-4efa-bf53-52956b9370e2";case s.Ids.IPAD:return"486be516-77c8-4147-88ed-c2e3a9d5d14a";case s.Ids.ANDROID:return"daydream"===t.features.design?"67fd0468-b734-4cf2-811e-259f26fcb6c2":"56af4f47-6fe6-4a90-bb8e-7efde15b57c6";case s.Ids.ANDROIDTABLET:return"c32500a4-adca-4ae9-91b2-2d917f53a99d";case s.Ids.PS4:return"2dd66d97-831e-4bbf-98e4-33244e391683";case s.Ids.UWP:return"dd55c5db-eb7e-42e5-96b2-9dc4e096892a";case s.Ids.TIZEN:return"126e65ff-5138-4724-aa0b-332973b69060"}},_configureVideoOverrides:function(e,i,n){if(void 0!==t.singleton.videoCodeOverride?i.videoCodeOverride=t.singleton.videoCodeOverride:"browser"===e.features.pal&&(i.videoCodeOverride="DESKTOP"),"browser"===e.features.pal){var o=s.VideoEncodes.PRIMETIME;void 0!==n.webkitKeySystem&&(o=s.VideoEncodes.FAIRPLAY),i.supportedVideoEncodes=!0===t.singleton.useOSMFVideo?[]:[o]}},_isFireDevice:function(e){return"Amazon"===e.deviceManufacturer}})})})})}(),function(){"use strict";define("configuration/ButtonDeviceKeyMapConfig",["core/oop","platform/input/Buttons","platform/input/KeyCodes","platform/dependent/input/ButtonDeviceKeyMap"],function(e,t,i,n){return e.classDef("configuration.ButtonDeviceKeyMapConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(){var e={};e[i.KEYBOARD_0]=t.KEY_0,e[i.KEYBOARD_1]=t.KEY_1,e[i.KEYBOARD_2]=t.KEY_2,e[i.KEYBOARD_3]=t.KEY_3,e[i.KEYBOARD_4]=t.KEY_4,e[i.KEYBOARD_5]=t.KEY_5,e[i.KEYBOARD_6]=t.KEY_6,e[i.KEYBOARD_7]=t.KEY_7,e[i.KEYBOARD_8]=t.KEY_8,e[i.KEYBOARD_9]=t.KEY_9,e[i.KEYBOARD_NUMPAD_0]=t.KEY_0,e[i.KEYBOARD_NUMPAD_1]=t.KEY_1,e[i.KEYBOARD_NUMPAD_2]=t.KEY_2,e[i.KEYBOARD_NUMPAD_3]=t.KEY_3,e[i.KEYBOARD_NUMPAD_4]=t.KEY_4,e[i.KEYBOARD_NUMPAD_5]=t.KEY_5,e[i.KEYBOARD_NUMPAD_6]=t.KEY_6,e[i.KEYBOARD_NUMPAD_7]=t.KEY_7,e[i.KEYBOARD_NUMPAD_8]=t.KEY_8,e[i.KEYBOARD_NUMPAD_9]=t.KEY_9,e[i.KEYBOARD_LEFT]=t.LEFT,e[i.KEYBOARD_UP]=t.UP,e[i.KEYBOARD_RIGHT]=t.RIGHT,e[i.KEYBOARD_DOWN]=t.DOWN,e[i.KEYBOARD_PAGE_UP]=t.KEY_PAGE_UP,e[i.KEYBOARD_PAGE_DOWN]=t.KEY_PAGE_DOWN,e[i.KEYBOARD_HOME]=t.KEY_HOME,e[i.KEYBOARD_END]=t.KEY_END,e[i.KEYBOARD_A]=t.KEY_A,e[i.KEYBOARD_B]=t.KEY_B,e[i.KEYBOARD_C]=t.KEY_C,e[i.KEYBOARD_D]=t.KEY_D,e[i.KEYBOARD_E]=t.KEY_E,e[i.KEYBOARD_F]=t.KEY_F,e[i.KEYBOARD_G]=t.KEY_G,e[i.KEYBOARD_H]=t.KEY_H,e[i.KEYBOARD_I]=t.KEY_I,e[i.KEYBOARD_J]=t.KEY_J,e[i.KEYBOARD_K]=t.KEY_K,e[i.KEYBOARD_L]=t.KEY_L,e[i.KEYBOARD_M]=t.KEY_M,e[i.KEYBOARD_N]=t.KEY_N,e[i.KEYBOARD_O]=t.KEY_O,e[i.KEYBOARD_P]=t.KEY_P,e[i.KEYBOARD_Q]=t.KEY_Q,e[i.KEYBOARD_R]=t.KEY_R,e[i.KEYBOARD_S]=t.KEY_S,e[i.KEYBOARD_T]=t.KEY_T,e[i.KEYBOARD_U]=t.KEY_U,e[i.KEYBOARD_V]=t.KEY_V,e[i.KEYBOARD_W]=t.KEY_W,e[i.KEYBOARD_X]=t.KEY_X,e[i.KEYBOARD_Y]=t.KEY_Y,e[i.KEYBOARD_Z]=t.KEY_Z,e[i.KEYBOARD_ENTER]=t.OK,e[i.KEYBOARD_SPACEBAR]=t.KEY_SPACEBAR,e[i.KEYBOARD_ESCAPE]=t.ESCAPE,e[i.KEYBOARD_BACK]=t.CANCEL,e[i.KEYBOARD_SEARCH]=t.SEARCH,e[i.MEDIA_PLAY]=t.MEDIA_PLAY,e[i.MEDIA_PAUSE]=t.MEDIA_PAUSE,e[i.MEDIA_PLAY_PAUSE]=t.MEDIA_PLAY_PAUSE,e[i.MEDIA_STOP]=t.MEDIA_STOP,e[i.MEDIA_PREVIOUS_TRACK]=t.MEDIA_SKIP_PREV,e[i.MEDIA_NEXT_TRACK]=t.MEDIA_SKIP_NEXT,e[i.MEDIA_REWIND]=t.MEDIA_REWIND,e[i.MEDIA_FAST_FORWARD]=t.MEDIA_FAST_FORWARD,e[i.MEDIA_CAPTIONS]=t.MEDIA_TOGGLE_CAPTIONS,n.singleton.initializeKeyMap(e)}})})})})}(),function(){"use strict";define("configuration/InputManagerConfig",["core/oop","ui/input/InputManager"],function(e,t){return e.classDef("configuration.InputManagerConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){!0===e.features.inputLog&&(t.singleton.enableInputLogging=!0)}})})})})}(),function(){"use strict";define("configuration/ScreenConfig",["core/oop","design/Screen","design/ScreenUtil"],function(e,t,i){return e.classDef("configuration.ScreenConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(){t.singleton._minWidth=i.singleton.byDesign({desktop:1024,mobile:i.singleton.byScreen({phone:320,tablet:600}),activation:320}),t.singleton._maxWidth=i.singleton.byDesign({desktop:1920,mobile:1e4})}})})})})}(),function(){"use strict";define("configuration/ScreenUtilConfig",["core/oop","design/ScreenUtil"],function(e,t){return e.classDef("configuration.ScreenUtilConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){t.singleton._brand=e.features.brand,t.singleton._design=e.features.design,t.singleton._designParentLookup={android:"mobile",androidtv:"tv",desktop:"univ",ios:"mobile",mobile:"univ",appletv:"androidtv",ps4:"tv",daydream:"android",uwptv:"tv",uwptablet:"mobile",activation:"desktop",commerce:"activation",tizentv:"tv",appletvdemo:"appletv",hiltontv:"androidtv"}}})})})})}(),function(){"use strict";define("configuration/Counters",["core/oop","core/logging/Counters","core/logging/Filter"],function(e,t,i){return e.classDef("configuration.Counters",Object,function(){e.staticScope(function(){e.methods({configure:function(e){var n=t.singleton;n.isEnabled=!0===e.features.counters,!0===n.isEnabled&&n.filters.add(i.new({area:/.*/,config:{enableCounterLog:!0}})),n.isConfigured=!0}})})})})}(),function(){"use strict";define("platform/diagnostics/PerformanceTimingLogEntry",["core/oop","core/logging/LogEntry","lib/lodash/collections/forEach"],function(e,t,i){return e.classDef("platform.diagnostics.PerformanceTimingLogEntry",t,function(t){e.initConstructor(function(){this._type="performancetiming"}),e.properties({area:void 0,timespans:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.area=this.area,e.timespans=[],i(this.timespans,function(t){e.timespans.push(t.toJSON())}),e}})})})}(),function(){"use strict";define("platform/diagnostics/PerformanceMarkListener",["core/oop","core/Disposable","platform/dependent/diagnostics/Performance","platform/diagnostics/PerformanceTimingLogEntry","lib/lodash/collections/forEach","platform/dependent/Process"],function(e,t,i,n,o,r){return e.classDef("platform.diagnostics.PerformanceMarkListener",t,function(t){e.singleton(function(){this._created()}),e.properties({_listenerCallback:void 0,_triggerMarks:void 0}),e.methods({startListener:function(e){this.stopListener();var t=this;this._triggerMarks=e,this._listenerCallback=function(e){t._handleMarkCreated(e)},i.singleton.markCreated.on(this._listenerCallback),o(Object.keys(this._triggerMarks),function(e){t._handleMarkCreated(e)})},stopListener:function(){void 0!==this._listenerCallback&&(i.singleton.markCreated.off(this._listenerCallback),this._listenerCallback=void 0)},_disposeCore:function(){t._disposeCore.apply(this,arguments),this.stopListener()},_handleMarkCreated:function(e){var t=this._triggerMarks[e];if(void 0!==t&&(!0!==t.ignoreIfAppHasSuspended||!0!==r.singleton.hasSuspended)){var o=i.singleton.measure(e),a=o[o.length-1];void 0!==a&&!0===t.regex.test(a.endName)&&n.new({area:e,timespans:o}).log()}}})})})}(),function(){"use strict";define("configuration/Performance",["core/oop","platform/diagnostics/Performance","platform/diagnostics/PerformanceMarkListener"],function(e,t,i){return e.classDef("configuration.Performance",Object,function(){e.staticScope(function(){e.methods({configure:function(e){t.singleton.isEnabled=e.features.perfMonitor,!0===e.features.optimize&&i.singleton.startListener({boot:{regex:/^viewReady.*/,ignoreIfAppHasSuspended:!0}}),t.singleton.isEnabled&&e.features.perfMonitorAutoStart&&t.singleton.startMonitor()}})})})})}(),function(){"use strict";define("automation/AtlasLogHandler",["core/oop","core/logging/LogHandler","automation/AtlasChannel"],function(e,t,i){return e.classDef("automation.AtlasLogHandler",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({_log:function(e){i.singleton.queue(e.toJSON())}})})})}(),function(){"use strict";define("configuration/AtlasChannel",["core/oop","automation/AtlasChannel","core/logging/Logger","core/logging/Filter","automation/AtlasLogHandler","platform/common/Dispatcher"],function(e,t,i,n,o,r){return e.classDef("configuration.AtlasChannel",Object,function(){e.staticScope(function(){e.methods({configure:function(e){if(t.singleton.isEnabled=void 0!==e.atlasUri,!0===t.singleton.isEnabled){var a=o.new();a.filters.add(n.new({area:/.*/,config:{verbosity:i.Levels.DIAG}})),i.singleton.logHandlers.add(a),r.singleton.postInterval(250,function(){t.singleton.flush()}),t.singleton.connect(e.atlasUri)}}})})})})}(),function(){"use strict";define("design/logging/PCDialogLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){var i=e.enumDef("design.logging.PCDialogLogEntry.EventTypes",["SHOW","OK","NO_THANKS","CHANGE"]);return e.classDef("design.logging.PCDialogLogEntry",t,function(t){e.staticScope(function(){e.properties({EventTypes:{defaultValue:i,readOnlyField:!0}})}),e.initConstructor(function(){this._type="pcdialog"}),e.properties({eventType:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.eventType=this.eventType,e}})})})}(),function(){"use strict";define("dataservices/analytics/VideoEventData",["core/oop","platform/common/PlayItemType","lib/lodash/objects/forOwn"],function(e,t,i){var n=e.enumDef("dataservices.analytics.VideoEventData.Locations",["PRODUCT_INFO","LANDING","GRID","PLAYER","PLAYER_WITH_PRODUCT_INFO"]),o=e.enumDef("dataservices.analytics.VideoEventData.BingeModeType",["CONTINUOUS","CLICK_CONTINUOUS"]);return e.classDef("dataservices.analytics.VideoEventData",Object,function(){e.staticScope(function(){e.properties({Locations:{defaultValue:n,readOnlyField:!0},BingeModeType:{defaultValue:o,readOnlyField:!0}})}),e.initConstructor(function(){}),e.properties({isPrerollVideo:{get:function(){return this.playItemType===t.PREROLL},set:function(e){!0===e?this.playItemType=t.PREROLL:this.playItemType===t.PREROLL&&(this.playItemType=t.OTHER)}},isPromoVideo:{get:function(){return this.playItemType===t.PROMO},set:function(e){!0===e?this.playItemType=t.PROMO:this.playItemType===t.PROMO&&(this.playItemType=t.OTHER)}},isMainVideo:{get:function(){return this.playItemType===t.MAIN},set:function(e){!0===e?this.playItemType=t.MAIN:this.playItemType===t.MAIN&&(this.playItemType=t.OTHER)}},wasResumed:{defaultValue:!1},playerType:void 0,playItemType:void 0,playbackOptions:void 0,isFirstVideo:void 0,isFree:void 0,isPreview:void 0,isExtra:void 0,isSecure:void 0,assetId:void 0,assetAnalyticsId:void 0,cutId:void 0,mediaId:void 0,uri:void 0,cdn:void 0,profile:void 0,title:void 0,fullTitle:void 0,episodeNumber:void 0,seasonNumber:void 0,fullSeasonTitle:void 0,seriesName:void 0,rating:void 0,primaryGenre:void 0,language:void 0,duration:void 0,completionTime:void 0,affiliateCode:void 0,userId:void 0,countryCode:void 0,location:void 0,bingeModeType:void 0,
playableStatus:void 0,playlistTitle:void 0,playlistSessionId:void 0,startFromBeginning:void 0,nextEpisodeId:void 0}),e.methods({toJSON:function(){var e={isPrerollVideo:this.isPrerollVideo,isPromoVideo:this.isPromoVideo,isMainVideo:this.isMainVideo,wasResumed:this.wasResumed,isFirstVideo:this.isFirstVideo,isFree:this.isFree,isPreview:this.isPreview,isExtra:this.isExtra,isSecure:this.isSecure,assetId:this.assetId,assetAnalyticsId:this.assetAnalyticsId,cutId:this.cutId,mediaId:this.mediaId,uri:this.uri,cdn:this.cdn,profile:this.profile,title:this.title,fullTitle:this.fullTitle,episodeNumber:this.episodeNumber,seasonNumber:this.seasonNumber,fullSeasonTitle:this.fullSeasonTitle,seriesName:this.seriesName,rating:this.rating,primaryGenre:this.primaryGenre,language:this.language,duration:this.duration,completionTime:this.completionTime,affiliateCode:this.affiliateCode,userId:this.userId,countryCode:this.countryCode,location:this.location,bingeModeType:this.bingeModeType,playableStatus:this.playableStatus,playlistSessionId:this.playlistSessionId,playlistTitle:this.playlistTitle,startFromBeginning:this.startFromBeginning,nextEpisodeId:this.nextEpisodeId};return i(this.playbackOptions,function(t,i){e["playbackOption."+i]=t}),e}})})})}(),function(){"use strict";define("dataservices/analytics/IOmnitureService",["core/oop"],function(e){return e.interfaceDef("dataservices.analytics.IOmnitureService",void 0,function(){e.singleton(),e.methods({sendData:void 0})})})}(),function(){"use strict";define("dataservices/dependent/analytics/OmnitureService",["core/oop","platform/HttpClient","core/uriUtils","dataservices/dependent/uris","dataservices/analytics/IOmnitureService","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.analytics.OmnitureService",[o,Object],function(){e.singleton(function(){}),e.methods({sendData:function(e){var o=this._composeXMLBody(e);return t.singleton.post(i.format(n.getOmniture),void 0,o)},_composeXMLBody:function(e){var i="<?xml version=1.0 encoding=UTF-8?>\n<request>\n<scXmlVer>1.0</scXmlVer>\n";return r(e,function(e,n){void 0!==e&&(i+="<"+n+">",i+=t.encodeXMLText(e),i+="</"+n+">\n")},this),i+="</request>\n"}})})})}(),define("lib/lodash/objects/omit",["../internals/baseFlatten","../internals/baseIndexOf","../functions/createCallback","./forIn"],function(e,t,i,n){function o(o,r,a){var s=t,l="function"==typeof r,c={};if(l)r=i(r,a,3);else var d=e(arguments,!0,!1,1);return n(o,function(e,t,i){(l?!r(e,t,i):s(d,t)<0)&&(c[t]=e)}),c}return o}),function(){"use strict";define("design/analytics/OmnitureBase",["core/oop","core/Debug","lib/Promise","core/Exception","core/logging/Levels","ui/navigation/Navigator","core/Startup","design/logging/PCDialogLogEntry","platform/dependent/User","platform/dependent/graphics/Viewport","core/data/ModelFactory","lib/lodash/objects/merge","ui/views/RootView","dataservices/authentication/AuthenticationManager","dataservices/analytics/VideoEventData","dataservices/VideoPlayableStatus","dataservices/dependent/analytics/OmnitureService","lib/lodash/objects/omit","application/ClientApplication","application/ClientDevice","dataservices/DataServicesSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w){var b=e.enumDef("design.analytics.Omniture.OmnitureEvents",{CHROMECAST_PLAYED:"event47",CHROMECAST_ENDED:"event48",CONTINUEWATCHING_CLEARED:"event41",CONTINUEWATCHING_DISABLED:"event42",DEVICE_ACTIVATED:"event24",DEVICE_DEACTIVATED:"event25",ERROR_SHOWN:"event13",HELP_CENTER_LAUNCHED:"event66",ASSET_SERIES_SELECTED:"event16",SEARCHRESULT_INVOKED:"event18",SEARCHTERM_INITIATED:"event20",SIGNED_IN:"event14",VIDEO_COMPLETED_5:"event6",VIDEO_COMPLETED_25:"event7",VIDEO_COMPLETED_50:"event8",VIDEO_COMPLETED_75:"event9",VIDEO_COMPLETED_95:"event10",VIDEO_COMPLETED_100:"event11",VIDEO_PING:"event22",VIDEO_PLAYED:"event5",CLOSED_CAPTIONING_ENABLED:"event35",CLOSED_CAPTIONING_DISABLED:"event36",PAGE_VIEWED:"event1",ADDED_TO_WATCHLIST:"event12",REMOVED_FROM_WATCHLIST:"event67",PLAYER_SKIP_BACK:"event15",PLAYER_FULLSCREEN:"event54",IPAD_FULLSCREEN:"event99",PARENTAL_CONTROLS_ENABLED:"event53",PARENTAL_CONTROLS_UPDATED:"event49",PROFILE_REGISTERED:"event17",PROFILE_NEWSLETTER:"event19",PIP_POP_OUT:"PiP: Pop-Out",PIP_POP_IN:"PiP: Pop-Back",AIRPLAY_START:"event43",INTERACTIVE_ITEM_OPENED:"event94",INTERACTIVE_ITEM_CLOSED:"event95"}),S=e.enumDef("design.analytics.Omniture.OmnitureErrorMessages",{ACTIVATE:"Cant Activate at this time",AFFILIATE_AUTHZ:"{0} does not allow you to view this content",AUTHENTICATION:"Authentication Error",DEFAULT:"unexpected app error",GO_ERROR:"Go Experiencing Difficulty",PARENTAL_CONTROL:"PC do not allow you to view this content",STREAM_MAX:"Exceeded Simul Stream Max",VIDEO_ERROR:"Video Cannot Play",VIDEOS_NOT_AVAIL:"Videos Not Avail"});return e.classDef("design.analytics.OmnitureBase",Object,function(){e.staticScope(function(){e.properties({OmnitureEvents:{defaultValue:b,readOnlyField:!0}})}),e.constructor(function(){}),e.properties({rsid:void 0,_deepLinkLaunched:{defaultValue:!1},_promoPosition:void 0}),e.methods({pageViewed:function(){var e=r.singleton.getActiveBreadcrumb();(void 0===e||"Startup"!==e.locationName&&"Player"!==e.locationName)&&this._pageViewedImpl()},_pageViewedImpl:function(e){var t=this;this._createRequest(b.PAGE_VIEWED,function(i){return t._pageViewedCallback(i,e)},{isPageView:!0})},popupShown:function(e){this._pageViewedImpl({eVar3:e})},pcDialogEvent:function(e){var t;switch(e){case s.EventTypes.SHOW:t="pc pop up";break;case s.EventTypes.OK:t="pc pop up_ok";break;case s.EventTypes.NO_THANKS:t="pc pop up_no thanks";break;case s.EventTypes.CHANGE:t="pc pop up_change"}this._pageViewedImpl({eVar78:t})},userInteractionEvent:function(){},continueWatchingCleared:function(){this._createRequest(b.CONTINUEWATCHING_CLEARED)},continueWatchingDisabled:function(){this._createRequest(b.CONTINUEWATCHING_DISABLED)},deepLinkLaunched:function(){this._deepLinkLaunched=!0},manipulatedWatchlist:function(e,t){var i=!0===t?b.ADDED_TO_WATCHLIST:b.REMOVED_FROM_WATCHLIST;this._createRequest(i,function(t){t.prop26=t.eVar26=e})},videoPlayed:function(e,t){this._createRequest(b.VIDEO_PLAYED,function(i){this._addVideoData(i,e,!0,t),this._trySetPromoPosition(i)},{videoEventData:e})},videoCompleted:function(e,t){this._createRequest(b["VIDEO_COMPLETED_"+e],function(e){this._addVideoData(e,t)},{videoEventData:t})},videoPing:function(){this._createRequest(b.VIDEO_PING)},closedCaptioningEnabledChanged:function(e,t,i){var n=!0===e?b.CLOSED_CAPTIONING_ENABLED:b.CLOSED_CAPTIONING_DISABLED;this._createRequest(n,function(n){this._addVideoTitleData(n,i),!0!==e&&(n.products=";;;;event36="+Math.round(t))},{videoEventData:i})},restarted:function(){this._deepLinkLaunched=!1},searchTermInitiated:function(){this._createRequest(b.SEARCHTERM_INITIATED)},searchResultInvoked:function(e,t){this._createRequest(b.SEARCHRESULT_INVOKED,function(i){i.prop1=i.eVar1=e.toLowerCase(),i.prop73=i.eVar73=t.toLowerCase()})},promoInvoked:function(e){var t=r.singleton.getHistory(),i=t.getAt(t.length-1).locationName;"MainMenu"!==i&&"Category"!==i&&"Subcategory"!==i&&"CollectionDetail"!==i||(this._promoPosition=e+1)},signedIn:function(){this._createRequest(b.SIGNED_IN)},deviceActivated:function(){this._createRequest(b.DEVICE_ACTIVATED)},deviceDeactivated:function(){this._createRequest(b.DEVICE_DEACTIVATED)},errorShown:function(e){this._createRequest(b.ERROR_SHOWN,function(t){t.eVar12=this._getErrorMessage(e)},{errorTypeName:e})},affiliateAuthZErrorShown:function(e){this._createRequest(void 0,function(t){t.prop13=e+"_Not Authorized_Pop-Up"})},affiliateRestrictedContentShown:function(){var e=this;d.singleton.create("User","User").affiliate.then(function(t){return t.code.then(function(t){e._pcLockedDialogShown(t)})}).catch(function(e){n.wrap(e,{message:"Omniture failed to log restricted content shown",level:o.WARNING,area:"design.analytics.OmnitureBase.affiliateRestrictedContentShown"}).logTelemetry()})},pcRestricted:function(e){var t="platform"===e?y.singleton.analyticsName+" settings":void 0;this._pcLockedDialogShown(t)},_pcLockedDialogShown:function(e){this._createRequest(b.ERROR_SHOWN,function(t){var i;i=void 0!==e?S.AFFILIATE_AUTHZ.replace("{0}",e):S.PARENTAL_CONTROL,t.eVar12=i})},_pageViewedCallback:function(e,t){!0===this._deepLinkLaunched&&(e.prop71=e.eVar71="Deep Link",this._deepLinkLaunched=!1);var n=r.singleton.getActiveBreadcrumb();return void 0!==n&&this._isCollectionDetailsBreadcrumb(n)&&void 0!==n.analyticsTitle&&(e.prop12=n.analyticsTitle),this._trySetPromoPosition(e),u(e,t),i.fulfilled()},_createRequest:function(e,t,i){var r=this,a={};i=i||{},this._constructRequiredData(i).then(function(i){a.data=i,a.data.events=e;var n;return void 0!==t&&(n=t.call(r,a.data)),n}).then(function(){return!0!==i.isPageView&&(a.data.linktype="o",a.data.linkname=a.data.events),r._postRequest(a.data)}).catch(function(t){n.wrap(t,{message:"Omniture failed to log event:  "+e,level:o.WARNING,area:"design.analytics.OmnitureBase._createRequest"}).ignore()})},_constructRequiredData:function(e){var t=this,n=y.singleton.platform,o=y.singleton.osVersion,s=y.singleton.fullAnalyticsName,u=y.singleton.model,g=_.singleton.version,f=_.singleton.shellVersion,m=w.singleton.code,v=w.singleton.analyticsProductType,b=p.singleton,S=t._normalizeScreenState(c.singleton.width),C=b.width+"x"+b.height,T=this._generateDeviceString(),R=r.singleton.getHistory(),P=r.singleton.getActiveBreadcrumb(),E=r.singleton.getActiveViewHost();return a.singleton.ready.then(function(){return i.props({locNames:t._getLocationNames(R,P,E,e),loggedIn:h.singleton.login()})}).then(function(e){var r=y.singleton.serial,a=e.locNames.join(">"),c=e.locNames[0],p=e.locNames.length>1?e.locNames[1]:void 0,h=!0===e.loggedIn?"Logged In":"Logged Out",_="TV"===n?"ctv":n.toLowerCase(),w={reportSuiteID:t.rsid,visitorID:r,pageURL:"http://www.hbogo.com/xboxone",hier1:a,pageName:a,eVar2:a,prop7:c,eVar7:c,prop8:p,eVar8:p,prop29:h,eVar29:h,prop36:_,eVar36:_,prop39:T,eVar39:T,prop50:m,eVar50:m,prop5:S,eVar5:S,prop53:C,eVar53:C,prop65:u,eVar65:u,prop69:v,eVar69:v};if(t._addAppVersionData(w,g),void 0!==f&&(w.prop48=f,w.eVar48=f),void 0!==o&&(w.prop49=o,w.eVar49=o),void 0!==s&&(w.prop47=s,w.eVar47=s),!0===e.loggedIn){var b=d.singleton.create("User","User");return i.props({userId:b.userId,affiliate:b.affiliate,isHBOSubscriber:b.isHBOSubscriber,isMAXSubscriber:b.isMAXSubscriber,marketingOptIn:b.marketingOptIn,advertisingId:l.singleton.advertisingID,entitlement:""}).then(function(e){var i=e.userId,n=t._getServiceAccessCode(e.isHBOSubscriber,e.isMAXSubscriber),o=!0===e.marketingOptIn?"Subscriber":"Not Subscriber";return w.prop9=i,w.eVar9=i,w.eVar13=n,w.prop28=o,w.eVar28=o,w.eVar91=e.entitlement,void 0!==e.advertisingId&&(w.eVar77=e.advertisingId),void 0===e.affiliate?w:e.affiliate.code.then(function(e){return w.prop33=e,w.eVar33=e,w})})}return w})},_trySetPromoPosition:function(e){void 0!==this._promoPosition&&(e.eVar45=this._promoPosition,this._promoPosition=void 0)},_addAppVersionData:function(e,t){e.prop48=e.eVar48=t},_addVideoBingeModeData:function(e,t,i){e.eVar75=t,e.eVar99=void 0===i?void 0:i.toLowerCase()},_addVideoData:function(e,t,i,n){if(this._addVideoTitleData(e,t),e.prop25=e.eVar25=t.rating,e.prop26=e.eVar26=t.assetAnalyticsId,e.prop6=e.eVar6=this._normalizeVideoLocationName(t.location),e.prop18=e.eVar18=t.language,e.prop20=e.eVar20=this._normalizeVideoFactoryId(t.isPreview),e.prop61=e.eVar61=Math.floor(t.duration/60),e.prop23=e.eVar23=e.prop7,!0===i&&(e.eVar32=e.hier1,!0===n&&(e.events+=","+b.CLOSED_CAPTIONING_ENABLED)),!1===t.isPreview)switch(!0===this._wasInvokedFromLocation(t.assetAnalyticsId,"ContinueWatching","Home-Landing")?e.eVar37="Continue Watching":!0===this._wasInvokedFromLocation(t.assetAnalyticsId,"Subcategory","Watchlist")&&(e.eVar37="Watchlist"),t.bingeModeType){case g.BingeModeType.CONTINUOUS:this._addVideoBingeModeData(e,"continuous play",t.playlistTitle);break;case g.BingeModeType.CLICK_CONTINUOUS:this._addVideoBingeModeData(e,"manual continuous play",t.playlistTitle);break;default:t.bingeModeType,this._addVideoBingeModeData(e,"manual play",t.playlistTitle)}this._addLiveVideoData(e,t)},_addVideoTitleData:function(e,t){e.prop19=e.eVar19=t.title,e.prop66=e.eVar66=t.fullTitle},_addLiveVideoData:function(e,t){t.playableStatus===f.LIVE?(!0===t.startFromBeginning?e.eVar76="from beginning":e.eVar76="live",e.eVar20="live"):e.eVar76="not applicable"},_wasInvokedFromLocation:function(e,t,i){var n=this._getMostRecentMatchingBreadcrumb(t,i);if(void 0!==n){if((n.getStateArgs()||{}).invokedTileId===e){for(var o=!1,a=r.singleton.getHistory(),s=a.indexOf(n)+1;s<a.length;++s)if(!0===a.getAt(s).isAnchor){o=!0;break}if(!0!==o)return!0}}return!1},_getMostRecentMatchingBreadcrumb:function(e,t){return r.singleton.getHistory().toArray().filter(function(i){return i.locationName===e&&i.analyticsTitle===t}).reverse()[0]},_getLocationNames:function(e,t,n,o){var r=this,a=[],s=o.videoEventData,l=void 0!==s&&(s.location===g.Locations.PRODUCT_INFO||s.location===g.Locations.PLAYER_WITH_PRODUCT_INFO);return void 0!==t&&("Activation"===t.locationName?(a.push("Activate"),a.push("Code")):"NoAccount"===t.locationName?(a.push("Activate"),a.push("Don't have an account")):"ActivationSuccess"===t.locationName&&(a.push("Activate"),a.push("Success")),0===a.length&&(e.forEach(function(e){if(e.isAnchor&&(a.length=0),void 0!==e.analyticsTitle){var t=e.analyticsTitle;"Welcome"===t||"Get Started"===t?t="Activate":"Get Started with HBO GO"===t&&(t="HBO GO Product Tour");!1===(("Feature"===e.locationName||"Series"===e.locationName)&&void 0!==s&&!1===l)&&a.push(t)}}),r._isCollectionDetailsBreadcrumb(t)&&a.push("Collection Details"))),!0===l&&void 0!==s.seasonNumber&&void 0!==s.fullSeasonTitle&&(a.push(s.fullSeasonTitle),a.push(s.fullTitle)),0===a.length&&a.push("Home-Landing"),i.fulfilled(a)},_isCollectionDetailsBreadcrumb:function(e){var t=e.getActivationArgs();return void 0!==t&&"Collection"===t.modelType},_getServiceAccessCode:function(e,t){var i;return!0!==e&&!0!==t||(i="",!0===e&&(i+="HBO Go",!0===t&&(i+=" / ")),!0===t&&(i+="Max Go")),i},_normalizeVideoLocationName:function(e){var t;switch(e){case g.Locations.PRODUCT_INFO:t="productInfo";break;case g.Locations.LANDING:t="landingpage";break;case g.Locations.GRID:t="browsegrid";break;case g.Locations.PLAYER:case g.Locations.PLAYER_WITH_PRODUCT_INFO:t="videoplayer"}return t},_normalizeVideoFactoryId:function(e){return!0===e?"preview":"full length"},_normalizeScreenState:function(e){return e<=1440?"Fill":"Full"},_getErrorMessage:function(e){switch(e){case"dataservices.activation.ActivationException":return S.ACTIVATE;case"dataservices.authentication.AuthenticationException":case"dataservices.authentication.AffiliateAuthenticationException":return S.AUTHENTICATION;case"dataservices.ContentUnavailableException":return S.VIDEOS_NOT_AVAIL;case"dataservices.ServiceException":case"platform.NetworkException":return S.GO_ERROR;case"platform.common.PlaybackException":return S.VIDEO_ERROR;case"dataservices.authentication.StreamTrackingException":return S.STREAM_MAX;default:return S.DEFAULT}},_postRequest:function(e){var t=v(e,function(e){return void 0===e});return m.singleton.sendData(t)},_generateDeviceString:function(){var e=y.singleton.analyticsName;return"appletvdemo"===_.singleton.buildDesign&&(e+="_demo"),e}})})})}(),function(){"use strict";define("design/logging/ChromecastStartStopLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("design.logging.ChromecastStartStopLogEntry",t,function(t){e.initConstructor(function(){this._type="chromecaststartstop"}),e.properties({isCasting:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.isCasting=this.isCasting,e}})})})}(),function(){"use strict";define("design/analytics/ChromecastSessionListener",["core/oop","core/Disposable","platform/diagnostics/Timer","platform/dependent/Chromecast","design/logging/ChromecastStartStopLogEntry","ui/logging/UserInteractionLogEntry","design/analytics/UserInteractionTargets"],function(e,t,i,n,o,r,a){return e.classDef("design.analytics.ChromecastSessionListener",t,function(t){e.singleton(function(){this._applicationStatusChangedCallback=this._onApplicationStatusChanged.bind(this),this._sessionChangedCallback=this._onSessionChanged.bind(this),this._created()}),e.properties({_timer:void 0,_id:void 0,_title:void 0,_applicationStatusChangedCallback:void 0,_sessionChangedCallback:void 0}),e.methods({start:function(){this._id=void 0,this._title=void 0,this._timer=i.new(),n.singleton.applicationStatusChanged.on(this._applicationStatusChangedCallback),n.singleton.sessionIdChanged.on(this._sessionChangedCallback)},_disposeCore:function(){n.singleton.applicationStatusChanged.off(this._applicationStatusChangedCallback),n.singleton.sessionIdChanged.off(this._sessionChangedCallback),t._disposeCore.apply(this,arguments)},_onApplicationStatusChanged:function(){var e=n.singleton.applicationStatus;void 0===this._id&&void 0!==e.cutId&&(this._title=e.title,this._id=e.cutId,this._timer.reset(),this._timer.start(),r.new({area:"design.analytics.ChromecastSessionListener._onApplicationStatusChanged",target:a.CHROMECAST_PLAYED,contextualData:{title:this._title,assetId:this._id}}).log())},_onSessionChanged:function(e){var t=void 0!==e;void 0!==this._id&&!1===t&&(this._timer.stop(),r.new({area:"design.analytics.ChromecastSessionListener._onSessionChanged",target:a.CHROMECAST_ENDED,contextualData:{title:this._title,assetId:this._id,durationMS:this._timer.elapsedTime}}).log(),this._title=void 0,this._id=void 0),o.new({area:"design.analytics.ChromecastSessionListener._onSessionChanged",isCasting:t}).log()}})})})}(),function(){"use strict";define("design/analytics/Omniture",["core/oop","core/Debug","core/Exception","core/logging/Levels","lib/lodash/objects/forOwn","design/NavigationRouter","design/analytics/OmnitureBase","design/analytics/ChromecastSessionListener","ui/navigation/Navigator","design/analytics/UserInteractionTargets","design/ScreenUtil","platform/NetworkCodes","platform/dependent/Process","platform/dependent/User","application/ClientApplication","application/ClientDevice","dataservices/DataServicesSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m){return e.classDef("design.analytics.Omniture",a,function(t){e.singleton(function(){t.$ctor.apply(this,arguments),s.singleton.start(),this._sentPlayerVersion=!1,this._pcMappings={theatrical:"Primary:Movies:",television:"Primary:TV:",subTheatrical:"SubAccount:Movies:",subTelevision:"SubAccount:TV:"},this._knownLocationMap={VersionInfo:["VersionInfo"],PrivacyPolicy:["Privacy"],TermsOfService:["Terms"]}}),e.properties({_pcMappings:void 0,_sentPlayerVersion:void 0,_sendAnalyticsCampaign:void 0,_knownLocationMap:void 0}),e.methods({userInteractionEvent:function(e,i){t.userInteractionEvent.apply(this,arguments);var n=this;switch(e){case c.PLAYER_SKIP_BACK:this._createVideoEventRequest(i,a.OmnitureEvents.PLAYER_SKIP_BACK,function(e){n._addCommonEventVideoData(e,i.videoEventData)});break;case c.PLAYER_FULLSCREEN:var r=void 0!==f.singleton.model&&-1!==f.singleton.model.toLowerCase().indexOf("ipad"),s=r?a.OmnitureEvents.IPAD_FULLSCREEN:a.OmnitureEvents.PLAYER_FULLSCREEN;this._createVideoEventRequest(i,s,function(e){n._addCommonEventVideoData(e,i.videoEventData)});break;case c.PARENTAL_CONTROLS_ENABLED:this._createRequest(a.OmnitureEvents.PARENTAL_CONTROLS_ENABLED);break;case c.PARENTAL_CONTROLS_UPDATED:this._createRequest(a.OmnitureEvents.PARENTAL_CONTROLS_UPDATED,function(e){var t=[];o(i,function(e,i){n._pcMappings[i],t.push(n._pcMappings[i]+e)}),e.list1=t.join(";")});break;case c.PROFILE_REGISTERED:this._createRequest(a.OmnitureEvents.PROFILE_REGISTERED);break;case c.PROFILE_NEWSLETTER:this._createRequest(a.OmnitureEvents.PROFILE_NEWSLETTER);break;case c.CHROMECAST_PLAYED:this._createRequest(a.OmnitureEvents.CHROMECAST_PLAYED,function(e){n._addCommonEventVideoData(e,i),n._addVideoTitleData(e,i)});break;case c.CHROMECAST_ENDED:this._createRequest(a.OmnitureEvents.CHROMECAST_ENDED,function(e){n._addCommonEventVideoData(e,i),n._addVideoTitleData(e,i),e.products=";;;;event48="+Math.round(i.durationMS/1e3)});break;case c.AIRPLAY_START:this._createRequest(a.OmnitureEvents.AIRPLAY_START);break;case c.HELP_CENTER_LAUNCHED:this._createRequest(a.OmnitureEvents.HELP_CENTER_LAUNCHED);break;case c.SOCIAL_OPENED:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){n._addSocialIconEventData(e,i)});break;case c.ASSET_SERIES_SELECTED:this._createRequest(a.OmnitureEvents.ASSET_SERIES_SELECTED,function(e){e.prop26=e.eVar26=i.assetId});break;case c.PIP_POP_OUT:this._createRequest(a.OmnitureEvents.PIP_POP_OUT,function(e){n._addCommonEventVideoData(e,i),n._addVideoTitleData(e,i)});break;case c.PIP_POP_IN:this._createRequest(a.OmnitureEvents.PIP_POP_IN,function(e){n._addCommonEventVideoData(e,i),n._addVideoTitleData(e,i)});break;case c.INTERACTIVE_ITEM_OPENED:this._createRequest(a.OmnitureEvents.INTERACTIVE_ITEM_OPENED,function(e){n._addInteractiveData(e,i)});break;case c.INTERACTIVE_ITEM_CLOSED:this._createRequest(a.OmnitureEvents.INTERACTIVE_ITEM_CLOSED,function(e){n._addInteractiveData(e,i)});break;case c.WATCHLIST:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop26=e.eVar26="nav bar",e.prop16=e.eVar16="watchlist",e.prop17=e.eVar17="navigation"});break;case c.WATCHFREE:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop26=e.eVar26="nav bar",e.prop16=e.eVar16="watch free",e.prop17=e.eVar17="navigation"});break;case c.LOGIN:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop26=e.eVar26="nav bar",e.prop16=e.eVar16="login",e.prop17=e.eVar17="navigation"});break;case c.SEARCH:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop26=e.eVar26="nav bar",e.prop16=e.eVar16="search",e.prop17=e.eVar17="navigation"});break;case c.CATEGORY_NAV:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop26=e.eVar26="nav bar",n._addMenuNavData(e,i)});break;case c.SUBCATEGORY_NAV:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop26=e.eVar26="sub category bar",n._addMenuNavData(e,i)});break;case c.TILE_PLAY:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){n._addTilePlayData(e,i)});break;case c.TILE_NAV:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop17=e.eVar17="navigation",e.prop16=e.eVar16=i.linkData.fullTitle,e.prop26=e.eVar26=i.linkData.dataModelId});break;case c.PAYWALL_CTA:this._createRequest(a.OmnitureEvents.USER_INTERACTION,function(e){e.prop17=e.eVar17="paywall_cta"})}},_constructRequiredData:function(e){return t._constructRequiredData.apply(this,e).then(function(e){return h.singleton.advertisingID.then(function(t){return d.singleton.byDesignCall({desktop:function(){e.visitorID=t},mobile:function(){var t=d.singleton.byScreen({phone:"portrait",default:"landscape"});e.prop35=t,e.eVar35=t}}),e})})},_createVideoEventRequest:function(e,t,o){void 0!==e?this._createRequest(t,o):i.new({area:"design.analytics.Omniture._createVideoEventRequest",level:n.WARNING,message:"Undefined videoEventData for analytics event: "+t}).logTelemetry()},_pageViewedCallback:function(e){var i=this;return t._pageViewedCallback.apply(this,arguments).then(function(){return!0!==i._sentPlayerVersion&&(i._sentPlayerVersion=!0,e.prop34=e.eVar34=g.singleton.playerVersion),!0!==i._sendAnalyticsCampaign&&void 0!==m.singleton.externalAnalyticsCampaign&&(d.singleton.byDesignCall({desktop:function(){e.externalCampaignID=m.singleton.externalAnalyticsCampaign,e.internalCampaignID=m.singleton.internalAnalyticsCampaign},mobile:function(){e.eVar72=m.singleton.externalAnalyticsCampaign,e.prop72=m.singleton.externalAnalyticsCampaign}}),i._sendAnalyticsCampaign=!0),l.singleton.getActiveViewHost().getPageViewAnalyticsData().then(function(t){e.prop10=e.eVar10=void 0!==t.seriesName?t.seriesName.toLowerCase():void 0})})},_addTilePlayData:function(e,t){for(var i=t.target;"design.views.TileView"!==i.typeName;)i=i.parent;var n=i.getTileAnalytics();e.prop16=e.eVar16=n.fullTitle,e.prop26=e.eVar26=n.dataModelId,e.prop17=e.eVar17="play"},_addSocialIconEventData:function(e,t){var i=t.linkTarget;e.prop10=e.eVar10="global",e.prop17=e.eVar17="social",e.prop58=e.eVar58=e.prop57=e.eVar57="footer",-1!==i.indexOf("instagram")?(e.prop16=e.eVar16="instagram icon",e.prop14=e.eVar14=3):-1!==i.indexOf("facebook")?(e.prop16=e.eVar16="facebook icon",e.prop14=e.eVar14=2):-1!==i.indexOf("twitter")?(e.prop16=e.eVar16="twitter icon",e.prop14=e.eVar14=1):-1!==i.indexOf("youtube")?(e.prop16=e.eVar16="youtube icon",e.prop14=e.eVar14=0):e.prop16=e.eVar16="unknown"},_addMenuNavData:function(e,t){e.prop16=e.eVar16=t.linkData,e.prop17=e.eVar17="navigation"},_addCommonEventVideoData:function(e,t){e.prop26=e.eVar26=t.assetId,e.prop19=e.eVar19=t.title},_addVideoData:function(e,i){t._addVideoData.apply(this,arguments),e.prop10=e.eVar10=void 0!==i.seriesName?i.seriesName.toLowerCase():void 0,e.prop11=e.eVar11="Unknown";var n=this;d.singleton.byDesignCall({mobile:function(){n._addWirelessConnectionData(e)}})},_getLocationNames:function(e,t,i){var n=this;return i.getPageViewAnalyticsData().then(function(i){var o=t.locationName;if(void 0!==n._knownLocationMap[o])return n._knownLocationMap[o];for(var r,a="Asset"===o||"Series"===o?e.length-2:e.length-1,s=!1,l=a;l>=0;l--){var c=e.getAt(l),d=c.locationName,u="CollectionLanding"===d||"CollectionDetail"===d||"Category"===d,p="Home"===d;if("Series"!==d){if(!1===u&&!1===p)break;if(void 0===r&&!0===u)r=c;else if(void 0!==r&&!0===p){s=!0;break}}}var h=[];return void 0!==r&&(!0===s&&h.push("Home"),n._addCollectionNamesFromBreadcrumb(h,r,s),n._addCategoryNamesFromBreadcrumb(h,r,s)),n._addCollectionPageViewLocations(h,i),n._addAssetPageViewLocations(h,i),0===h.length&&h.push("Home"),h})},_addCollectionNamesFromBreadcrumb:function(e,t,i){var n=t.locationName;if("CollectionLanding"!==n&&"CollectionDetail"!==n||(e.push("Collections"),e.push(!0===i?"See All":"All Collections")),"CollectionDetail"===n){var o=t.getStateArgs();void 0!==o&&void 0!==o.collectionTitle&&e.push(o.collectionTitle)}},_addCategoryNamesFromBreadcrumb:function(e,t,i){if("Category"===t.locationName){var n=r.singleton.getMenuAnalyticsTitlesFromBreadcrumb(t);if(n.length>0){if(1===n.length&&n.push(!0===i?"A-Z":"All"),!0===i){var o=n.shift();n.unshift(o,"See All")}n.forEach(function(t){e.push(t)})}}},_addCollectionPageViewLocations:function(e,t){void 0!==t.collectionTitle&&e.push(t.collectionTitle)},_addAssetPageViewLocations:function(e,t){void 0!==t.seriesName&&e.push(t.seriesName),void 0!==t.seasonNumber&&e.push("Season "+t.seasonNumber),void 0!==t.title&&e.push(t.title)},_addWirelessConnectionData:function(e){var t;switch(p.singleton.networkCode.toString()){case u.CELLULAR.toString():t="cell";break;case u.WIRELESS.toString():t="wifi";break;case u.NOT_CONNECTED.toString():t="offline";break;default:t="na"}e.eVar31=t},_addInteractiveData:function(e,t){e.eVar94=t.numInteractiveItems,e.eVar95=t.initiatedFrom,e.eVar96=t.percentOfVideo,e.eVar97=t.interactiveType,e.eVar98=t.interactiveTitle,this._addCommonEventVideoData(e,t),this._addVideoTitleData(e,t)}})})})}(),function(){"use strict";define("configuration/Omniture",["core/oop","core/Debug","design/analytics/Omniture","dataservices/DataServicesSettings","application/ClientDevice"],function(e,t,i,n,o){var r=e.classDef("configuration.Omniture",Object,function(){e.staticScope(function(){e.properties({_reportSuites:{defaultValue:{mobile:{hbogo:{prod:"hbobhbogoappleprod",dev:"hbobhboapple"},hbonow:{prod:"hbobhbonowmobprod",dev:"hbobhbonowmobdev"}},daydream:{hbogo:{prod:"hbobgogooglevrapp",dev:"hbobgogooglevrappdev"},hbonow:{prod:"hbobnowgooglevrapp",dev:"hbobnowgooglevrappdev"}},desktop:{hbogo:{prod:"hbobhbogoprod,hbobhbonowglobalprod",dev:"hbobhbogodev"},hbonow:{prod:"hbobhbonowdesktopprod,hbobhbonowglobalprod",dev:"hbobhbonowdesktopdev"}},appletv:{hbogo:{prod:"hbobhbogoappletv",dev:"hbobhbogoappletvdev"},hbonow:{prod:"hbobhbonowappletvprod",dev:"hbobhbonowappletvdev"}},appletvdemo:{hbogo:{prod:"hbobhbogoappletv",dev:"hbobhbogoappletvdev"},hbonow:{prod:"hbobhbonowappletvprod",dev:"hbobhbonowappletvdev"}},androidtv:{hbogo:{prod:"hbobhbogoandroidtv",dev:"hbobhbogoandroidtvdev"},hbonow:{prod:"hbobhbonowandroidtvprod",dev:"hbobhbonowandroidtvdev"}},firetv:{hbogo:{prod:"hbobhbogofiretv",dev:"hbobhbogofiretvdev"},hbonow:{prod:"hbobhbonowfiretvprod",dev:"hbobhbonowfiretvdev"}},hiltontv:{hbogo:{prod:"hbobhbogohiltontv",dev:"hbobhbogohiltontvdev"}},ps4:{hbogo:{prod:"hbobhbogops4",dev:"hbobhbogops4dev"},hbonow:{prod:"hbobhbonowps4",dev:"hbobhbonowps4dev"}},tizentv:{hbogo:{prod:"hbobhbogosamsung",dev:"hbobhbogosamsungdev"},hbonow:{prod:"hbobhbonowsamsungtizenprod",dev:"hbobhbonowsamsungtizendev"}},uwptablet:{hbogo:{prod:"hbobhbogouwpprod",dev:"hbobhbogouwpdev"},hbonow:{prod:"hbobhbonowuwpprod",dev:"hbobhbonowuwpdev"}},uwptv:{hbogo:{prod:"hbobhbogoxboxone",dev:"hbobhbogoxboxonedev"},hbonow:{prod:"hbobhbonowxboxoneprod",dev:"hbobhbonowxboxonedev"}}}}}),e.methods({configure:function(e){var t=e.features.design,a=e.features.brand,s=!0===n.singleton.productionAnalytics?"prod":"dev";"Amazon Fire TV"===o.singleton.analyticsName?t="firetv":"ios"===t||"android"===t?t="mobile":"activation"!==t&&"commerce"!==t||(t="desktop"),i.singleton.rsid=r._reportSuites[t][a][s],i.singleton.rsid}})})});return r})}(),function(e,t){if("function"==typeof define&&define.amd)define("lib/conviva",t);else if("object"==typeof exports)module.exports=t();else{if(void 0!==e.Conviva)return;if(e.ConvivaLoading)return;e.ConvivaLoading=!0,e.Conviva=t(),delete e.ConvivaLoading}}(this,function(){var e={};return function(){"use strict";var t={};!function(){var i=e.Client=function(t,a){function l(e,t){if(!(e instanceof n))throw new Error("clientSettings parameter should be an instance of ClientSettings.");if(!(t instanceof r))throw new Error("systemFactory parameter should be an instance of SystemFactory.");(e.gatewayUrl==n._httpsProtocol+n.defaultProductionGatewayDNS||e.gatewayUrl==n._httpProtocol+n.defaultProductionGatewayDNS)&&(this.defaultGatewayURLError=!0),this._settings=e.clone(),this._systemFactory=t,this._systemFactory.configure("SDK",this._settings),this._exceptionCatcher=this._systemFactory.buildExceptionCatcher(),this._exceptionCatcher.runProtected("Client.init",function(){c._id=k.uinteger32(),c._logger=c._systemFactory.buildLogger(),c._logger.setModuleName("Client"),c.defaultGatewayURLError&&c._logger.info("Gateway URL should not be set to https://cws.conviva.com or http://cws.conviva.com, therefore this call is ignored"),c._logger.info("init(): url="+c._settings.gatewayUrl+" customerKey="+c._settings.customerKey),c._config=c._systemFactory.buildConfig(),c._config.load(),c._sessionFactory=c._systemFactory.buildSessionFactory(c,c._settings,c._config),c._logger.info("init(): done.")},function(e){throw new Error("Client constructor failed: "+e.message)})}var c=this;this.defaultGatewayURLError=!1,this._logger=null,this._sessionFactory=null,this._systemFactory=null,this._globalSessionKey=-1,this._settings=null,this._systemSettings=null,this._exceptionCatcher=null,this._config=null,this._id=-1,this._released=!1,l.apply(this,arguments),this.release=function(){this._released||this._exceptionCatcher.runProtected("Client.release",function(){c._logger.info("release()"),c._sessionFactory.cleanup(),c._sessionFactory=null,c._globalSessionKey=-1,c._logger=null,c._id=-1,c._exceptionCatcher=null,c._settings=null,c._systemSettings=null,c._systemFactory=null,c._released=!0})},this.createSession=function(e){var t=i.NO_SESSION_KEY;return this._released?t:null==e||e instanceof o?(this._exceptionCatcher.runProtected("Client.createSession",function(){t=c._sessionFactory.makeVideoSession(e,w.SESSION_TYPE.VIDEO)}),t):(c._logger.error("createSession(): expecting an instance of ContentMetadata for contentMetadata parameter"),t)
},this.createAdSession=function(e,t){var n=i.NO_SESSION_KEY;return this._released?n:null==t||t instanceof o?(this._exceptionCatcher.runProtected("Client.createAdSession",function(){var i=c._sessionFactory.getVideoSession(e);null!=i&&((null==t.applicationName||null==t.viewerId)&&(null==t.viewerId&&null!=i._contentMetadata.viewerId&&(t.viewerId=i._contentMetadata.viewerId),null==t.applicationName&&null!=i._contentMetadata.applicationName&&(t.applicationName=i._contentMetadata.applicationName)),t.custom["c3.csid"]=I.ToString(i._id)),n=c._sessionFactory.makeVideoSession(t,w.SESSION_TYPE.AD)}),n):(c._logger.error("createAdSession(): expecting an instance of ContentMetadata for adMetadata parameter"),n)},this.reportError=function(t,i,n){return this._released?void 0:I.isValidString(i)?n!==e.Client.ErrorSeverity.FATAL&&n!==e.Client.ErrorSeverity.WARNING?void this._logger.error("reportError(): invalid error severity: "+n):void this._exceptionCatcher.runProtected("Client.reportError",function(){var e=c._sessionFactory.getVideoSession(t);null!=e&&e.reportError(i,n)}):void this._logger.error("reportError(): invalid error message string: "+i)},this.updateContentMetadata=function(e,t){return this._released?void 0:t instanceof o?void this._exceptionCatcher.runProtected("Client.updateContentMetadata",function(){var i=c._sessionFactory.getVideoSession(e);if(null!=i){var n=t.clone();i.updateContentMetadata(n)}}):void c._logger.error("updateContentMetadata(): expecting an instance of ContentMetadata for contentMetadata parameter")},this.detachPlayer=function(e){this._released||this._exceptionCatcher.runProtected("Client.detachPlayer",function(){var t=c._sessionFactory.getVideoSession(e);null!=t&&t.detachPlayer()})},this.attachPlayer=function(e,t){return this._released?void 0:t instanceof s?void this._exceptionCatcher.runProtected("Client.attachPlayer",function(){var i=c._sessionFactory.getVideoSession(e);null!=i&&i.attachPlayer(t)}):void c._logger.error("attachPlayer(): expecting an instance of PlayerStateManager for playerStateManager parameter")},this.contentPreload=function(e){this._released||this._exceptionCatcher.runProtected("Client.contentPreload",function(){var t=c._sessionFactory.getVideoSession(e);null!=t&&t.contentPreload()})},this.contentStart=function(e){this._released||this._exceptionCatcher.runProtected("Client.contentStart",function(){var t=c._sessionFactory.getVideoSession(e);null!=t&&t.contentStart()})},this.sendCustomEvent=function(e,t,n){return this._released?void 0:I.isValidString(t)?void this._exceptionCatcher.runProtected("Client.sendCustomEvent",function(){if(e==i.NO_SESSION_KEY){if(c._globalSessionKey<0){var r=new o;c._globalSessionKey=c._sessionFactory.makeGlobalSession(r,null)}e=c._globalSessionKey}var a=I.sanitizeStringToStringObject(n),s=c._sessionFactory.getSession(e);null!=s&&s.sendCustomEvent(t,a)}):void c._logger.error("sendCustomEvent(): eventName parameter must be a valid string.")},this.adStart=function(e,t,n,o){return this._released?void 0:t!==i.AdStream.CONTENT&&t!==i.AdStream.SEPARATE?void this._logger.error("adStart(): ignored, invalid value for adStream parameter: "+t):n!==i.AdPlayer.CONTENT&&n!==i.AdPlayer.SEPARATE?void this._logger.error("adStart(): ignored, invalid value for adPlayer parameter: "+n):o!==i.AdPosition.BUMPER&&o!==i.AdPosition.PREROLL&&o!==i.AdPosition.MIDROLL&&o!==i.AdPosition.POSTROLL?void this._logger.error("adStart(): ignored, invalid value for adPosition parameter: "+o):void this._exceptionCatcher.runProtected("Client.adStart",function(){var i=c._sessionFactory.getVideoSession(e);null!=i&&i.adStart(t,n,o)})},this.adEnd=function(e){this._released||this._exceptionCatcher.runProtected("Client.adEnd",function(){var t=c._sessionFactory.getVideoSession(e);null!=t&&t.adEnd()})},this.cleanupSession=function(e){return this._released?void 0:e===i.NO_SESSION_KEY?void this._logger.warning("cleanupSession(): ignored, can't cleanup Client.NO_SESSION_KEY"):void this._exceptionCatcher.runProtected("Client.cleanupSession",function(){null!=c._sessionFactory.getVideoSession(e)&&c._sessionFactory.cleanupSession(e)})},this.getAttachedPlayer=function(e){var t=null;return this._released?t:e===i.NO_SESSION_KEY?(this._logger.warning("getAttachedPlayer(): ignored for Client.NO_SESSION_KEY"),t):(this._exceptionCatcher.runProtected("Client.getAttachedPlayer",function(){var i=c._sessionFactory.getVideoSession(e);null!=i&&(t=i.getPlayerStateManager())}),t)},this.isPlayerAttached=function(e){return!this._released&&null!==this.getAttachedPlayer(e)},this.getPlayerStateManager=function(){if(this._released)throw new Error("This instance of Conviva.Client has been released.");return new s(this._systemFactory)},this.releasePlayerStateManager=function(e){if(this._released)throw new Error("This instance of Conviva.Client has been released.");this._exceptionCatcher.runProtected("Client.releasePlayerStateManager",function(){e instanceof s&&e.release()})},this.getSettings=function(){return this._settings},this.getId=function(){return this._id}};i.version="2.139.0.35500",i.NO_SESSION_KEY=-2,i.AdPosition={BUMPER:"BUMPER",PREROLL:"PREROLL",MIDROLL:"MIDROLL",POSTROLL:"POSTROLL"},i.AdStream={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},i.AdPlayer={CONTENT:"CONTENT",SEPARATE:"SEPARATE"},i.ErrorSeverity={FATAL:0,WARNING:1},i.DeviceType={DESKTOP:"DESKTOP",CONSOLE:"Console",SETTOP:"Settop",MOBILE:"Mobile",TABLET:"Tablet",SMARTTV:"SmartTV",UNKNOWN:"Unknown"},i.AdTechnology={CLIENT_SIDE:"Client Side",SERVER_SIDE:"Server Side"},i.AdType={BLACKOUT_SLATE:"Blackout slate",TECHNICAL_DIFFICULTIES_SLATE:"Technical Difficulties slate",COMMERCIAL_SLATE:"Commercial Break slate",OTHER_SLATE:"Other slate",VPAID:"VPAID",REGULAR:"Regular Ad"},i.AdServingType={INLINE:"Inline",WRAPPER:"Wrapper"};var n=e.ClientSettings=function(e){function t(e){if(!I.isValidString(e))throw new Error("customerKey must be valid");this.customerKey=e}function i(e){if(I.isValidString(e)){var t=e.split("://");if("cws.conviva.com"!=t[1]&&("https"==t[0]||"http"==t[0]))return e}return"https://"+o.customerKey+"."+n.defaultProductionGatewayDNS}var o=this;this._customerKey=null,I.defGet(this,"customerKey",function(){return this._customerKey}),I.defSet(this,"customerKey",function(e){I.isValidString(e)&&(this._customerKey=e)}),this._heartbeatInterval=n.defaultProductionHeartbeatInterval,I.defGet(this,"heartbeatInterval",function(){return this._heartbeatInterval}),I.defSet(this,"heartbeatInterval",function(e){if("number"==typeof e){var t=I.NumberToUnsignedInt(e);t===e&&(this._heartbeatInterval=t)}}),this._gatewayUrl=null,I.defGet(this,"gatewayUrl",function(){return this._gatewayUrl}),I.defSet(this,"gatewayUrl",function(e){I.isValidString(e)&&(this._gatewayUrl=e)}),t.apply(this,arguments),this.equals=function(e){return this.customerKey===e.customerKey&&this.gatewayUrl===e.gatewayUrl&&this.heartbeatInterval===e.heartbeatInterval},this.clone=function(){var e=new n(this.customerKey);return e.gatewayUrl=i(this.gatewayUrl),e.heartbeatInterval=this.heartbeatInterval,e}};n.defaultDevelopmentGatewayUrl="https://conviva.testonly.conviva.com",n.defaultProductionGatewayUrl="https://cws.conviva.com",n.defaultProductionGatewayDNS="cws.conviva.com",n.defaultDevelopmentGatewayDNS="conviva.testonly.conviva.com",n._httpsProtocol="https://",n._httpProtocol="http://",n.defaultDevelopmentHeartbeatInterval=5,n.defaultProductionHeartbeatInterval=20;var o=e.ContentMetadata=function(){function e(){return this._assetName}function t(e){"string"==typeof e&&(this._assetName=e)}function i(){return this._custom}function n(e){"object"==typeof e&&(this._custom=I.sanitizeStringToStringObject(e))}function r(){return this._defaultBitrateKbps}function a(e){this._defaultBitrateKbps=V.sanitizeSpecialIntegerValue(e)}function s(){return this._defaultResource}function l(e){"string"==typeof e&&(this._defaultResource=e)}function c(){return this._viewerId}function d(e){"string"==typeof e&&(this._viewerId=e)}function u(){return this._applicationName}function p(e){"string"==typeof e&&(this._applicationName=e)}function h(){return this._streamUrl}function g(e){"string"==typeof e&&(this._streamUrl=e)}function f(){return this._streamType}function m(e){(e===o.StreamType.UNKNOWN||e===o.StreamType.VOD||e===o.StreamType.LIVE)&&(this._streamType=e)}function v(){return this._duration}function _(e){this._duration=V.sanitizeSpecialIntegerValue(e)}function y(){return this._encodedFrameRate}function w(e){this._encodedFrameRate=V.sanitizeSpecialIntegerValue(e)}function b(){}this._assetName=null,I.defGet(this,"assetName",e),I.defSet(this,"assetName",t),this._custom={},I.defGet(this,"custom",i),I.defSet(this,"custom",n),this._defaultBitrateKbps=-2,I.defGet(this,"defaultBitrateKbps",r),I.defSet(this,"defaultBitrateKbps",a),this._defaultResource=null,I.defGet(this,"defaultResource",s),I.defSet(this,"defaultResource",l),this._viewerId=null,I.defGet(this,"viewerId",c),I.defSet(this,"viewerId",d),this._applicationName=null,I.defGet(this,"applicationName",u),I.defSet(this,"applicationName",p),this._streamUrl=null,I.defGet(this,"streamUrl",h),I.defSet(this,"streamUrl",g),this._streamType=o.StreamType.UNKNOWN,I.defGet(this,"streamType",f),I.defSet(this,"streamType",m),this._duration=-1,I.defGet(this,"duration",v),I.defSet(this,"duration",_),this._encodedFrameRate=-1,I.defGet(this,"encodedFrameRate",y),I.defSet(this,"encodedFrameRate",w),b.apply(this,arguments),this.clone=function(){var e=new o;e.assetName=this.assetName,e.applicationName=this.applicationName,e.streamUrl=this.streamUrl,e.viewerId=this.viewerId,e.defaultBitrateKbps=this.defaultBitrateKbps,e.defaultResource=this.defaultResource,e.streamType=this.streamType,e.duration=this.duration,e.encodedFrameRate=this.encodedFrameRate;for(var t in this.custom)e.custom[t]=this.custom[t];return e}};o.StreamType={UNKNOWN:"UNKNOWN",LIVE:"LIVE",VOD:"VOD"};var r=(e.ErrorType={ERROR_UNKNOWN:"ERROR_UNKNOWN",ERROR_IO:"ERROR_IO",ERROR_TIMEOUT:"ERROR_TIMEOUT",ERROR_NULL_ASSET:"ERROR_NULL_ASSET",ERROR_MISSING_PARAMETER:"ERROR_MISSING_PARAMETER",ERROR_NO_AD_AVAILABLE:"ERROR_NO_AD_AVAILABLE",ERROR_PARSE:"ERROR_PARSE",ERROR_INVALID_VALUE:"ERROR_INVALID_VALUE",ERROR_INVALID_SLOT:"ERROR_INVALID_SLOT",ERROR_3P_COMPONENT:"ERROR_3P_COMPONENT",ERROR_UNSUPPORTED_3P_FEATURE:"ERROR_UNSUPPORTED_3P_FEATURE",ERROR_DEVICE_LIMIT:"ERROR_DEVICE_LIMIT",ERROR_UNMATCHED_SLOT_SIZE:"ERROR_UNMATCHED_SLOT_SIZE"},e.Events={AD_REQUESTED:"Conviva.AdRequested",AD_RESPONSE:"Conviva.AdResponse",AD_SLOT_STARTED:"Conviva.SlotStarted",AD_ATTEMPTED:"Conviva.AdAttempted",AD_SLOT_ENDED:"Conviva.SlotEnded",AD_IMPRESSION_START:"Conviva.AdImpression",AD_START:"Conviva.AdStart",AD_FIRST_QUARTILE:"Conviva.AdFirstQuartile",AD_MID_QUARTILE:"Conviva.AdMidQuartile",AD_THIRD_QUARTILE:"Conviva.AdThirdQuartile",AD_COMPLETE:"Conviva.AdComplete",AD_END:"Conviva.AdEnd",AD_IMPRESSION_END:"Conviva.AdImpressionEnd",AD_SKIPPED:"Conviva.AdSkipped",AD_ERROR:"Conviva.AdError",AD_PROGRESS:"Conviva.AdProgress",AD_CLOSE:"Conviva.AdClose",CONTENT_PAUSED:"Conviva.PauseContent",CONTENT_RESUMED:"Conviva.ResumeContent",POD_START:"Conviva.PodStart",POD_END:"Conviva.PodEnd"},e.SystemFactory=function(e,t){function i(e,t){if(!(e instanceof p))throw new Error("systemInterface parameter should be an instance of SystemInterface.");this._systemInterface=e,this._timeInterface=this._systemInterface._timeInterface,this._timerInterface=this._systemInterface._timerInterface,this._httpInterface=this._systemInterface._httpInterface,this._storageInterface=this._systemInterface._storageInterface,this._metadataInterface=this._systemInterface._metadataInterface,this._loggingInterface=this._systemInterface._loggingInterface,this._settings=t instanceof a?t.clone():new a}var n=this;i.apply(this,arguments),this.configure=function(e,t){this._packageName=e,this._clientSettings=t},this.release=function(){this._systemInterface.release(),this._systemInterface=null,this._packageName=null,this._settings=null,this._logBuffer=null};var o={build:function(){return new D(n._loggingInterface,n._timeInterface,n.getSettings(),n._logBuffer,n._packageName)}};this.buildLogger=function(){return o.build()},this.buildSessionFactory=function(e,t,i){return new S(e,t,i,this)},this.buildPing=function(){return new A(this.buildLogger(),this.buildHttpClient(),this._clientSettings)},this.buildCallbackWithTimeout=function(){return new C(this.buildTimer())},this.buildCallbackWithTimeoutNoPing=function(){var e=new P(this.buildLogger(),null,this.getSettings()),t=new L(this.buildLogger(),this._timerInterface,e);return new C(t)},this.buildHttpClient=function(){return new M(this.buildLogger(),this._httpInterface,this.buildCallbackWithTimeoutNoPing(),this.getSettings())},this.buildExceptionCatcher=function(){return new P(this.buildLogger(),this.buildPing(),this.getSettings())},this.buildTime=function(){return new F(this._timeInterface,this.buildLogger())},this.buildTimer=function(){return new L(this.buildLogger(),this._timerInterface,this.buildExceptionCatcher())},this.buildStorage=function(){return new O(this.buildLogger(),this._storageInterface,this.buildCallbackWithTimeout(),this.getSettings())},this.buildConfig=function(){return new T(this.buildLogger(),this.buildStorage(),this.buildJsonInterface())},this.buildSystemMetadata=function(){return new N(this.buildLogger(),this._metadataInterface,this.buildExceptionCatcher())},this.buildCwsProtocol=function(){return new v},this.buildGatewayControl=function(e){return new E(e,this.buildLogger(),this.buildHttpClient(),this.buildJsonInterface())},this.buildCwsSession=function(e,t,i){var n=this.buildGatewayControl(t);return new w(this.buildEventQueue(),e,t,this.buildLogger(),this.buildExceptionCatcher(),this.buildTimer(),n,this.buildCwsProtocol(),this.buildTime(),this.getLogBuffer(),i)},this.buildSession=function(e,t,i,n,o,r){var a=this.buildExceptionCatcher(),s=this.buildLogger(),l=this.buildCwsSession(e,t,i);return new b(n,o,r,i,this.buildSystemMetadata(),l,a,s)},this.buildEventQueue=function(){return new R},this.buildJsonInterface=function(){return new _},this.getLogBuffer=function(){return this._logBuffer},this.getSettings=function(){return this._settings},this._logBuffer=new x}),a=e.SystemSettings=function(){function e(){}this._logLevel=a.defaultProductionLogLevel,I.defGet(this,"logLevel",function(){return this._logLevel}),I.defSet(this,"logLevel",function(e){if("number"==typeof e){var t=I.NumberToUnsignedInt(e);t===e&&t>=a.LogLevel.DEBUG&&t<=a.LogLevel.ERROR&&(this._logLevel=t)}}),this._allowUncaughtExceptions=a.defaultProductionAllowUncaughtExceptions,I.defGet(this,"allowUncaughtExceptions",function(){return this._allowUncaughtExceptions}),I.defSet(this,"allowUncaughtExceptions",function(e){I.isBoolean(e)&&(this._allowUncaughtExceptions=e)}),this._storageTimeout=a.defaultStorageTimeout,I.defGet(this,"storageTimeout",function(){return this._storageTimeout}),I.defSet(this,"storageTimeout",function(e){if("number"==typeof e){var t=I.NumberToUnsignedInt(e);t===e&&(this._storageTimeout=t)}}),this._httpTimeout=a.defaultHttpTimeout,I.defGet(this,"httpTimeout",function(){return this._httpTimeout}),I.defSet(this,"httpTimeout",function(e){if("number"==typeof e){var t=I.NumberToUnsignedInt(e);t===e&&(this._httpTimeout=t)}}),e.apply(this,arguments),this.equals=function(e){return this.logLevel===e.logLevel&&this.allowUncaughtExceptions===e.allowUncaughtExceptions&&this.storageTimeout===e.storageTimeout&&this.httpTimeout===e.httpTimeout},this.clone=function(){var e=new a;return e.logLevel=this.logLevel,e.allowUncaughtExceptions=this.allowUncaughtExceptions,e.storageTimeout=this.storageTimeout,e.httpTimeout=this.httpTimeout,e}};a.LogLevel={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},a.defaultDevelopmentLogLevel=a.LogLevel.DEBUG,a.defaultProductionLogLevel=a.LogLevel.ERROR,a.defaultDevelopmentAllowUncaughtExceptions=!0,a.defaultProductionAllowUncaughtExceptions=!1,a.defaultStorageTimeout=10,a.defaultHttpTimeout=10;var s=e.PlayerStateManager=function(i){function n(e){o._systemFactory=e,o._logger=o._systemFactory.buildLogger(),o._logger.setModuleName("PlayerStateManager"),o._exceptionCatcher=o._systemFactory.buildExceptionCatcher()}var o=this;o._monitorNotifier=null,o._bitrateKbps=-2,o._playerState=s.PlayerState.UNKNOWN,o._currentMetadata={},o._renderedFrameRate=-2,o._encodedFrameRate=-2,o._duration=-2,o._playerVersion=null,o._playerType=null,o._streamUrl=null,o._moduleName=null,o._moduleVersion=null,o._width=-1,o._height=-1,o._connectionType=null,o._linkEncryption=null,o._lastError=null,o._pendingErrors=[],o._released=!1,this.release=function(){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.release",function(){null!=o._monitorNotifier&&o._monitorNotifier.onRelease(),o.removeMonitoringNotifier(),o._systemFactory=null,o._logger=null,o._exceptionCatcher=null,o._released=!0})},this.setPlayheadTime=function(e){},this.setBufferLength=function(e){},this.setRenderedFrameRate=function(e){},this.getEncodedFrameRate=function(){return o._encodedFrameRate},this.setEncodedFrameRate=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setEncodedFrameRate",function(){var t=V.sanitizeSpecialIntegerValue(e);t>=-1&&(o._encodedFrameRate=t,null!=o._monitorNotifier&&o._monitorNotifier.onEncodedFrameRateChange(o._encodedFrameRate))})},this.getDuration=function(){return o._duration},this.setClientMeasureInterface=function(t){I.validateInterface(t,new e.ClientMeasureInterface,"ClientMeasureInterface"),this._playerInterface=t},this.getPHT=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getPHT?this._playerInterface.getPHT():-1},this.getBufferLength=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getBufferLength?this._playerInterface.getBufferLength():-1},this.getSignalStrength=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getSignalStrength?this._playerInterface.getSignalStrength():s.DEFAULT_SIGNAL_STRENGTH},this.getRenderedFrameRate=function(){return this._playerInterface&&"function"==typeof this._playerInterface.getRenderedFrameRate?this._playerInterface.getRenderedFrameRate():s.DEFAULT_RENDERED_FRAME_RATE},this.setDuration=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setDuration",function(){var t=V.sanitizeSpecialIntegerValue(e);t>=-1&&(o._duration=t,null!=o._monitorNotifier&&o._monitorNotifier.onContentLengthChange(o._duration))})},this.getStreamUrl=function(){return o._streamUrl},this.setStreamUrl=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setStreamUrl",function(){null!=e&&(o._streamUrl=e,null!=o._monitorNotifier&&o._monitorNotifier.onStreamUrlChange(o._streamUrl))})},this.getModuleName=function(){return o._moduleName},this.getModuleVersion=function(){return o._moduleVersion},this.setModuleNameAndVersion=function(e,t){o._moduleName=e,o._moduleVersion=t},this.getPlayerType=function(){return o._playerType},this.setPlayerType=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setPlayerType",function(){o._playerType=e,null!=o._monitorNotifier&&o._monitorNotifier.onPlayerTypeChange(o._playerType)})},this.getPlayerVersion=function(){return o._playerVersion},this.setPlayerVersion=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setPlayerVersion",function(){o._playerVersion=e,null!=o._monitorNotifier&&o._monitorNotifier.onPlayerVersionChange(o._playerVersion)})},this.setMonitoringNotifier=function(e,t){return o._released?void 0:null==o._monitorNotifier&&(o._monitorNotifier=e,o._logger.setSessionId(t),!0)},this.removeMonitoringNotifier=function(){o._released||(o._monitorNotifier=null,o._logger.setSessionId(null))},this.pushCurrentState=function(){o.setPlayerState(o.getPlayerState()),o.setBitrateKbps(o.getBitrateKbps()),o.setDuration(o.getDuration()),o.setEncodedFrameRate(o.getEncodedFrameRate()),o.setStreamUrl(o.getStreamUrl()),o.setPlayerType(o.getPlayerType()),o.setPlayerVersion(o.getPlayerVersion());for(var e=0;e<o._pendingErrors.length;e++){var t=o._pendingErrors[e];o.setError(t)}o._pendingErrors=[]},this.getPlayerState=function(){return o._playerState},this.setPlayerState=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setPlayerState",function(){s.isValidPlayerState(e)?(o._playerState=e,null!=o._monitorNotifier&&o._monitorNotifier.onPlayerStateChange(o._playerState)):o._logger.error("PlayerStateManager.SetPlayerState(): invalid state: "+e)})},this.getBitrateKbps=function(){return o._bitrateKbps},this.setBitrateKbps=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setBitrateKbps",function(){var t=V.sanitizeSpecialIntegerValue(e);t>=-1&&(o._bitrateKbps=t,null!=o._monitorNotifier&&o._monitorNotifier.onBitrateChange(o._bitrateKbps))})},this.setPlayerSeekStart=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setPlayerSeekStart()",function(){null!=o._monitorNotifier&&o._monitorNotifier.onSeekEvent(s.SEEK_ACTIONS_TYPE.SEEK_START,e)})},this.setPlayerSeekEnd=function(){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setPlayerSeekEnd()",function(){null!=o._monitorNotifier&&o._monitorNotifier.onSeekEvent(s.SEEK_ACTIONS_TYPE.SEEK_END,-1)})},this.setUserSeekButtonUp=function(){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setUserSeekButtonUp()",function(){null!=o._monitorNotifier&&o._monitorNotifier.onSeekEvent(s.SEEK_ACTIONS_TYPE.BUTTON_UP,-1)})},this.setUserSeekButtonDown=function(){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setUserSeekButtonDown()",function(){null!=o._monitorNotifier&&o._monitorNotifier.onSeekEvent(s.SEEK_ACTIONS_TYPE.BUTTON_DOWN,-1)})},this.setVideoResolutionWidth=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setVideoResolutionWidth()",function(){var t=V.sanitizeSpecialIntegerValue(e);t>=0&&(o._width=t),null!=o._monitorNotifier&&o._monitorNotifier.onStreamResolutionWidthChange(o._width)})},this.setVideoResolutionHeight=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setVideoResolutionHeight()",function(){var t=V.sanitizeSpecialIntegerValue(e);t>=0&&(o._height=t),null!=o._monitorNotifier&&o._monitorNotifier.onStreamResolutionHeightChange(o._height)})},this.setConnectionType=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setConnectionType()",function(){o._connectionType=e,null!=o._monitorNotifier&&o._monitorNotifier.onConnectionTypeChange(o._connectionType)})},this.setLinkEncryption=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.setLinkEncryption()",function(){o._linkEncryption=e,null!=o._monitorNotifier&&o._monitorNotifier.onLinkEncryptionChange(o._linkEncryption)})},this.setSignalStrength=function(e){},this.setError=function(e){if(o._lastError=e,null!=o._monitorNotifier){var t=e.errorCode,i=e.severity;o._monitorNotifier.onError(t,i)}else o._pendingErrors.push(e)},this.sendError=function(e,i){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.sendError",function(){var n=new t.StreamerError(e,i);o.setError(n)})},this.updateContentMetadata=function(e){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.updateContentMetadata()",function(){o._updatedMetadata=e,null!=o._monitorNotifier&&o._monitorNotifier.onMetadataChange(o._updatedMetadata)})},this.reset=function(){o._released||o._exceptionCatcher.runProtected("PlayerStateManager.reset",function(){o._bitrateKbps=-2,o._playerState=s.PlayerState.UNKNOWN,o._currentMetadata={},o._renderedFrameRate=-1,o._encodedFrameRate=-1,o._duration=-1,o._playerVersion=null,o._playerType=null,o._streamUrl=null,o._lastError=null,o._pendingErrors=[]})},this.getError=function(){return o._lastError},n.apply(o,arguments),s.DEFAULT_SIGNAL_STRENGTH=1e3,s.DEFAULT_RENDERED_FRAME_RATE=-1};s.PlayerState={STOPPED:"STOPPED",PLAYING:"PLAYING",BUFFERING:"BUFFERING",PAUSED:"PAUSED",UNKNOWN:"UNKNOWN",NOT_MONITORED:"NOT_MONITORED"},s.isValidPlayerState=function(e){return e===s.PlayerState.STOPPED||e===s.PlayerState.PLAYING||e===s.PlayerState.BUFFERING||e===s.PlayerState.PAUSED||e===s.PlayerState.UNKNOWN||e===s.PlayerState.NOT_MONITORED},s.SEEK_ACTIONS_TYPE={SEEK_START:"pss",SEEK_END:"pse",BUTTON_UP:"bu",BUTTON_DOWN:"bd"};var l=(e.ClientMeasureInterface=function(){this.getPHT=function(){},this.getBufferLength=function(){},this.getSignalStrength=function(){},this.getRenderedFrameRate=function(){}},e.HttpInterface=function(){this.makeRequest=function(e,t,i,n,o,r){},this.release=function(){}}),c=e.LoggingInterface=function(){this.consoleLog=function(e,t){},this.release=function(){}},d=e.MetadataInterface=function(){this.getBrowserName=function(){},this.getBrowserVersion=function(){},this.getDeviceBrand=function(){},this.getDeviceManufacturer=function(){},this.getDeviceModel=function(){},this.getDeviceType=function(){},this.getDeviceVersion=function(){},this.getFrameworkName=function(){},this.getFrameworkVersion=function(){},this.getOperatingSystemName=function(){},this.getOperatingSystemVersion=function(){},this.release=function(){}},u=e.StorageInterface=function(){this.saveData=function(e,t,i,n){},this.loadData=function(e,t,i){},this.release=function(){}},p=e.SystemInterface=function(e,t,i,n,o,r){function a(e,t,i,n,o,r){I.validateInterface(e,new h,"TimeInterface"),I.validateInterface(t,new g,"TimerInterface"),I.validateInterface(i,new l,"HttpInterface"),I.validateInterface(n,new u,"StorageInterface"),I.validateInterface(o,new d,"MetadataInterface"),I.validateInterface(r,new c,"LoggingInterface"),this._timeInterface=e,this._timerInterface=t,this._httpInterface=i,this._storageInterface=n,this._metadataInterface=o,this._loggingInterface=r}a.apply(this,arguments),this.release=function(){this._timeInterface.release(),this._timeInterface=null,this._timerInterface.release(),this._timerInterface=null,this._httpInterface.release(),this._httpInterface=null,this._storageInterface.release(),this._storageInterface=null,this._metadataInterface.release(),this._metadataInterface=null,this._loggingInterface.release(),this._loggingInterface=null}},h=e.TimeInterface=function(){this.getEpochTimeMs=function(){},this.release=function(){}},g=e.TimerInterface=function(){this.createTimer=function(e,t,i){},this.release=function(){}},f=t.JSON2={};!function(){function e(e){return 10>e?"0"+e:e}function t(e){return n.lastIndex=0,n.test(e)?'"'+e.replace(n,function(e){var t=a[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function i(e,n){var a,l,c,d,u,p=o,h=n[e];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(e)),"function"==typeof s&&(h=s.call(n,e,h)),typeof h){case"string":return t(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(o+=r,u=[],Object.prototype.toString.apply(h)===Object.prototype.toString.apply([])){for(d=h.length,a=0;d>a;a+=1)u[a]=i(a,h)||"null";return c=0===u.length?"[]":o?"[\n"+o+u.join(",\n"+o)+"\n"+p+"]":"["+u.join(",")+"]",o=p,c}if(s&&"object"==typeof s)for(d=s.length,a=0;d>a;a+=1)"string"==typeof s[a]&&(l=s[a],(c=i(l,h))&&u.push(t(l)+(o?": ":":")+c));else for(l in h)Object.prototype.hasOwnProperty.call(h,l)&&(c=i(l,h))&&u.push(t(l)+(o?": ":":")+c);return c=0===u.length?"{}":o?"{\n"+o+u.join(",\n"+o)+"\n"+p+"}":"{"+u.join(",")+"}",o=p,c}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var n,o,r,a,s;"function"!=typeof f.stringify&&(n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f.stringify=function(e,t,n){var a;if(o="",r="","number"==typeof n)for(a=0;n>a;a+=1)r+=" ";else"string"==typeof n&&(r=n);if(s=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON2.stringify");return i("",{"":e})})}();var m=t.JsonParse=function(){var e,t,i,n,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},r=function(t){throw{name:"SyntaxError",message:t,at:e,text:i}},a=function(n){return n&&n!==t&&r("Expected '"+n+"' instead of '"+t+"'"),t=i.charAt(e),e+=1,t},s=function(){var e,i="";for("-"===t&&(i="-",a("-"));t>="0"&&"9">=t;)i+=t,a();if("."===t)for(i+=".";a()&&t>="0"&&"9">=t;)i+=t;if("e"===t||"E"===t)for(i+=t,a(),("-"===t||"+"===t)&&(i+=t,a());t>="0"&&"9">=t;)i+=t,a();return e=+i,isNaN(e)?void r("Bad number"):e},l=function(){var e,i,n,s="";if('"'===t)for(;a();){if('"'===t)return a(),s;if("\\"===t)if(a(),"u"===t){for(n=0,i=0;4>i&&(e=parseInt(a(),16),isFinite(e));i+=1)n=16*n+e;s+=String.fromCharCode(n)}else{if("string"!=typeof o[t])break;s+=o[t]}else s+=t}r("Bad string")},c=function(){for(;t&&" ">=t;)a()},d=function(){switch(t){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}r("Unexpected '"+t+"'")},u=function(){var e=[];if("["===t){if(a("["),c(),"]"===t)return a("]"),e;for(;t;){if(e.push(n()),c(),"]"===t)return a("]"),e;a(","),c()}}r("Bad array")},p=function(){var e,i={};if("{"===t){if(a("{"),c(),"}"===t)return a("}"),i;for(;t;){if(e=l(),c(),a(":"),Object.hasOwnProperty.call(i,e)&&r('Duplicate key "'+e+'"'),i[e]=n(),c(),"}"===t)return a("}"),i;a(","),c()}}r("Bad object")};return n=function(){switch(c(),t){case"{":return p();case"[":return u();case'"':return l();case"-":return s();default:return t>="0"&&"9">=t?s():d()}},function(o,a){var s;return i=o,e=0,t=" ",s=n(),c(),t&&r("Syntax error"),"function"==typeof a?function e(t,i){var n,o,r=t[i];if(r&&"object"==typeof r)for(n in r)Object.hasOwnProperty.call(r,n)&&(o=e(r,n),void 0!==o?r[n]=o:delete r[n]);return a.call(t,i,r)}({"":s},""):s}}(),v=t.CwsProtocol=function(){this.generateEvent=function(e,t,i,n){return n.seq=e,n.st=t,n.t=i,n},this.generateSessionEndEvent=function(e,t){var i=v.EVENT_TYPE_SESSION_END,n={};return this.generateEvent(e,t,i,n)}};v.version="2.4",v.gatewayPath="/0/wsg",v.DEFAULT_CLIENT_ID="0",v.DEFAULT_MAX_HEARTBEAT_INFOS=0,v.DEFAULT_PLAYHEAD_TIME=-1,v.DEFAULT_BUFFER_LENGTH=-1,v.DEFAULT_SIGNAL_STRENGTH=1e3,v.SDK_METADATA_SCHEMA="sdk.js.1",v.EVENT_TYPE_STATE_CHANGE="CwsStateChangeEvent",v.EVENT_TYPE_ERROR="CwsErrorEvent",v.EVENT_TYPE_SESSION_END="CwsSessionEndEvent",v.EVENT_TYPE_CUSTOM="CwsCustomEvent",v.EVENT_TYPE_SEEK="CwsSeekEvent",v.EVENT_TYPE_DATA_SAMPLE="CwsDataSamplesEvent",v.RESPONSE_STATUS_NO_ERRORS="ok",v.RESPONSE_KEY_STATUS="err",v.RESPONSE_KEY_CLIENT_ID="clid",v.RESPONSE_KEY_CONFIG="cfg",v.RESPONSE_KEY_EVENTS="evs",v.RESPONSE_CONFIG_KEY_MAX_HEARTBEAT_INFOS="maxhbinfos",v.RESPONSE_CONFIG_KEY_SEND_LOGS="slg",v.RESPONSE_CONFIG_KEY_HEARTBEAT_INTERVAL="hbi",v.RESPONSE_CONFIG_KEY_GATEWAY_URL="gw",v.MESSAGE_TYPE_SESSION_HEARTBEAT="CwsSessionHb",v.REQUEST_KEY_MESSAGE_TYPE="t",v.REQUEST_KEY_SESSION_TIME="st",v.REQUEST_KEY_SESSION_START_TIME="sst",v.REQUEST_KEY_IS_LIVE="lv",v.REQUEST_KEY_SEQUENCE_NUMBER="seq",v.REQUEST_KEY_CUSTOMER_KEY="cid",v.REQUEST_KEY_CLIENT_ID="clid",v.REQUEST_KEY_CLIENT_VERSION="clv",v.REQUEST_KEY_PROTOCOL_VERSION="pver",v.REQUEST_KEY_INSTANCE_ID="iid",v.REQUEST_KEY_SESSION_ID="sid",v.REQUEST_KEY_VIEWER_ID="vid",v.REQUEST_KEY_ASSET_NAME="an",v.REQUEST_KEY_PLAYER_NAME="pn",v.REQUEST_KEY_TAGS="tags",v.REQUEST_KEY_SESSION_FLAGS="sf",v.REQUEST_KEY_EVENTS="evs",v.REQUEST_KEY_LOGS="lg",v.REQUEST_KEY_HEARTBEAT_INFOS="hbinfos",v.REQUEST_KEY_IS_SDK_CLIENT="sdk",v.REQUEST_KEY_PAUSE_JOIN="pj",v.REQUEST_KEY_PLAYER_STATE="ps",v.REQUEST_KEY_BITRATE="br",v.REQUEST_KEY_CONTENT_LENGTH="cl",
v.REQUEST_KEY_ENCODED_FRAME_RATE="efps",v.REQUEST_KEY_AVERAGE_FRAME_RATE="afps",v.REQUEST_KEY_RFPS_TOTAL="rfpstot",v.REQUEST_KEY_RFPS_COUNT="rfpscnt",v.REQUEST_KEY_RESOURCE="rs",v.REQUEST_KEY_PLAYHEAD_TIME="pht",v.REQUEST_KEY_BUFFER_LENGTH="bl",v.REQUEST_KEY_STREAM_URL="url",v.REQUEST_KEY_CAPABILITIES="caps",v.REQUEST_KEY_PLATFORM_METADATA="pm",v.REQUEST_KEY_VIDEO_WIDTH="w",v.REQUEST_KEY_VIDEO_HEIGHT="h",v.REQUEST_KEY_CONNECTION_TYPE="ct",v.REQUEST_KEY_LINK_ENCRYPTION="le",v.REQUEST_KEY_SIGNAL_STRENGTH="ss",v.REQUEST_KEY_STREAM_METADATA_CHANGE="strmetadata",v.REQUEST_PLATFORM_METADATA_KEY_SCHEMA="sch",v.REQUEST_PLATFORM_METADATA_KEY_BROWSER_NAME="br",v.REQUEST_PLATFORM_METADATA_KEY_BROWSER_VERSION="brv",v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_BRAND="dvb",v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MANUFACTURER="dvma",v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MODEL="dvm",v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_TYPE="dvt",v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_VERSION="dvv",v.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME="fw",v.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION="fwv",v.REQUEST_PLATFORM_METADATA_KEY_CLIENT_CONFIGURATION="cc",v.REQUEST_PLATFORM_METADATA_KEY_MODULE_NAME="mn",v.REQUEST_PLATFORM_METADATA_KEY_MODULE_VERSION="mv",v.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME="pt",v.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION="ptv",v.REQUEST_KEY_PROTOCOL_CAPP="caps",v.REQUEST_EVENT_KEY_TYPE="t",v.REQUEST_EVENT_KEY_SEQUENCE_NUMBER="seq",v.REQUEST_EVENT_KEY_SESSION_TIME="st",v.REQUEST_EVENT_KEY_SEEK_ACT_TYPE="act",v.REQUEST_EVENT_KEY_SEEK_TO_POS="skto",v.REQUEST_ERROR_EVENT_KEY_MESSAGE="err",v.REQUEST_ERROR_EVENT_KEY_FATAL="ft",v.REQUEST_STATE_CHANGE_EVENT_KEY_NEW="new",v.REQUEST_STATE_CHANGE_EVENT_KEY_OLD="old",v.REQUEST_CUSTOM_EVENT_KEY_NAME="name",v.REQUEST_CUSTOM_EVENT_KEY_ATTRIBUTES="attr",v.REQUEST_HEARTBEAT_INFO_KEY_SEQUENCE_NUMBER="seq",v.REQUEST_HEARTBEAT_INFO_KEY_STATUS="err",v.REQUEST_HEARTBEAT_INFO_KEY_ROUNDTRIP_TIME="rtt",v.REQUEST_KEY_IS_AD_SESSION="ad",v.convertPlayerState=function(e){switch(e){case s.PlayerState.STOPPED:return v.eStopped;case s.PlayerState.PLAYING:return v.ePlaying;case s.PlayerState.BUFFERING:return v.eBuffering;case s.PlayerState.PAUSED:return v.ePaused;case s.PlayerState.NOT_MONITORED:return v.eNotMonitored;default:return v.eUnknown}},v.eStopped=1,v.ePlaying=3,v.eBuffering=6,v.ePaused=12,v.eNotMonitored=98,v.eUnknown=100,v.SessionFlags={GLOBAL:0,VIDEO:1,QUALITY_METRICS:2,BITRATE_METRICS:4},v.Capabilities={INSIGHTS:0};var _=(t.JSONInterface=function(){this.encode=function(e){},this.decode=function(e){}},t.LibJSONInterface=function(){this.encode=function(e){var t=null;try{t=f.stringify(e)}catch(e){}return t},this.decode=function(e){var t=null;try{t=m(e)}catch(e){}return I.isObject(t)||(t=null),t}}),y=t.CwsHeartbeat=function(){function e(){}this._data={},e.apply(this,arguments),this.get=function(){return this._data},this.setField=function(e,t){this._data[e]=t},this.setInnerField=function(e,t,i){this._data[e]||(this._data[e]={}),this._data[e][t]=i},this.setMessageType=function(e){this.setField(v.REQUEST_KEY_MESSAGE_TYPE,e)},this.setSessionTime=function(e){this.setField(v.REQUEST_KEY_SESSION_TIME,e)},this.setSessionStartTime=function(e){this.setField(v.REQUEST_KEY_SESSION_START_TIME,e)},this.setIsLive=function(e){this.setField(v.REQUEST_KEY_IS_LIVE,e)},this.setSequenceNumber=function(e){this.setField(v.REQUEST_KEY_SEQUENCE_NUMBER,e)},this.setCustomerKey=function(e){this.setField(v.REQUEST_KEY_CUSTOMER_KEY,e)},this.setClientId=function(e){this.setField(v.REQUEST_KEY_CLIENT_ID,e)},this.setClientVersion=function(e){this.setField(v.REQUEST_KEY_CLIENT_VERSION,e)},this.setProtocolVersion=function(e){this.setField(v.REQUEST_KEY_PROTOCOL_VERSION,e)},this.setCapfield=function(e){this.setField(v.REQUEST_KEY_PROTOCOL_CAPP,e)},this.setSessionId=function(e){this.setField(v.REQUEST_KEY_SESSION_ID,e)},this.setInstanceId=function(e){this.setField(v.REQUEST_KEY_INSTANCE_ID,e)},this.setViewerId=function(e){this.setField(v.REQUEST_KEY_VIEWER_ID,e)},this.setAssetName=function(e){this.setField(v.REQUEST_KEY_ASSET_NAME,e)},this.setPlayerName=function(e){this.setField(v.REQUEST_KEY_PLAYER_NAME,e)},this.setTags=function(e){this.setField(v.REQUEST_KEY_TAGS,e)},this.setSessionFlags=function(e){this.setField(v.REQUEST_KEY_SESSION_FLAGS,e)},this.setCapabilities=function(e){this.setField(v.REQUEST_KEY_CAPABILITIES,e)},this.setEvents=function(e){this.setField(v.REQUEST_KEY_EVENTS,e)},this.setIsSdkClient=function(e){this.setField(v.REQUEST_KEY_IS_SDK_CLIENT,e)},this.setLogs=function(e){this.setField(v.REQUEST_KEY_LOGS,e)},this.setHeartbeatInfos=function(e){this.setField(v.REQUEST_KEY_HEARTBEAT_INFOS,e)},this.setPlayerState=function(e){this.setField(v.REQUEST_KEY_PLAYER_STATE,e)},this.setPauseJoin=function(e){this.setField(v.REQUEST_KEY_PAUSE_JOIN,e)},this.setContentLength=function(e){this.setField(v.REQUEST_KEY_CONTENT_LENGTH,e)},this.setBitrate=function(e){this.setField(v.REQUEST_KEY_BITRATE,e)},this.setResource=function(e){this.setField(v.REQUEST_KEY_RESOURCE,e)},this.setEncodedFrameRate=function(e){this.setField(v.REQUEST_KEY_ENCODED_FRAME_RATE,e)},this.setAverageFrameRate=function(e){this.setField(v.REQUEST_KEY_AVERAGE_FRAME_RATE,e)},this.setRfpsObservationCount=function(e){this.setField(v.REQUEST_KEY_RFPS_COUNT,e)},this.setRfpsTotal=function(e){this.setField(v.REQUEST_KEY_RFPS_TOTAL,e)},this.setPlatformMetadataSchema=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_SCHEMA,e)},this.setBrowserName=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_BROWSER_NAME,e)},this.setBrowserVersion=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_BROWSER_VERSION,e)},this.setDeviceBrand=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_BRAND,e)},this.setDeviceManufacturer=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MANUFACTURER,e)},this.setDeviceModel=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_MODEL,e)},this.setDeviceType=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_TYPE,e)},this.setDeviceVersion=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_DEVICE_VERSION,e)},this.setFrameworkName=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME,e),this.setField(v.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_NAME,e)},this.setFrameworkVersion=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION,e),this.setField(v.REQUEST_PLATFORM_METADATA_KEY_FRAMEWORK_VERSION,e)},this.setOperatingSystemName=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME,e),this.setField(v.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_NAME,e)},this.setOperatingSystemVersion=function(e){this.setInnerField(v.REQUEST_KEY_PLATFORM_METADATA,v.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION,e),this.setField(v.REQUEST_PLATFORM_METADATA_KEY_OPERATING_SYSTEM_VERSION,e)},this.setPlayheadTime=function(e){this.setField(v.REQUEST_KEY_PLAYHEAD_TIME,e)},this.setBufferLength=function(e){this.setField(v.REQUEST_KEY_BUFFER_LENGTH,e)},this.setStreamUrl=function(e){this.setField(v.REQUEST_KEY_STREAM_URL,e)},this.setStreamWidth=function(e){this.setField(v.REQUEST_KEY_VIDEO_WIDTH,e)},this.setStreamHeight=function(e){this.setField(v.REQUEST_KEY_VIDEO_HEIGHT,e)},this.setConnectionType=function(e){this.setField(v.REQUEST_KEY_CONNECTION_TYPE,e)},this.setLinkEncryption=function(e){this.setField(v.REQUEST_KEY_LINK_ENCRYPTION,e)},this.setIsAdSession=function(){this.setField(v.REQUEST_KEY_IS_AD_SESSION,!0)},this.setSignalStrength=function(e){this.setField(v.REQUEST_KEY_SIGNAL_STRENGTH,e)},this.setModuleName=function(e){this.setInnerField(v.REQUEST_PLATFORM_METADATA_KEY_CLIENT_CONFIGURATION,v.REQUEST_PLATFORM_METADATA_KEY_MODULE_NAME,e)},this.setModuleVersion=function(e){this.setInnerField(v.REQUEST_PLATFORM_METADATA_KEY_CLIENT_CONFIGURATION,v.REQUEST_PLATFORM_METADATA_KEY_MODULE_VERSION,e)}},w=t.CwsSession=function(e,t,n,o,r,a,l,c,d,u,p){function h(e,t,i,n,o,r,a,s,l,c,d){this._eventQueue=e,this._client=t,this._clientSettings=i,this._logger=n,this._logger.setModuleName("CwsSession"),this._exceptionCatcher=o,this._timer=r,this._gatewayControl=a,this._cwsProtocol=s,this._time=l,this._logBuffer=c,this._clientConfig=d}var g=this;g._heartbeatTimerCancel=null,g._startTimeMs=0,g._heartbeatSequenceNumber=0,g._sessionFlags=v.SessionFlags.GLOBAL,g._capabilities=v.Capabilities.INSIGHTS,g._heartbeatInfos=[],g._lastRequestSentMs=-1,g._bitrateKbps=-2,g._resource=null,g._playerState=s.PlayerState.NOT_MONITORED,g._encodedFrameRate=-1,g._contentLengthSec=-1,g._streamUrl=null,g._width=-1,g._height=-1,g._playerStateManager=null,g._assetName=null,g._viewerId=null,g._playerName=null,g._isLive=null,g._tags={},g._browserName=null,g._browserVersion=null,g._deviceBrand=null,g._deviceManufacturer=null,g._deviceModel=null,g._deviceType=null,g._deviceVersion=null,g._frameworkName=null,g._frameworkVersion=null,g._operatingSystemName=null,g._operatingSystemVersion=null,g._moduleName=null,g._moduleVersion=null,g._connectionType=null,g._linkEncryption=null,g._pauseJoin=!1,g._hasJoined=!1,g._cleanedUp=!1,g._willEndSoon=!1,g._rfpsTimerCancel=null,g._rfpsTimerInterval=1e3,g._playingFpsObservationCount=0,g._playingFpsTotal=0,h.apply(this,arguments),this.cleanup=function(){this._clientConfig=null,this._logBuffer=null,this._systemSettings=null,this._time=null,this._cwsProtocol=null,this._gatewayControl=null,this._timer=null,this._exceptionCatcher=null,this._logger=null,this._clientSettings=null,this._client=null,this._eventQueue.flush(),this._eventQueue=null,this._cleanedUp=!0},this.start=function(e){this._session=e,this._global=this._session._global,this._logger.setSessionId(this._session._id),this._startTimeMs=this._time.current(),(this.isVideoSession()||this.isAdSession())&&(this._sessionFlags+=w.DEFAULT_VIDEO_SESSION_FLAGS)},this.willEndSoon=function(){this._willEndSoon=!0},this.initialize=function(){this._logger.debug("initialize()")},this.end=function(){(this.isVideoSession()||this.isAdSession())&&(this._logger.debug("end(): schedule the last hb before session cleanup"+g.sessionTypeTag()),this.enqueueSessionEndEvent()),this.cancelHeartbeatTimer(),this.sendHeartbeat()},this.startSendingHeartbeats=function(){this._willEndSoon||(this.sendHeartbeat(),this.resetHeartbeatTimer())},this.setBrowserName=function(e){g._logger.debug("setBrowserName(): "+e);var t=g._browserName;t!==e&&null!=e&&(g._logger.debug("Change browserName from "+t+" to "+e),g._browserName=e)},this.setBrowserVersion=function(e){g._logger.debug("setBrowserVersion(): "+e);var t=g._browserVersion;t!==e&&null!=e&&(g._logger.debug("Change browserVersion from "+t+" to "+e),g._browserVersion=e)},this.setDeviceBrand=function(e){g._logger.debug("setDeviceBrand(): "+e);var t=g._deviceBrand;t!==e&&null!=e&&(g._logger.debug("Change deviceBrand from "+t+" to "+e),g._deviceBrand=e)},this.setDeviceManufacturer=function(e){g._logger.debug("setDeviceManufacturer(): "+e);var t=g._deviceManufacturer;t!==e&&null!=e&&(g._logger.debug("Change deviceManufacturer from "+t+" to "+e),g._deviceManufacturer=e)},this.setDeviceModel=function(e){g._logger.debug("setDeviceModel(): "+e);var t=g._deviceModel;t!==e&&null!=e&&(g._logger.debug("Change deviceModel from "+t+" to "+e),g._deviceModel=e)},this.setDeviceType=function(e){g._logger.debug("setDeviceBrand(): "+e);var t=g._deviceType;t!==e&&null!=e&&(g._logger.debug("Change deviceType from "+t+" to "+e),g._deviceType=e)},this.setDeviceVersion=function(e){g._logger.debug("setDeviceVersion(): "+e);var t=g._deviceVersion;t!==e&&null!=e&&(g._logger.debug("Change deviceVersion from "+t+" to "+e),g._deviceVersion=e)},this.setOperatingSystemName=function(e){g._logger.debug("setOperatingSystemName(): "+e);var t=g._operatingSystemName;t!==e&&null!=e&&(g._logger.debug("Change operatingSystemName from "+t+" to "+e),g._operatingSystemName=e)},this.setOperatingSystemVersion=function(e){g._logger.debug("setOperatingSystemVersion(): "+e);var t=g._operatingSystemVersion;t!==e&&null!=e&&(g._logger.debug("Change operatingSystemVersion from "+t+" to "+e),g._operatingSystemVersion=e)},this.getFrameworkName=function(){return g._frameworkName},this.setFrameworkName=function(e){g._logger.debug("setFrameworkName(): "+e);var t=g._frameworkName;t!==e&&null!=e&&(g._logger.debug("Change frameworkName from "+t+" to "+e),g._frameworkName=e)},this.getFrameworkVersion=function(){return g._frameworkVersion},this.setFrameworkVersion=function(e){g._logger.debug("setFrameworkVersion(): "+e);var t=g._frameworkVersion;t!==e&&null!=e&&(g._logger.debug("Change frameworkVersion from "+t+" to "+e),g._frameworkVersion=e)},this.setStreamUrl=function(e){g._logger.debug("setStreamUrl(): "+e);var t=g._streamUrl;t!==e&&null!=e&&(g._logger.debug("Change stream url from "+t+" to "+e),g._streamUrl=e)},this.setBitrateKbps=function(e){g._logger.debug("setBitrateKbps(): "+e);var t=g._bitrateKbps;t!==e&&e>=-1&&(g._logger.info("Change bitrate from "+t+" to "+e),g.enqueueBitrateChangeEvent(t,e),g._bitrateKbps=e)},this.setResource=function(e){g._logger.debug("setResource(): "+e);var t=g._resource;t!==e&&null!=e&&(g._logger.info("Change resource from "+t+" to "+e),g._resource=e)},this.setAssetName=function(e){g._logger.debug("setAssetName(): "+e),g._assetName!==e&&null!=e&&(g._logger.info("Change assetName from "+g._assetName+" to "+e),g._assetName=e)},this.setIsLive=function(e){g._logger.debug("setIsLive(): "+e);var t=g._isLive;t!==e&&null!=e&&(g._logger.info("Change isLive from "+t+" to "+e),g._isLive=e)},this.setViewerId=function(e){g._logger.debug("setViewerId(): "+e);var t=g._viewerId;t!==e&&null!=e&&(g._logger.info("Change viewerId from "+t+" to "+e),g._viewerId=e)},this.setPlayerName=function(e){g._logger.debug("setPlayerName(): "+e);var t=g._playerName;t!==e&&null!=e&&(g._logger.info("Change playerName from "+t+" to "+e),g._playerName=e)},this.setTags=function(e){g._logger.debug("setTags()");var t=g._tags;I.ObjectShallowEquals(t,e)||null==e||(g._logger.info("Change tags from "+I.ObjectToString(t)+" to "+I.ObjectToString(e)),g._tags=e)},this.setEncodedFrameRate=function(e){g._logger.debug("setEncodedFrameRate(): "+e),g._encodedFrameRate=e},this.setContentLength=function(e){g._logger.debug("setContentLength(): "+e),g._contentLengthSec=e},this.setPlayerState=function(e){g._logger.debug("setPlayerState(): "+e),g._hasJoined||e!=s.PlayerState.PLAYING||(g.togglePauseJoin(!1),g._hasJoined=!0);var t=g._playerState;g._logger.info("setPlayerState(): changing player state from "+t+" to "+e),g.enqueuePlayerStateChangeEvent(t,e),g._playerState=e},this.setStreamResolutionWidth=function(e){g._logger.debug("setStreamResolutionWidth(): "+e);var t=g._width;t!==e&&e>-1&&(g._logger.debug("Change stream resolution width from "+t+" to "+e),g.enqueueResolutionWidthChangeEvent(t,e),g._width=e)},this.setStreamResolutionHeight=function(e){g._logger.debug("setStreamResolutionHeight(): "+e);var t=g._height;t!==e&&e>-1&&(g._logger.debug("Change stream resolution height from "+t+" to "+e),g.enqueueResolutionHeightChangeEvent(t,e),g._height=e)},this.setConnectionType=function(e){g._logger.debug("setConnectionType(): "+e);var t=g._connectionType;t!==e&&null!=e&&(g._logger.debug("Change network connection type from "+t+" to "+e),g.enqueueConnectionTypeChangeEvent(t,e),g._connectionType=e)},this.setLinkEncryption=function(e){g._logger.debug("setLinkEncryption(): "+e);var t=g._linkEncryption;t!==e&&null!=e&&(g._logger.debug("Change network link encryption from "+t+" to "+e),g.enqueueLinkEncryptionChangeEvent(t,e),g._linkEncryption=e)},this.togglePauseJoin=function(e){if(g._logger.debug("togglePauseJoin()"),g._pauseJoin===e)return void g._logger.debug("togglePauseJoin(): same value, ignoring");var t=g._pauseJoin,i=!g._pauseJoin;g.enqueuePauseJoinChangeEvent(t,i),g._pauseJoin=!g._pauseJoin},this.sendError=function(e,t){g.enqueueErrorEvent(e,t)},this.enqueueEvent=function(e,t){if(t[v.REQUEST_EVENT_KEY_TYPE]=e,t[v.REQUEST_EVENT_KEY_SESSION_TIME]=this.getSessionTime(),t[v.REQUEST_EVENT_KEY_SEQUENCE_NUMBER]=this._eventQueue.getNumber(),this._playerStateManager){var i=V.Integer(this._playerStateManager.getPHT(),0,null,-1),n=V.Integer(this._playerStateManager.getBufferLength(),0,null,-1);i>=0&&(t[v.REQUEST_KEY_PLAYHEAD_TIME]=i),n>=0&&(t[v.REQUEST_KEY_BUFFER_LENGTH]=n)}this._eventQueue.enqueue(t)},this.setPlayerStateManager=function(e){g._playerStateManager=e,null!=g._playerStateManager?g.startRfpsTimer():g.cancelRfpsTimer()},this.enqueueSessionEndEvent=function(){var e=this.getSessionTime(),t=this.getNextEventNumber(),i=this._cwsProtocol.generateSessionEndEvent(t,e);this._eventQueue.enqueue(i)},this.enqueueTagsChangeEvent=function(e,t){var i=null;I.dictCount(e)>0&&(i={},i[v.REQUEST_KEY_TAGS]=e);var n={};n[v.REQUEST_KEY_TAGS]=t,this.declareStateChange(n,i)},this.enqueueAssetNameChangeEvent=function(e,t){var i={};i[v.REQUEST_KEY_ASSET_NAME]=t,this.declareStateChange(i,null)},this.enqueueErrorEvent=function(e,t){var i={};i[v.REQUEST_ERROR_EVENT_KEY_MESSAGE]=e,i[v.REQUEST_ERROR_EVENT_KEY_FATAL]=t,this.enqueueEvent(v.EVENT_TYPE_ERROR,i)},this.enqueueBitrateChangeEvent=function(e,t){if(!(-1>=e)){var i={},n={};n[v.REQUEST_KEY_BITRATE]=e,i[v.REQUEST_KEY_BITRATE]=t,this.declareStateChange(i,n)}},this.enqueueSeekEvent=function(e,t){var i={};i[v.REQUEST_EVENT_KEY_SEEK_ACT_TYPE]=e,t>=0&&(i[v.REQUEST_EVENT_KEY_SEEK_TO_POS]=t),this.enqueueEvent(v.EVENT_TYPE_SEEK,i)},this.enqueueResourceChangeEvent=function(e,t){var i={},n={};null!==e&&(n[v.REQUEST_KEY_RESOURCE]=e),i[v.REQUEST_KEY_RESOURCE]=t,this.declareStateChange(i,n)},this.enqueueStreamUrlChangeEvent=function(e,t){var i={},n={};null!==e&&(n[v.REQUEST_KEY_STREAM_URL]=e),i[v.REQUEST_KEY_STREAM_URL]=t,this.declareStateChange(i,n)},this.enqueueResolutionWidthChangeEvent=function(e,t){var i={},n={};-1!==e&&(n[v.REQUEST_KEY_VIDEO_WIDTH]=e),i[v.REQUEST_KEY_VIDEO_WIDTH]=t,this.declareStateChange(i,n)},this.enqueueResolutionHeightChangeEvent=function(e,t){var i={},n={};-1!==e&&(n[v.REQUEST_KEY_VIDEO_HEIGHT]=e),i[v.REQUEST_KEY_VIDEO_HEIGHT]=t,this.declareStateChange(i,n)},this.enqueueConnectionTypeChangeEvent=function(e,t){var i={},n={};null!==e&&(n[v.REQUEST_KEY_CONNECTION_TYPE]=e),i[v.REQUEST_KEY_CONNECTION_TYPE]=t,this.declareStateChange(i,n)},this.enqueueLinkEncryptionChangeEvent=function(e,t){var i={},n={};null!==e&&(n[v.REQUEST_KEY_LINK_ENCRYPTION]=e),i[v.REQUEST_KEY_LINK_ENCRYPTION]=t,this.declareStateChange(i,n)},this.enqueuePauseJoinChangeEvent=function(e,t){var i={},n={};n[v.REQUEST_KEY_PAUSE_JOIN]=e,i[v.REQUEST_KEY_PAUSE_JOIN]=t,this.declareStateChange(i,n)},this.enqueuePlayerStateChangeEvent=function(e,t){var i={},n={};i[v.REQUEST_KEY_PLAYER_STATE]=v.convertPlayerState(t),n[v.REQUEST_KEY_PLAYER_STATE]=v.convertPlayerState(e),this.declareStateChange(i,n)},this.enqueueDataSamplesEvent=function(){var e={};this.enqueueEvent(v.EVENT_TYPE_DATA_SAMPLE,e)},this.declareStateChange=function(e,t){var i={};i[v.REQUEST_STATE_CHANGE_EVENT_KEY_NEW]=e,null!=t&&I.dictCount(t)>0&&(i[v.REQUEST_STATE_CHANGE_EVENT_KEY_OLD]=t),this.enqueueEvent(v.EVENT_TYPE_STATE_CHANGE,i)},this.enqueueCustomEvent=function(e,t){var i={};i[v.REQUEST_CUSTOM_EVENT_KEY_NAME]=e,i[v.REQUEST_CUSTOM_EVENT_KEY_ATTRIBUTES]=t,this.enqueueEvent(v.EVENT_TYPE_CUSTOM,i)},this.cancelHeartbeatTimer=function(){null!=g._heartbeatTimerCancel&&(g._heartbeatTimerCancel(),g._heartbeatTimerCancel=null)},this.resetHeartbeatTimer=function(){g.cancelHeartbeatTimer();var e=1e3*g._clientSettings.heartbeatInterval;g._heartbeatTimerCancel=g._timer.create(g.sendHeartbeat,e,"Session.sendHeartbeat")},this.cancelRfpsTimer=function(){null!=g._rfpsTimerCancel&&(g._rfpsTimerCancel(),g._rfpsTimerCancel=null)},this.startRfpsTimer=function(){g.cancelRfpsTimer(),g._rfpsTimerCancel=g._timer.create(g.countRfps,g._rfpsTimerInterval,"Session.startRfpsTimer")},this.createHeartbeatInfo=function(){var e={};e.err="pending",e.seq=g._heartbeatSequenceNumber-1,e.sentAt=g.getSessionTime(),e.rtt=-1,g._heartbeatInfos.push(e)},this.updateHeartbeatInfoOnFailure=function(e,t){for(var i=0;i<g._heartbeatInfos.length;i++){var n=g._heartbeatInfos[i];n.seq===e&&(n.rtt=g.getSessionTime()-n.sentAt,n.err=t)}},this.updateHeartbeatInfoOnSuccess=function(e){for(var t=0;t<g._heartbeatInfos.length;t++){var i=g._heartbeatInfos[t];i.seq===e&&(i.rtt=g.getSessionTime()-i.sentAt,i.err="ok")}},this.removeOutdatedHeartbeatInfos=function(){for(var e,t=g._clientConfig.get(T.CONFIG_KEY_MAX_HEARTBEAT_INFOS),i=[],n=0;n<g._heartbeatInfos.length;n++)e=g._heartbeatInfos[n],e.seq<g._heartbeatSequenceNumber-t&&i.push(n);for(var o=[],r=0;r<g._heartbeatInfos.length;r++)e=g._heartbeatInfos[r],e.seq,i.indexOf(r)<0&&o.push(g._heartbeatInfos[r]);g._heartbeatInfos=o},this.compileHeartbeatInfos=function(){g.removeOutdatedHeartbeatInfos();for(var e=[],t=0;t<g._heartbeatInfos.length;t++){var i=g._heartbeatInfos[t],n={};n[v.REQUEST_HEARTBEAT_INFO_KEY_SEQUENCE_NUMBER]=i.seq,n[v.REQUEST_HEARTBEAT_INFO_KEY_ROUNDTRIP_TIME]=i.rtt,n[v.REQUEST_HEARTBEAT_INFO_KEY_STATUS]=i.err,e.push(n)}return e},this.makeHeartbeat=function(){var e=g._eventQueue.flush();if(g.isGlobalSession()&&0===e.length)return null;var t=new y;if(t.setMessageType(v.MESSAGE_TYPE_SESSION_HEARTBEAT),t.setCustomerKey(g._clientSettings.customerKey),t.setClientId(g._clientConfig.get(T.CONFIG_KEY_CLIENT_ID)),t.setSessionId(g._session._id),t.setSequenceNumber(g._heartbeatSequenceNumber),t.setProtocolVersion(v.version),t.setClientVersion(i.version),t.setInstanceId(g._client.getId()),t.setCapfield(0),null!=g._connectionType&&t.setConnectionType(g._connectionType),null!=g._linkEncryption&&t.setLinkEncryption(g._linkEncryption),t.setPlatformMetadataSchema(v.SDK_METADATA_SCHEMA),null!=g._browserName&&t.setBrowserName(g._browserName),null!=g._browserVersion&&t.setBrowserVersion(g._browserVersion),null!=g._deviceBrand&&t.setDeviceBrand(g._deviceBrand),null!=g._deviceManufacturer&&t.setDeviceManufacturer(g._deviceManufacturer),null!=g._deviceModel&&t.setDeviceModel(g._deviceModel),null!=g._deviceType&&t.setDeviceType(g._deviceType),null!=g._deviceVersion&&t.setDeviceVersion(g._deviceVersion),null!=g._frameworkName&&t.setFrameworkName(g._frameworkName),null!=g._frameworkVersion&&t.setFrameworkVersion(g._frameworkVersion),null!=g._operatingSystemName&&t.setOperatingSystemName(g._operatingSystemName),null!=g._operatingSystemVersion&&t.setOperatingSystemVersion(g._operatingSystemVersion),null!=g._playerStateManager&&(g._moduleName=g._playerStateManager.getModuleName(),null!=g._moduleName&&t.setModuleName(g._moduleName)),null!=g._playerStateManager&&(g._moduleVersion=g._playerStateManager.getModuleVersion(),null!=g._moduleVersion&&t.setModuleVersion(g._moduleVersion)),null!=g._viewerId&&t.setViewerId(g._viewerId),I.dictCount(g._tags)>0&&t.setTags(g._tags),g.isVideoSession()||g.isAdSession()){g.isAdSession()&&t.setIsAdSession(),null!=g._assetName&&t.setAssetName(g._assetName),t.setSessionFlags(g._sessionFlags);var n=v.convertPlayerState(g._playerState);if(t.setPlayerState(n),t.setPauseJoin(g._pauseJoin),null!=g._playerName&&t.setPlayerName(g._playerName),null!=g._isLive&&t.setIsLive(g._isLive),g._playerStateManager){g._contentLengthSec>0&&t.setContentLength(g._contentLengthSec),g._bitrateKbps>0&&t.setBitrate(g._bitrateKbps),null!==g._resource&&t.setResource(g._resource),g._encodedFrameRate>0&&t.setEncodedFrameRate(g._encodedFrameRate);var o=V.Integer(g._playerStateManager.getPHT(),0,null,-1),r=V.Integer(g._playerStateManager.getBufferLength(),0,null,-1);o>=0&&t.setPlayheadTime(o),r>=0&&t.setBufferLength(r);var a=g.updateAverageFrameRate();a>=0&&t.setAverageFrameRate(a),g._playingFpsTotal>0&&t.setRfpsTotal(V.Integer(g._playingFpsTotal,0,null,-1)),g._playingFpsObservationCount>0&&t.setRfpsObservationCount(V.Integer(g._playingFpsObservationCount,0,null,-1)),g._playerStateManager.getSignalStrength()<=0&&t.setSignalStrength(g._playerStateManager.getSignalStrength()),null!=g._streamUrl&&t.setStreamUrl(g._streamUrl),g._width>0&&t.setStreamWidth(g._width),g._height>0&&t.setStreamHeight(g._height)}}else t.setSessionFlags(v.SessionFlags.GLOBAL);if(e.length>0&&t.setEvents(e),t.setCapabilities(g._capabilities),t.setIsSdkClient(!0),g._clientConfig.get(T.CONFIG_KEY_SEND_LOGS)&&t.setLogs(g._logBuffer.flush()),g._clientConfig.get(T.CONFIG_KEY_MAX_HEARTBEAT_INFOS)>0){var s=g.compileHeartbeatInfos();s.length>0&&t.setHeartbeatInfos(s)}return t.setSessionStartTime(g._startTimeMs),t.setSessionTime(g.getSessionTime()),g._heartbeatSequenceNumber++,t.get()},this.sendHeartbeat=function(){if(!g._cleanedUp){var e=g.makeHeartbeat();null!=e&&g.postHeartbeat(e)}},this.countRfps=function(){if(g._playerState===s.PlayerState.PLAYING){var e=g._playerStateManager.getRenderedFrameRate();e>=0&&(g._playingFpsTotal+=e,g._playingFpsObservationCount++)}},this.updateAverageFrameRate=function(){if(g._playerState===s.PlayerState.PLAYING){var e=g._playerStateManager.getRenderedFrameRate();if(e>=0){g._playingFpsTotal+=e,g._playingFpsObservationCount++;return I.Int32.Cast(1*g._playingFpsTotal/g._playingFpsObservationCount)}return-1}return-1},this.postHeartbeat=function(e){g.createHeartbeatInfo();var t=g._heartbeatSequenceNumber-1;g._logger.info("postHeartbeat(): Send HB["+t+"]"+g.sessionTypeTag());var i=function(e,i){g.onHeartbeatResponse(e,i,t)};g._gatewayControl.send(e,i)},this.onHeartbeatResponse=function(e,t,i){g._cleanedUp||g._exceptionCatcher.runProtected("onHeartbeatResponse",function(){if(e){var n=t;if(null!=n){g._logger.debug("onHeartbeatResponse(): received valid response for HB["+i+"]"),g.updateHeartbeatInfoOnSuccess(i);var o=n[v.RESPONSE_KEY_CLIENT_ID];null!=o&&o!=g._clientConfig.get(T.CONFIG_KEY_CLIENT_ID)&&(g._logger.debug("onHeartbeatResponse(): setting the client id to "+o+" (from gateway)"),g._clientConfig.set(T.CONFIG_KEY_CLIENT_ID,o),g._clientConfig.save());var r=n[v.RESPONSE_KEY_STATUS];null!=r&&r!=v.RESPONSE_STATUS_NO_ERRORS&&g._logger.error("onHeartbeatResponse(): error from gateway: "+r);var a=n[v.RESPONSE_KEY_CONFIG];if("object"==typeof a){var s=a[v.RESPONSE_CONFIG_KEY_MAX_HEARTBEAT_INFOS];null!=s&&g._clientConfig.get(T.CONFIG_KEY_MAX_HEARTBEAT_INFOS)!==s&&(g._logger.debug("onHeartbeatResponse(): setting Maximum Heartbeat Infos to "+s+" (from gateway)"),g._clientConfig.set(T.CONFIG_KEY_MAX_HEARTBEAT_INFOS,s));var l=a[v.RESPONSE_CONFIG_KEY_SEND_LOGS],c=null!=l&&I.AsBoolean(l);c!==g._clientConfig.get(T.CONFIG_KEY_SEND_LOGS)&&(g._logger.debug("onHeartbeatResponse(): turning "+(c?"on":"off")+" sending of logs"),g._clientConfig.set(T.CONFIG_KEY_SEND_LOGS,c));var d=a[v.RESPONSE_CONFIG_KEY_HEARTBEAT_INTERVAL];if(null!=d){var u=I.Int32.Cast(d),p=u;p!=g._clientSettings.heartbeatInterval&&(g._logger.debug("onHeartbeatResponse(): received hbIntervalMs from gateway: "+p),g._clientSettings.heartbeatInterval=p,null!=g._heartbeatTimerCancel&&g.resetHeartbeatTimer())}var h=a[v.RESPONSE_CONFIG_KEY_GATEWAY_URL];null!=h&&h!=g._clientSettings.gatewayUrl&&(g._logger.debug("onHeartbeatResponse(): received gatewayUrl from gateway: "+h),g._clientSettings.gatewayUrl=h)}}else g._logger.warning("onHeartbeatResponse(): decoded heartbeat response is null.")}else{var f=t;I.isValidString(f)?I.stringStartsWith(f,"HTTP timeout")?g._logger.warning("onHeartbeatResponse(): "+f):g._logger.error("onHeartbeatResponse(): failed to send heartbeat: "+f):(f=b.DEFAULT_HEARTBEAT_ERROR_MESSAGE,g._logger.error("onHeartbeatResponse(): "+f)),g.updateHeartbeatInfoOnFailure(i,f)}})},this.getSessionTime=function(){return I.Int32.Cast(g._time.current()-g._startTimeMs)},this.getNextEventNumber=function(){return this._eventQueue.getNumber()},this.sessionTypeTag=function(){return this.isGlobalSession()?" (global session)":""},this.isGlobalSession=function(){return this._global==w.SESSION_TYPE.GLOBAL},this.isVideoSession=function(){return this._global==w.SESSION_TYPE.VIDEO},this.isAdSession=function(){return this._global==w.SESSION_TYPE.AD}};w.DEFAULT_VIDEO_SESSION_FLAGS=v.SessionFlags.VIDEO+v.SessionFlags.QUALITY_METRICS+v.SessionFlags.BITRATE_METRICS,w.SESSION_TYPE={VIDEO:"Video",GLOBAL:"Global",AD:"Ad"};var b=(t.IMonitor=function(){this.onPlayerStateChange=function(e){},this.onBitrateChange=function(e){},this.onSeekEvent=function(e,t){},this.onEncodedFrameRateChange=function(e){},this.onRenderedFrameRateChange=function(e){},this.onContentLengthChange=function(e){},this.onPlayheadTimeChange=function(e){},this.onStreamUrlChange=function(e){},this.onBufferLengthChange=function(e){},this.onPlayerTypeChange=function(e){},this.onPlayerVersionChange=function(e){},this.onStreamResolutionWidthChange=function(e){},this.onStreamResolutionHeightChange=function(e){},this.onConnectionTypeChange=function(e){},this.onLinkEncryptionChange=function(e){},this.onSignalStrengthChange=function(e){},this.onMetadataChange=function(e){},this.onError=function(e,t){},this.onRelease=function(){}},t.Session=function(){function t(e,t,i,n,o,r,a,s){this._id=e,this._global=t,this._contentMetadata=i,this._clientConfig=n,this._systemMetadata=o,this._cwsSession=r,this._exceptionCatcher=a,this._logger=s,this._logger.setModuleName("Session"),this._logger.setSessionId(I.ToString(this._id))}var i=this;i._contentMetadata=null,i._playerStateManager=null,i._id=0,i._global=w.SESSION_TYPE.VIDEO,i._cleaningUp=!1,i._cleanedUp=!1,i._adPlaying=!1,i._adStream=null,i._adPlayer=null,i._adPosition=null,i._ignorePlayerState=!1,i._pooledPlayerState=s.PlayerState.NOT_MONITORED,i._ignoreBitrateAndResource=!1,i._ignorePlayheadTimeandBufferLength=!1,i._ignoreEncodedFrameRateAndDuration=!1,i._ignoreError=!1,t.apply(i,arguments),this.start=function(){if(i.isVideoSession()||i.isAdSession()?i._logger.info("start(): assetName="+i._contentMetadata.assetName):i._logger.info("start()"+i.sessionTypeTag()),i._cwsSession.start(this),i._clientConfig.isReady())i.initiateSession();else{var e=function(){i.initiateSession()};i._clientConfig.register(e)}},this.cleanup=function(){if(i._logger.info("cleanup()"+i.sessionTypeTag()),i._cleaningUp=!0,i._cwsSession.willEndSoon(),i._clientConfig.isReady())i.endCwsSessionAndCleanupAll();else{var e=function(){i.endCwsSessionAndCleanupAll()};i._clientConfig.register(e)}},this.cleanupAll=function(){i._logger.debug("cleanupAll()"+i.sessionTypeTag()),(i.isVideoSession()||i.isAdSession())&&null!=i._playerStateManager&&i.detachPlayer(),i._contentMetadata=null,i._logger.setSessionId(null),i._logger=null,i._exceptionCatcher=null,i._client=null,i._clientConfig=null,i._systemMetadata=null,i._cwsSession.cleanup(),i._cwsSession=null,i._cleanedUp=!0},this.endCwsSessionAndCleanupAll=function(){i._cwsSession.end(),i.cleanupAll()},this.initiateSession=function(){i._cwsSession.initialize(),i.setStatesFromSystemMetadata(),(i.isVideoSession()||i.isAdSession())&&(i.setStatesFromContentMetadata(),i.enqueueEventForContentMetadata()),i._cwsSession.startSendingHeartbeats()},this.enqueueEventForContentMetadata=function(){var t={};if(null!=i._contentMetadata.assetName?t[v.REQUEST_KEY_ASSET_NAME]=i._contentMetadata.assetName:i._logger.warning("enqueueEventForContentMetadata(): assetName was not set."),null!=i._contentMetadata.applicationName?(void 0===t[v.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(t[v.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),t[v.REQUEST_KEY_STREAM_METADATA_CHANGE][v.REQUEST_KEY_PLAYER_NAME]=i._contentMetadata.applicationName):i._logger.warning("enqueueEventForContentMetadata(): applicationName was not set."),null!=i._contentMetadata.streamUrl?t[v.REQUEST_KEY_STREAM_URL]=i._contentMetadata.streamUrl:i._logger.warning("enqueueEventForContentMetadata(): streamUrl was not set."),
null!=i._contentMetadata.viewerId?(void 0===t[v.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(t[v.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),t[v.REQUEST_KEY_STREAM_METADATA_CHANGE][v.REQUEST_KEY_VIEWER_ID]=i._contentMetadata.viewerId):i._logger.warning("enqueueEventForContentMetadata(): viewerId was not set."),null!=i._contentMetadata.defaultResource?t[v.REQUEST_KEY_RESOURCE]=i._contentMetadata.defaultResource:i._logger.warning("enqueueEventForContentMetadata(): defaultResource was not set."),i._contentMetadata.duration>-1?t[v.REQUEST_KEY_CONTENT_LENGTH]=i._cwsSession._contentLengthSec:i._logger.warning("enqueueEventForContentMetadata(): duration was not set."),i._contentMetadata.encodedFrameRate>-1?t[v.REQUEST_KEY_ENCODED_FRAME_RATE]=i._contentMetadata.encodedFrameRate:i._logger.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),i._contentMetadata.defaultBitrateKbps>0?t[v.REQUEST_KEY_BITRATE]=i._contentMetadata.defaultBitrateKbps:i._logger.warning("enqueueEventForContentMetadata(): encodedFrameRate was not set."),i._contentMetadata.streamType!=o.StreamType.UNKNOWN?i._contentMetadata.streamType==e.ContentMetadata.StreamType.LIVE?t[v.REQUEST_KEY_IS_LIVE]=!0:t[v.REQUEST_KEY_IS_LIVE]=!1:i._logger.warning("enqueueEventForContentMetadata(): streamType was not set."),I.dictCount(i._contentMetadata.custom)>0){t[v.REQUEST_KEY_TAGS]={};for(var n in i._contentMetadata.custom)t[v.REQUEST_KEY_TAGS][n]=i._contentMetadata.custom[n]}else i._logger.warning("enqueueEventForContentMetadata(): custom tags were not set.");I.dictCount(t)>0&&i._cwsSession.declareStateChange(t,null)},this.setStatesFromSystemMetadata=function(){i._logger.debug("setStatesFromSystemMetadata()");var e=i._systemMetadata.get(),t=e[N.BROWSER_NAME];null!=t&&i._cwsSession.setBrowserName(t);var n=e[N.BROWSER_VERSION];null!=n&&i._cwsSession.setBrowserVersion(n);var o=e[N.DEVICE_BRAND];null!=o&&i._cwsSession.setDeviceBrand(o);var r=e[N.DEVICE_MANUFACTURER];null!=r&&i._cwsSession.setDeviceManufacturer(r);var a=e[N.DEVICE_MODEL];null!=a&&i._cwsSession.setDeviceModel(a);var s=e[N.DEVICE_TYPE];null!=s&&i._cwsSession.setDeviceType(s);var l=e[N.DEVICE_VERSION];null!=l&&i._cwsSession.setDeviceVersion(l);var c=e[N.FRAMEWORK_NAME];null!=c&&i._cwsSession.setFrameworkName(c);var d=e[N.FRAMEWORK_VERSION];null!=d&&i._cwsSession.setFrameworkVersion(d);var u=e[N.OPERATING_SYSTEM_NAME];null!=u&&i._cwsSession.setOperatingSystemName(u);var p=e[N.OPERATING_SYSTEM_VERSION];null!=p&&i._cwsSession.setOperatingSystemVersion(p)},this.setStatesFromContentMetadata=function(){if(i._logger.debug("setStatesFromContentMetadata()"),null!=i._contentMetadata.defaultResource&&i._cwsSession.setResource(i._contentMetadata.defaultResource),null!=i._contentMetadata.streamUrl&&i._cwsSession.setStreamUrl(i._contentMetadata.streamUrl),i._contentMetadata.duration>0&&i._cwsSession.setContentLength(i._contentMetadata.duration),i._contentMetadata.encodedFrameRate>0&&i._cwsSession.setEncodedFrameRate(i._contentMetadata.encodedFrameRate),i._contentMetadata.streamType!==o.StreamType.UNKNOWN){var e=i._contentMetadata.streamType===o.StreamType.LIVE;i._cwsSession.setIsLive(e)}null!=i._contentMetadata.assetName&&i._cwsSession.setAssetName(i._contentMetadata.assetName),null!=i._contentMetadata.viewerId&&i._cwsSession.setViewerId(i._contentMetadata.viewerId),null!=i._contentMetadata.applicationName&&i._cwsSession.setPlayerName(i._contentMetadata.applicationName),I.dictCount(i._contentMetadata.custom)>0&&i._cwsSession.setTags(i._contentMetadata.custom)},this.onPlayerStateChange=function(e){return i._logger.debug("onPlayerStateChange(): "+e),i._cwsSession._playerState!=e?(i._cwsSession._playerState==s.PlayerState.NOT_MONITORED&&e!=s.PlayerState.NOT_MONITORED&&(i._pooledPlayerState=e),i._ignorePlayerState?void i._logger.debug("onPlayerStateChange(): "+e+" (pooled, "+(i._adPlaying?"ad playing":"preloading")+")"):void i._cwsSession.setPlayerState(e)):void 0},this.onBitrateChange=function(e){return i._logger.debug("onBitrateChange(): "+e),i._ignoreBitrateAndResource?void i._logger.info("onBitrateChange(): ignored"):void i._cwsSession.setBitrateKbps(e)},this.onSeekEvent=function(e,t){null==t||I.isInteger(t)||(i._logger.error("onSeekEvent(): Ignored non-integer seekToPosition data: "+t),t=-1),i._cwsSession.enqueueSeekEvent(e,t)},this.onEncodedFrameRateChange=function(e){i._logger.debug("onEncodedFrameRateChange(): "+e),i._contentMetadata.encodedFrameRate>0||(e>0?i._ignoreEncodedFrameRateAndDuration?i._logger.info("onEncodedFrameRateChange(): Ignored encoded frame rate data: "+e+" (ads)"):(i._cwsSession.setEncodedFrameRate(e),i._logger.info("onEncodedFrameRateChange(): Received encoded frame rate data: "+e)):i._logger.warning("onEncodedFrameRateChange(): Ignored invalid encoded frame rate data: "+e))},this.onContentLengthChange=function(e){i._logger.debug("onContentLengthChange(): "+e),i._contentMetadata.duration>0||(e>0?i._ignoreEncodedFrameRateAndDuration?i._logger.info("setContentLength(): Ignored content length data: "+e+" (ads)"):(i._cwsSession.setContentLength(e),i._logger.info("setContentLength(): Received content length data: "+e)):i._logger.warning("setContentLength(): Ignored invalid content length data: "+e))},this.onStreamUrlChange=function(e){i._logger.debug("onStreamUrlChange(): "+e),null==i._contentMetadata.streamUrl&&i._cwsSession.setStreamUrl(e)},this.onMetadataChange=function(e){i.updateContentMetadata(e)},this.onStreamResolutionWidthChange=function(e){i._logger.debug("onStreamResolutionWidthChange(): "+e),i._cwsSession.setStreamResolutionWidth(e)},this.onStreamResolutionHeightChange=function(e){i._logger.debug("onStreamResolutionHeightChange(): "+e),i._cwsSession.setStreamResolutionHeight(e)},this.onConnectionTypeChange=function(e){i._logger.debug("onConnectionTypeChange(): "+e),i._cwsSession.setConnectionType(e)},this.onLinkEncryptionChange=function(e){i._logger.debug("onLinkEncryptionChange(): "+e),i._cwsSession.setLinkEncryption(e)},this.onPlayerTypeChange=function(e){i._logger.debug("onPlayerTypeChange(): "+e),null==i._cwsSession.getFrameworkName()&&i._cwsSession.setFrameworkName(e)},this.onPlayerVersionChange=function(e){i._logger.debug("onPlayerVersionChange(): "+e),null==i._cwsSession.getFrameworkVersion()&&i._cwsSession.setFrameworkVersion(e)},this.onError=function(e,t){i._logger.debug("onError(): "+e+" ("+t+")"),i.reportError(e,t)},this.onRelease=function(){i._logger.debug("onRelease()"),i.detachPlayer()},this.adStart=function(t,n,o){return i._logger.debug("adStart(): adStream="+t+" adPlayer="+n+" adPosition="+o),i._adPlaying?void i._logger.warning("adStart(): multiple adStart calls, ignoring"):(i._adPlaying=!0,i._adStream=t,i._adPlayer=n,i._adPosition=o,i._cwsSession._hasJoined||i._cwsSession.togglePauseJoin(!0),void(i._adStream==e.Client.AdStream.CONTENT||i._adPlayer==e.Client.AdPlayer.SEPARATE?(i._cwsSession._playerState!==s.PlayerState.NOT_MONITORED&&(i._pooledPlayerState=i._cwsSession._playerState),i._cwsSession.setPlayerState(s.PlayerState.NOT_MONITORED),i._ignorePlayerState=!0):i._adStream==e.Client.AdStream.SEPARATE&&i._adPlayer==e.Client.AdPlayer.CONTENT&&(i._cwsSession._playerState!==s.PlayerState.NOT_MONITORED&&(i._pooledPlayerState=i._cwsSession._playerState),i._cwsSession.setPlayerState(s.PlayerState.NOT_MONITORED),i._ignorePlayerState=!0,i._ignoreBitrateAndResource=!0,i._ignoreEncodedFrameRateAndDuration=!0,i._ignorePlayheadTimeandBufferLength=!0,i._ignoreError=!0)))},this.adEnd=function(){return i._logger.debug("adEnd()"),i._adPlaying?(i._cwsSession._hasJoined||i._cwsSession.togglePauseJoin(!1),i._adStream==e.Client.AdStream.CONTENT||i._adPlayer==e.Client.AdPlayer.SEPARATE?i._preloading||(i._ignorePlayerState=!1,i._cwsSession.setPlayerState(i._pooledPlayerState)):i._adStream==e.Client.AdStream.SEPARATE&&i._adPlayer==e.Client.AdPlayer.CONTENT&&(i._ignoreBitrateAndResource=!1,i._ignoreEncodedFrameRateAndDuration=!1,i._ignorePlayheadTimeandBufferLength=!1,i._ignoreError=!1,i._preloading||(i._ignorePlayerState=!1,i._cwsSession.setPlayerState(i._pooledPlayerState))),i._adPlaying=!1,void(i._adStream=i._adPlayer=i._adPosition=null)):void i._logger.debug("adEnd(): called before adStart, ignoring")},this.detachPlayer=function(){i._logger.debug("detachPlayer()"),null!==i._playerStateManager&&(i._exceptionCatcher.runProtected("Session.detachPlayer",function(){i._playerStateManager.removeMonitoringNotifier()}),i._playerStateManager=null,i._cwsSession.setPlayerStateManager(null),i._cwsSession.setPlayerState(s.PlayerState.NOT_MONITORED))},this.attachPlayer=function(e){return i._logger.debug("attachPlayer()"),null!=i._playerStateManager?void i._logger.error("attachPlayer(): detach current PlayerStateManager first"):void i._exceptionCatcher.runProtected("Session.attachPlayer()",function(){e.setMonitoringNotifier(i,i._id)?(e.pushCurrentState(),i._playerStateManager=e,i._cwsSession.setPlayerStateManager(i._playerStateManager)):i._logger.error("attachPlayer(): instance of PlayerStateManager is already attached to a session")})},this.getPlayerStateManager=function(){return i._logger.debug("getPlayerStateManager()"),i._playerStateManager},this.contentPreload=function(){return i._logger.debug("contentPreload()"),i._preloading?void i._logger.debug("contentPreload(): called twice, ignoring"):(i._preloading=!0,void(i._ignorePlayerState=!0))},this.contentStart=function(){return i._logger.debug("contentStart()"),i._preloading?(i._preloading=!1,void(i._adPlaying||(i._ignorePlayerState=!1,i._cwsSession.setPlayerState(i._pooledPlayerState)))):void i._logger.warning("contentStart(): called without contentPreload, ignoring")},this.reportError=function(t,n){if(i._logger.info("reportError(): "+t),!I.isValidString(t))return void i._logger.error("reportError(): invalid error message string: "+t);if(n!==e.Client.ErrorSeverity.FATAL&&n!==e.Client.ErrorSeverity.WARNING)return void i._logger.error("reportError(): invalid error severity: "+n);if(i._ignoreError)return void i._logger.debug("reportError(): ignored");var o=n===e.Client.ErrorSeverity.FATAL;i._cwsSession.sendError(t,o)},this.updateContentMetadata=function(e){i._logger.debug("updateContentMetadata(): enter"),i._exceptionCatcher.runProtected("Session.updateContentMetadata",function(){i.mergeContentMetadata(e),i.setStatesFromContentMetadata()})},this.sendCustomEvent=function(e,t){i._logger.info("sendEvent(): eventName="+e+i.sessionTypeTag()),i._cwsSession.enqueueCustomEvent(e,t)},this.mergeContentMetadata=function(t){var n={},r={};if(I.isValidString(t.assetName)&&(i._contentMetadata.assetName!=t.assetName?(null!=i._contentMetadata.assetName&&(n[v.REQUEST_KEY_ASSET_NAME]=i._contentMetadata.assetName),r[v.REQUEST_KEY_ASSET_NAME]=t.assetName,i._contentMetadata.assetName=t.assetName):i._logger.warning("mergeContentMetadata(): assetName was not changed.")),I.isValidString(t.applicationName)&&(i._contentMetadata.applicationName!=t.applicationName?(null!=i._contentMetadata.applicationName&&(void 0===n[v.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(n[v.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),n[v.REQUEST_KEY_STREAM_METADATA_CHANGE][v.REQUEST_KEY_PLAYER_NAME]=i._contentMetadata.applicationName),void 0===r[v.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(r[v.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),r[v.REQUEST_KEY_STREAM_METADATA_CHANGE][v.REQUEST_KEY_PLAYER_NAME]=t.applicationName,i._contentMetadata.applicationName=t.applicationName):i._logger.warning("mergeContentMetadata(): applicationName was not changed.")),I.isValidString(t.streamUrl)&&(i._contentMetadata.streamUrl!=t.streamUrl?(null!=i._contentMetadata.streamUrl&&(n[v.REQUEST_KEY_STREAM_URL]=i._contentMetadata.streamUrl),r[v.REQUEST_KEY_STREAM_URL]=t.streamUrl,i._contentMetadata.streamUrl=t.streamUrl):i._logger.warning("mergeContentMetadata(): streamUrl was not changed.")),I.isValidString(t.viewerId)&&(i._contentMetadata.viewerId!=t.viewerId?(null!=i._contentMetadata.viewerId&&(void 0===n[v.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(n[v.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),n[v.REQUEST_KEY_STREAM_METADATA_CHANGE][v.REQUEST_KEY_VIEWER_ID]=i._contentMetadata.viewerId),void 0===r[v.REQUEST_KEY_STREAM_METADATA_CHANGE]&&(r[v.REQUEST_KEY_STREAM_METADATA_CHANGE]={}),r[v.REQUEST_KEY_STREAM_METADATA_CHANGE][v.REQUEST_KEY_VIEWER_ID]=t.viewerId,i._contentMetadata.viewerId=t.viewerId):i._logger.warning("mergeContentMetadata(): viewerId was not changed.")),I.isValidString(t.defaultResource)&&(i._contentMetadata.defaultResource!=t.defaultResource?(null!=i._contentMetadata.defaultResource&&(n[v.REQUEST_KEY_RESOURCE]=i._contentMetadata.defaultResource),r[v.REQUEST_KEY_RESOURCE]=t.defaultResource,i._contentMetadata.defaultResource=t.defaultResource):i._logger.warning("mergeContentMetadata(): defaultResource was not changed.")),I.isInteger(t.duration)&&t.duration>0&&(i._contentMetadata.duration!=t.duration?(i._cwsSession._contentLengthSec>0&&(n[v.REQUEST_KEY_CONTENT_LENGTH]=i._cwsSession._contentLengthSec),r[v.REQUEST_KEY_CONTENT_LENGTH]=t.duration,i._contentMetadata.duration=t.duration):i._logger.warning("mergeContentMetadata(): duration was not changed.")),I.isInteger(t.encodedFrameRate)&&t.encodedFrameRate>0&&(i._contentMetadata.encodedFrameRate!=t.encodedFrameRate?(i._contentMetadata.encodedFrameRate>-1&&(n[v.REQUEST_KEY_ENCODED_FRAME_RATE]=i._contentMetadata.encodedFrameRate),r[v.REQUEST_KEY_ENCODED_FRAME_RATE]=t.encodedFrameRate,i._contentMetadata.encodedFrameRate=t.encodedFrameRate):i._logger.warning("mergeContentMetadata(): encodedFrameRate was not changed.")),t.streamType!=o.StreamType.UNKNOWN&&(i._contentMetadata.streamType!=t.streamType?(i._contentMetadata.streamType!=o.StreamType.UNKNOWN&&(i._contentMetadata.streamType==e.ContentMetadata.StreamType.LIVE?n[v.REQUEST_KEY_IS_LIVE]=!0:n[v.REQUEST_KEY_IS_LIVE]=!1),t.streamType==e.ContentMetadata.StreamType.LIVE?r[v.REQUEST_KEY_IS_LIVE]=!0:r[v.REQUEST_KEY_IS_LIVE]=!1,i._contentMetadata.streamType=t.streamType):i._logger.warning("mergeContentMetadata(): streamType was not changed.")),I.dictCount(t.custom)>0){var a={},s={};for(var l in t.custom){i._contentMetadata.custom[l]!=t.custom[l]?(a[l]=t.custom[l],i._contentMetadata.custom[l]&&(s[l]=i._contentMetadata.custom[l]),i._contentMetadata.custom[l]=t.custom[l]):i._logger.info("mergeContentMetadata(): custom."+l+" was not changed.")}I.dictCount(a)>0?(I.dictCount(s)>0&&(n[v.REQUEST_KEY_TAGS]=s),r[v.REQUEST_KEY_TAGS]=a):i._logger.warning("mergeContentMetadata(): custom was not changed.")}I.dictCount(r)>0&&i._cwsSession.declareStateChange(r,n)},this.isGlobalSession=function(){return i._global==w.SESSION_TYPE.GLOBAL},this.isVideoSession=function(){return i._global==w.SESSION_TYPE.VIDEO},this.isAdSession=function(){return i._global==w.SESSION_TYPE.AD},this.sessionTypeTag=function(){return i.isGlobalSession()?" (global session)":""}});b.DEFAULT_HEARTBEAT_ERROR_MESSAGE="received no response (or a bad response) to heartbeat POST request";var S=t.SessionFactory=function(){function e(e,i,n,o){t._client=e,t._clientSettings=i,t._clientConfig=n,t._systemFactory=o,t._logger=t._systemFactory.buildLogger(),t._logger.setModuleName("SessionFactory"),t._nextSessionKey=0,t._sessionsByKey={}}var t=this;t._logger=null,t._logBuffer=null,t._nextSessionKey=0,t._sessionsByKey=null,e.apply(t,arguments),this.cleanup=function(){t._logger=null,t._logBuffer=null;for(var e in t._sessionsByKey){t._sessionsByKey[e].cleanup()}t._sessionsByKey=null,t._nextSessionKey=0},this.newSessionKey=function(){var e=t._nextSessionKey;return t._nextSessionKey++,e},this.makeVideoSession=function(e,i){return null==e&&(e=new o),t.makeSession(e,i)},this.makeGlobalSession=function(e){return t.makeSession(e,w.SESSION_TYPE.GLOBAL)},this.generateSessionId=function(){return k.integer32()},this.makeSession=function(e,i){var n=e.clone(),o=t.generateSessionId(),r=t._systemFactory.buildSession(t._client,t._clientSettings,t._clientConfig,o,i,n),a=t.newSessionKey();return t.addSession(a,r),r.start(),a},this.getSession=function(e){var i=t._sessionsByKey[e];return null==i&&t._logger.error("Client: invalid sessionKey. Did you cleanup that session previously?"),i},this.getVideoSession=function(e){var i=this.getSession(e);return null!=i&&(i.isVideoSession()||i.isAdSession()||(t._logger.error("Client: invalid sessionKey. Did you cleanup that session previously?"),i=null)),i},this.addSession=function(e,i){t._sessionsByKey[e]=i},this.removeSession=function(e){delete t._sessionsByKey[e]},this.cleanupSession=function(e){var i=t.getSession(e);t.removeSession(e),i.cleanup()}},C=t.CallbackWithTimeout=function(e){this._timer=e,this.getWrapperCallback=function(e,t,i){var n=!1,o=function(){n||(n=!0,e(!1,i+" ("+t+" ms)"))};return this._timer.createOnce(o,t,"CallbackWithTimeout.wrap"),function(t,i){n||(n=!0,e(t,i))}}},T=t.Config=function(e,t,i){var n=this;this._logger=e,this._logger.setModuleName("Config"),this._storage=t,this._jsonInterface=i,this._defaultConfig={clientId:v.DEFAULT_CLIENT_ID,sendLogs:!1,maxHbInfos:v.DEFAULT_MAX_HEARTBEAT_INFOS},this._config=I.ObjectShallowCopy(this._defaultConfig),this._loaded=!1,this._loadedEmpty=!1,this._waitingConsumers=[],this.isReady=function(){return this._loaded},this.load=function(){var e=function(e,t){e?(n._parse(t),n._logger.debug("load(): configuration successfully loaded from local storage"+(n._loadedEmpty?" (was empty)":"")+".")):n._logger.error("load(): error loading configuration from local storage: "+t),n._loaded=!0,n._notify()};this._storage.load(T.STORAGE_KEY,e)},this._parse=function(e){var t=this._jsonInterface.decode(e);if(null==t)return void(this._loadedEmpty=!0);var i=t[T.CONFIG_STORAGE_KEY_CLIENT_ID];null!=i&&i!=v.DEFAULT_CLIENT_ID&&""!=i&&"null"!=i&&(this._config[T.CONFIG_KEY_CLIENT_ID]=i,this._logger.debug("parse(): loaded clientId="+i+" (from local storage)"))},this._marshall=function(){var e={};return e[T.CONFIG_STORAGE_KEY_CLIENT_ID]=this._config.clientId,this._logger.debug("_marshall(): saving clientId="+this._config.clientId+" (to local storage)"),this._jsonInterface.encode(e)},this.save=function(){var e=function(e,t){e?n._logger.debug("save(): configuration successfully saved to local storage."):n._logger.error("save(): error saving configuration to local storage: "+t)};this._storage.save(T.STORAGE_KEY,this._marshall(),e)},this.register=function(e){return this.isReady()?void e():void this._waitingConsumers.push(e)},this.get=function(e){return this._loaded?this._config[e]:null},this.set=function(e,t){this._loaded&&(this._config[e]=t)},this._notify=function(){for(var e;null!=(e=this._waitingConsumers.shift());)e()}};T.STORAGE_KEY="sdkConfig",T.CONFIG_STORAGE_KEY_CLIENT_ID="clId",T.CONFIG_KEY_CLIENT_ID="clientId",T.CONFIG_KEY_SEND_LOGS="sendLogs",T.CONFIG_KEY_MAX_HEARTBEAT_INFOS="maxHbInfos";var R=t.EventQueue=function(){this._events=[],this._nextEventNumber=0,this.enqueue=function(e){this._events.push(e)},this.getNumber=function(){var e=this._nextEventNumber;return this._nextEventNumber++,e},this.flush=function(){var e=this._events;return this._events=[],e}},P=t.ExceptionCatcher=function(e,t,i){this._logger=e,this._logger.setModuleName("ExceptionCatcher"),this._ping=t,this._systemSettings=i,this.runProtected=function(e,t,i){try{t()}catch(t){if(null!=i)i(t);else{if(this._systemSettings.allowUncaughtExceptions)throw t;this.onUncaughtException(e,t)}}},this.onUncaughtException=function(e,t){var i="Uncaught exception: "+e+": "+t.toString();if(null!=this._ping)try{this._ping.send(i)}catch(e){this._logger.error("Caught exception while sending ping: "+e.toString())}this._logger.error(i)}},E=t.GatewayControl=function(e,t,i,n){var o=this;this._clientSettings=e,this._logger=t,this._logger.setModuleName("GatewayControl"),this._httpClient=i,this._jsonInterface=n,this.send=function(e,t){var i=this._jsonInterface.encode(e),n=this._clientSettings.gatewayUrl+v.gatewayPath,r=function(e,i){if(e){var n=o._jsonInterface.decode(i);t(e,n)}else{t(e,i)}};this._httpClient.request("POST",n,i,"application/json",r)}},I=t.Lang={};I.isMeaningfulString=function(e){return I.isValidString(e)&&null!=e&&"undefined"!=e&&"null"!=e},I.sanitizeStringToStringObject=function(e){var t={};for(var i in e)if(I.isMeaningfulString(i)){var n=e[i];I.isMeaningfulString(n)&&(t[i]=n)}return t},I.validateInterface=function(e,t,i){if(null==e)throw new Error("Expected "+i+" implementation is null.");for(var n in t)if("function"!=typeof e[n])throw new Error("Expected method "+n+" in "+i+" implementation.")},I.dictCount=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},I.ToString=function(e){return""+e},I.NumberToInt=function(e){return Math.floor(e)},I.NumberToUnsignedInt=function(e){return Math.abs(I.NumberToInt(e))},I.AsBoolean=function(e){return Boolean(e)},I.isValidString=function(e){return"string"==typeof e&&""!==e},I.stringStartsWith=function(e,t){return"string"==typeof e&&"string"==typeof t&&("function"==typeof e.indexOf&&0===e.indexOf(t))},I.isBoolean=function(e){return"boolean"==typeof e},I.UrlEncodeString=function(e){return escape(e)},I.isObject=function(e){return"object"==typeof e},I.ObjectToString=function(e){var t="";for(var i in e){t+=i+"="+e[i]}return"Object{"+t+"}"},I.ObjectShallowCopyOmitNull=function(e){var t=I.ObjectShallowCopy(e);for(var i in t)null==t[i]&&delete t[i];return t},I.ObjectShallowCopy=function(e){var t={};for(var i in e)t[i]=e[i];return t},I.ObjectShallowEquals=function(e,t){if(typeof e!=typeof t)return!1;if(e instanceof Object&&t instanceof Object){if(I.dictCount(e)!==I.dictCount(t))return!1;for(var i in e)if(!(e[i]===t[i]))return!1;return!0}return e===t},I.isInteger=function(e){return"number"==typeof e&&Math.round(e)===e},I.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},I.ArrayEquals=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var i=0;i<e.length;++i)if(I.isArray(e[i])&&I.isArray(t[i])){if(!I.ArrayEquals(e[i],t[i]))return!1}else if(e[i]!==t[i])return!1;return!0},I.isObjectDefinePropertyPresent=function(){return void 0!==Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()},I.defGet=function(e,t,i){if(I.isObjectDefinePropertyPresent())Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:i});else{if(void 0===e.__defineGetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineGetter__");e.__defineGetter__(t,i)}},I.defSet=function(e,t,i){if(I.isObjectDefinePropertyPresent())Object.defineProperty(e,t,{configurable:!0,set:i});else{if(void 0===e.__defineSetter__)throw new Error("JavaScript runtime must support either Object.defineProperty or __defineSetter__");e.__defineSetter__(t,i)}},function(){var e={};e.two32=4294967296,e.MaxValue=e.two32-1,e.MinValue=0,I.UInt32=e,I.UInt32.Cast=function(t){var i=parseInt(t,10);return i>e.MaxValue?i%=e.two32:i<e.MinValue&&(i=-i%e.two32,i=e.two32-i),i},I.UInt32.InRange=function(t){var i=parseInt(t,10);return i<=e.MaxValue&&i>=e.MinValue};var t={};t.MaxValue=2147483647,t.MinValue=-2147483648,I.Int32=t,I.Int32.Cast=function(e){var i=parseInt(e,10);return i>t.MaxValue?i%=t.MaxValue:i<t.MinValue&&(i=-i%t.MaxValue,i=t.MaxValue-i),i},I.Int32.InRange=function(e){var i=parseInt(e,10);return i<=t.MaxValue&&i>=t.MinValue}}();var x=t.LogBuffer=function(){this._buffer=[],this.add=function(e){this._buffer.length>=32&&this._buffer.shift(),this._buffer.push(e)},this.flush=function(){var e=this._buffer;return this._buffer=[],e}},A=t.Ping=function(e,t,n){this._isSendingPing=!1,this._cachedBasePingUrl=null,this._logger=e,this._logger.setModuleName("Ping"),this._httpClient=t,this._clientSettings=n,this.send=function(e){if(!this._isSendingPing){this._isSendingPing=!0;var t=this.getBasePingUrl()+"&d="+I.UrlEncodeString(e.toString());this._logger.error("send(): "+t),this._httpClient.request("GET",t,null,null,null),this._isSendingPing=!1}},this.getBasePingUrl=function(){if(!this._cachedBasePingUrl){var e=A.SERVICE_URL+"?comp="+A.COMPONENT_NAME+"&clv="+i.version;if(this._clientSettings&&(e+="&cid="+this._clientSettings.customerKey),e+="&sch="+v.SDK_METADATA_SCHEMA,!this._clientSettings)return e;this._cachedBasePingUrl=e}return this._cachedBasePingUrl}};A.COMPONENT_NAME="sdkjs",A.SERVICE_URL="https://pings.conviva.com/ping.ping";var k=t.Random={};k.maxUInt32=4294967295,k.maxInt32=2147483647,k.minInt32=-2147483648,k.integer32=function(){return Math.floor(Math.random()*k.maxUInt32)+k.minInt32},k.uinteger32=function(){return Math.floor(Math.random()*k.maxUInt32)};var V=t.Sanitize={};V.Integer=function(e,t,i,n){if(isNaN(e))return n;if("number"!=typeof e)return n;if(e==n)return n;var o=I.NumberToInt(e);return V.EnforceBoundaries(o,t,i)},V.EnforceBoundaries=function(e,t,i){return null!=i&&e>i?e=i:null!=t&&t>e&&(e=t),e},V.sanitizeSpecialIntegerValue=function(e){return-1==e||-2==e?e:e=V.Integer(e,0,null,-1)};var M=(t.StreamerError=function(){function e(e,i){t.errorCode=e,t.severity=i}var t=this;t.errorCode=null,t.severity=i.ErrorSeverity.FATAL,e.apply(t,arguments)},t.HttpClient=function(e,t,i,n){this._logger=e,this._logger.setModuleName("HttpClient"),this._httpInterface=t,this._callbackWithTimeout=i,this._systemSettings=n,this.request=function(e,t,i,n,o){var r=1e3*this._systemSettings.httpTimeout,a=this._callbackWithTimeout.getWrapperCallback(o,r,"HTTP timeout");this._logger.debug("request(): calling HttpInterface.makeRequest"),this._httpInterface.makeRequest(e,t,i,n,r,a)}}),D=t.Logger=function(e,t,i,n,o){this._loggingInterface=e,this._timeInterface=t,this._settings=i,this._logBuffer=n,this._packageName=o,this.debug=function(e){this.log(e,a.LogLevel.DEBUG)},this.info=function(e){this.log(e,a.LogLevel.INFO)},this.warning=function(e){this.log(e,a.LogLevel.WARNING)},this.error=function(e){this.log(e,a.LogLevel.ERROR)},this.log=function(e,t){var i=this.formatMessage(e,t);this._logBuffer.add(i),this._settings.logLevel<=t&&this._loggingInterface.consoleLog(i,t)},this.prependModuleName=function(e){var t=e;return t="["+this._moduleName+"] "+t},this.prependPackageName=function(e){var t=e;return t="["+this._packageName+"] "+t},this.prependConvivaNamespace=function(e){var t=e;return t="[Conviva] "+t},this.prependTime=function(e){return"["+(this._timeInterface.getEpochTimeMs()/1e3).toFixed(3).toString()+"] "+e},this.prependLogLevel=function(e,t){var i=D.getLogLevelString(t),n=e;return n="["+i+"] "+n},this.prependSessionId=function(e){var t=e;return null!=this._sessionId&&(t="sid="+this._sessionId+" "+t),t},this.setSessionId=function(e){this._sessionId=e},this.setModuleName=function(e){this._moduleName=e},this.formatMessage=function(e,t){return this.prependConvivaNamespace(this.prependTime(this.prependLogLevel(this.prependPackageName(this.prependModuleName(this.prependSessionId(e))),t)))}};D.getLogLevelString=function(e){var t;switch(e){case a.LogLevel.ERROR:t="ERROR";break;case a.LogLevel.WARNING:t="WARNING";break;case a.LogLevel.INFO:t="INFO";break;case a.LogLevel.DEBUG:t="DEBUG"}return t};var O=t.Storage=function(e,t,i,n){this._logger=e,this._logger.setModuleName("Storage"),this._storageInterface=t,this._callbackWithTimeout=i,this._systemSettings=n,this.load=function(e,t){var i=this._callbackWithTimeout.getWrapperCallback(t,1e3*this._systemSettings.storageTimeout,"storage load timeout");this._logger.debug("load(): calling StorageInterface.loadData"),this._storageInterface.loadData(O.STORAGE_SPACE,e,i)},this.save=function(e,t,i){var n=this._callbackWithTimeout.getWrapperCallback(i,1e3*this._systemSettings.storageTimeout,"storage save timeout");this._logger.debug("save(): calling StorageInterface.saveData"),this._storageInterface.saveData(O.STORAGE_SPACE,e,t,n)}};O.STORAGE_SPACE="Conviva";var N=t.SystemMetadata=function(e,t,n){this._logger=e,this._logger.setModuleName("SystemMetadata"),this._metadataInterface=t,this._exceptionCatcher=n,this._cachedMetadata=null,this.get=function(){return this._cachedMetadata||this.retrieve(),this._cachedMetadata},this.retrieve=function(){var e={};e[N.BROWSER_NAME]=this._metadataInterface.getBrowserName,e[N.BROWSER_VERSION]=this._metadataInterface.getBrowserVersion,e[N.DEVICE_BRAND]=this._metadataInterface.getDeviceBrand,e[N.DEVICE_MANUFACTURER]=this._metadataInterface.getDeviceManufacturer,e[N.DEVICE_MODEL]=this._metadataInterface.getDeviceModel,e[N.DEVICE_TYPE]=this._metadataInterface.getDeviceType,e[N.DEVICE_VERSION]=this._metadataInterface.getDeviceVersion,e[N.FRAMEWORK_NAME]=this._metadataInterface.getFrameworkName,e[N.FRAMEWORK_VERSION]=this._metadataInterface.getFrameworkVersion,e[N.OPERATING_SYSTEM_NAME]=this._metadataInterface.getOperatingSystemName,e[N.OPERATING_SYSTEM_VERSION]=this._metadataInterface.getOperatingSystemVersion;var t=this;this._logger.debug("retrieve(): calling MetadataInterface methods");for(var n in e)(function(e,i){t._exceptionCatcher.runProtected("Session.getSystemMetadataSchema(): "+e,function(){var n=i[e];i[e]=n.call(t._metadataInterface)})})(n,e),I.isValidString(e[n])||delete e[n];e[N.DEVICE_TYPE]!==i.DeviceType.DESKTOP&&e[N.DEVICE_TYPE]!==i.DeviceType.CONSOLE&&e[N.DEVICE_TYPE]!==i.DeviceType.SETTOP&&e[N.DEVICE_TYPE]!==i.DeviceType.MOBILE&&e[N.DEVICE_TYPE]!==i.DeviceType.TABLET&&e[N.DEVICE_TYPE]!==i.DeviceType.SMARTTV&&delete e[N.DEVICE_TYPE],this._cachedMetadata=I.ObjectShallowCopyOmitNull(e)}};N.BROWSER_NAME="browserName",N.BROWSER_VERSION="browserVersion",N.DEVICE_BRAND="deviceBrand",N.DEVICE_MANUFACTURER="deviceManufacturer",N.DEVICE_MODEL="deviceModel",N.DEVICE_TYPE="deviceType",N.DEVICE_VERSION="deviceVersion",N.FRAMEWORK_NAME="frameworkName",N.FRAMEWORK_VERSION="frameworkVersion",N.OPERATING_SYSTEM_NAME="operatingSystemName",N.OPERATING_SYSTEM_VERSION="operatingSystemVersion";var F=t.Time=function(e,t){this._timeInterface=e,this._logger=t,this._logger.setModuleName("Time"),this.current=function(){var e=this._timeInterface.getEpochTimeMs();return I.isInteger(e)||this._logger.error("current(): TimeInterface.getEpochTimeMs() did not return an integer ("+e+")"),e}},L=t.Timer=function(e,t,i){var n=this;this._logger=e,this._logger.setModuleName("Timer"),this._timerInterface=t,this._exceptionCatcher=i,this.create=function(e,t,i){var o=function(){n._exceptionCatcher.runProtected(i,function(){e()})};return this.createTimer(o,t,i)},this.createOnce=function(e,t,i){var o={cancel:null},r=function(){n._exceptionCatcher.runProtected(i,function(){o&&"function"==typeof o.cancel&&(o.cancel(),o.cancel=null,o=null),e()})},a=this.createTimer(r,t,i);return o.cancel=a,a},this.createTimer=function(e,t,i){return this._logger.debug("createTimer(): calling TimerInterface.create"),this._timerInterface.createTimer(e,t,i)}}}()}(),e}),function(){"use strict";define("platform/common/PlayerTypes",["core/oop"],function(e){return e.enumDef("platform.common.PlayerTypes",["DASH","FLASH","SAFARI","ANDROID","IOS","PS4","XBOX","HTML5","TIZEN","BASE","AUTOMATON"])})}(),function(){"use strict";define("dataservices/analytics/IConvivaService",["core/oop"],function(e){return e.interfaceDef("dataservices.analytics.IConvivaService",void 0,function(){e.singleton(),e.properties({isEnabled:{get:void 0}}),e.methods({initialize:void 0,createSession:void 0,updateSession:void 0,closeSession:void 0,notifyError:void 0,notifyCustomEvent:void 0,notifyBitrateChanged:void 0})})})}(),function(){"use strict";define("dataservices/dependent/analytics/BaseConvivaSystemInterface",["core/oop","core/Debug","lib/conviva","core/logging/Levels","engine/dependent/Time","engine/dependent/Scheduler","platform/HttpStatus","platform/dependent/HttpClient","platform/diagnostics/HttpRequestLogEntry","platform/diagnostics/HttpResponseLogEntry","platform/diagnostics/HttpCancelLogEntry","platform/dependent/diagnostics/ConsoleLogger","platform/dependent/Storage","application/ClientApplication","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("dataservices.dependent.analytics.BaseConvivaSystemInterface",[Object],function(){e.constructor(function(){}),e.methods({getEpochTimeMs:function(){return Math.floor(o.singleton.now())},
createTimer:function(e,t,i){var n,o,a=r.singleton,s=function(){void 0!==n&&(n=a.requestTimeout(s,t),e())};return n=a.requestTimeout(s,t),o=function(){void 0!==n&&(n(),n=void 0,o=void 0)}},_logRequest:function(e,t,i,o){var r=l.new({method:e,url:t,headers:i,body:o,area:"ConvivaSystemInterface",verbosity:n.DIAG});return r.log(),r.requestId},_logResponse:function(e,t){e.status===a.REQUEST_TIMEOUT||e.response,c.new({requestId:t,status:e.status,response:e.response,headers:e.headers,attemptingRetry:!1,area:"ConvivaSystemInterface",verbosity:n.DIAG}).log()},_logCancel:function(e){d.new({requestId:e,area:"ConvivaSystemInterface",verbosity:n.DIAG}).log()},_makeRequestInternal:function(e,t,i,n,o){var r,a;(n||"GET"!==e)&&(a=[{header:"Content-Type",value:n||"application/json"}]);var l=this._logRequest(e,t,a,i);return r="POST"===e?s.singleton.post(t,a,i,o):s.singleton.get(t,a,o),{promise:r,requestId:l}},makeRequest:function(){},loadData:function(e,t,i){var n=p.singleton.read(this._getStoragePath(e,t));i?n.then(function(e){void 0!==e?i(!0,e):i(!1)}).catch(function(e){i(!1,e)}):n.catch(function(){})},saveData:function(e,t,i,n){var o=p.singleton.write(this._getStoragePath(e,t),i);n?o.then(function(){n(!0,null)}).catch(function(e){n(!1,e)}):o.catch(function(){})},consoleLog:function(e,t){u.singleton.log({message:e})},createMetadataInterface:function(){return{getBrowserName:this.getBrowserName.bind(this),getBrowserVersion:this.getBrowserVersion.bind(this),getDeviceBrand:this.getDeviceBrand.bind(this),getDeviceManufacturer:this.getDeviceManufacturer.bind(this),getDeviceModel:this.getDeviceModel.bind(this),getDeviceType:this.getDeviceType.bind(this),getDeviceVersion:this.getDeviceVersion.bind(this),getFrameworkName:this.getFrameworkName.bind(this),getFrameworkVersion:this.getFrameworkVersion.bind(this),getOperatingSystemName:this.getOperatingSystemName.bind(this),getOperatingSystemVersion:this.getOperatingSystemVersion.bind(this),release:this.release.bind(this)}},getBrowserName:function(){return null},getBrowserVersion:function(){return null},getDeviceBrand:function(){return g.singleton.brand||g.singleton.analyticsName},getDeviceManufacturer:function(){return g.singleton.manufacturer||null},getDeviceModel:function(){return g.singleton.model||null},getDeviceType:function(){return i.Client.DeviceType.UNKNOWN},getDeviceVersion:function(){return null},getFrameworkName:function(){return"Hadron"},getFrameworkVersion:function(){return h.singleton.version},getOperatingSystemName:function(){return null},getOperatingSystemVersion:function(){return g.singleton.osVersion||null},release:function(){},_getStoragePath:function(e,t){return"convivaPersistent/"+e+"/"+t}})})})}(),function(){"use strict";define("dataservices/dependent/analytics/ConvivaSystemInterface",["core/oop","dataservices/dependent/analytics/BaseConvivaSystemInterface"],function(e,t){return e.classDef("dataservices.dependent.analytics.ConvivaSystemInterface",[t],function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({makeRequest:function(e,t,i,n,o,r){var a=this,s=a._makeRequestInternal(e,t,i,n,o),l=s.promise;return r?l.then(function(e){r(!0,e.response),a._logResponse(e,s.requestId)}).catch(function(e){r(!1,e)}):l.catch(function(){a._logResponse({response:"Ignore failures for Conviva requests when there is no callback"},s.requestId)}),function(){l.cancel(),a._logCancel(s.requestId)}}})})})}(),function(){"use strict";define("dataservices/dependent/analytics/ConvivaService",["core/oop","lib/conviva","lib/lodash/objects/forOwn","platform/common/PlaybackState","platform/common/PlayerTypes","platform/common/PlayItemType","platform/dependent/Process","platform/NetworkCodes","application/ClientDevice","application/ClientApplication","dataservices/VideoPlayableStatus","dataservices/dependent/uris","dataservices/analytics/IConvivaService","dataservices/dependent/analytics/ConvivaSystemInterface","dataservices/DataServicesSettings","automation/AutomationManager","core/Debug"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m){return e.classDef("dataservices.dependent.analytics.ConvivaService",[p,Object],function(){e.singleton(function(){this._playerStateManagers={}}),e.properties({isEnabled:{privateSet:!0,defaultValue:!1},_client:void 0,_playerStateManagers:void 0,_networkCodeMap:{defaultValue:{WIRELESS:"WiFi",CELLULAR:"Cellular",WIRED:"Ethernet",NOT_CONNECTED:"Other",UNSPECIFIED:"Other"}},_design:void 0}),e.methods({initialize:function(e){this._design=e.features.design;var i=!0===e.features.productionAnalytics?"d71df273e01b3639362d0e13143c0d15e32bc5d5":"7d8e82f2a2207f954ba6eb7f72ebea0f7b0da60b",n=new t.ClientSettings(i);!0!==e.features.productionAnalytics&&(n.gatewayUrl=u.convivaTest);var o=this._createSystemInterface(),r=this._createSystemSettings(e),a=new t.SystemFactory(o,r);this._client=this._createConvivaClient(n,a),this._isEnabled=!0},createSession:function(e){var n=e.isPreview,o=e.isExtra,u=!0===n?"PREVIEW":!0===o?"EXTRA":"FEATURE",p=e.profile,h=p.indexOf("_");h>-1&&(p=p.substr(0,h));var m=g.singleton.name,v={appName:m,siteID:c.singleton.regionId,deviceSerialNumber:l.singleton.serial,deviceModel:l.singleton.model,playerType:this._buildPlayerType(e.playerType),playerVersion:c.singleton.version,affiliate:void 0!==e.affiliateCode?e.affiliateCode.toUpperCase():void 0,language:e.language,countryCode:e.countryCode,viewerId:e.userId,assetTkey:e.assetAnalyticsId,mediaTKey:e.mediaId,profile:p,isFreeContent:e.isFree,rating:e.rating,genre:e.primaryGenre,season:e.seasonNumber,series:e.seriesName,episode:e.episodeNumber,show:e.title,contentDuration:e.duration,videoType:u,manifestType:r.getName(e.playItemType),playlistSessionId:e.playlistSessionId,HDC:"N/A",airPlay:"N/A",connection:s.getName(a.singleton.networkCode),wasResumed:e.wasResumed};i(e.playbackOptions,function(e,t){v["playbackOption."+t]=e}),f.singleton.isRunning&&i(f.singleton.getConvivaTags(),function(e,t){v[t]=e}),i(v,function(e,t){v[t]=void 0!==e&&null!==e&&""!==e?e.toString():"N/A"});var _=new t.ContentMetadata;_.applicationName=m,_.assetName=e.title,_.duration=e.duration,_.streamType=e.playableStatus===d.LIVE?t.ContentMetadata.StreamType.LIVE:t.ContentMetadata.StreamType.VOD,_.streamUrl=e.uri,_.viewerId=e.userId,_.defaultResource=e.cdn,_.custom=v;var y=this._client.createSession(_);return this._playerStateManagers[y]=this._client.getPlayerStateManager(),this._client.attachPlayer(y,this._playerStateManagers[y]),this._playerStateManagers[y].setConnectionType(this._networkCodeMap[s.getName(a.singleton.networkCode)]),y},updateSession:function(e,i,o){var r=t.PlayerStateManager.PlayerState.UNKNOWN,a=!1,s=o;switch(void 0===o&&(s=-1),i){case n.PLAYING:r=t.PlayerStateManager.PlayerState.PLAYING;break;case n.PAUSED:r=t.PlayerStateManager.PlayerState.PAUSED;break;case n.BUFFERING:r=t.PlayerStateManager.PlayerState.BUFFERING;break;case n.ENDED:case n.CLOSED:r=t.PlayerStateManager.PlayerState.STOPPED;break;case n.SEEKING:a=!0}if(!0===a&&void 0!==this._playerStateManagers[e]){var l=Math.floor(1e3*s);this._playerStateManagers[e].setPlayerSeekStart(l)}else void 0!==this._playerStateManagers[e]&&this._playerStateManagers[e].setPlayerState(r)},notifyError:function(e,i){void 0!==this._playerStateManagers[e]&&this._playerStateManagers[e].sendError(i,t.Client.ErrorSeverity.FATAL)},notifyCustomEvent:function(e,i,n){void 0===e&&(e=t.Client.NO_SESSION_KEY),this._client.sendCustomEvent(e,i,n)},notifyBitrateChanged:function(e,t){if(void 0!==this._playerStateManagers[e]){var i=Math.floor(t/1e3);this._playerStateManagers[e].setBitrateKbps(i)}},closeSession:function(e){void 0!==this._playerStateManagers[e]&&(this._client.detachPlayer(e),this._client.cleanupSession(e),this._client.releasePlayerStateManager(this._playerStateManagers[e]),this._playerStateManagers[e]=void 0)},_createSystemSettings:function(e){var i=new t.SystemSettings;return i.logLevel=!0===e.features.consoleLog?t.SystemSettings.LogLevel.DEBUG:t.SystemSettings.LogLevel.NONE,i.allowUncaughtExceptions=!1,i},_createSystemInterface:function(){var e=h.new();return new t.SystemInterface(e,e,e,e,e.createMetadataInterface(),e)},_createConvivaClient:function(e,i){return new t.Client(e,i)},_buildPlayerType:function(e){var t;switch(l.singleton.id){case l.Ids.DESKTOP:switch(e){case o.FLASH:t="desktop Flash";break;case o.SAFARI:t="desktop SafariEME";break;case o.DASH:t="desktop Dash";break;case o.HTML5:t="test_HTML5";break;case o.AUTOMATON:t="desktop Automaton"}break;case l.Ids.IOS:t="ios";break;case l.Ids.ANDROID:t="android";break;case l.Ids.ANDROIDTV:t="androidtv";break;case l.Ids.ANDROIDTABLET:t="androidtablet";break;case l.Ids.APPLETV:t="appletv";break;case l.Ids.IPAD:t="ipad";break;case l.Ids.PS4:t="ps4";break;case l.Ids.XBOXONE:t="xb1";break;case l.Ids.FIRETV:t="firetv";break;case l.Ids.FIRETVSTICK:t="firetv Stick";break;case l.Ids.HILTONTV:t="hiltontv";break;case l.Ids.UWP:t="uwp";break;case l.Ids.TIZEN:t="tizen";break;case l.Ids.TEST:t="test_deviceId"}return"daydream"!==this._design||l.singleton.id!==l.Ids.ANDROID&&l.singleton.id!==l.Ids.ANDROIDTABLET||(t="GoogleVR"),t+" PlayerView Player"}})})})}(),function(){"use strict";define("configuration/ConvivaConfig",["core/oop","dataservices/dependent/analytics/ConvivaService"],function(e,t){return e.classDef("configuration.ConvivaConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){t.singleton.initialize(e)}})})})})}(),function(){"use strict";define("configuration/DeveloperSettingsConfig",["core/oop","platform/PlatformDeveloperSettings","design/DesignDeveloperSettings","platform/common/PlayItem"],function(e,t,i,n){return e.classDef("configuration.DeveloperSettingsConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){if("browser"===e.features.pal&&!t.singleton.useSWFVideo&&!t.singleton.useDashVideo){if(void 0===i.singleton.testVideoPlayItem){var o=n.new({url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4"});i.singleton._testVideoPlayItem=o}if(void 0===i.singleton.testPrerollPlayItem){var r=n.new({url:"http://techslides.com/demos/sample-videos/small.mp4"});i.singleton._testPrerollPlayItem=r}}void 0===i.singleton.showDebugInfo&&(i.singleton._showDebugInfo=e.features.showDebugInfo),i.singleton.showDebugOverlay=e.features.showDebugOverlay,!0===i.singleton.showDebugOverlay&&(i.singleton.debugOverlayUri="assets/images/overlay_grid.png")}})})})})}(),function(){"use strict";define("design/atomic/particles/Colors",["core/oop","core/Debug","design/ScreenUtil","platform/common/Color"],function(e,t,i,n){return e.classDef("design.atomic.particles.Colors",Object,function(){e.singleton(function(){var e={absoluteBlack:this._fromRgba({r:0,g:0,b:0}),opaqueBlack:this._fromRgba({r:15,g:15,b:15}),darkestGray:this._fromRgba({r:25,g:25,b:25}),mineShaftGray:this._fromRgba({r:60,g:60,b:60}),mediumGray:this._fromRgba({r:127,g:127,b:127}),dustyGray:this._fromRgba({r:153,g:153,b:153}),smokeGray:this._fromRgba({r:200,g:200,b:200}),gainsboroGray:this._fromRgba({r:222,g:222,b:222}),whiteSmoke:this._fromRgba({r:240,g:240,b:240}),splitPanelBlue:this._fromRgba({r:10,g:35,b:60}),ceruleanBlue:this._fromRgba({r:14,g:178,b:240}),darkBlue:this._fromRgba({r:28,g:59,b:73}),mediumBlue:this._fromRgba({r:41,g:121,b:162}),crimson:this._fromRgba({r:233,g:49,b:49}),focusedShadowColor:this._fromRgba({r:140,g:220,b:240},.8)};e.clear=this._applyAlpha(e.opaqueBlack,0),e.defaultShadowColor=this._applyAlpha(e.opaqueBlack,.2),e.defaultShadow2Color=this._applyAlpha(e.opaqueBlack,.25),e.blurTint=this._applyAlpha(e.opaqueBlack,.55),e.tileListeningForeground=this._applyAlpha(e.opaqueBlack,.6),e.secondaryControlProtection=this._applyAlpha(e.opaqueBlack,.7),e.contentProtection=this._applyAlpha(e.opaqueBlack,.76),e.interactiveContentBackground=this._applyAlpha(e.opaqueBlack,.8),e.interactiveMenuBackground=this._applyAlpha(e.opaqueBlack,.85),e.overlayBackground=i.singleton.byScreen({phone:e.opaqueBlack,default:this._applyAlpha(e.opaqueBlack,.96)}),e.translucentMineShaftGray=this._applyAlpha(e.mineShaftGray,.5),e.overlayBlue=this._applyAlpha(e.splitPanelBlue,.9),e.translucentCrimson=this._applyAlpha(e.crimson,.5),this.exports=e}),e.properties({exports:void 0}),e.methods({_fromRgba:function(e,t){var i=void 0===t?1:t;return n.new({r:e.r/255*i,g:e.g/255*i,b:e.b/255*i,a:i})},_applyAlpha:function(e,t){return e.a,n.new({r:e.r*t,g:e.g*t,b:e.b*t,a:t})}})})})}(),function(){"use strict";define("platform/common/TextFormat",["core/oop","core/Debug"],function(e,t){return e.classDef("platform.common.TextFormat",Object,function(){e.initConstructor(),e.properties({isImmutable:{get:function(){return!0}},font:void 0,size:void 0,_explicitLineHeight:void 0,lineHeight:{set:function(e){this._explicitLineHeight=e},get:function(){return void 0===this._explicitLineHeight?this.size:(!1===this._isInitialized||(this._explicitLineHeight,this.size),this._explicitLineHeight)}},shadow:void 0,shadow2:void 0,outlineColor:void 0,outlineThickness:void 0,color:void 0,bold:{defaultValue:!1},italic:{defaultValue:!1},underlined:{defaultValue:!1},uppercase:{defaultValue:!1},ascenderHeight:{defaultValue:0},descenderHeight:{defaultValue:0},letterSpacing:{defaultValue:0}}),e.methods({sizeEquals:function(e){return this.font===e.font&&this.size===e.size&&this.lineHeight===e.lineHeight&&this.bold===e.bold&&this.italic===e.italic&&this.underlined===e.underlined&&this.uppercase===e.uppercase&&this.ascenderHeight===e.ascenderHeight&&this.descenderHeight===e.descenderHeight&&this.letterSpacing===e.letterSpacing}})})})}(),function(){"use strict";define("design/styles/StyleConstantsBase",["core/oop","design/ScreenUtil","design/atomic/particles/Colors","platform/common/TextFormat","ui/LayoutProps"],function(e,t,i,n,o){return e.classDef("design.styles.StyleConstantsBase",Object,function(){e.constructor(function(){function e(e,t){return e*t/1e3}var r=t.singleton.byBrand.bind(t.singleton),a=t.singleton.byDesign.bind(t.singleton),s=t.singleton.byScreen.bind(t.singleton),l=i.singleton.exports,c={all:{left:!0,top:!0,right:!0,bottom:!0},none:{left:!1,top:!1,right:!1,bottom:!1},top:{left:!1,top:!0,right:!1,bottom:!1},left:{left:!0,top:!1,right:!1,bottom:!1},right:{left:!1,top:!1,right:!0,bottom:!1},bottom:{left:!1,top:!1,right:!1,bottom:!0},topLeft:{left:!0,top:!0,right:!1,bottom:!1},topRight:{left:!1,top:!0,right:!0,bottom:!1},bottomLeft:{left:!0,top:!1,right:!1,bottom:!0},bottomRight:{left:!1,top:!1,right:!0,bottom:!0},allButTop:{left:!0,top:!1,right:!0,bottom:!0},allButLeft:{left:!1,top:!0,right:!0,bottom:!0},allButRight:{left:!0,top:!0,right:!1,bottom:!0},allButBottom:{left:!0,top:!0,right:!0,bottom:!1},horizontalAxis:{left:!0,top:!1,right:!0,bottom:!1},verticalAxis:{left:!1,top:!0,right:!1,bottom:!0}},d={all:c.all,none:c.none,top:c.top,left:c.left,right:c.right,bottom:c.bottom,topLeft:c.topLeft,topRight:c.topRight,bottomLeft:c.bottomLeft,bottomRight:c.bottomRight,fillTop:c.allButBottom,fillLeft:c.allButRight,fillRight:c.allButLeft,fillBottom:c.allButTop,stretchHorizontally:c.horizontalAxis,stretchVertically:c.verticalAxis},u={anchorAll:o.new({anchor:d.all}),anchorNone:o.new({anchor:d.none}),anchorTop:o.new({anchor:d.top}),anchorLeft:o.new({anchor:d.left}),anchorRight:o.new({anchor:d.right}),anchorBottom:o.new({anchor:d.bottom}),anchorTopLeft:o.new({anchor:d.topLeft}),anchorTopRight:o.new({anchor:d.topRight}),anchorBottomLeft:o.new({anchor:d.bottomLeft}),anchorBottomRight:o.new({anchor:d.bottomRight}),anchorFillTop:o.new({anchor:d.fillTop}),anchorFillLeft:o.new({anchor:d.fillLeft}),anchorFillRight:o.new({anchor:d.fillRight}),anchorFillBottom:o.new({anchor:d.fillBottom}),anchorStretchHorizontally:o.new({anchor:d.stretchHorizontally}),anchorStretchVertically:o.new({anchor:d.stretchVertically}),anchorTopCropTop:o.new({anchor:d.top,crop:c.top}),anchorLeftCropLeft:o.new({anchor:d.left,crop:c.left}),anchorRightCropRight:o.new({anchor:d.right,crop:c.right}),anchorBottomCropBottom:o.new({anchor:d.bottom,crop:c.bottom}),anchorTopLeftCropTopLeft:o.new({anchor:d.topLeft,crop:c.topLeft}),anchorTopLeftCropTop:o.new({anchor:d.topLeft,crop:c.top}),anchorTopLeftCropLeft:o.new({anchor:d.topLeft,crop:c.left}),anchorTopRightCropTopRight:o.new({anchor:d.topRight,crop:c.topRight}),anchorTopRightCropTop:o.new({anchor:d.topRight,crop:c.top}),anchorTopRightCropRight:o.new({anchor:d.topRight,crop:c.right}),anchorBottomLeftCropBottomLeft:o.new({anchor:d.bottomLeft,crop:c.bottomLeft}),anchorBottomLeftCropBottom:o.new({anchor:d.bottomLeft,crop:c.bottom}),anchorBottomLeftCropLeft:o.new({anchor:d.bottomLeft,crop:c.left}),anchorBottomRightCropBottomRight:o.new({anchor:d.bottomRight,crop:c.bottomRight}),anchorBottomRightCropBottom:o.new({anchor:d.bottomRight,crop:c.bottom}),anchorBottomRightCropRight:o.new({anchor:d.bottomRight,crop:c.right}),anchorFillTopCropTop:o.new({anchor:d.fillTop,crop:c.top}),anchorFillLeftCropLeft:o.new({anchor:d.fillLeft,crop:c.left}),anchorFillRightCropRight:o.new({anchor:d.fillRight,crop:c.right}),anchorFillBottomCropBottom:o.new({anchor:d.fillBottom,crop:c.bottom})},p={thin:"assets/fonts/Street2-Thin.ttf",medium:"assets/fonts/Street2-Medium.ttf",book:"assets/fonts/Street2-Book.ttf",bold:"assets/fonts/Street2-Bold.ttf",bookMono:"assets/fonts/StreetNumbers2-Book.ttf",mediumMono:"assets/fonts/StreetNumbers2-Medium.ttf",thinMono:"assets/fonts/StreetNumbers2-Thin.ttf"};this.exports={colors:l,anchors:d,layouts:u,fonts:p,indicatorLabelSpacing:6,indicatorLabelTop:s({phone:0,default:2}),textFormats:{formActiveButtonFormat:n.new({font:p.bold,size:11,letterSpacing:e(100,11),uppercase:!0,color:l.whiteSmoke}),formActiveButtonHoveredFormat:n.new({font:p.bold,size:11,letterSpacing:e(100,11),uppercase:!0,color:l.whiteSmoke}),tvHeaderFormat:n.new({font:p.medium,size:24,lineHeight:28,letterSpacing:e(100,24),uppercase:!0,color:l.ceruleanBlue}),formInactiveButtonFormat:n.new({font:p.bold,size:11,letterSpacing:e(100,11),uppercase:!0,color:l.dustyGray}),formCancelButtonFormat:n.new({font:p.bold,size:11,letterSpacing:e(100,11),uppercase:!0,color:l.dustyGray}),formCancelButtonHoveredFormat:n.new({font:p.bold,size:11,letterSpacing:e(100,11),uppercase:!0,color:l.smokeGray}),formErrorMessageFormat:n.new({font:p.medium,color:l.crimson,size:11,lineHeight:14}),formFieldLabelFormat:n.new({font:p.medium,color:l.dustyGray,size:11}),fieldErrorMessageFormat:n.new({font:a({activation:p.thin,default:p.medium}),color:l.whiteSmoke,size:11,lineHeight:14}),formInstructionsDetailsFormat:n.new({font:p.thin,color:l.whiteSmoke,size:13,lineHeight:17}),notificationsInstructionsFormat:n.new({font:p.thin,color:l.whiteSmoke,size:13,lineHeight:18,letterSpacing:a({desktop:.5,default:0})}),activationEntryErrorFormat:n.new({font:p.book,color:l.crimson,size:13,lineHeight:17}),formInstructionsLinkFormat:n.new({font:p.thin,color:l.ceruleanBlue,size:13,lineHeight:17}),formInstructionsLinkHoveredFormat:n.new({font:p.thin,color:l.mediumBlue,size:13,lineHeight:17}),formValueFormat:n.new({font:p.book,color:l.mineShaftGray,size:11}),interactiveTextFormat:n.new({font:p.medium,color:l.mediumGray,size:9,lineHeight:22,uppercase:!0}),largeButtonTextFormat:n.new({font:p.medium,color:l.whiteSmoke,size:15,lineHeight:a({ios:16})}),largeButtonDisabledTextFormat:n.new({font:p.medium,color:l.mediumGray,size:15,lineHeight:a({ios:16})}),optionalHintFormat:n.new({font:p.thin,color:l.dustyGray,size:11}),placeholderOptionalHintFormat:n.new({font:p.thin,color:l.dustyGray,size:11,lineHeight:a({ios:15})}),optionalDescriptorFormat:n.new({font:p.book,color:l.dustyGray,size:a({desktop:12,default:9})}),providerPickerPageTitleFormat:n.new({font:p.thin,color:l.whiteSmoke,size:24,lineHeight:a({desktop:36,default:26})}),pageTitle:n.new({font:p.thin,color:l.whiteSmoke,size:24,lineHeight:a({desktop:36,default:32})}),pageTitleLight:n.new({font:p.thin,color:l.whiteSmoke,size:21,lineHeight:28}),pageDescription:n.new({font:p.thin,color:l.whiteSmoke,size:12,lineHeight:17,letterSpacing:e(12,12)}),signInBodyFormat:n.new({font:p.book,color:l.whiteSmoke,size:14,lineHeight:16}),defaultCheckboxFormat:n.new({font:p.thin,color:l.whiteSmoke,size:13}),smallCheckboxFormat:n.new({font:p.thin,color:l.whiteSmoke,size:9}),dropDownOptionFormat:n.new({font:p.book,color:l.mineShaftGray,size:11,lineHeight:28}),appStoreAffiliateTextFormat:n.new({font:p.thin,color:l.whiteSmoke,size:22}),affiliateSubHeadTextFormat:n.new({font:p.book,color:l.smokeGray,size:13,lineHeight:17}),affiliateSubHeadMediumTextFormat:n.new({font:p.medium,color:l.whiteSmoke,size:15,lineHeight:16}),affiliateSubHeadBoldTextFormat:n.new({font:p.bold,color:l.smokeGray,size:13,lineHeight:17}),affiliateSubHeadTextLinkFormat:n.new({font:p.thin,color:l.ceruleanBlue,size:13,lineHeight:21}),affiliateSubHeadTextLinkHoveredFormat:n.new({font:p.thin,color:l.mediumBlue,size:13,lineHeight:21}),affiliateInstructionsDetailsSmallFormat:n.new({font:p.thin,color:l.whiteSmoke,size:11,lineHeight:12}),smallButtonLinkTextFormat:n.new({font:p.medium,color:l.ceruleanBlue,size:15,lineHeight:24}),helpFooterCopyFormat:n.new({font:p.book,color:l.whiteSmoke,size:13}),helpFooterLinkFormat:n.new({font:p.book,color:l.dustyGray,size:13}),helpFooterLinkHoveredFormat:n.new({font:p.book,color:l.whiteSmoke,size:13})},buttonRepeatTimeDeltas:[.5,.1],generalTextLineHeight:36,interactiveIndicatorImages:{white:"/assets/images/buttons/desktop/interactive_white.png",gray:"/assets/images/buttons/desktop/interactive_gray.png"},checkBoxImages:{on:"/assets/images/form/checkbox/checkbox_on.png",off:"/assets/images/form/checkbox/checkbox_off.png"},defaultFormButtonHeight:34,form:{defaultBottomMargin:200,defaultMinHeight:756},logoSize:{x:55,y:30,width:r({hbogo:77,hbonow:100}),height:17},affiliateLogoWidth:135,affiliateLogoHeight:35}}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/styles/StyleConstants",["core/oop","design/styles/StyleConstantsBase","platform/common/TextFormat","lib/lodash/objects/merge"],function(e,t,i,n){return e.classDef("design.styles.StyleConstants",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments);var e=this.exports.colors,o=this.exports.fonts,r={textFormats:{formActiveButtonFormat:i.new({font:o.medium,size:13,letterSpacing:.196,uppercase:!0,color:e.whiteSmoke}),formActiveButtonHoveredFormat:i.new({font:o.medium,size:13,letterSpacing:.196,uppercase:!0,color:e.whiteSmoke}),formInactiveButtonFormat:i.new({font:o.medium,size:13,letterSpacing:.196,uppercase:!0,color:e.dustyGray}),formStepIndicator:i.new({font:o.medium,color:e.whiteSmoke,size:12,letterSpacing:1.5,uppercase:!0}),greetingFormat:i.new({font:o.book,color:e.dustyGray,size:11,uppercase:!0}),formDescriptionFormat:i.new({font:o.thin,color:e.whiteSmoke,size:12,lineHeight:16}),formDescriptionLabelFormat:i.new({font:o.book,color:e.dustyGray,size:12,lineHeight:16}),formDescriptionStrongFormat:i.new({font:o.medium,color:e.whiteSmoke,size:12,lineHeight:16}),formDescriptionLinkFormat:i.new({font:o.thin,color:e.ceruleanBlue,size:12,lineHeight:16}),formDescriptionLinkHoverFormat:i.new({font:o.thin,color:e.mediumBlue,size:12,lineHeight:16}),formSecondaryDescriptionFormat:i.new({font:o.thin,color:e.whiteSmoke,size:11,lineHeight:16}),formSecondaryDescriptionLabelFormat:i.new({font:o.book,color:e.dustyGray,size:11,lineHeight:16}),formSecondaryDescriptionStrongFormat:i.new({font:o.medium,color:e.whiteSmoke,size:11,lineHeight:16}),formSecondaryDescriptionLinkFormat:i.new({font:o.thin,color:e.ceruleanBlue,size:11,lineHeight:16}),formSecondaryDescriptionLinkHoverFormat:i.new({font:o.thin,color:e.mediumBlue,size:11,lineHeight:16}),formFieldLabelFormat:i.new({font:o.book,color:e.whiteSmoke,size:12,lineHeight:16})}};n(this.exports,r)})})})}(),function(){"use strict";define("design/templates/TemplatesModule",["core/oop","core/oop/docs","lib/lodash/objects/assign","lib/lodash/objects/forIn","ui/TemplateManager","platform/dependent/diagnostics/Performance"],function(e,t,i,n,o,r){return e.classDef("design.templates.TemplatesModule",Object,function(){e.constructor(function(){this._unregistered={subViewRegistrationOrder:0},this._registered={};var e=this.typeName;r.singleton.mark(e,"start"),this._configure(),r.singleton.mark(e,"configure"),r.singleton.measure(e),o.singleton.queueReclaim(this)}),e.staticScope(function(){e.methods({resolve:function(e,t){for(;t instanceof Function;)t=t(e);return t}})}),e.methods({clear:function(){t.validation.isEnabled&&(this._protectAccessAfterClear(this._exports),this._protectAccessAfterClear(this._registered),this._protectAccessAfterClear(this._unregistered)),this._exports=this._registered=this._unregistered=void 0},_protectAccessAfterClear:function(e){n(e,function(t,i){Object.defineProperty(e,i,{get:function(){throw new Error("module maps should not be captured, since it is cleared after registration.  Instead, capture the individual templates that you need.")}})})},_configure:function(){},setLazyTemplateDefs:function(){if(!0!==this._didSetLazyTemplateDefs){this._didSetLazyTemplateDefs=!0;var e="template."+this.typeName;r.singleton.mark(e,"start"),this._setLazyTemplateDefs(),r.singleton.mark(e,"lazyLoad"),r.singleton.measure(e)}},_setLazyTemplateDefs:function(){}}),e.properties({unregistered:{get:function(){return this._unregistered}},registered:{get:function(){return this._registered}},exports:{get:function(){if(void 0===this._exports){if(void 0===this.registered)throw new Error("Exports cannot be accessed after registration has completed.");this.setLazyTemplateDefs(),this._exports=i({},this.unregistered,this.registered)}return this._exports}},_didSetLazyTemplateDefs:{defaultValue:!1},_unregistered:void 0,_registered:void 0,_exports:void 0})})})}(),function(){"use strict";define("design/templates/ColorTemplates",["core/oop","design/styles/StyleConstants","design/templates/TemplatesModule","design/ScreenUtil","platform/common/Color","lib/lodash/objects/clone","lib/lodash/objects/forOwn","core/Debug"],function(e,t,i,n,o,r,a,s){return e.classDef("design.templates.ColorTemplates",[i],function(i){e.singleton(function(){i.$ctor.apply(this,arguments)}),e.methods({withAlpha:function(e,t){void 0===e.a||e.a;var i=r(e,!0);return i.r=e.r*t,i.g=e.g*t,i.b=e.b*t,i.a=t,i},_configure:function(){var e=this,i=this.unregistered,o=t.singleton.exports.colors;a(o,function(t,n){i[n]=e._fromStyleConstants(t)}),i.tileBackground=n.singleton.byDesign({appletv:this.withAlpha(i.opaqueBlack,.4),default:i.darkestGray})},_colorTemplate:function(e,t){return t=void 0===t?1:t,this._generateTemplate(e.r/255*t,e.g/255*t,e.b/255*t,t)},_shadeOfGray:function(e,t){return t=void 0===t?1:t,this._colorTemplate({r:e,g:e,b:e},t)},_fromStyleConstants:function(e){return this._generateTemplate(e.r,e.g,e.b,e.a)},_generateTemplate:function(e,t,i,n){return{$color:void 0,$type:o,r:e,g:t,b:i,a:n}}})})})}(),function(){"use strict";define("design/TemplateUtil",["core/oop","core/Debug","lib/lodash/collections/forEach","lib/lodash/objects/assign","lib/lodash/objects/isEqual"],function(e,t,i,n,o){return e.classDef("design.TemplateUtil",Object,function(){e.singleton(function(){this._reservedKeys={$params:!0,$type:!0,$extend:!0,$queue:!0}}),e.properties({_reservedKeys:void 0}),e.methods({complete:function(e,t,i){if(!0===this._isComplete(e))return e;var n=[],o=void 0===t?e:this.partial(e,t),r=!0===Array.isArray(e),a=!0===r?[]:{},s=!0===r?[]:{};return n.push(this._resolve.bind(this,n,a,i,s)),this._completeObject(n,a,a,i,o),this._processStack(n),this._defineIsComplete(s),s=this._setOrGetCachedResult(e,s)},partial:function(e,t){var i=this._safeAssign({},e),n=this._safeAssign({},e.$params);return this._safeAssign(n,t),Object.defineProperty(i,"$params",{value:n}),i},_defineIsComplete:function(e){Object.defineProperty(e,"$isComplete",{value:!0})},_isComplete:function(e){return void 0!==e&&!0===e.$isComplete},_setOrGetCachedResult:function(e,t){var n;return void 0===e.$cachedResults?!0===o(e,t)?(this._defineIsComplete(e),n=e):(Object.defineProperty(e,"$cachedResults",{value:[t]}),n=t):(i(e.$cachedResults,function(e){if(!0===o(e,t))return n=e,!1}),void 0===n&&(e.$cachedResults.push(t),n=t)),n},_completeTraverse:function(e,t,i,n,o,r,a){if(!0===this._isComplete(r)&&"$"!==a.charAt(0))t[a]=r;else if("$type"===a||"$extend"===a&&!1===this._hasExplicitExtend(o))t[a]=r;else if("$"===a.charAt(0)&&"function"==typeof r)this._completeSpecialFunction(r,a,t,i,n);else if("object"==typeof r){var s=!0===Array.isArray(r)?[]:{};"$"===a.charAt(0)&&"$extend"!==a?this._completeImplicitTemplate(a,s,t,n):t[a]=s,this._completeObject(e,s,i,n,r)}else t[a]=r},_completeObject:function(e,t,i,n,o){if(!0===o.hasOwnProperty("$params")){var r=!0===i.hasOwnProperty("$params")?this._safeAssign({},i.$params):{};Object.defineProperty(t,"$params",{value:r}),this._push(e,o,this._completeTraverse.bind(this,e,t,t,n)),this._push(e,o.$params,this._completeTraverse.bind(this,e,r,i,n))}else this._push(e,o,this._completeTraverse.bind(this,e,t,i,n))},_completeSpecialFunction:function(e,t,i,n,o){var r,a=e.bind(n),s=!1;Object.defineProperty(i,t.substr(1),{get:function(){if(void 0!==a)if(!0===s);else{if(s=!0,r=a(n.$params||{},i),a=void 0,"object"==typeof r){var e;!0===r.hasOwnProperty("$params")?(e=this._safeAssign({},n.$params),e=this._safeAssign(e,r.$params)):e=n.$params,"$$extend"===t?void 0!==e&&(r=this.partial(r,e)):r=this.complete(r,e,o)}s=!1}return r}.bind(this),enumerable:!0})},_completeImplicitTemplate:function(e,t,i,n){var o,r=[],a=this._resolve.bind(this,r,t,n),s=this._processStack.bind(this,r),l=function(){return void 0!==a&&(o=a(),a=void 0,s(),s=void 0),o},c={};c[e]={get:l,enumerable:!0},c[e.substr(1)]={get:l},Object.defineProperties(i,c)},_resolve:function(e,t,i,n){return n=n||{},e.push(this._processDeferredRules.bind(this,e,t,i,n)),this._push(e,t,this._resolveTraverse.bind(this,e,n,i)),n},_processDeferredRules:function(e,t,i,n){if(void 0!==n.$queue){for(var o=n.$queue,r=o.length;r>0;){for(var a=r-1;a>=0;a--){var s=o.splice(0,1)[0];this._resolveTraverse(e,n,i,t,t[s],s)}r=o.length<r?o.length:0}delete n.$queue}},_resolveTraverse:function(e,t,i,n,o,r){if(!0===this._isComplete(o)&&"$"!==r.charAt(0))t[r]=o;else if("object"!=typeof o||"$type"===r||"$extend"===r&&!0!==this._hasExplicitExtend(n))void 0===i||!1===i.hasOwnProperty(r)?t[r]=o:this._resolveRule(o,r,t,i);else if("$"===r.charAt(0)&&!0!==this._reservedKeys[r])this._resolveExtend(o,r,t);else{var a=!0===Array.isArray(o)?[]:{};"$extend"===r?this._resolveExplicitExtend(a,t):t[r]=a,this._push(e,o,this._resolveTraverse.bind(this,e,t[r],i))}},_resolveRule:function(e,t,i,n){var o=function(){!1===i.hasOwnProperty("$queue")&&(i.$queue=[]),i.$queue.push(t)},r=n[t](e,i,o);void 0!==r&&(i[t]=r)},_resolveExtend:function(e,t,i){!1===this._hasExplicitExtend(e)&&(!0===this._isComplete(e)&&(e=n({},e)),e.$extend=i),Object.defineProperty(i,t.substr(1),{get:function(){return e}})},_resolveExplicitExtend:function(e,t){Object.defineProperty(t,"$extend",{get:function(){return e},enumerable:!0,configurable:!0})},_hasExplicitExtend:function(e){return!0===e.hasOwnProperty("$extend")&&void 0!==Object.getOwnPropertyDescriptor(e,"$extend").get},_safeAssign:function(e,t){return void 0!==t&&Object.keys(t).forEach(function(i){"$"!==i.charAt(0)&&!1!==t.hasOwnProperty("$"+i)||("$"===i.charAt(0)&&"$"!==i.charAt(1)&&delete e[i.substr(1)],"$"!==i.charAt(0)&&!0===e.hasOwnProperty("$"+i)&&delete e["$"+i],this._createSoftProp(e,t,i))}.bind(this)),e},_createSoftProp:function(e,t,i){var n,o=!1;Object.defineProperty(e,i,{get:function(){return!0===o?n:t[i]},set:function(e){n=e,o=!0},enumerable:!0,configurable:!0})},_push:function(e,t,i){Object.keys(t).forEach(function(n){e.push(function(){i.call(this,t,t[n],n)}.bind(this))}.bind(this))},_processStack:function(e){for(;e.length>0;){e.pop()()}}})})})}(),function(){"use strict";define("ui/Transition",["core/oop","platform/common/Interpolations"],function(e,t){return e.classDef("ui.Transition",Object,function(){e.initConstructor(),e.properties({isImmutable:{get:function(){return!0}},to:void 0,duration:{defaultValue:0},delay:{defaultValue:0},
interpolation:{defaultValue:t.LINEAR}})})})}(),function(){"use strict";define("design/templates/TransitionTemplatesBase",["core/oop","design/templates/TemplatesModule","ui/Transition"],function(e,t,i){return e.classDef("design.templates.TransitionTemplatesBase",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=this.unregistered;e.toZero={$type:i,to:0,duration:.25},e.toZeroImmediately={$type:i,to:0,duration:0},e.toOne={$type:i,to:1,duration:.25},e.toOneSlow={$type:i,to:1,duration:.5},e.instantTransition={$type:i,duration:0}}})})})}(),function(){"use strict";define("design/templates/TransitionTemplates",["core/oop","design/Screen","design/templates/TransitionTemplatesBase","platform/common/Interpolations","ui/Transition"],function(e,t,i,n,o){return e.classDef("design.templates.TransitionTemplates",[i],function(i){e.singleton(function(){i.$ctor.apply(this,arguments)}),e.methods({_configure:function(){i._configure.apply(this,arguments);var e=this.unregistered,r={$type:o,to:1,duration:0},a={opacity:e.toZero,offsetX:e.toZero,offsetY:e.toZero};e.toOneImmediately=r,e.defaultFadeTransition={initial:a,enter:{opacity:e.toOne},exit:{opacity:e.toZero}},e.immediateFadeInTransition={initial:a,enter:{opacity:r},exit:{opacity:e.toZero}},e.immediateFadeOutTransition={initial:a,enter:{opacity:e.toOne},exit:{opacity:e.toZeroImmediately}},e.slowFadeTransition={initial:a,enter:{opacity:e.toOneSlow},exit:{opacity:e.toZero}},e.defaultImageFadeTransition={initial:a,loaded:{opacity:e.toOne}},e.defaultOverlayFadeSlideTransition={initial:{opacity:e.toZero,offsetY:{$type:o,to:-10,duration:.25}},enter:{opacity:e.toOne,offsetY:e.toZero}},e.showIfNotSelectedTransition={initial:{opacity:e.toOne},selected:{opacity:e.toZero}};e.animationDuration=.25,e.pageSlideToScreenWidthTransition=function(e){var i=t.singleton.getScreenWidth()(e);return{$type:o,to:i,duration:.25,interpolation:n.EASE}},e.pageSlideToScreenWidthLeftTransition=function(e){var i=t.singleton.getScreenWidth()(e);return{$type:o,to:-i,duration:.25,interpolation:n.EASE}},e.pageSlideToTop=function(e){var i=t.singleton.getScreenHeight()(e);return{$type:o,to:-i,duration:.25,interpolation:n.EASE}},e.pageSlideToScreenHeightTransition=function(e){var i=t.singleton.getScreenHeight()(e);return{$type:o,to:i,duration:.25,interpolation:n.EASE}},e.pageSlideToZeroTransition={$type:o,to:0,duration:.25,interpolation:n.EASE},e.pageSlideParallaxLeftTransition=function(e){var i=t.singleton.getScreenWidth()(e);return{$type:o,to:-i,duration:1,interpolation:n.EASE}},e.pageSlideParallaxRightTransition=function(e){var i=t.singleton.getScreenWidth()(e);return{$type:o,to:i/4,duration:.25,interpolation:n.EASE}}}})})})}(),function(){"use strict";define("ui/ViewRegistrations",["core/oop","lib/lodash/objects/forOwn","lib/lodash/collections/sortBy","lib/lodash/collections/forEach"],function(e,t,i,n){return e.classDef("ui.ViewRegistrations",Object,function(){e.constructor(function(){this._registrations=[],n(arguments,function(e){t(e,function(e,t){void 0!==e&&(e.name=t,this._registrations.push(e))},this)},this),this._registrations=i(this._registrations,function(e){return e.order||0})}),e.properties({_registrations:void 0}),e.methods({forEach:function(e,t){this._registrations.forEach(e,t)}})})})}(),function(){"use strict";define("ui/ViewRegistration",["core/oop","lib/Promise","core/Debug","core/data/ModelFactory","core/data/ExplicitValueProvider","ui/viewModels/ViewModel","ui/viewModelProviders/ValueProvider","ui/ViewFactory","ui/ViewModelFactory"],function(e,t,i,n,o,r,a,s,l){var c=e.classDef("ui.ViewRegistration",Object,function(){e.staticScope(function(){e.properties({_nextExplicitProviderId:{defaultValue:0}})}),e.initConstructor(void 0,function(){this._hasValidPropertyCombinations()}),e.properties({name:void 0,layer:void 0,order:void 0,isPreload:{defaultValue:!1},isDefaultFocus:{defaultValue:!1},modelFactoryId:void 0,modelId:void 0,useOwnerModel:{defaultValue:!1},viewModelFactoryId:void 0,useOwnerViewModel:{defaultValue:!1},viewModelPropertyPath:void 0,identifyIgnoresData:{defaultValue:!1},identify:void 0,handoff:void 0,initArgs:void 0,create:void 0,attach:void 0,verify:void 0,getModel:void 0,getViewModel:void 0,isActive:void 0,requireViewModel:{defaultValue:!1},identifyFromOwner:{defaultValue:!1},handoffFromOwner:{defaultValue:!1},initArgsFromOwner:{defaultValue:!1},createFromOwner:{defaultValue:!1},attachFromOwner:{defaultValue:!1},verifyFromOwner:{defaultValue:!1},getModelFromOwner:{defaultValue:!1},getViewModelFromOwner:{defaultValue:!1},isActiveFromOwner:{defaultValue:!1},template:void 0,needsVerification:{get:function(){var e=void 0!==this.verify||!0===this.verifyFromOwner||!0===this.isActiveFromOwner;return!1===this.isPreload&&!0===e}},_suffixName:{get:function(){if(void 0===this._suffixCache){var e=this.name;this._suffixCache=e.charAt(0).toUpperCase()+e.slice(1)}return this._suffixCache}},_suffixCache:void 0}),e.methods({identifyView:function(e,t,i){var n=function(e){var t=!1;return void 0!==this.template&&(t=e.template===this.template,!0!==this.identifyIgnoresData&&(t=t&&this._dataIdentifies(e,i,!1))),t}.bind(this);return this._getBoundDelegate(e,"identify",n)(t,i)},handoffView:function(e,i){var n=function(){return t.fulfilled()};return this._getBoundDelegate(e,"handoff",n)(i)},createView:function(e,t){var i,n=this._getInitArgs(e,t),o=function(e){if(void 0!==this.template)return s.singleton.create(this.template,e)}.bind(this);return i=this._getBoundDelegate(e,"create",o)(n,this.template),void 0!==i&&(i.layoutOrder=this.order),i},_getInitArgs:function(e,t){var i=function(){return{}},n=this._getBoundDelegate(e,"initArgs",i)(t);return n.name=this.name,n.stateArgs=t,n._registeredOwner=e,n},setViewModel:function(e,t,i,n){if(!1===this._dataIdentifies(t,i,!0)){var s=this._getModel(e,i),l=this._getViewModel(e,s,n);if(void 0!==this.viewModelPropertyPath&&void 0!==l){var d=this;return this._followPropertyPath(l,this.viewModelPropertyPath).then(function(e){if(void 0!==e&&(void 0===e.implementsInterface||!1===e.implementsInterface(r))){var i="ViewRegistration_"+c._nextExplicitProviderId++,n=o.new(i);n.initialize({value:e}),e=a.new(n,"value")}return function(){d._completeSetViewModel(t,e)}})}this._completeSetViewModel(t,l)}this._invalidateOwnershipForwarding(t)},_followPropertyPath:function(e,i){var n=i.split("."),o=t.fulfilled(e);return n.forEach(function(i){o=o.then(function(n){return e.typeName,t.cast(n[i])})}),o},_completeSetViewModel:function(e,t){!1===this._viewModelsMatch(e.viewModel,t)&&(e.viewModel=t)},attachView:function(e,t){if(t.attachedOwner!==e){t._attachedOwner=e;var i=function(){};this._getBoundDelegate(e,"attach",i)(t),!0===t.forwardOwnershipForSubViews&&t.reattachSubViews(e)}},verifyView:function(e,t,i){var n=function(){return!0};return this._getBoundDelegate(e,"verify",n)(t,i)},isActiveView:function(e,t){var i;return void 0!==t&&(i=function(){return!1===this.requireViewModel||void 0!==t.viewModel}.bind(this),this._invalidateOwnershipForwarding(t)),this._getBoundDelegate(e,"isActive",i)()},_viewModelsMatch:function(e,t){return e===t||void 0!==e&&void 0!==t&&e.equals(t)},_dataIdentifies:function(e,t,i){if(void 0!==this.viewModelFactoryId){var n=e.viewModel;if(void 0===n||n.factoryId!==this.viewModelFactoryId)return!1;var o=n.dataModel;if(void 0!==this.modelId)return void 0!==o&&o.id===this.modelId;if(!0===this.useOwnerModel)return o===t||void 0!==t&&void 0!==o&&o.id===t.id;if(!0===i)return!1}else if(!0===i)return!1;return!0},_getModel:function(e,t){var i=function(e){return void 0!==this.modelFactoryId&&void 0!==this.modelId?n.singleton.create(this.modelFactoryId,this.modelId):!0===this.useOwnerModel?e:void 0}.bind(this);return this._getBoundDelegate(e,"getModel",i)(t)},_getViewModel:function(e,t,i){var n=function(){return void 0!==this.viewModelFactoryId?l.singleton.create(this.viewModelFactoryId,t):!0===this.useOwnerViewModel?i:void 0}.bind(this);return this._getBoundDelegate(e,"getViewModel",n)(t)},_invalidateOwnershipForwarding:function(e){!0===e.forwardOwnershipForSubViews&&e._ensureSubViewsReady()},_getBoundDelegate:function(e,t,i){if(void 0!==this[t])return this[t].bind(e);if(!0===this[t+"FromOwner"]){var n="_"+t+this._suffixName;return void 0!==e[n]?e[n].bind(e):function(){return!1}}return i},_hasValidPropertyCombinations:function(){var e=this;return void 0!==this.modelFactoryId&&(!0!==this.useOwnerModel&&this.getModelFromOwner,this.modelId),this.modelFactoryId,this.modelId,!0!==this.useOwnerModel||this.getModelFromOwner,void 0===this.modelId||this.useOwnerModel,void 0!==this.viewModelFactoryId&&!0!==this.useOwnerViewModel&&this.getViewModelFromOwner,!0!==this.useOwnerViewModel||this.getViewModelFromOwner,void 0!==this.viewModelPropertyPath&&(void 0!==this.viewModelFactoryId||!0===this.useOwnerViewModel||this.getViewModelFromOwner),["identify","handoff","initArgs","create","attach","verify","getModel","getViewModel","isActive"].forEach(function(t){var i=t+"FromOwner";void 0===e[t]||e[i]}),!0}})});return c})}(),function(){"use strict";define("ui/views/ImageModelView",["core/oop","core/Exception","core/logging/Levels","ui/views/ImageView","platform/dependent/graphics/Viewport","ui/viewModels/ValueViewModel"],function(e,t,i,n,o,r){var a=e.classDef("ui.views.ImageModelView",n,function(n){e.staticScope(function(){e.methods({scaleByViewportDensity:function(e){return e*Math.min(o.singleton.density,2)}})}),e.constructor(function(){n.$ctor.apply(this,arguments)}),e.events(["loaded","error"]),e.properties({purposeOverride:void 0}),e.methods({_onViewModelChanged:function(e){if(n._onViewModelChanged.apply(this,arguments),this.setUri(void 0),void 0!==this.viewModel){var o,s=this;s.runUntilDisposed("viewModelChanged",function(){return(e.implementsInterface(r)?e.value:e.uri).then(function(e){if("function"==typeof e){var t=a.scaleByViewportDensity(s.width),i=a.scaleByViewportDensity(s.height);o=e(t,i,void 0,s.purposeOverride).uri}else o=e;return s.setUri(o)}).then(function(){s._onLoaded()}).catch(function(e){s._onError(),t.wrap(e,{message:"viewModelChanged promise rejected",level:i.WARNING,area:"ui.views.ImageView._onViewModelChanged"}).ignore()})})}else this.cancelDisposablePromise("viewModelChanged")}})});return a})}(),function(){"use strict";define("ui/views/ItemsView",["core/oop","core/Debug","core/Lifecycleable","ui/AfterExitActions","ui/ViewFactory","ui/views/ItemsViewBase"],function(e,t,i,n,o,r){return e.classDef("ui.views.ItemsView",r,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({enumerateOrderedChildren:function(e,t){for(var n=this.lifecycleState===i.LifecycleStates.ACTIVATED,o=void 0===this._realizedItemViews||0===this._realizedItemViews.length||!1===n,r=o?this.children:this._realizedItemViews,a=!0===t?r.length-1:0,s=!0===t?-1:1,l=Array.isArray(r),c=a;c<r.length&&c>=0;c+=s){var d;d=!0===l?r[c]:r.getAt(c),e(d)}if(!1===o)for(var u=0;u<this._recycledItemData.length;u++){var p=this._recycledItemData[u].view;p.parent===this?e(p):p.parent}},getAutomationChildren:function(){return void 0!==this._realizedItemViews?this._realizedItemViews:t.getAutomationChildren.call(this)},_cleanupRecycledItemData:function(){this._recycledItemData.forEach(function(e){var t=e.view;void 0===t.parent&&t.deactivate()}),this._recycledItemData=[]},_isSameView:function(e,t){return"string"==typeof t?e.factoryId===t:e.template===t},_createItem:function(e,t,i){var n={viewModel:e};return void 0!==i&&(n.stateArgs=i),o.singleton.create(t,n)},_getItemFactoryIdOrTemplate:function(e){return void 0!==this.itemTemplateMap?this.itemTemplateMap[e]:this.itemFactoryMap[e]},_recycleChild:function(e){e.onRecycle()},_parentChild:function(e){this.children.add(e),!0===this.handleChildLayoutRequested&&(this._isVirtualizing,e.layoutRequested.on(this._onChildLayoutRequestedCallback))},_cleanUpNonRecycledItem:function(e){e.exit(n.DEACTIVATE)}})})})}(),function(){"use strict";define("ui/views/ClosedCaptioningTextView",["core/oop","ui/views/View","ui/TemplateManager","platform/common/TextFormat","platform/dependent/graphics/Span","platform/dependent/graphics/TextBlock","platform/dependent/graphics/DisplayNode"],function(e,t,i,n,o,r,a){return e.classDef("ui.views.ClosedCaptioningTextView",t,function(t){e.constructor(function(){this._background=a.new(),this._textBlock=r.new(),this.isReadyInit=!0,t.$ctor.apply(this,arguments),this._displayContent.children.add(this._background),this._displayContent.children.add(this._textBlock)}),e.properties({defaultFontSize:{onChange:"_applyDisplayProperties"},displayProperties:{onChange:"_applyDisplayProperties"},spans:{onChange:"_applySpansToTextBlock"},sizeAdjustFactor:void 0,padding:void 0,_background:void 0,_textBlock:void 0}),e.methods({getAutomationPeer:function(){var e=t.getAutomationPeer.call(this),i=[];return this._textBlock.spans.forEach(function(e){i.push(e.text)}),e.text=i,e},_updateSize:function(){this._textBlock.width=this._textBlock.height=void 0,this._naturalWidth=this._textBlock.width+2*this.padding,this._naturalHeight=this._textBlock.height+2*this.padding},_applySpansToTextBlock:function(){this._textBlock.spans.removeAll();for(var e=0;e<this.spans.length;e++)this._textBlock.spans.add(o.new({text:this.spans[e].text}));this._applyDisplayProperties()},_applyDisplayProperties:function(){if(this._background.isVisible=!1,this._textBlock.isVisible=!1,void 0!==this.displayProperties&&this._textBlock.spans.length>0){this._background.isVisible=!0,this._textBlock.isVisible=!0;var e=i.singleton.getTemplate("ClosedCaptioningUtil").createInstance(),t=e.color,o=e.font,r=e.size,a=e.opacity,s=e.edgeStyle,l=this.displayProperties;this._background.backgroundColor=t[l.backgroundColor],this._background.opacity=a[l.backgroundOpacity];var c=t[l.fontColor];this._textBlock.opacity=a[l.fontOpacity];for(var d=r[l.fontSize],u=this.defaultFontSize*d,p=u/e.defaultFontSize,h=s[l.fontStyle].shadow,g=s[l.fontStyle].shadow2,f=s[l.fontStyle].outlineColor,m=s[l.fontStyle].outlineThickness,v=l.isDefault,_=0;_<this.spans.length;_++){var y=v&&void 0!==this.spans[_].color?this.spans[_].color:c,w=n.new({font:o[l.font],size:u,color:y,italic:this.spans[_].isItalic,underlined:this.spans[_].isUnderlined,outlineColor:f,outlineThickness:m*p,shadow:void 0===h?void 0:h.scaleOffset(p),shadow2:void 0===g?void 0:g.scaleOffset(p)});1!==this.sizeAdjustFactor&&(w.lineHeight=u*this.sizeAdjustFactor),this._textBlock.spans.getAt(_).format=w}this._updateSize(),this._textBlock.x=(this.width-this._textBlock.width)/2,this._background.x=this._textBlock.x-this.padding,this._textBlock.y=(this.height-this._textBlock.height)/2,this._background.y=this._textBlock.y-this.padding,this._background.height=this._textBlock.height+2*this.padding,this._background.width=this._textBlock.width+2*this.padding}}})})})}(),function(){"use strict";define("ui/views/ClosedCaptioningWindowView",["core/oop","ui/views/View","ui/TemplateManager","platform/dependent/graphics/DisplayNode"],function(e,t,i,n){return e.classDef("ui.views.ClosedCaptioningWindowView",t,function(t){e.constructor(function(){this.isReadyInit=!0,t.$ctor.apply(this,arguments),this._background=n.new({width:this.width,height:this.height,opacity:0}),this._displayContent.children.add(this._background)}),e.properties({displayProperties:{onChange:"_applyDisplayProperties"},_background:void 0}),e.methods({_onLayoutRequested:function(){this._background.width=this.width,this._background.height=this.height,t._onLayoutRequested.apply(this,arguments)},_applyDisplayProperties:function(){if(this._background.opacity=0,void 0!==this.displayProperties){var e=i.singleton.getTemplate("ClosedCaptioningUtil").createInstance(),t=e.color,n=e.opacity;this._background.backgroundColor=t[this.displayProperties.windowColor],this._background.opacity=n[this.displayProperties.windowOpacity]}}})})})}(),function(){"use strict";define("design/views/LabelViewBase",["core/oop","core/Lifecycleable","lib/Promise","ui/views/View","ui/IItemsView","ui/ViewStates","ui/ViewFactory","ui/Axis"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.LabelViewBase",[n,o],function(n){e.constructor(function(){var e=this;n.$ctor.apply(this,arguments),this.subView=a.singleton.create(this.subViewTemplate||this.subViewFactoryId,{stateArgs:this._storedSubViewStateArgs||{}}),this._subViewSizeChangedCallback=function(){e._layoutChildViews()},this.subView.layoutRequested.on(this._subViewSizeChangedCallback)}),e.properties({subViewFactoryId:void 0,subViewTemplate:void 0,subViewSpacing:void 0,ancestorViewport:{defaultValue:void 0,onChange:"_onViewportChanged"},localViewport:{get:function(){return{x:this.subView.x,y:this.subView.y,width:this.subView.width,height:this.subView.height}}},primaryAxis:void 0,ancestorCanFocusItems:{defaultValue:void 0,onChange:"_onCanFocusItemsChanged"},canFocusItems:{defaultValue:!0},focusedItem:{get:function(){return this.subView}},dataItemCount:{get:function(){return this._isItemsView(this.subView)?this.subView.dataItemCount:1}},pageScrollViewport:{get:function(){if(this._isItemsView(this.subView))return this.subView.pageScrollViewport}},itemsBounds:{get:function(){var e=this.subView.x,t=this.subView.y;return{x:this.x+e,y:this.y+t,width:this.width-e,height:this.height-t}}},scrollPadding:{get:function(){return this._scrollPadding}},stateArgs:{get:function(){return void 0!==this.subView&&(this._storedSubViewStateArgs=this.subView.stateArgs),this._storedSubViewStateArgs||{}},set:function(e){void 0!==this.subView&&(this.subView.stateArgs=e),this._storedSubViewStateArgs=e}},trailingEdgeRealizedItems:{get:function(){return this._isItemsView(this.subView)?this.subView.x+this.subView.trailingEdgeRealizedItems:this.subView.x}},leadingEdgeRealizedItems:{get:function(){return this._isItemsView(this.subView)?this.subView.x+this.subView.leadingEdgeRealizedItems:this.subView.x+this.subView.width}},subView:void 0,_scrollPadding:{defaultValue:{left:0,right:0,top:0,bottom:0}},_storedSubViewStateArgs:void 0,_subViewSizeChangedCallback:void 0,_focusWhenReady:void 0}),e.methods({focus:function(){this._focus()},focusWithHint:function(e){this._focus(e)},updateScrollConstraints:function(){void 0!==this.parent&&!0===this.parent.implementsInterface(o)&&this.parent.updateScrollConstraints()},_focus:function(e){this._isItemsView(this.subView)&&void 0!==e?this.subView.focusWithHint({x:e.x-this.x,y:e.y-this.y,width:e.width,height:e.height}):void 0!==this.subView.parent?this.subView.focus():this._focusWhenReady=!0},resetFocusIndex:function(){this._isItemsView(this.subView)&&this.subView.resetFocusIndex()},getAncestorNestedItemIndex:function(e){if(e===this.subView){var t=0;return void 0!==this.parent&&this.parent.implementsInterface(o)&&(t=this.parent.getAncestorNestedItemIndex(this)),t}return-1},clearPageScrollViewport:function(){var e=this.parent;void 0!==e&&!0===e.implementsInterface(o)&&e.clearPageScrollViewport()},moveFocusIntoViewport:function(e,t,i,n,o){if(this._isItemsView(this.subView)){var r={x:e.x-this.subView.x,y:e.y-this.subView.y,width:e.width,height:e.height};return void 0!==t&&(t={x:t.x-this.x,y:t.y-this.y,width:t.width,height:t.height}),this.subView.moveFocusIntoViewport(r,t,i,n,o)}return!1},getFocusedItemRect:function(){return this._isItemsView(this.subView)?this.subView.getFocusedItemRect():{x:0,y:0,width:this.width,height:this.height}},adjustTargetScrollRect:function(e){if(!0===this._isItemsView(this.subView)){var t=this.subView.primaryAxis===s.VERTICAL,i=this.subView.focusedIndex,n=this.subView.secondaryAxisItemCount;this.primaryAxis===s.VERTICAL?!0===(t?i<n==!0:i%n==0)&&(e.y-=this.subView.y,e.height+=this.subView.y):!0===(t?i%n==0:i<n==!0)&&(e.x-=this.subView.x,e.width+=this.subView.x)}},_isItemsView:function(e){return!(void 0===e||!e.implementsInterface(o))},_onCanFocusItemsChanged:function(e){this._isItemsView(this.subView)&&(this.subView.ancestorCanFocusItems=!0===this.canFocusItems&&!0===e)},_onLifecycleStateChanged:function(e,i){n._onLifecycleStateChanged.call(this,e,i),e===t.LifecycleStates.DEACTIVATED&&this._ensureChildViewsDeactivated()},_ensureChildViewsDeactivated:function(){this.subView.layoutRequested.off(this._subViewSizeChangedCallback),void 0===this.subView.parent&&this.subView.deactivate()},_ensureChildViewsAdded:function(){void 0===this.subView.parent&&this.children.add(this.subView)},_layoutChildViews:function(){this._layoutChildViewsCore(0)},_layoutChildViewsCore:function(e){var t=0,i=0;if(this.primaryAxis===s.HORIZONTAL){var n=e+this.subViewSpacing;this.subView.x=n,t+=n}else{var o=this.subViewSpacing;this.subView.y=o,i+=o}t+=this.subView.width,i+=this.subView.height,void 0===this._explicitWidth&&(this._naturalWidth=t),void 0===this._explicitHeight&&(this._naturalHeight=i),this._displayContent.width=this.width,this._displayContent.height=this.height},_unbindChildViews:function(){!0===this.isInitialized&&(this.subView.viewModel=void 0,this.subView.resetReady())},_bindChildViews:function(e){this.subView.viewModel=e.subViewModel},_onViewModelChanged:function(e){n._onViewModelChanged.apply(this,arguments),this._unbindChildViews();var t=this;t.runUntilDisposed("labelViewOnViewModelChangedPromiseChain",function(){var n={subViewModel:e.subViewModel};return t._addViewModelChangedPromises(n,e),i.props(n).then(function(e){return t._bindChildViews(e),t._waitForChildViewsReady()}).then(function(){t._layoutChildViews(),t._ensureChildViewsAdded(),t._fulfillReadyPromise(),!0===t._focusWhenReady&&(t._focus(),t._focusWhenReady=!1)})})},_waitForChildViewsReady:function(){return this.subView.afterReady},_addViewModelChangedPromises:function(){},_onViewStateChanged:function(){n._onViewStateChanged.apply(this,arguments),this.subView.setViewStateFlag(r.SELECTED,this.hasViewStateFlag(r.SELECTED))}})})})}(),function(){"use strict";define("design/views/LabelView",["core/oop","lib/Promise","ui/ViewFactory","design/views/LabelViewBase"],function(e,t,i,n){return e.classDef("design.views.LabelView",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments),this._headerView=i.singleton.create(this.headerViewTemplate)}),e.properties({headerViewTemplate:void 0,headerView:{get:function(){return this._headerView}},_headerView:void 0}),e.methods({_addViewModelChangedPromises:function(e,t){n._addViewModelChangedPromises.apply(this,arguments),e.headerViewModel=t.headerViewModel},_ensureChildViewsDeactivated:function(){n._ensureChildViewsDeactivated.apply(this,arguments),void 0===this._headerView.parent&&this._headerView.deactivate()},_ensureChildViewsAdded:function(){n._ensureChildViewsAdded.apply(this,arguments),void 0===this._headerView.parent&&this.children.add(this._headerView)},_layoutChildViews:function(){this._layoutChildViewsCore(this._headerView.width)},_unbindChildViews:function(){n._unbindChildViews.apply(this,arguments),!0===this.isInitialized&&(this._headerView.viewModel=void 0,this._headerView.resetReady())},_bindChildViews:function(e){n._bindChildViews.apply(this,arguments),this.headerView.viewModel=e.headerViewModel},_waitForChildViewsReady:function(){return t.all([n._waitForChildViewsReady.apply(this,arguments),this._headerView.afterReady])}})})})}(),function(){"use strict";define("ui/views/ReactHostView",["core/oop","ui/AnchoredLayout","ui/views/View"],function(e,t,i){return e.classDef("ui.views.ReactHostView",i,function(i){e.constructor(function(){this.isReadyInit=!0,this.layout=t.new(),i.$ctor.apply(this,arguments),void 0!==this.viewModel&&this._setReactComponentState({viewModel:this.viewModel})}),e.properties({reactComponentType:void 0}),e.methods({_getReactComponentType:function(){return this.reactComponentType},_onViewModelChanged:function(e){i._onViewModelChanged.apply(this,arguments),!0===this._isInitialized&&this._setReactComponentState({viewModel:e})}})})})}(),function(){"use strict";define("ui/StackedLayout",["core/oop","ui/Axis","ui/AxisLayout"],function(e,t,i){return e.classDef("ui.StackedLayout",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({alignAlongPrimaryAxis:{defaultValue:!1},defaultItemLayoutProps:void 0}),e.methods({_layoutItems:function(e,n,o){if(i._layoutItems.apply(this,arguments),!0===this.alignAlongPrimaryAxis){var r=this._getBoundingRect(n);void 0!==o&&(this.primaryAxis===t.VERTICAL&&o.width>0?r.width=o.width-r.x:this.primaryAxis===t.HORIZONTAL&&o.height>0&&(r.height=o.height-r.y));var a=this;n.forEach(function(e){var i=a.primaryAxis===t.VERTICAL?t.HORIZONTAL:t.VERTICAL;a._anchorItem(r,e,i,a.defaultItemLayoutProps)})}},_shouldMoveToPrimaryAxis:function(){return!0}})})})}(),function(){"use strict";define("ui/views/DynamicTextView",["core/oop","core/Lifecycleable","ui/views/TextView"],function(e,t,i){return e.classDef("ui.views.DynamicTextView",i,function(i){e.constructor(function(){var e=this;this._onViewModelTextChangedCallback=function(){e._onViewModelTextChanged()},i.$ctor.apply(this,arguments)}),e.properties({_onViewModelTextChangedCallback:void 0}),e.methods({_onViewModelChanged:function(e,t){i._onViewModelChanged.apply(this,arguments),e.textChanged.on(this._onViewModelTextChangedCallback),void 0!==t&&t.textChanged.off(this._onViewModelTextChangedCallback)},_onLifecycleStateChanged:function(e){i._onLifecycleStateChanged.apply(this,arguments),e===t.LifecycleStates.DEACTIVATED&&void 0!==this.viewModel&&this.viewModel.textChanged.off(this._onViewModelTextChangedCallback)},_onViewModelTextChanged:function(){i._onViewModelChanged.apply(this,[this.viewModel])}})})})}(),function(){"use strict";define("design/views/ToggleView",["core/oop","lib/Promise","ui/views/CompositeView","ui/Localization","platform/common/AccessibilityTrait"],function(e,t,i,n,o){return e.classDef("design.views.ToggleView",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({isOn:void 0,onAccessibilityResource:{defaultValue:"ResA11yToggleOn"},offAccessibilityResource:{defaultValue:"ResA11yToggleOff"},shouldToggleIntercept:void 0}),e.events(["toggled"]),e.methods({_isActiveOn:function(){return!0===this.isOn},_isActiveOff:function(){return!1===this.isOn},_isActiveOnBackground:function(){return!0===this.isOn},_onViewModelChanged:function(){i._onViewModelChanged.apply(this,arguments),this.isOn=void 0,this.cancelDisposablePromise("toggle")},_updateAccessibilityText:function(){this.accessibilityTextOverride=!0===this.isOn?n.singleton.getResource(this.onAccessibilityResource):n.singleton.getResource(this.offAccessibilityResource),this.accessibilityTrait=o.BUTTON,this._updateAccessibility()},_prepareSubViewModels:function(){var e=this;return i._prepareSubViewModels.apply(this,arguments).then(function(){if(void 0!==e.viewModel&&void 0===e.isOn)return e.viewModel.value.then(function(t){e.isOn=t,e._updateAccessibilityText()})})},_onInvokedBubbled:function(e){i._onInvokedBubbled.apply(this,arguments);var t=this;this.runUntilDisposed("toggle",function(){return t._checkShouldToggle(!t.isOn).then(function(e){if(!0===e)return t.viewModel.set(!t.isOn).then(function(){t.isOn=!t.isOn,t._onToggled(t.isOn,!t.isOn),t._updateAccessibilityText(),t._ensureSubViewsReady()})})}),e.handled=!0},_getDefaultFocusSubView:function(){return!0===this.isOn?this._subViews.on:this._subViews.off},_resetViewState:function(){i._resetViewState.apply(this,arguments),!0!==this.isDisposed&&this._ensureSubViewsReady()},_checkShouldToggle:function(e){return void 0!==this.shouldToggleIntercept?this.shouldToggleIntercept(e):t.fulfilled(!0)}})})})}(),function(){"use strict";define("design/UserCollections",["core/oop"],function(e){return e.enumDef("design.UserCollections",["ContinueWatching","Watchlist"])})}(),function(){"use strict";define("design/views/UserCollectionToggleView",["core/oop","core/Exception","core/logging/Levels","dataservices/WatchlistCache","dataservices/ContinueWatchingCache","design/views/ToggleView","design/UserCollections"],function(e,t,i,n,o,r,a){return e.classDef("design.views.UserCollectionToggleView",r,function(r){e.constructor(function(){r.$ctor.apply(this,arguments),this._onUserCollectionCacheRefreshedCallback=this._onUserCollectionCacheRefreshed.bind(this),this.userCollection===a.ContinueWatching?this._userCollectionCache=o.singleton:this._userCollectionCache=n.singleton,this._userCollectionCache.refreshed.on(this._onUserCollectionCacheRefreshedCallback)}),e.properties({userCollection:{defaultValue:void 0},_onUserCollectionCacheRefreshedCallback:void 0,_userCollectionCache:void 0}),e.methods({_onUserCollectionCacheRefreshed:function(){if(void 0!==this.viewModel){var e=this;this.runUntilDisposed("_onUserCollectionCacheRefreshed",function(){return e._userCollectionCache.contains(e.viewModel.dataModel).then(function(t){e.isOn!==t&&(e.isOn=t,e._ensureSubViewsReady())}).catch(function(e){t.wrap(e,{message:"contains promise failed",level:i.WARNING,area:"design.views.UserCollectionToggleView._onUserCollectionCacheRefreshed"}).logTelemetry()})})}},_disposeCore:function(){this._userCollectionCache.refreshed.off(this._onUserCollectionCacheRefreshedCallback),r._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("design/views/PinInputView",["core/oop","ui/views/TextInputView","platform/common/TextInputMode","ui/ViewStates"],function(e,t,i,n){return e.classDef("design.views.PinInputView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({shouldReveal:{defaultValue:!1},mode:{defaultValue:i.PASSWORD,onChange:function(e){this._textInput.mode=e}},text:{onChange:function(e,t){var i=e.substr(0,4).replace(/\D/g,"");void 0!==this._textInput&&i!==this._textInput.text&&(this._textInput.text=i),this._onTextChanged(i,t)}}}),e.methods({getAutomationPeer:function(){var e=t.getAutomationPeer.call(this);return e.shouldReveal=this.shouldReveal,e},_onViewStateChanged:function(e){if(t._onViewStateChanged.apply(this,arguments),!0===this.shouldReveal){var o=n.testFlag(e,n.FOCUSED);this.mode=o?i.DEFAULT:i.PASSWORD}else this.mode=i.PASSWORD}})})})}(),function(){"use strict";define("design/views/MasterDetailView",["core/oop","core/Debug","core/Lifecycleable","lib/Promise","ui/ViewFactory","ui/ViewModelFactory","ui/AfterExitActions","ui/views/View","ui/views/ItemsViewBase"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.views.MasterDetailView",s,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._masterView=o.singleton.create(this.masterViewTemplate);var e=this;this._selectionIndexChangedCallback=function(){e._onMasterSelectionChanged()},this._masterView.selectedIndexChanged.on(this._selectionIndexChangedCallback),this._updateChildViews()}),e.properties({hideSingleItemMaster:{defaultValue:!1},initialSelectedItemName:void 0,_postRefreshSelectedItemName:void 0,masterViewTemplate:void 0,detailViewTemplateMap:void 0,_masterView:void 0,_isHeightPinned:void 0,_isWidthPinned:void 0,detailView:{defaultValue:void 0,privateSet:!0},_selectionIndexChangedCallback:void 0,_masterNeedsUpdate:{defaultValue:!0},_shouldHideMasterView:{defaultValue:!1}}),e.events(["selectedDetailChanged"]),e.methods({_onViewModelChanged:function(){t._onViewModelChanged.apply(this,arguments),this._masterNeedsUpdate=!0,!0===this._isInitialized&&this._updateChildViews()},_exitDetailView:function(){void 0!==this._detailView&&(void 0===this._explicitHeight&&(this._explicitHeight=this._naturalHeight,this._isHeightPinned=!0),void 0===this._explicitWidth&&(this._explicitWidth=this._naturalWidth,this._isWidthPinned=!0),this._detailView.exit(a.DEACTIVATE),this._detailView=void 0)},_onMasterSelectionChanged:function(){this._exitDetailView(),this._updateChildViews()},_updateChildViews:function(){if(void 0!==this.viewModel){var e=this;e.runUntilDisposed("_onViewModelChanged",function(){var t;return t=!0===e._masterNeedsUpdate?e.viewModel.masterItems.then(function(t){return e._masterView.viewModel=t,e.viewModel.detailItems}):e.viewModel.detailItems,t.then(function(t){return n.props({detailViewModel:t.getAt(e._masterView.selectedIndex),count:t.length()})}).then(function(t){
var i=t.detailViewModel;if(e._shouldHideMasterView=1===t.count&&!0===e.hideSingleItemMaster,void 0!==i){var n=e.detailViewTemplateMap[i.factoryId];void 0!==e._detailView&&e._detailView.template===n||(e._exitDetailView(),e._detailView=o.singleton.create(n,{name:i.factoryId}),void 0!==e._detailView.refreshRequired&&e.hookUntilDisposed(e._detailView,"refreshRequired",function(){e._masterView instanceof l==!0&&(e._postRefreshSelectedItemName=e._masterView.selectedItem.name);var t=r.singleton.create(e.viewModel.factoryId);e._masterView.resetReady(),e.resetReady(),e.viewModel=t})),e._detailView.viewModel=i}return e._waitForChildViewsReady()}).then(function(){e._ensureChildViewsAdded(),void 0!==e.detailView&&!0===e._isHeightPinned&&(e._explicitHeight=void 0,e._isHeightPinned=!1),void 0!==e.detailView&&!0===e._isWidthPinned&&(e._explicitWidth=void 0,e._isWidthPinned=!1),e._fulfillReadyPromise(),e._onSelectedDetailChanged(),e._masterNeedsUpdate=!1})})}else this._masterView.viewModel=void 0,void 0!==this._detailView&&(this._detailView.viewModel=void 0)},_onLifecycleStateChanged:function(e,n){t._onLifecycleStateChanged.call(this,e,n),e===i.LifecycleStates.DEACTIVATED&&(this._masterView.selectedIndexChanged.off(this._selectionIndexChangedCallback),this._selectionIndexChangedCallback=void 0,this._ensureChildViewsDeactivated())},_waitForChildViewsReady:function(){return n.all([this._masterView.afterReady,this._detailView&&this._detailView.afterReady])},_ensureChildViewsAdded:function(){!0!==this._shouldHideMasterView&&(void 0===this._masterView.parent?(this.children.add(this._masterView),void 0!==this.initialSelectedItemName&&(this._masterView,this._selectItemByName(this.initialSelectedItemName,!0))):void 0!==this._postRefreshSelectedItemName&&(this._selectItemByName(this._postRefreshSelectedItemName,!1),this._postRefreshSelectedItemName=void 0)),void 0!==this._detailView&&void 0===this._detailView.parent&&this.children.add(this._detailView)},_selectItemByName:function(e,t){var i;this._masterView.enumerateLogicalChildren(function(t){t.name===e&&(i=t)}),void 0!==i?this._masterView.selectedItem=i:this.initialSelectedItemName},_ensureChildViewsDeactivated:function(){void 0===this._masterView.parent&&(this._masterView.deactivate(),this._masterView=void 0),void 0!==this._detailView&&void 0===this._detailView.parent&&(this._detailView.deactivate(),this._detailView=void 0)}})})})}(),function(){"use strict";define("platform/common/KeyframesAnimation",["core/oop"],function(e){return e.classDef("platform.common.KeyframesAnimation",[Object],function(){e.initConstructor(),e.properties({name:void 0,property:void 0,stops:void 0,values:void 0,duration:void 0,delay:{defaultValue:0}})})})}(),function(){"use strict";define("design/views/LoadingSpinnerView",["core/oop","ui/views/CompositeView","platform/common/AnimatableProperties","platform/common/KeyframesAnimation"],function(e,t,i,n){return e.classDef("design.views.LoadingSpinnerView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({lowOpacity:void 0,highOpacity:void 0,duration:void 0,delayStep:void 0,_firstDot:void 0,_secondDot:void 0,_thirdDot:void 0}),e.methods({_attachFirstDot:function(e){this._firstDot=e},_attachSecondDot:function(e){this._secondDot=e},_attachThirdDot:function(e){this._thirdDot=e},_onIsVisibleChanged:function(){t._onIsVisibleChanged.apply(this,arguments),this._updateViewStyles()},_onSubViewsReady:function(){t._onSubViewsReady.apply(this,arguments),this._updateViewStyles()},_updateViewStyles:function(){if(!0===this.isVisible){var e=[0,38,50,88,100],t=[this.lowOpacity,this.lowOpacity,this.highOpacity,this.highOpacity,this.lowOpacity];this._firstDot.keyframesAnimation=n.new({name:"loading-firstdot",stops:e,values:t,duration:this.duration,property:i.OPACITY,delay:0}),this._secondDot.keyframesAnimation=n.new({name:"loading-seconddot",stops:e,values:t,duration:this.duration,property:i.OPACITY,delay:this.delayStep}),this._thirdDot.keyframesAnimation=n.new({name:"loading-thirddot",stops:e,values:t,duration:this.duration,property:i.OPACITY,delay:2*this.delayStep})}else this._firstDot.keyframesAnimation=void 0,this._secondDot.keyframesAnimation=void 0,this._thirdDot.keyframesAnimation=void 0}})})})}(),function(){"use strict";define("design/templates/ViewBaseTemplates",["core/oop","design/templates/TemplatesModule","design/templates/ColorTemplates","design/ScreenUtil","ui/ViewRegistrations","ui/ViewRegistration","ui/views/ScrollView","ui/views/ImageModelView","ui/views/ItemsView","ui/views/ClosedCaptioningTextView","ui/views/ClosedCaptioningWindowView","design/views/LabelView","ui/views/ReactHostView","ui/views/SimpleHyperlinkView","ui/Axis","ui/StackedLayout","ui/views/View","ui/views/ImageView","ui/views/WebFrameView","ui/views/DynamicTextView","ui/views/TextInputView","design/views/ToggleView","design/views/UserCollectionToggleView","design/views/PinInputView","design/UserCollections","ui/views/TextView","ui/Transition","ui/views/CompositeView","design/views/MasterDetailView","design/views/LoadingSpinnerView","ui/views/SelectorView"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A){return e.classDef("design.templates.ViewBaseTemplates",[t],function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({_generateLoadingSpinnerView:function(e){var t={$type:r,attachFromOwner:!0,template:{$type:v,width:e.size,height:e.size,uri:e.uri}};return{$type:x,subViewRegistrations:{$type:o,firstDot:t,secondDot:t,thirdDot:t},layout:{$type:f,primaryAxis:g.HORIZONTAL,spacing:e.spacing},duration:2e3,delayStep:150,highOpacity:1,lowOpacity:.1}},_configure:function(){var e=this.registered,t=this.unregistered,f=i.singleton.exports;t.ViewRegistrations={$type:o},t.ViewRegistration={$type:r},t.basicRepeatDeltas=[.5,.1],t.slowRepeatDeltas=[.5,.25],t.acceleratedRepeatDeltas=[.5,.1,.1,.1,.1,.1,.1,.1,.1,.1,.005],t.ScrollView={$type:a,isPointerTarget:!1,isFocusTarget:!1,isInvokable:!1},t.ItemsView={$extend:t.ScrollView,$type:l,animateSelectionScrolling:!0,animateButtonScrolling:!0,enableScrollToAnimation:!0,throttleButtonScrollAnimations:!1,setSelectionAfterManipulation:!0,buttonRepeatTimeDeltas:t.basicRepeatDeltas,allowButtonPagination:!0},t.LabelView={$type:u,primaryAxis:g.VERTICAL,subViewSpacing:50},t.View={$type:m},t.CompositeView={$type:E},t.ImageView={$type:v},t.WebFrameView={$type:_},t.ImageModelView={$type:s},t.TextView={$type:R},t.DynamicTextView={$type:y},t.MasterDetailView={$type:I},t.ReactHostView={$type:p},t.SimpleHyperlinkView={$type:h};var x={initial:{set_borderThickness:{$type:P,to:0,duration:0}},focused:{set_borderThickness:{$type:P,to:2,duration:0}}};t.TextInputView={$type:w,borderColor:f.ceruleanBlue,transitionMap:n.singleton.byDesign({desktop:x})},t.PinInputView={$extend:t.TextInputView,$type:C},t.PlaceholderView={$extend:t.View,isReadyInit:!0},t.SelectorView={$type:A},t.ClosedCaptioningPaddingPercent=.25,t.ClosedCaptioningTextView={$type:c},t.ClosedCaptioningWindowView={$type:d},t.ToggleView={$type:b},e.UserCollectionToggleView={$type:S},t.WatchlistToggleView={$type:S,userCollection:T.Watchlist,onAccessibilityResource:"ResA11yWatchlistRemove",offAccessibilityResource:"ResA11yWatchlistAdd"},t.ContinueWatchingToggleView={$type:S,userCollection:T.ContinueWatching}}})})})}(),function(){"use strict";define("design/views/AssetCollectionView",["core/oop","core/Debug","core/Exception","design/PopupManager","design/ScreenUtil","platform/dependent/Process","platform/dependent/NativeDialogType","ui/Localization","ui/TemplateManager","ui/ViewModelFactory","ui/views/CompositeView"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.views.AssetCollectionView",d,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._activeFlags={loading:!1,empty:!1,items:!1},this._updateItems()}),e.properties({itemsViewModelFactoryId:void 0,clearDialogViewModelFactoryId:void 0,clearPromptViewModelFactoryId:void 0,userCollection:void 0,_activeFlags:void 0,_assetCollection:void 0,_clearConfirmedCallback:void 0,_clearCancelledCallback:void 0,_clearConfirmationDialog:void 0}),e.methods({_isActiveLoading:function(){return void 0!==this._activeFlags&&this._activeFlags.loading},_isActiveEmpty:function(){return void 0!==this._activeFlags&&this._activeFlags.empty},_isActiveItems:function(){return void 0!==this._activeFlags&&this._activeFlags.items},_setActiveFlags:function(e){var t=this;Object.keys(this._activeFlags).forEach(function(e){t._activeFlags[e]=!1}),e.forEach(function(e){t._activeFlags[e],t._activeFlags[e]=!0}),this._ensureSubViewsReady()},_isActiveClear:function(){return this._isActiveItems()},_attachClear:function(e){this.hookUntilDisposed(e,"invoked",this._onClearInvoked.bind(this))},_updateItems:function(){var e=this;this._setActiveFlags(["loading"]),this.runUntilDisposed("updateItems",function(){return e._getItems().then(function(t){return t.length().then(function(i){e._handleNewItemsCount(i),i>0?(e._subViewModelsSet=!1,e._assetCollection=t,e._setActiveFlags(["items"])):e._setActiveFlags(["empty"]),e._handleItemsUpdated()})}).catch(function(t){throw e._setActiveFlags(["empty"]),i.wrap(t,{message:"updateItems promise rejected",area:"design.views.AssetCollectionView._updateItems"})})})},_getItems:function(){},_handleItemsUpdated:function(){},_getViewModelItems:function(){return c.singleton.create(this.itemsViewModelFactoryId,this._assetCollection)},_clearConfirmed:function(){this._handleNewItemsCount(0),this._setActiveFlags(["empty"]),this._doClearAction()},_doClearAction:function(){},_handleNewItemsCount:function(){},_detachClearConfirmationDialog:function(){void 0!==this._clearConfirmationDialog&&(this._clearConfirmationDialog.confirmed.off(this._clearConfirmedCallback),this._clearConfirmationDialog.closed.off(this._clearCancelledCallback),this._clearConfirmedCallback=void 0,this._clearCancelledCallback=void 0,this._clearConfirmationDialog.close(),this._clearConfirmationDialog=void 0)},_onClearInvoked:function(e){e.handled=!0,this.launchClearDialog()},launchClearDialog:function(){var e=this;o.singleton.byDesignCall({desktop:e._launchPopupDialog.bind(this),mobile:e._launchNativeDialog.bind(this)})},_launchPopupDialog:function(){var e=this;this._clearConfirmationDialog;var t=l.singleton.getTemplate("ConfirmationDialogView"),i={viewModel:c.singleton.create(this.clearDialogViewModelFactoryId)};this._clearConfirmationDialog=n.singleton.openPopup(t,i,!0),this._clearConfirmedCallback=function(){e._clearConfirmed()},this._clearCancelledCallback=function(){e._detachClearConfirmationDialog()},this._clearConfirmationDialog.confirmed.on(this._clearConfirmedCallback),this._clearConfirmationDialog.closed.on(this._clearCancelledCallback)},_launchNativeDialog:function(){var e=this;this.runUntilDisposed("_launchNativeDialog",function(){return r.singleton.openNativeDialog(a.CONFIRMATION,s.singleton.getResource("ResClearAll"),s.singleton.getResource(e.clearPromptViewModelFactoryId),s.singleton.getResource("ResClearAll"),s.singleton.getResource("ResCancel")).then(function(t){!0===t.result&&e._clearConfirmed()})})},_ensureSubViewsDeactivated:function(){this._detachClearConfirmationDialog(),t._ensureSubViewsDeactivated.apply(this,arguments)}})})})}(),function(){"use strict";define("design/views/LetterView",["core/oop","ui/views/TextView"],function(e,t){return e.classDef("design.views.LetterView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({itemIndex:{defaultValue:void 0,privateSet:!0}}),e.methods({_getInvokedData:function(){return this._itemIndex},_getViewModelProperties:function(e){var i=t._getViewModelProperties.apply(this,arguments);return i.itemIndex=e.itemIndex,i},_bindChildViews:function(e){t._bindChildViews.apply(this,arguments),this._itemIndex=void 0===e?void 0:e.itemIndex}})})})}(),function(){"use strict";define("design/views/DropDownView",["core/oop","core/Exception","core/logging/Levels","design/PopupManager","ui/views/CompositeView"],function(e,t,i,n,o){return e.classDef("design.views.DropDownView",o,function(o){e.constructor(function(){o.$ctor.apply(this,arguments)}),e.properties({dropDownSpacing:void 0,popupTemplate:void 0,popupViewModelProperty:void 0,fullScreenPopup:void 0,selectedIndex:{defaultValue:-1,onChange:"_onSelectedIndexChangedHandler"},disablePopupForSingleItem:{defaultValue:!1},_dropDownItemsView:void 0,_popupEnabled:{defaultValue:!0,onChange:"_ensureSubViewsReady"}}),e.events(["opened","closed","selectedIndexChanged","itemsChanged"]),e.methods({_onInvoked:function(e){o._onInvoked.apply(this,arguments),!0===this._popupEnabled&&void 0!==this.viewModel&&(this._openDropDown(),e.handled=!0)},_closeInvoked:function(){this.find("header").isEnabled=!0,this.selectedIndex=this._dropDownItemsView.selectedIndex,this._onClosed()},_openDropDown:function(){var e=this;this.runUntilDisposed("_openDropDown",function(){return e.viewModel.subViewModels[e.popupViewModelProperty].then(e._openDropDownResultHandler.bind(e)).catch(function(e){t.wrap(e,{message:"_openDropDown viewModel promise rejected",level:i.WARNING,area:"design.views.DropDownView._openDropDown"}).logTelemetry()})})},_determinePopupItemCount:function(){var e=this;e._popupEnabled=!1,this.runUntilDisposed("_determinePopupItemCount",function(){return e.viewModel.subViewModels[e.popupViewModelProperty].then(function(e){return e.items}).then(function(e){return e.length()}).then(function(t){e._popupEnabled=t>1}).catch(function(e){t.wrap(e,{message:"_determinePopupItemCount promise rejected",level:i.WARNING,area:"design.views.DropDownView._determinePopupItemCount"}).logTelemetry()})})},_onViewModelChanged:function(){o._onViewModelChanged.apply(this,arguments),this._onItemsChanged(),!0===this.disablePopupForSingleItem&&this._determinePopupItemCount()},_onSelectedIndexChangedHandler:function(e,t){this._onSelectedIndexChanged(e,t)},_openDropDownResultHandler:function(e){var t=this._displayProxy.getViewportSpaceNaturalBounds(),i=!0===this.fullScreenPopup?void 0:{x:t.x,y:t.y+this.height+this.dropDownSpacing},o={viewModel:e,dropDownItemsOffset:i,centerItems:this.fullScreenPopup},r=n.singleton.openPopup(this.popupTemplate,o);this.find("header").isEnabled=!1,this.hookUntilDisposed(r,"closed",this._closeInvoked.bind(this)),this._dropDownItemsView=r.find("dropDownItems"),this._dropDownItemsView.selectedIndex=this.selectedIndex,this._onOpened()},_isActiveDownArrow:function(){return!0===this._popupEnabled}})})})}(),function(){"use strict";define("design/views/HyperlinkView",["core/oop","core/Debug","core/Lifecycleable","platform/dependent/Process","ui/navigation/Navigator","ui/ViewFactory","ui/views/View","lib/Promise","platform/dependent/graphics/Hyperlink","design/NavigationRouter","lib/lodash/objects/forOwn","core/uriUtils","lib/lodash/objects/merge"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("design.views.HyperlinkView",a,function(t){e.constructor(function(){var e=this;t.$ctor.apply(this,arguments);var i={};!0===this.forwardOwnershipForSubViews&&(i._registeredOwner=this.registeredOwner),this._subView=r.singleton.create(this.subViewTemplate,i),this._subViewSizeChangedCallback=function(){e._runLayout()},this._subView.layoutRequested.on(this._subViewSizeChangedCallback),this._waitForSubViewReady()}),e.properties({_uri:{defaultValue:void 0,onChange:function(e){this._displayProxy.uri=e,this._fullUri=this._getUriWithUriParams()}},_fullUri:void 0,subViewTemplate:void 0,uriParams:void 0,forwardOwnershipForSubViews:{defaultValue:!1},_isExternal:void 0,_openInExternalProcess:{defaultValue:!0},_subView:void 0,_subViewSizeChangedCallback:void 0,_includeContext:{defaultValue:!1}}),e.methods({getAutomationPeer:function(){var e=t.getAutomationPeer.call(this);return e.uri=this._uri,e},resetReady:function(){t.resetReady.apply(this,arguments),this._subView.resetReady()},enumerateLogicalChildren:function(e){e(this._subView)},updateOwner:function(e){t.updateOwner.apply(this,arguments),!0===this.forwardOwnershipForSubViews&&this._subView.updateOwner(e)},reattachSubViews:function(){},_raiseSizeChanged:function(){t._raiseSizeChanged.apply(this,arguments),this._runLayout()},_ensureSubViewsReady:function(){!0===this.forwardOwnershipForSubViews&&void 0!==this._subView._ensureSubViewsReady&&this._subView._ensureSubViewsReady()},_createDisplayProxy:function(){return l.new({owner:this})},_onLifecycleStateChanged:function(e,n){t._onLifecycleStateChanged.call(this,e,n),e===i.LifecycleStates.DEACTIVATED&&(void 0===this._subView.parent&&this._subView.deactivate(),this._subView.layoutRequested.off(this._subViewSizeChangedCallback),this._subView=void 0)},_getUserInteractionContext:function(){return{linkTarget:this._uri,isExternal:this._isExternal,linkData:this._getInvokedData()}},_onInvoked:function(e){t._onInvoked.apply(this,arguments),!0!==e.handled&&void 0!==this._fullUri&&(e.handled=!0,!0===this._isExternal?n.singleton.navigateExternal(this._fullUri,this._openInExternalProcess):c.singleton.navigateToUri(this._fullUri))},_onViewModelChanged:function(e){t._onViewModelChanged.apply(this,arguments);var i=this;this.runUntilDisposed("hyperlinkViewModelChanged",function(){return s.props({uri:e.uri,isExternal:e.isExternal,openInExternalProcess:e.openInExternalProcess,subViewModel:e.subViewModel,includeContext:e.includeContext}).then(function(e){e.uri,e.uri,i._isExternal=e.isExternal,i._openInExternalProcess=e.openInExternalProcess,i._includeContext=e.includeContext,i._uri=e.uri,i._subView.viewModel=e.subViewModel,i._waitForSubViewReady()})})},_getUriWithUriParams:function(){if(void 0!==this._uri){var e=this._uri,t=this.uriParams||{};if(!0===this._includeContext){var i=o.singleton.getActiveViewHost();t=p(t,i._getHyperlinkContext(this))}return d(t,function(t,i){e=u.addOrReplaceQueryParam(e,i,t)}),e}},_waitForSubViewReady:function(){var e=this;this.runUntilDisposed("_waitForSubViewReady",function(){return e._subView.afterReady.then(function(){void 0===e._subView.parent&&e.children.add(e._subView),e._runLayout(),e._fulfillReadyPromise()})})},_runLayout:function(){var e=this._subView;if(void 0!==e){if(void 0!==this.layout)return this.layout.run(this,[e],{width:this.width,height:this.height}),void 0===this._explicitWidth&&(this._naturalWidth=e.width),void 0===this._explicitHeight&&(this._naturalHeight=e.height),void this.refreshStyles();void 0===this._explicitWidth&&(this._naturalWidth=e.width),void 0===this._explicitHeight&&(this._naturalHeight=e.height),e._setLayoutSize(this._explicitWidth,this._explicitHeight)}},_getInvokedData:function(){return this._subView._getInvokedData()}})})})}(),function(){"use strict";define("design/InAppPurchaseResult",["core/oop"],function(e){return e.enumDef("design.InAppPurchaseResult",["PURCHASE_SUCCESS","RESTORE_SUCCESS","RESTORE_SUCCESS_NO_AUTH","RESTORE_SUCCESS_UNENTITLED","PURCHASE_FAIL","RESTORE_FAIL","RESTORE_NOT_FOUND","PURCHASE_ERROR","ALREADY_LINKED_ERROR","LINK_ERROR","PURCHASE_CONFIRMATION_ERROR","RESTORE_CONFIRMATION_ERROR","RESTORE_WORKFLOW_OPTIONS"])})}(),function(){"use strict";define("design/logging/PurchaseSuccessfulLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("design.logging.PurchaseSuccessfulLogEntry",t,function(t){e.initConstructor(function(){this._type="purchasesuccessful"}),e.properties({storeType:void 0,purchaseType:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.storeType=this.storeType,e.purchaseType=this.purchaseType,e}})})})}(),function(){"use strict";define("design/InAppPurchaseUtil",["core/oop","core/Debug","core/Exception","core/data/ModelFactory","core/logging/Levels","dataservices/authentication/AuthenticationManager","dataservices/dependent/ProfileService","dataservices/types/NextSteps","dataservices/types/NextStepType","design/InAppPurchaseResult","design/logging/PurchaseSuccessfulLogEntry","platform/HttpStatus","platform/StoreWrapper","ui/ViewModelFactory"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("design.InAppPurchaseUtil",Object,function(){e.singleton(function(){}),e.properties({pendingPurchaseSku:void 0}),e.methods({purchaseSku:function(e){var t=this,i=p.singleton.getStore(),o=e.payload||{};return n.singleton.create("User","User").userId.then(function(n){return o.userId=n,i.purchaseSku(e.sku,o).then(function(n){return t._checkPurchaseResultAndLink(i,n,e)}).catch(function(e){return t._wrapResponse(c.PURCHASE_ERROR,e)})})},_checkPurchaseResultAndLink:function(e,t,i){return!0!==t.purchased?this._wrapResponse(c.PURCHASE_FAIL):(this._logSuccessfulPurchase(e,i.purchaseType),this._linkReceiptToUser(e,t.receipt,!1))},_logSuccessfulPurchase:function(e,t){d.new({area:"design.InAppPurchaseUtil",storeType:e.storeType,purchaseType:t}).log()},_linkReceiptToUser:function(e,t,i){var n=this,o=i?c.RESTORE_SUCCESS:c.PURCHASE_SUCCESS;return a.singleton.linkReceipt(t).then(function(){return e.notifyPurchaseFulfillment(t),a.singleton.refreshTokenAfterReceipt().then(function(){return n._wrapResponse(o)}).catch(function(e){var t;return t=i?c.RESTORE_CONFIRMATION_ERROR:c.PURCHASE_CONFIRMATION_ERROR,n._wrapResponse(t,e)})}).catch(function(e){var t;switch(e.status){case u.FORBIDDEN:t=c.ALREADY_LINKED_ERROR;break;case u.UNAUTHORIZED:t=i?c.RESTORE_NOT_FOUND:c.LINK_ERROR;break;default:t=i?c.RESTORE_FAIL:c.LINK_ERROR}return n._wrapResponse(t,e)})},restorePurchase:function(e){var t=this,i=p.singleton.getStore();return t._getPreviousPurchases(i,e).then(function(e){return t._checkRestoreResultAndLink(i,e)}).catch(function(e){return t._wrapResponse(c.RESTORE_FAIL,e)})},_checkRestoreResultAndLink:function(e,t){var i=this;if(0===t.length)return i._wrapResponse(c.RESTORE_NOT_FOUND);var n=t[t.length-1];return a.singleton.isReceiptLinked(n).then(function(t){return!0===t?i._wrapResponse(c.ALREADY_LINKED_ERROR):!1===r.singleton.isAuthenticated?i._wrapResponse(c.RESTORE_SUCCESS_NO_AUTH):i._linkReceiptToUser(e,n,!0)}).catch(function(e){var t=e.status===u.UNAUTHORIZED?c.RESTORE_NOT_FOUND:c.LINK_ERROR;return i._wrapResponse(t,e)})},startRestorePurchaseWorkflow:function(){var e=this,t=p.singleton.getStore();return e._getPreviousPurchases(t,!1).then(function(t){if(0===t.length)return e._wrapResponse(c.RESTORE_NOT_FOUND);r.singleton.setRegistrationInfo(void 0);var i=t[t.length-1];return a.singleton.createWorkflowForReceipt(i).then(function(t){return e._performWorkflowStep(t)})}).catch(function(t){return e._wrapResponse(c.RESTORE_FAIL,t)})},continueRestorePurchaseWorkflow:function(e){return this._performWorkflowStep(e)},_performWorkflowStep:function(e){var t=this;return a.singleton.performWorkflowStep(e).then(function(e){return void 0!==e.nextSteps?s.singleton.setData(e.nextSteps):s.singleton.clearData(),!0===e.loginAsUser?r.singleton.activateAndLogin(e.loginInfo).then(function(){return h.singleton.create("UserPaidForAccess").value.then(function(e){if(!0!==e)return t._wrapResponse(c.RESTORE_SUCCESS_UNENTITLED);var i=p.singleton.getStore();return t._getPreviousPurchases(i,!0).then(function(e){var n=e[e.length-1];return i.notifyPurchaseFulfillment(n),t._wrapResponse(c.RESTORE_SUCCESS)})})}):s.singleton.step===l.SHOW_OPTIONS?(r.singleton.setRegistrationInfo(e.loginInfo),t._wrapResponse(c.RESTORE_WORKFLOW_OPTIONS)):(s.singleton.step,l.NONE,t._wrapResponse(c.RESTORE_FAIL))}).catch(function(e){var i=e.status===u.UNAUTHORIZED?c.RESTORE_NOT_FOUND:c.RESTORE_FAIL;return t._wrapResponse(i,e)})},_getPreviousPurchases:function(e,t){return!0===t?e.getPreviousPurchases():e.restorePurchases().then(function(){return e.getPreviousPurchases()})},_wrapResponse:function(e,t){var i={result:e};switch(e){case c.RESTORE_SUCCESS:case c.PURCHASE_SUCCESS:case c.RESTORE_SUCCESS_NO_AUTH:case c.PURCHASE_FAIL:case c.RESTORE_WORKFLOW_OPTIONS:case c.RESTORE_SUCCESS_UNENTITLED:return i;default:var n=this._mapErrorStrings(e);return t&&this._logError(t,n.logMessage||"IAP Error: Unhandled case"),i.error={userTitle:n.userTitle,userMessage:n.userMessage},i}},_logError:function(e,t){i.wrap(e,{message:t,level:o.WARN,area:"design.InAppPurchaseUtil"}).logTelemetry()},_mapErrorStrings:function(e){switch(e){case c.PURCHASE_CONFIRMATION_ERROR:return{userTitle:"ResIAPPurchaseErrorTitle",userMessage:"ResIAPConfirmationErrorMessage",logMessage:"IAP Error: Token call for confirmation screen failed during purchase"};case c.RESTORE_CONFIRMATION_ERROR:return{userTitle:"ResIAPRestoreErrorTitle",userMessage:"ResIAPConfirmationErrorMessage",logMessage:"IAP Error: Token call for confirmation screen failed during restore"};case c.PURCHASE_ERROR:return{userTitle:"ResIAPPurchaseErrorTitle",userMessage:"ResIAPErrorMessage",logMessage:"IAP Error: Store purchase call failed"};case c.LINK_ERROR:return{userTitle:"ResIAPOopsTitle",userMessage:"ResIAPLinkReceiptErrorMessage",logMessage:"IAP Error: Receipt linking call failed"};case c.ALREADY_LINKED_ERROR:return!0===r.singleton.isAuthenticated?{userTitle:"ResIAPRestoreAlreadyLinkedAnother",userMessage:"ResIAPRestoreBoundAuthError"}:{userTitle:"ResIAPRestoreAlreadyLinkedTitle",userMessage:"ResIAPRestoreBoundUnauthError"};case c.RESTORE_FAIL:return{userTitle:"ResIAPRestoreErrorTitle",userMessage:"ResIAPRestoreGenericErrorMessage",logMessage:"IAP Error: Store restore purchase call failed"};case c.RESTORE_NOT_FOUND:return{userTitle:"ResSSONoHBOTitle",userMessage:"ResIAPRestoreNothingFoundError"}}}})})})}(),function(){"use strict";define("design/views/RestoreView",["core/oop","design/InAppPurchaseResult","design/InAppPurchaseUtil","design/NavigationRouter","design/PopupManager","design/ScreenUtil","platform/dependent/Process","platform/dependent/NativeDialogType","ui/views/CompositeView","ui/ViewModelFactory","ui/Localization"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.views.RestoreView",l,function(l){e.constructor(function(){l.$ctor.apply(this,arguments)}),e.properties({_disableIAPAction:{defaultValue:!1}}),e.methods({_attachAffiliateName:function(e){this.hookUntilDisposed(e,"invoked",function(e){this._tryToRestorePurchases(),e.handled=!0}.bind(this))},_tryToRestorePurchases:function(){if(!0!==this._disableIAPAction){var e=this;this._disableIAPAction=!0,this._setSaveState(!0),this.runUntilDisposed("RestoreView._tryToRestorePurchases",function(){return i.singleton.restorePurchase().then(function(i){switch(i.result){case t.RESTORE_SUCCESS_NO_AUTH:return e._navigateToRegistration();case t.RESTORE_SUCCESS:e._setSaveState(!1);var o=n.singleton.getLoginReturnPath();return n.singleton.navigateToUri(o);default:return e._showError(i.error.userTitle,i.error.userMessage)}})})}},_navigateToRegistration:function(){this._setSaveState(!1),n.singleton.navigateToUri("/register")},_showError:function(e,t){var i=this;this.runUntilDisposed("RestoreView._showError",function(){return c.singleton.create("Store").displayName.then(function(n){return a.singleton.openNativeDialog(s.ALERT,d.singleton.getResource(e),d.singleton.getResource(t,{store:n}),d.singleton.getResource("ResOk"),d.singleton.getResource("ResCancel")).then(function(){i._setSaveState(!1),i._disableIAPAction=!1})})})},_setSaveState:function(e){r.singleton.byDesignCall({mobile:function(){!0===e?o.singleton.blockInteractivity("InteractivityBlockingView"):o.singleton.unblockInteractivity()}})}})})})}(),function(){"use strict";define("design/views/FlipView",["core/oop","ui/views/View","lib/Promise","core/Lifecycleable","ui/IItemSelector","ui/Presence","ui/ViewFactory"],function(e,t,i,n,o,r,a){return e.classDef("design.views.FlipView",[t,o],function(t){e.constructor(function(){this.autoEnterChildren=!1,t.$ctor.apply(this,arguments),this._allItems=[],this._onViewModelChanged(this.viewModel)}),e.properties({itemViewTemplate:void 0,selectedIndex:{defaultValue:0,onChange:"_updateSelection"},isManipulating:{defaultValue:!1,privateSet:!0},_allItems:void 0}),e.events(["selectedIndexChanged"]),e.methods({refreshStyles:function(){t.refreshStyles.apply(this,arguments),this._updateSize()},scrollFocusedItemIntoViewport:function(){},_onPresenceChanged:function(e){t._onPresenceChanged.apply(this,arguments),e===r.ENTERING&&this._updateSelection(this.selectedIndex)},_onViewModelChanged:function(e){if(t._onViewModelChanged.apply(this,arguments),!1!==this.isInitialized){var i=this;if(void 0!==e){var n=this._allItems;i.runUntilDisposed("_onViewModelChanged",function(){return e.items.then(function(e){return e.getRange(0)}).then(function(e){for(var t=0;t<e.length;t++){var o=a.singleton.create(i.itemViewTemplate,{viewModel:e[t]});o.isVisible=!1,n.push(o)}return i._waitForChildViewsReady()}).then(function(){i._updateSize(),i._ensureChildViewsAdded(),i._fulfillReadyPromise()})})}}},_onLifecycleStateChanged:function(e,i){t._onLifecycleStateChanged.call(this,e,i),e===n.LifecycleStates.DEACTIVATED&&this._ensureChildViewsDeactivated()},_waitForChildViewsReady:function(){return i.map(this._allItems,function(e){return e.afterReady})},_updateSelection:function(e,t){var i=this._allItems[t],n=this._allItems[e];void 0!==i&&i.hide(),void 0!==n&&n.show(),void 0!==t&&e!==t&&this._onSelectedIndexChanged(e,t)},_updateSize:function(){for(var e=0,t=0,i=0;i<this._allItems.length;i++)e=Math.max(e,this._allItems[i].height),t=Math.max(t,this._allItems[i].width);this._naturalHeight=e,this._naturalWidth=t},_ensureChildViewsAdded:function(){this._ensureChildCore(this._allItems)},_ensureChildViewsDeactivated:function(){this._deactivateChildCore(this._allItems)},_ensureChildCore:function(e){var t=this;e.forEach(function(e){void 0===e.parent&&t.children.add(e)})},_deactivateChildCore:function(e){e.forEach(function(e){void 0===e.parent&&e.deactivate()})}})})})}(),function(){"use strict";define("design/views/PopupLinkView",["core/oop","ui/views/CompositeView","design/PopupManager"],function(e,t,i){return e.classDef("design.views.PopupLinkView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({popupViewTemplate:void 0}),e.methods({_doInvoked:function(e){i.singleton.openPopup(this.popupViewTemplate),e.handled=!0},_attachLink:function(e){this.hookUntilDisposed(e,"invoked",this._doInvoked.bind(this))}})})})}(),function(){"use strict";define("core/data/ExplicitTextProvider",["core/oop","core/data/Provider","core/data/DocumentModel","lib/Promise"],function(e,t,i,n){return e.classDef("core.data.ExplicitTextProvider",[t,i],function(t){e.constructor(function(e){t.$ctor.call(this,e)}),e.properties({text:{get:function(){return n.fulfilled(this._text)}},_text:void 0}),e.methods({initialize:function(e){this._ensureNoExpirationTime(e),t.initialize.apply(this,arguments),this._text=e.text}})})})}(),function(){"use strict";define("design/views/AccessibleHyperlinkView",["core/oop","core/Exception","design/views/HyperlinkView","ui/ViewModelFactory","ui/viewModelProviders/ValueProvider","core/data/ExplicitTextProvider","lib/Promise"],function(e,t,i,n,o,r,a){return e.classDef("design.views.AccessibleHyperlinkView",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({accessibilityTextViewModelFactoryId:void 0}),e.methods({_waitForSubViewReady:function(){i._waitForSubViewReady.apply(this,arguments);var e=this;this.runUntilDisposed("_waitForSubViewReadyAccessibility",function(){return e._subView.afterReady.then(function(){var t=n.singleton.create(e.accessibilityTextViewModelFactoryId,e.viewModel.dataModel);if(t instanceof o)return t.value;if(t instanceof r)return t.text;var i=new Error("provider must be a ValueProvider or a TextProvider");return a.rejected(i)}).then(function(t){e.accessibilityTextOverride=t,e._updateAccessibility()}).catch(function(i){e._rejectReadyPromise(t.wrap(i,{message:"Could not obtain accessibility text",area:"design.views.AccessibleHyperlinkView._waitForSubViewReady"}))})})}})})})}(),function(){"use strict";define("design/views/FranchiseHeaderView",["core/oop","dataservices/authentication/AuthenticationManager","design/ScreenUtil","ui/views/CompositeView"],function(e,t,i,n){return e.classDef("design.views.FranchiseHeaderView",n,function(n){e.constructor(function(){
n.$ctor.apply(this,arguments)}),e.properties({includeSummary:{defaultValue:!0},makeLogoHyperlink:{defaultValue:!1},logoMarginTop:{defaultValue:0},logoMarginSummaryOffset:{defaultValue:0}}),e.methods({_isActiveFranchiseShortSummary:function(){return!0===this.includeSummary},_isActiveFranchiseLogo:function(){return!0!==this.makeLogoHyperlink},_isActiveFranchiseLogoHyperlink:function(){return!0===this.makeLogoHyperlink&&void 0!==this.viewModel},_isActiveSubFranchiseLinks:function(){return i.singleton.byScreen({phone:!1,default:!0})},_onViewModelChanged:function(e){n._onViewModelChanged.apply(this,arguments);var o=this;void 0!==e?o.runUntilDisposed("FranchiseHeaderView._onViewModelChanged",function(){return o.viewModel.shortSummary.then(function(e){var n=i.singleton.byScreen({phone:t.singleton.isAuthenticated,default:!1}),r=""!==e&&void 0!==e,a=!0===r||!0===n?o.logoMarginSummaryOffset:0,s=o.find("imageSafeArea");void 0!==s&&(s.layoutProps.margin.top=o.logoMarginTop+a),o._ensureSubViewsReady()})}):o.cancelDisposablePromise("FranchiseHeaderView._onViewModelChanged")}})})})}(),function(){"use strict";define("design/views/FranchiseHeaderUnderlinedView",["core/oop","ui/views/CompositeView"],function(e,t){return e.classDef("design.views.FranchiseHeaderUnderlinedView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({_text:void 0,_line:void 0}),e.methods({_layoutActiveSubViews:function(){t._layoutActiveSubViews.apply(this,arguments),this._line.width=this._text.width-2},_attachText:function(e){this._text=e},_attachLine:function(e){this._line=e}})})})}(),function(){"use strict";define("ui/viewModelProviders/TextFromStringProvider",["core/oop","ui/viewModelProviders/ViewModelProvider","ui/viewModels/TextViewModel","lib/Promise"],function(e,t,i,n){return e.classDef("ui.viewModelProviders.TextFromStringProvider",[t,i],function(t){e.constructor(function(e,i){t.$ctor.call(this,void 0),this.factoryId=this._text=e,this._transform=i}),e.properties({text:{get:function(){if(void 0!==this._transform){var e=this;return n.fulfilled(this._text).then(function(t){return e._transform(t)})}return n.fulfilled(this._text)}},_text:void 0,_transform:void 0}),e.methods({equals:function(e){return t.equals.apply(this,arguments)&&this._text===e._text}})})})}(),function(){"use strict";define("design/views/ToastView",["core/oop","core/data/ModelFactory","lib/Promise","dataservices/LastPlayedCache","dataservices/dependent/providers/UserProvider","dataservices/authentication/AuthenticationManager","design/NavigationRouter","design/PopupManager","design/ScreenUtil","ui/Localization","ui/views/CompositeView","ui/viewModelProviders/TextFromStringProvider","ui/ViewModelFactory"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("design.views.ToastView",d,function(d){e.constructor(function(){d.$ctor.apply(this,arguments),this.hookUntilDisposed(n.singleton,"refreshed",this._initializeFetch.bind(this)),this.hookUntilDisposed(o.singleton,"continueWatchingSettingChanged",this._continueWatchingSettingChanged.bind(this)),this.hookUntilDisposed(r.singleton,"userLoggingOut",this._userLoggingOut.bind(this)),this._initializeFetch()}),e.properties({continueWatchingTemplate:void 0,_showContinueWatchingToast:{defaultValue:!1},_continueWatchingDismissed:{defaultValue:!1},_lastPlayedTitleViewModel:void 0,_lastPlayedRemainingViewModel:void 0,_lastPlayedRemainingPhoneViewModel:void 0,_lastPlayedUriPath:void 0,_lastPlayedAccessibilityText:void 0,_lastPlayedAsset:void 0,_breakpoint:{defaultValue:850}}),e.methods({_dismissToast:function(e){this._continueWatchingDismissed=!0,this._ensureSubViewsReady();var t=this;void 0!==t._lastPlayedAsset&&!0===e&&this.runUntilDisposed("_toastUpdate",function(){return n.singleton.remove(t._lastPlayedAsset).then(function(){t._lastPlayedAsset=void 0})})},_getLocalStateArgs:function(){var e=d._getLocalStateArgs.apply(this,arguments);return e.continueWatchingDismissed=this._continueWatchingDismissed,e.lastPlayUriPath=this._lastPlayedUriPath,e},_setLocalStateArgs:function(e){d._setLocalStateArgs.apply(this,arguments),this._continueWatchingDismissed=e.continueWatchingDismissed,this._lastPlayedUriPath=e.lastPlayUriPath},_initializeFetch:function(){var e=this;this.runUntilDisposed("_toastUpdate",function(){return t.singleton.create("User","User").continueWatchingEnabled.then(function(t){if(!0===t)return e._fetchLastPlayedToastTile().then(function(t){if(void 0!==t)return e._prepareLastPlayedToast(t);e._showContinueWatchingToast=!1,e._dismissToast(!1)})})})},_fetchLastPlayedToastTile:function(){var e=this;return n.singleton.get().then(function(e){return e.getRange(0)}).then(function(e){return e.length>0?e[0]:void 0}).then(function(t){if(void 0!==t)return e._tileAssetIsFullyWatched(t).then(function(e){return!1===e?t:void 0})})},_tileAssetIsFullyWatched:function(e){return e.asset.videos.then(function(e){return e.getRange(0)}).then(function(e){return i.map(e,function(e){return e.playbackMarker})}).then(function(e){return e.some(function(e){return void 0!==e&&(void 0!==e.completionTime?e.time>=e.completionTime:e.time>=e.runtime)})})},_prepareLastPlayedToast:function(e){var t=this;!0===t._continueWatchingDismissed&&t._lastPlayedUriPath!==e.deepLinkUriPath&&(t._continueWatchingDismissed=!1),t._lastPlayedUriPath=e.deepLinkUriPath,t._lastPlayedAsset=e.asset;var n=p.singleton.create("ContinueWatchingToastItemTitle",e);return i.props({episodeTitle:n.title,seriesTitle:e.seriesName,title:e.shortTitle,progress:e.progress,duration:e.duration}).then(function(e){var i=e.seriesTitle||"",n=e.title||"",o=e.episodeTitle,r=void 0!==e.progress?e.progress:0,a=(1-r)*e.duration,s=c.singleton.getResource("ResContinueWatchingTimeRemaining",{timeRemaining:c.singleton.getDurationDisplayString(a)});t._lastPlayedRemainingViewModel=u.new(l.singleton.byScreen({phone:c.singleton.getResource("ResContinueWatchingToastTitle",{timeRemaining:s}),default:s})),t._lastPlayedRemainingPhoneViewModel=u.new(c.singleton.getResource("ResContinueWatchingToastTitle",{timeRemaining:s})),t._lastPlayedAccessibilityText=c.singleton.getResource("ResA11yContinueWatchingLastPlayed",{assetTitle:n}),t._lastPlayedTitleViewModel=u.new(0===i.length?n:c.singleton.getResource("ResContinueWatchingFullEpisodeName",{series:i,episode:o})),t._showContinueWatchingToast=!0,t._ensureSubViewsReady()})},_updateActiveSubViews:function(){d._updateActiveSubViews.apply(this,arguments),this._updateAccessibilityLabels()},_updateAccessibilityLabels:function(){var e=l.singleton.byDesign({desktop:"continueWatchingTitle",mobile:"continueWatchingBlock"}),t=this.find(e);void 0!==t&&(t.accessibilityTextOverride=this._lastPlayedAccessibilityText,t._updateAccessibility())},_getViewModelItemTitle:function(){return this._lastPlayedTitleViewModel},_getViewModelTimeRemaining:function(){return l.singleton.byScreen({default:this._lastPlayedRemainingViewModel,tablet:l.singleton.byBreakpointImmediate({lessThan:this._lastPlayedRemainingPhoneViewModel,greaterThanEqual:this._lastPlayedRemainingViewModel},this._breakpoint)})},_isActiveContinueWatchingToast:function(){return!0!==this._continueWatchingDismissed&&!0===this._showContinueWatchingToast},_attachCloseButton:function(e){this.hookUntilDisposed(e,"invoked",function(e){e.handled=!0,this._dismissToast(!0)}.bind(this))},_attachContinueWatchingBlock:function(e){this.hookUntilDisposed(e,"invoked",function(e){e.handled=!0,a.singleton.navigateToUri(this._lastPlayedUriPath,void 0,{autoplay:!0})}.bind(this))},_attachContinueWatchingTitle:function(e){var t=this.continueWatchingTemplate;this.hookUntilDisposed(e,"invoked",function(e){e.handled=!0,s.singleton.openPopup(t)})},_continueWatchingSettingChanged:function(e){!0===e?(this._continueWatchingDismissed=!1,this._showContinueWatchingToast=!1,this._initializeFetch()):this._dismissToast(!1)},_userLoggingOut:function(){this._dismissToast(!1)}})})})}(),function(){"use strict";define("design/SeriesUtil",["core/oop","core/Debug","lib/Promise","dataservices/markers/SeriesMarkerCache","dataservices/types/SeriesStatus"],function(e,t,i,n,o){return e.classDef("design.SeriesUtil",Object,function(){e.singleton(function(){}),e.methods({seasonIndexFromId:function(e,t){var i={seasonIdx:void 0,curSeasonIdx:0};return e.seasons.then(function(e){if(void 0!==e)return e.forEach(function(e){if(e.id===t)return i.seasonIdx=i.curSeasonIdx,!1;i.curSeasonIdx++})}).then(function(){return i.seasonIdx})},seasonModelFromSeasonNumber:function(e,t){var n,o=[];return e.seasons.then(function(e){if(void 0!==e)return e.forEach(function(e){var t=i.props({season:e,seasonNumber:e.seasonNumber});o.push(t)})}).then(function(){return i.all(o)}).then(function(e){return e.forEach(function(e){if(e.seasonNumber===t)return n=e.season,!1}),n})},episodeIndexFromId:function(e,t){var i={curEpisodeIdx:0,episodeIdx:void 0};return e.allEpisodes.then(function(e){return e.forEach(function(e){if(e.id===t)return i.episodeIdx=i.curEpisodeIdx,!1;i.curEpisodeIdx++})}).then(function(){return i.episodeIdx})},episodeModelFromSeasonNumberAndEpisodeNumber:function(e,t,n){var o,r=[];return this.seasonModelFromSeasonNumber(e,t).then(function(e){if(void 0!==e)return e.episodes}).then(function(e){if(void 0!==e)return e.forEach(function(e){var t=i.props({episode:e,episodeNumber:e.episodeInSeason});r.push(t)})}).then(function(){return i.all(r)}).then(function(e){return e.forEach(function(e){if(e.episodeNumber===n)return o=e.episode,!1}),o})},firstEpisodeIndexFromSeasonIndex:function(e,t){var n={episodeIdx:0,seasonEpisodeCountsToSkip:[]};return e.seasons.then(function(e){var i=0;return e.forEach(function(e){i!==t&&(i++,n.seasonEpisodeCountsToSkip.push(e.episodeCount))})}).then(function(){return i.all(n.seasonEpisodeCountsToSkip)}).then(function(e){return e.forEach(function(e){n.episodeIdx+=e}),n.episodeIdx})},seasonIndexFromEpisodeIndex:function(e,t){var n={seasonIdx:0,curSeasonIdx:0,totalEpisodeCount:0,seasonEpisodeCountsToSkip:[]};return e.seasons.then(function(e){return e.forEach(function(e){n.seasonEpisodeCountsToSkip.push(e.episodeCount)})}).then(function(){return i.all(n.seasonEpisodeCountsToSkip)}).then(function(e){return e.every(function(e){return n.totalEpisodeCount+=e,n.totalEpisodeCount>t?(n.seasonIdx=n.curSeasonIdx,!1):(n.curSeasonIdx++,!0)}),n.seasonIdx})},getFocusSeasonIndex:function(e){var t=this;return this.getFocusEpisode(e).then(function(e){return e&&e.seasonId}).then(function(i){return void 0===i?0:t.seasonIndexFromId(e,i)})},getFocusEpisode:function(e){return n.singleton.getMarker(e.id).then(function(e){return e&&e.focusEpisode})},getInitialSeasonModel:function(e,t,n){var r,a=this;return e.seasons.then(function(t){return r=t,i.props({seriesStatus:e.status,numSeasons:r.length(),focusSeasonIndex:a.getFocusSeasonIndex(e)})}).then(function(e){if(void 0!==t)return r.getAt(t);if(void 0!==n)return n;if(void 0!==e.focusSeasonIndex)return r.getAt(e.focusSeasonIndex);if(0!==e.numSeasons){var i=-1!==[o.IN_FLIGHT,o.RETURNING,o.DAILY].indexOf(e.seriesStatus)?e.numSeasons-1:0;return r.getAt(i)}})}})})})}(),function(){"use strict";define("design/views/SeriesSeasonView",["core/oop","lib/Promise","dataservices/types/SeriesStatus","design/SeriesUtil","ui/views/CompositeView","ui/ViewModelFactory"],function(e,t,i,n,o,r){return e.classDef("design.views.SeriesSeasonView",o,function(o){e.constructor(function(){o.$ctor.apply(this,arguments),this._onDropDownClosedCallback=this._onDropDownClosed.bind(this),this._onDropDownIndexChangedCallback=this._updateSeasonViewModel.bind(this)}),e.properties({itemsViewModelMap:void 0,_seasonNumber:void 0,_currentSeasonItemsViewModel:void 0,_featuredAssetViewModel:void 0,_isSeasonal:{defaultValue:!1},_seriesModel:void 0,_seasonModel:void 0,_seasonPickerViewModel:void 0,_singleSeasonViewModel:void 0,_seasonPickerView:void 0,_onDropDownClosedCallback:void 0,_onDropDownIndexChangedCallback:void 0,_isSingleSeason:{defaultValue:!1},_reverseEpisodes:{defaultValue:!1}}),e.methods({_disposeCore:function(){void 0!==this._seasonPickerView&&(this._seasonPickerView.selectedIndexChanged.off(this._onDropDownIndexChangedCallback),this._seasonPickerView.closed.off(this._onDropDownClosedCallback)),o._disposeCore.apply(this,arguments)},_getLocalStateArgs:function(){var e=o._getLocalStateArgs.apply(this,arguments);return e.seasonNumber=this._seasonNumber,e},_setLocalStateArgs:function(e){o._setLocalStateArgs.apply(this,arguments),this._seasonNumber=e.seasonNumber},_onViewModelChanged:function(e){o._onViewModelChanged.apply(this,arguments);var a=this;this._seriesModel=void 0,this._featuredAssetViewModel=void 0;var s,l;a.runUntilDisposed("SeriesSeasonView._onViewModelChanged",function(){return t.props({series:e.series,initialSeason:e.initialSeason}).then(function(e){return a._seriesModel=e.series,s=e.series,l=e.initialSeason,t.props({seasonal:s.seasonal,status:s.status,franchise:s.franchise,focusEpisode:n.singleton.getFocusEpisode(s)})}).then(function(e){if(a._isSeasonal=e.seasonal,a._reverseEpisodes=e.status===i.IN_FLIGHT||e.status===i.DAILY,void 0===e.franchise&&void 0!==e.focusEpisode&&(a._featuredAssetViewModel=r.singleton.create("SeriesFeaturedAsset",[e.focusEpisode])),!0===a._isSeasonal)return n.singleton.getInitialSeasonModel(s,a._seasonNumber,l).then(function(e){return n.singleton.seasonIndexFromId(s,e.id)}).then(function(e){return a._seasonPickerViewModel=r.singleton.create("SeasonPickerCompositePopup",s),a._getEpisodesToDisplay(s,e)});a._currentSeasonItemsViewModel=r.singleton.create(!0===a._reverseEpisodes?a.itemsViewModelMap.series.reverse:a.itemsViewModelMap.series.forward,s)}).then(function(){a._ensureSubViewsReady()})})},_getEpisodesToDisplay:function(e,t){var i,n=this;return e.seasons.then(function(e){return i=e,i.length()}).then(function(e){return n._isSingleSeason=e<2,n._seasonNumber=t,i.getAt(n._seasonNumber).then(function(e){n._seasonModel=e,n._currentSeasonItemsViewModel=r.singleton.create(!0===n._reverseEpisodes?n.itemsViewModelMap.season.reverse:n.itemsViewModelMap.season.forward,e)})})},_onDropDownClosed:function(){this._updateSeasonPickerHeader()},_updateSeasonPickerHeader:function(){var e=this,t=e._seriesModel;this.runUntilDisposed("_updateSeasonPickerHeader",function(){return t.seasons.then(function(e){return e.getRange(0)}).then(function(t){return t[e._seasonNumber].title}).then(function(t){e.find("header").viewModel=r.singleton.create("Text",t)})})},_updateSeasonViewModel:function(e){this._seasonNumber=e;var t=this;this.runUntilDisposed("_updateSeasonViewModel",function(){var e=t._seriesModel;return t._getEpisodesToDisplay(e,t._seasonNumber).then(function(){t._ensureSubViewsReady()})})},_isActiveSingleSeasonLabel:function(){return!0===this._isSeasonal&&!0===this._isSingleSeason},_getModelSingleSeasonLabel:function(){return this._seasonModel},_isActiveSeasonNumbers:function(){return!0===this._isSeasonal&&!1===this._isSingleSeason},_getViewModelSeasonNumbers:function(){return this._seasonPickerViewModel},_isActiveSeasonPicker:function(){return!0===this._isSeasonal&&void 0!==this._seasonPickerViewModel},_attachSeasonPicker:function(e){var t=e.find("seasonNumbers");this._seasonPickerView=t,void 0!==this._seasonPickerView&&(this._seasonPickerView.selectedIndexChanged.on(this._onDropDownIndexChangedCallback),this._seasonPickerView.selectedIndex=this._seasonNumber,this._seasonPickerView.closed.on(this._onDropDownClosedCallback),this._onDropDownClosed())},_getViewModelEpisodes:function(){return this._currentSeasonItemsViewModel},_isActiveFeaturedAsset:function(){return void 0!==this._featuredAssetViewModel},_getViewModelFeaturedAsset:function(){return this._featuredAssetViewModel}})})})}(),function(){"use strict";define("design/templates/ViewTemplates",["core/oop","core/Debug","core/HorizontalAlignment","platform/common/AccessibilityTrait","platform/dependent/graphics/Viewport","design/Screen","design/TemplateUtil","design/ScreenUtil","design/templates/ViewBaseTemplates","design/views/AssetCollectionView","design/views/LetterView","design/views/DropDownView","design/views/HyperlinkView","design/views/RestoreView","design/views/FlipView","design/views/PopupLinkView","design/views/AccessibleHyperlinkView","design/views/FranchiseHeaderView","design/views/FranchiseHeaderUnderlinedView","design/views/ToastView","design/views/SeriesSeasonView","ui/views/MarkdownTextView","ui/Transition","ui/Localization","lib/lodash/objects/forOwn","lib/lodash/objects/merge","design/views/PopupView","design/templates/TransitionTemplates"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E){return e.classDef("design.templates.ViewTemplates",[l],function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({getCappedScreenWidth:function(e){return e=e||0,function(t){return Math.min(600,r.singleton.getScreenWidth()(t))+e}},_configure:function(){t._configure.apply(this,arguments);var e=s.dpiAwareImageUri.bind(s.singleton),l=s.singleton.byDesign.bind(s.singleton),I=s.singleton.byScreen.bind(s.singleton),x=s.singleton.byBrand.bind(s.singleton),A=a.singleton.complete.bind(a.singleton),k=E.singleton.exports,V=this.registered,M=this.unregistered,D=M.partials={},O=function(){return o.singleton.reservedMargins.top},N=l({android:68,uwptablet:44,default:66}),F=l({uwptablet:20,default:44}),L=l({uwptablet:10,default:44}),B=l({uwptablet:5,default:0}),H=l({uwptablet:5,default:0}),U=l({android:20,uwptablet:24,default:22}),$=l({android:e("/assets/images/form/switch/android/btn_switch_on","png"),uwptablet:e("/assets/images/form/switch/uwptablet/btn_switch_on","png"),default:e("/assets/images/form/switch/ios/btn_switch","png")}),W=l({android:e("/assets/images/form/switch/android/btn_switch_off","png"),uwptablet:e("/assets/images/form/switch/uwptablet/btn_switch_off","png"),default:e("/assets/images/form/switch/ios/btn_switch","png")}),j=l({android:e("/assets/images/form/switch/android/btn_switch_background_off","png"),uwptablet:e("/assets/images/form/switch/uwptablet/btn_switch_background_off","png"),default:e("/assets/images/form/switch/ios/btn_switch_background_off","png")}),G=l({android:e("/assets/images/form/switch/android/btn_switch_background_on","png"),uwptablet:e("/assets/images/form/switch/uwptablet/btn_switch_background_on","png"),default:e("/assets/images/form/switch/ios/btn_switch_background_on","png")}),z=l({desktop:"/assets/images/form/checkbox/checkbox_on.png",mobile:e("/assets/images/form/checkbox/mobile/checkbox_on","png")}),K=l({desktop:"/assets/images/form/checkbox/checkbox_off.png",mobile:e("/assets/images/form/checkbox/mobile/checkbox_off","png")});M.alphabetBarWidth=I({phone:0,tablet:40,monitor:58});var Y=I({phone:12,tablet:28,monitor:55});M.standardGutterWidth=Y,M.gridGutterWidth=I({phone:0,tablet:28,monitor:55}),M.standardTileSpacing=l({desktop:5,mobile:2}),M.subCategoryControlGutterWidth=l({desktop:52,mobile:36}),M.carouselBreakpoints={large:1472,medium:1024,small:850},M.mobileDialogMetrics=A({logoWidth:144,logoHeight:33,interButtonSpacing:4,dialogWidth:I({tablet:350,phone:r.singleton.getScreenWidth()}),buttonsWidth:I({tablet:330,phone:r.singleton.getScreenWidth(-20)}),dialogHeight:I({tablet:450,phone:r.singleton.getScreenHeight()}),$halfDialogWidth:function(e,t){return I({tablet:(t.dialogWidth-t.interButtonSpacing)/2,phone:function(e){return(r.singleton.getScreenWidth()(e)-t.dialogWidth-t.interButtonSpacing)/2}})},$dialogX:function(e,t){return I({tablet:function(e){return(r.singleton.getScreenWidth()(e)-t.dialogWidth)/2},phone:0})},$dialogY:function(e,t){return I({tablet:function(e){return(r.singleton.getScreenHeight()(e)-t.dialogHeight)/2},phone:0})}}),M.getContentWidth=function(e){return e=e||0,function(t){var i=e-2*Y;return r.singleton.getScreenWidth(i)(t)}},M.getContentHeight=function(e){return e=e||0,function(t){return r.singleton.getScreenHeight(e-J(t))(t)}},V.HyperlinkView={$type:p,isPointerTarget:!0,isInvokable:!0},M.AccessibleHyperlinkView={$type:m,isPointerTarget:!0,isInvokable:!0,accessibilityTrait:n.BUTTON},M.fullBleedCarouselBottomPadding=34,M.itemSelectorHeight=32,M.FlipView={$type:g},M.DropDownView={$type:u},M.FranchiseHeaderView={$type:v},M.FranchiseHeaderUnderlinedView={$type:_},M.ToastView={$type:y},M.SeriesSeasonView={$type:w},M.MarkdownTextView={$type:b},M.RestoreView={$type:h},M.toggleViewGenerator=function(e){var t=0,i=l({desktop:{$extend:M.ViewRegistrations,border:{$extend:M.ViewRegistration,order:t++,template:{$extend:M.ImageView,x:e.borderX||0,y:e.borderY||0,width:e.boxSize,height:e.boxSize,uri:K}},on:{$extend:M.ViewRegistration,order:t++,isActiveFromOwner:!0,template:{$extend:M.ImageView,x:e.onX||0,y:e.onY||0,width:e.boxSize,height:e.boxSize,uri:z}}},mobile:{$extend:M.ViewRegistrations,offBackground:{$extend:M.ViewRegistration,order:t++,template:{$extend:M.ImageView,x:0,y:0,width:N,height:F,uri:j}},onBackground:{$extend:M.ViewRegistration,order:t++,isActiveFromOwner:!0,template:{$extend:M.ImageView,x:0,y:0,width:N,height:F,uri:G,transitionMap:{initial:{opacity:{$type:S,to:0,duration:0}},enter:{opacity:{$type:S,to:1,duration:.15}},exit:{opacity:{$type:S,to:0,duration:.15}}}}},on:{$extend:M.ViewRegistration,order:t++,isActiveFromOwner:!0,template:{$extend:M.ImageView,x:B,y:H,width:L,height:L,uri:$,transitionMap:{initial:{offsetX:{$type:S,to:U,duration:0},opacity:{$type:S,to:0}},enter:{opacity:{$type:S,to:1,duration:0,delay:.1}},exit:{offsetX:{$type:S,to:0,duration:.1},opacity:{$type:S,to:1,duration:0,delay:.1}}}}},off:{$extend:M.ViewRegistration,order:t++,isActiveFromOwner:!0,template:{$extend:M.ImageView,x:B,y:H,width:L,height:L,uri:W,transitionMap:{initial:{offsetX:{$type:S,to:0,duration:0},opacity:{$type:S,to:0}},enter:{offsetX:{$type:S,to:0,duration:0},opacity:{$type:S,to:1,duration:0,delay:.1}},exit:{offsetX:{$type:S,to:U,duration:.1},opacity:{$type:S,to:1,duration:0,delay:0}}}}}}});return T(e.additionalSubViewRegistrations,function(e,t){i[t]=e}),{$extend:M.ToggleView,layoutProps:e.layoutProps,width:e.width,isInvokable:!0,isPointerTarget:!0,subViewRegistrations:i}},M.checkboxViewGenerator=function(e){var t=0;e.bodyInvokable=void 0===e.bodyInvokable||e.bodyInvokable;var i=l({default:{$extend:M.ViewRegistrations,border:{$extend:M.ViewRegistration,order:t++,template:{$extend:M.ImageView,width:e.boxSize,height:e.boxSize,borderRadius:void 0!==e.borderRadius?e.borderRadius:0,clipToBounds:void 0!==e.clipToBounds&&e.clipToBounds,isInvokable:!0!==e.bodyInvokable,isPointerTarget:!0!==e.bodyInvokable,uri:K}},on:{$extend:M.ViewRegistration,order:t++,isActiveFromOwner:!0,template:{$extend:M.ImageView,width:e.boxSize,height:e.boxSize,borderRadius:void 0!==e.borderRadius?e.borderRadius:0,clipToBounds:void 0!==e.clipToBounds&&e.clipToBounds,isInvokable:!0!==e.bodyInvokable,isPointerTarget:!0!==e.bodyInvokable,uri:z}}},mobile:{$extend:M.ViewRegistrations,off:{$extend:M.ViewRegistration,order:t++,template:{$extend:M.ImageView,x:-14,y:-16,width:e.boxSize,height:e.boxSize,isInvokable:!0!==e.bodyInvokable,isPointerTarget:!0!==e.bodyInvokable,uri:K}},on:{$extend:M.ViewRegistration,order:t++,isActiveFromOwner:!0,template:{$extend:M.ImageView,x:-14,y:-16,width:e.boxSize,height:e.boxSize,isInvokable:!0!==e.bodyInvokable,isPointerTarget:!0!==e.bodyInvokable,uri:z}}}});return T(e.additionalSubViewRegistrations,function(e,t){i[t]=e}),{$extend:M.ToggleView,x:0,y:0,layoutProps:void 0!==e.layoutProps?e.layoutProps:{},width:e.width,isInvokable:e.bodyInvokable,isPointerTarget:e.bodyInvokable,subViewRegistrations:i}},M.PopupLinkView={$extend:M.CompositeView,$type:f,isInvokable:!0,isPointerTarget:!0},M.LetterView={$extend:M.TextView,$type:d,isInvokable:!0,isPointerTarget:!0,maxLines:1},M.AssetCollectionView={$extend:M.CompositeView,$type:c,itemsViewModelFactoryId:"AssetThumbnails",clearDialogViewModelFactoryId:"ClearAllConfirmationDialog"};var q=l({mobile:14,default:20}),Q=l({mobile:8,default:4});M.LoadingSpinnerView=this._generateLoadingSpinnerView({size:q,spacing:Q,uri:l({desktop:"assets/images/loading/loading_dot.png",mobile:e("assets/images/loading/mobile/loading_dot","png")})}),D.textTransitionMap={initial:{set_format:{$type:S,$to:function(e){return e.initialFormat}}},hovered:{set_format:{$type:S,$to:function(e){return e.hoveredFormat||e.initialFormat}}},selected:{set_format:{$type:S,$to:function(e){return e.selectedFormat||e.initialFormat}}},disabled:{set_format:{$type:S,$to:function(e){return e.disabledFormat||e.initialFormat}}}},D.text={$extend:M.TextView,$y:function(e){return e.y||0},$format:function(e){return void 0===e.format||e.initialFormat,e.initialFormat||e.format},$spanFormats:function(e){return e.spanFormats},$width:function(e){return e.width},$height:function(e){return e.height},$horizontalAlignment:function(e){return void 0===e.horizontalAlignment?i.LEFT:e.horizontalAlignment},layoutProps:{$margin:function(e){return e.margin},$anchor:function(e){return e.anchor}},$maxLines:function(e){return e.maxLines||1},$inheritedViewStateNames:function(e){return e.inheritedViewStateNames},$transitionMap:function(e){var t=void 0!==e.initialFormat?A(D.textTransitionMap,e):{};return R(t,e.transitionMap)}},M.accessibleView=function(e,t){return{$extend:e,accessibilityTrait:n.BUTTON,accessibilityTextOverride:void 0!==t?C.singleton.getResource(t):void 0}},M.logoSize=l({desktop:{x:55,y:30,width:x({hbogo:77,hbonow:100}),height:17},mobile:{y:O,width:x({hbogo:92,hbonow:104}),height:x({hbogo:21,hbonow:18})}});var X=l({desktop:76,mobile:44}),J=function(){return X+O()};M.navigationBarNaturalHeight=X,M.navigationBarHeight=J,M.viewportTopMargin=O,M.PopupView={$type:P,width:function(){return r.singleton.getScreenWidth(o.singleton.reservedMargins.right)},height:r.singleton.getScreenHeight(),isFixedInViewport:!0,tryUseHardwareSurface:!0,transitionMap:k.defaultFadeTransition},M.SlideInPopupView={$extend:M.PopupView,transitionMap:k.defaultOverlayFadeSlideTransition},M.overlayGutter=55}})})})}(),function(){"use strict";define("design/templates/ButtonTemplatesBase",["core/oop","core/Debug","core/HorizontalAlignment","core/VerticalAlignment","design/templates/TemplatesModule","design/templates/TransitionTemplates","design/templates/ViewTemplates","lib/lodash/objects/assign","lib/lodash/objects/clone","lib/lodash/collections/forEach","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.templates.ButtonTemplatesBase",[o],function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({generateTextButton:function(e){var t,o=a.singleton.exports;t=void 0!==e.baseTemplate?l(e.baseTemplate,!0):{$textbutton:void 0,$extend:o.CompositeView,isPointerTarget:!0,isInvokable:!0,borderThickness:1,transitionMap:{},analyticsViewName:"label",subViewRegistrations:{$extend:o.ViewRegistrations,label:{$extend:o.ViewRegistration,order:0,useOwnerViewModel:!0,template:{$extend:o.TextView,maxLines:1,horizontalAlignment:i.CENTER,verticalAlignment:n.CENTER,inheritedViewStateNames:["hovered","disabled"],transitionMap:{}}}}},s(t,l(e.buttonPartialTemplate,!0));var r=t.subViewRegistrations.label.template;return s(r,l(e.labelPartialTemplate,!0)),void 0!==e.labelPartialTemplate&&void 0!==e.buttonPartialTemplate&&(e.labelPartialTemplate.width,e.buttonPartialTemplate.width),this._applyTransitionMapping(r,"format",e.formatMapping),this._applyTransitionMapping(t,"backgroundColor",e.backgroundMapping),this._applyTransitionMapping(t,"borderColor",e.borderMapping),t},_applyTransitionMapping:function(e,t,i){d(i,function(i,n){"initial"===n&&(e[t]=i);var o=e.transitionMap[n]||{};o["set_"+t]={$extend:r.singleton.exports.instantTransition,to:i},e.transitionMap[n]=o})},_configure:function(){this.unregistered.makeSimpleTransitionMap=function(e){var t={};return c(e,function(e,i){t[i]={set_uri:{$extend:r.singleton.exports.instantTransition,to:e}}}),t}}})})})}(),function(){"use strict";define("design/templates/TextFormatBaseTemplates",["core/oop","design/styles/StyleConstants","design/templates/TemplatesModule","design/templates/ColorTemplates","platform/common/TextFormat","platform/common/Shadow"],function(e,t,i,n,o,r){return e.classDef("design.templates.TextFormatBaseTemplates",[i],function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=n.singleton.exports,i=t.singleton.exports.fonts,a=this.unregistered;a.closedCaptionFontSizeMultiple=1/18,a.defaultTextFormat={$type:o,font:i.thin,color:e.smokeGray,size:22,lineHeight:24},a.defaultBodyFormat={$extend:a.defaultTextFormat,size:13,lineHeight:16},a.defaultBodyGrayFormat={$extend:a.defaultBodyFormat,color:e.mediumGray,size:13,lineHeight:16},a.navigationBarTextFormat={$type:o,font:i.thin,color:e.smokeGray,size:13,lineHeight:14},a.navigationBarMenuItemFormat={$extend:a.navigationBarTextFormat,size:17,lineHeight:18},a.footerTextFormat={$type:o,font:i.thin,color:e.smokeGray,size:13,lineHeight:14},a.defaultFocusedTextFormat={$extend:a.defaultTextFormat,color:e.whiteSmoke},a.ratingTextFormat={$type:o,font:i.book,color:e.smokeGray,size:11,lineHeight:22},a.debugTextFormat={$type:o,font:i.thin,color:e.crimson,size:11,bold:!1,shadow:{$type:r,blur:1,color:e.opaqueBlack}},a.smallTextFormat={$type:o,font:i.thin,color:e.dustyGray,size:18,lineHeight:24},a.smallTextLinkFormat={$extend:a.smallTextFormat,color:e.ceruleanBlue}}})})})}(),function(){"use strict";define("design/templates/TextFormatTemplates",["core/oop","design/styles/StyleConstants","design/templates/ColorTemplates","design/ScreenUtil","design/templates/TextFormatBaseTemplates","design/TemplateUtil","platform/common/TextFormat","lib/lodash/objects/assign"],function(e,t,i,n,o,r,a,s){return e.classDef("design.templates.TextFormatTemplates",[o],function(o){e.singleton(function(){o.$ctor.apply(this,arguments)}),e.methods({_makeButtonFormats:function(e,t,n){var o=i.singleton.exports,r={$extend:t,color:o.whiteSmoke,uppercase:n},a={$extend:r,uppercase:n},s={$extend:t,color:o.dustyGray,uppercase:n},l={$extend:s,uppercase:n},c={$extend:t,color:o.dustyGray,uppercase:n},d={$extend:c,color:o.smokeGray,uppercase:n},u={$extend:t},p={$extend:u},h={};return h[e+"ActiveButtonFormat"]=r,h[e+"ActiveButtonHoveredFormat"]=a,h[e+"InactiveButtonFormat"]=s,h[e+"InactiveButtonHoveredFormat"]=l,h[e+"CancelButtonFormat"]=c,h[e+"CancelButtonHoveredFormat"]=d,h[e+"ConfirmButtonFormat"]=u,h[e+"ConfirmButtonHoveredFormat"]=p,h},_configure:function(){function e(e,t){return e*t/1e3}o._configure.apply(this,arguments);var l=i.singleton.exports,c=n.singleton,d=r.singleton.complete.bind(r.singleton),u=n.singleton.byDesignCall.bind(n.singleton),p=i.singleton.withAlpha.bind(i.singleton),h=n.singleton.byScreen.bind(n.singleton),g=c.byDesign({desktop:l.mineShaftGray,mobile:c.byBrand({hbonow:l.mineShaftGray,hbogo:l.whiteSmoke})}),f=this.unregistered;f.fonts=t.singleton.exports.fonts,f.defaultTextFormat={$type:a,font:f.fonts.thin,color:l.smokeGray,size:23,lineHeight:24},f.disabledTextFormat={$extend:f.defaultTextFormat,color:l.mediumGray},f.defaultBodyFormat={$extend:f.defaultTextFormat,size:13,lineHeight:16},f.dialogMessageFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:13,lineHeight:17},f.dialogMessageStrongFormat={$extend:f.dialogMessageFormat,font:f.fonts.medium},f.dialogMessageLinkFormat={$extend:f.dialogMessageFormat,color:l.ceruleanBlue},f.dialogMessageLinkHoverFormat={$extend:f.dialogMessageFormat,color:l.mediumBlue},f.errorBodyFormat={$extend:f.defaultTextFormat,color:l.crimson,size:13,lineHeight:16},f.defaultBodyGrayFormat={$extend:f.defaultBodyFormat,color:l.mediumGray,size:13,lineHeight:16},f.navigationBarLeftMenuItemFormat={$type:a,font:f.fonts.thin,color:l.dustyGray,size:17,lineHeight:18},f.navigationBarLeftMenuItemHoveredFormat={$extend:f.navigationBarLeftMenuItemFormat,font:f.fonts.book,color:l.whiteSmoke},f.navigationBarLeftMenuItemSelectedFormat={$extend:f.navigationBarLeftMenuItemFormat,font:f.fonts.book,color:l.whiteSmoke},f.seasonPickerPhoneItemFormat={$type:a,font:f.fonts.thin,color:l.dustyGray,size:27,lineHeight:48},f.seasonPickerPhoneSelectedItemFormat={$extend:f.seasonPickerPhoneItemFormat,color:l.whiteSmoke
},f.moreDropDownMenuItemFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:13,lineHeight:14},f.moreDropDownMenuItemHoveredFormat={$extend:f.moreDropDownMenuItemFormat,font:f.fonts.book},f.moreDropDownMenuItemSelectedFormat={$extend:f.moreDropDownMenuItemFormat,font:f.fonts.book},f.navigationBarRightMenuItemFormat={$type:a,font:f.fonts.book,color:l.dustyGray,size:11,lineHeight:12,uppercase:!0,letterSpacing:e(25,12)},f.settingsNameTextFormat={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,size:14,lineHeight:c.byDesign({ios:18,android:18,default:void 0})},f.settingsNameTextFormatBold={$extend:f.defaultBodyFormat,font:f.fonts.bold,color:l.whiteSmoke,size:14},f.settingsSignedInTextFormat={$extend:f.settingsNameTextFormat,lineHeight:24},f.settingsHeaderTextFormat={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,size:13},f.settingsDisclosureTextFormat={$extend:f.settingsNameTextFormat,font:f.fonts.book,color:l.mediumGray,size:12},f.settingsValueTextFormat={$extend:f.settingsNameTextFormat,color:l.dustyGray},f.settingsToggleTextFormat={$extend:f.settingsNameTextFormat,color:l.ceruleanBlue},f.userPasswordTextFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:16,lineHeight:17},f.PINDialogTitleFormat={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,size:15},f.PINDialogTextFormat={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,size:14},f.PINErrorTextFormat={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.crimson,size:15},f.PINSlotMachineTextFormat={$type:a,font:f.fonts.thinMono,color:l.smokeGray,size:23,lineHeight:24},f.TransientTextFormat={$type:a,font:f.fonts.medium,color:l.smokeGray,size:35,lineHeight:42},f.navigationBarRightMenuItemHoveredFormat={$extend:f.navigationBarRightMenuItemFormat,color:l.whiteSmoke},f.navigationBarWatchlistCountFormat={$type:a,font:f.fonts.medium,color:l.dustyGray,size:11,lineHeight:12,letterSpacing:e(25,12)},f.navigationBarWatchlistCountHoveredFormat={$extend:f.navigationBarWatchlistCountFormat,color:l.whiteSmoke},f.footerStaticTextFormat={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.dustyGray,size:11,letterSpacing:e(100,12)},f.footerLinksTextFormat={$extend:f.defaultBodyFormat,font:f.fonts.thin,color:l.dustyGray,size:11,lineHeight:c.byDesign({desktop:15,default:12})},f.footerLinksHoveredTextFormat={$extend:f.footerLinksTextFormat,font:f.fonts.book,color:l.whiteSmoke},f.promotedTileTitleTextFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,bold:!1,size:14,lineHeight:20},f.promotedTileUmbrellaTextFormat={$extend:f.promotedTileTitleTextFormat,color:l.smokeGray,bold:!1,size:11,uppercase:!0,letterSpacing:e(50,12)},f.promotedTileTaglineTextFormat={$extend:f.promotedTileTitleTextFormat,font:f.fonts.book,bold:!1,size:13},f.promotedTileSummaryTextFormat={$extend:f.promotedTileTitleTextFormat,font:f.fonts.book,color:l.dustyGray,bold:!1,size:12},f.promotedTileMetadataTextFormat={$extend:f.promotedTileTitleTextFormat,color:l.mediumGray,bold:!1,size:9,letterSpacing:e(100,10)},f.seeAllTileTextFormat={$extend:f.promotedTileTitleTextFormat,color:l.whiteSmoke,size:14,uppercase:!0,font:f.fonts.bold},f.mobilePromotedTileUmbrellaTextFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,bold:!1,size:9,lineHeight:12,uppercase:!0},f.mobilePromotedTileTitleTextFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,bold:!1,size:16,lineHeight:23},f.mobilePromotedTileTaglineTextFormat={$extend:f.mobilePromotedTileTitleTextFormat,font:f.fonts.book},f.mobilePromotedTileSummaryTextFormat={$extend:f.mobilePromotedTileTitleTextFormat,font:f.fonts.book,color:l.dustyGray,size:14,lineHeight:23},f.mobilePromotedTileMetadataTextFormat={$extend:f.mobilePromotedTileTitleTextFormat,color:l.mediumGray,size:11,lineHeight:14,letterSpacing:e(100,10)},f.mobileCollectionsTitleTextFormat={$extend:f.mobilePromotedTileTitleTextFormat,lineHeight:24},f.mobileCollectionsSummaryTextFormat={$extend:f.mobilePromotedTileSummaryTextFormat,lineHeight:24},f.watchLatestTitleTextFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,bold:!1,size:16,lineHeight:20},f.watchLatestTaglineTextFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,bold:!1,size:16,lineHeight:20},f.smallTileTitleTextFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,bold:!1,size:14,lineHeight:20},f.mobileTileTitleTextFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,bold:!1,size:15,lineHeight:20},f.smallTileUmbrellaTextFormat={$extend:f.smallTileTitleTextFormat,font:f.fonts.book,color:l.smokeGray,bold:!1,size:11,letterSpacing:e(100,10),uppercase:!0},f.smallTileTaglineTextFormat={$extend:f.smallTileTitleTextFormat,font:f.fonts.thin,color:l.dustyGray,bold:!1},f.mobileTileTaglineTextFormat={$extend:f.smallTileTitleTextFormat,font:f.fonts.thin,color:l.whiteSmoke,bold:!1},f.mobileTileSummaryTextFormat={$extend:f.smallTileTitleTextFormat},f.mobileTileMetadataTextFormat={$extend:f.smallTileTitleTextFormat},f.mediumTileTitleTextFormat={$extend:f.smallTileTitleTextFormat,size:17,lineHeight:18},f.mediumTileUmbrellaTextFormat={$extend:f.mediumTileTitleTextFormat,font:f.fonts.thin,bold:!1,uppercase:!0},f.mediumTileTaglineTextFormat={$extend:f.mediumTileTitleTextFormat,font:f.fonts.thin,bold:!1},f.largeTileTitleTextFormat={$type:a,color:l.whiteSmoke,font:f.fonts.thin,size:47,lineHeight:c.byDesign({android:61,desktop:58,default:54}),letterSpacing:e(-25,48)},f.largeTileUmbrellaTextFormat={$extend:f.largeTileTitleTextFormat,color:l.smokeGray,font:f.fonts.book,size:c.byDesign({desktop:11,mobile:13}),lineHeight:19,letterSpacing:e(100,12),uppercase:!0},f.largeTileSecondaryTextFormat={$extend:f.largeTileTitleTextFormat,font:f.fonts.thin,size:14,lineHeight:25,letterSpacing:e(-25,15)},f.smallCarouselTitleTextFormat={$type:a,color:l.whiteSmoke,font:f.fonts.thin,size:24,lineHeight:26,letterSpacing:e(38.5,24)},f.defaultFocusedTextFormat={$extend:f.defaultTextFormat,color:l.whiteSmoke};var m={$type:a,font:f.fonts.medium,size:13,letterSpacing:1,uppercase:!0};f.largeViolatorTextFormat={$extend:m,color:l.overlayBlue},f.largeLiveViolatorTextFormat={$extend:m,color:l.whiteSmoke};var v={$extend:m,size:11};f.smallViolatorTextFormat={$extend:v,color:l.overlayBlue},f.smallLiveViolatorTextFormat={$extend:v,color:l.whiteSmoke},f.interactiveTextFormat={$type:a,font:f.fonts.medium,color:c.byDesign({desktop:l.mediumGray,mobile:l.dustyGray}),size:9,lineHeight:22,uppercase:!0},f.interactiveTextFormatLarge={$extend:f.interactiveTextFormat,size:12,letterSpacing:1},f.ratingTextFormat={$type:a,font:f.fonts.medium,color:l.mediumGray,size:9,lineHeight:22,uppercase:!0},f.ratingTextFormatSmall={$type:a,font:f.fonts.medium,color:l.mediumGray,size:11},f.ratingTextFormatLarge={$type:a,font:f.fonts.medium,color:l.mediumGray,size:9},f.smallTextFormat={$type:a,font:f.fonts.thin,color:l.dustyGray,size:19,lineHeight:24},f.smallTextLinkFormat={$extend:f.smallTextFormat,color:l.ceruleanBlue},f.dialogTextFormat={$extend:f.defaultTextFormat,size:19,lineHeight:20,color:l.mediumGray},f.dialogLinkFormat={$extend:f.defaultTextFormat,size:19,lineHeight:20,color:l.ceruleanBlue},f.selectorTextFormat={$extend:f.defaultTextFormat,font:f.fonts.book,size:11,lineHeight:28,color:l.mineShaftGray},f.darkSelectorTextFormat={$extend:f.selectorTextFormat,color:l.dustyGray},f.playerTimeFormat=c.byDesign({desktop:{$extend:f.defaultTextFormat,font:f.fonts.thinMono,size:13},mobile:{$extend:f.defaultTextFormat,font:f.fonts.bookMono,color:l.whiteSmoke,size:16},daydream:{$extend:f.defaultTextFormat,font:f.fonts.mediumMono,color:l.whiteSmoke}}),f.playerTimelineMetadataFormat={$extend:f.defaultTextFormat,font:f.fonts.book,size:15,lineHeight:19},f.miniPlayerTimeFormat=c.byDesign({desktop:f.playerTimeFormat,mobile:{$extend:f.defaultTextFormat,font:f.fonts.thinMono,color:l.whiteSmoke,size:11,lineHeight:12}}),f.miniPlayerTimelineMetadataFormat=c.byDesign({desktop:f.playerTimeFormat,mobile:{$extend:f.defaultTextFormat,font:f.fonts.thinMono,color:l.dustyGray,size:11,lineHeight:12}}),f.miniPlayerTitleFormat=c.byDesign({desktop:f.playerTimelineMetadataFormat,mobile:{$extend:f.defaultTextFormat,font:f.fonts.medium,color:l.whiteSmoke,size:11,lineHeight:12}}),f.buttonFormat={$type:a,font:f.fonts.medium,color:p(l.darkBlue,.75),letterSpacing:e(100,9),size:9,lineHeight:25,uppercase:!0},f.buttonHoveredFormat={$extend:f.buttonFormat,color:l.darkBlue},f.callToActionButtonFormat={$extend:f.buttonFormat,color:p(l.smokeGray,.75),uppercase:!0},f.callToActionButtonHoveredFormat={$extend:f.buttonFormat,color:l.darkBlue,uppercase:!0},f.callToActionFullButtonFormat={$extend:f.callToActionButtonFormat,size:18,lineHeight:44},f.callToActionFullButtonHoveredFormat={$extend:f.callToActionButtonHoveredFormat,size:18,lineHeight:44};var _={$type:a,font:f.fonts.medium,size:9,letterSpacing:e(100,9),uppercase:!0};s(f,this._makeButtonFormats("settings",_,!0)),f.extrasCarouselHeadingTextFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:13,lineHeight:c.byDesign({mobile:14}),letterSpacing:c.byDesign({desktop:.5,default:0})},f.extrasCarouselHeadingCountTextFormat={$extend:f.extrasCarouselHeadingTextFormat,color:l.mediumGray},f.assetCreditsCategoryHeaderTextFormat={$type:a,font:f.fonts.medium,color:l.smokeGray,size:14,lineHeight:c.byDesign({ios:17}),letterSpacing:c.byDesign({mobile:.5,default:0})},f.assetCreditsNameTextFormat={$type:a,font:c.byDesign({desktop:f.fonts.thin,mobile:f.fonts.book}),color:l.smokeGray,size:13,lineHeight:20},f.assetCreditsNameTextFormatMobileSmall={$extend:f.assetCreditsNameTextFormat,size:12},f.assetCreditsNameTextFormatMobileLarge={$extend:f.assetCreditsNameTextFormat,size:14},f.assetCreditsSubcreditTextFormat={$extend:f.assetCreditsNameTextFormat,color:l.dustyGray},f.assetCreditsSubcreditTextFormatMobileSmall={$extend:f.assetCreditsSubcreditTextFormat,size:12},f.assetCreditsSubcreditTextFormatMobileLarge={$extend:f.assetCreditsSubcreditTextFormat,size:14},f.seasonNumbersTextFormat={$type:a,font:f.fonts.medium,color:l.dustyGray,size:15,lineHeight:34,letterSpacing:e(10,16),uppercase:!0},f.singleSeasonTextFormat={$extend:f.seasonNumbersTextFormat,font:f.fonts.thin},f.seasonNumbersHoveredFormat={$extend:f.seasonNumbersTextFormat,color:l.whiteSmoke},f.seasonNumbersSelectedFormat={$extend:f.seasonNumbersTextFormat,color:l.whiteSmoke},f.subHeaderText={$type:a,font:f.fonts.medium,color:l.smokeGray,size:14,uppercase:!0},f.subHeaderNumber={$extend:f.subHeaderText,color:l.mediumGray},f.franchiseHeaderSummaryFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:14,lineHeight:20},f.franchiseHeaderSummaryMarkdownUriFormat=f.franchiseHeaderSummaryFormat,f.franchiseHeaderSummaryMarkdownUriPostLinkFormat=f.franchiseHeaderSummaryFormat,f.franchiseHeaderLinkFormat={$type:a,font:f.fonts.bold,color:l.dustyGray,size:14,lineHeight:c.byDesign({ios:17}),uppercase:!0,letterSpacing:e(100,15)},f.franchiseHeaderLinkHoveredFormat={$extend:f.franchiseHeaderLinkFormat,color:l.smokeGray},f.franchiseHeaderHighlightedTextFormat={$extend:f.franchiseHeaderLinkFormat,color:l.whiteSmoke},f.AlphabetBarFormat={$type:a,font:f.fonts.book,size:15,lineHeight:16,color:l.dustyGray},f.AlphabetBarHoveredFormat={$extend:f.AlphabetBarFormat,color:l.whiteSmoke},f.AlphabetBarDisabledFormat={$extend:f.navigationBarLeftMenuItemFormat,color:l.mineShaftGray,lineHeight:c.byDesign({desktop:22,default:18})},f.AlphabetBarFormatMobile={$type:a,font:f.fonts.book,size:9,lineHeight:10,color:l.whiteSmoke},f.AlphabetBarDisabledFormatMobile={$extend:f.AlphabetBarFormatMobile,color:l.mineShaftGray},f.assetDetailBase={$type:a,font:f.fonts.medium,color:l.smokeGray,size:14},f.assetSeriesTitleEpisodeNumber={$extend:f.assetDetailBase,font:f.fonts.book,color:l.whiteSmoke},f.assetSeriesTitle={$extend:f.assetSeriesTitleEpisodeNumber,font:f.fonts.thin},f.assetSeriesSubheader={$extend:f.assetDetailBase,color:l.whiteSmoke,size:13,uppercase:!0},f.assetSeriesSubheaderCount={$extend:f.assetDetailBase,color:l.dustyGray,size:13},f.assetDetailsCopyUmbrella={$type:a,font:f.fonts.medium,color:l.smokeGray,size:c.byDesign({desktop:13,mobile:12}),letterSpacing:e(100,14),lineHeight:c.byDesign({mobile:13}),uppercase:!0},f.assetDetailsCopyTitle={$type:a,font:c.byDesign({desktop:f.fonts.thin,mobile:f.fonts.medium}),color:c.byScreen({tablet:l.whiteSmoke,default:l.smokeGray}),size:25,lineHeight:28},f.assetDetailsCopyEpisodeNumber={$extend:f.assetDetailsCopyTitle,font:f.fonts.book},f.assetDetailsCopySynopsis={$type:a,font:f.fonts.book,color:l.smokeGray,size:14,lineHeight:c.byDesign({desktop:24,mobile:24})},f.assetDetailsCopySynopsisTablet={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:15,lineHeight:26},f.assetDetailsCopyMetadata={$type:a,font:f.fonts.bold,color:l.mediumGray,size:10,lineHeight:24,letterSpacing:e(100,11)},f.assetDetailsCopyMetadataTablet={$type:a,font:f.fonts.thin,color:l.dustyGray,size:12,lineHeight:20,letterSpacing:2,uppercase:!0},f.assetDetailsSeriesTitleTablet={$extend:f.assetDetailsCopyMetadataTablet,size:14,lineHeight:14},f.assetDetailsCopyMetadataSmall={$extend:f.assetDetailsCopyMetadata,size:14},f.assetDetailsCopyAvailableUntil={$extend:f.assetDetailsCopyMetadata,font:f.fonts.book,size:10,italic:!0},f.regularActionButton={$type:a,font:f.fonts.book,color:l.ceruleanBlue,size:14,lineHeight:17},f.boldActionButton={$type:a,font:f.fonts.bold,color:l.ceruleanBlue,size:14,lineHeight:17},f.assetDetailsMobilePreviewOrWatchlist={$type:a,font:f.fonts.medium,color:l.ceruleanBlue,size:14,lineHeight:17,letterSpacing:e(100,11),uppercase:!0},f.seriesLandingTitleTextFormat={$type:a,color:l.whiteSmoke,font:f.fonts.thin,size:c.byScreen({phone:22,tablet:42,monitor:47}),lineHeight:c.byScreen({phone:28,tablet:52,monitor:56}),letterSpacing:c.byScreen({phone:0,default:e(-25,48)})},f.seriesLandingAboutTextFormat=c.byScreen({phone:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:16,lineHeight:20},default:{$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:15,lineHeight:c.byScreen({tablet:16}),letterSpacing:e(12.5,16)}}),f.seriesLandingDetailsCopyTextFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:14,lineHeight:24},f.collectionsLandingTitle={$type:a,font:f.fonts.book,size:23,lineHeight:26,color:l.whiteSmoke},f.collectionsLandingSummary={$type:a,font:f.fonts.book,size:14,lineHeight:23,color:l.dustyGray},f.collectionsLandingCollectionCount={$type:a,font:f.fonts.book,color:l.mediumGray,size:11,lineHeight:14,letterSpacing:e(100,10)},f.collectionsDetailsTitle={$type:a,font:f.fonts.thin,size:47,color:l.whiteSmoke},f.collectionsDetailsSmallTagline={$type:a,font:f.fonts.thin,size:14,lineHeight:18,color:l.whiteSmoke},f.collectionsDetailsLargeTagline={$extend:f.collectionsDetailsSmallTagline,size:17,lineHeight:30,color:l.whiteSmoke},f.collectionsDetailsSmallTitle={$type:a,font:f.fonts.thin,size:23,lineHeight:26,color:l.whiteSmoke},f.collectionsDetailsLargeTitle={$type:a,font:f.fonts.thin,size:31,lineHeight:41,color:l.whiteSmoke},f.collectionsDetailsTileTitle={$type:a,font:f.fonts.medium,size:15,lineHeight:20,color:l.whiteSmoke},f.collectionsTitle=c.byScreen({phone:f.collectionsDetailsSmallTitle,tablet:f.collectionsDetailsLargeTitle,monitor:f.collectionsDetailsTitle}),f.searchHeaderFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:21},f.searchTermsFormat={$type:a,font:f.fonts.book,color:l.opaqueBlack,size:c.byDesign({ios:h({phone:14,default:15}),default:15}),lineHeight:c.byDesign({ios:h({phone:18,default:19}),default:19})},f.searchPlaceholderFormat={$type:a,font:f.fonts.book,color:l.dustyGray,size:c.byDesign({ios:h({phone:14,default:15}),default:15}),lineHeight:c.byDesign({ios:h({phone:18,default:20})})},f.searchResultCountFormat={$type:a,font:f.fonts.thin,color:l.dustyGray,size:13,lineHeight:c.byDesign({ios:21,android:17})},f.searchLoadingFormat={$type:a,font:f.fonts.book,color:l.smokeGray,size:17,lineHeight:29},f.termsPageCopySubHeader={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:13,lineHeight:17},f.termsPageCopyParagraphHeader={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:13,lineHeight:17},f.termsPageCopyText={$extend:f.termsPageCopyParagraphHeader,color:l.dustyGray},f.termsPageCopyLink={$extend:f.termsPageCopyParagraphHeader,color:l.ceruleanBlue},f.closedCaptionOverlayTabOption={$type:a,font:f.fonts.medium,color:l.mediumGray,size:14,letterSpacing:e(10,15)},f.closedCaptionOverlayTabOptionActive={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:14,bold:!0},f.closedCaptionOverlayDropdownTitle={$type:a,font:f.fonts.bold,color:l.smokeGray,size:11,lineHeight:12,letterSpacing:e(50,12)},f.closedCaptionOverlayDropdownOption={$type:a,font:f.fonts.bold,color:l.dustyGray,uppercase:!0,size:10,lineHeight:22,letterSpacing:e(100,11)},f.playerTrickplayTime={$type:a,font:f.fonts.thinMono,color:l.whiteSmoke,size:11},f.playerUpNextLink={$type:a,font:h({monitor:f.fonts.bold,phone:f.fonts.medium,tablet:f.fonts.medium}),color:l.dustyGray,size:h({monitor:13,phone:9,tablet:11}),letterSpacing:e(100,12)},f.playerUpNextLinkTiming={$type:a,font:h({monitor:f.fonts.bold,phone:f.fonts.medium,tablet:f.fonts.medium}),color:l.dustyGray,size:h({phone:9,default:11}),letterSpacing:e(100,12)},f.playerUpNextTitle={$type:a,font:f.fonts.bold,color:l.whiteSmoke,size:11,letterSpacing:e(100,12),uppercase:!0},f.playerUpNextEpisodeNumber={$extend:f.playerUpNextTitle,font:f.fonts.book},f.playerUpNextSummary={$type:a,font:h({monitor:f.fonts.thin,phone:f.fonts.book,tablet:f.fonts.book}),color:l.whiteSmoke,size:h({phone:13,default:17}),lineHeight:c.byDesign({ios:h({phone:16,default:21})})},f.playerUpNextRating={$type:a,font:f.fonts.book,color:l.dustyGray,size:h({phone:8,tablet:11})},f.closedCaptionToggleTitle={$type:a,font:f.fonts.bold,color:l.whiteSmoke,size:10},f.closedCaptionToggleText={$type:a,font:f.fonts.medium,color:l.dustyGray,size:9,letterSpacing:e(10,9),uppercase:!0},f.closedCaptionToggleTextActive={$extend:f.closedCaptionToggleText,color:l.ceruleanBlue},f.affiliateListTextFormat={$extend:f.defaultTextFormat,font:f.fonts.book,size:15,lineHeight:19},f.affiliateSubHeadTextFormat={$extend:f.defaultTextFormat,font:f.fonts.book,size:13,lineHeight:17},f.affiliateSubHeadTextLinkFormat={$extend:f.affiliateSubHeadTextFormat,font:f.fonts.thin,color:l.ceruleanBlue,size:13,lineHeight:21},f.affiliateSubHeadTextLinkHoveredFormat={$extend:f.affiliateSubHeadTextLinkFormat,color:l.mediumBlue},f.affiliateSubHeadBoldTextFormat={$extend:f.affiliateSubHeadTextFormat,font:f.fonts.bold},f.largeButtonTextFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,size:15,color:l.whiteSmoke},f.largeButtonPressedTextFormat={$extend:f.largeButtonTextFormat,color:p(l.whiteSmoke,.87)},f.largeButtonDisabledTextFormat={$extend:f.largeButtonTextFormat,color:l.mediumGray},f.smallButtonLinkTextFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,size:15,color:l.ceruleanBlue},f.genreNavFormat={$type:a,font:f.fonts.medium,color:c.byDesign({desktop:l.dustyGray,mobile:l.mediumGray}),size:c.byDesign({desktop:14,mobile:13}),letterSpacing:c.byDesign({desktop:e(100,15),mobile:0}),lineHeight:c.byDesign({mobile:14}),uppercase:!0},f.genreNavHoveredFormat={$extend:f.genreNavFormat,color:l.whiteSmoke},f.genreNavSelectedFormat={$extend:f.genreNavFormat,color:l.whiteSmoke},f.pageTitle=c.byDesign({desktop:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:25,lineHeight:26},mobile:c.byBrand({hbogo:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:25,lineHeight:26},hbonow:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:15,lineHeight:16}})}),f.passwordChallengeFormTitle={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:15,lineHeight:c.byDesign({ios:17})},f.passwordChallengeFormTitleLink={$type:a,font:f.fonts.thin,color:l.ceruleanBlue,size:14,lineHeight:c.byDesign({ios:17,default:void 0})},f.formInstructionsHeaderFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:13},f.formInstructionsSubHeaderFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:17,lineHeight:18},f.formInstructionsDetailsFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:13,lineHeight:17},f.formSteppingFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:12,lineHeight:17,letterSpacing:e(125,12),uppercase:!0},f.formInstructionsDetailsLinkFormat={$extend:f.formInstructionsDetailsFormat,color:l.ceruleanBlue},f.smallFormInstructionsDetailsFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:11,lineHeight:14},f.formInstructionsLinkFormat={$extend:f.formInstructionsDetailsFormat,color:l.ceruleanBlue},f.formInstructionsLinkHoveredFormat={$extend:f.formInstructionsDetailsFormat,color:l.mediumBlue},f.formInstructionsDetailsLinkFormat={$extend:f.formInstructionsDetailsFormat,color:l.ceruleanBlue},f.formInstructionsDetailsLinkHoveredFormat={$extend:f.formInstructionsDetailsFormat,color:l.whiteSmoke},f.directLoginUserPasswordTextFormat={$extend:f.userPasswordTextFormat,color:l.mineShaftGray,size:13,lineHeight:c.byScreen({tablet:16,default:14})},f.directLoginOptionalHintFormat={$extend:f.userPasswordTextFormat,color:l.dustyGray,size:13,lineHeight:c.byScreen({phone:16,default:14})},f.directLoginFormInstructionsHeaderFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:11,lineHeight:17},f.directLoginFormInstructionsSubHeaderFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:15,lineHeight:17},f.directLoginFormInstructionsDetailsSmallFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:11,lineHeight:17},f.directLoginFormInstructionsDetailsLargeFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:11,lineHeight:17},f.directLoginFormInstructionsDetailsLargeLinkFormat={$extend:f.directLoginFormInstructionsDetailsLargeFormat,color:l.ceruleanBlue},f.registrationFormInstructionsSubHeaderLargeFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:25,letterSpacing:e(14,26)},f.formFieldLabelFormat={$type:a,font:f.fonts.medium,color:c.byDesign({desktop:l.dustyGray,mobile:c.byBrand({hbonow:l.whiteSmoke,hbogo:l.dustyGray})}),size:c.byDesign({desktop:11,mobile:c.byBrand({hbonow:13,hbogo:11})}),lineHeight:c.byDesign({ios:c.byBrand({hbonow:16})})},f.formValueFormat={$extend:f.formFieldLabelFormat,font:f.fonts.book,color:g},f.registrationFormValueFormat={$extend:f.formFieldLabelFormat,font:f.fonts.thin,color:l.whiteSmoke,lineHeight:17,letterSpacing:e(12,12)},f.optionalHintFormat={$extend:f.formFieldLabelFormat,font:f.fonts.thin,color:l.dustyGray},f.optionalDescriptorFormat={$type:a,font:f.fonts.book,color:l.dustyGray,size:9},f.disclosureTextFormat={$extend:f.optionalDescriptorFormat,lineHeight:c.byDesign({ios:12})},f.optionalHighContrastDescriptorFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:c.byDesign({desktop:10,default:9})},f.dropDownOptionFormat={$type:a,font:f.fonts.book,color:l.mineShaftGray,size:11,lineHeight:28};var y={$type:a,font:f.fonts.bold,size:11,letterSpacing:e(100,12),uppercase:!0};s(f,this._makeButtonFormats("form",y,!0));var w={$type:a,font:f.fonts.medium,size:15,letterSpacing:e(25,16),uppercase:!1,lineHeight:c.byDesign({ios:16})};s(f,this._makeButtonFormats("directLoginForm",w,!1));var b={$extend:y,font:f.fonts.medium,size:13,letterSpacing:e(14,14),uppercase:!1};s(f,this._makeButtonFormats("activationClientForm",b,!1)),f.profileStaticFormFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:11},f.billingInformationMessageFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:13,lineHeight:17},f.billingInformationMessageStrongFormat={$extend:f.billingInformationMessageFormat,font:f.fonts.medium},f.billingInformationMessageLinkFormat={$extend:c.byDesign({desktop:f.billingInformationMessageFormat,mobile:f.billingInformationMessageStrongFormat}),color:l.mediumBlue},f.billingInformationMessageLinkHoverFormat={$extend:c.byDesign({desktop:f.billingInformationMessageFormat,mobile:f.billingInformationMessageStrongFormat}),color:l.ceruleanBlue},f.billingInformationAutoNenewToggleLabelFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:12,lineHeight:30},f.billingInformationCallToAction={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:13,uppercase:!0,letterSpacing:1.6},f.settingsNavigationLinkFormat={$type:a,font:f.fonts.thin,color:l.dustyGray,size:20,lineHeight:23},f.settingsNavigationHoveredFormat={$extend:f.settingsNavigationLinkFormat,color:l.whiteSmoke},f.settingsNavigationActiveFormat={$extend:f.settingsNavigationLinkFormat,font:f.fonts.medium,color:l.whiteSmoke},f.settingsNavigationSubItemLinkFormat={$type:a,font:f.fonts.thin,color:l.dustyGray,size:15,lineHeight:16},f.settingsNavigationSubItemHoveredFormat={$extend:f.settingsNavigationSubItemLinkFormat,color:l.whiteSmoke},f.settingsNavigationSubItemActiveFormat={$extend:f.settingsNavigationSubItemLinkFormat,font:f.fonts.medium,color:l.whiteSmoke},f.settingsClosedCaptionsBody={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:15,lineHeight:16},f.formErrorMessageFormat={$type:a,font:f.fonts.medium,color:l.crimson,size:11,lineHeight:14},f.formProfileErrorMessageFormat={$type:a,font:f.fonts.book,color:l.crimson,size:13,lineHeight:14},f.signinFormErrorMessageFormat={$type:a,font:f.fonts.medium,color:l.crimson,size:12,lineHeight:14},f.fieldErrorMessageFormat={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:11,lineHeight:14},f.mobileFieldErrorMessageFormat={$type:a,font:f.fonts.book,color:l.crimson,size:11,lineHeight:14},f.activationClientFieldErrorMessageFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:11,lineHeight:17},f.smallCheckboxFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:9,lineHeight:c.byDesign({ios:14,default:12})},f.smallCheckboxLinksFormat={$extend:f.smallCheckboxFormat,color:l.ceruleanBlue},f.smallCheckboxLinksHoveredFormat={$extend:f.smallCheckboxFormat,color:l.ceruleanBlue},f.mediumCheckboxFormat={$extend:f.smallCheckboxFormat,size:11,lineHeight:14,font:f.fonts.book},f.mediumCheckboxLink={$extend:f.mediumCheckboxFormat,color:l.ceruleanBlue},f.helpFooterCopyFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:13},f.helpFooterLinkFormat={$extend:f.helpFooterCopyFormat,color:c.byDesign({desktop:l.dustyGray,mobile:l.ceruleanBlue})},f.helpFooterLinkHoveredFormat={$extend:f.helpFooterCopyFormat,color:l.whiteSmoke},f.smallHelpFooterCopyFormat={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:11,lineHeight:14},f.smallHelpFooterLinkFormat={$extend:f.smallHelpFooterCopyFormat,color:c.byDesign({desktop:l.dustyGray,mobile:l.ceruleanBlue})},f.smallHelpFooterLinkHoveredFormat={$extend:f.smallHelpFooterCopyFormat,color:l.whiteSmoke},f.signInBodyFormat={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,size:14},f.signInHeadingFormat={$extend:f.signInBodyFormat,font:f.fonts.bold,uppercase:!0},f.signInHyperlinkFormat={$extend:f.signInBodyFormat,color:l.ceruleanBlue},f.smallHyperlinkFormat={$extend:f.signInHyperlinkFormat,size:11,lineHeight:14},f.signInPageLink={$type:a,font:f.fonts.book,size:13,lineHeight:16,color:l.ceruleanBlue,letterSpacing:e(100,5)},f.signInHereLink={$extend:f.signInPageLink,color:l.dustyGray},f.signInFormInstructionsFormat={$extend:f.formInstructionsDetailsFormat,lineHeight:19},f.showHideButtonFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,color:l.mediumBlue,size:c.byDesign({desktop:10,mobile:13}),letterSpacing:1},f.showHideButtonHoveredFormat={$extend:f.showHideButtonFormat,color:l.ceruleanBlue},f.showHideButtonDisabledFormat={$extend:f.showHideButtonFormat,color:l.dustyGray},f.dontSeeProviderLinkFormat=c.byDesign({desktop:f.helpFooterLinkFormat,mobile:{$extend:f.signInPageLink,size:11,lineHeight:15}}),f.signingInFormat={$extend:f.collectionsDetailsSmallTagline,size:h({phone:27,tablet:34}),lineHeight:h({phone:29,tablet:35})},f.legalCopyFormat={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.whiteSmoke,size:c.byDesign({desktop:14,default:13}),lineHeight:c.byDesign({mobile:22,default:17})},f.applicationVersionLabel={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.dustyGray,size:13,lineHeight:17},f.developerSettingsSectionLabelFormat={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.whiteSmoke,size:16,lineHeight:20},f.developerSettingsTextFormat={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.whiteSmoke,size:13,lineHeight:17},f.developerSettingsLinkFormat={$extend:f.developerSettingsTextFormat,color:l.dustyGray},f.developerSettingsLinkHoveredFormat={$extend:f.developerSettingsTextFormat,color:l.whiteSmoke},f.homeFeaturedRatingFormat={$extend:f.ratingTextFormat,color:l.whiteSmoke},f.homeFeaturedUmbrellaFormat={$extend:f.ratingTextFormat,size:c.byDesign({desktop:11,mobile:13}),lineHeight:19,color:l.smokeGray,letterSpacing:e(100,12),uppercase:!0},f.homeFeaturedTitleFormat={$extend:f.defaultTextFormat,font:f.fonts.thin,size:44,lineHeight:c.byDesign({android:53,default:48}),color:l.whiteSmoke,letterSpacing:e(-25,48)},f.homeFeaturedSecondaryFormat={$extend:f.homeFeaturedTitleFormat,font:f.fonts.book,size:14,lineHeight:25},f.landingPageRowHeaderFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,size:13,lineHeight:c.byDesign({android:22,default:14}),color:l.dustyGray,uppercase:!0},f.landingPageRowHeaderHoveredFormat={$extend:f.landingPageRowHeaderFormat,color:l.whiteSmoke},f.landingPagePromotedRowHeaderFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,size:14,lineHeight:c.byDesign({desktop:19,default:15}),color:l.whiteSmoke,uppercase:!0},f.landingPagePromotedRowHeaderCountFormat={$extend:f.landingPagePromotedRowHeaderFormat,color:l.mediumGray},f.landingPagePromotedRowHeaderCountHoveredFormat={$extend:f.landingPagePromotedRowHeaderCountFormat,color:l.mediumGray},f.franchiseLandingPageCatalogHeaderFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,size:17,color:l.whiteSmoke,uppercase:!0},f.franchiseLandingPageCategoryHeaderFormat=c.byDesign({desktop:{$extend:f.defaultTextFormat,font:f.fonts.thin,size:17,color:l.whiteSmoke},mobile:{$extend:f.defaultTextFormat,font:f.fonts.book,size:15,color:l.whiteSmoke}}),f.featuredSideBySidePanelRecency={$extend:f.defaultTextFormat,font:f.fonts.medium,size:9,lineHeight:12,color:l.mediumGray,letterSpacing:e(100,10)},f.featuredSideBySidePanelSummary={$extend:f.defaultTextFormat,font:f.fonts.thin,size:12,lineHeight:c.byDesign({desktop:20,default:17}),color:l.whiteSmoke,letterSpacing:e(50,13)},f.featuredSideBySidePanelTagline={$extend:f.defaultTextFormat,font:f.fonts.thin,size:20,lineHeight:24,color:l.whiteSmoke,letterSpacing:e(50,22)},f.featuredSideBySidePanelTitle={$extend:f.defaultTextFormat,font:f.fonts.thin,size:20,lineHeight:24,color:l.whiteSmoke,letterSpacing:e(50,22)},f.featuredSideBySidePanelUmbrella={$extend:f.defaultTextFormat,font:f.fonts.medium,size:13,lineHeight:14,color:l.whiteSmoke,letterSpacing:e(50,14),uppercase:!0},f.overlayTitle={$type:a,font:f.fonts.book,size:24,color:l.whiteSmoke},f.interactiveCoachTitleFormat={$extend:f.overlayTitle,font:f.fonts.bold,color:l.whiteSmoke,size:h({tablet:17,phone:17,monitor:18}),uppercase:!0},f.interactiveCoachInfoFormat={$extend:f.overlayTitle,color:l.whiteSmoke,size:h({tablet:14,phone:13,monitor:17}),lineHeight:c.byDesign({ios:h({tablet:17,phone:16})})},f.liveInfoTitleFormat={$extend:f.overlayTitle,size:c.byDesign({mobile:14,desktop:18}),uppercase:!0},f.overlayPrompt={$type:a,font:f.fonts.book,size:17,color:l.whiteSmoke},f.overlayMessage={$type:a,font:f.fonts.thin,size:14,lineHeight:20,color:l.whiteSmoke},f.overlayMessageMono={$extend:f.overlayMessage,font:f.fonts.thinMono},f.overlayMessageSmall={$type:a,font:f.fonts.book,size:11,lineHeight:15,color:l.whiteSmoke},f.overlayLinkInitial={$extend:f.overlayMessage,color:l.ceruleanBlue},f.overlayLinkHovered={$extend:f.overlayMessage,color:l.mediumBlue},f.watchlistContinueWatchingHeaderFormat={$extend:f.defaultTextFormat,font:f.fonts.thin,color:l.whiteSmoke,size:20,lineHeight:22},f.watchlistContinueWatchingDropdownOptionFormat={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.dustyGray,size:11,lineHeight:28},f.watchlistContinueWatchingClearAllFormat=f.watchlistContinueWatchingDropdownOptionFormat,f.watchlistContinueWatchingCheckboxFormat={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.whiteSmoke,size:11},f.watchListContinueWatchingMessageFormat={
$extend:f.watchlistContinueWatchingHeaderFormat,size:17,lineHeight:26},f.watchListContinueWatchingMessageLinkFormat={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.dustyGray,size:13,lineHeight:28},f.continueWatchingToastTitleFormat={$type:a,font:f.fonts.bold,color:l.dustyGray,lineHeight:64,size:c.byScreen({tablet:14,default:11}),uppercase:!0,letterSpacing:c.byScreen({tablet:.25,default:0})},f.continueWatchingToastCompactTitleFormat={$type:a,font:f.fonts.bold,color:l.dustyGray,lineHeight:10,size:9,uppercase:!1},f.continueWatchingToastItemFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,lineHeight:64,size:c.byScreen({tablet:14,default:11}),letterSpacing:c.byScreen({tablet:.25,default:.5})},f.continueWatchingToastCompactItemFormat={$type:a,font:f.fonts.thin,color:l.whiteSmoke,lineHeight:c.byDesign({android:19,default:15}),size:14,letterSpacing:c.byScreen({tablet:.25,phone:0})},f.continueWatchingToastSeriesItemFormat={$extend:f.continueWatchingToastItemFormat,font:f.fonts.medium},f.continueWatchingToastSeriesCompactItemFormat={$extend:f.continueWatchingToastCompactItemFormat,font:f.fonts.medium},f.continueWatchingToastRemainingFormat=c.byDesign({mobile:{$type:a,font:f.fonts.thin,color:l.dustyGray,lineHeight:c.byScreen({phone:void 0,default:64}),size:14},desktop:{$type:a,font:f.fonts.thin,color:l.dustyGray,lineHeight:64,size:11}}),f.playlistControlsTitleFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,color:l.whiteSmoke,size:14,lineHeight:18},f.playlistControlsCountFormat={$extend:f.defaultTextFormat,font:f.fonts.book,color:l.dustyGray,size:14,lineHeight:18},f.playlistControlsTileTitleFormat={$extend:f.defaultTextFormat,font:f.fonts.medium,color:l.dustyGray,size:10,lineHeight:13},f.playlistControlsTileTitleFormatSelected={$extend:f.playlistControlsTileTitleFormat,color:l.whiteSmoke},f.errorHeader={$extend:f.defaultTextFormat,font:f.fonts.book,size:24,lineHeight:26,color:l.whiteSmoke},f.errorMessage={$extend:f.errorHeader,font:f.fonts.thin,size:13,lineHeight:14},f.errorServiceTraceId={$extend:f.defaultTextFormat,font:f.fonts.thin,size:11,lineHeight:12,color:l.mediumGray},f.errorMessageLink={$extend:f.errorMessage,color:l.ceruleanBlue},f.errorMessageLinkHover={$extend:f.errorMessage,color:l.ceruleanBlue},f.errorServiceTraceId={$extend:f.defaultTextFormat,font:f.fonts.thin,size:11,lineHeight:12,color:l.mediumGray},f.chromecastAssetText={$extend:f.defaultBodyFormat,font:f.fonts.medium,color:l.whiteSmoke,size:15,lineHeight:20},f.chromecastNoInteractiveMessageText={$type:a,font:f.fonts.book,color:l.dustyGray,size:13},f.chromecastAssetTitle={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:12},f.chromecastSeasonInfo={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:12},f.chromecastSeriesTitle={$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:13},f.chromecastSubText={$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,size:13,lineHeight:20},f.chromecastButtonText={$extend:f.defaultBodyFormat,font:f.fonts.medium,color:l.ceruleanBlue,size:13},f.chromecastReceiverNameText={$extend:f.chromecastButtonText,color:p(l.whiteSmoke,.87)},f.airPlayNoInteractiveMessage=h({monitor:{$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.dustyGray,lineHeight:14,size:13},tablet:{$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.dustyGray,lineHeight:14,size:13},phone:{$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.dustyGray,lineHeight:12,size:11}}),f.airPlayMessage=h({monitor:{$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,lineHeight:20,size:16},tablet:{$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,lineHeight:20,size:16},phone:{$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,lineHeight:20,size:13}}),f.interactiveDocumentTitle=h({monitor:{$extend:f.defaultBodyFormat,font:f.fonts.book,color:l.whiteSmoke,size:13},tablet:{$extend:f.defaultBodyFormat,font:f.fonts.medium,color:l.whiteSmoke,size:16,lineHeight:17},phone:{$extend:f.defaultBodyFormat,font:f.fonts.medium,color:l.whiteSmoke,size:11}}),f.interactiveMenu=d({$type:a,color:l.dustyGray,size:11,letterSpacing:.5,$number:{font:f.fonts.medium,$hovered:{color:l.whiteSmoke},$current:{color:l.gainsboroGray,$hovered:{color:l.whiteSmoke}}},$title:{font:f.fonts.book,lineHeight:13,$hovered:{color:l.whiteSmoke},$current:{font:f.fonts.bold,color:l.gainsboroGray,letterSpacing:.75,$hovered:{color:l.whiteSmoke}}}}),f.welcomeOverlay=c.byScreen({tablet:{greeting:{$type:a,font:f.fonts.medium,color:l.dustyGray,size:18,lineHeight:24,uppercase:!0},title:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:44,lineHeight:58},text:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:17,lineHeight:22},textLink:{$type:a,font:f.fonts.medium,color:l.ceruleanBlue,size:17,lineHeight:22},devicesText:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:15,lineHeight:19},devicesLink:{$type:a,font:f.fonts.medium,color:l.ceruleanBlue,size:15,lineHeight:19},callToAction:{$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:16,lineHeight:20}},phone:{greeting:{$type:a,font:f.fonts.medium,color:l.dustyGray,size:13,lineHeight:17,uppercase:!0},title:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:26,lineHeight:34},text:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:12,lineHeight:16},textLink:{$type:a,font:f.fonts.medium,color:l.ceruleanBlue,size:12,lineHeight:16},devicesText:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:14,lineHeight:15},devicesLink:{$type:a,font:f.fonts.medium,color:l.ceruleanBlue,size:14,lineHeight:15},callToAction:{$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:16,lineHeight:20}},monitor:{greeting:{$type:a,font:f.fonts.book,color:l.dustyGray,size:17,uppercase:!0},title:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:44},text:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:17,lineHeight:24},strongText:{$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:17,lineHeight:24},devicesLink:{$type:a,font:f.fonts.thin,color:l.ceruleanBlue,size:17,lineHeight:24},devicesLinkHover:{$type:a,font:f.fonts.thin,color:l.mediumBlue,size:17,lineHeight:24},callToAction:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:18,uppercase:!0,letterSpacing:1.6},helpText:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:17},helpLink:{$type:a,font:f.fonts.thin,color:l.dustyGray,size:17},helpLinkHover:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:17}}}),f.popupTitle={$type:a,font:f.fonts.bold,color:l.whiteSmoke,size:c.byScreen({phone:12,default:15})},f.popupMessage={$type:a,font:f.fonts.book,color:l.whiteSmoke,size:c.byScreen({phone:12,default:15})},f.popupButton={$type:a,font:f.fonts.bold,color:l.whiteSmoke,size:c.byScreen({phone:11,default:13})},f.popupLink={$type:a,font:f.fonts.book,color:l.ceruleanBlue,size:c.byScreen({phone:12,default:15})},f.confirmationOverlay=c.byScreen({phone:{greeting:{$extend:f.welcomeOverlay.greeting,font:f.fonts.medium,color:l.dustyGray,size:13,uppercase:!0},title:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:29,lineHeight:34},text:{$extend:f.welcomeOverlay.text,font:f.fonts.thin,color:l.whiteSmoke,size:13,lineHeight:18},labelText:{$extend:f.welcomeOverlay.text,font:f.fonts.book,color:l.dustyGray,size:13,lineHeight:18},valueText:{$extend:f.welcomeOverlay.text,font:f.fonts.book,color:l.whiteSmoke,size:13,lineHeight:18},strongText:{$extend:f.welcomeOverlay.text,font:f.fonts.book,color:l.whiteSmoke,size:13,lineHeight:18},textLink:{$extend:f.welcomeOverlay.textLink,font:f.fonts.medium,color:l.ceruleanBlue,size:12,lineHeight:16},callToAction:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:16}},tablet:{greeting:{$extend:f.welcomeOverlay.greeting,font:f.fonts.medium,color:l.dustyGray,size:17,uppercase:!0},title:{$type:a,font:f.fonts.thin,color:l.whiteSmoke,size:44},text:{$extend:f.welcomeOverlay.text,font:f.fonts.thin,color:l.whiteSmoke,size:17},labelText:{$extend:f.welcomeOverlay.text,font:f.fonts.book,color:l.dustyGray,size:15},valueText:{$extend:f.welcomeOverlay.text,font:f.fonts.book,color:l.whiteSmoke,size:15},strongText:{$extend:f.welcomeOverlay.text,font:f.fonts.book,color:l.whiteSmoke,size:15},textLink:{$extend:f.welcomeOverlay.textLink,font:f.fonts.thin,color:l.ceruleanBlue,size:17},callToAction:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:16}},monitor:{greeting:f.welcomeOverlay.greeting,title:f.welcomeOverlay.title,text:f.welcomeOverlay.text,labelText:{$type:a,font:f.fonts.medium,color:l.dustyGray,size:17,lineHeight:24},valueText:{$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:17,lineHeight:24},strongText:f.welcomeOverlay.strongText,textLink:f.welcomeOverlay.textLink,callToAction:f.welcomeOverlay.callToAction}}),u({mobile:function(){f.nav=d({$type:a,color:"whiteSmoke",font:"book",$menu:{$small:{size:16},$large:{font:"book",size:27,$watchlistCount:{color:"dustyGray"}}},$title:{size:16,lineHeight:20},$videoTitle:{size:16,font:"medium",lineHeight:20},$cc:{size:14,font:"medium",uppercase:!0,$save:{color:"ceruleanBlue"},$title:{size:15}},$videoTagline:{size:16},$link:{size:14,lineHeight:c.byDesign({ios:18}),color:"ceruleanBlue",$left:{font:"book",$disabled:{color:"mediumGray"}},$right:{font:"medium",$disabled:{color:"mediumGray"}}}},void 0,{color:function(e){return l[e]},font:function(e){return f.fonts[e]}})}}),f.coachmarkPopup={title:{$type:a,font:f.fonts.bold,color:l.whiteSmoke,size:17,lineHeight:22},message:{$type:a,font:f.fonts.book,color:l.whiteSmoke,size:17,lineHeight:22},button:{$type:a,font:f.fonts.medium,color:l.whiteSmoke,size:15,lineHeight:c.byDesign({mobile:16})},link:{$type:a,font:f.fonts.book,color:l.ceruleanBlue,size:17,lineHeight:22}},f.pageBandHeaderLabelText={$type:a,font:f.fonts.medium,color:l.smokeGray,size:14,lineHeight:20,uppercase:!0},f.pageBandHeaderLabelCount={$extend:f.pageBandHeaderLabelText,color:l.mediumGray},f.pageBandHeaderLabelHyperlinkHovered={$extend:f.pageBandHeaderLabelText,color:l.whiteSmoke},f.pageBandHeaderLabelHyperlinkPressed={$extend:f.pageBandHeaderLabelText,color:l.dustyGray},f.pageBandHeaderDescription={$type:a,font:f.fonts.book,color:l.dustyGray,size:12,lineHeight:16}}})})})}(),function(){"use strict";define("ui/FlexDirection",["core/oop"],function(e){return e.enumDef("ui.FlexDirection",["COLUMN","ROW","COLUMN_REVERSE","ROW_REVERSE"])})}(),function(){"use strict";define("ui/ContentJustification",["core/oop"],function(e){return e.enumDef("ui.ContentJustification",["START","CENTER","END","SPACE_BETWEEN","SPACE_AROUND"])})}(),function(){"use strict";define("ui/ContentAlignment",["core/oop"],function(e){return e.enumDef("ui.ContentAlignment",["START","CENTER","END","STRETCH"])})}(),function(e,t){"use strict";"function"==typeof define&&define.amd?define("lib/cssLayout",[],t):"object"==typeof exports?module.exports=t():e.computeLayout=t()}(this,function(){"use strict";var e=function(){function e(t){return t.layout&&!t.isDirty||(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(e),t}function t(e){return void 0===e}function i(e){return e===U||e===$}function n(e){return e===W||e===j}function o(e,t){if(void 0!==e.style.marginStart&&i(t))return e.style.marginStart;var n=null;switch(t){case"row":n=e.style.marginLeft;break;case"row-reverse":n=e.style.marginRight;break;case"column":n=e.style.marginTop;break;case"column-reverse":n=e.style.marginBottom}return void 0!==n?n:void 0!==e.style.margin?e.style.margin:0}function r(e,t){if(void 0!==e.style.marginEnd&&i(t))return e.style.marginEnd;var n=null;switch(t){case"row":n=e.style.marginRight;break;case"row-reverse":n=e.style.marginLeft;break;case"column":n=e.style.marginBottom;break;case"column-reverse":n=e.style.marginTop}return null!=n?n:void 0!==e.style.margin?e.style.margin:0}function a(e,t){if(void 0!==e.style.paddingStart&&e.style.paddingStart>=0&&i(t))return e.style.paddingStart;var n=null;switch(t){case"row":n=e.style.paddingLeft;break;case"row-reverse":n=e.style.paddingRight;break;case"column":n=e.style.paddingTop;break;case"column-reverse":n=e.style.paddingBottom}return null!=n&&n>=0?n:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}function s(e,t){if(void 0!==e.style.paddingEnd&&e.style.paddingEnd>=0&&i(t))return e.style.paddingEnd;var n=null;switch(t){case"row":n=e.style.paddingRight;break;case"row-reverse":n=e.style.paddingLeft;break;case"column":n=e.style.paddingBottom;break;case"column-reverse":n=e.style.paddingTop}return null!=n&&n>=0?n:void 0!==e.style.padding&&e.style.padding>=0?e.style.padding:0}function l(e,t){if(void 0!==e.style.borderStartWidth&&e.style.borderStartWidth>=0&&i(t))return e.style.borderStartWidth;var n=null;switch(t){case"row":n=e.style.borderLeftWidth;break;case"row-reverse":n=e.style.borderRightWidth;break;case"column":n=e.style.borderTopWidth;break;case"column-reverse":n=e.style.borderBottomWidth}return null!=n&&n>=0?n:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function c(e,t){if(void 0!==e.style.borderEndWidth&&e.style.borderEndWidth>=0&&i(t))return e.style.borderEndWidth;var n=null;switch(t){case"row":n=e.style.borderRightWidth;break;case"row-reverse":n=e.style.borderLeftWidth;break;case"column":n=e.style.borderBottomWidth;break;case"column-reverse":n=e.style.borderTopWidth}return null!=n&&n>=0?n:void 0!==e.style.borderWidth&&e.style.borderWidth>=0?e.style.borderWidth:0}function d(e,t){return a(e,t)+l(e,t)}function u(e,t){return s(e,t)+c(e,t)}function p(e,t){return l(e,t)+c(e,t)}function h(e,t){return o(e,t)+r(e,t)}function g(e,t){return d(e,t)+u(e,t)}function f(e){return e.style.justifyContent?e.style.justifyContent:"flex-start"}function m(e){return e.style.alignContent?e.style.alignContent:"flex-start"}function v(e,t){return t.style.alignSelf?t.style.alignSelf:e.style.alignItems?e.style.alignItems:"stretch"}function _(e,t){if(t===H){if(e===U)return $;if(e===$)return U}return e}function y(e,t){var i;return i=e.style.direction?e.style.direction:L,i===L&&(i=void 0===t?B:t),i}function w(e){return e.style.flexDirection?e.style.flexDirection:W}function b(e,t){return n(e)?_(U,t):W}function S(e){return e.style.position?e.style.position:"relative"}function C(e){return S(e)===ee&&e.style.flex>0}function T(e){return"wrap"===e.style.flexWrap}function R(e,t){return e.layout[re[t]]+h(e,t)}function P(e,t){return void 0!==e.style[re[t]]&&e.style[re[t]]>=0}function E(e,t){return void 0!==e.style[t]}function I(e){return void 0!==e.style.measure}function x(e,t){return void 0!==e.style[t]?e.style[t]:0}function A(e,t,i){var n={row:e.style.minWidth,"row-reverse":e.style.minWidth,column:e.style.minHeight,"column-reverse":e.style.minHeight}[t],o={row:e.style.maxWidth,"row-reverse":e.style.maxWidth,column:e.style.maxHeight,"column-reverse":e.style.maxHeight}[t],r=i;return void 0!==o&&o>=0&&r>o&&(r=o),void 0!==n&&n>=0&&r<n&&(r=n),r}function k(e,t){return e>t?e:t}function V(e,t){void 0===e.layout[re[t]]&&P(e,t)&&(e.layout[re[t]]=k(A(e,t,e.style[re[t]]),g(e,t)))}function M(e,t,i){t.layout[ne[i]]=e.layout[re[i]]-t.layout[re[i]]-t.layout[oe[i]]}function D(e,t){return void 0!==e.style[ie[t]]?x(e,ie[t]):-x(e,ne[t])}function O(e,n,a){var s=y(e,a),c=_(w(e),s),O=b(c,s),L=_(U,s);V(e,c),V(e,O),e.layout.direction=s,e.layout[ie[c]]+=o(e,c)+D(e,c),e.layout[ne[c]]+=r(e,c)+D(e,c),e.layout[ie[O]]+=o(e,O)+D(e,O),e.layout[ne[O]]+=r(e,O)+D(e,O);var B=e.children.length,H=g(e,L);if(I(e)){var ae=!t(e.layout[re[L]]),se=F;se=P(e,L)?e.style.width:ae?e.layout[re[L]]:n-h(e,L),se-=H;var le=!P(e,L)&&!ae,ce=!P(e,W)&&t(e.layout[re[W]]);if(le||ce){var de=e.style.measure(se);le&&(e.layout.width=de.width+H),ce&&(e.layout.height=de.height+g(e,W))}if(0===B)return}var ue,pe,he,ge,fe=T(e),me=f(e),ve=d(e,c),_e=d(e,O),ye=g(e,c),we=g(e,O),be=!t(e.layout[re[c]]),Se=!t(e.layout[re[O]]),Ce=i(c),Te=null,Re=null,Pe=F;be&&(Pe=e.layout[re[c]]-ye);for(var Ee=0,Ie=0,xe=0,Ae=0,ke=0,Ve=0;Ie<B;){var Me,De=0,Oe=0,Ne=0,Fe=0,Le=be&&me===G||!be&&me!==z,Be=Le?B:Ee,He=!0,Ue=B,$e=null,We=null,je=ve,Ge=0;for(ue=Ee;ue<B;++ue){he=e.children[ue],he.lineIndex=Ve,he.nextAbsoluteChild=null,he.nextFlexChild=null;var ze=v(e,he);if(ze===Z&&S(he)===ee&&Se&&!P(he,O))he.layout[re[O]]=k(A(he,O,e.layout[re[O]]-we-h(he,O)),g(he,O));else if(S(he)===te)for(null===Te&&(Te=he),null!==Re&&(Re.nextAbsoluteChild=he),Re=he,pe=0;pe<2;pe++)ge=0!==pe?U:W,!t(e.layout[re[ge]])&&!P(he,ge)&&E(he,ie[ge])&&E(he,ne[ge])&&(he.layout[re[ge]]=k(A(he,ge,e.layout[re[ge]]-g(e,ge)-h(he,ge)-x(he,ie[ge])-x(he,ne[ge])),g(he,ge)));var Ke=0;if(be&&C(he)?(Oe++,Ne+=he.style.flex,null===$e&&($e=he),null!==We&&(We.nextFlexChild=he),We=he,Ke=g(he,c)+h(he,c)):(Me=F,Ce||(Me=P(e,L)?e.layout[re[L]]-H:n-h(e,L)-H),0===xe&&N(he,Me,s),S(he)===ee&&(Fe++,Ke=R(he,c))),fe&&be&&De+Ke>Pe&&ue!==Ee){Fe--,xe=1;break}Le&&(S(he)!==ee||C(he))&&(Le=!1,Be=ue),He&&(S(he)!==ee||ze!==Z&&ze!==Q||t(he.layout[re[O]]))&&(He=!1,Ue=ue),Le&&(he.layout[oe[c]]+=je,be&&M(e,he,c),je+=R(he,c),Ge=k(Ge,A(he,O,R(he,O)))),He&&(he.layout[oe[O]]+=Ae+_e,Se&&M(e,he,O)),xe=0,De+=Ke,Ie=ue+1}var Ye=0,qe=0,Qe=0;if(Qe=be?Pe-De:k(De,0)-De,0!==Oe){var Xe,Je,Ze=Qe/Ne;for(We=$e;null!==We;)Xe=Ze*We.style.flex+g(We,c),Je=A(We,c,Xe),Xe!==Je&&(Qe-=Je,Ne-=We.style.flex),We=We.nextFlexChild;for(Ze=Qe/Ne,Ze<0&&(Ze=0),We=$e;null!==We;)We.layout[re[c]]=A(We,c,Ze*We.style.flex+g(We,c)),Me=F,P(e,L)?Me=e.layout[re[L]]-H:Ce||(Me=n-h(e,L)-H),N(We,Me,s),he=We,We=We.nextFlexChild,he.nextFlexChild=null}else me!==G&&(me===z?Ye=Qe/2:me===K?Ye=Qe:me===Y?(Qe=k(Qe,0),qe=Oe+Fe-1!=0?Qe/(Oe+Fe-1):0):me===q&&(qe=Qe/(Oe+Fe),Ye=qe/2));for(je+=Ye,ue=Be;ue<Ie;++ue)he=e.children[ue],S(he)===te&&E(he,ie[c])?he.layout[oe[c]]=x(he,ie[c])+l(e,c)+o(he,c):(he.layout[oe[c]]+=je,be&&M(e,he,c),S(he)===ee&&(je+=qe+R(he,c),Ge=k(Ge,A(he,O,R(he,O)))));var et=e.layout[re[O]];for(Se||(et=k(A(e,O,Ge+we),we)),ue=Ue;ue<Ie;++ue)if(he=e.children[ue],S(he)===te&&E(he,ie[O]))he.layout[oe[O]]=x(he,ie[O])+l(e,O)+o(he,O);else{var tt=_e;if(S(he)===ee){var ze=v(e,he);if(ze===Z)t(he.layout[re[O]])&&(he.layout[re[O]]=k(A(he,O,et-we-h(he,O)),g(he,O)));else if(ze!==Q){var it=et-we-R(he,O);tt+=ze===X?it/2:it}}he.layout[oe[O]]+=Ae+tt,Se&&M(e,he,O)}Ae+=Ge,ke=k(ke,je),Ve+=1,Ee=Ie}if(Ve>1&&Se){var nt=e.layout[re[O]]-we,ot=nt-Ae,rt=0,at=_e,st=m(e);st===J?at+=ot:st===X?at+=ot/2:st===Z&&nt>Ae&&(rt=ot/Ve);var lt=0;for(ue=0;ue<Ve;++ue){var ct=lt,dt=0;for(pe=ct;pe<B;++pe)if(he=e.children[pe],S(he)===ee){if(he.lineIndex!==ue)break;t(he.layout[re[O]])||(dt=k(dt,he.layout[re[O]]+h(he,O)))}for(lt=pe,dt+=rt,pe=ct;pe<lt;++pe)if(he=e.children[pe],S(he)===ee){var ut=v(e,he);if(ut===Q)he.layout[oe[O]]=at+o(he,O);else if(ut===J)he.layout[oe[O]]=at+dt-r(he,O)-he.layout[re[O]];else if(ut===X){var pt=he.layout[re[O]];he.layout[oe[O]]=at+(dt-pt)/2}else ut===Z&&(he.layout[oe[O]]=at+o(he,O))}at+=dt}}var ht=!1,gt=!1;if(be||(e.layout[re[c]]=k(A(e,c,ke+u(e,c)),ye),c!==$&&c!==j||(ht=!0)),Se||(e.layout[re[O]]=k(A(e,O,Ae+we),we),O!==$&&O!==j||(gt=!0)),ht||gt)for(ue=0;ue<B;++ue)he=e.children[ue],ht&&M(e,he,c),gt&&M(e,he,O);for(Re=Te;null!==Re;){for(pe=0;pe<2;pe++)ge=0!==pe?U:W,!t(e.layout[re[ge]])&&!P(Re,ge)&&E(Re,ie[ge])&&E(Re,ne[ge])&&(Re.layout[re[ge]]=k(A(Re,ge,e.layout[re[ge]]-p(e,ge)-h(Re,ge)-x(Re,ie[ge])-x(Re,ne[ge])),g(Re,ge))),E(Re,ne[ge])&&!E(Re,ie[ge])&&(Re.layout[ie[ge]]=e.layout[re[ge]]-Re.layout[re[ge]]-x(Re,ne[ge]));he=Re,Re=Re.nextAbsoluteChild,he.nextAbsoluteChild=null}}function N(e,t,i){e.shouldUpdate=!0;var n=e.style.direction||B;!e.isDirty&&e.lastLayout&&e.lastLayout.requestedHeight===e.layout.height&&e.lastLayout.requestedWidth===e.layout.width&&e.lastLayout.parentMaxWidth===t&&e.lastLayout.direction===n?(e.layout.width=e.lastLayout.width,e.layout.height=e.lastLayout.height,e.layout.top=e.lastLayout.top,e.layout.left=e.lastLayout.left):(e.lastLayout||(e.lastLayout={}),e.lastLayout.requestedWidth=e.layout.width,e.lastLayout.requestedHeight=e.layout.height,e.lastLayout.parentMaxWidth=t,e.lastLayout.direction=n,e.children.forEach(function(e){e.layout.width=void 0,e.layout.height=void 0,e.layout.top=0,e.layout.left=0}),O(e,t,i),e.lastLayout.width=e.layout.width,e.lastLayout.height=e.layout.height,e.lastLayout.top=e.layout.top,e.lastLayout.left=e.layout.left)}var F,L="inherit",B="ltr",H="rtl",U="row",$="row-reverse",W="column",j="column-reverse",G="flex-start",z="center",K="flex-end",Y="space-between",q="space-around",Q="flex-start",X="center",J="flex-end",Z="stretch",ee="relative",te="absolute",ie={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},ne={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},oe={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},re={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};return{layoutNodeImpl:O,computeLayout:N,fillNodes:e}}();return"object"==typeof exports&&(module.exports=e),function(t){e.fillNodes(t),e.computeLayout(t)}}),function(){"use strict";define("ui/FlexboxLayout",["core/oop","core/Debug","ui/LayoutBase","ui/FlexDirection","ui/ContentJustification","ui/ContentAlignment","lib/cssLayout"],function(e,t,i,n,o,r,a){var s=e.classDef("ui.FlexboxLayout",[i],function(){e.staticScope(function(){e.constructor(function(){this._directionMap={$name:"FlexDirection"},this._directionMap[n.COLUMN]="column",this._directionMap[n.ROW]="row",this._directionMap[n.COLUMN_REVERSE]="column-reverse",this._directionMap[n.ROW_REVERSE]="row-reverse",this._contentJustificationMap={$name:"ContentJustification"},this._contentJustificationMap[o.START]="flex-start",this._contentJustificationMap[o.CENTER]="center",this._contentJustificationMap[o.END]="flex-end",this._contentJustificationMap[o.SPACE_BETWEEN]="space-between",this._contentJustificationMap[o.SPACE_AROUND]="space-around",this._alignmentMap={$name:"ContentAlignment"},this._alignmentMap[r.START]="flex-start",this._alignmentMap[r.CENTER]="center",this._alignmentMap[r.END]="flex-end",this._alignmentMap[r.STRETCH]="stretch",this._wrapMap={$name:"Wrap"},this._wrapMap.true="wrap",this._wrapMap.false="nowrap"}),e.properties({_directionMap:void 0,_contentJustificationMap:void 0,_alignmentMap:void 0,_wrapMap:void 0})}),e.initConstructor(),e.properties({direction:void 0,justifyContent:void 0,alignItems:void 0,wrap:void 0}),e.methods({_layoutItems:function(e,t){var i=this,n=this._createLayoutNode(e);n.style.flexDirection=this._map(this.direction,s._directionMap),n.style.justifyContent=this._map(this.justifyContent,s._contentJustificationMap),n.style.alignItems=this._map(this.alignItems,s._alignmentMap),n.style.flexWrap=this._map(this.wrap,s._wrapMap),n.children=[],t.forEach(function(e){var t=i._createLayoutNode(e);n.children.push(t)}),this._runCssLayout(n),n.children.forEach(function(e,n){var o=t[n];i._applyLayoutResult(o,e)})},_createLayoutNode:function(e){var t={style:{width:e.width>0?e.width:void 0,height:e.height>0?e.height:void 0}},i=t.style;return void 0!==e.layoutProps&&(i.minWidth=e.layoutProps.minWidth,i.minHeight=e.layoutProps.minHeight,i.maxWidth=e.layoutProps.maxWidth,i.maxHeight=e.layoutProps.maxHeight,i.alignSelf=this._map(e.layoutProps.flexAlignment,s._alignmentMap),i.flex=e.layoutProps.flexWeight,void 0!==e.layoutProps.margin&&(i.marginLeft=e.layoutProps.margin.left,i.marginRight=e.layoutProps.margin.right,i.marginTop=e.layoutProps.margin.top,i.marginBottom=e.layoutProps.margin.bottom),void 0!==e.layoutProps.padding&&(i.paddingLeft=e.layoutProps.padding.left,i.paddingRight=e.layoutProps.padding.right,i.paddingTop=e.layoutProps.padding.top,i.paddingBottom=e.layoutProps.padding.bottom)),t},_runCssLayout:function(e){a(e)},_applyLayoutResult:function(e,t){e._setLayoutSize(t.layout.width,t.layout.height),e.x=t.layout.left,e.y=t.layout.top},_map:function(e,t){if(void 0!==e){var i=t[e];return t.$name,i}}})});return s})}(),define("lib/lodash/objects/cloneDeep",["../internals/baseClone","../internals/baseCreateCallback"],function(e,t){function i(i,n,o){return e(i,!0,"function"==typeof n&&t(n,o,1))}return i}),function(){"use strict";define("design/templates/LayoutTemplates",["core/oop","design/styles/StyleConstants","design/templates/TemplatesModule","ui/Axis","ui/AnchoredLayout","ui/GridLayout","ui/StackedLayout","ui/FlexboxLayout","ui/LayoutProps","lib/lodash/objects/forOwn","lib/lodash/objects/cloneDeep"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.templates.LayoutTemplates",i,function(i){e.singleton(function(){i.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=this.unregistered,i=t.singleton.exports;e.anchors=d(i.anchors);var u=this,p=e.layouts={default:{$type:l}};c(i.layouts,function(e,t){p[t]=u._toLayoutPropsTemplate(e)});var h=e.layoutTypes={};h.anchored={$type:o},h.flexbox={$type:s},h.grid={$type:r},h.stacked={$type:a},h.stackedColumn=h.stacked,h.stackedColumnCentered={$extend:h.stackedColumn,alignAlongPrimaryAxis:!0},h.stackedColumnLeft={$extend:h.stackedColumnCentered,defaultItemLayoutProps:e.layouts.anchorLeft},h.stackedColumnRight={$extend:h.stackedColumnCentered,defaultItemLayoutProps:e.layouts.anchorRight},h.stackedRow={$extend:h.stacked,primaryAxis:n.HORIZONTAL},h.stackedRowCentered={$extend:h.stackedRow,alignAlongPrimaryAxis:!0},h.stackedRowBottom={$extend:h.stackedRowCentered,defaultItemLayoutProps:e.layouts.anchorBottom}},_toLayoutPropsTemplate:function(e){var t={$type:l,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,flexAlignment:e.flexAlignment,flexWeight:e.flexWeight};return t.anchor={left:e.anchor.left,top:e.anchor.top,right:e.anchor.right,bottom:e.anchor.bottom},void 0!==e.crop&&(t.crop={left:e.crop.left,top:e.crop.top,right:e.crop.right,bottom:e.crop.bottom}),t}})})})}(),function(){"use strict";define("design/views/ChromecastIconView",["core/oop","platform/common/Dispatcher","platform/common/NetworkConnectionState","platform/ChromecastWrapper","ui/views/CompositeView"],function(e,t,i,n,o){var r=e.classDef("design.views.ChromecastIconView",o,function(o){e.staticScope(function(){e.properties({_CHROMECAST_NEXT_CONNECTING_STATE_MAP:{defaultValue:{connecting0:"connecting1",connecting1:"connecting2",connecting2:"connecting3",connecting3:"connecting0"},readOnlyField:!0}})}),e.constructor(function(){o.$ctor.apply(this,arguments),this._chromecastAPI=n.singleton.getChromecast(),this.hookUntilDisposed(this._chromecastAPI,"connectionStateChanged",this._ensureVisualState.bind(this)),this.hookUntilDisposed(this._chromecastAPI,"isAvailableChanged",this._ensureVisualState.bind(this)),this._ensureVisualState()}),e.properties({alwaysVisible:{defaultValue:!1},_connectingIcon:void 0,_chromecastAPI:void 0,_chromecastAnimateCanceler:void 0,_chromecastAnimateInterval:{defaultValue:500}}),e.methods({_ensureVisualState:function(){var e=this._chromecastAPI.connectionState===i.CONNECTED,t=this._chromecastAPI.connectionState===i.CONNECTING,n=!0===this._chromecastAPI.isAvailable&&!1===e&&!1===t;this.isVisible=!0===this.alwaysVisible||!0===this._chromecastAPI.isAvailable,this.find("disconnected").isVisible=n||!0===this.alwaysVisible&&!1===this._chromecastAPI.isAvailable,this.find("connected").isVisible=e;var o=this.find("connecting");o.isVisible=t,!0===t?(this._connectingIcon=o.find("icon"),this._startChromecastAnimation()):(this._stopChromecastAnimation(),this.additionalTransitionStates.removeAll())},_startChromecastAnimation:function(){void 0===this._chromecastAnimateCanceler&&(this._chromecastAnimateCanceler=t.singleton.postInterval(this._chromecastAnimateInterval,this._chromecastAnimationStep.bind(this)),this._chromecastAnimationStep())},_stopChromecastAnimation:function(){void 0!==this._chromecastAnimateCanceler&&(this._chromecastAnimateCanceler(),this._chromecastAnimateCanceler=void 0)},_chromecastAnimationStep:function(){var e=this._connectingIcon,t=e.additionalTransitionStates.getAt(0),i=void 0===t?"connecting0":r._CHROMECAST_NEXT_CONNECTING_STATE_MAP[t];e.additionalTransitionStates.add(i),e.additionalTransitionStates.remove(t)},_disposeCore:function(){this._stopChromecastAnimation(),o._disposeCore.apply(this,arguments)}})});return r})}(),function(){"use strict";define("design/templates/ButtonTemplates",["core/oop","core/Debug","design/templates/ColorTemplates","design/ScreenUtil","design/analytics/UserInteractionTargets","design/templates/ButtonTemplatesBase","design/templates/TextFormatTemplates","design/templates/LayoutTemplates","design/templates/TransitionTemplates","design/templates/ViewTemplates","design/TemplateUtil","design/views/ChromecastIconView","platform/common/AccessibilityTrait","ui/Localization","ui/Transition","lib/lodash/objects/assign","lib/lodash/objects/clone","lib/lodash/objects/merge","design/Screen","platform/dependent/graphics/Viewport"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y){return e.classDef("design.templates.ButtonTemplates",[r],function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({generateImageButton:function(e,t,i){var n=c.singleton.exports,o={$extend:n.ImageView,isInvokable:!0,isPointerTarget:!0,accessibilityTrait:void 0!==i?p.BUTTON:void 0,accessibilityTextOverride:void 0!==i?h.singleton.getResource(i):void 0,transitionMap:{}};return f(o,m(e,!0)),this._applyTransitionMapping(o,"uri",t),o},generateCtaButton:function(e){var t=i.singleton.exports,n={buttonPartialTemplate:{layout:e.buttonLayout,borderThickness:0},labelPartialTemplate:{height:e.height,layoutProps:e.layoutProps||{}},formatMapping:e.formatMapping,backgroundMapping:{initial:t.mediumBlue,hovered:t.ceruleanBlue,pressed:t.ceruleanBlue}};return e.width&&(n.labelPartialTemplate.width=e.width),this.generateTextButton(n)},_generateIconButton:function(e){var t=c.singleton.exports,i=e.iconPadding+e.iconWidth,n=this.generateTextButton({baseTemplate:e.baseTemplate,labelPartialTemplate:{x:i,width:e.baseTemplate.width-i}});return n.subViewRegistrations.icon={$extend:t.ViewRegistration,order:1,template:this.generateImageButton({width:e.iconWidth,height:e.iconHeight,x:e.iconPadding,y:(e.baseTemplate.height-e.iconHeight)/2,inheritedViewStateNames:["hovered"]},e.iconMappings)},n},_configure:function(){t._configure.apply(this,arguments);var e=this.unregistered,r=i.singleton.exports,m=a.singleton.exports,w=s.singleton.exports,b=i.singleton.withAlpha.bind(i.singleton),S=n.dpiAwareImageUri.bind(n),C=n.singleton.byDesign.bind(n.singleton),T=n.singleton.byDesignCall.bind(n.singleton),R=d.singleton.complete.bind(d.singleton),P=d.singleton.partial.bind(d.singleton),E=c.singleton.exports,I=E.partials,x=l.singleton.exports,A=s.singleton.exports.layoutTypes,k=c.singleton.getCappedScreenWidth(-32),V=function(t){var i={buttonPartialTemplate:{height:e.defaultFormButtonHeight,borderThickness:0,borderRadius:5,width:k,layout:w.layoutTypes.anchored},labelPartialTemplate:{height:e.defaultFormButtonHeight,width:k},formatMapping:{initial:m.largeButtonTextFormat,disabled:m.largeButtonDisabledTextFormat},backgroundMapping:{initial:r.mediumBlue,disabled:r.darkBlue}};return!0===t&&(i.formatMapping.pressed=m.largeButtonPressedTextFormat,i.backgroundMapping.pressed=r.ceruleanBlue),i};e.defaultFormButtonHeight=n.singleton.byDesign({desktop:34,mobile:52}),e.activeFormButton=this.generateTextButton(n.singleton.byDesign({desktop:{buttonPartialTemplate:{height:e.defaultFormButtonHeight,borderThickness:0},labelPartialTemplate:{height:e.defaultFormButtonHeight},formatMapping:{initial:m.formActiveButtonFormat,hovered:m.formActiveButtonHoveredFormat,disabled:m.formInactiveButtonFormat},backgroundMapping:{initial:r.mediumBlue,hovered:r.ceruleanBlue,pressed:r.ceruleanBlue,disabled:r.darkBlue}},mobile:V(!0)})),e.activeFormButtonNoTransition=this.generateTextButton(V(!1)),e.inactiveFormButton=this.generateTextButton(n.singleton.byDesign({desktop:{baseTemplate:e.activeFormButton,buttonPartialTemplate:{isPointerTarget:!1,isInvokable:!1},formatMapping:{initial:m.formInactiveButtonFormat,hovered:m.formInactiveButtonHoveredFormat},backgroundMapping:{initial:r.darkBlue,hovered:r.darkBlue,pressed:r.darkBlue}},mobile:{baseTemplate:e.activeFormButton,buttonPartialTemplate:{isPointerTarget:!1,isInvokable:!1},formatMapping:{initial:m.largeButtonDisabledTextFormat},
backgroundMapping:{initial:r.darkBlue}}})),e.cancelFormButton=this.generateTextButton({baseTemplate:e.activeFormButton,formatMapping:{initial:m.formCancelButtonFormat,hovered:m.formCancelButtonHoveredFormat},backgroundMapping:{initial:r.mineShaftGray,hovered:r.mediumGray,pressed:r.dustyGray}}),e.confirmFormButton=this.generateTextButton({baseTemplate:e.activeFormButton,formatMapping:{initial:m.formConfirmButtonFormat,hovered:m.formConfirmButtonHoveredFormat},backgroundMapping:{initial:r.ceruleanBlue,hovered:r.ceruleanBlue,pressed:r.ceruleanBlue}}),e.showHideButton=this.generateTextButton({baseTemplate:e.activeFormButton,formatMapping:{initial:m.showHideButtonFormat,hovered:m.showHideButtonHoveredFormat,disabled:m.showHideButtonDisabledFormat},backgroundMapping:n.singleton.byDesign({desktop:{initial:r.whiteSmoke,hovered:r.whiteSmoke,pressed:r.whiteSmoke,disabled:r.whiteSmoke},mobile:{initial:r.mineShaftGray,pressed:r.mineShaftGray}})}),e.browseHBOButton=this.generateTextButton({baseTemplate:e.activeFormButton,backgroundMapping:{initial:r.mineShaftGray,pressed:r.dustyGray}});var M=n.singleton.byDesign({desktop:84}),D=n.singleton.byDesign({mobile:m.assetDetailsMobilePreviewOrWatchlist.lineHeight,desktop:25});e.defaultButtonWidth=M,e.defaultButtonHeight=D,e.callToActionButton=this.generateTextButton({buttonPartialTemplate:n.singleton.byDesign({desktop:{width:M,height:D},mobile:{borderThickness:0,width:M,height:D}}),labelPartialTemplate:n.singleton.byDesign({desktop:{width:M,height:D},mobile:{width:M,height:D}}),formatMapping:n.singleton.byDesign({desktop:{initial:m.callToActionButtonFormat,hovered:m.callToActionButtonHoveredFormat},mobile:{initial:m.assetDetailsMobilePreviewOrWatchlist,hovered:m.assetDetailsMobilePreviewOrWatchlist}}),backgroundMapping:n.singleton.byDesign({desktop:{initial:r.clear,hovered:r.whiteSmoke}}),borderMapping:n.singleton.byDesign({desktop:{initial:b(r.dustyGray,.5),hovered:b(r.smokeGray,.5)}})}),e.regularActionButton=this.generateTextButton({buttonPartialTemplate:{width:M,height:m.regularActionButton.lineHeight},labelPartialTemplate:{width:M,height:m.regularActionButton.lineHeight},formatMapping:{initial:m.regularActionButton,hovered:m.regularActionButton}}),e.boldActionButton=this.generateTextButton({buttonPartialTemplate:{width:M,height:m.boldActionButton.lineHeight,borderThickness:0},labelPartialTemplate:{width:M,height:m.boldActionButton.lineHeight},formatMapping:{initial:m.boldActionButton,hovered:m.boldActionButton}}),e.callToActionFillButton=this.generateTextButton({baseTemplate:e.callToActionButton,formatMapping:{initial:m.buttonFormat,hovered:m.buttonHoveredFormat},backgroundMapping:{initial:b(r.whiteSmoke,.7),hovered:r.whiteSmoke},borderMapping:n.singleton.byDesign({desktop:{initial:b(r.smokeGray,.25),hovered:b(r.smokeGray,.5)}})});e.iconPadding=8;e.iconWidth=9;e.addIconHeight=9;e.removeIconHeight=3,e.addFillButtonInitialUri="/assets/images/buttons/desktop/btn_fill_add_default.png",e.addFillButtonHoveredUri="/assets/images/buttons/desktop/btn_fill_add_hover.png",e.addFillButton=this._generateIconButton({baseTemplate:e.callToActionFillButton,iconWidth:9,iconHeight:9,iconPadding:8,iconMappings:{initial:e.addFillButtonInitialUri,hovered:e.addFillButtonHoveredUri,disabled:"/assets/images/buttons/desktop/btn_fill_add_disabled.png"}}),e.removeFillButtonInitialUri="/assets/images/buttons/desktop/btn_fill_remove_default.png",e.removeFillButtonHoveredUri="/assets/images/buttons/desktop/btn_fill_remove_hover.png",e.removeFillButton=this._generateIconButton({baseTemplate:e.callToActionFillButton,iconWidth:9,iconHeight:3,iconPadding:8,iconMappings:{initial:e.removeFillButtonInitialUri,hovered:e.removeFillButtonHoveredUri,disabled:"/assets/images/buttons/desktop/btn_fill_remove_disabled.png"}}),e.addOutlineButtonInitialUri="/assets/images/buttons/desktop/btn_outline_add_default.png",e.addOutlineButtonHoveredUri="/assets/images/buttons/desktop/btn_outline_add_hover.png",e.addOutlineButton=this._generateIconButton({baseTemplate:e.callToActionButton,iconWidth:9,iconHeight:9,iconPadding:8,iconMappings:{initial:e.addOutlineButtonInitialUri,hovered:e.addOutlineButtonHoveredUri,disabled:"/assets/images/buttons/desktop/btn_outline_add_disabled.png"}}),e.removeOutlineButtonInitialUri="/assets/images/buttons/desktop/btn_outline_remove_default.png",e.removeOutlineButtonHoveredUri="/assets/images/buttons/desktop/btn_outline_remove_hover.png",e.removeOutlineButton=this._generateIconButton({baseTemplate:e.callToActionButton,iconWidth:9,iconHeight:3,iconPadding:8,iconMappings:{initial:e.removeOutlineButtonInitialUri,hovered:e.removeOutlineButtonHoveredUri,disabled:"/assets/images/buttons/desktop/btn_outline_remove_disabled.png"}}),e.settingsActiveButton=this.generateTextButton({baseTemplate:e.callToActionButton,buttonPartialTemplate:{borderThickness:0},formatMapping:{initial:m.settingsActiveButtonFormat,hovered:m.settingsActiveButtonHoveredFormat},backgroundMapping:{initial:r.mediumBlue,hovered:r.ceruleanBlue,pressed:r.ceruleanBlue}}),e.settingsCancelButton=this.generateTextButton({baseTemplate:e.settingsActiveButton,formatMapping:{initial:m.settingsCancelButtonFormat,hovered:m.settingsCancelButtonHoveredFormat},backgroundMapping:{initial:r.mineShaftGray,hovered:r.mediumGray,pressed:r.dustyGray}}),e.smallRightArrowDefault=n.singleton.byDesign({mobile:S("/assets/images/buttons/mobile/btn_arrow_right_tile","png"),desktop:"/assets/images/buttons/desktop/btn_arrow_right_sm_default.png"}),e.smallRightArrowHover=n.singleton.byDesign({mobile:S("/assets/images/buttons/mobile/btn_arrow_right_tile","png"),desktop:"/assets/images/buttons/desktop/btn_arrow_right_sm_hover.png"}),e.smallRightArrowDown=n.singleton.byDesign({mobile:S("/assets/images/buttons/mobile/btn_arrow_right_tile","png"),desktop:"/assets/images/buttons/desktop/btn_arrow_right_sm_down.png"}),e.smallArrowWidth=6,e.smallArrowHeight=10;var O={width:e.smallArrowWidth,height:e.smallArrowHeight};e.smallRightArrowBtn=this.generateImageButton(O,{initial:e.smallRightArrowDefault,hovered:e.smallRightArrowHover,pressed:e.smallRightArrowDown});var N=n.singleton,F=N.byDesign({mobile:44,desktop:25}),L=N.byDesign({mobile:n.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_default.png"}),B=N.byDesign({mobile:n.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_hover.png"}),H=N.byDesign({mobile:n.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_pressed.png"}),U=N.byDesign({mobile:n.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_disabled.png"});e.OverlayCloseView=this.generateImageButton({x:_.singleton.getScreenWidth(-F+y.singleton.reservedMargins.right-E.overlayGutter),y:30,width:F,height:F,analyticsValue:o.POPUP_CLOSED},{initial:L,hovered:B,pressed:H,disabled:U});var $=e.images={},W=e.styles={},j=e.partials={},G=e.components={};$.menu=C({mobile:{initial:S("/assets/images/buttons/mobile/menu","png"),disabled:S("/assets/images/buttons/mobile/menu_disabled","png")}}),$.chromecast=C({desktop:{disconnected:{initial:"/assets/images/player_controls/desktop/btn_chromecast_off_default.png",hovered:"/assets/images/player_controls/desktop/btn_chromecast_off_hover.png",pressed:"/assets/images/player_controls/desktop/btn_chromecast_off_down.png",disabled:"/assets/images/player_controls/desktop/btn_chromecast_off_disabled.png"},connecting:{initial:"/assets/images/player_controls/desktop/btn_chromecast_animating_0.png",connecting0:"/assets/images/player_controls/desktop/btn_chromecast_animating_0.png",connecting1:"/assets/images/player_controls/desktop/btn_chromecast_animating_1.png",connecting2:"/assets/images/player_controls/desktop/btn_chromecast_animating_2.png",connecting3:"/assets/images/player_controls/desktop/btn_chromecast_animating_1.png"},connected:{initial:"/assets/images/player_controls/desktop/btn_chromecast_on_default.png",hovered:"/assets/images/player_controls/desktop/btn_chromecast_on_hover.png",pressed:"/assets/images/player_controls/desktop/btn_chromecast_on_down.png",disabled:"/assets/images/player_controls/desktop/btn_chromecast_on_disabled.png"}},mobile:{disconnected:{initial:S("/assets/images/buttons/mobile/chromecast_available","png")},connecting:{initial:S("/assets/images/buttons/mobile/chromecast_connecting0","png"),connecting0:S("/assets/images/buttons/mobile/chromecast_connecting0","png"),connecting1:S("/assets/images/buttons/mobile/chromecast_connecting1","png"),connecting2:S("/assets/images/buttons/mobile/chromecast_connecting2","png"),connecting3:S("/assets/images/buttons/mobile/chromecast_connecting1","png")},connected:{initial:S("/assets/images/buttons/mobile/chromecast_connected","png")}}}),$.activeSearch=C({desktop:{initial:"/assets/images/icons/desktop/icn_search_hovered.png"}}),$.search=C({desktop:{initial:"/assets/images/icons/desktop/icn_search_initial.png",pressed:"/assets/images/icons/desktop/icn_search_pressed.png",hovered:"/assets/images/icons/desktop/icn_search_hovered.png"},mobile:{initial:S("/assets/images/buttons/mobile/search","png"),disabled:S("/assets/images/buttons/mobile/search_disabled","png")}}),$.kidsLock={initial:S("/assets/images/buttons/mobile/kidslock_unlocked","png"),locked:S("/assets/images/buttons/mobile/kidslock_locked","png")},$.airPlay={initial:S("/assets/images/player_controls/mobile/btn_airplay_available","png"),disabled:S("/assets/images/player_controls/mobile/btn_airplay_disabled","png"),connected:S("/assets/images/player_controls/mobile/btn_airplay_connected","png")},$.pipButton={initial:S("/assets/images/player_controls/mobile/btn_pip_ios_default","png")},$.back={initial:S("/assets/images/buttons/mobile/arrow_left","png")},$.ccCancel=C({desktop:{initial:"/assets/images/buttons/desktop/btn_close_default.png",pressed:"/assets/images/buttons/desktop/btn_close_pressed.png",hovered:"/assets/images/buttons/desktop/btn_close_hover.png"},mobile:{initial:S("/assets/images/buttons/mobile/btn_close_x","png")}}),W.containerWidth=C({mobile:44,desktop:22}),W.containerHeight=C({mobile:44,desktop:18}),W.menu={width:44,height:44},W.chromecast=C({desktop:{width:22,height:18},mobile:{width:44,height:44}}),W.chromecastConnecting=C({desktop:{width:22,height:22},mobile:{width:44,height:44}}),W.kidsLock={width:44,height:44},W.airPlay={width:26,height:19},W.pipButton={width:44,height:44},W.back={width:10,height:19},W.search=C({desktop:{width:16,height:16},mobile:{width:19,height:19}}),W.ccCancel=C({mobile:{width:44,height:44},desktop:{width:24,height:24}}),j.baseTransition={$type:g,$duration:function(e){return e.baseDuration}},j.opacityTransitionMap={initial:{opacity:{$$extend:function(e){return e.baseTransition},$to:function(e){return e.from}}},show:{opacity:{$$extend:function(e){return e.baseTransition},to:1,$duration:function(e){return e.showDuration}}},hide:{opacity:{$$extend:function(e){return e.baseTransition},to:0,$delay:function(e){return e.hideDelay},$duration:function(e){return e.hideDuration}}},hideImmediate:{opacity:{$type:g,duration:0,to:0}}},j.accessibleView={$accessibilityTextOverride:function(e){return e.accessibilityRes,h.singleton.getResource(e.accessibilityRes)},accessibilityTrait:p.BUTTON},j.inheritedViewStateNames={$inheritedViewStateNames:C({mobile:function(e){return e.inheritedViewStateNames||["hovered","pressed","disabled"]}})},j.compositeBase=f({$extend:E.CompositeView,$isInvokable:function(e){return void 0===e.isInvokable||e.isInvokable},$isPointerTarget:function(e){return void 0===e.isInvokable||e.isInvokable},$name:function(e){return e.name},$x:function(e){return e.x||0},$y:function(e){return e.y||0},height:W.containerHeight,layout:A.anchored,isReadyInit:!0,$transitionMap:function(e){return e.transitionMap},$accessibilityTextOverride:function(e){if(void 0!==e.accessibilityRes)return h.singleton.getResource(e.accessibilityRes)},accessibilityTrait:C({mobile:p.BUTTON})},j.inheritedViewStateNames),j.icon=f({$extend:E.ImageView,$x:function(e){return e.x||0},$y:function(e){return e.y||0},$width:function(e){return e.width},$height:function(e){return e.height},isReadyInit:!0,$transitionMap:function(t){return v(e.makeSimpleTransitionMap(t.images),t.transitionMap)},$name:function(e){return e.name}},j.inheritedViewStateNames),j.iconButton={$$extend:function(e){return R(j.compositeBase,e)},width:W.containerWidth,subViewRegistrations:{$extend:E.ViewRegistrations,icon:{$extend:E.ViewRegistration,$order:function(){return e.subViewRegistrationOrder++},template:j.icon}}},j.centeredIconRegistration={$extend:E.ViewRegistration,$order:function(){e.subViewRegistrationOrder++},template:j.iconButton},j.text={$$extend:function(e){return R(j.compositeBase,e)},$name:function(e){return e.name},analyticsViewName:"text",subViewRegistrations:{$extend:E.ViewRegistrations,text:{$extend:E.ViewRegistration,$useOwnerViewModel:function(e){return void 0===e.viewModelFactoryId},$viewModelFactoryId:function(e){return e.viewModelFactoryId},template:I.text}}},T({mobile:function(){j.rightItem=P(j.text,{initialFormat:m.nav.link.right,disabledFormat:m.nav.link.right.disabled}),j.rightCommonWidthItem={$$extend:function(e){return R(j.compositeBase,e)},$name:function(e){return"Right"+e.name},layoutProps:{$margin:function(e){return e.margin}},$subViewRegistrations:function(e){var t={$extend:E.ViewRegistrations,text:{$extend:E.ViewRegistration,useOwnerViewModel:!0,template:P(j.rightItem,{$name:function(e){return"Right"+e.name},$accessibilityRes:function(e){return"Res"+e.name},margin:void 0})}};return e.hintItems.forEach(function(e){e.name,t[e.name]={$extend:E.ViewRegistration,template:e}}),t}}}}),j.chromecast=P(j.centeredIconRegistration,W.chromecast),j.chromecastConnecting=P(j.centeredIconRegistration,W.chromecastConnecting),j.chromecast={$extend:R(j.accessibleView,{accessibilityRes:"ResA11yChromeCastButtonTitle"}),$type:u,$y:function(e){return e.y||0},name:"Chromecast",isInvokable:!0,isPointerTarget:!0,width:W.containerWidth,height:W.containerHeight,alwaysVisible:!0,subViewRegistrations:{$extend:E.ViewRegistrations,disconnected:R(j.chromecast,{name:"chromecastDisconnected",images:$.chromecast.disconnected}),connecting:R(j.chromecastConnecting,{name:"chromecastConnecting",images:$.chromecast.connecting}),connected:R(j.chromecast,{name:"chromecastConnected",images:$.chromecast.connected})},$transitionMap:function(e){return e.transitionMap}},G.chromecast=R(j.chromecast,{}),T({desktop:function(){j.activeSearch=P(j.iconButton,W.search),j.activeSearch=P(j.activeSearch,{name:"ActiveSearchIcon",images:$.activeSearch,isInvokable:!1,transitionMap:R(j.opacityTransitionMap,{baseTransition:R(j.baseTransition,{baseDuration:.25}),from:1,showDuration:.25,hideDelay:0,hideDuration:.25})}),j.search=P(j.iconButton,W.search),j.search=P(j.search,{name:"Search",images:$.search,transitionMap:R(j.opacityTransitionMap,{baseTransition:R(j.baseTransition,{baseDuration:.25}),from:1,showDuration:.25,hideDelay:0,hideDuration:.25})})},mobile:function(){j.menu=P(j.iconButton,W.menu),j.menu=P(j.menu,{name:"Menu",images:$.menu,accessibilityRes:"ResA11yMenu"}),j.closeMenu=P(j.menu,{name:"close"}),j.kidsLock=P(j.iconButton,W.kidsLock),j.kidsLock=P(j.kidsLock,{name:"KidsLock",images:$.kidsLock,accessibilityRes:"ResA11yKidsLockButton"}),j.airPlay=P(j.iconButton,W.airPlay),j.airPlay=P(j.airPlay,{name:"AirPlay",images:$.airPlay,accessibilityRes:"ResAirPlayTitle"}),j.pipButton=P(j.iconButton,W.pipButton),j.pipButton=P(j.pipButton,{name:"PipButton",images:$.pipButton,accessibilityRes:"ResA11yPip"}),j.search=P(j.iconButton,W.search),j.search=P(j.search,{name:"Search",images:$.search,accessibilityRes:"ResSearch"}),j.back=P(j.iconButton,W.back),j.back=P(j.back,{name:"Back",images:$.back,accessibilityRes:"ResBack"}),["Cancel","Clear"].forEach(function(e){j["left"+e]=P(j.text,{name:"Left"+e,initialFormat:m.nav.link.left,disabledFormat:m.nav.link.left.disabled,accessibilityRes:"Res"+e})});var e=[];["Clear","Edit"].forEach(function(t){j["right"+t]=P(j.rightCommonWidthItem,{name:t,$hintItems:function(){var i="hint"+t;return e.filter(function(e){return e.name!==i})}}),e.push(R(j.text,{name:"hint"+t,viewModelFactoryId:"Res"+t,format:m.nav.link.right,transitionMap:{initial:{opacity:{$extend:x.instantTransition,to:0}}}}))}),["Done","Save","Cancel"].forEach(function(e){j["right"+e]=P(j.rightItem,{name:"Right"+e,accessibilityRes:"Res"+e})}),j.rightCancel=P(j.rightCancel,{initialFormat:m.nav.link.left,disabledFormat:m.nav.link.left.disabled}),j.ccCancel=P(j.iconButton,W.ccCancel),j.ccCancel=P(j.ccCancel,{name:"CCCancel",images:$.ccCancel,accessibilityRes:"ResCancel"}),j.ccReset=P(j.text,{name:"CCReset",format:m.nav.cc,accessibilityRes:"ResReset"}),j.ccSave=P(j.text,{name:"CCSave",format:m.nav.cc.save,accessibilityRes:"ResSave"}),j.ccBack=P(j.back,{name:"CCBack",images:$.back,accessibilityRes:"ResBack"})}})}})})})}(),function(){"use strict";define("design/views/PercentageIndicatorView",["core/oop","ui/Axis","ui/views/View","ui/AfterExitActions","lib/Promise","core/Lifecycleable","ui/ViewFactory","lib/lodash/collections/forEach"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.PercentageIndicatorView",i,function(i){e.constructor(function(){this._indicators=[],this._indicatorPercents=[],this.isReadyInit=!0,i.$ctor.apply(this,arguments)}),e.properties({indicatorTemplate:void 0,primaryAxis:{defaultValue:t.HORIZONTAL},width:{defaultValue:0,onChange:"_layoutChildViews"},height:{defaultValue:0,onChange:"_layoutChildViews"},_axialCoordinateProperty:{get:function(){return this.primaryAxis===t.VERTICAL?"y":"x"}},_offAxialCoordinateProperty:{get:function(){return this.primaryAxis===t.VERTICAL?"x":"y"}},_axialMeasureProperty:{get:function(){return this.primaryAxis===t.VERTICAL?"height":"width"}},_offAxialMeasureProperty:{get:function(){return this.primaryAxis===t.VERTICAL?"width":"height"}},_indicators:void 0,_indicatorPercents:void 0}),e.methods({refreshStyles:function(){i.refreshStyles.apply(this,arguments),this._layoutChildViews()},setIndicators:function(e){var t=this;t._clearIndicators(),t.runUntilDisposed("setIndicators",function(){return s(e,function(e){t._indicatorPercents.push(e),t._indicators.push(a.singleton.create(t.indicatorTemplate))}),t._waitForChildViewsReady().then(function(){t._layoutChildViews(),t._ensureChildViewsAdded()})})},_clearIndicators:function(){this._indicators.forEach(function(e){e.exit(n.DEACTIVATE)}),this.children.removeAll(),this._indicators=[],this._indicatorPercents=[]},_onLifecycleStateChanged:function(e,t){i._onLifecycleStateChanged.call(this,e,t),e===r.LifecycleStates.DEACTIVATED&&this._ensureChildViewsDeactivated()},_waitForChildViewsReady:function(){var e=[];return s(this._indicators,function(t){e.push(t.afterReady)}),o.all(e)},_layoutChildViews:function(){for(var e=0;e<this._indicatorPercents.length;e++){var t=this[this._offAxialMeasureProperty]/2;this._indicators[e][this._offAxialCoordinateProperty]=t-this._indicators[e][this._offAxialMeasureProperty]/2;var i=this[this._axialMeasureProperty]*this._indicatorPercents[e];this._indicators[e][this._axialCoordinateProperty]=i-this._indicators[e][this._axialMeasureProperty]/2}},_ensureChildViewsAdded:function(){var e=this;s(this._indicators,function(t){void 0===t.parent&&e.children.add(t)})},_ensureChildViewsDeactivated:function(){s(this._indicators,function(e){void 0===e.parent&&e.deactivate()})}})})})}(),function(){"use strict";define("design/views/SliderView",["core/oop","core/Exception","core/logging/Levels","ui/Axis","ui/views/CompositeView","ui/views/RootView","platform/dependent/graphics/Image","lib/lodash/objects/clone","lib/Promise"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.views.SliderView",o,function(o){e.constructor(function(){o.$ctor.apply(this,arguments),this._createDisplayNodes(),this._onProgressChanged(this.progress),this._onPendingChanged(this.pending),this._pointerCtx={};var e=this._pointerManipulationMove.bind(this),t=this._pointerManipulationRelease.bind(this);this.hookUntilDisposed(r.singleton,"pointerMove",e),this.hookUntilDisposed(r.singleton,"pointerUp",t),this.hookUntilDisposed(r.singleton,"pointerCancel",t),this.hookUntilDisposed(r.singleton,"pointerCaptureLost",t)}),e.properties({progress:{get:function(){return this._progress},set:function(e){this._progress=Math.max(0,Math.min(e,1))}},_progress:{defaultValue:0,onChange:"_onProgressChanged"},pending:{get:function(){return this._pending},set:function(e){this._pending=Math.max(0,Math.min(e,1))}},_pending:{defaultValue:0,onChange:"_onPendingChanged"},backgroundUri:void 0,progressUri:void 0,backgroundOpacity:void 0,progressOpacity:void 0,pendingOverlayUri:void 0,progressThumbUri:void 0,thumbWidth:void 0,thumbHeight:void 0,margin:void 0,_syncPendingOnProgress:{defaultValue:!0},_range:{get:function(){return this[this._axialMeasure]-2*this.margin}},_indicatorView:void 0,_backgroundNode:void 0,_progressNode:void 0,_overlayNode:void 0,_progressThumbNode:void 0,_pendingThumbNode:void 0,_pointerCtx:void 0,_interactiveSpans:void 0,_showIndicators:{defaultValue:!1},_shouldSetIndicators:{defaultValue:!1},primaryAxis:{defaultValue:n.HORIZONTAL},reverseLayout:{defaultValue:!1},_axialCoordinate:{get:function(){return this.primaryAxis===n.VERTICAL?"y":"x"}},_offAxialCoordinate:{get:function(){return this.primaryAxis===n.VERTICAL?"x":"y"}},_axialMeasure:{get:function(){return this.primaryAxis===n.VERTICAL?"height":"width"}},_offAxialMeasure:{get:function(){return this.primaryAxis===n.VERTICAL?"width":"height"}},_axialThumb:{get:function(){return this.primaryAxis===n.VERTICAL?"thumbHeight":"thumbWidth"}},_offAxialThumb:{get:function(){return this.primaryAxis===n.VERTICAL?"thumbWidth":"thumbHeight"}},_axialScale:{get:function(){return this.primaryAxis===n.VERTICAL?"scaleY":"scaleX"}}}),e.events(["updated","committed"]),e.methods({setIndicatorSpans:function(e){this._interactiveSpans=s(e),this._shouldSetIndicators=!0},showIndicators:function(){this._trySetIndicatorsInIndicatorView(),this._showIndicators=!0,this._ensureSubViewsReady()},hideIndicators:function(){this._showIndicators=!1,this._ensureSubViewsReady()},_trySetIndicatorsInIndicatorView:function(){if(void 0!==this._indicatorView&&!0===this._shouldSetIndicators){this._layoutSubViews();var e=this._interactiveSpans.map(function(e){return e.start});this._indicatorView.setIndicators(e),this._shouldSetIndicators=!1}},_pointerManipulationRelease:function(e){if(e.id===this._pointerCtx.id){if(void 0!==e.position){var t=this._getSliderPercentFromPosition(e.position);this._syncPendingOnProgress=!0,this.progress=t,this._onUpdated(this.progress),this._onCommitted(this.progress)}void 0!==this._pendingThumbNode&&this._pendingThumbNode.additionalTransitionStates.remove("expanded"),this._pointerCtx={},e.handled=!0}},_pointerManipulationMove:function(e){e.id===this._pointerCtx.id&&(this.pending=this._getSliderPercentFromPosition(e.position),this._onUpdated(this.pending),e.handled=!0)},_onPointerDown:function(e){o._onPointerDown.apply(this,arguments),this._pointerCtx.id=e.id,this._syncPendingOnProgress=!1,this.pending=this._getSliderPercentFromPosition(e.position),void 0!==this._pendingThumbNode&&this._pendingThumbNode.additionalTransitionStates.add("expanded"),this._onUpdated(this.pending),e.handled=!0,e.pointerCapture=!0},_getSliderPercentFromPosition:function(e){var t=e[this._axialCoordinate]-this._displayProxy.getViewportSpaceNaturalBounds()[this._axialCoordinate]-this.margin;return!0===this.reverseLayout&&(t=this[this._axialMeasure]-t),Math.min(1,Math.max(0,t/this[this._axialMeasure]))},_raiseSizeChanged:function(){this._layoutSubViews(),o._raiseSizeChanged.apply(this,arguments)},_layoutSubViews:function(){void 0!==this._indicatorView&&(this._indicatorView.width=this.width,this._indicatorView.height=this.height),void 0!==this._backgroundNode&&(this._backgroundNode[this._axialMeasure]=this[this._axialMeasure],this._updateThumb(this._progressThumbNode,this.progress),void 0!==this._pendingThumbNode&&this._updateThumb(this._pendingThumbNode,this.pending))},_onProgressChanged:function(e){!0===this._syncPendingOnProgress&&(this.pending=e),this._updateThumb(this._progressThumbNode,e)},_onPendingChanged:function(e){void 0!==this._pendingThumbNode&&this._updateThumb(this._pendingThumbNode,e)},_updateThumb:function(e,t){if(!0===this._isInitialized){var i=this._range,n=this.pending,o=this.progress;if(!0!==this.reverseLayout?e[this._axialCoordinate]=this.margin+i*t-this[this._axialThumb]/2:e[this._axialCoordinate]=this[this._axialMeasure]-i*t-this[this._axialThumb]/2-this.margin,this._progressNode[this._axialMeasure]=this.margin+i*Math.max(o,n),this._overlayNode[this._axialMeasure]=i*Math.min(o,n),void 0!==this._interactiveSpans&&void 0!==e.additionalTransitionStates){var r;this._interactiveSpans.forEach(function(e){if(t>=e.start&&t<=e.end)return r=e,!0}),e.additionalTransitionStates.remove("interactive"),void 0!==r&&e.additionalTransitionStates.add("interactive")}this._tryReverseLayout()}},_attachIndicator:function(e){this._indicatorView=e,this._trySetIndicatorsInIndicatorView()},_attachThumb:function(e){this._pendingThumbNode=e,this._pendingThumbNode[this._offAxialCoordinate]=this[this._offAxialMeasure]/2-this[this._offAxialThumb]/2},_isActiveIndicator:function(){return!0===this._showIndicators},_createDisplayNodes:function(){var e,n=this;e={opacity:this.backgroundOpacity},e[this._axialMeasure]=this[this._axialMeasure],e[this._offAxialMeasure]=this[this._offAxialMeasure],this._backgroundNode=a.new(e),this._backgroundNode.setDebugData("viewPart","backgroundNode"),this._displayContent.children.add(this._backgroundNode),e={opacity:this.progressOpacity},e[this._axialCoordinate]=0,e[this._axialMeasure]=this.margin,e[this._offAxialMeasure]=this[this._offAxialMeasure],this._progressNode=a.new(e),this._progressNode.setDebugData("viewPart","progressNode"),this._displayContent.children.add(this._progressNode),e={},e[this._axialCoordinate]=this.margin,e[this._axialMeasure]=0,e[this._offAxialMeasure]=this[this._offAxialMeasure],this._overlayNode=a.new(e),this._overlayNode.setDebugData("viewPart","overlayNode"),this._displayContent.children.add(this._overlayNode),this._createThumbDisplayNode("_progressThumbNode"),this._tryReverseLayout(),this.runUntilDisposed("imagesReady",function(){return l.all([n._backgroundNode.setUri(n.backgroundUri),n._progressNode.setUri(n.progressUri),n._overlayNode.setUri(n.pendingOverlayUri),n._progressThumbNode.setUri(n.progressThumbUri)]).then(function(){n._fulfillReadyPromise()}).catch(function(e){t.wrap(e,{message:"imagesReady promise rejected",level:i.WARNING,area:"design.views.SliderView._createDisplayNodes.imagesReady"}).ignore(),n._fulfillReadyPromise()})})},_createThumbDisplayNode:function(e){var t={};t[this._axialCoordinate]=this.margin-this[this._axialThumb]/2,t[this._offAxialCoordinate]=this[this._offAxialMeasure]/2-this[this._offAxialThumb]/2,t[this._axialMeasure]=this[this._axialThumb],t[this._offAxialMeasure]=this[this._offAxialThumb],this[e]=a.new(t),this[e].setDebugData("viewPart","name"),this._displayContent.children.add(this[e])},_tryReverseLayout:function(){!0===this.reverseLayout&&(this._ensureDisplayContent(!0),this._displayContent[this._axialScale]=-1,this._displayContent[this._axialCoordinate]=this[this._axialMeasure])}})})})}(),function(){"use strict";define("platform/dependent/IAirPlay",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.IAirPlay",t,function(){e.properties({isAvailable:{get:void 0},hasSession:{get:void 0},isExternalDisplayActive:{get:void 0},activeDeviceName:{get:void 0}}),e.events(["isAvailableChanged","hasSessionChanged","isExternalDisplayActiveChanged","activeDeviceNameChanged"]),e.methods({tryOpenDevicePicker:void 0,closeDevicePicker:void 0})})})}(),function(){"use strict";define("platform/dependent/AirPlay",["core/oop","core/Disposable","platform/dependent/IAirPlay"],function(e,t,i){return e.classDef("platform.dependent.AirPlay",[t,i],function(){e.singleton(function(){this._created()}),e.properties({isAvailable:{get:function(){return!1}},hasSession:{get:function(){return this._hasSession}},isExternalDisplayActive:{get:function(){return!1}},activeDeviceName:{get:function(){}},_hasSession:{defaultValue:!1}}),e.events(["isAvailableChanged","hasSessionChanged","isExternalDisplayActiveChanged","activeDeviceNameChanged"]),e.methods({tryOpenDevicePicker:function(){},closeDevicePicker:function(){},_onStateChanged:function(e){this._hasSession=e.hasSession}})})})}(),function(){"use strict";define("design/views/TransportControlsInteraction",["core/oop"],function(e){return e.enumDef("design.views.TransportControlsInteraction",["CHROMECAST","CLOSED_CAPTIONS","FULLSCREEN_ENTER","FULLSCREEN_EXIT","INTERACTIVE","PAUSE","PLAY","PLAY_NEXT_HOVER_ENDED","PLAY_NEXT_HOVER_STARTED","SKIP_BACK","SKIP_FORWARD","TIMELINE_SCRUBBING_ENDED","TIMELINE_SCRUBBING_STARTED","VOLUME","ZOOM_IN","ZOOM_OUT"])})}(),function(){"use strict";define("design/views/TransportControlsView",["core/oop","core/Exception","core/Lifecycleable","ui/Localization","ui/views/CompositeView","ui/viewModelProviders/TextFromStringProvider","core/data/ExplicitValueProvider","core/Debug","ui/viewModelProviders/ValueProvider","platform/common/PlaybackState","platform/common/Dispatcher","platform/dependent/AirPlay","platform/dependent/graphics/Image","platform/dependent/graphics/Viewport","platform/common/NetworkConnectionState","platform/ChromecastWrapper","platform/dependent/ClosedCaptioningSettings","ui/logging/UserInteractionLogEntry","dataservices/VideoPlayableStatus","dataservices/types/TrickPlayImageSize","dataservices/VideoUtil","design/PopupManager","design/analytics/UserInteractionTargets","design/ScreenUtil","design/views/NavigationBarViewManager","design/views/TransportControlsInteraction","ui/Transition","lib/lodash/objects/clone","ui/ViewStates","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x){var A=function(){},k=e.enumDef("design.views.TransportControlsView.seekActions",{REWIND:"rewind",FASTFORWARD:"fastforward",DRAG:"drag",CLICK:"click"});return e.classDef("design.views.TransportControlsView",o,function(o){e.constructor(function(){this.autoEnterChildren=!1,this._chromecastAPI=f.singleton.getChromecast(),o.$ctor.apply(this,arguments),this._isPlaying=!1,this._trickPlayTestImage=p.new(),this.hookUntilDisposed(this._chromecastAPI,"isAvailableChanged",this._onChromecastAvailabilityChanged.bind(this)),this.hookUntilDisposed(h.singleton,"isFullscreenChanged",this._onFullscreenChanged.bind(this)),this.hookUntilDisposed(u.singleton,"isExternalDisplayActiveChanged",this._ensureSubViewsReady.bind(this))}),e.properties({video:{onChange:"_onVideoChanged"},alwaysShowTitle:void 0,timelineUpdateMS:void 0,skipSeconds:void 0,startFromBeginning:void 0,_videoHasClosedCaptions:{defaultValue:!1,onChange:"_onVideoHasClosedCaptionsChanged"},_showClosedCaptionsToggle:{defaultValue:!1,onChange:"_ensureSubViewsReady"},_timelineTimerCancel:void 0,_isPlaying:void 0,_initTimeLineX:void 0,_timeLineX:void 0,_isDragged:void 0,_isFullscreen:{defaultValue:!1},_isZoomed:{defaultValue:!1},_canZoomVideo:{defaultValue:!1},_isTimelineScrubbing:{defaultValue:!1},_expectedPosition:{defaultValue:0},_cachedTimeBag:void 0,_ccIconButton:void 0,_trickPlayTestImage:void 0,_aspectRatio:void 0,_playOnClose:void 0,_buttonsAreRegistered:{defaultValue:!1},_trickPlayBubble:{get:function(){return this.find("trickPlayBubble")}},_ccSettingsDialogId:void 0,_ccSettingsDialog:{get:function(){var e=b.singleton.getPersistentPopup("CCSettingsDialogView");return e.disposableId!==this._ccSettingsDialogId&&(this._ccSettingsDialogId=e.disposableId,this.hookUntilDisposed(e,"closed",this._onCCSettingsDialogClosed.bind(this))),e}},_playableStatus:{defaultValue:_.VOD},_isPlayNextActive:{
defaultValue:!1},_isAtLivePoint:{defaultValue:!1},_isInteractive:void 0,_chromecastAPI:void 0,_interactiveButton:void 0,_timeline:void 0,_indicatorSpans:void 0,_shouldTrySetTimelineIndicators:{defaultValue:!0}}),e.events(["readyToShow","interactionDetected"]),e.methods({setPlayableStatus:function(e){this._playableStatus=e,this._ensureSubViewsReady()},setIsInteractive:function(e){this._isInteractive=e,this._ensureSubViewsReady()},setIndicatorSpans:function(e){this._indicatorSpans=E(e),this._shouldTrySetTimelineIndicators=!0},showIndicators:function(){this._timeline.showIndicators()},hideIndicators:function(){this._timeline.hideIndicators()},dismissOpenOverlays:function(e){this._dismissVolumeSlider(e),this._dismissClosedCaptionsToggle()},getInteractiveButtonCenterPoint:function(){if(void 0!==this._interactiveButton)return{x:(this._interactiveButton.x+this._interactiveButton.x+this._interactiveButton.width)/2,y:(this._interactiveButton.y+this._interactiveButton.y+this._interactiveButton.height)/2}},jumpToLive:function(){this._playableStatus===_.LIVE&&(this.startFromBeginning=!1,this._handleLiveSeek())},jumpToBeginning:function(){this._playableStatus===_.LIVE&&(this.startFromBeginning=!0,this._handleLiveSeek())},_onVideoChanged:function(e,t){this.unhook(function(e){return e.target===t});var i=this._trickPlayBubble;void 0!==i&&(i.video=e);var n=this;C.singleton.byDesignCall({desktop:function(){var t=n._subViews.volumeControl;void 0!==t&&(t.video=e)}}),this._cancelTimelineTimer(),void 0!==e&&(this.hookUntilDisposed(e,"videoDataChanged",this._videoDataChangedHandler.bind(this)),this.hookUntilDisposed(e,"playbackStateChanged",this._videoPlaybackStateChanged.bind(this)),this._expectedPosition=e.currentVideoPosition,this._ensureTimelineTimer(),this._videoPlaybackStateChanged(e.playbackState))},_onVideoHasClosedCaptionsChanged:function(){void 0!==this._ccIconButton&&(this._ccIconButton.isEnabled=this._videoHasClosedCaptions),this._ensureSubViewsReady()},_onChromecastAvailabilityChanged:function(){this._ensureSubViewsReady()},_onNewVideoIsOpened:function(){var e=this;this.video.getTrickPlayUri(y.SMALL,0).then(function(t){return e._trickPlayTestImage.setUri(t)}).then(function(){e._updateAspectRatio(e._trickPlayTestImage)}).catch(function(i){e._updateAspectRatio(void 0),t.wrap(i,{message:"updateAspectRatio promise chain rejected",area:"design.views.TransportControlsView._onNewVideoIsOpened.viewsReady"}).ignore()})},_videoDataChangedHandler:function(e){this._shouldTrySetTimelineIndicators=!0},_getTransition:function(e,t,i){return{offsetX:P.new({to:t,duration:.15}),offsetY:P.new({to:i,duration:.15}),contentScaleX:P.new({to:e,duration:.15}),contentScaleY:P.new({to:e,duration:.15})}},_getInitialTransition:function(){return this._getTransition(1,0,0)},_getZoomTransition:function(){var e=h.singleton.width/h.singleton.height,t=this._aspectRatio>e?this._aspectRatio/e:e/this._aspectRatio,i=this.video.x-(this.video.width*t-this.video.width)/2,n=this.video.y-(this.video.height*t-this.video.height)/2;return this._getTransition(t,i,n)},_replaceTransitionMap:function(){void 0!==this.video&&(this.video.transitionMap={initial:this._getInitialTransition(),zoomed:this._getZoomTransition()})},_updateAspectRatio:function(e){void 0!==e&&(0!==e.width&&0!==e.height?this._aspectRatio=e.width/e.height:this._aspectRatio=16/9,this._replaceTransitionMap(),this._updateCanZoomVideo()),this._onReadyToShow()},_getViewModelChromecastStatus:function(){var e,t=n.singleton.getResource("ResChromecastUnknownReceiver"),i=this._chromecastAPI.applicationStatus.device||{},o=i.friendlyName||t;switch(this._chromecastAPI.playbackState){case c.BUFFERING:e=n.singleton.getResource("ResChromecastStatusBuffering",{receiver:o});break;case c.ENDED:e=n.singleton.getResource("ResChromecastStatusEnded",{receiver:o});break;case c.ERROR:e=n.singleton.getResource("ResChromecastStatusError",{receiver:o});break;case c.SEEKING:e=n.singleton.getResource("ResChromecastStatusSeeking",{receiver:o});break;case c.OPENING:e=n.singleton.getResource("ResChromecastStatusLoading",{receiver:o});break;case c.PAUSED:e=n.singleton.getResource("ResChromecastStatusPaused",{receiver:o});break;case c.PLAYING:e=n.singleton.getResource("ResChromecastStatusPlaying",{receiver:o});break;default:e=n.singleton.getResource("ResChromecastStatusUnknown",{receiver:o})}var r=a.new("ChromecastVideoPlaceholderStatusText");return r.initialize({value:e}),l.new(r,"value")},_videoPlaybackStateChanged:function(e,t){var i=this._isPlaying;this._isPlaying=e===c.PLAYING||e===c.OPENING||i&&e===c.SEEKING||i&&e===c.BUFFERING,!0===w.singleton.isVideoReadyToPlay(e,t)&&this._onNewVideoIsOpened(),void 0!==this.find("chromecastStatus")&&(this.find("chromecastStatus").viewModel=this._getViewModelChromecastStatus()),e===c.PAUSED&&this._setIsAtLive(!1),this._isPlaying!==i&&this._ensureSubViewsReady(),void 0!==this.startFromBeginning&&!0===this._isPlaying&&this._handleLiveSeek()},_runIfVideoAttached:function(e){void 0!==this.video&&e.call(this,this.video)},_handleLiveSeek:function(){this.startFromBeginning;var e=this;this._runIfVideoAttached(function(t){var i=0;!1===e.startFromBeginning&&(i=2147483648,!1===e._isPlaying&&e._handleUserInteraction(R.PLAY)),e._setIsAtLive(!1===e.startFromBeginning),e._setVideoPosition(t,i),e.startFromBeginning=void 0})},_updateTimeline:function(){var e=this;this._runIfVideoAttached(function(t){var i=t.lastSeekablePosition,n=e._getVideoPosition(t);if(i>0&&void 0!==e._timeline){if(void 0!==e._indicatorSpans&&!0===e._shouldTrySetTimelineIndicators){e._shouldTrySetTimelineIndicators=!1;for(var o=[],r=0,a=e._indicatorSpans.length;r<a;++r){var s=e._indicatorSpans[r];s.startTime<=i&&s.endTime<=i&&o.push({start:s.startTime/i,end:s.endTime/i})}e._timeline.setIndicatorSpans(o)}var l=Math.min(n/i,1);!1===e._isAtLivePoint&&i-n<5&&this._setIsAtLive(!0),!0===this._isAtLivePoint&&(l=1),e._timeline.progress=l}e._ensureUpdatedTimeText(),e._videoHasClosedCaptions=t.closedCaptionsAvailable})},_onTimelineTimerInterval:function(){var e=this;!0===this._isTimelineScrubbing&&this._timeLineX!==this._initTimeLineX&&(this._isDragged=!0),!1===this._isTimelineScrubbing&&e._updateTimeline()},_ensureTimelineTimer:function(){this._cancelTimelineTimer(),this._timelineTimerCancel=d.singleton.postInterval(this.timelineUpdateMS,this._onTimelineTimerInterval.bind(this))},_cancelTimelineTimer:function(){void 0!==this._timelineTimerCancel&&(this._timelineTimerCancel(),this._timelineTimerCancel=void 0)},_ensureSubViewsDeactivated:function(){this._playOnClose=!1,this.video=void 0,o._ensureSubViewsDeactivated.apply(this,arguments)},_ensureUpdatedTimeText:function(){var e=this._getTimePropertyBag();if(JSON.stringify(e)!==JSON.stringify(this._cachedTimeBag)){this._cachedTimeBag=e;var t=this.find("progressText");void 0!==t&&(t.viewModel=this._getViewModelProgressText());var i=this.find("remainingText");void 0!==i&&(i.viewModel=this._getViewModelRemainingText());var n=this.find("dividerText");void 0!==n&&(n.viewModel=this._getViewModelDividerText());var o=this.find("liveProgressText");void 0!==o&&(o.viewModel=this._getViewModelLiveProgressText())}},_getVideoPosition:function(e){var t=e.currentVideoPosition;return t<=e.lastSeekablePosition&&(this._expectedPosition=t),this._expectedPosition},_setVideoPosition:function(e,t){t<=e.lastSeekablePosition&&(this._expectedPosition=t),e.currentVideoPosition=t},_updateTimelineHandler:function(e){this._timeLineX=this._timeline.width*e,this._runIfVideoAttached(function(t){if(!0===t.hasTrickPlay){var i=this._trickPlayBubble;if(void 0!==i){i.update(Math.floor(t.lastSeekablePosition*e));var n=this._timeline.x+this._timeline.width*e-i.width/2,o=C.singleton.byDesign({desktop:16,mobile:0});n=Math.max(this._timeline.x+o,n),n=Math.min(this._timeline.x+this._timeline.width-o-i.width,n),i.x=n}}}),!1===this._isTimelineScrubbing&&(this._isTimelineScrubbing=!0,this._initTimeLineX=this._timeLineX,this._isDragged=!1,this._handleUserInteraction(R.TIMELINE_SCRUBBING_STARTED),this._ensureSubViewsReady())},_setIsAtLive:function(e){e=e&&this._playableStatus===_.LIVE,this._isAtLivePoint!==e&&(this._isAtLivePoint=e,this._ensureSubViewsReady())},_commitTimelineHandler:function(e){var t=this,i=void 0,n=void 0;this._runIfVideoAttached(function(o){i=o.currentVideoPosition,n=o.lastSeekablePosition*e,t._setVideoPosition(o,n),this._updateTimeline()}),this._setIsAtLive(e>.98),!0===this._isTimelineScrubbing&&(this._isTimelineScrubbing=!1,this._handleUserInteraction(R.TIMELINE_SCRUBBING_ENDED),this._ensureSubViewsReady(),this._runIfVideoAttached(function(e){var t=null;i>n?t=k.REWIND:i<n&&(t=k.FASTFORWARD),v.new({area:"design.views.TransportControlsView._timelineScrubInvoked",target:S.PLAYER_SCRUB_BAR,contextualData:{videoEventData:e.videoEventData,seekParams:{mode:t,action:this._isDragged?k.DRAG:k.CLICK,seekStart:Math.round(i),seekEnd:Math.round(n)}}}).log()}))},_updateCanZoomVideo:function(){var e=h.singleton.naturalWidth,t=h.singleton.naturalHeight,i=e/t,n=this._aspectRatio;this._canZoomVideo=Math.abs(i-n)>=.02,this._ensureSubViewsReady()},_skipHandler:function(e){var t=this;this._runIfVideoAttached(function(i){var n=t._getVideoPosition(i),o=Math.min(i.lastSeekablePosition,Math.max(0,n+e.skipAmount));t._setVideoPosition(i,o),v.new({area:e.interactionArea,target:e.interactionTarget,contextualData:{videoEventData:i.videoEventData,seekParams:{mode:e.mode,action:k.CLICK,seekStart:Math.round(n),seekEnd:Math.round(o)}}}).log()})},_skipForwardInvoked:function(e){this._skipHandler({skipAmount:this.skipSeconds,interactionArea:"design.views.TransportControlsView._skipForwardInvoked",interactionTarget:S.PLAYER_SKIP_FORWARD,mode:k.FASTFORWARD}),this._handleUserInteraction(R.SKIP_FORWARD),e.handled=!0},_skipBackInvoked:function(e){this._setIsAtLive(!1),this._skipHandler({skipAmount:-this.skipSeconds,interactionArea:"design.views.TransportControlsView._skipBackInvoked",interactionTarget:S.PLAYER_SKIP_BACK,mode:k.REWIND}),this._handleUserInteraction(R.SKIP_BACK),e.handled=!0},_playHandler:function(e){this._handleUserInteraction(R.PLAY),e.handled=!0},_pauseHandler:function(e){this._setIsAtLive(!1),this._handleUserInteraction(R.PAUSE),e.handled=!0},_interactiveHandler:function(e){this._handleUserInteraction(R.INTERACTIVE),e.handled=!0},_isHoverStateStart:function(e,t){return!0===I.testFlag(e,I.HOVERED)&&!1===I.testFlag(t,I.HOVERED)},_isHoverStateEnd:function(e,t){return!1===I.testFlag(e,I.HOVERED)&&!0===I.testFlag(t,I.HOVERED)},_playNextCVSUpdateHandler:function(e,t){!0===this._isHoverStateStart(e,t)?this._handleUserInteraction(R.PLAY_NEXT_HOVER_STARTED):!0===this._isHoverStateEnd(e,t)&&this._handleUserInteraction(R.PLAY_NEXT_HOVER_ENDED)},_showCCSettingsDialog:function(){!0===this._isPlaying&&(this._playOnClose=this._isPlaying,this._handleUserInteraction(R.PAUSE)),this._ccSettingsDialog.open()},_onCCSettingsDialogClosed:function(){!0===this._playOnClose&&this._handleUserInteraction(R.PLAY),this._playOnClose=!1},_onClosedCaptionsButtonInvoked:function(e){var t=this;C.singleton.byDesignCall({desktop:function(){t._showClosedCaptionsToggle=!t._showClosedCaptionsToggle},android:function(){t._showCCSettingsDialog()},uwptablet:function(){m.singleton.isEnabled=!m.singleton.isEnabled},ios:function(){m.singleton.isEnabled=!m.singleton.isEnabled}}),this._handleUserInteraction(R.CLOSED_CAPTIONS),e.handled=!0},_expandInvoked:function(e){this._handleUserInteraction(R.FULLSCREEN_ENTER),e.handled=!0},_shrinkInvoked:function(e){this._handleUserInteraction(R.FULLSCREEN_EXIT),e.handled=!0},_onFullscreenChanged:function(e){this._isFullscreen=!0===e,this._ensureSubViewsReady()},_zoomInInvoked:function(e){!0===this.video.supportsNativeZoom?this.video.zoomIn(0,0,this.parent.width,this.parent.height):this.video.additionalTransitionStates.add("zoomed"),this._isZoomed=!0,this._ensureSubViewsReady(),this._handleUserInteraction(R.ZOOM_IN),e.handled=!0},_zoomOutInvoked:function(e){!0===this.video.supportsNativeZoom?this.video.zoomOut():this.video.additionalTransitionStates.remove("zoomed"),this._isZoomed=!1,this._ensureSubViewsReady(),this._handleUserInteraction(R.ZOOM_OUT),e.handled=!0},_castInvoked:function(e){switch(this._chromecastAPI.connectionState){case g.DISCONNECTED:this._chromecastAPI.establishSession().catch(A);break;case g.CONNECTING:break;case g.CONNECTED:this._chromecastAPI.destroySession().catch(A)}this._handleUserInteraction(R.CHROMECAST),e.handled=!0},_liveButtonInvoked:function(e){this.jumpToLive(),e.handled=!0},_handleClosedCaptioningSettingsEnabledChanged:function(e,t){t?e.additionalTransitionStates.add("ccEnabled"):e.additionalTransitionStates.remove("ccEnabled")},_getTimePropertyBag:function(){var e=0,t=0;return this._runIfVideoAttached(function(i){e=this._getVideoPosition(i),t=Math.max(0,i.lastSeekablePosition-e)}),{progress:n.singleton.getTimeShortFormat(e),remaining:n.singleton.getTimeShortFormat(t)}},_getViewModelProgressText:function(){var e=this._getTimePropertyBag();return r.new(e.progress)},_getViewModelLiveProgressText:function(){return this._getViewModelProgressText()},_getViewModelRemainingText:function(){var e=this._getTimePropertyBag();return r.new(e.remaining)},_getViewModelDividerText:function(){return r.new("/")},_attachPlay:function(e){this.hookUntilDisposed(e,"invoked",this._playHandler.bind(this))},_attachInteractive:function(e){this._interactiveButton=e,this.hookUntilDisposed(e,"invoked",this._interactiveHandler.bind(this))},_attachPause:function(e){this.hookUntilDisposed(e,"invoked",this._pauseHandler.bind(this))},_attachLiveInactiveButton:function(e){this.hookUntilDisposed(e,"invoked",this._liveButtonInvoked.bind(this))},_attachLivePlay:function(e){this._attachPlay(e)},_attachLiveStop:function(e){this._attachPause(e)},_attachPlayNext:function(e){e.raisesComputedViewStateUpdated=!0,this.hookUntilDisposed(e,"computedViewStateUpdated",this._playNextCVSUpdateHandler.bind(this))},_attachVolumeControl:function(e){this.hookUntilDisposed(e,"volumeInvoked",function(){this._handleUserInteraction(R.VOLUME)}.bind(this))},_attachClosedCaptions:function(e){this._ccIconButton=e,this.hookUntilDisposed(m.singleton,"isEnabledChanged",this._handleClosedCaptioningSettingsEnabledChanged.bind(this,e)),this._handleClosedCaptioningSettingsEnabledChanged(e,m.singleton.isEnabled),this.hookUntilDisposed(e,"invoked",this._onClosedCaptionsButtonInvoked.bind(this))},_attachCast:function(e){this.hookUntilDisposed(e,"invoked",this._castInvoked.bind(this))},_attachRewind:function(e){this.hookUntilDisposed(e,"invoked",this._skipBackInvoked.bind(this))},_attachForward:function(e){this.hookUntilDisposed(e,"invoked",this._skipForwardInvoked.bind(this))},_attachExpand:function(e){this.hookUntilDisposed(e,"invoked",this._expandInvoked.bind(this))},_attachShrink:function(e){this.hookUntilDisposed(e,"invoked",this._shrinkInvoked.bind(this))},_attachZoomIn:function(e){this.hookUntilDisposed(e,"invoked",this._zoomInInvoked.bind(this))},_attachZoomOut:function(e){this.hookUntilDisposed(e,"invoked",this._zoomOutInvoked.bind(this))},_attachTimeline:function(e){this._timeline=e,this.hookUntilDisposed(this._timeline,"updated",this._updateTimelineHandler.bind(this)),this.hookUntilDisposed(this._timeline,"committed",this._commitTimelineHandler.bind(this))},_isActiveTrickPlayBubble:function(){return void 0===this._trickPlayBubble||!0===this._isTimelineScrubbing},_isActivePlay:function(){return!1===this._isPlaying&&(this._playableStatus!==_.LIVE||!0===x.singleton.enableLiveSeeking)},_isActivePause:function(){return!0===this._isPlaying&&(this._playableStatus!==_.LIVE||!0===x.singleton.enableLiveSeeking)},_isActiveLivePlay:function(){return this._playableStatus===_.LIVE&&!1===this._isPlaying&&!0!==x.singleton.enableLiveSeeking},_isActiveLiveStop:function(){return this._playableStatus===_.LIVE&&!0===this._isPlaying&&!0!==x.singleton.enableLiveSeeking},_isActiveLiveInactiveButton:function(){return this._playableStatus===_.LIVE&&!0===x.singleton.enableLiveSeeking&&!1===this._isAtLivePoint},_isActiveLiveIcon:function(){return this._playableStatus===_.LIVE&&(!0!==x.singleton.enableLiveSeeking||!0===this._isAtLivePoint)},_isActiveMetadataArea:function(){return this._playableStatus!==_.LIVE},_isActiveLiveProgressText:function(){return this._playableStatus===_.LIVE},_isActiveRewind:function(){return this._playableStatus!==_.LIVE||!0===x.singleton.enableLiveSeeking},_isActiveForward:function(){return this._playableStatus!==_.LIVE},_isActivePlayNext:function(){return!0===this._isPlayNextActive},_isActiveTimeline:function(){return this._playableStatus!==_.LIVE||!0===x.singleton.enableLiveSeeking},_isActiveTimelinePlaceholder:function(){return!1===this._isActiveTimeline()},_isActiveCast:function(){return!0===this._chromecastAPI.isAvailable},_isActiveInteractive:function(){return!0===this._isInteractive&&!1===this._isActiveChromecastStatus()},_isActiveZoomIn:function(){return this._canZoomVideo&&!1===this._isZoomed},_isActiveZoomOut:function(){return this._canZoomVideo&&!0===this._isZoomed},_isActiveExpand:function(){return!1===this._isFullscreen},_isActiveShrink:function(){return!0===this._isFullscreen},_isActiveTitlePipe:function(){return this._isActiveTitle()},_isActiveTitle:function(){return!0===this.alwaysShowTitle||!0===this._isFullscreen},_isActiveChromecastStatusPipe:function(){return void 0!==this._chromecastAPI.sessionId},_isActiveChromecastStatus:function(){return void 0!==this._chromecastAPI.sessionId},_isActiveClosedCaptionsSettingsAvailable:function(){return!0===this._videoHasClosedCaptions&&!0===this._showClosedCaptionsToggle},_onVolumeControlRealized:function(e){var t=e.find("volumeControl");t.video=this.video},_isActiveNavigationBarVolume:function(){return!1===u.singleton.isExternalDisplayActive},_registerButtons:function(){var e=T.singleton.getActiveNavigationBar();void 0!==e&&T.singleton.registerButtons(this,e,{name:"VolumeControl",isActiveCallback:this._isActiveNavigationBarVolume.bind(this),realizedCallback:this._onVolumeControlRealized.bind(this)})},_onLifecycleStateChanged:function(e,t){e===i.LifecycleStates.ACTIVATED&&!1===this._buttonsAreRegistered&&(this._buttonsAreRegistered=!0,this._registerButtons(),C.singleton.byDesignCall({android:function(){void 0===b.singleton.getPersistentPopup("CCSettingsDialogView")&&b.singleton.createPersistentPopup("CCSettingsDialogView")}})),e===i.LifecycleStates.DEACTIVATED&&(this._trickPlayTestImage.dispose(),this._trickPlayTestImage=void 0),o._onLifecycleStateChanged.call(this,e,t)},_prepareUpdateActiveSubViews:function(){var e=this;return o._prepareUpdateActiveSubViews.apply(this,arguments).then(function(){var t=void 0!==e.viewModel?e.viewModel.playlist:void 0;if(void 0!==t)return t.then(function(t){e._isPlayNextActive=void 0!==t});e._isPlayNextActive=!1})},_handleUserInteraction:function(e){this._onInteractionDetected(e),e!==R.VOLUME&&this._dismissVolumeSlider(),e!==R.CLOSED_CAPTIONS&&this._dismissClosedCaptionsToggle()},_dismissVolumeSlider:function(e){void 0!==this._subViews.volumeControl&&(this._subViews.volumeControl.hideVolumeSlider(e),this._ensureSubViewsReady())},_dismissClosedCaptionsToggle:function(){this._showClosedCaptionsToggle=!1}})})})}(),function(){"use strict";define("design/views/TrickPlayBubbleView",["core/oop","core/Exception","core/logging/Levels","ui/views/CompositeView","ui/Localization","core/data/ExplicitValueProvider","ui/viewModelProviders/ValueProvider"],function(e,t,i,n,o,r,a){return e.classDef("design.views.TrickPlayBubbleView",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments)}),e.properties({video:void 0,imageSize:void 0,_isUpdating:{defaultValue:!1},_lastTime:{defaultValue:0}}),e.methods({update:function(e){if(this._lastTime=e,void 0!==this.video&&!0!==this._isUpdating){var n=this,o={};n._isUpdating=!0,this.runUntilDisposed("viewModelChanged",function(){return n.video.getTrickPlayUri(n.imageSize,e).then(function(e){return n.find("image").setUri(e)}).then(function(){n._isUpdating=!1,n._updateImageSize(),n._lastTime!==e&&n._requeueUpdate(n._lastTime)}).catch(function(e){n._isUpdating=!1,t.wrap(e,{message:"Unable to display trick play image.",area:"design.views.TrickPlayBubbleView.update",level:i.WARNING,contextualData:{uri:o.uri}}).logTelemetry()})})}this.find("time").viewModel=this._getTimeViewModel()},_updateImageSize:function(){var e=this.find("image");if(e.naturalWidth>0&&e.naturalHeight>0){var t=e.naturalWidth/e.naturalHeight,i=Math.round(t*this.height);e.width=i,e.height=this.height;var n=i-this.width;this.x-=Math.round(n/2),this.width=i,this.find("background").width=i,this.find("timeProtection").width=i}},_requeueUpdate:function(e){this.update(e)},_getTimeViewModel:function(){var e=o.singleton.getTimeShortFormat(this._lastTime),t=r.new("TrickPlayBubbleViewTime");return t.initialize({value:e}),a.new(t,"value")}})})})}(),function(){"use strict";define("design/views/VolumeSliderView",["core/oop","engine/dependent/Time","platform/dependent/Chromecast","ui/views/CompositeView","application/ClientDevice"],function(e,t,i,n,o){return e.classDef("design.views.VolumeSliderView",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments),this.hookUntilDisposed(i.singleton,"volumeChanged",this._chromecastVolumeChangedHandler.bind(this))}),e.properties({persistVolume:void 0,video:{onChange:"_onVideoChanged"},_volumeSliderVisible:{defaultValue:!1,onChange:"_ensureSubViewsReady"},_minUpdateMillis:{defaultValue:100},_videoSyncMillis:{defaultValue:150},_animateVolumeStates:{defaultValue:!1},_lastVolumeReportTime:{defaultValue:0},_volume:void 0,_volumeButton:void 0,_volumeChangePending:{defaultValue:!1}}),e.events(["volumeInvoked"]),e.methods({showVolumeSlider:function(){this._volumeSliderVisible=!0},hideVolumeSlider:function(e){!0!==e&&!1!==this._volumeChangePending||(this._volumeSliderVisible=!1)},_toggleVolumeSliderVisibility:function(){!0===this._volumeSliderVisible?this.hideVolumeSlider():this.showVolumeSlider()},_getActiveSubViewsReadyPromise:function(){var e=this,t=n._getActiveSubViewsReadyPromise.apply(this,arguments);return!0===this.persistVolume&&(t=t.then(function(){e._volumeUpdatedHandler(o.singleton.persistedVolume,!1)})),t},_onVideoChanged:function(e,t){this.unhook(function(e){return e.target===t}),void 0!==e&&(this._lastVolumeReportTime=0,this.hookUntilDisposed(e,"volumeChanged",this._videoVolumeChangedHandler.bind(this)),!0===this.persistVolume?void 0!==this._volume?e.volume=this._volume.progress:e.volume=o.singleton.persistedVolume:this._videoVolumeChangedHandler(e.volume))},_videoVolumeChangedHandler:function(e){this._synchronizeVolume(e)},_volumeUpdatedHandler:function(e,i){this._volumeChangePending=void 0===i||i;var n=t.singleton.now();(!1===this._volumeChangePending||n-this._lastVolumeReportTime>=this._minUpdateMillis)&&(void 0!==this.video&&(this.video.volume=e),this._tryUpdateVolumeButtonTransitions(e),this._lastVolumeReportTime=n)},_volumeCommittedHandler:function(e){this._volumeUpdatedHandler(e,!1),!0===this.persistVolume&&(o.singleton.persistedVolume=e)},_tryUpdateVolumeButtonTransitions:function(e){if(!0===this._animateVolumeStates){var t=this._volumeButton.additionalTransitionStates;t.remove("volume_high"),t.remove("volume_med"),t.remove("volume_low"),t.remove("volume_mute"),e>.8?t.add("volume_high"):e>.4?t.add("volume_med"):e>0?t.add("volume_low"):t.add("volume_mute")}},_chromecastVolumeChangedHandler:function(){this._synchronizeVolume(i.singleton.applicationStatus.volume)},_synchronizeVolume:function(e){var i=t.singleton.now();!1===this._volumeChangePending&&i-this._lastVolumeReportTime>=this._videoSyncMillis&&(void 0!==this._volume&&(this._volume.progress=e),!0===this.persistVolume&&(o.singleton.persistedVolume=e))},_volumeButtonInvoked:function(e){this._toggleVolumeSliderVisibility(),e.handled=!0,this._onVolumeInvoked()},_attachVolumeButton:function(e){this._volumeButton=e;var t=e.transitionMap;this._animateVolumeStates=void 0!==t&&void 0!==t.volume_low,this.hookUntilDisposed(this._volumeButton,"invoked",this._volumeButtonInvoked.bind(this))},_attachVolume:function(e){this._volume=e,!0!==this.persistVolume&&void 0!==this.video?this._volume.progress=this.video.volume:this._volume.progress=o.singleton.persistedVolume,this.hookUntilDisposed(this._volume,"updated",this._volumeUpdatedHandler.bind(this)),this.hookUntilDisposed(this._volume,"committed",this._volumeCommittedHandler.bind(this))},_isActiveVolumeProtection:function(){return!0===this._volumeSliderVisible},_isActiveVolume:function(){return!0===this._volumeSliderVisible}})})})}();!function(){"use strict";define("design/templates/TransportControlsTemplates",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","dataservices/types/TrickPlayImageSize","design/ScreenUtil","design/analytics/UserInteractionTargets","design/templates/ButtonTemplates","design/templates/ColorTemplates","design/templates/LayoutTemplates","design/templates/TemplatesModule","design/templates/TextFormatTemplates","design/templates/TransitionTemplates","design/templates/ViewTemplates","design/views/PercentageIndicatorView","design/views/SliderView","design/views/TransportControlsView","design/views/TrickPlayBubbleView","design/views/VolumeSliderView","platform/common/Interpolations","platform/dependent/graphics/Viewport","ui/AnchoredLayout","ui/Axis","ui/StackedLayout","ui/Transition"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C){return e.classDef("design.templates.TransportControlsTemplates",c,function(c){e.singleton(function(){c.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=d.singleton.exports,c=u.singleton.exports,T=p.singleton.exports,R=a.singleton.exports,P=s.singleton.exports,E=o.singleton,I=l.singleton.exports,x=o.singleton.byDesign.bind(o.singleton),A=o.singleton.byScreen.bind(o.singleton),k=o.dpiDesignAwareImageUri.bind(o.singleton),V=o.dpiScreenAwareImageUri.bind(o.singleton),M=s.singleton.withAlpha.bind(s.singleton),D=k("btn_play_default","player_controls"),O=k("btn_play_hover","player_controls"),N=k("btn_play_down","player_controls"),F=k("btn_play_disabled","player_controls"),L=k("btn_pause_default","player_controls"),B=k("btn_pause_hover","player_controls"),H=k("btn_pause_down","player_controls"),U=k("btn_pause_disabled","player_controls"),$=k("btn_playnext_default","player_controls"),W=k("btn_playnext_hover","player_controls"),j=k("btn_playnext_down","player_controls"),G=k("btn_playnext_disabled","player_controls"),z=k("btn_10back_default","player_controls"),K=k("btn_10back_hover","player_controls"),Y=k("btn_10back_down","player_controls"),q=k("btn_10back_disabled","player_controls"),Q=k("btn_10forward_default","player_controls"),X=k("btn_10forward_default","player_controls"),J=k("btn_10forward_default","player_controls"),Z=k("btn_10forward_default","player_controls"),ee=k("btn_cc_off_default","player_controls"),te=k("btn_cc_off_hover","player_controls"),ie=k("btn_cc_off_down","player_controls"),ne=k("btn_cc_off_disabled","player_controls"),oe=k("btn_cc_on_default","player_controls"),re=k("btn_cc_on_hover","player_controls"),ae=k("btn_cc_on_down","player_controls"),se=k("btn_cc_on_disabled","player_controls"),le=k("btn_player_expand_default","player_controls"),ce=k("btn_player_expand_hover","player_controls"),de=k("btn_player_expand_down","player_controls"),ue=k("btn_player_expand_disabled","player_controls"),pe=k("btn_player_reduce_default","player_controls"),he=k("btn_player_reduce_hover","player_controls"),ge=k("btn_player_reduce_down","player_controls"),fe=k("btn_player_reduce_disabled","player_controls"),me=k("btn_volume_2_default","player_controls"),ve=k("btn_volume_2_hover","player_controls"),_e=k("btn_volume_2_down","player_controls"),ye=k("btn_volume_2_default","player_controls"),we=k("btn_volume_2_hover","player_controls"),be=k("btn_volume_2_down","player_controls"),Se=k("btn_volume_1_default","player_controls"),Ce=k("btn_volume_1_hover","player_controls"),Te=k("btn_volume_1_down","player_controls"),Re=k("btn_volume_0_default","player_controls"),Pe=k("btn_volume_0_hover","player_controls"),Ee=k("btn_volume_0_down","player_controls"),Ie=k("btn_volume_mute_default","player_controls"),xe=k("btn_volume_mute_hover","player_controls"),Ae=k("btn_volume_mute_down","player_controls"),ke=x({desktop:"/assets/images/timeline/desktop/volume_background.png",mobile:"/assets/images/timeline/mobile/volume_background.png"}),Ve=x({desktop:"/assets/images/timeline/desktop/progress.png",mobile:"/assets/images/timeline/mobile/volume_progress.png"}),Me=x({desktop:"/assets/images/timeline/desktop/progress.png",mobile:"/assets/images/timeline/mobile/volume_progress.png"}),De=k("volume_progressThumb","timeline"),Oe=k("btn_interactive_control_default","interactive"),Ne=V("btn_play_live_default","player_controls"),Fe=V("btn_stop_live_default","player_controls"),Le=V("icn_live_active","player_controls"),Be=V("btn_live_inactive_default","player_controls"),He=k("interactiveMarker","interactive"),Ue=k("interactiveThumb","interactive"),$e=k("pendingThumb","timeline"),We="/assets/images/player_controls/desktop/metadata_pipe.png",je=this.unregistered,Ge=je.partials={},ze=R.components,Ke={$extend:T.TextView,format:e.closedCaptionToggleText,horizontalAlignment:t.CENTER,verticalAlignment:i.CENTER},Ye={$extend:T.accessibleView(T.ToggleView,"ResA11yClosedCaptionsSwitch"),width:91,height:19,subViewRegistrations:{$extend:T.ViewRegistrations,background:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.ImageView,width:91,height:19,uri:"/assets/images/player_controls/desktop/btn_cc_toggle_outline.png"}},on:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,isActiveFromOwner:!0,template:{$extend:T.CompositeView,layout:{$type:S,primaryAxis:b.HORIZONTAL,spacing:1},subViewRegistrations:{$extend:T.ViewRegistrations,onText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,viewModelFactoryId:"ResOn",template:{$extend:Ke,format:e.closedCaptionToggleTextActive,width:45,height:20}},offText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,viewModelFactoryId:"ResOff",template:{$extend:Ke,analyticsValue:r.PLAYER_CAPTIONS_DISABLED,width:45,height:20,isInvokable:!0,isPointerTarget:!0}}}}},off:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,isActiveFromOwner:!0,template:{$extend:T.CompositeView,layout:{$type:S,primaryAxis:b.HORIZONTAL,spacing:1},subViewRegistrations:{$extend:T.ViewRegistrations,onText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,viewModelFactoryId:"ResOn",template:{$extend:Ke,analyticsValue:r.PLAYER_CAPTIONS_ENABLED,width:45,height:20,isInvokable:!0,isPointerTarget:!0}},offText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,viewModelFactoryId:"ResOff",template:{$extend:Ke,format:e.closedCaptionToggleTextActive,width:45,height:20}}}}}}},qe={$extend:T.CompositeView,layoutProps:{$extend:I.layouts.anchorBottomRight,margin:{bottom:63}},width:123,height:84,backgroundColor:P.secondaryControlProtection,subViewRegistrations:{$extend:T.ViewRegistrations,closedCaptionHeader:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,viewModelFactoryId:"ResClosedCaptions",template:{$extend:Ke,format:e.closedCaptionToggleTitle,x:0,y:13,width:123,height:e.closedCaptionToggleTitle.size}},captionsEnabled:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,viewModelFactoryId:"ClosedCaptioningToggle",template:{$extend:Ye,x:16,y:32}},closedCaptionSettings:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.CompositeView,analyticsValue:r.PLAYER_CAPTIONS_SETTINGS,isInvokable:!0,isPointerTarget:!0,x:20,y:59,width:83,height:13,layout:{$type:S,primaryAxis:b.HORIZONTAL,spacing:10},subViewRegistrations:{$extend:T.ViewRegistrations,icon:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.ImageView,width:13,height:13,uri:"/assets/images/player_controls/desktop/btn_cc_settings_default.png"}},label:{
$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,viewModelFactoryId:"ResCaptionsSettings",template:{height:13,$extend:Ke}}}}}}},Qe={$extend:T.TextView,verticalAlignment:i.CENTER,format:e.playerTimeFormat,layoutProps:I.layouts.anchorFillLeftCropLeft},Xe={$extend:T.TextView,verticalAlignment:i.CENTER,format:e.playerTimelineMetadataFormat,layoutProps:I.layouts.anchorStretchVertically},Je=x({mobile:70,daydream:100});je.trickPlayBubblePartialTemplate={$type:m,imageSize:n.SMALL,width:150,height:80,layoutProps:{$extend:I.layouts.anchorTop,margin:{left:1e4,top:-95}},layout:{$type:w},subViewRegistrations:{$extend:T.ViewRegistrations,background:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.View,isReadyInit:!0,width:150,height:80,backgroundColor:M(P.opaqueBlack,.5)}},image:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.ImageView,uri:void 0}},timeProtection:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.View,isReadyInit:!0,height:20,backgroundColor:M(P.opaqueBlack,.5),layoutProps:{anchor:{bottom:!0}}}},time:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.TextView,format:e.playerTrickplayTime,height:20,layoutProps:{anchor:{bottom:!0},margin:{bottom:-5}},isReadyInit:!0,horizontalAlignment:t.CENTER}}}};var Ze={$type:C,duration:.2,interpolation:_.EASE},et={$type:C,duration:.1,interpolation:_.EASE},tt={$extend:et,to:1},it={$extend:et,to:0},nt={$extend:c.instantTransition,to:$e},ot={$extend:c.instantTransition,to:Ue},rt=x({desktop:4,mobile:3}),at=x({desktop:18,mobile:16}),st=x({desktop:14,mobile:16}),lt=st/at,ct={initial:{set_uri:nt,contentScaleX:{$extend:Ze,to:lt},contentScaleY:{$extend:Ze,to:lt},offsetX:{$extend:Ze,to:(1-lt)*at/2},offsetY:{$extend:Ze,to:(1-lt)*at/2}},hovered:{set_uri:nt,contentScaleX:tt,contentScaleY:tt,offsetX:it,offsetY:it},expanded:{set_uri:nt,contentScaleX:tt,contentScaleY:tt,offsetX:it,offsetY:it},interactive:{set_uri:ot,contentScaleX:tt,contentScaleY:tt,offsetX:it,offsetY:it},"hovered+interactive":{set_uri:ot,contentScaleX:tt,contentScaleY:tt,offsetX:it,offsetY:it},"expanded+interactive":{set_uri:ot,contentScaleX:tt,contentScaleY:tt,offsetX:it,offsetY:it}},dt={$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,attachFromOwner:!0,isActiveFromOwner:!0,template:{$type:h,indicatorTemplate:{$extend:T.ImageView,width:rt,height:rt,uri:He,transitionMap:c.defaultFadeTransition}}},ut={$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,attachFromOwner:!0,template:{$extend:T.CompositeView,forwardOwnershipForSubViews:!0,width:0,height:0,subViewRegistrations:{$extend:T.ViewRegistrations,image:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,template:{$extend:T.ImageView,width:at,height:at,uri:$e,transitionMap:ct}}}}},pt={$type:g,backgroundOpacity:1,progressOpacity:1,backgroundUri:"/assets/images/timeline/desktop/background.png",progressUri:"/assets/images/timeline/desktop/pending.png",pendingOverlayUri:"/assets/images/timeline/desktop/progress.png",progressThumbUri:void 0,thumbWidth:at,thumbHeight:at,margin:0,subViewRegistrations:{$extend:T.ViewRegistrations,thumb:ut,indicator:dt}},ht={$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,attachFromOwner:!0,template:{$extend:T.ImageView,width:at,height:at,uri:x({mobile:De,desktop:$e}),transitionMap:ct}},gt={$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,isActiveFromOwner:!0,template:{$extend:T.View,isReadyInit:!0,width:22,height:92,backgroundColor:P.secondaryControlProtection,x:2,y:-121}},ft={$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,attachFromOwner:!0,isActiveFromOwner:E.byScreen({monitor:!0,default:!1}),template:{$type:g,backgroundOpacity:.3,progressOpacity:1,backgroundUri:ke,progressUri:Ve,pendingOverlayUri:Me,progressThumbUri:void 0,thumbWidth:at,thumbHeight:at,margin:2,primaryAxis:x({desktop:b.VERTICAL,mobile:b.HORIZONTAL}),reverseLayout:x({desktop:!0,mobile:!1}),width:x({desktop:8,mobile:128}),height:x({desktop:77,mobile:4}),x:x({desktop:9,mobile:27}),y:x({desktop:-113,mobile:20}),subViewRegistrations:{$extend:T.ViewRegistrations,thumb:ht}}},mt=x({default:{initial:me},desktop:{initial:me,hovered:ve,pressed:_e,volume_high:ye,"volume_high+hovered":we,"volume_high+pressed":be,volume_med:Se,"volume_med+hovered":Ce,"volume_med+pressed":Te,volume_low:Re,"volume_low+hovered":Pe,"volume_low+pressed":Ee,volume_mute:Ie,"volume_mute+hovered":xe,"volume_mute+pressed":Ae}}),vt={$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,attachFromOwner:!0,template:a.singleton.generateImageButton({width:x({desktop:26,mobile:15}),height:x({desktop:18,mobile:14}),analyticsValue:r.PLAYER_VOLUME_BTN,y:x({desktop:0,mobile:15}),isInvokable:x({desktop:!0,mobile:!1}),isPointerTarget:x({desktop:!0,mobile:!1})},mt)};Ge.volumeControl={$type:v,name:"VolumeControl",isInvokable:x({desktop:!1,mobile:!0}),isPointerTarget:x({desktop:!1,mobile:!0}),persistVolume:x({desktop:!0,mobile:!1}),$height:function(e){return e.height},layoutProps:{$extend:I.layouts.anchorRightCropRight,$margin:function(e){return void 0!==e.margin?e.margin:{right:35}}},subViewRegistrations:{$extend:T.ViewRegistrations,volumeProtection:x({desktop:gt}),volume:ft,volumeButton:vt}};var _t=x({desktop:{$extend:T.CompositeView,forwardOwnershipForSubViews:!0,layout:I.layoutTypes.anchored,layoutProps:{$extend:I.layouts.anchorAll,margin:{left:30,right:30}},subViewRegistrations:{$extend:T.ViewRegistrations,progressText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:{$extend:Qe,format:{$extend:e.playerTimeFormat,bold:!0}}},dividerText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:{$extend:Qe,layoutProps:{$extend:I.layouts.anchorFillLeftCropLeft,margin:{left:5,right:5}}}},remainingText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:Qe},titlePipe:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,$isActiveFromOwner:function(e){return!1===e.forceFull},template:{$extend:T.ImageView,uri:We,width:1,height:50,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:20,right:20}}}},title:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,useOwnerViewModel:!0,$isActiveFromOwner:function(e){return!1===e.forceFull},viewModelPropertyPath:"subViewModels.title",template:{$extend:Xe,layoutProps:I.layouts.anchorFillLeftCropLeft}},chromecastStatusPipe:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,isActiveFromOwner:!0,template:{$extend:T.ImageView,uri:We,width:1,height:50,layoutProps:{$extend:I.layouts.anchorFillLeftCropLeft,margin:{left:20,right:20}}}},chromecastStatus:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:Xe,layoutProps:I.layouts.anchorAll}}}},mobile:{$extend:T.CompositeView,layout:I.layoutTypes.anchored,layoutProps:{$extend:I.layouts.anchorAll,margin:{left:30,right:30}},forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:T.ViewRegistrations,progressText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:{$extend:Qe,horizontalAlignment:t.RIGHT,layoutProps:I.layouts.anchorFillLeftCropLeft,width:Je}},remainingText:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:{$extend:Qe,horizontalAlignment:t.LEFT,layoutProps:I.layouts.anchorFillRightCropRight,width:Je}},timeline:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,isActiveFromOwner:!0,attachFromOwner:!0,template:{$extend:pt,layoutProps:{$extend:I.layouts.anchorStretchHorizontally,margin:A({phone:{left:12,right:12},tablet:{left:21,right:21}})},primaryAxis:b.HORIZONTAL,reverseLayout:!1,height:8}},trickPlayBubble:{$extend:T.ViewRegistration,order:je.subViewRegistrationOrder++,isActiveFromOwner:!0,template:je.trickPlayBubblePartialTemplate}}}}),yt={$extend:T.ImageView,uri:Le,isPointerHittable:!1},wt=A({monitor:22,phone:24,tablet:27}),bt=A({monitor:{$extend:yt,width:41,height:18,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:wt,right:wt}}},phone:{$extend:yt,width:46,height:24,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:wt,right:wt}}},tablet:{$extend:yt,width:46,height:24,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:wt,right:wt}}}}),St=a.singleton.generateImageButton(A({monitor:{width:41,height:18,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:wt,right:wt}}},phone:{width:46,height:24,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:wt,right:wt}}},tablet:{width:46,height:24,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:wt,right:wt}}}}),{initial:Be,hovered:"/assets/images/player_controls/desktop/btn_live_inactive_hover",pressed:"/assets/images/player_controls/desktop/btn_live_inactive_down",disabled:"/assets/images/player_controls/desktop/btn_live_inactive_disabled"}),Ct=0,Tt={trickPlayBubble:Ct++,safeMargin:Ct++,bottomProtection:Ct++,timeline:Ct++,timelinePlaceholder:Ct++,safeMarginLeft:Ct++,play:Ct++,pause:Ct++,livePlay:Ct++,liveStop:Ct++,rewind:Ct++,forward:Ct++,liveIcon:Ct++,playNext:Ct++,safeMarginRight:Ct++,zoomIn:Ct++,zoomOut:Ct++,expand:Ct++,shrink:Ct++,closedCaptionsAvailable:Ct++,closedCaptionsToggle:Ct++,volumeControl:Ct++,cast:Ct++,interactive:Ct++,metadata:Ct++,liveProgress:Ct++};je.transportControlsPartialTemplate={$type:f,skipSeconds:10,timelineUpdateMS:50,layout:I.layoutTypes.anchored,subViewRegistrations:{$extend:T.ViewRegistrations,safeMargin:{$extend:T.ViewRegistration,order:Tt.safeMargin,template:{$extend:T.View,isReadyInit:!0,backgroundColor:P.contentProtection,layoutProps:{$extend:I.layouts.anchorAll,margin:{bottom:function(){return-y.singleton.safeMargins.bottom}}}}},bottomProtection:{$extend:T.ViewRegistration,order:Tt.bottomProtection,template:{$extend:T.View,isReadyInit:!0,layoutProps:{$extend:I.layouts.anchorAll,margin:{top:x({desktop:8,mobile:0})}}}},timeline:x({desktop:{$extend:T.ViewRegistration,order:Tt.timeline,attachFromOwner:!0,isActiveFromOwner:!0,template:{$extend:pt,primaryAxis:b.HORIZONTAL,reverseLayout:!1,layoutProps:I.layouts.anchorFillTopCropTop,height:8}},mobile:void 0}),timelinePlaceholder:x({desktop:{$extend:T.ViewRegistration,order:Tt.timelinePlaceholder,isActiveFromOwner:!0,template:{$extend:T.View,layoutProps:I.layouts.anchorFillTopCropTop,isReadyInit:!0,height:8}},mobile:void 0}),safeMarginLeft:{$extend:T.ViewRegistration,order:Tt.safeMarginLeft,template:{$extend:T.View,isReadyInit:!0,width:function(){return y.singleton.safeMargins.left},layoutProps:{$extend:I.layouts.anchorFillLeftCropLeft}}},play:{$extend:T.ViewRegistration,order:Tt.play,isActiveFromOwner:!0,attachFromOwner:!0,template:a.singleton.generateImageButton(A({monitor:{width:14,height:18,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:25}},analyticsValue:r.PLAYER_PLAY_BTN},phone:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:4}}},tablet:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:20}}}}),{initial:D,hovered:O,pressed:N,disabled:F},"ResPlayCommand")},pause:{$extend:T.ViewRegistration,order:Tt.pause,isActiveFromOwner:!0,attachFromOwner:!0,template:a.singleton.generateImageButton(A({monitor:{width:14,height:18,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:25}},analyticsValue:r.PLAYER_PAUSE_BTN},phone:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:4}}},tablet:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:20}}}}),{initial:L,hovered:B,pressed:H,disabled:U},"ResPauseCommand")},livePlay:{$extend:T.ViewRegistration,order:Tt.livePlay,isActiveFromOwner:!0,attachFromOwner:!0,template:a.singleton.generateImageButton(A({monitor:{width:33,height:33,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:24}}},phone:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:10}}},tablet:{width:58,height:58,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:17}}}}),{initial:Ne,hovered:"/assets/images/player_controls/desktop/btn_play_live_hover.png",pressed:"/assets/images/player_controls/desktop/btn_play_live_down.png",disabled:"/assets/images/player_controls/desktop/btn_play_live_disabled.png"},"ResPlayCommand")},liveStop:{$extend:T.ViewRegistration,order:Tt.liveStop,isActiveFromOwner:!0,attachFromOwner:!0,template:a.singleton.generateImageButton(A({monitor:{width:33,height:33,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:24}}},phone:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:10}}},tablet:{width:58,height:58,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:17}}}}),{initial:Fe,hovered:"/assets/images/player_controls/desktop/btn_stop_live_hover.png",pressed:"/assets/images/player_controls/desktop/btn_stop_live_down.png",disabled:"/assets/images/player_controls/desktop/btn_stop_live_disabled.png"},"ResStopCommand")},liveIcon:{$extend:T.ViewRegistration,order:Tt.liveIcon,isActiveFromOwner:!0,template:bt},liveInactiveButton:{$extend:T.ViewRegistration,order:Tt.liveIcon,isActiveFromOwner:!0,attachFromOwner:!0,template:St},liveProgressText:{$extend:T.ViewRegistration,order:Tt.liveProgress,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:Qe,layoutProps:I.layouts.anchorAll,format:{$extend:e.playerTimeFormat,bold:!0}}},rewind:{$extend:T.ViewRegistration,order:Tt.rewind,attachFromOwner:!0,isActiveFromOwner:!0,template:a.singleton.generateImageButton(A({monitor:{width:26,height:28,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:30}}},phone:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:10}}},tablet:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:16}}}}),{initial:z,hovered:K,pressed:Y,disabled:q},"ResRewind")},forward:x({desktop:void 0,mobile:{$extend:T.ViewRegistration,order:Tt.forward,attachFromOwner:!0,isActiveFromOwner:!0,template:a.singleton.generateImageButton({width:44,height:44,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:A({phone:10,tablet:16})}}},{initial:Q,hovered:X,pressed:J,disabled:Z},"ResFastForward")}}),playNext:x({desktop:{$extend:T.ViewRegistration,order:Tt.playNext,isActiveFromOwner:!0,attachFromOwner:!0,template:a.singleton.generateImageButton({width:17,height:18,layoutProps:{$extend:I.layouts.anchorLeftCropLeft,margin:{left:25}}},{initial:$,hovered:W,pressed:j,disabled:G},"ResPauseCommand")}}),safeMarginRight:{$extend:T.ViewRegistration,order:Tt.safeMarginRight,template:{$extend:T.View,isReadyInit:!0,width:function(){return y.singleton.safeMargins.right},layoutProps:{$extend:I.layouts.anchorFillRightCropRight}}},expand:x({desktop:{$extend:T.ViewRegistration,order:Tt.expand,isActiveFromOwner:!0,attachFromOwner:!0,template:a.singleton.generateImageButton({analyticsValue:r.PLAYER_FULLSCREEN,width:18,height:18,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:25,left:11}}},{initial:le,hovered:ce,pressed:de,disabled:ue})}}),shrink:x({desktop:{$extend:T.ViewRegistration,order:Tt.shrink,isActiveFromOwner:!0,attachFromOwner:!0,template:a.singleton.generateImageButton({analyticsValue:r.PLAYER_EXIT_FULLSCREEN,width:18,height:18,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:25,left:11}}},{initial:pe,hovered:he,pressed:ge,disabled:fe})}}),closedCaptionsSettingsAvailable:{$extend:T.ViewRegistration,order:Tt.closedCaptionsAvailable,isActiveFromOwner:!0,template:qe},closedCaptions:{$extend:T.ViewRegistration,order:Tt.closedCaptionsToggle,attachFromOwner:!0,template:a.singleton.generateImageButton(A({monitor:{width:24,height:18,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:19}},analyticsValue:r.PLAYER_CAPTIONS_BTN,isEnabled:!1},phone:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:6}},isEnabled:!1},tablet:{width:44,height:44,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:20}},isEnabled:!1}}),{initial:ee,hovered:te,pressed:ie,disabled:ne,ccEnabled:oe,"ccEnabled+hovered":re,"ccEnabled+pressed":ae,"ccEnabled+disabled":se},"ResA11yClosedCaptionButton")},volumeControl:x({desktop:{$extend:T.ViewRegistration,order:Tt.volumeControl,attachFromOwner:!0,template:Ge.volumeControl}}),cast:x({desktop:{$extend:T.ViewRegistration,order:Tt.cast,attachFromOwner:!0,isActiveFromOwner:!0,template:{$extend:ze.chromecast,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:35}},analyticsValue:r.PLAYER_CAST_BTN}}}),interactive:{$extend:T.ViewRegistration,order:Tt.interactive,attachFromOwner:!0,isActiveFromOwner:!0,template:a.singleton.generateImageButton(A({monitor:{width:16,height:20,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:35}}},phone:{width:19,height:23,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:35}}},tablet:{width:19,height:23,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:35}}}}),{initial:Oe,hovered:"/assets/images/interactive/desktop/btn_interactive_control_hover.png",pressed:"/assets/images/interactive/desktop/btn_interactive_control_down.png",disabled:"/assets/images/interactive/desktop/btn_interactive_control_disabled.png"},"ResA11yInteractiveButton")},zoomIn:x({ios:{$extend:T.ViewRegistration,order:Tt.zoomIn,attachFromOwner:!0,isActiveFromOwner:!0,template:a.singleton.generateImageButton({width:44,height:44,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:20}}},{initial:le,hovered:ce,pressed:de,disabled:ue},"ResA11yZoomIn")}}),zoomOut:x({ios:{$extend:T.ViewRegistration,order:Tt.zoomOut,attachFromOwner:!0,isActiveFromOwner:!0,template:a.singleton.generateImageButton({width:44,height:44,layoutProps:{$extend:I.layouts.anchorRightCropRight,margin:{right:20}}},{initial:pe,hovered:he,pressed:ge,disabled:fe},"ResA11yZoomOut")}}),metadataArea:{$extend:T.ViewRegistration,order:Tt.metadata,useOwnerViewModel:!0,isActiveFromOwner:!0,template:_t},trickPlayBubble:x({desktop:{$extend:T.ViewRegistration,order:Tt.trickPlayBubble,isActiveFromOwner:!0,template:je.trickPlayBubblePartialTemplate}})}}}})})})}(),function(){"use strict";define("design/GridHelper",["core/oop","design/Screen","design/templates/TemplatesModule"],function(e,t,i){return e.classDef("design.GridHelper",Object,function(){e.singleton(function(){}),e.methods({tileFit:function(e,n,o,r,a){return function(s){n=i.resolve(s,n),r=i.resolve(s,r),a=i.resolve(s,a),e=i.resolve(s,e);var l=t.singleton.getScreenWidth(-2*e+o)(s),c=Math.floor(l/(n+o)),d=void 0===a?c:Math.min(a,c);return void 0===r?d:Math.max(r,d)}}})})})}(),function(){"use strict";define("dataservices/ModelRefresher",["core/oop","engine/dependent/Time","platform/common/Dispatcher","core/Debug"],function(e,t,i,n){return e.classDef("dataservices.ModelRefresher",Object,function(){e.singleton(function(){this._modelsToRefresh={},this._registeredViewIds={},this._minDelayMS=1e3}),e.properties({_modelsToRefresh:void 0,_minDelayMS:void 0,_registeredViewIds:void 0}),e.methods({registerDataModel:function(e,t,n){if(e.id,t.id,void 0===this._registeredViewIds[t.id]||this._registeredViewIds[t.id][e.id],void 0===this._registeredViewIds[t.id]&&(this._registeredViewIds[t.id]={}),this._registeredViewIds[t.id][e.id]=!0,void 0===n||n<=0)this._postRefreshTaskToDispatcher(e);else{var o=this;i.singleton.postTimeout(n).finally(function(){o._postRefreshTaskToDispatcher(e)})}},deregisterDataModel:function(e,t){e.id,void 0!==this._registeredViewIds[t.id]&&void 0!==this._registeredViewIds[t.id][e.id]&&(delete this._registeredViewIds[t.id][e.id],0===Object.keys(this._registeredViewIds[t.id]).length&&delete this._registeredViewIds[t.id],this._modelIsReferenced(e.id)||void 0===this._modelsToRefresh[e.id]||(void 0!==this._modelsToRefresh[e.id].postTimeout&&this._modelsToRefresh[e.id].postTimeout.cancel(),delete this._modelsToRefresh[e.id]))},_modelIsReferenced:function(e){for(var t in this._registeredViewIds)if(this._registeredViewIds[t][e])return!0;return!1},_refreshDelay:function(e){var i=t.singleton.now();return Math.max(void 0!==e.expirationTime?e.expirationTime-i:0,this._minDelayMS)},_postRefreshTaskToDispatcher:function(e){if(this._modelIsReferenced(e.id)&&(void 0===this._modelsToRefresh[e.id]&&(this._modelsToRefresh[e.id]={model:e}),void 0===this._modelsToRefresh[e.id].postTimeout)){var t=this._refreshDelay(e),n=this;this._modelsToRefresh[e.id].oldExpTime=e.expirationTime;var o=function(){n._modelsToRefresh[e.id],n._modelsToRefresh[e.id].postTimeout=void 0,e.refreshData(),e.expirationTime!==n._modelsToRefresh[e.id].oldExpTime&&n._postRefreshTaskToDispatcher(e)};this._modelsToRefresh[e.id].postTimeout=i.singleton.postTimeout(t).then(o)}}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ReactPrimitives",["core/Debug","lib/react"],function(o,r){var a=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,template:!0,eventHandlers:!0},uiViewClassName:"RCTView"}),s=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTImage"}),l=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTTextInput"}),c=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0},uiViewClassName:"RCTHyperlink"}),d=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0},uiViewClassName:"RCTText"}),u=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTMarkdownText"}),p=r.ReactNative.createReactNativeComponentClass({validAttributes:{format:!0},uiViewClassName:"RCTSpan"}),h=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTButtonScrollView"}),g=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTScrollView"}),f=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0},uiViewClassName:"RCTItemsView"}),m=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTSelector"}),v=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTWebFrameView"}),_=r.ReactNative.createReactNativeComponentClass({validAttributes:{style:!0,eventHandlers:!0},uiViewClassName:"RCTDirectCommerceView"}),y=function(e,t){e[t]},w=function(o){function a(i){e(this,a);var n=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i));return n.displayName="TextComponent",n}return i(a,o),n(a,[{key:"getChildContext",value:function(){return{isInAParentText:!0}}},{key:"render",value:function(){return r.createElement(d,{style:this.props.style},this.props.children)}}]),a}(r.Component);w.childContextTypes={isInAParentText:y};var b=function(o){function a(i){e(this,a);var n=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i));return n.displayName="MarkdownTextComponent",n}return i(a,o),n(a,[{key:"getChildContext",value:function(){return{isInAParentText:!0}}},{key:"render",value:function(){return this.props.children,r.createElement(u,{style:this.props.style,eventHandlers:this.props.eventHandlers},this.props.children)}}]),a}(r.Component);b.childContextTypes={isInAParentText:y};var S=function(o){function a(i){e(this,a);var n=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i));return n.displayName="SpanComponent",n}return i(a,o),n(a,[{key:"getChildContext",value:function(){return{isInAParentText:!0}}},{key:"render",value:function(){return r.createElement(p,{format:this.props.format},this.props.children)}}]),a}(r.Component);return S.childContextTypes={isInAParentText:y},{View:a,Image:s,TextInput:l,Hyperlink:c,Text:w,MarkdownText:b,Span:S,ItemsView:f,ButtonScrollView:h,ScrollView:g,Selector:m,WebFrameView:v,DirectCommerce:_}})}(),function(){"use strict";define("design/views/react/ImageFromFetcher",["design/views/react/ReactPrimitives","lib/react","ui/views/ImageModelView"],function(e,t,i){var n=e.Image;return function(e){var o=e.style.width,r=e.style.height,a=e.style._aspectRatio;void 0!==a&&(void 0===o&&void 0!==r||void 0===r&&void 0!==o)&&(void 0===o?o=r/a:r=o*a);var s=i.scaleByViewportDensity(o),l=i.scaleByViewportDensity(r),c=e.fetcher(s,l,void 0,e.purposeOverride).uri;return t.createElement(n,{key:"thumbImage",style:[e.style,{uri:c}]})}})}(),function(){"use strict";define("design/views/react/InteractiveIndicator/InteractiveIndicatorStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n,o,r){return e.classDef("design.views.react.InteractiveIndicator.InteractiveIndicatorStyles",Object,function(){e.singleton(function(){var e=r.singleton.exports;this.exports=n.create({container:{name:"interactiveIndicator",layout:i.new({primaryAxis:t.HORIZONTAL,alignAlongPrimaryAxis:!0})},image:{name:"image",height:15,width:11,uri:e.interactiveIndicatorImages.gray},text:{name:"text",maxLines:1,layoutProps:o.new({margin:{left:e.indicatorLabelSpacing,top:e.indicatorLabelTop}}),format:e.textFormats.interactiveTextFormat}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/InteractiveIndicator/InteractiveIndicatorComponent",["ui/Localization","design/views/react/InteractiveIndicator/InteractiveIndicatorStyles","design/views/react/ReactPrimitives","lib/react"],function(o,r,a,s){var l=a.View,c=a.Image,d=a.Text;return function(a){function u(i){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i));return n.displayName="InteractiveIndicator",n}return i(u,a),n(u,[{key:"render",value:function(){var e=r.singleton.exports,t=this.props.style||{};return s.createElement(l,{key:"interactiveIndicator",style:[e.container,t.container]},s.createElement(c,{key:"icon",style:[e.image,t.image]}),!0!==this.props.hideText&&s.createElement(d,{key:"text",style:[e.text,t.text]},o.singleton.getResource("ResInteractive")))}}]),u}(s.Component)})}(),function(){"use strict";define("design/views/react/NewBadge",["ui/Localization","design/views/react/ReactPrimitives","lib/react"],function(e,t,i){var n=t.View,o=t.Text;return function(t){return i.createElement(n,{key:"newBadge",style:t.style.container},i.createElement(o,{key:"newText",style:t.style.text},e.singleton.getResource("ResNew")))}})}(),function(){"use strict";define("design/views/react/PlayButton",["design/views/react/ReactPrimitives","lib/react"],function(e,t){var i=e.View,n=e.Hyperlink,o=e.Image;return function(e){return t.createElement(i,{key:"hoverPlayButtonContainer",style:e.style.container},t.createElement(n,{key:"playButton",style:[e.style.playButton,{uri:e.uri}]},t.createElement(o,{key:"playButtonIcon",style:e.style.playButtonIcon})))}})}(),function(){"use strict";define("design/views/react/ProgressBar",["design/views/react/ReactPrimitives","lib/react"],function(e,t){var i=e.View;return function(e){return t.createElement(i,{key:"progressBarBackground",style:e.style.background},t.createElement(i,{key:"progressBarForeground",style:[e.style.foreground,{width:Math.round(e.style.background.width*e.progress)}]}))}})}(),function(){"use strict";define("design/views/react/RatingBar",["design/views/react/ReactPrimitives","lib/react"],function(e,t){var i=e.View,n=e.Image,o=e.Text;return function(e){return t.createElement(i,{key:"ratingBar",style:e.style.container},t.createElement(n,{key:"ratingBarLock",style:e.style.lock}),t.createElement(o,{key:"ratingBarText",style:e.style.text},e.rating))}})}(),function(){"use strict";define("design/views/react/ToggleButton",["ui/Localization","design/views/react/ReactPrimitives","platform/common/AccessibilityTrait","lib/react"],function(e,t,i,n){var o=t.View,r=t.Text,a=t.Image;return function(t){var s;s=!0===t.isOn?[n.createElement(a,{key:"onImage",style:t.style.onImage}),n.createElement(r,{key:"text",style:t.style.text},t.onText)]:[n.createElement(a,{key:"offImage",style:t.style.offImage}),n.createElement(r,{key:"text",style:t.style.text},t.offText)];var l=!0===t.isOn?e.singleton.getResource("ResA11yToggleOn"):e.singleton.getResource("ResA11yToggleOff");return n.createElement(o,{style:[t.style.container,{accessibilityTextOverride:l,accessibilityTrait:i.BUTTON}],eventHandlers:{invoked:t.invokeHandler}},s)}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/TileViewComponent",["ui/Localization","core/Debug","dataservices/VideoPlayableStatus","dataservices/ContinueWatchingCache","dataservices/WatchlistCache","design/ScreenUtil","design/UserCollections","design/views/react/ImageFromFetcher","design/views/react/InteractiveIndicator/InteractiveIndicatorComponent","design/views/react/NewBadge","design/views/react/PlayButton","design/views/react/ProgressBar","design/views/react/RatingBar","design/views/react/ReactPrimitives","design/views/react/ToggleButton","ui/StyleSheet","ui/views/View","lib/react"],function(o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b){var S=v.View,C=v.Span,T=v.Text,R=v.Hyperlink,P=v.Image;return function(r){function v(i){e(this,v);var n=t(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,i));return n.displayName="Tile",n.state={viewState:w.createDefaultViewStateObject(),playAssetEnabled:!0},n}return i(v,r),n(v,[{key:"_onRemoveAsset",
value:function(){switch(this.props.userCollection){case d.Watchlist:l.singleton.remove(this.state.assetModel);break;case d.ContinueWatching:s.singleton.remove(this.state.assetModel);break;default:this.props.userCollection}}},{key:"_renderRemoveAsset",value:function(){if(!0===this._showRemoveAsset())return b.createElement(P,{key:"removeAsset",style:this.props.style.removeAsset,eventHandlers:{invoked:this._onRemoveAsset.bind(this)}})}},{key:"_showOverlayBackground",value:function(){return!0===this.props.hasOverlayBackground&&!0===this._showHoverOverlay()||!0===this.state.activateOverlayBackground||!0===this.state.isLivePreview&&!0===this.props.displayBackgroundForFutureEvents}},{key:"_showHoverOverlay",value:function(){return!0===this.props.hasHoverOverlay&&!0===this.state.viewState.hovered&&(!0===this.state.isPlayable||!0===this.state.isExplorable)&&!0!==this.state.isLocked}},{key:"_showWatchPrompt",value:function(){return void 0!==this.state.watchPrompt}},{key:"_showNewBadge",value:function(){return!0===this.state.isNew&&((void 0===this.props.textParts||!(this.props.textParts.indexOf("violator")>=0&&void 0!==this.state.violator||this.props.textParts.indexOf("liveViolator")>=0&&!0===this._showLiveViolator()))&&!(!0===this.props.featuredTile&&void 0!==this.state.umbrella||!1===this.props.featuredTile&&!0===this._showOverlayBackground()))}},{key:"_showOverlayNewBadge",value:function(){return!0===this._showNewBadge()&&c.singleton.byScreen({tablet:this.props.style.container.width<1024,default:!0})}},{key:"_showTextNewBadge",value:function(){return!0===this._showNewBadge()&&c.singleton.byScreen({tablet:this.props.style.container.width>=1024,default:!0})}},{key:"_showInteractiveIndicator",value:function(){return!(!0!==this.state.isInteractive||!0!==this.state.isPlayable||!0===this.props.interactiveIndicatorOnlyWhenUnlocked&&!1!==this.state.isLocked||!0===this.props.interactiveIndicatorOnHover&&!0!==this.state.viewState.hovered)}},{key:"_showProgressBar",value:function(){return this.state.progress>0&&(!0!==this.props.progressBarOnHover||!0===this.state.viewState.hovered)&&!0!==this._showOverlayBackground()&&!0!==this.state.isLocked}},{key:"_renderProgressBar",value:function(){if(!0===this._showProgressBar())return b.createElement(f,{key:"progressBar",progress:this.state.progress,style:this.props.style.progressBar})}},{key:"_showRatingBar",value:function(){return void 0!==this.state.rating&&!0===this.state.isLocked}},{key:"_showPlayAsset",value:function(){return!0===this.state.playAssetEnabled&&!0===this.state.isPlayable&&!1===this.state.isLocked&&this.state.playableStatus!==a.NOT_PLAYABLE}},{key:"_renderPlayAsset",value:function(){if(!0===this._showPlayAsset())return b.createElement(P,{key:"playAsset",style:this.props.style.playAsset})}},{key:"_showRemoveAsset",value:function(){return!0===this.props.hasRemoveAsset&&!0===this.state.removeAssetEnabled&&void 0!==this.state.assetModel}},{key:"_renderText",value:function(e){if(void 0!==this.state[e]){var t={width:this.props.style[e].width};return b.createElement(T,{key:e,style:y.flatten([this.props.style[e],t])},this.state[e])}}},{key:"_renderViolator",value:function(){if(void 0!==this.state.violator)return b.createElement(S,{style:this.props.style.violator},b.createElement(T,{style:this.props.style.violatorText},this.state.violator))}},{key:"_showLiveViolator",value:function(){return!0===this.state.isLiveExperience&&void 0===this.state.violator&&void 0!==this.state.liveViolator}},{key:"_renderLiveViolator",value:function(){if(!0===this._showLiveViolator())return b.createElement(S,{style:this.props.style.liveViolator},b.createElement(T,{style:this.props.style.liveViolatorText},this.state.liveViolator))}},{key:"_renderInteractiveIndicator",value:function(e){if(!0===this._showInteractiveIndicator())return b.createElement(p,{key:"interactiveIndicator",style:this.props.style.interactiveIndicator,hideText:e})}},{key:"_renderComboSeparator",value:function(){if(!0===this._showRatingBar()&&!0===this._showInteractiveIndicator())return b.createElement(S,{key:"comboSeparator",style:this.props.style.comboSeparator})}},{key:"_renderRatingBar",value:function(){if(!0===this._showRatingBar())return b.createElement(m,{key:"ratingBar",rating:this.state.rating,style:this.props.style.ratingBar})}},{key:"_renderSpannedTitleTaglineText",value:function(){if(void 0!==this.state.spannedTitleTaglineText){var e,t=this.props.style.spannedTitleTaglineText;void 0!==this.state.titleTextWidth&&(e={width:this.state.titleTextWidth});var i=this.state.spannedTitleTaglineText.map(function(e,i){return b.createElement(C,{key:"span"+i,format:t.spanFormats[i]},e)});return b.createElement(T,{key:"spannedTitleTaglineText",style:[t,e]},i)}}},{key:"_renderTitleText",value:function(){if(void 0!==this.state.titleText){var e;return void 0!==this.state.titleTextWidth&&(e={width:this.state.titleTextWidth}),b.createElement(T,{key:"titleText",style:[this.props.style.titleText,e]},this.state.titleText)}}},{key:"_renderOverlayNewBadge",value:function(){if(!0===this._showOverlayNewBadge())return b.createElement(h,{key:"newBadge",style:this.props.style.overlayNewBadge})}},{key:"_renderTextNewBadge",value:function(){if(!0===this._showTextNewBadge())return b.createElement(h,{key:"newBadge",style:this.props.style.textNewBadge})}},{key:"_renderWatchNext",value:function(){if(!0===this._showWatchPrompt())return b.createElement(T,{key:"watchNextText",style:this.props.style.watchNextText},this.state.watchPrompt)}},{key:"_renderComboIndicator",value:function(e){if(!0===this._showRatingBar()||!0===this._showInteractiveIndicator())return b.createElement(S,{key:"comboIndicator",style:this.props.style.comboIndicator},this._renderRatingBar(),this._renderComboSeparator(),this._renderInteractiveIndicator(e))}},{key:"_renderTaglineWithComboIndicator",value:function(){var e=this._renderText("tagline"),t=void 0!==e,i=this._renderComboIndicator(t);return b.createElement(S,{key:"taglineWithComboIndicator",style:this.props.style.taglineWithComboIndicator},i,void 0!==e&&void 0!==i&&b.createElement(S,{key:"inlineSeparator",style:this.props.style.comboSeparator}),e)}},{key:"_showLiveExperiencePreviewText",value:function(){return!0===this.state.isLivePreview&&void 0!==this.state.liveExperiencePreviewText&&!0!==this.state.activateOverlayBackground}},{key:"_renderLiveExperiencePreviewText",value:function(){if(!0===this._showLiveExperiencePreviewText())return b.createElement(T,{key:"liveExperiencePreviewText",style:this.props.style.liveExperiencePreviewText},this.state.liveExperiencePreviewText)}},{key:"_renderPlayButton",value:function(){if(!0===this.state.isPlayable)return b.createElement(g,{key:"playButton",style:this.props.style.hoverPlayButton,uri:this.state.uri})}},{key:"_showWatchlistToggle",value:function(){return void 0!==this.state.isInWatchlist}},{key:"_renderWatchlistToggle",value:function(){if(!0===this._showWatchlistToggle())return b.createElement(_,{key:"watchlistToggle",style:this.props.style.watchlistToggle,onText:o.singleton.getResource("ResAddToWatchlist"),offText:o.singleton.getResource("ResRemoveFromWatchlist"),isOn:!1===this.state.isInWatchlist,invokeHandler:this._addToWatchlistToggleInvoked.bind(this)})}},{key:"_addToWatchlistToggleInvoked",value:function(){!1===this.state.isInWatchlist?l.singleton.add(this.state.assetModel):(this.state.isInWatchlist,l.singleton.remove(this.state.assetModel)),this.setState({isInWatchlist:!this.state.isInWatchlist})}},{key:"_showExplore",value:function(){return!0===this.state.isExplorable&&!0!==this.state.isLivePreview}},{key:"_renderExplore",value:function(){if(!0===this._showExplore())return b.createElement(T,{key:"explore",style:this.props.style.explore},o.singleton.getResource("ResExplore"))}},{key:"_showLearnMore",value:function(){return!0===this.state.isExplorable&&!0===this.state.isLivePreview}},{key:"_renderLearnMore",value:function(){if(!0===this._showLearnMore())return b.createElement(T,{key:"learnMore",style:this.props.style.learnMore},o.singleton.getResource("ResLearnMore"))}},{key:"_generateHoverOverlayParts",value:function(){return{playButton:this._renderPlayButton(),liveExperiencePreviewText:this._renderLiveExperiencePreviewText(),learnMore:this._renderLearnMore(),watchlistToggle:this._renderWatchlistToggle(),explore:this._renderExplore()}}},{key:"_generateOverlayParts",value:function(){var e={interactiveIndicator:this._renderInteractiveIndicator.bind(this),newBadge:this._renderOverlayNewBadge.bind(this),ratingBar:this._renderRatingBar.bind(this),progressBar:this._renderProgressBar.bind(this),playAsset:this._renderPlayAsset.bind(this),liveExperiencePreviewText:this._renderLiveExperiencePreviewText.bind(this),removeAsset:this._renderRemoveAsset.bind(this)};return this.props.overlayParts.map(function(t){return e[t]()})}},{key:"_generateTextParts",value:function(){var e={titleText:this._renderTitleText.bind(this),taglineText:this._renderText.bind(this,"tagline"),violator:this._renderViolator.bind(this),liveViolator:this._renderLiveViolator.bind(this),umbrellaText:this._renderText.bind(this,"umbrella"),summaryText:this._renderText.bind(this,"shortSummary"),metadataText:this._renderText.bind(this,"metadata"),interactiveIndicator:this._renderInteractiveIndicator.bind(this),spannedTitleTaglineText:this._renderSpannedTitleTaglineText.bind(this),ratingBar:this._renderRatingBar.bind(this),newBadge:this._renderTextNewBadge.bind(this),watchNext:this._renderWatchNext.bind(this),comboIndicator:this._renderComboIndicator.bind(this),collectionCountText:this._renderText.bind(this,"collectionCountText"),taglineWithComboIndicator:this._renderTaglineWithComboIndicator.bind(this)};return this.props.textParts.map(function(t){return e[t],e[t]()})}},{key:"_renderLeftTextArea",value:function(){if(!0===this.props.hasLeftTextArea){var e={width:this.props.style.leftTextArea.width};return b.createElement(S,{key:"leftTextArea",style:y.flatten([this.props.style.leftTextArea,e])},b.createElement(S,{key:"textAreaInset",style:this.props.style.textAreaInset},this._generateTextParts()))}}},{key:"_renderBottomTextArea",value:function(){if(!0===this.props.hasBottomTextArea){var e=b.createElement(S,{key:"bottomTextArea",style:this.props.style.bottomTextArea},this._generateTextParts());if(!0===this.props.hasBottomRightArrow){var t={width:this.props.style.bottomContainer.width,height:this.props.style.bottomContainer.height};e=b.createElement(S,{key:"bottomContainer",style:y.flatten([this.props.style.bottomContainer,t])},e,b.createElement(P,{key:"rightArrow",style:this.props.style.rightArrow}))}return!0===this.props.relaxedTextSectionHeight&&(e=b.createElement(S,{key:"relaxedTextSection",style:this.props.style.relaxedTextSection},e)),e}}},{key:"_renderRightTextArea",value:function(){if(!0===this.props.hasRightTextArea)return b.createElement(S,{key:"rightContainer",style:this.props.style.rightContainer},b.createElement(P,{key:"rightArrow",style:this.props.style.rightArrow}),b.createElement(S,{key:"rightTextArea",style:this.props.style.rightTextArea},this._generateTextParts()))}},{key:"_renderOverlayTextArea",value:function(){if(!0===this.props.hasOverlayTextArea)return b.createElement(S,{key:"overlayTextArea",style:this.props.style.overlayTextArea},this._generateTextParts())}},{key:"_renderHoverOverlay",value:function(){if(!0===this._showHoverOverlay()){var e=this._generateHoverOverlayParts();return b.createElement(S,{key:"hoverOverlay",style:this.props.style.hoverOverlay},e.playButton,e.liveExperiencePreviewText,this._renderHoverOverlayButtonsContainer(e))}}},{key:"_renderHoverOverlayButtonsContainer",value:function(e){if(void 0!==e.learnMore||void 0!==e.watchlistToggle||void 0!==e.explore)return b.createElement(S,{key:"buttonsContainer",style:this.props.style.hoverOverlayButtonsContainer},e.learnMore,e.watchlistToggle,e.explore)}},{key:"_renderOverlayContainer",value:function(){var e,t;!0!==this.state.removeAssetEnabled&&void 0!==this.state.titleText&&(t=!0===this.state.isPlayable?o.singleton.getResource("ResA11yPlayTitle",{title:this.state.titleText}):this.state.titleText);var i;if(!0===this.props.hasThumbImage&&void 0!==this.state.imageUriFetcher){var n={width:this.props.style.overlayContainer.width,height:this.props.style.overlayContainer.height};i=b.createElement(u,{style:y.flatten([this.props.style.thumbImage,n]),fetcher:this.state.imageUriFetcher,purposeOverride:this.props.thumbImagePurposeOverride})}var r={width:this.props.style.protectionImage.width};if(e=b.createElement(S,{key:"overlayContainer",style:[this.props.style.overlayContainer,{accessibilityTextOverride:t}]},i,!0===this.props.hasProtectionImage&&b.createElement(P,{key:"protectionImage",style:y.flatten([this.props.style.protectionImage,r])}),this._renderOverlayTextArea(),this._showOverlayBackground()&&b.createElement(S,{key:"overlayBackground",style:this.props.style.overlayBackground}),this._renderHoverOverlay(),this._generateOverlayParts()),!0===this.props.hasOverlayHyperlink&&void 0!==this.state.uri){var a;!0!==this.state.isLocked&&!0!==this.state.isLivePreview&&(a={autoplay:"true"}),e=b.createElement(R,{key:"overlayHyperlink",style:[this.props.style.overlayHyperlink,{uri:this.state.uri,uriParams:a}]},e)}return e}},{key:"render",value:function(){var e=this,t={};return void 0!==this.state.width&&void 0!==this.state.height&&(t={width:this.state.width,height:this.state.height}),b.createElement(S,{key:"container",style:y.flatten([this.props.style.container,t]),eventHandlers:{viewStateChanged:function(t){return e.setState({viewState:t})}}},!0===this.props.hasRightTextArea&&this._renderRemoveAsset(),this._renderLeftTextArea(),this._renderOverlayContainer(),this._renderBottomTextArea(),this._renderRightTextArea())}}]),v}(b.Component)})}(),function(){"use strict";define("design/views/TileView",["core/oop","lib/Promise","core/logging/Counters","design/DesignDeveloperSettings","dataservices/authentication/AuthenticationManager","dataservices/VideoPlayableStatus","platform/common/Rating","dataservices/ModelRefresher","dataservices/WatchlistCache","engine/dependent/Time","ui/views/View","platform/dependent/Process","design/views/HyperlinkView","design/views/react/TileViewComponent","lib/lodash/objects/forOwn"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("design.views.TileView",d,function(d){e.constructor(function(){!0===i.singleton.isEnabled&&!0===n.singleton.enableTilePerfCounters&&(this._startCreationTimestamp=c.singleton.now()),this._onVideoStateModelRefreshedCallback=this._onVideoStateModelRefreshed.bind(this),this._onWatchlistCacheRefreshedCallback=this._onWatchlistCacheRefreshed.bind(this),l.singleton.refreshed.on(this._onWatchlistCacheRefreshedCallback),d.$ctor.apply(this,arguments)}),e.properties({displayBackgroundForFutureEvents:{defaultValue:!1},_titleText:void 0,_taglineText:void 0,_isAssetLocked:void 0,_isPlayable:void 0,_removeAssetEnabled:{defaultValue:!1},_videoStateModel:void 0,_onVideoStateModelRefreshedCallback:void 0,_onWatchlistCacheRefreshedCallback:void 0,_isLivePreview:{defaultValue:!1},_spannedTitlePropertyPath:void 0,_titleViewModelPropertyPath:void 0,_startCreationTimestamp:void 0,_newViewModelSetTimestamp:void 0}),e.methods({_getReactComponentType:function(){return h},_disposeCore:function(){l.singleton.refreshed.off(this._onWatchlistCacheRefreshedCallback),this._deregisterVideoStateModelRefresh(),d._disposeCore.apply(this,arguments)},_setTitleTextWidth:function(e){this._setReactComponentState({titleTextWidth:e})},activateOverlayBackground:function(e){this._setReactComponentState({activateOverlayBackground:e})},setPlayAssetEnabled:function(e){this._setReactComponentState({playAssetEnabled:e})},setRemoveAssetEnabled:function(e){this._setReactComponentState({removeAssetEnabled:e})},getTitleAndTagline:function(){var e=this._titleText,t=this._taglineText;return void 0!==e&&void 0!==t&&(e+=": "+t),e},_deregisterVideoStateModelRefresh:function(){void 0!==this._videoStateModel&&(s.singleton.deregisterDataModel(this._videoStateModel,this),this._videoStateModel.dataRefreshed.off(this._onVideoStateModelRefreshedCallback),this.cancelDisposablePromise("_onVideoStateModelRefreshedPromiseChain"),this.cancelDisposablePromise("_startVideoStateRefreshMonitorPromiseChain"),this._videoStateModel=void 0)},_startVideoStateRefreshMonitor:function(e){e.dataRefreshed.on(this._onVideoStateModelRefreshedCallback);var t=this;this.runUntilDisposed("_startVideoStateRefreshMonitorPromiseChain",function(){return e.playableStartTimeInClientTime.then(function(i){var n=void 0===i?0:i.valueOf(),o=c.singleton.now();s.singleton.registerDataModel(e,t,n-o)})})},_onVideoStateModelRefreshed:function(){this._deregisterVideoStateModelRefresh();var e=this;this.runUntilDisposed("_onVideoStateModelRefreshedPromiseChain",function(){return e.viewModel.videoState.then(function(i){return e._videoStateModel=i,t.props({isPlayable:e.viewModel.isPlayable,isLiveExperience:e.viewModel.isLiveExperience,playableStatus:void 0!==i?i.playableStatus:t.fulfilled(r.VOD)})}).then(function(t){t.playableStatus!==r.VOD&&e._startVideoStateRefreshMonitor(e._videoStateModel),t.isLivePreview=t.playableStatus===r.NOT_PLAYABLE,e._isLivePreview=t.isLivePreview,e._isPlayable=t.isPlayable,e._setReactComponentState(t)})})},_onViewModelChanged:function(e){d._onViewModelChanged.apply(this,arguments);var i=this;this._deregisterVideoStateModelRefresh(),!0===this._isInitialized&&this._clearReactComponentState(),void 0!==e?(this._newViewModelSet(),this.runUntilDisposed("setReactData",function(){return o.singleton.login().then(function(){return t.props({imageUriFetcher:e.imageUriFetcher,isPlayable:e.isPlayable,playableStatus:e.playableStatus,isInWatchlist:e.isInWatchlist,progress:e.progress,rating:e.rating,isServiceLocked:e.isServiceLocked,isPlatformLocked:e.isPlatformLocked,metadata:e.metadata,shortSummary:e.shortSummary,isNew:e.isNew,isInteractive:e.isInteractive,title:e.title,tagline:e.tagline,violator:e.violator,liveViolator:e.liveViolator,umbrella:e.umbrella,spannedTitleTaglineText:e[i._spannedTitlePropertyPath],isLiveExperience:e.isLiveExperience,liveExperiencePreviewText:e.liveExperiencePreviewText,videoState:e.videoState,formattedItemCount:e.formattedItemCount,watchPrompt:e.watchPrompt})}).then(function(t){var o=void 0!==t.playableStatus?t.playableStatus:r.VOD,s=o===r.NOT_PLAYABLE,l=s?!i.displayBackgroundForFutureEvents:!t.isPlayable,c=t.isServiceLocked||t.isPlatformLocked,d={imageUriFetcher:t.imageUriFetcher,isPlayable:t.isPlayable,playableStatus:o,isExplorable:l,isLivePreview:s,isInWatchlist:t.isInWatchlist,assetModel:e._getAssetModel(),uri:u.singleton.makeFullUri(e.dataModel.deepLinkUriPath),progress:t.progress,rating:t.rating&&t.rating.name!==a.RatingNames.UNKNOWN?t.rating.name:void 0,isLocked:c,metadata:t.metadata,shortSummary:t.shortSummary,isNew:t.isNew,isInteractive:t.isInteractive,titleText:t.title,tagline:t.tagline,violator:t.violator,liveViolator:t.liveViolator,umbrella:t.umbrella,spannedTitleTaglineText:t.spannedTitleTaglineText,isLiveExperience:t.isLiveExperience,liveExperiencePreviewText:t.liveExperiencePreviewText,collectionCountText:t.formattedItemCount,watchPrompt:t.watchPrompt};g(n.singleton.tileOverrides,function(e,t){d[t]=e}),i._titleText=d.titleText,i._taglineText=d.tagline,i._isAssetLocked=c,i._isPlayable=d.isPlayable,i._isLivePreview=s,i._setAutoplayIfNeeded(),i._videoStateModel=t.videoState,o!==r.VOD&&i._startVideoStateRefreshMonitor(i._videoStateModel),i._setReactComponentState(d),i._recordRenderCompletePerfCounters()})})):this.cancelDisposablePromise("setReactData")},_onWatchlistCacheRefreshed:function(){if(void 0!==this.viewModel){var e=this;this.runUntilDisposed("_onWatchlistCacheRefreshed",function(){return e.viewModel.isInWatchlist.then(function(t){e._setReactComponentState({isInWatchlist:t})})})}},_clearReactComponentState:function(){d._clearReactComponentState.apply(this,arguments),this._setReactComponentState({titleText:void 0,tagline:void 0,rating:void 0,violator:void 0,liveViolator:void 0,imageUriFetcher:void 0,isPlayable:void 0,isExplorable:void 0,isLiveExperience:void 0,isLivePreview:void 0,playableStatus:void 0,umbrella:void 0,shortSummary:void 0,metadata:void 0,progress:void 0,uri:void 0,isLocked:void 0,isNew:void 0,isInteractive:void 0,violatorColor:void 0,spannedTitleTaglineText:void 0,liveExperiencePreviewText:void 0,isInWatchlist:void 0,assetModel:void 0,collectionCountText:void 0,watchPrompt:void 0}),this._titleText=void 0,this._taglineText=void 0,this._isAssetLocked=void 0,this._isPlayable=void 0,this._isLivePreview=void 0},_setAutoplayIfNeeded:function(){!1===this._isAssetLocked&&!0!==this.reactComponentProps.hasOverlayHyperlink&&this.displayBackgroundForFutureEvents&&this.parent&&this.parent instanceof p&&(this.parent.isPointerHittable=!this._isLivePreview)},getAutomationPeer:function(){var e=d.getAutomationPeer.call(this);return e.title=this._titleText||"notitle",e},getTileAnalytics:function(){return this._getInvokedData()},_getInvokedData:function(){return{dataModelId:this.viewModel.dataModel.id,fullTitle:this.getTitleAndTagline()}},_newViewModelSet:function(){!0===i.singleton.isEnabled&&!0===n.singleton.enableTilePerfCounters&&void 0===this._startCreationTimestamp&&(this._newViewModelSetTimestamp=c.singleton.now())},_recordRenderCompletePerfCounters:function(){if(void 0!==this._startCreationTimestamp){var e=c.singleton.now()-this._startCreationTimestamp;i.singleton.setCounter("TileView.creationDuration",e),this._startCreationTimestamp=void 0}else if(void 0!==this._newViewModelSetTimestamp){var t=c.singleton.now()-this._newViewModelSetTimestamp;i.singleton.setCounter("TileView.recycleDuration",t),this._newViewModelSetTimestamp=void 0}},_updateDisplayProxySize:function(){d._updateDisplayProxySize.apply(this,arguments),void 0!==this._childReactComponent&&this._setReactComponentState({width:this.width,height:this.height})}})})})}(),function(){"use strict";define("design/templates/TileTemplates",["core/oop","design/Screen","ui/Axis","ui/AnchoredLayout","ui/StackedLayout","ui/Transition","ui/Localization","platform/common/AccessibilityTrait","core/VerticalAlignment","core/HorizontalAlignment","design/UserCollections","design/styles/StyleConstants","design/templates/ColorTemplates","design/templates/TemplatesModule","design/templates/TextFormatTemplates","design/templates/ViewTemplates","design/templates/LayoutTemplates","design/templates/ButtonTemplates","design/ScreenUtil","design/GridHelper","design/templates/TransitionTemplates","design/views/TileView","dataservices/types/ImagePurpose","lib/lodash/objects/assign","lib/lodash/objects/clone","lib/lodash/objects/merge","design/analytics/UserInteractionTargets"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P){var E=e.classDef("design.templates.TileTemplates",h,function(I){e.staticScope(function(){e.properties({heightRatio16x9:{defaultValue:9/16}})}),e.singleton(function(){I.$ctor.apply(this,arguments),this._layoutHelpers={}}),e.properties({_layoutHelpers:void 0}),e.methods({_useOwnPropertyOrFallback:function(e,t,i){return e.hasOwnProperty(t)?e[t]:i},_extraTileHeightFromParams:function(e){var t=this,i=function(e){return void 0!==e.lineHeight?e.lineHeight:e.$extend.lineHeight},n=function(e){return void 0!==e&&void 0!==e.margin?(e.margin.top||0)+(e.margin.bottom||0):0},o=0,r={interactiveIndicator:function(){return void 0!==e.interactiveIndicatorLineHeight?e.interactiveIndicatorLineHeight+n(e.interactiveIndicatorLayoutProps):0},liveViolator:function(e){return e.textParts.indexOf("violator")>=0||e.textParts.indexOf("umbrellaText")>=0?(o++,0):e.liveViolatorParams.height+n(e.liveViolatorParams)},metadataText:function(e){return i(e.metadataTextFormat)+n(e.metadataTextLayoutProps)},spannedTitleTaglineText:function(e){var t=void 0!==e.titleMaxLines?e.titleMaxLines:void 0!==e.maxLines?e.maxLines:1;return i(e.titleTextFormat)*t+n(e.titleTextLayoutProps)},summaryText:function(e){return i(e.summaryTextFormat)*t._useOwnPropertyOrFallback(e,"maxLines",1)+n(e.summaryTextLayoutProps)},taglineText:function(e){return i(e.taglineTextFormat)*(void 0!==e.taglineMaxLines?e.taglineMaxLines:void 0!==e.maxLines?e.maxLines:1)+n(e.taglineTextLayoutProps)},titleText:function(e){return i(e.titleTextFormat)*(void 0!==e.titleMaxLines?e.titleMaxLines:void 0!==e.maxLines?e.maxLines:1)+n(e.titleTextLayoutProps)},umbrellaText:function(e){return i(e.umbrellaTextFormat)+n(e.umbrellaTextLayoutProps)},watchNext:function(e){return i(e.watchNextTextFormat)},violator:function(e){return e.textParts.indexOf("umbrellaText")>=0?(o++,n(e.violatorParams)):e.violatorParams.height+n(e.violatorParams)},collectionCountText:function(e){return i(e.collectionCountTextFormat)+n(e.collectionCountLayoutProps)}},a=0;return e.textParts.forEach(function(t){var i=r[t](e);a+=i}),a+(e.textSectionSpacing||0)*(e.textParts.length-o-1)+2*e.compositeSpacing},_configure:function(){var e=this,I=p.singleton.exports,x=g.singleton.exports,A=f.singleton.exports,k=m.singleton.exports,V=v.singleton.exports,M=w.singleton.exports,D=_.singleton,O=_.dpiAwareImageUri.bind(_),N=u.singleton.exports,F=A.alphabetBarWidth,L=A.gridGutterWidth,B=A.standardGutterWidth,H=A.getContentWidth,U=A.carouselBreakpoints.large,$=A.carouselBreakpoints.medium,W=A.carouselBreakpoints.small,j=this.unregistered,G=p.singleton.withAlpha.bind(p.singleton),z=h.resolve.bind(h),K=D.byScreen({phone:0,default:B}),Y=D.byScreen({phone:12,default:0}),q=D.byScreen({phone:12,tablet:20,monitor:0}),Q=D.byScreen({phone:12,default:20}),X={left:Y},J={left:q,bottom:q},Z={default:{height:26,width:26,margin:J,images:{initial:_.dpiAwareImageUri("/assets/images/buttons/mobile/playAsset","png")}},sideBySide:{height:14,width:14,margin:J,images:{initial:_.dpiAwareImageUri("/assets/images/buttons/mobile/playAssetSmall","png")}}},ee={minTileWidth:310,minColumns:2,maxColumns:5},te={medium:{initial:D.byDesign({desktop:"/assets/images/icons/desktop/lock_gray.png",mobile:_.dpiAwareImageUri("/assets/images/icons/mobile/lock_gray","png")})},large:{initial:D.byDesign({desktop:"/assets/images/icons/desktop/lock_white.png",mobile:_.dpiAwareImageUri("/assets/images/icons/mobile/lock_white","png")})}},ie=N.interactiveIndicatorImages,ne={medium:{initial:"/assets/images/buttons/desktop/btn_play_med_initial.png",pressed:"/assets/images/buttons/desktop/btn_play_med_pressed.png",hovered:"/assets/images/buttons/desktop/btn_play_med_hovered.png"},large:{initial:"/assets/images/buttons/desktop/btn_play_xlarge_initial.png",pressed:"/assets/images/buttons/desktop/btn_play_xlarge_pressed.png",hovered:"/assets/images/buttons/desktop/btn_play_xlarge_hovered.png"}},oe=G(I.whiteSmoke,.85),re=D.byDesign({desktop:14,mobile:q}),ae=D.byScreen({monitor:30,phone:33,tablet:33}),se=D.byScreen({monitor:30,tablet:29,phone:24}),le=D.byScreen({monitor:6,tablet:5,phone:1}),ce=D.byScreen({monitor:-2,tablet:-2,phone:-4}),de=D.byScreen({monitor:{margin:{right:19},anchor:{left:!1,top:!1,right:!0,bottom:!0}},tablet:{margin:{top:2}},phone:{margin:{top:1}}}),ue=D.byDesign({desktop:6,mobile:5}),pe=0,he={splitPanel:pe++,splitImage:pe++,imageComposite:pe++,textItems:pe++,thumbImage:pe++,protectionImage:pe++,fallbackImage:pe++,removeAsset:pe++,progressBar:pe++,playAsset:pe++,violator:pe++,newBadge:pe++,watchNext:pe++,umbrellaText:pe++,rightArrow:pe++,titleText:pe++,textViewComposite:pe++,lockedIndicator:pe++,comboIndicator:pe++,taglineText:pe++,taglineWithComboIndicator:pe++,interactiveIndicatorMobile:pe++,ratingText:pe++,summaryText:pe++,collectionCountText:pe++,metadataText:pe++,overlayBackground:pe++,hoverOverlay:pe++,interactiveIndicatorDesktop:pe++},ge={playButtonContainer:pe++,playButton:pe++,liveExperiencePreview:pe++,otherButtonsContainer:pe++,learnMore:pe++,watchlistButton:pe++,explore:pe++},fe=function(e,i,n){return n=n||0,function(o){i=void 0!==i?i:t.singleton.getScreenWidth();var r=i(o);return Math.round(e*r)+n}};j.calculateByTileWidth=fe;var me=function(t,i){return function(n){return t.height(n)+e._extraTileHeightFromParams(i)}};j.calculateTileHeightFromParams=me;var ve=function(e){return D.byDesignCall({mobile:function(){return V.callToActionButton},desktop:function(){var t=!0===e.useOutlineButtons?V.removeOutlineButton:V.removeFillButton;return!0===e.isSeries&&(t=T(t,!0),t.width=130,t.subViewRegistrations.label.template.width=130-(V.iconPadding+V.iconWidth)),t}})},_e=function(e){return D.byDesignCall({mobile:function(){return V.callToActionButton},desktop:function(){var t=!0===e.useOutlineButtons?V.addOutlineButton:V.addFillButton;return t=T(t,!0),!0===e.isSeries&&(t.width=130,t.subViewRegistrations.label.template.width=130-(V.iconPadding+V.iconWidth)),t}})},ye=function(e){return{$extend:A.ViewRegistration,name:"addToWatchlist",viewModelPropertyPath:"addToWatchlistToggleViewModel",useOwnerViewModel:!0,requireViewModel:!0,order:ge.watchlistButton,template:{$extend:A.WatchlistToggleView,isReadyInit:!0,isPointerTarget:!0,subViewRegistrations:{$extend:A.ViewRegistrations,on:{$extend:A.ViewRegistration,name:"on",viewModelFactoryId:!0===e.isSeries?"ResRemoveSeriesFromWatchlist":"ResRemoveFromWatchlist",isActiveFromOwner:!0,template:ve(e)},off:{$extend:A.ViewRegistration,name:"off",viewModelFactoryId:!0===e.isSeries?"ResAddSeriesToWatchlist":"ResAddToWatchlist",isActiveFromOwner:!0,template:_e(e)}}}}};j.generateAddToWatchlistToggleView=ye;var we=function(e,t){return{$extend:A.ViewRegistration,order:e.order,requireViewModel:!0,useOwnerViewModel:!0,isActiveFromOwner:!0,template:{$extend:A.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:o,primaryAxis:i.HORIZONTAL},layoutProps:{margin:e.margin},backgroundColor:e.backgroundColor,subViewRegistrations:{$extend:A.ViewRegistrations,violatorText:{$extend:A.ViewRegistration,viewModelPropertyPath:t,useOwnerViewModel:!0,requireViewModel:!0,template:{$extend:A.TextView,isReadyInit:!0,layoutProps:{margin:{left:8,right:8}},height:e.height,format:e.textFormat,maxLines:1,horizontalAlignment:c.CENTER,verticalAlignment:l.CENTER}}},suppressContentExceptions:!0}}},be=function(e){return we(e.violatorParams,"violator")},Se=function(e){return we(e.liveViolatorParams,"liveViolator")};j.generateViolatorBase=we,j.generateViolator=be,j.generateLiveViolator=Se;var Ce={name:"callToActionButton",width:V.defaultButtonWidth,height:V.defaultButtonHeight,borderThickness:_.singleton.byDesign({desktop:1,mobile:0}),isInvokable:!0,isPointerTarget:!0,transitionMap:{initial:{set_format:{$extend:w.singleton.exports.instantTransition,to:_.singleton.byDesign({desktop:x.callToActionButtonFormat,mobile:x.assetDetailsMobilePreviewOrWatchlist})},set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:I.clear},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.dustyGray,.5)}},hovered:{set_format:{$extend:w.singleton.exports.instantTransition,to:_.singleton.byDesign({desktop:x.callToActionButtonHoveredFormat,mobile:x.assetDetailsMobilePreviewOrWatchlist})},set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:I.whiteSmoke},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.smokeGray,.5)}}},maxLines:1,horizontalAlignment:c.CENTER,verticalAlignment:l.CENTER,inheritedViewStateNames:["disabled"]},Te={name:"callToActionButton",width:V.defaultButtonWidth,height:V.defaultButtonHeight,borderThickness:_.singleton.byDesign({desktop:1,mobile:0}),isInvokable:!0,isPointerTarget:!0,transitionMap:{initial:{set_format:{$extend:w.singleton.exports.instantTransition,to:x.buttonFormat},set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:G(I.whiteSmoke,.7)},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.smokeGray,.25)}},hovered:{set_format:{$extend:w.singleton.exports.instantTransition,to:x.buttonHoveredFormat},set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:I.whiteSmoke},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.smokeGray,.5)}}},maxLines:1,horizontalAlignment:c.CENTER,
verticalAlignment:l.CENTER,inheritedViewStateNames:["disabled"]},Re={container:{name:"container",layout:{$type:n},width:V.defaultButtonWidth,height:V.defaultButtonHeight,isInvokable:!0,isPointerTarget:!0,borderThickness:_.singleton.byDesign({desktop:1,mobile:0}),transitionMap:{initial:{set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:I.clear},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.dustyGray,.5)}},hovered:{set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:I.whiteSmoke},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.smokeGray,.5)}}}},onImage:{name:"onImage",width:V.iconWidth,height:V.addIconHeight,inheritedViewStateNames:["hovered","disabled"],layoutProps:{$extend:k.layouts.anchorLeftCropLeft,margin:{left:V.iconPadding}},transitionMap:{initial:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.addOutlineButtonInitialUri}},hovered:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.addOutlineButtonHoveredUri}}}},offImage:{name:"offImage",width:V.iconWidth,height:V.removeIconHeight,inheritedViewStateNames:["hovered","disabled"],layoutProps:{$extend:k.layouts.anchorLeftCropLeft,margin:{left:V.iconPadding}},transitionMap:{initial:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.removeOutlineButtonInitialUri}},hovered:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.removeOutlineButtonHoveredUri}}}},text:{name:"offText",maxLines:1,horizontalAlignment:c.CENTER,verticalAlignment:l.CENTER,inheritedViewStateNames:["hovered","disabled"],transitionMap:{initial:{set_format:{$extend:w.singleton.exports.instantTransition,to:_.singleton.byDesign({desktop:x.callToActionButtonFormat,mobile:x.assetDetailsMobilePreviewOrWatchlist})}},hovered:{set_format:{$extend:w.singleton.exports.instantTransition,to:_.singleton.byDesign({desktop:x.callToActionButtonHoveredFormat,mobile:x.assetDetailsMobilePreviewOrWatchlist})}}}}},Pe={container:{name:"container",layout:{$type:n},width:V.defaultButtonWidth,height:V.defaultButtonHeight,isInvokable:!0,isPointerTarget:!0,borderThickness:_.singleton.byDesign({desktop:1,mobile:0}),transitionMap:{initial:{set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:G(I.whiteSmoke,.7)},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.smokeGray,.25)}},hovered:{set_backgroundColor:{$extend:w.singleton.exports.instantTransition,to:I.whiteSmoke},set_borderColor:{$extend:w.singleton.exports.instantTransition,to:G(I.smokeGray,.5)}}}},onImage:{name:"onImage",width:V.iconWidth,height:V.addIconHeight,inheritedViewStateNames:["hovered","disabled"],layoutProps:{$extend:k.layouts.anchorLeftCropLeft,margin:{left:V.iconPadding}},transitionMap:{initial:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.addFillButtonInitialUri}},hovered:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.addFillButtonHoveredUri}}}},offImage:{name:"offImage",width:V.iconWidth,height:V.removeIconHeight,inheritedViewStateNames:["hovered","disabled"],layoutProps:{$extend:k.layouts.anchorLeftCropLeft,margin:{left:V.iconPadding}},transitionMap:{initial:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.removeFillButtonInitialUri}},hovered:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.removeFillButtonHoveredUri}}}},text:{name:"offText",maxLines:1,horizontalAlignment:c.CENTER,verticalAlignment:l.CENTER,inheritedViewStateNames:["hovered","disabled"],transitionMap:{initial:{set_format:{$extend:w.singleton.exports.instantTransition,to:x.buttonFormat}},hovered:{set_format:{$extend:w.singleton.exports.instantTransition,to:x.buttonHoveredFormat}}}}},Ee=function(t,r,d){var u=D.byScreen({phone:_.dpiBrandAwareLogoUri(!0!==t.useSmallFallbackImageForPhone),tablet:_.dpiBrandAwareLogoUri(!0),monitor:D.byBrand({hbogo:"/assets/images/branding/desktop/hbogo/logo_fallback_133x30.png",hbonow:"/assets/images/branding/desktop/hbonow/logo_fallback_133x30.png"})}),p={name:"text",format:e._useOwnPropertyOrFallback(t,"newBadgeTextFormat",x.largeViolatorTextFormat),height:25,layoutProps:{margin:{left:8,right:8}},maxLines:1,horizontalAlignment:c.CENTER,verticalAlignment:l.CENTER};Ue(t);var h;!0===t.interactiveIndicatorOnCarousel&&!0!==t.alwaysUseInteractiveIndicatorLayoutProps||(h=e._useOwnPropertyOrFallback(t,"interactiveIndicatorLayoutProps",de)),h=R({margin:{}},h),h.margin.bottom=e._useOwnPropertyOrFallback(t,"indicatorBottomMargin",le);var g=R({bottomContainer:{name:"bottomContainer",isReadyInit:!0,isPointerTarget:D.byDesign({mobile:!0,desktop:!1}),width:t.width,height:t.textSectionHeight,layout:{$type:n},suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},bottomTextArea:{name:"textItemsComposite",isPointerTarget:D.byDesign({mobile:!0,desktop:!1}),layoutProps:{$extend:t.bottomTextAreaAnchor||k.layouts.anchorFillTop,margin:t.bottomTextAreaMargin||X},layout:t.textAreaLayout||{$type:o,primaryAxis:i.VERTICAL,spacing:t.textSectionSpacing||0},width:t.textItemsCompositeWidth,height:t.bottomTextAreaHeight,suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},overlayTextArea:{name:"textItemsComposite",width:t.width,layout:{$type:o,primaryAxis:i.VERTICAL},layoutProps:{$extend:k.layouts.anchorFillBottom,margin:t.textViewMargin},accessibilityTrait:s.BUTTON,isAccessibilityScope:!0,isPointerTarget:!0,suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},rightContainer:{name:"rightContainer",layout:{$type:n},isPointerTarget:D.byDesign({mobile:!0,desktop:!1}),layoutProps:k.layouts.anchorAll,suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},rightTextArea:{name:"textItemsComposite",layout:{$type:n},layoutProps:{$extend:k.layouts.anchorAll,margin:t.textMargin},suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},leftTextArea:{name:"textItemsComposite",layout:{$type:n},layoutProps:k.layouts.anchorFillLeftCropLeft,width:t.textAreaWidth,height:t.height,backgroundColor:I.splitPanelBlue},textAreaInset:{name:"textAreaInset",layout:{$type:o,primaryAxis:i.VERTICAL},layoutProps:t.textAreaInsetLayoutProps,suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},relaxedTextSection:{name:"relaxedTextSection",isPointerTarget:D.byDesign({mobile:!0,desktop:!1}),layoutProps:k.layouts.anchorFillBottom,layout:{$type:o,primaryAxis:i.HORIZONTAL},width:t.width,height:t.height,suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},comboIndicator:{name:"comboIndicator",layout:{$type:o,primaryAxis:i.HORIZONTAL}},comboSeparator:{name:"comboSeparator",isReadyInit:!0,backgroundColor:I.dustyGray,layoutProps:{margin:{top:7,left:10,right:10}},width:1,height:11},rightArrow:{name:"rightArrow",layoutProps:{$extend:t.arrowLayout||k.layouts.anchorTopRight,margin:t.arrowMargin},inheritedViewStateNames:["pressed"],width:V.smallArrowWidth,height:V.smallArrowHeight,isInvokable:!0,isPointerTarget:!0,transitionMap:{initial:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.smallRightArrowDefault}},hovered:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.smallRightArrowHover}},pressed:{set_uri:{$extend:w.singleton.exports.instantTransition,to:V.smallRightArrowDown}}}},container:{name:t.name||d,isInvokable:t.isInvokable||!1,isPointerTarget:t.isInvokable||!1,x:t.x||0,y:t.y||0,width:t.width,height:t.height,clipToBounds:!0,layout:t.tileCompositeLayout||{$type:o,primaryAxis:i.VERTICAL,spacing:t.compositeSpacing||0},layoutProps:t.tileCompositeLayoutProps,suppressContentExceptions:!0,inheritedViewStateNames:["hovered","pressed","selected"]},overlayHyperlink:{name:"overlayHyperlink",width:t.imageWidth,height:t.imageHeight,layoutProps:t.overlaidImageLayoutProps||k.layouts.anchorAll},overlayContainer:{name:"overlayContainer",isReadyInit:!0,isPointerTarget:!0,width:t.imageWidth,height:t.imageHeight,layout:{$type:n},layoutProps:t.overlaidImageLayoutProps||k.layouts.anchorAll,backgroundColor:t.overlayBackgroundColorOverride||I.darkestGray,suppressContentExceptions:!0},umbrella:{name:"umbrella",isReadyInit:!0,width:t.umbrellaWidth,format:t.umbrellaTextFormat,layoutProps:t.umbrellaTextLayoutProps,maxLines:1},titleText:{name:"titleText",isReadyInit:!0,width:t.maxTextWidth,height:t.titleTextHeight,format:t.titleTextFormat,layoutProps:t.titleTextLayoutProps,maxLines:t.titleMaxLines||e._useOwnPropertyOrFallback(t,"maxLines",1),verticalAlignment:e._useOwnPropertyOrFallback(t,"titleTextVerticalAlignment",l.TOP),horizontalAlignment:e._useOwnPropertyOrFallback(t,"titleTextHorizontalAlignment",c.LEFT),transitionMap:t.titleTransitionMaps,inheritedViewStateNames:t.titleInheritedViewStateNames},spannedTitleTaglineText:{name:"titleText",layoutProps:{$extend:t.textViewLayout||k.layouts.default,margin:t.textViewMargin},maxLines:t.titleMaxLines||e._useOwnPropertyOrFallback(t,"maxLines",1),format:t.titleTextFormat,spanFormats:!0===t.titleFirst?[t.titleTextFormat,t.taglineTextFormat]:[t.taglineTextFormat,t.titleTextFormat],width:t.maxTextWidth},tagline:{name:"tagline",isReadyInit:!0,width:t.taglineTextWidth,format:t.taglineTextFormat,layoutProps:t.taglineTextLayoutProps,maxLines:t.taglineMaxLines||e._useOwnPropertyOrFallback(t,"maxLines",1)},taglineWithComboIndicator:{name:"taglineWithComboIndicator",layout:{$type:o,primaryAxis:i.HORIZONTAL}},shortSummary:{name:"shortSummary",isReadyInit:!0,width:t.maxTextWidth,format:t.summaryTextFormat,layoutProps:t.summaryTextLayoutProps,maxLines:e._useOwnPropertyOrFallback(t,"maxLines",1)},metadata:{name:"metadata",isReadyInit:!0,width:t.maxTextWidth,format:t.metadataTextFormat,layoutProps:t.metadataTextLayoutProps,maxLines:1},thumbImage:{name:"thumbImage",isReadyInit:!0,transitionMap:M.defaultImageFadeTransition,width:t.imageWidth,height:t.imageHeight,layoutProps:t.imageLayoutProps||{anchor:{left:!0,top:!0}}},fallbackImage:{name:"fallbackImage",isReadyInit:!0,layoutProps:{anchor:{}},uri:u},protectionImage:{name:"protectionImage",isReadyInit:!0,width:t.imageWidth,height:t.protectionImageHeight,layoutProps:t.protectionImageLayoutProps||{anchor:{left:!0,right:!0,bottom:!0}},uri:"/assets/images/protection/protection_tile_l.png"},progressBar:{background:{name:"background",isReadyInit:!0,backgroundColor:G(I.opaqueBlack,.2),layoutProps:k.layouts.anchorFillBottom,layout:{$type:n},height:ue,width:t.imageWidth},foreground:{name:"foreground",isReadyInit:!0,backgroundColor:I.ceruleanBlue,layoutProps:k.layouts.anchorFillLeft}},overlayBackground:{name:"overlayBackground",isReadyInit:!0,backgroundColor:I.overlayBlue,layoutProps:{anchor:{left:!0,top:!0,right:!0,bottom:!0},margin:{bottom:0}}},hoverOverlay:{name:"hoverOverlay",isPointerTarget:!0,layoutProps:{anchor:{}},layout:{$type:o,primaryAxis:i.VERTICAL,alignAlongPrimaryAxis:!0,spacing:20}},hoverPlayButton:{container:{name:"container",isReadyInit:!0,width:t.imageWidth,layout:{$type:n}},playButton:{name:"playButton",isReadyInit:!0,uriParams:{autoplay:"true"},analyticsValue:P.TILE_PLAY,layoutProps:{anchor:{}}},playButtonIcon:t.playOverlayImages?{name:"playButtonIcon",isInvokable:!0,isPointerTarget:!0,transitionMap:{initial:{set_uri:{$extend:w.singleton.exports.instantTransition,to:t.playOverlayImages.initial}},hovered:{set_uri:{$extend:w.singleton.exports.instantTransition,to:t.playOverlayImages.hovered}},pressed:{set_uri:{$extend:w.singleton.exports.instantTransition,to:t.playOverlayImages.pressed}}}}:void 0},playAsset:!0===r.hasPlayAsset?{name:"playAsset",accessibilityTextOverride:void 0,accessibilityTrait:void 0,isInvokable:!0,isPointerTarget:!0,layoutProps:{anchor:k.anchors.bottomLeft,margin:t.playAssetLayout.margin},height:t.playAssetLayout.height,width:t.playAssetLayout.width,inheritedViewStateNames:["hovered","pressed"],uri:t.playAssetLayout.images.initial}:void 0,explore:!0===t.useOutlineButtons?Ce:Te,learnMore:!0===t.useOutlineButtons?Ce:Te,hoverOverlayButtonsContainer:{name:"hoverOverlayButtonsContainer",layout:{$type:o,primaryAxis:i.VERTICAL,spacing:16},layoutProps:{anchor:{}}},ratingBar:{container:{name:"container",backgroundColor:!0===t.noIndicatorProtection?I.clear:I.overlayBlue,layout:{$type:o,primaryAxis:i.HORIZONTAL,alignAlongPrimaryAxis:!0},layoutProps:{$extend:!0===t.noIndicatorProtection?k.layouts.anchorFillBottom:k.layouts.anchorFillBottomCropBottom,margin:{left:0,bottom:!0===t.noIndicatorProtection?ue:0}},height:!0===t.noIndicatorProtection?void 0:se},lock:{name:"lock",isReadyInit:!0,height:13,width:10,layoutProps:{margin:!0===t.noIndicatorProtection?{top:-4,left:0}:{top:2,left:re}},uri:t.lockImages?t.lockImages.initial:void 0},text:{name:"text",isReadyInit:!0,format:t.featuredTile?x.homeFeaturedRatingFormat:x.ratingTextFormat,maxLines:1,layoutProps:{margin:!0===t.noIndicatorProtection?{left:6,top:2}:{left:12,top:4}}}},overlayNewBadge:{container:{name:"overlayNewBadge",layout:{$type:n},layoutProps:e._useOwnPropertyOrFallback(t,"overlayNewBadgeLayoutProps",{anchor:{left:!0,top:!0}}),backgroundColor:oe},text:p},textNewBadge:{container:{name:"textNewBadge",layout:{$type:n},layoutProps:e._useOwnPropertyOrFallback(t,"textNewBadgeLayoutProps",{anchor:{left:!0,top:!0}}),backgroundColor:oe},text:p},interactiveIndicator:{container:{height:t.interactiveIndicatorHeight,layoutProps:h},image:t.interactiveIndicatorImageStyle,text:t.interactiveIndicatorTextStyle},watchNextText:{name:"watchNextText",isReadyInit:!0,width:t.umbrellaWidth,format:t.watchNextTextFormat,layoutProps:t.umbrellaTextLayoutProps,maxLines:e._useOwnPropertyOrFallback(t,"maxLines",1)},liveExperiencePreviewText:{name:"liveExperiencePreviewText",isReadyInit:!0,format:x.smallTileTitleTextFormat,maxLines:1},watchlistToggle:!0===t.useOutlineButtons?Re:Pe,removeAsset:void 0!==t.removeAssetLayout?{name:"removeButton",uri:O("/assets/images/buttons/mobile/btn_remove_item","png"),width:t.removeAssetLayout.width,height:t.removeAssetLayout.height,layoutProps:t.removeAssetLayout.layoutProps,isReadyInit:!0,isInvokable:!0,accessibilityTextOverride:a.singleton.getResource("ResRemoveFromWatchlist"),isPointerTarget:!0}:void 0,collectionCountText:{name:"collectionCountText",isReadyInit:!0,format:t.collectionCountTextFormat,layoutProps:t.collectionCountLayoutProps,maxLines:1}});return void 0!==t.backgroundColor&&(g.container.backgroundColor=t.backgroundColor),void 0!==t.violatorParams&&(g.violator={name:"violator",layout:{$type:o,primaryAxis:i.HORIZONTAL},layoutProps:{margin:t.violatorParams.margin},backgroundColor:t.violatorParams.backgroundColor},g.violatorText={isReadyInit:!0,layoutProps:{margin:{left:8,right:8}},height:t.violatorParams.height,format:t.violatorParams.textFormat,maxLines:1,horizontalAlignment:c.CENTER,verticalAlignment:l.CENTER}),void 0!==t.liveViolatorParams&&(g.liveViolator={name:"liveViolator",layout:{$type:o,primaryAxis:i.HORIZONTAL},layoutProps:{margin:t.liveViolatorParams.margin},backgroundColor:t.liveViolatorParams.backgroundColor},g.liveViolatorText={isReadyInit:!0,layoutProps:{margin:{left:8,right:8}},height:t.liveViolatorParams.height,format:t.liveViolatorParams.textFormat,maxLines:1,horizontalAlignment:c.CENTER,verticalAlignment:l.CENTER}),g},Ie=D.byScreen({monitor:22,tablet:22,phone:20}),xe=function(e,t,i){var o={$type:b,name:e.name||i,isInvokable:e.isInvokable||!1,isPointerTarget:e.isInvokable||!1,x:e.x||0,y:e.y||0,width:e.width,height:e.height,layout:{$type:n},clipToBounds:!0,displayBackgroundForFutureEvents:e.displayBackgroundForFutureEvents,isReadyInit:!0,suppressContentExceptions:!0,reactComponentProps:{style:Ee(e,t,i),hasBottomTextArea:t.hasBottomTextArea,hasRightTextArea:t.hasRightTextArea,hasLeftTextArea:t.hasLeftTextArea,hasOverlayTextArea:t.hasOverlayTextArea,hasThumbImage:t.hasThumbImage,textParts:e.textParts,hasBottomRightArrow:!0===e.showArrow&&void 0!==e.arrowMargin,hasRemoveAsset:t.hasRemoveAsset,hasProtectionImage:t.hasProtectionImage,relaxedTextSectionHeight:e.relaxedTextSectionHeight,userCollection:e.userCollection,hasOverlayHyperlink:e.autoplayOnThumbImageClick,hasHoverOverlay:t.hasHoverOverlay&&D.byDesign({desktop:!0,default:!1}),hasOverlayBackground:t.hasOverlayBackground&&D.byDesign({desktop:!0,default:!1}),progressBarOnHover:e.progressBarOnHover,interactiveIndicatorOnlyWhenUnlocked:!0!==e.interactiveIndicatorOnCarousel,interactiveIndicatorOnHover:D.byDesign({desktop:!0!==e.interactiveIndicatorOnCarousel,default:!1}),featuredTile:e.featuredTile||!1,displayBackgroundForFutureEvents:e.displayBackgroundForFutureEvents,thumbImagePurposeOverride:e.thumbImagePurposeOverride},_spannedTitlePropertyPath:!0===e.titleFirst?"titleArray":"titleArrayReversed"},r=[];return!0===t.hasOverlayInteractiveIndicator&&D.byDesign({desktop:!0,default:!1})&&r.push("interactiveIndicator"),!0===t.hasNewBadge&&r.push("newBadge"),!0===t.hasRatingBar&&r.push("ratingBar"),!0===t.hasProgressBar&&r.push("progressBar"),!0===t.hasPlayAsset&&r.push("playAsset"),!0===t.hasLiveExperiencePreviewText&&r.push("liveExperiencePreviewText"),!0!==t.hasRightTextArea&&r.push("removeAsset"),_.singleton.byDesignCall({mobile:function(){o._titleViewModelPropertyPath=!0===e.titleFirst?"titleArray":"titleArrayReversed"}}),o.reactComponentProps.overlayParts=r,o},Ae=D.byScreen({phone:1,tablet:2,monitor:3}),ke=D.byScreen({phone:0,tablet:2,monitor:5}),Ve=(F+L)/2,Me=function(e,i,n,o){return function(r){var a=t.singleton.getScreenWidth()(r),s=!0===o?Ae:D.byScreen({phone:1,default:y.singleton.tileFit(e,i,n,ee.minColumns,ee.maxColumns)(r)});return Math.floor((a-2*e-(s-1)*n)/s)}},De=Me(L,ee.minTileWidth,ke),Oe=Me(L,void 0,ke,!0),Ne=Me(Ve,ee.minTileWidth,ke),Fe=function(e){return{width:e.width,height:e.height,imageHeight:e.imageHeight,imageWidth:e.imageWidth,taglineTextWidth:e.textWidth,maxTextWidth:e.textWidth,umbrellaWidth:e.umbrellaWidth,playOverlayImages:ne.medium,lockImages:te.medium,compositeSpacing:10,useOutlineButtons:!0,featuredTile:!1,hoverOverlayOrder:he.hoverOverlay,autoplayOnThumbImageClick:We,playAssetLayout:Z.default,arrowMargin:{left:10},rightArrowAnchor:k.anchors.topRight,ratingAnchor:k.anchors.topRight}},Le=function(e,t,i){i=i||E.heightRatio16x9;var n=Math.round(.6*e),o=Math.round(e*i);return{width:e,height:void 0!==t?o+t:void 0,umbrellaWidth:n,imageHeight:o,imageWidth:e,textWidth:Math.round(.84*e)}},Be=function(e,t,i){i=i||E.heightRatio16x9;var n=e,o=fe(.6,e),r=fe(i,e);return{width:n,height:fe(i,e,t),umbrellaWidth:o,imageHeight:r,imageWidth:n,textWidth:fe(.84,e)}},He=function(e,t,i,n){var o=Le(e,i,n),r=Be(t,i,n);return D.byScreen({phone:r,default:o})},Ue=function(e){var t=D.byScreen({phone:!0,default:!1});e.showArrow=t,e.textItemsCompositeWidth=function(i){return z(i,e.width)-z(i,Y)-(!0===t?30:0)},e.textSectionHeight=function(t){if(void 0!==e.height)return z(t,e.height)-z(t,e.imageHeight)-z(t,e.compositeSpacing)}},$e=D.byDesign({desktop:Le(280,74),daydream:Be(De,72+ae),mobile:Be(Ne,72+ae)}),We=D.byDesign({desktop:!1,mobile:!0}),je=D.byDesign({desktop:{assetSeriesTitle:x.assetSeriesTitle,assetSeriesTitleEpisodeNumber:x.assetSeriesTitleEpisodeNumber,promotedTileMetadataTextFormat:x.promotedTileMetadataTextFormat,promotedTileSummaryTextFormat:x.promotedTileSummaryTextFormat,promotedTileTaglineTextFormat:x.promotedTileTaglineTextFormat,promotedTileTitleTextFormat:x.promotedTileTitleTextFormat,promotedTileUmbrellaTextFormat:x.promotedTileUmbrellaTextFormat,smallTileTaglineTextFormat:x.smallTileTaglineTextFormat,smallTileTitleTextFormat:x.smallTileTitleTextFormat,collectionsLandingTitleTextFormat:x.collectionsLandingTitle,collectionsLandingSummaryTextFormat:x.collectionsLandingSummary,collectionsLandingCollectionCountTextFormat:x.collectionsLandingCollectionCount},mobile:{assetSeriesTitle:x.mobileTileTaglineTextFormat,assetSeriesTitleEpisodeNumber:x.mobileTileTitleTextFormat,promotedTileMetadataTextFormat:x.mobilePromotedTileMetadataTextFormat,promotedTileSummaryTextFormat:x.mobilePromotedTileSummaryTextFormat,promotedTileTaglineTextFormat:x.mobilePromotedTileTaglineTextFormat,promotedTileTitleTextFormat:x.mobilePromotedTileTitleTextFormat,promotedTileUmbrellaTextFormat:x.mobilePromotedTileUmbrellaTextFormat,smallTileTaglineTextFormat:x.mobileTileTaglineTextFormat,smallTileTitleTextFormat:x.mobileTileTitleTextFormat,collectionsLandingTitleTextFormat:x.mobileCollectionsTitleTextFormat,collectionsLandingSummaryTextFormat:x.mobileCollectionsSummaryTextFormat,collectionsLandingCollectionCountTextFormat:x.mobilePromotedTileMetadataTextFormat}}),Ge=C({},Fe($e),{umbrellaTextFormat:x.smallTileUmbrellaTextFormat,titleTextFormat:je.smallTileTitleTextFormat,taglineTextFormat:je.smallTileTaglineTextFormat,maxLines:void 0,titleMaxLines:2,titleFirst:!0,textViewLayout:k.layouts.anchorLeft,ratingMargin:{top:4,right:D.byScreen({phone:40,default:20})},arrowMargin:{top:6,right:D.byScreen({phone:26,default:8})},viewModelFactoryId:"AssetThumbnailHyperlink",textParts:D.byDesign({desktop:["titleText","taglineText"],mobile:["umbrellaText","titleText","taglineText","interactiveIndicator"]}),thumbImagePurposeOverride:S.TILE_ZOOM,interactiveIndicatorLineHeight:Ie,indicatorBottomMargin:ce});D.byScreenCall({phone:function(){Ge.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(Ge))}});var ze=xe(Ge,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"smallTileView"),Ke=function(e,t){return{tile:e,width:t.width,height:t.height,minWidth:t.minWidth||ee.minTileWidth,imageHeight:t.imageHeight,imageWidth:t.imageWidth,fullHeight:t.height,viewModel:t.viewModelFactoryId}};j.smallTileInfo=Ke(ze,Ge);var Ye=D.byDesign({desktop:Le(280,74),mobile:Be(De,98+ae)}),qe=C({},Fe(Ye),{umbrellaTextFormat:x.smallTileUmbrellaTextFormat,titleTextFormat:je.smallTileTitleTextFormat,taglineTextFormat:je.smallTileTaglineTextFormat,maxLines:void 0,titleMaxLines:2,titleFirst:!0,textViewLayout:k.layouts.anchorLeft,ratingMargin:{top:4,right:D.byScreen({phone:30,default:20})},arrowMargin:{top:D.byDesign({mobile:4,desktop:5}),right:D.byScreen({phone:16,default:8})},viewModelFactoryId:"AssetThumbnailHyperlink",textParts:["titleText","taglineText"],thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){qe.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(qe))}});var Qe=xe(qe,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"gutteredSmallTileView");j.gutteredSmallTileInfo=Ke(Qe,qe);var Xe=D.byDesign({desktop:Le(374,void 0),mobile:He(320,De,200+ae)}),Je=C({},Fe(Xe),{umbrellaTextFormat:x.promotedTileUmbrellaTextFormat,titleTextFormat:je.promotedTileTitleTextFormat,taglineTextFormat:je.promotedTileTaglineTextFormat,summaryTextFormat:je.promotedTileSummaryTextFormat,metadataTextFormat:je.promotedTileMetadataTextFormat,titleMaxLines:2,taglineMaxLines:1,maxLines:2,titleFirst:!0,textViewLayout:k.layouts.anchorLeft,ratingMargin:{top:4,right:20},arrowMargin:{top:4,right:8},viewModelFactoryId:"AssetThumbnailHyperlink",textParts:D.byDesign({desktop:["umbrellaText","titleText","taglineText","summaryText","metadataText"],mobile:["spannedTitleTaglineText","interactiveIndicator"]}),thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){Je.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(Je))}});var Ze=xe(Je,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"relatedContentTileView");j.relatedContentTileInfo=Ke(Ze,Je);var et=D.byDesign({desktop:Le(374,69),mobile:He(320,De,72+ae)}),tt=C({},Fe(et),{umbrellaTextFormat:x.smallTileUmbrellaTextFormat,titleTextFormat:je.smallTileTitleTextFormat,taglineTextFormat:je.smallTileTaglineTextFormat,maxLines:D.byDesign({desktop:void 0,mobile:2}),titleFirst:!0,textViewLayout:k.layouts.anchorLeft,ratingMargin:{top:4,right:20},arrowMargin:{top:6,right:8},interactiveIndicatorLineHeight:Ie,indicatorBottomMargin:ce,viewModelFactoryId:"AssetMediumTileHyperlink",textParts:D.byDesign({desktop:["titleText","taglineText"],mobile:["spannedTitleTaglineText","interactiveIndicator"]}),thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){tt.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(tt))}});var it=xe(tt,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"homeTileView");j.homeTileInfo=Ke(it,tt);var nt=function(t,i,n,o,r,a){var s=!0===i?["violator","liveViolator"]:[],l=D.byDesign({desktop:{violatorParams:{order:he.violator,backgroundColor:G(I.whiteSmoke,.85),margin:{top:2,bottom:8},textFormat:x.smallViolatorTextFormat,height:20},liveViolatorParams:{order:he.violator,backgroundColor:I.mediumBlue,margin:{top:2,bottom:8},textFormat:x.smallLiveViolatorTextFormat,height:20},includeContext:o,titleMaxLines:2,ratingMargin:{top:4,right:20},arrowMargin:{top:4,right:8},relaxedTextSectionHeight:!0,textParts:["umbrellaText"].concat(s).concat(["titleText","taglineText","summaryText","metadataText"])},mobile:{violatorParams:{order:he.violator,backgroundColor:G(I.whiteSmoke,.85),height:20,margin:{top:4},textFormat:x.smallViolatorTextFormat},liveViolatorParams:{order:he.violator,backgroundColor:I.mediumBlue,height:20,margin:{top:4},textFormat:x.smallLiveViolatorTextFormat},taglineMaxLines:1,arrowMargin:{top:8,right:8},ratingMargin:{right:20},titleMaxLines:2,umbrellaTextLayoutProps:{margin:{top:4}},metadataTextLayoutProps:{margin:{top:1}},textSectionSpacing:4,compositeSpacing:10,textParts:["umbrellaText"].concat(s).concat(["titleText","interactiveIndicator","taglineText","summaryText","metadataText"]),interactiveIndicatorLineHeight:Ie,indicatorBottomMargin:ce}});C(l,{umbrellaTextFormat:je.promotedTileUmbrellaTextFormat,titleTextFormat:je.promotedTileTitleTextFormat,taglineTextFormat:je.promotedTileTaglineTextFormat,summaryTextFormat:je.promotedTileSummaryTextFormat,metadataTextFormat:je.promotedTileMetadataTextFormat},a);var c=C({},Fe(t),l,{viewModelFactoryId:n,maxLines:2,titleFirst:!0,textViewLayout:k.layouts.anchorLeft,taglineMaxLines:1,thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){c.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(c))}}),void 0!==a&&!0===a.getExtraTileHeightFromParams&&(c.height=me(t,c));var d=xe(c,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"promotedTileView-"+r);return Ke(d,c)},ot=D.byDesign({desktop:Le(374,void 0),mobile:He(320,De,180+ae)}),rt=D.byDesign({desktop:Le(374,130),mobile:Be(De,170)}),at=D.byDesign({desktop:120,mobile:160}),st=Be(Oe,at),lt=D.byDesign({desktop:Le(288,130),mobile:Be(De,72+ae)});j.promotedHomeTileInfo=nt(ot,!0,"PromotedAssetMediumTileHyperlink",!1,"promotedHomeTileInfo"),j.promotedFranchiseTileInfo=nt(ot,!1,"PromotedAssetMediumTileHyperlink",!1,"promotedFranchiseTileInfo"),j.playlistTileInfo=nt(ot,!1,"PlaylistAssetMediumTileHyperlink",!0,"playlistTileInfo"),j.playlistDetailsTileInfo=nt(lt,!1,"PlaylistAssetMediumTileHyperlink",!0,"playlistDetailsTileInfo"),j.promotedMediumFlexibleTileInfo=nt(rt,!1,"PromotedAssetMediumTileHyperlink",!1,"promotedMediumFlexibleTileInfo");var ct={anchor:k.anchors.stretchHorizontally,margin:{right:48}},dt={$extend:k.layouts.anchorAll,margin:{bottom:at}};j.promotedLargeFlexibleTileInfo=nt(st,!1,"PromotedAssetMediumTileHyperlink",!1,"promotedLargeFlexibleTileInfo",D.byDesign({desktop:{tileCompositeLayout:k.layoutTypes.anchored,tileCompositeLayoutProps:k.layouts.anchorAll,imageLayoutProps:k.layouts.anchorAll,protectionImageLayoutProps:k.layouts.anchorAll,overlaidImageLayoutProps:dt,relaxedTextSectionHeight:!1,textAreaLayout:k.layoutTypes.stackedColumnCentered,bottomTextAreaAnchor:k.layouts.anchorFillBottomCropBottom,bottomTextAreaMargin:{bottom:-10},bottomTextAreaHeight:at,titleTextLayoutProps:ct,summaryTextLayoutProps:ct,metadataTextLayoutProps:ct,umbrellaTextLayoutProps:ct}}));var ut={titleMaxLines:1,getExtraTileHeightFromParams:!0,compositeSpacing:16,arrowMargin:{top:8,right:8},textSectionSpacing:8,backgroundColor:I.splitPanelBlue,interactiveIndicatorImageStyle:{uri:ie.white},interactiveIndicatorTextStyle:{format:x.homeFeaturedRatingFormat},watchNextTextFormat:x.featuredSideBySidePanelUmbrella,umbrellaTextFormat:x.featuredSideBySidePanelUmbrella,titleTextFormat:x.featuredSideBySidePanelTitle,taglineTextFormat:x.featuredSideBySidePanelSummary,summaryTextFormat:x.featuredSideBySidePanelSummary,metadataTextLayoutProps:{margin:{top:4}},metadataTextFormat:x.featuredSideBySidePanelRecency},pt=function(e){return.9*t.singleton.getScreenWidth()(e)},ht=Be(H()),gt=Be(pt);j.featuredTopDownTileInfo=nt(ht,!1,"PromotedAssetMediumTileHyperlink",!1,"featuredTopDownTileInfo",R({},ut,{bottomTextAreaMargin:{left:Q},textParts:["watchNext","umbrellaText","titleText","interactiveIndicator","summaryText","metadataText"]})),j.featuredTopDownCarouselTileInfo=nt(gt,void 0,"PromotedAssetMediumTileHyperlink",!1,"topDownCarouselTileWithPeeksInfo",R({},ut,{alwaysUseInteractiveIndicatorLayoutProps:!0,bottomTextAreaMargin:{left:Q},interactiveIndicatorOnCarousel:!0,progressBarOnHover:!0,textParts:["umbrellaText","violator","liveViolator","titleText","interactiveIndicator","summaryText","metadataText"]}));var ft=D.byDesign({desktop:{width:210,height:210},mobile:{width:180,height:180}}),mt=D.byDesign({desktop:210,mobile:180}),vt=C({},Fe(ft),{titleTextFormat:x.seeAllTileTextFormat,viewModelFactoryId:"PromotedAssetMediumTileHyperlink",titleTextHeight:mt,maxTextWidth:mt,titleTextVerticalAlignment:l.CENTER,titleTextHorizontalAlignment:c.CENTER,compositeSpacing:0,thumbImagePurposeOverride:S.TILE_ZOOM,overlayBackgroundColorOverride:I.darkBlue});vt.textParts=["titleText"];var _t=xe(vt,{hasOverlayTextArea:!0},"franchiseSeeAllTileView"),yt=D.byDesign({desktop:Le(374,void 0),mobile:He(320,De,200)}),wt=C({},Fe(yt),{umbrellaTextFormat:x.promotedTileUmbrellaTextFormat,titleTextFormat:je.promotedTileTitleTextFormat,summaryTextFormat:je.promotedTileSummaryTextFormat,metadataTextFormat:je.promotedTileMetadataTextFormat,collectionCountTextFormat:x.promotedTileUmbrellaTextFormat,titleMaxLines:2,taglineMaxLines:1,maxLines:2,titleFirst:!0,textViewLayout:k.layouts.anchorLeft,ratingMargin:{top:4,right:20},arrowMargin:{top:4,right:8},interactiveIndicatorLineHeight:Ie,indicatorBottomMargin:ce,viewModelFactoryId:"PromotedAssetMediumTileHyperlink",relaxedTextSectionHeight:D.byDesign({desktop:!0,mobile:!1}),textParts:D.byDesign({desktop:["umbrellaText","titleText","summaryText","metadataText"],mobile:["spannedTitleTaglineText","collectionCountText","interactiveIndicator"]}),thumbImagePurposeOverride:S.TILE_ZOOM}),bt=xe(wt,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"franchiseLandingTileView");j.franchiseLandingTileInfo=Ke(bt,wt),j.franchiseLandingTileInfo.seeAllTile=_t,j.promotedHomeTileInfo.seeAllTile=_t,j.promotedFranchiseTileInfo.seeAllTile=_t;var St=D.byDesign({desktop:Le(280,95),mobile:Be(De,95+ae)}),Ct=C({},Fe(St),{umbrellaTextFormat:x.promotedTileUmbrellaTextFormat,titleTextFormat:je.promotedTileTitleTextFormat,taglineTextFormat:je.promotedTileTaglineTextFormat,summaryTextFormat:je.promotedTileSummaryTextFormat,metadataTextFormat:je.promotedTileMetadataTextFormat,textSectionSpacing:D.byDesign({mobile:5}),titleMaxLines:2,taglineMaxLines:1,maxLines:2,titleFirst:!0,textViewLayout:k.layouts.anchorLeft,ratingMargin:{top:4,right:20},arrowMargin:{top:4,
right:8},interactiveIndicatorLineHeight:Ie,indicatorBottomMargin:ce,viewModelFactoryId:"PromotedAssetTileHyperlink",textParts:D.byDesign({desktop:["umbrellaText","titleText","metadataText"],mobile:["spannedTitleTaglineText","interactiveIndicator","metadataText"]}),thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){Ct.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(Ct))}});var Tt=xe(Ct,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"franchiseCatalogTileView");j.franchiseCatalogTileInfo=D.byScreen({phone:j.promotedFranchiseTileInfo,default:Ke(Tt,Ct)}),j.promotedCatalogTileInfo=D.byScreen({phone:j.promotedHomeTileInfo,default:Ke(Tt,Ct)});var Rt=D.byDesign({desktop:Le(374,69),mobile:Be(De,72+ae)}),Pt=C({},Fe(Rt),{taglineTextWidth:void 0,compositeSpacing:6,textHeight:60,umbrellaTextFormat:x.smallTileUmbrellaTextFormat,titleTextFormat:je.assetSeriesTitle,taglineTextFormat:je.assetSeriesTitleEpisodeNumber,maxLines:1,titleFirst:!1,titleMaxLines:2,taglineTextOrder:he.titleText,titleTextOrder:he.taglineText,viewModelFactoryId:"EpisodicAssetMediumTileHyperlink",textViewLayout:k.layouts.anchorLeft,arrowMargin:{top:D.byDesign({mobile:6,desktop:8}),right:D.byScreen({phone:16,default:8})},ratingMargin:{top:D.byDesign({mobile:4,desktop:8}),right:D.byScreen({phone:30,default:20})},textParts:D.byDesign({desktop:["spannedTitleTaglineText"],mobile:["spannedTitleTaglineText","interactiveIndicator"]}),thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){Pt.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(Pt))}});var Et=xe(Pt,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"mediumEpisodicTileView");j.episodicTileInfo=Ke(Et,Pt);var It=D.byDesign({desktop:Le(280,74),daydream:Be(De,72+ae,3/7),mobile:Be(Ne,72+ae,3/7)}),xt=C({},Fe(It),{taglineTextWidth:void 0,compositeSpacing:6,textHeight:60,bottomTextAreaMargin:{left:6,top:5,bottom:6},umbrellaTextFormat:x.smallTileUmbrellaTextFormat,umbrellaTextLayoutProps:{margin:{left:6,bottom:3}},textViewMargin:{left:6,right:19},bottomTextAreaAnchor:k.layouts.anchorLeft,backgroundColor:I.splitPanelBlue,titleTextFormat:x.watchLatestTitleTextFormat,taglineTextFormat:x.watchLatestTaglineTextFormat,watchNextTextFormat:x.mobilePromotedTileUmbrellaTextFormat,maxLines:void 0,titleFirst:!1,titleMaxLines:2,viewModelFactoryId:"FeaturedAssetMediumTileHyperlink",textViewLayout:k.layouts.anchorLeft,arrowMargin:{top:D.byDesign({mobile:16,desktop:8}),right:D.byScreen({phone:16,default:8})},ratingMargin:{top:D.byDesign({mobile:6,desktop:8}),right:D.byScreen({phone:30,default:20})},textParts:["watchNext","spannedTitleTaglineText","interactiveIndicator"],thumbImagePurposeOverride:S.TILE});D.byScreenCall({phone:function(){xt.height=fe(3/7,Ne,e._extraTileHeightFromParams(xt)+8)}});var At=xe(xt,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"watchLatestTileView");j.watchLatestTileInfo=Ke(At,xt);var kt=Me(L,301,32),Vt=D.byDesign({desktop:Le(550,150),mobile:Be(kt,0)}),Mt=D.byDesign({desktop:15,mobile:10}),Dt=C({},Fe(Vt),{compositeSpacing:Mt,rightArrowAnchor:k.anchors.topRight,titleTextFormat:je.collectionsLandingTitleTextFormat,summaryTextFormat:je.collectionsLandingSummaryTextFormat,collectionCountTextFormat:je.collectionsLandingCollectionCountTextFormat,titleTextLayoutProps:D.byDesign({desktop:{margin:{bottom:4}}}),summaryTextLayoutProps:D.byDesign({desktop:{margin:{bottom:4}}}),collectionCountLayoutProps:D.byDesign({mobile:{margin:{top:2}}}),maxLines:2,viewModelFactoryId:"AssetLargeTileHyperlink",arrowMargin:{top:6,right:D.byScreen({phone:16,default:8})},ratingMargin:{top:4,right:D.byScreen({phone:30,default:20})},textParts:["titleText","summaryText","collectionCountText"],thumbImagePurposeOverride:S.TILE_ZOOM,bottomTextAreaMargin:X,minWidth:301}),Ot=D.byScreenCall({phone:function(){return e._extraTileHeightFromParams(Dt)},tablet:function(){return e._extraTileHeightFromParams(Dt)+12}});D.byDesignCall({mobile:function(){Dt.height=fe(E.heightRatio16x9,kt,Ot)}});var Nt=xe(Dt,{hasThumbImage:!0,hasNewBadge:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"collectionsLandingTileView");j.collectionsLandingTileInfo=Ke(Nt,Dt);var Ft=D.byDesign({desktop:Le(288,70),mobile:Be(De,72+ae)}),Lt={top:5,right:D.byScreen({phone:16,default:8})},Bt=C({},Fe(Ft),{umbrellaWidth:void 0,titleTextFormat:je.smallTileTitleTextFormat,taglineTextFormat:je.smallTileTaglineTextFormat,maxLines:2,titleFirst:!0,viewModelFactoryId:"CollectionDetailsAssetThumbnailHyperlink",includeContext:!0,textViewLayout:k.layouts.anchorLeft,ratingMargin:{top:4,right:D.byScreen({phone:30,default:20})},arrowMargin:Lt,textParts:D.byDesign({desktop:["spannedTitleTaglineText"],mobile:["spannedTitleTaglineText","interactiveIndicator"]}),interactiveIndicatorLineHeight:Ie,thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){Bt.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(Bt))}});var Ht=xe(Bt,{hasThumbImage:!0,hasNewBadge:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0},"collectionsDetailsTileView");j.collectionsDetailsTileInfo=Ke(Ht,Bt);var Ut=D.byDesign({desktop:Le(280,100),mobile:Be(De,72+ae)}),$t=C({},Ge,{height:Ut.height,width:Ut.width,imageHeight:Ut.imageHeight,imageWidth:Ut.imageWidth,taglineTextWidth:Ut.textWidth,maxTextWidth:Ut.textWidth,umbrellaWidth:Ut.umbrellaWidth,titleFirst:!0,titleMaxLines:3,textViewLayout:k.layouts.anchorLeft,arrowMargin:{top:D.byDesign({mobile:6,desktop:8}),right:D.byScreen({phone:16,default:8})},ratingMargin:{top:D.byDesign({mobile:4,desktop:8}),right:D.byScreen({phone:30,default:20})},titleTextFormat:je.smallTileTitleTextFormat,taglineTextFormat:je.smallTileTaglineTextFormat,viewModelFactoryId:"SearchResultAssetThumbnailHyperlink",textParts:D.byDesign({desktop:["spannedTitleTaglineText"],mobile:["spannedTitleTaglineText","interactiveIndicator"]}),thumbImagePurposeOverride:S.TILE_ZOOM});D.byScreenCall({phone:function(){$t.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams($t))}});var Wt=xe($t,{hasThumbImage:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0,hasNewBadge:!0},"searchResultsTileView");j.searchTileInfo=Ke(Wt,$t);var jt=D.byDesign({desktop:Le(280,100),mobile:Be(De,72+ae)}),Gt=function(t){return t.textParts=D.byDesign({desktop:["spannedTitleTaglineText"],mobile:["spannedTitleTaglineText","interactiveIndicator"]}),D.byScreenCall({phone:function(){t.height=fe(E.heightRatio16x9,Ne,e._extraTileHeightFromParams(t))}}),xe(t,{hasThumbImage:!0,hasOverlayInteractiveIndicator:!0,hasProgressBar:!0,hasRatingBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasHoverOverlay:!0,hasOverlayBackground:!0,hasBottomTextArea:!0,hasRemoveAsset:D.byDesign({mobile:D.byScreen({phone:void 0,default:!0})})},"watchlistContinueWatchingTileView")};j.removeAssetButtonSize=22;var zt=C({},$t,{height:jt.height,width:jt.width,imageHeight:jt.imageHeight,imageWidth:jt.imageWidth,taglineTextWidth:jt.textWidth,maxTextWidth:jt.textWidth,umbrellaWidth:jt.umbrellaWidth,viewModelFactoryId:"WatchlistAssetThumbnailHyperlink",removeAssetLayout:{width:22,height:22,layoutProps:{anchor:k.anchors.topRight,margin:{top:15,right:15}}},userCollection:d.Watchlist,arrowMargin:{top:5,right:5},textViewMargin:0,thumbImagePurposeOverride:S.TILE_ZOOM}),Kt=Gt(zt);j.watchlistTileInfo=Ke(Kt,zt);var Yt=C({},zt,{viewModelFactoryId:"ContinueWatchingAssetThumbnailHyperlink",userCollection:d.ContinueWatching}),qt=Gt(Yt);j.continueWatchingTileInfo=Ke(qt,Yt);var Qt=function(e){return(.094*z(e,t.singleton.getScreenWidth())-22)/2};j.sideBySideRemoveAssetHorizontalMargin=Qt;var Xt={height:90,width:t.singleton.getScreenWidth(),ratingsLockMargin:{top:6},textViewLayout:k.layouts.anchorFillTopCropTop,titleFirst:!0,imageHeight:90,imageWidth:160,viewModelFactoryId:"WatchlistAssetThumbnailHyperlink",removeAssetLayout:{width:22,height:22,layoutProps:{$extend:k.layouts.anchorLeftCropLeft,margin:{left:Qt,right:Qt}}},playAssetLayout:Z.sideBySide,lockImages:te.medium,lockImageOrder:he.ratingText-1,arrowMargin:{left:5,top:D.byDesign({mobile:5,desktop:8}),right:D.byScreen({phone:16,default:8})},arrowLayout:k.layouts.anchorTopRightCropRight,ratingMargin:{left:6},textViewMargin:X,userCollection:d.Watchlist,tileCompositeLayout:k.layoutTypes.anchored,overlaidImageLayoutProps:k.layouts.anchorFillLeftCropLeft,autoplayOnThumbImageClick:We,titleMaxLines:3,titleTextFormat:C({},je.smallTileTitleTextFormat,{size:15}),taglineTextFormat:C({},je.smallTileTaglineTextFormat,{size:15}),thumbImagePurposeOverride:S.TILE_ZOOM},Jt=function(e,t){return e.textParts=["spannedTitleTaglineText","ratingBar"],xe(e,{hasThumbImage:!0,hasProgressBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasRightTextArea:!0,hasRemoveAsset:t},"sideBySideTileView")},Zt=Jt(Xt,!0);j.watchlistSideBySideTileInfo=Ke(Zt,Xt);var ei=C({},Xt,{viewModelFactoryId:"ContinueWatchingAssetThumbnailHyperlink",userCollection:d.ContinueWatching}),ti=Jt(ei,!0);j.continueWatchingSideBySideTileInfo=Ke(ti,ei);var ii=C({},Xt,{viewModelFactoryId:"SearchResultAssetThumbnailHyperlink"});delete ii.removeAssetLayout,delete ii.userCollection;var ni=Jt(ii,!1);j.searchSideBySideTileInfo=Ke(ni,ii);var oi=function(e){return D.byScreenCall({tablet:function(){var i=t.singleton.getScreenWidth()(e);return i-2*D.byBreakpoint({lessThan:.05*i,greaterThanEqual:.1*i},U)()-20},default:function(){return fe(.9)(e)}})},ri=fe(3/7,oi),ai=function(e){return function(i){var n=void 0!==e?e(i):t.singleton.getScreenWidth()(i);return D.byBreakpoint({lessThan:n-2*L,greaterThanEqual:.7*n},$)}},si=fe(.65,oi),li=fe(.7,oi),ci=function(e){return{width:e,height:ri,imageHeight:ri,imageWidth:e,taglineTextWidth:si,maxTextWidth:D.byScreen({tablet:ai(e),default:si}),umbrellaWidth:350,umbrellaTextFormat:x.homeFeaturedUmbrellaFormat,titleTextFormat:D.byScreen({tablet:D.byBreakpoint({lessThan:x.smallCarouselTitleTextFormat,greaterThanEqual:x.homeFeaturedTitleFormat},W),default:x.homeFeaturedTitleFormat}),taglineTextFormat:x.largeTileSecondaryTextFormat,summaryTextFormat:x.homeFeaturedSecondaryFormat,maxLines:void 0,titleMaxLines:D.byScreen({tablet:2}),playOverlayImages:ne.large,lockImages:te.large,interactiveIndicatorImageStyle:{uri:ie.white},interactiveIndicatorTextStyle:{format:x.homeFeaturedRatingFormat},noIndicatorProtection:!0,progressBarOnHover:!0,textViewMargin:{left:D.byScreen({tablet:20,default:K}),bottom:D.byScreen({tablet:18,default:44})},interactiveIndicatorLineHeight:Ie,indicatorBottomMargin:D.byScreen({tablet:0,default:ce}),featuredTile:!0,hoverOverlayOrder:he.hoverOverlay,protectionImageHeight:486,viewModelFactoryId:"AssetFullbleedHyperlink",autoplayOnThumbImageClick:We,interactiveIndicatorOnCarousel:!0,textNewBadgeLayoutProps:{margin:{bottom:8}},overlayNewBadgeLayoutProps:{anchor:{left:!0,top:!0},margin:{top:12,left:K}},order:he.textViewComposite,violatorParams:{order:he.violator,backgroundColor:G(I.whiteSmoke,.85),textFormat:x.largeViolatorTextFormat,margin:{bottom:8},height:25},liveViolatorParams:{order:he.violator,backgroundColor:I.mediumBlue,textFormat:x.largeLiveViolatorTextFormat,margin:{bottom:8},height:25},hideIsLiveExperiencePreviewText:!0,tileCompositeLayout:{$type:n},tileCompositeLayoutProps:k.layouts.anchorAll,imageLayoutProps:k.layouts.anchorAll,protectionImageLayoutProps:D.byScreen({tablet:D.byBreakpoint({lessThan:k.layouts.anchorAll,greaterThanEqual:k.layouts.anchorBottom},$)})}}(oi);ci.textParts=["violator","liveViolator","umbrellaText","newBadge","titleText","comboIndicator","taglineText"];var di=xe(ci,{hasThumbImage:!0,hasProgressBar:!0,hasHoverOverlay:!0,hasProtectionImage:!0,hasOverlayTextArea:!0,hasNewBadge:D.byScreen({tablet:!0,default:!1})},"largeTileCarouselView");j.largeCarouselTileInfo={tile:di,width:oi,imageHeight:ri,imageWidth:oi,fullHeight:ri,viewModel:"AssetFullbleedHyperlink"};var ui=function(e){return D.byDesign({mobile:H()(e)/3,desktop:320})},pi=function(e){return H()(e)-ui(e)},hi=function(e){var t=pi(e);return Math.round(t*(3/7))},gi=function(e){var i=t.singleton.getScreenWidth()(e),n=D.byBreakpointImmediate({lessThan:.05*i,greaterThanEqual:.1*i},U);return D.byDesign({mobile:n,desktop:70})},fi=function(e){return t.singleton.getScreenWidth()(e)-2*gi(e)-20},mi=function(e){var t=fi(e)/3;return D.byDesign({mobile:t,desktop:320})},vi=function(e){return fi(e)-mi(e)},_i=function(e){var t=vi(e);return Math.round(t*(3/7))},yi={width:H(),panelWidth:ui,imageWidth:pi,imageHeight:hi,includeTitleTag:!0,maxLines:3,viewModelFactoryId:"FeaturedAssetFullbleedHyperlink"},wi={width:fi,panelWidth:mi,imageWidth:vi,imageHeight:_i,progressBarOnHover:!0,includeTitleTag:!1,viewModelFactoryId:"AssetFullbleedHyperlink",maxLines:D.byScreen({phone:2,tablet:3,monitor:D.byScreenWidth({large:3,default:2})})},bi=function(e){var t=function(t){return e.panelWidth(t)-50},i={order:he.violator,backgroundColor:G(I.whiteSmoke,.85),textFormat:x.smallViolatorTextFormat,margin:{bottom:8},height:25},o={order:he.violator,backgroundColor:I.mediumBlue,textFormat:x.smallLiveViolatorTextFormat,margin:{bottom:8},height:25},r=C({width:e.width,height:e.imageHeight,panelWidth:e.panelWidth,imageHeight:e.imageHeight,imageWidth:e.imageWidth,textAreaWidth:e.panelWidth,textAreaInsetLayoutProps:{anchor:k.anchors.topRight,margin:{left:25,right:25,top:25,bottom:25}},taglineTextWidth:t,textItemsCompositeWidth:t,maxTextWidth:t,umbrellaWidth:t,umbrellaTextLayoutProps:{margin:{bottom:15}},umbrellaTextFormat:x.featuredSideBySidePanelUmbrella,watchNextTextFormat:x.featuredSideBySidePanelUmbrella,violatorParams:i,liveViolatorParams:o,titleTextFormat:x.featuredSideBySidePanelTitle,taglineTextFormat:x.featuredSideBySidePanelTagline,textViewMargin:D.byDesign({desktop:{bottom:15},mobile:{bottom:3}}),titleTextLayoutProps:D.byDesign({desktop:{margin:{bottom:15}}}),summaryTextLayoutProps:D.byDesign({desktop:{margin:{bottom:20}},mobile:{margin:{bottom:25,top:12}}}),summaryTextFormat:x.featuredSideBySidePanelSummary,metadataTextFormat:x.featuredSideBySidePanelRecency,ratingTextFormat:x.featuredSideBySidePanelRecency,ratingTextLayoutProps:{margin:{bottom:0}},ratingMargin:{top:4,right:20},interactiveIndicatorLayoutProps:D.byScreen({phone:{margin:{top:4}}}),interactiveIndicatorOnCarousel:!0,noIndicatorProtection:!0,alwaysUseInteractiveIndicatorLayoutProps:!0,maxLines:3,playOverlayImages:ne.medium,playAssetLayout:Z.default,lockImages:te.large,interactiveIndicatorImageStyle:{uri:ie.white},interactiveIndicatorTextStyle:{format:x.homeFeaturedRatingFormat},useOutlineButtons:!0,featuredTile:!0,hoverOverlayOrder:he.hoverOverlay,protectionImageHeight:486,viewModelFactoryId:e.tileViewModelFactoryId,autoplayOnThumbImageClick:We,textNewBadgeLayoutProps:{margin:{bottom:8}},newBadgeTextFormat:x.smallViolatorTextFormat,imageLayoutProps:k.layouts.anchorAll,tileCompositeLayout:{$type:n},tileCompositeLayoutProps:k.layouts.anchorAll,textParts:["watchNext","umbrellaText","violator","liveViolator",e.includeTitleTag?"spannedTitleTaglineText":"titleText","comboIndicator","summaryText","metadataText"]},e);return xe(r,{hasThumbImage:!0,hasOverlayBackground:!0,hasHoverOverlay:!0,hasProgressBar:!0,hasPlayAsset:D.byDesign({mobile:!0}),hasLeftTextArea:!0},"featuredSideBySideTileView")};j.featuredSideBySideTileInfo={tile:bi(yi),width:yi.width,imageHeight:yi.imageHeight,imageWidth:yi.imageWidth,fullHeight:yi.imageHeight,viewModel:"FeaturedAssetFullbleedHyperlink"},j.sideBySideCarouselTileInfo={tile:bi(wi),width:wi.width,imageHeight:wi.imageHeight,imageWidth:wi.imageWidth,fullHeight:wi.imageHeight,viewModel:"AssetFullbleedHyperlink"};var Si=A.fullBleedCarouselBottomPadding;j.fullBleedImageHeight=fe(3/7),j.halfFullBleedImageHeight=fe(3/7/2);var Ci={order:he.violator,backgroundColor:G(I.whiteSmoke,.85),textFormat:x.largeViolatorTextFormat,margin:{bottom:8},height:25},Ti={order:he.violator,backgroundColor:I.mediumBlue,textFormat:x.largeLiveViolatorTextFormat,margin:{bottom:8},height:25},Ri={width:t.singleton.getScreenWidth(),height:j.fullBleedImageHeight,imageWidth:t.singleton.getScreenWidth(),imageHeight:j.fullBleedImageHeight,umbrellaWidth:350,taglineTextWidth:li,maxTextWidth:D.byScreen({tablet:ai(),default:li}),umbrellaTextFormat:x.largeTileUmbrellaTextFormat,umbrellaTextLayoutProps:D.byScreen({tablet:{margin:{bottom:4}}}),titleTextFormat:D.byScreen({tablet:D.byBreakpoint({lessThan:x.smallCarouselTitleTextFormat,greaterThanEqual:x.largeTileTitleTextFormat},W),default:x.largeTileTitleTextFormat}),titleTextLayoutProps:D.byScreen({tablet:{margin:{bottom:4}}}),taglineTextFormat:x.largeTileSecondaryTextFormat,summaryTextFormat:x.largeTileSecondaryTextFormat,maxLines:void 0,titleMaxLines:D.byScreen({tablet:2}),playOverlayImages:ne.large,lockImages:te.large,interactiveIndicatorImageStyle:{uri:ie.white},interactiveIndicatorTextStyle:{format:x.homeFeaturedRatingFormat},interactiveIndicatorHeight:D.byScreen({tablet:Ie+2}),protectionImageHeight:486,noIndicatorProtection:!0,progressBarOnHover:!0,textViewMargin:{left:K,bottom:D.byScreen({tablet:12,default:Si-(x.largeTileSecondaryTextFormat.lineHeight-x.largeTileSecondaryTextFormat.size)})},featuredTile:!0,hoverOverlayOrder:he.hoverOverlay,viewModelFactoryId:"AssetFullbleedHyperlink",autoplayOnThumbImageClick:We,interactiveIndicatorOnCarousel:!0,textNewBadgeLayoutProps:{margin:{bottom:8}},overlayNewBadgeLayoutProps:{anchor:{left:!0,top:!0},margin:{top:12,left:K}},violatorParams:Ci,liveViolatorParams:Ti,hideIsLiveExperiencePreviewText:!0,tileCompositeLayout:{$type:n},tileCompositeLayoutProps:k.layouts.anchorAll,imageLayoutProps:k.layouts.anchorAll,protectionImageLayoutProps:D.byScreen({tablet:D.byBreakpoint({lessThan:k.layouts.anchorAll,greaterThanEqual:k.layouts.anchorBottom},$)})};Ri.textParts=["violator","liveViolator","umbrellaText","newBadge","titleText"].concat(D.byScreen({tablet:["taglineWithComboIndicator"],default:["comboIndicator","taglineText"]})),j.FullBleedTileView=xe(Ri,{hasThumbImage:!0,hasProgressBar:D.byScreen({tablet:!1,default:!0}),hasHoverOverlay:!0,hasProtectionImage:!0,hasOverlayTextArea:!0,hasNewBadge:D.byScreen({tablet:!0,default:!1})},"FullBleedTileView"),j.PlayerTileView=function(e){return e=C({imageHeight:e.height,imageWidth:e.width,lockImages:te.medium},e),xe(e,{hasThumbImage:!0,hasRatingBar:!0,hasProgressBar:!0,hasPlayAsset:!0,hasOverlayBackground:!0,hasLiveExperiencePreviewText:!0},"PlayerTileView")},j.ImageOnlyTileView=function(e){return e=C({imageHeight:e.height,imageWidth:e.width},e),xe(e,{hasThumbImage:!0,hasPlayAsset:!0},"ImageOnlyTileView")};var Pi=Le(148),Ei=C({},Fe(Pi),{compositeSpacing:10,itemSpacing:20,layoutGutterWidth:17,titleTextFormat:x.playlistControlsTileTitleFormat,titleMaxLines:2,titleFirst:!0,titleTransitionMaps:{initial:{set_format:{$type:r,to:x.playlistControlsTileTitleFormat}},selected:{set_format:{$type:r,to:x.playlistControlsTileTitleFormatSelected}}},titleInheritedViewStateNames:["selected"],textViewLayout:k.layouts.anchorLeft,arrowMargin:{top:5,right:D.byScreen({phone:26,default:8})},viewModelFactoryId:"AssetThumbnailHyperlink",textParts:["titleText"]});Ei.height=Ei.imageHeight+Ei.compositeSpacing+Ei.titleTextFormat.lineHeight*Ei.titleMaxLines;var Ii=xe(Ei,{hasThumbImage:!0,hasNewBadge:!0,hasBottomTextArea:!0},"playlistControlTileView");Ii.inheritedViewStateNames=["selected"],j.playlistControlTileInfo=Ke(Ii,Ei)}})});return E})}(),function(){"use strict";define("design/views/CarouselView",["core/oop","ui/views/View","ui/views/CompositeView","lib/Promise","core/Lifecycleable","core/Debug","core/HorizontalAlignment","platform/common/Dispatcher","ui/Presence","ui/ViewStates","ui/ViewFactory","ui/input/InputManager","ui/ViewModelFactory","platform/dependent/Process"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("design.views.CarouselView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._subView=d.singleton.create(this.subViewTemplate),this._hoverOverlayViews=[],this._scrollToPreviousItemCallback=this._scrollToPreviousItem.bind(this),this._scrollToNextItemCallback=this._scrollToNextItem.bind(this),void 0!==this.previousArrowTemplate&&(this._previousArrow=d.singleton.create(this.previousArrowTemplate),void 0!==this.invisibleButtonTemplate&&(this._previousInvisibleButton=d.singleton.create(this.invisibleButtonTemplate,{name:"previousInvisibleButton"}),this._hoverOverlayViews.push(this._previousInvisibleButton)),this._hoverOverlayViews.push(this._previousArrow)),void 0!==this.nextArrowTemplate&&(this._nextArrow=d.singleton.create(this.nextArrowTemplate),void 0!==this.invisibleButtonTemplate&&(this._nextInvisibleButton=d.singleton.create(this.invisibleButtonTemplate,{name:"nextInvisibleButton"}),this._hoverOverlayViews.push(this._nextInvisibleButton)),this._hoverOverlayViews.push(this._nextArrow)),void 0!==this.itemSelectorTemplate?(this._itemSelector=d.singleton.create(this.itemSelectorTemplate),this._overlayViews=this._hoverOverlayViews.concat([this._itemSelector])):this._overlayViews=this._hoverOverlayViews;var e=this;void 0!==this._nextArrow&&(this._nextArrow.invoked.on(this._scrollToNextItemCallback),void 0!==this._nextInvisibleButton&&this._nextInvisibleButton.invoked.on(this._scrollToNextItemCallback)),void 0!==this._previousArrow&&(this._previousArrow.invoked.on(this._scrollToPreviousItemCallback),void 0!==this._previousInvisibleButton&&this._previousInvisibleButton.invoked.on(this._scrollToPreviousItemCallback)),void 0!==this._itemSelector&&this._itemSelector.invoked.on(function(t){var i=e._itemSelector.getAncestorNestedItemIndex(t.target),n=e._selectedIndex%e._itemSelectorItemCount;e._scrollToItem(e._selectedIndex+(i-n))}),this.hookUntilDisposed(this._subView,"selectedIndexChanged",function(t){e._updateSelection(t)}),void 0!==this._subView.manipulationStopped&&this.hookUntilDisposed(this._subView,"manipulationStopped",function(){e._onManipulationStopped()}),this._onViewModelChanged(this.viewModel),this._subViewSizeChangedCallback=function(){e._updateSize(),e._layoutChildViews()},this._subView.layoutRequested.on(this._subViewSizeChangedCallback)}),e.properties({subViewTemplate:void 0,subViewModelFactoryId:void 0,previousArrowTemplate:void 0,nextArrowTemplate:void 0,invisibleButtonTemplate:void 0,itemSelectorTemplate:void 0,itemSelectorHorizontalAlignment:{defaultValue:a.CENTER},autoRotateTimerSeconds:void 0,loopSelection:void 0,selectionChangeDelta:{defaultValue:1},titleTextPadding:{defaultValue:0},itemSelectorPadding:void 0,arrowContainerInheritsHeight:{defaultValue:!0},_subViewModelItemCount:void 0,_itemSelectorItemCount:void 0,_subView:void 0,_previousArrow:void 0,_nextArrow:void 0,_itemSelector:void 0,_overlayViews:void 0,_hoverOverlayViews:void 0,_autoRotateTimerCanceller:void 0,_isAutoRotating:{defaultValue:!1},_selectedIndex:{defaultValue:0},_initialSelectedIndex:{defaultValue:0},_subViewSizeChangedCallback:void 0,_scrollToPreviousItemCallback:void 0,_scrollToNextItemCallback:void 0,_previousInvisibleButton:void 0,_nextInvisibleButton:void 0}),e.methods({_onPresenceChanged:function(){t._onPresenceChanged.apply(this,arguments),this._updateAutoRotating()},_onComputedViewStateChanged:function(){t._onComputedViewStateChanged.apply(this,arguments),this._updateOverlayPresence(),this._updateAutoRotating()},_updateOverlayPresence:function(){var e=c.testFlag(this.computedViewState,c.HOVERED);if(void 0!==this._previousArrow){!0===(!0===e&&(!0===this.loopSelection||this._selectedIndex>0))?this._previousArrow.show():this._previousArrow.hide()}if(void 0!==this._nextArrow){!0===(!0===e&&(!0===this.loopSelection||this._selectedIndex<this._itemSelectorItemCount-this.selectionChangeDelta))?this._nextArrow.show():this._nextArrow.hide()}},_onViewModelChanged:function(e){if(t._onViewModelChanged.apply(this,arguments),!1!==this.isInitialized)if(this._initialSelectedIndex=0,void 0!==e){var i=void 0===this.subViewModelFactoryId?e:p.singleton.create(this.subViewModelFactoryId,e.dataModel);this._updateSubViewModels(i,e);var o=this;this.runUntilDisposed("_onViewModelChanged",function(){return n.props({subViewModelItems:i.items,itemSelectorItems:e.items}).then(function(e){return n.props({subViewModelItemCount:e.subViewModelItems.length(),itemSelectorItemCount:e.itemSelectorItems.length()})}).then(function(e){if(0===e.itemSelectorItemCount||(e.subViewModelItemCount,e.itemSelectorItemCount),o._subViewModelItemCount=e.subViewModelItemCount,o._itemSelectorItemCount=e.itemSelectorItemCount,e.subViewModelItemCount>e.itemSelectorItemCount){var t=e.subViewModelItemCount/2;o._initialSelectedIndex=t-t%e.itemSelectorItemCount}o._updateSelection(o._initialSelectedIndex)}).then(function(){return o._waitForChildViewsReady()}).then(function(){o._updateSize(),o._layoutChildViews(),o._ensureChildViewsAdded(),0!==o._subViewModelItemCount&&o._scrollToItem(o._initialSelectedIndex),o._fulfillReadyPromise()})})}else this._updateSubViewModels(e,e)},_updateSubViewModels:function(e,t){this._subView.resetReady(),this._subView.viewModel=e,void 0!==this._itemSelector&&(this._itemSelector.resetReady(),this._itemSelector.viewModel=t)},_setUpAutoRotation:function(){var e=this;void 0!==this.autoRotateTimerSeconds?this._autoRotateTimerCanceller=s.singleton.postInterval(1e3*this.autoRotateTimerSeconds,function(){!0==(!0===e._isAutoRotating&&!1===h.singleton.inAutomation&&!1===e._subView.isManipulating&&u.singleton.currentScope===e._findInputScope())&&e._scrollToItem(e._selectedIndex+e.selectionChangeDelta)}):this._autoRotateTimerCanceller=void 0},_onManipulationStopped:function(){void 0!==this._autoRotateTimerCanceller&&this._autoRotateTimerCanceller(),this._setUpAutoRotation()},_onLifecycleStateChanged:function(e,i){t._onLifecycleStateChanged.call(this,e,i),e===o.LifecycleStates.ACTIVATED&&void 0!==this.autoRotateTimerSeconds&&this._setUpAutoRotation(),e===o.LifecycleStates.DEACTIVATED&&(void 0!==this._autoRotateTimerCanceller&&(this._autoRotateTimerCanceller(),this._autoRotateTimerCanceller=void 0),this._ensureChildViewsDeactivated())},_waitForChildViewsReady:function(){var e=[this._subView].concat(this._overlayViews);return n.map(e,function(e){return e.afterReady})},_loopIndex:function(e,t){if(0===t)return-1;var i=e;if(!0===this.loopSelection){var n=e%t;i=n<0?t+n:n}else i=Math.max(0,Math.min(e,t-1));return i},_updateAutoRotating:function(){this._isAutoRotating=void 0!==this._autoRotateTimerCanceller&&this.presence===l.ENTERING&&!1===c.testFlag(this.computedViewState,c.HOVERED)},_updateSelection:function(e){0!==this._subViewModelItemCount&&(void 0!==this._itemSelector&&(this._itemSelector.selectedIndex=this._loopIndex(e,this._itemSelectorItemCount)),this._selectedIndex=this._loopIndex(e,this._subViewModelItemCount),this._subView.selectedIndex=this._selectedIndex,this._updateOverlayPresence())},_updateSize:function(){this._naturalHeight=this._subView.height,this._naturalWidth=0},_layoutChildViews:function(){!0===this.arrowContainerInheritsHeight&&(void 0!==this._previousArrow&&(this._previousArrow.height=this.height,void 0!==this._previousInvisibleButton&&(this._previousInvisibleButton.height=this.height)),void 0!==this._nextArrow&&(this._nextArrow.height=this.height,void 0!==this._nextInvisibleButton&&(this._nextInvisibleButton.height=this.height))),void 0!==this._nextArrow&&(this._nextArrow.x=this.width-this._nextArrow.width,void 0!==this._nextInvisibleButton&&(this._nextInvisibleButton.x=this.width-this._nextInvisibleButton.width));var e=this._previousArrow,t=this._nextArrow;if(e instanceof i&&e._layoutActiveSubViews(),t instanceof i&&t._layoutActiveSubViews(),void 0!==this._itemSelector){switch(this.itemSelectorHorizontalAlignment){case a.LEFT:this._itemSelector.x=this.itemSelectorPadding.left;break;case a.CENTER:this._itemSelector.x=(this.width-this._itemSelector.width)/2;break;case a.RIGHT:this._itemSelector.x=this.width-this._itemSelector.width-this.itemSelectorPadding.right;var n=this._subView;void 0!==n._allItems&&n._allItems.forEach(this._setTextWidthForItem.bind(this))}this._itemSelector.y=this.height-this._itemSelector.height-this.itemSelectorPadding.bottom}},_setTextWidthForItem:function(e){var t=e.children.getAt(0);t.typeName,t._setTitleTextWidth(this._itemSelector.x-this.titleTextPadding)},_ensureChildViewsAdded:function(){this._ensureChildCore([this._subView].concat(this._overlayViews))},_ensureChildViewsDeactivated:function(){this._subView.layoutRequested.off(this._subViewSizeChangedCallback),this._overlayViews.forEach(function(e){e.invoked.off(this._scrollToPreviousItemCallback),e.invoked.off(this._scrollToNextItemCallback)}.bind(this)),this._deactivateChildCore([this._subView].concat(this._overlayViews))},_ensureChildCore:function(e){var t=this;e.forEach(function(e){void 0===e.parent&&t.children.add(e)})},_deactivateChildCore:function(e){e.forEach(function(e){void 0===e.parent&&e.deactivate()})},_scrollToPreviousItem:function(){this._scrollToItem(this._selectedIndex-this.selectionChangeDelta)},_scrollToNextItem:function(){this._scrollToItem(this._selectedIndex+this.selectionChangeDelta)},_scrollToItem:function(e){if(this._updateSelection(e),void 0!==this._subView.scrollTo){var t=this._subView.getFocusedItemRect();t.x-=this._subView.scrollPadding.left,void 0!==t.x&&!1===isNaN(t.x)&&void 0!==t.y&&!1===isNaN(t.y)&&this._subView.scrollTo(t.x,t.y,!0,!1)}}})})})}(),function(){"use strict";define("design/templates/CarouselTemplates",["core/oop","design/GridHelper","design/Screen","design/templates/TemplatesModule","design/templates/ButtonTemplates","design/ScreenUtil","design/templates/TransitionTemplates","design/templates/TileTemplates","design/views/CarouselView","core/HorizontalAlignment","ui/Axis","design/templates/ViewTemplates","ui/AnchoredLayout"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("design.templates.CarouselTemplates",n,function(n){e.singleton(function(){n.$ctor.apply(this,arguments)}),e.methods({dynamicHeight:function(e,t){return function(i){return void 0!==e.fullHeight?e.fullHeight(i)+t:e.height(i)+t}},_configure:function(){var e=this.unregistered,n=a.singleton.exports,h=u.singleton.exports,g=s.singleton.exports,f=r.singleton.byDesign.bind(r.singleton),m=r.dpiDesignAwareImageUri("btn_dot_default","buttons"),v=r.dpiDesignAwareImageUri("btn_dot_selected","buttons"),_={commonTemplate:{width:r.singleton.byDesign({mobile:20,default:25}),height:40,transitionMap:n.defaultFadeTransition,layoutProps:{anchor:{}}},leftDefault:r.dpiDesignAwareImageUri("btn_arrow_left_large_default","buttons"),leftHover:r.dpiDesignAwareImageUri("btn_arrow_left_large_hover","buttons"),leftDown:r.dpiDesignAwareImageUri("btn_arrow_left_large_down","buttons"),rightDefault:r.dpiDesignAwareImageUri("btn_arrow_right_large_default","buttons"),rightHover:r.dpiDesignAwareImageUri("btn_arrow_right_large_hover","buttons"),rightDown:r.dpiDesignAwareImageUri("btn_arrow_right_large_down","buttons")},y={arrowTileGutter:12,desktopArrowWidth:16,desktopArrowHeight:30,mobileTemplate:{width:20,height:28,layoutProps:{anchor:{}}},leftDefault:r.dpiDesignAwareImageUri("btn_arrow_left_medium_default","buttons"),leftHover:r.dpiDesignAwareImageUri("btn_arrow_left_medium_hover","buttons"),leftDown:r.dpiDesignAwareImageUri("btn_arrow_left_medium_down","buttons"),rightDefault:r.dpiDesignAwareImageUri("btn_arrow_right_medium_default","buttons"),rightHover:r.dpiDesignAwareImageUri("btn_arrow_right_medium_hover","buttons"),
rightDown:r.dpiDesignAwareImageUri("btn_arrow_right_medium_down","buttons")},w=f({mobile:y.mobileTemplate,default:{width:y.desktopArrowWidth,height:y.desktopArrowHeight,layoutProps:{anchor:{right:!0},margin:{right:y.arrowTileGutter}}}}),b=f({mobile:y.mobileTemplate,default:{width:y.desktopArrowWidth,height:y.desktopArrowHeight,layoutProps:{anchor:{left:!0},margin:{left:y.arrowTileGutter}}}}),S=o.singleton.generateImageButton(b,{initial:y.rightDefault,hovered:y.rightHover,pressed:y.rightDown});e.mediumNextArrowButtonTemplate=S;var C=o.singleton.generateImageButton(w,{initial:y.leftDefault,hovered:y.leftHover,pressed:y.leftDown});e.mediumPreviousArrowButtonTemplate=C;var T=function(e){return{$extend:E,nextArrowTemplate:R(S,h.standardGutterWidth,g.homeTileInfo.imageHeight),previousArrowTemplate:R(C,h.standardGutterWidth,g.homeTileInfo.imageHeight),arrowContainerInheritsHeight:!1,subViewTemplate:e,itemSelectorTemplate:void 0,loopSelection:!1,selectionChangeDelta:t.singleton.tileFit(h.gridGutterWidth,g.homeTileInfo.width,h.standardTileSpacing),width:i.singleton.getScreenWidth()}};e.generateRowlistTemplate=T;var R=function(e,t,i){return e.inheritedViewStateNames=["hovered","pressed"],{$extend:h.CompositeView,isPointerTarget:!0,isInvokable:!0,width:t,height:i,layout:{$type:p},subViewRegistrations:{$extend:h.ViewRegistrations,arrow:{$extend:h.ViewRegistration,template:e}}}};e.generateContainedArrowTemplate=R;var P=function(e,t){return{$extend:h.View,isReadyInit:!0,isPointerTarget:!0,isInvokable:!0,width:e,height:t}};e.generateInvisibleButton=P;var E={$type:l,titleTextPadding:75,itemSelectorTemplate:{$extend:h.ItemsView,itemTemplateMap:{AssetFullbleedHyperlink:{$extend:h.ImageView,width:8,height:8,isPointerTarget:!0,isInvokable:!0,transitionMap:{initial:{set_uri:{$extend:n.instantTransition,to:m}},selected:{set_uri:{$extend:n.instantTransition,to:v}}}}},transitionMap:n.defaultFadeTransition,primaryAxis:d.HORIZONTAL,itemSpacing:9},loopSelection:!0,itemSelectorHorizontalAlignment:c.CENTER,selectionChangeDelta:1,itemSelectorPadding:r.singleton.byDesign({desktop:{left:0,top:0,right:55,bottom:h.fullBleedCarouselBottomPadding},mobile:{left:0,top:0,right:0,bottom:0}}),width:i.singleton.getScreenWidth()},I=o.singleton.generateImageButton(_.commonTemplate,{initial:_.rightDefault,hovered:_.rightHover,pressed:_.rightDown}),x=function(e,t){return R(I,e,t)};e.generateLargeNextArrowButton=x;var A=o.singleton.generateImageButton(_.commonTemplate,{initial:_.leftDefault,hovered:_.leftHover,pressed:_.leftDown}),k=function(e,t){return R(A,e,t)};e.generateLargePreviousArrowButton=k,e.CarouselView=E}})})})}(),function(){"use strict";define("design/templates/GridViewBaseTemplates",["core/oop","design/Screen","ui/Axis","design/templates/ColorTemplates","design/templates/TemplatesModule","design/templates/ViewTemplates","design/templates/TileTemplates","design/ScreenUtil","design/GridHelper","design/templates/TransitionTemplates","platform/dependent/graphics/Viewport"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.templates.GridViewBaseTemplates",o,function(u){e.constructor(function(){u.$ctor.apply(this,arguments)}),e.methods({_listBuffer:function(e,t){return function(i){var n=o.resolve(i,e);return t*n}},_configure:function(){var e=r.singleton.exports,o=c.singleton.exports,u=s.singleton,p=n.singleton.exports,h=a.singleton.exports,g=this.unregistered,f=e.alphabetBarWidth,m=e.gridGutterWidth,v=e.standardGutterWidth,_=u.byDesign({desktop:!1,mobile:!0}),y=function(e){return function(i){return(t.singleton.getScreenWidth()(i)-e.width(i))/2}};g.carouselImageScrollPadding=y,g.largeImageScrollPadding=y(h.largeCarouselTileInfo.tile),g.TileListCarouselView=function(n){return{$extend:e.ItemsView,itemTemplateMap:{AssetFullbleedHyperlink:{$extend:e.HyperlinkView,subViewTemplate:{$extend:e.CompositeView,inheritedViewStateNames:["selected"],subViewRegistrations:{$extend:e.ViewRegistrations,tile:{$extend:e.ViewRegistration,order:1,useOwnerViewModel:!0,template:n.tile},inactiveFade:{$extend:e.ViewRegistration,order:2,template:{$extend:e.View,isReadyInit:!0,width:n.width,height:n.fullHeight,backgroundColor:p.contentProtection,transitionMap:o.showIfNotSelectedTransition,inheritedViewStateNames:["selected"],isPointerHittable:!1,isPointerTarget:!1}}}}}},primaryAxis:i.HORIZONTAL,canScrollHorizontally:!0,width:t.singleton.getScreenWidth(),itemSpacing:u.byDesign({mobile:6,desktop:10}),snapAtEachItem:_,scrollPadding:{left:y(n.tile),right:y(n.tile),top:0,bottom:0},fixedItemWidth:n.width,fixedItemHeight:n.fullHeight}},g.splitImageScrollPadding=y(h.sideBySideCarouselTileInfo.tile),g.splitImageTileHeight=h.sideBySideCarouselTileInfo.fullHeight;var w={$extend:e.HyperlinkView,subViewTemplate:{$extend:e.CompositeView,subViewRegistrations:{$extend:e.ViewRegistrations,tile:{$extend:e.ViewRegistration,useOwnerViewModel:!0,template:h.featuredSideBySideTileInfo.tile}}}};g.FeaturedSideBySideTileListView={$extend:e.ItemsView,itemTemplateMap:{DailyAssetFullbleedHyperlink:w,FeaturedAssetFullbleedHyperlink:w},primaryAxis:i.HORIZONTAL,canScrollHorizontally:!0,width:t.singleton.getScreenWidth(),scrollPadding:{left:v,right:v,top:0,bottom:0},layoutProps:{margin:{bottom:20}}};var b={spacing:e.standardTileSpacing,min:u.byDesign({desktop:3,mobile:2}),max:5},S=(m+f)/2,C={top:0,right:0,left:0,bottom:d.singleton.safeMargins.bottom||0},T=function(n,o,r){var a=u.byScreen({tablet:n.minWidth,default:n.width}),s=void 0!==o.secondarySpacing?o.secondarySpacing:o.spacing,c=l.singleton.tileFit(r,a,s,o.min,o.max),d={};return d[n.viewModel]={$extend:e.HyperlinkView,subViewTemplate:n.tile},{$extend:e.ItemsView,itemTemplateMap:d,primaryAxis:i.VERTICAL,canScrollHorizontally:!1,canScrollVertically:!1,x:m,fixedItemWidth:n.width,fixedItemHeight:n.fullHeight,handleChildLayoutRequested:void 0===n.fullHeight,width:t.singleton.getScreenWidth(),secondaryAxisItemCount:u.byScreen({phone:1,default:c}),itemSpacing:o.spacing,secondaryItemSpacing:s,bufferOnPrimaryAxis:t.singleton.getScreenHeight()}};g.BasicTileGridView=T(h.smallTileInfo,b,S),g.BasicPromotedTileGridView=T(h.promotedCatalogTileInfo,b,m),g.WatchLatestTileGridView=T(h.watchLatestTileInfo,b,m),g.FranchisePromotedTileGridView=T(h.promotedFranchiseTileInfo,b,m),g.GutteredTileGridView=T(h.gutteredSmallTileInfo,b,m),g.FranchiseCatalogTileGridView=T(h.franchiseCatalogTileInfo,b,m),g.RelatedContentGutteredTileGridView=T(h.relatedContentTileInfo,{min:2,max:5,secondarySpacing:e.standardTileSpacing,spacing:38},m),g.SearchResultsGridView=T(h.searchTileInfo,b,m),g.WatchlistGridView=T(h.watchlistTileInfo,b,m),g.ContinueWatchingGridView=T(h.continueWatchingTileInfo,b,m),g.SearchResultsSideBySideGridView=T(h.searchSideBySideTileInfo,b,m),g.WatchlistSideBySideGridView={$extend:T(h.watchlistSideBySideTileInfo,b,m),scrollPadding:C},g.ContinueWatchingSideBySideGridView={$extend:T(h.continueWatchingSideBySideTileInfo,b,m),scrollPadding:C};var R=u.byDesign({desktop:{spacing:6,min:2,max:4},mobile:b});g.MediumEpisodicTileGridView={$extend:T(h.episodicTileInfo,R,m)},g.MediumFlexiblePromotedTileGridView={$extend:T(h.promotedMediumFlexibleTileInfo,R,m)},g.LargeFlexiblePromotedTileGridView={$extend:T(h.promotedLargeFlexibleTileInfo,u.byDesign({desktop:{spacing:6,min:3,max:3},mobile:{spacing:2,min:2,max:2}}),m)},g.CollectionsLandingGridView=T(h.collectionsLandingTileInfo,u.byDesign({desktop:{spacing:b.spacing,secondarySpacing:70,min:2,max:5},mobile:{spacing:b.spacing,secondarySpacing:32,min:2,max:5}}),m),g.CollectionsDetailsGridView=T(h.collectionsDetailsTileInfo,u.byDesign({desktop:{spacing:6,min:3,max:5},mobile:b}),m),g.PlaylistDetailsGridView=T(h.playlistDetailsTileInfo,u.byDesign({desktop:{spacing:6,min:3,max:5},mobile:b}),m)}})})})}(),function(){"use strict";define("design/templates/GridViewTemplates",["core/oop","design/Screen","design/GridHelper","design/templates/TemplatesModule","design/templates/CarouselTemplates","design/templates/GridViewBaseTemplates","design/templates/TileTemplates","design/templates/ViewTemplates","ui/Axis"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.templates.GridViewTemplates",r,function(r){e.singleton(function(){r.$ctor.apply(this,arguments)}),e.methods({_configure:function(){r._configure.apply(this,arguments);var e=a.singleton.exports,c=s.singleton.exports,d=this.unregistered,u=c.gridGutterWidth,p=e.homeTileInfo,h=e.promotedHomeTileInfo,g=e.franchiseLandingTileInfo,f=e.playlistTileInfo,m=o.singleton.exports,v=function(e){var i={};return i[e.viewModel]={$extend:c.HyperlinkView,subViewTemplate:e.tile},void 0!==e.seeAllTile&&(i.seeAllTile={$extend:c.HyperlinkView,subViewTemplate:e.seeAllTile}),{$extend:c.ItemsView,itemTemplateMap:i,primaryAxis:l.HORIZONTAL,canScrollHorizontally:!0,handleChildLayoutRequested:void 0===e.fullHeight,scrollPadding:{left:0,right:function(i){var o=n.resolve(i,e.width);return t.singleton.getScreenWidth(-o)(i)},top:0,bottom:0},x:u,fixedItemWidth:e.width,fixedItemHeight:e.fullHeight,width:function(e){var i=n.resolve(e,u);return t.singleton.getScreenWidth(-2*i)(e)},height:e.fullHeight,itemSpacing:c.standardTileSpacing,bufferOnPrimaryAxis:t.singleton.getScreenWidth()}},_=function(e){return{$extend:m.CarouselView,nextArrowTemplate:m.generateContainedArrowTemplate(m.mediumNextArrowButtonTemplate,u,e.imageHeight),previousArrowTemplate:m.generateContainedArrowTemplate(m.mediumPreviousArrowButtonTemplate,u,e.imageHeight),arrowContainerInheritsHeight:!1,subViewTemplate:v(e),itemSelectorTemplate:void 0,loopSelection:!1,selectionChangeDelta:i.singleton.tileFit(u,e.width,c.standardTileSpacing),width:t.singleton.getScreenWidth()}};d.SmallTileListCarouselView=_(e.smallTileInfo),d.HomeTileListCarouselView=_(p),d.PromotedHomeTileListCarouselView=_(h),d.FranchiseLandingTileListCarouselView=_(g),d.PlaylistTileListCarouselView=_(f),d.homeListBuffer=this._listBuffer(p.fullHeight,6),d.franchiseLandingListBuffer=this._listBuffer(p.fullHeight,4),d.dailySeriesListBuffer=this._listBuffer(p.fullHeight,4)}})})})}(),function(){"use strict";define("design/templates/FormTemplates",["core/oop","platform/common/TextInputMode","ui/StackedLayout","ui/Axis","ui/Transition","ui/Localization","design/ScreenUtil","design/TemplateUtil","design/templates/TemplatesModule","design/templates/TextFormatTemplates","design/templates/ColorTemplates","design/templates/LayoutTemplates","design/templates/ButtonTemplates","design/templates/ViewTemplates","lib/lodash/objects/assign","lib/lodash/collections/forEach"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){return e.classDef("design.templates.FormTemplates",l,function(l){e.singleton(function(){l.$ctor.apply(this,arguments)}),e.methods({generateFormButton:function(e,t,i,n){var o=h.singleton.exports,r=p.singleton.exports,a=r.activeFormButton;return"cancel"===e?a=r.cancelFormButton:"inactive"===e&&(a=r.inactiveFormButton),{$extend:o.ViewRegistration,order:i,viewModelFactoryId:t,getViewModelFromOwner:void 0===t,attachFromOwner:!0,isActiveFromOwner:!0,template:p.singleton.generateTextButton({baseTemplate:a,buttonPartialTemplate:{width:n},labelPartialTemplate:{width:n}})}},generateFormView:function(e){var t,o=h.singleton.exports,r=a.singleton.byDesign({mobile:20,desktop:40}),s=e.titleParams.verticalSpacing||a.singleton.byDesign({mobile:0,desktop:20}),l=g({layout:{$type:i,primaryAxis:n.VERTICAL,spacing:s}},e.titleParams.additionalTemplateParams),c=this._generateFormBlock(e.titleParams.subViews,l,e.titleParams.partialBlockReg),d=function(t){return f(e.renameMap,function(e,i){!0===t.hasOwnProperty(i)&&(t[e]=t[i],delete t[i])}),t};void 0!==e.bodyBlockViewRegistration?t=e.bodyBlockViewRegistration:void 0!==e.bodyBlockParams&&(t=this._generateFormBlock(e.bodyBlockParams.subViews,e.bodyBlockParams.additionalTemplateParams,e.bodyBlockParams.partialBlockReg));var u;return void 0!==e.buttonParams&&(u=this._generateFormBlock(e.buttonParams.subViews,e.buttonParams.additionalTemplateParams,e.buttonParams.partialBlockReg)),{$type:e.viewType,x:this.exports.formLayoutLeftMargin,y:this.exports.formLayoutTopMargin,layout:e.containerLayout,subViewRegistrations:d({$extend:o.ViewRegistrations,form:{$extend:o.ViewRegistration,useOwnerViewModel:!0,template:{$extend:o.CompositeView,forwardOwnershipForSubViews:!0,layout:e.formLayout||{$type:i,primaryAxis:n.VERTICAL,spacing:r},layoutProps:e.formLayoutProps,subViewRegistrations:d({$extend:o.ViewRegistrations,formTitleBlock:c,formBodyBlock:t,formButtonsBlock:u,footer:e.footer})}},overlay:e.overlay})}},_generateFormBlock:function(e,t,i){var n=h.singleton.exports;return g({$extend:n.ViewRegistration,useOwnerViewModel:!0,template:g({$extend:n.CompositeView,forwardOwnershipForSubViews:!0,subViewRegistrations:g({$extend:n.ViewRegistrations},e)},t||{})},i||{})},_configure:function(){var e=c.singleton.exports,l=d.singleton.exports,g=h.singleton.exports,f=p.singleton.exports,m=u.singleton.exports,v=a.singleton,_=this.unregistered;_.formLayoutTopMargin=60,_.formLayoutLeftMargin=a.singleton.byDesign({activation:20,default:54}),_.formLayoutBottomMargin=40,_.formLayoutFieldErrorLeftMargin=7,_.formLayoutWidth=a.singleton.byDesign({activation:293,default:338}),_.generateFormBlock=this._generateFormBlock;var y=s.singleton.partial.bind(s.singleton),w=_.subViewRegistrationOrder,b=function(){return w++},S={$extend:g.TextView,maxLines:void 0};_.formTitleView={$extend:S,format:e.pageTitle},_.formInstructionsSubHeader={$extend:S,format:e.formInstructionsSubHeaderFormat},_.formInstructionsOptionalDetails={$extend:S,format:e.formInstructionsDetailsFormat},_.formInstructionsOptionalDetailsLink={$extend:S,format:e.formInstructionsDetailsLinkFormat,transitionMap:{initial:{set_format:{$type:o,to:e.formInstructionsDetailsLinkFormat}},hovered:{set_format:{$type:o,to:e.formInstructionsDetailsLinkHoveredFormat}}},isInvokable:!0,isPointerTarget:!0},_.signInFormInstructions={$extend:S,maxLines:3,format:e.signInFormInstructionsFormat},_.formFieldLabel={$extend:S,format:e.formFieldLabelFormat},_.formValue={$extend:S,format:e.formValueFormat},_.optionalHintText={$extend:S,format:e.optionalHintFormat},_.optionalDescriptor={$extend:S,format:e.optionalDescriptorFormat},_.optionalHighContrastDescriptor={$extend:S,format:e.optionalHighContrastDescriptorFormat},_.dropDownOption={$extend:S,format:e.dropDownOptionFormat},_.profileStaticFormValue={$extend:S,format:e.profileStaticFormFormat},_.settingsNavigationLink={$extend:S,format:e.settingsNavigationLinkFormat},_.settingsNavigationActive={$extend:S,maxLines:1,format:e.settingsNavigationActiveFormat},_.formErrorMessage={$extend:S,format:e.formErrorMessageFormat},_.signinFormErrorMessage={$extend:S,format:e.signinFormErrorMessageFormat,maxLines:void 0},_.fieldErrorMessage={$extend:S,format:e.fieldErrorMessageFormat,maxLines:1,height:34},_.signinFieldErrorMessage={$extend:S,format:e.fieldErrorMessageFormat,maxLines:void 0},_.mobileFieldErrorMessage={$extend:S,format:e.mobileFieldErrorMessageFormat,maxLines:2,height:34},_.activationClientFieldErrorMessage={$extend:S,format:e.activationClientFieldErrorMessageFormat,maxLines:1,height:34},_.smallCheckboxTextView={$extend:S,format:e.smallCheckboxFormat},_.smallCheckboxNotificationTextView={$extend:S,format:v.byDesign({desktop:e.smallCheckboxFormat,mobile:{$extend:e.optionalDescriptorFormat,color:l.mediumGray}})},_.smallCheckboxLinkView={$extend:S,format:e.smallCheckboxLinksFormat,transitionMap:{initial:{set_format:{$type:o,to:e.smallCheckboxLinksFormat}},hovered:{set_format:{$type:o,to:e.smallCheckboxLinksHoveredFormat}}}},_.helpFooterCopyTextView={$extend:S,format:e.helpFooterCopyFormat},_.helpFooterLinkTextView={$extend:S,format:e.helpFooterLinkFormat,transitionMap:{initial:{set_format:{$type:o,to:e.helpFooterLinkFormat}},hovered:{set_format:{$type:o,to:e.helpFooterLinkHoveredFormat}}}},_.formTextInputView=v.byDesign({desktop:{$extend:g.TextInputView,height:34,padding:{left:10,right:10},width:_.formLayoutWidth,placeholderFormat:e.optionalHintFormat,format:e.formValueFormat,backgroundColor:l.whiteSmoke},mobile:{$extend:g.TextInputView,height:30,padding:v.byBrand({hbonow:{left:16,right:16},hbogo:v.byDesign({ios:{left:16,right:10},default:{left:10,right:10}})}),width:200,placeholderFormat:e.optionalHintFormat,format:e.formValueFormat,backgroundColor:l.opaqueBlack}}),_.forgotPasswordEmailTextInput={$extend:_.formTextInputView,padding:{left:13},height:v.byDesign({desktop:34,mobile:52})},_.showHideButtonWidth=55;var C={$extend:g.ViewRegistration,order:b(),isActiveFromOwner:!0,$viewModelFactoryId:function(e){return e.viewModelFactoryId},template:a.singleton.byDesign({mobile:{$extend:p.singleton.generateTextButton({buttonPartialTemplate:{width:_.showHideButtonWidth,height:44,borderThickness:0},labelPartialTemplate:{width:_.showHideButtonWidth,height:44},formatMapping:{initial:e.showHideButtonFormat,hovered:e.showHideButtonFormat,disabled:e.showHideButtonDisabledFormat}}),inheritedViewStateNames:["hovered","pressed","disabled"]},default:{$extend:p.singleton.generateTextButton({baseTemplate:f.showHideButton,buttonPartialTemplate:{width:_.showHideButtonWidth,borderRadius:0,backgroundColor:l.mineShaftGray},labelPartialTemplate:{width:_.showHideButtonWidth}}),inheritedViewStateNames:["hovered","pressed","disabled"]}})};_.showHidePasswordPartial={$extend:g.CompositeView,forwardOwnershipForSubViews:!0,layout:m.layoutTypes.anchored,$layoutProps:function(e){return e.layoutProps},$width:function(e){return e.width},$height:function(e){return e.height},subViewRegistrations:{$extend:g.ViewRegistrations,profilePasswordInputContainer:{$extend:g.ViewRegistration,$order:b,template:{$extend:g.CompositeView,forwardOwnershipForSubViews:!0,layout:m.layoutTypes.anchored,layoutProps:m.layouts.anchorAll,subViewRegistrations:{$extend:g.ViewRegistrations,showHideButton:{$extend:g.ViewRegistration,$order:b,attachFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:g.ToggleView,width:_.showHideButtonWidth,layoutProps:m.layouts.anchorFillRightCropRight,isInvokable:!0,isPointerTarget:!0,subViewRegistrations:{$extend:g.ViewRegistrations,off:y(C,{viewModelFactoryId:"ResShow"}),on:y(C,{viewModelFactoryId:"ResHide"})}}},profilePasswordInput:{$extend:g.ViewRegistration,$order:b,attachFromOwner:!0,template:{$extend:_.formTextInputView,mode:t.PASSWORD,borderColor:l.whiteSmoke,layoutProps:m.layouts.anchorAll,height:void 0,width:void 0,$format:function(e){return e.format||_.formTextInputView.format},$placeholderFormat:function(e){return{$extend:e.format||_.formTextInputView.format,color:l.dustyGray}},$placeholderText:function(e){return!0===e.enablePlaceholder?r.singleton.getResource("ResPasswordPlaceholder"):void 0}}}}}},passwordFocusBox:{$extend:g.ViewRegistration,order:b,isActiveFromOwner:!0,template:{$extend:g.CompositeView,layout:m.layoutTypes.anchored,layoutProps:m.layouts.anchorAll,isPointerHittable:!1,subViewRegistrations:{$extend:g.ViewRegistrations,outlineDecorator:{$extend:g.ViewRegistration,order:b(),template:{$extend:g.PlaceholderView,borderThickness:2,borderColor:l.ceruleanBlue,layoutProps:m.layouts.anchorAll}}}}}}},_.helpFooterBlock={$extend:g.ViewRegistration,order:_.subViewRegistrationOrder++,template:{$extend:g.CompositeView,layout:{$type:i,primaryAxis:n.HORIZONTAL,spacing:4},layoutProps:{margin:{top:a.singleton.byDesign({mobile:0,desktop:35})}},subViewRegistrations:{$extend:g.ViewRegistrations,notificationNeedHelp:{$extend:g.ViewRegistration,order:_.subViewRegistrationOrder++,viewModelFactoryId:"ResFooterHelpText",template:_.helpFooterCopyTextView},notificationNeedHelpLink:{$extend:g.ViewRegistration,order:_.subViewRegistrationOrder++,viewModelFactoryId:"HelpCenterLink",template:{$extend:g.HyperlinkView,subViewTemplate:_.helpFooterLinkTextView}}}}}}})})})}(),function(){"use strict";define("design/views/PasswordChallengeView",["core/oop","core/Debug","core/Exception","core/data/ModelFactory","design/ValidationUtils","dataservices/ServiceException","dataservices/types/OttLoginType","dataservices/authentication/AuthenticationManager","design/ScreenUtil","ui/input/InputManager","ui/Localization","ui/views/CompositeView","ui/ViewModelFactory","platform/common/TextInputMode","platform/input/Buttons"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("design.views.PasswordChallengeView",u,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this.hookUntilDisposed(c.singleton,"focusChanged",this._handleFocusChanged.bind(this))}),e.properties({_serviceErrorText:{defaultValue:void 0,onChange:function(){this._ensureSubViewsReady()}},_password:{get:function(){return this.find("passwordInput").text}},_passwordContainer:{get:function(){return this.find("passwordContainer")}},_toggleViewModel:void 0,_disableButtons:{defaultValue:!1},_isInitial:{defaultValue:!0},_isValid:{defaultValue:!1},_emailAddress:{defaultValue:""},_passwordErrorText:{defaultValue:void 0},_showHideButton:void 0,_isPasswordFocused:{defaultValue:!1,onChange:function(){this._ensureSubViewsReady()}}}),e.events(["succeeded","cancelled"]),e.methods({_handleFocusChanged:function(e,t){var i=this.find("passwordInput");o.singleton.runValidationIfFocusGained(i,e,t,this._onPasswordGotFocus.bind(this)),o.singleton.runValidationIfFocusLost(i,e,t,this._onPasswordLostFocus.bind(this))},_onSubViewsVisible:function(){t._onSubViewsVisible.apply(this,arguments),!0===this._isInitial&&(this.find("passwordInput").focus(),this._isInitial=!1)},reset:function(){this._toggleViewModel=void 0;var e=this.find("passwordInput");e.text="",e.mode=h.PASSWORD,this._ensureSubViewsReady()},_onViewModelChanged:function(e){t._onViewModelChanged.apply(this,arguments);var n=this;n.runUntilDisposed("resolveEmailAddress",function(){return e.value.then(function(e){n._emailAddress=e,n._fulfillReadyPromise()}).catch(function(e){n._rejectReadyPromise(i.wrap(e,{message:"ViewModelChange promise rejected",area:"ui.views.PasswordChallengeView._onViewModelChanged"}))})})},_getViewModelPasswordErrorText:function(){return this._convertTextToViewModel(this._passwordErrorText)},_getViewModelServiceErrorText:function(){return this._convertTextToViewModel(this._serviceErrorText)},_isActiveServiceErrorText:function(){return void 0!==this._serviceErrorText},_attachOkButton:function(e){this.hookUntilDisposed(e,"invoked",this._okButtonInvoked.bind(this))},_isActiveOkButton:function(){return!1===this._disableButtons&&!0===this._isValid},_isActiveInactiveOkButton:function(){return!0===this._disableButtons||!1===this._isValid},_attachCancelButton:function(e){this.hookUntilDisposed(e,"invoked",this._cancelButtonInvoked.bind(this))},_isActiveCancelButton:function(){return!1===this._disableButtons},_isActiveInactiveCancelButton:function(){return!0===this._disableButtons},_attachPasswordInput:function(e){this.hookUntilDisposed(e,"textChanged",this._validate.bind(this)),this.hookUntilDisposed(e,"buttonReleased",this._onPasswordInputButtonPressed.bind(this))},_onPasswordGotFocus:function(){this._isPasswordFocused=!0},_onPasswordLostFocus:function(){this._isPasswordFocused=!1},_isActivePasswordFocusBox:function(){return this._isPasswordFocused},_attachShowHideButton:function(e){this.hookUntilDisposed(e,"toggled",this._showHideButtonInvoked.bind(this)),this._showHideButton=e,this._showHideButton.isEnabled=!1,this._showHideButton.isPointerHittable=!1},_onPasswordInputButtonPressed:function(e){e.button===g.OK&&this._okButtonInvoked()},_getViewModelShowHideButton:function(){return void 0===this._toggleViewModel&&(this._toggleViewModel=p.singleton.create("TemporaryShowHidePasswordSetting"),this._toggleViewModel.set(!1)),this._toggleViewModel},_validate:function(){var e=!0;this._passwordErrorText=void 0,this._serviceErrorText=void 0,l.singleton.byDesignCall({mobile:function(){this._passwordContainer.additionalTransitionStates.remove("error")}},this);var t=o.singleton.validatePasswordLength(this._password);return void 0!==t&&(this._passwordErrorText=d.singleton.getResource(t),e=!1),this._showHideButton.isEnabled=""!==this._password,this._showHideButton.isPointerHittable=""!==this._password,this._ensureSubViewsReady(),this._isValid=e,!0===e},_okButtonInvoked:function(){var e=this;!0===this._validate()&&(this._disableButtons=!0,this.runUntilDisposed("challenge",function(){var t=n.singleton.create("OttLogin","OttLogin");return t.setLoginType(a.PASSWORD_CHALLENGE),t.setCredentials(e._emailAddress,e._password),t.loginInfo.then(function(e){return s.singleton.activateDevice(e)}).then(function(){e._onSucceeded()}).catch(function(t){e._handleServiceError(t)}).finally(function(){e._disableButtons=!1,e._ensureSubViewsReady()})}))},_cancelButtonInvoked:function(){this._onCancelled()},_handleServiceError:function(e){if(!(e instanceof r&&!0===e.shouldDisplayMessage&&void 0!==e.displayMessage))throw e;this._validate(),this._serviceErrorText=e.displayMessage,l.singleton.byDesignCall({mobile:function(){this._passwordContainer.additionalTransitionStates.add("error")}},this)},_showHideButtonInvoked:function(){this.find("passwordInput").mode=!0===this._showHideButton.isOn?h.DEFAULT:h.PASSWORD}})})})}(),function(){"use strict";define("design/templates/PasswordChallengeTemplates",["core/oop","platform/common/TextInputMode","design/Screen","design/templates/TemplatesModule","design/templates/ButtonTemplates","design/templates/ColorTemplates","design/templates/FormTemplates","design/templates/LayoutTemplates","design/templates/TextFormatTemplates","design/templates/ViewTemplates","design/views/PasswordChallengeView","design/ScreenUtil","design/TemplateUtil","ui/StackedLayout","ui/Axis","ui/Transition"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){return e.classDef("design.templates.PasswordChallengeTemplates",n,function(n){e.singleton(function(){n.$ctor.apply(this,arguments)}),e.methods({_configure:function(){function e(){return R++}var n=r.singleton.exports,m=c.singleton.exports,v=s.singleton.exports,_=a.singleton.exports,y=o.singleton.exports,w=l.singleton.exports,b=u.singleton.byDesign.bind(u.singleton),S=u.singleton.byScreen.bind(u.singleton),C=p.singleton.complete.bind(p.singleton),T=c.singleton.getCappedScreenWidth.bind(c.singleton),R=0,P=T(-32),E=b({mobile:T(-52),default:318}),I=_.formTextInputView.width-2-55,x={$extend:m.ViewRegistration,order:e(),isActiveFromOwner:!0,$viewModelFactoryId:function(e){return e.viewModelFactoryId},template:{$extend:o.singleton.generateTextButton(b({mobile:{buttonPartialTemplate:{borderThickness:0},labelPartialTemplate:{width:55,height:52},formatMapping:{initial:w.showHideButtonFormat,hovered:w.showHideButtonFormat,disabled:w.showHideButtonDisabledFormat},borderMapping:void 0},default:{baseTemplate:y.showHideButton,labelPartialTemplate:{width:55}}})),width:55,inheritedViewStateNames:["hovered","pressed","disabled"]}},A={$extend:m.CompositeView,layout:v.layoutTypes.anchored,height:_.formTextInputView.height,width:_.formTextInputView.width,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:m.ViewRegistrations,passwordInput:{$extend:m.ViewRegistration,order:e(),attachFromOwner:!0,template:{$extend:_.formTextInputView,mode:t.PASSWORD,layoutProps:v.layouts.anchorLeft,width:I,borderColor:n.whiteSmoke}},showHideButton:{$extend:m.ViewRegistration,order:e(),attachFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:m.ToggleView,layoutProps:{$extend:v.layouts.anchorRight,margin:{right:2}},isInvokable:!0,isPointerTarget:!0,width:55,subViewRegistrations:{$extend:m.ViewRegistrations,off:C(x,{viewModelFactoryId:"ResShow"}),on:C(x,{viewModelFactoryId:"ResHide"})}}},passwordFocusBox:{$extend:m.ViewRegistration,order:e(),isActiveFromOwner:!0,template:{$extend:m.CompositeView,layout:v.layoutTypes.anchored,layoutProps:v.layouts.anchorAll,isPointerHittable:!1,subViewRegistrations:{$extend:m.ViewRegistrations,outlineDecorator:{$extend:m.ViewRegistration,order:e(),template:{$extend:m.PlaceholderView,borderThickness:2,borderColor:n.ceruleanBlue,layoutProps:v.layouts.anchorAll}}}}},passwordErrorIndicator:{$extend:m.ViewRegistration,order:e(),isActiveFromOwner:!0,template:{$extend:m.CompositeView,layout:v.layoutTypes.anchored,layoutProps:v.layouts.anchorAll,isPointerHittable:!1,subViewRegistrations:{$extend:m.ViewRegistrations,outlineDecorator:{$extend:m.ViewRegistration,order:e(),template:{$extend:m.PlaceholderView,borderThickness:1,borderColor:n.crimson,layoutProps:v.layouts.anchorAll}}}}}}},k=y.defaultFormButtonHeight+60,V={$extend:m.CompositeView,layout:v.layoutTypes.anchored,layoutProps:{$extend:v.layouts.anchorFillTopCropTop,margin:{left:60,right:60}},backgroundColor:n.crimson,subViewRegistrations:{$extend:m.ViewRegistrations,errorText:{$extend:m.ViewRegistration,order:e(),useOwnerViewModel:!0,template:{$extend:_.signinFieldErrorMessage,width:E,layoutProps:{$extend:v.layouts.anchorLeft,margin:{left:10,top:8,bottom:8}}}}}};this.unregistered.PasswordChallengeTemplate=a.singleton.generateFormView({viewType:d,titleParams:{subViews:{title:{$extend:m.ViewRegistration,order:e(),viewModelFactoryId:"ResPasswordChallengeTitle",template:{$extend:_.formTitleView,layoutProps:{$extend:v.layouts.anchorFillTopCropTop}}},instructions:{$extend:m.ViewRegistration,order:e(),viewModelFactoryId:"ResPasswordChallengeInstructions",template:{$extend:_.formInstructionsOptionalDetails,layoutProps:{$extend:v.layouts.anchorFillTopCropTop}}}}},bodyBlockParams:{additionalTemplateParams:{layout:{$type:h,primaryAxis:g.VERTICAL,spacing:10}},subViews:{serviceErrorText:{$extend:m.ViewRegistration,order:e(),isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:_.formErrorMessage,layoutProps:{margin:{bottom:15}}}},passwordLabel:{$extend:m.ViewRegistration,order:e(),viewModelFactoryId:"ResPassword",template:_.formFieldLabel},passwordArea:{$extend:m.ViewRegistration,order:e(),useOwnerViewModel:!0,template:A},passwordErrorText:{$extend:m.ViewRegistration,order:e(),getViewModelFromOwner:!0,isActiveFromOwner:!0,template:V},forgotPasswordLink:{$extend:m.ViewRegistration,order:e(),viewModelFactoryId:"ForgotPasswordLink",template:{$extend:m.HyperlinkView,layoutProps:{margin:{top:k,bottom:-k-w.smallHyperlinkFormat.lineHeight}},subViewTemplate:{$extend:m.TextView,format:w.smallHyperlinkFormat,maxLines:void 0,isInvokable:!0,isPointerTarget:!0}}}}},buttonParams:{additionalTemplateParams:{layout:{$type:h,primaryAxis:g.HORIZONTAL,spacing:20}},subViews:{okButton:a.singleton.generateFormButton("active","ResOk",e(),159),inactiveOkButton:a.singleton.generateFormButton("inactive","ResOk",e(),159),cancelButton:a.singleton.generateFormButton("cancel","ResCancel",e(),159),inactiveCancelButton:a.singleton.generateFormButton("inactive","ResCancel",e(),159)}},footer:{$extend:m.ViewRegistration,order:e(),template:{$extend:_.helpFooterBlock.template,layoutProps:{margin:{top:55}}}},renameMap:{formTitleBlock:"passwordChallengeTitleBlock",formBodyBlock:"passwordChallengeBodyBlock",formButtonsBlock:"passwordChallengeButtonsBlock"}}),this.unregistered.PasswordChallengeTemplate.updateFocusOnPointerDown=!0,this.unregistered.PasswordChallengeTemplate.backgroundColor=n.opaqueBlack,this.unregistered.PasswordChallengeTemplate.width=458,this.unregistered.passwordChallengePopupView={$type:d,layout:{$extend:v.layoutTypes.stackedColumnCentered,spacing:15},updateFocusOnPointerDown:!0,subViewRegistrations:{$extend:m.ViewRegistrations,topBar:{$extend:m.ViewRegistration,order:e(),template:{$extend:m.CompositeView,width:i.singleton.getScreenWidth(),forwardOwnershipForSubViews:!0,layout:v.layoutTypes.anchored,layoutProps:{margin:{top:34}},subViewRegistrations:{$extend:m.ViewRegistrations,cancelButton:{$extend:m.ViewRegistration,order:e(),viewModelFactoryId:"ResCancel",attachFromOwner:!0,template:{$extend:m.TextView,isInvokable:!0,isPointerTarget:!0,format:w.passwordChallengeFormTitleLink,maxLines:1,layoutProps:{$extend:v.layouts.anchorLeft,margin:{left:14}}}},title:{$extend:m.ViewRegistration,order:e(),viewModelFactoryId:"ResPasswordChallengeTitle",template:{$extend:m.TextView,format:w.passwordChallengeFormTitle,maxLines:1}}}}},instructions:{$extend:m.ViewRegistration,order:e(),
viewModelFactoryId:"ResPasswordChallengeInstructions",template:{$extend:m.TextView,width:P,format:w.signInBodyFormat,layoutProps:{margin:{top:32}}}},passwordContainer:{$extend:m.ViewRegistration,order:e(),template:{$extend:m.CompositeView,forwardOwnershipForSubViews:!0,layout:v.layoutTypes.anchored,layoutProps:{margin:{bottom:5}},width:P,height:52,borderColor:n.crimson,transitionMap:{initial:{set_borderThickness:{$type:f,to:0}},error:{set_borderThickness:{$type:f,to:2}}},subViewRegistrations:{$extend:m.ViewRegistrations,showHideButton:{$extend:m.ViewRegistration,order:e(),attachFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:m.ToggleView,width:55,layoutProps:{$extend:v.layouts.anchorFillRightCropRight,margin:{right:2}},backgroundColor:n.whiteSmoke,isInvokable:!0,isPointerTarget:!0,subViewRegistrations:{$extend:m.ViewRegistrations,off:C(x,{viewModelFactoryId:"ResShow"}),on:C(x,{viewModelFactoryId:"ResHide"})}}},passwordInput:{$extend:m.ViewRegistration,order:e(),attachFromOwner:!0,template:{$extend:_.formTextInputView,format:{$extend:_.formTextInputView.format,color:n.darkestGray,size:15,lineHeight:b({ios:S({tablet:19})})},width:void 0,height:void 0,backgroundColor:n.whiteSmoke,layoutProps:v.layouts.anchorAll,mode:t.PASSWORD}}}}},serviceErrorText:{$extend:m.ViewRegistration,order:e(),getViewModelFromOwner:!0,isActiveFromOwner:!0,template:{$extend:V,width:P,layoutProps:{margin:{top:-19,bottom:5}}}},okButton:a.singleton.generateFormButton("active","ResOk",e(),P),inactiveOkButton:a.singleton.generateFormButton("inactive","ResOk",e(),P),forgotPasswordLink:{$extend:m.ViewRegistration,order:e(),viewModelFactoryId:"ForgotPasswordLink",template:{$extend:m.HyperlinkView,layoutProps:{margin:{top:20}},subViewTemplate:{$extend:m.TextView,format:w.signInHyperlinkFormat,isInvokable:!0,isPointerTarget:!0}}}}}}})})})}(),function(){"use strict";define("design/ErrorUXManager",["core/oop","lib/Promise","core/data/ModelFactory","core/PromiseManager","ui/navigation/ExceptionManager","ui/navigation/Navigator","dataservices/ContentUnavailableException","design/NavigationRouter","design/ScreenUtil","platform/dependent/NativeDialogType","platform/dependent/Process","ui/Localization","design/DesignSettings","ui/ViewModelFactory"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("design.ErrorUXManager",n,function(n){e.singleton(function(){n.$ctor.call(this)}),e.properties({_isShowingNativeDialog:{defaultValue:!1}}),e.methods({showExceptionInfoDialog:function(e){if(!1===this._isShowingNativeDialog){var t=this._convertExceptionInfoIntoConfig(e);this._showNativeDialog(t)}},_convertExceptionInfoIntoConfig:function(e){var t={title:e.title,message:e.description,ok:u.singleton.getResource("ResOk")};return!0===p.singleton.showDevExceptions&&(t.cancel="Exception details",t.cancelAction=function(){s.singleton.navigateToExceptionInfo(e,!1)}),t},showPlayerError:function(e){if(!1===l.singleton.byDesign({desktop:!1,mobile:!0}))return!1;if(!1===e.isError)return!0;if("pcBlockedDialog"===e.overlayName||"pcPlatformBlockedDialog"===e.overlayName)return this._showVideoLockedDialog("pcPlatformBlockedDialog"===e.overlayName,e.skipSafety),!0;var t=this._convertPlayerPropsIntoConfig(e);return this._showNativeDialog(t),!0},_convertPlayerPropsIntoConfig:function(e){var t=this,i=e.resCancel||"ResCancel",n={title:u.singleton.getResource(e.resTitle),message:u.singleton.getResource(e.resMessage),ok:u.singleton.getResource("ResOk"),cancel:u.singleton.getResource(i),skipSafety:e.skipSafety};return"HdcpLearnMoreLink"===e.linkViewModelFactoryId&&(n.cancelAction=function(){h.singleton.create(e.linkViewModelFactoryId).uri.then(function(e){d.singleton.navigateExternal(e,!0)}).finally(function(){t._goToSafety()})}),n},_showNativeDialog:function(e){var t=this;this.runUntilDisposed("_showNativeDialog",function(){var i=void 0!==e.cancelAction?c.CONFIRMATION:c.ALERT;return t._isShowingNativeDialog=!0,d.singleton.openNativeDialog(i,e.title,e.message,e.ok,e.cancel).then(function(i){t._isShowingNativeDialog=!1,o.singleton._recoveryState=o.RecoveryState.PENDING,!0!==i.result&&void 0!==e.cancelAction?e.cancelAction():!0!==e.skipSafety&&t._goToSafety(e)})})},_goToSafety:function(e){var t,i=r.singleton.getActiveViewHost();if(void 0!==i&&(t="design.viewHosts.PlayerViewHost"===i.typeName||"design.viewHosts.AssetViewHost"===i.typeName&&void 0!==e&&e.originalException instanceof a),!0===t&&!0===r.singleton.hasBackStack)return void s.singleton.navigateBack();s.singleton.restart(!1)},_showUserConfigDialog:function(e){var n=this;this.runUntilDisposed("_showUserConfigDialog",function(){var o=i.singleton.create("User","User");return o.affiliate.then(function(e){return t.props({rating:o.mergedRating,isSubAccount:o.isSubAccount,inheritParentalControls:e&&e.inheritParentalControls,manageParentalControlsUrl:e&&e.manageParentalControlsUrl})}).then(function(t){var i=e(t);n._showNativeDialog(i)})})},_showVideoLockedDialog:function(e,t){var i=this;this._showUserConfigDialog(function(n){var o=p.singleton.linkToParentalControlsSettings,r=l.singleton.byDesign({daydream:!1,default:n.inheritParentalControls}),a={title:u.singleton.getResource("ResVideoPCLocked"),message:u.singleton.getResource("ResVideoPCPrompt"),ok:u.singleton.getResource("ResOk"),skipSafety:t};return!0===o&&(a.cancel=u.singleton.getResource("ResSettings")),!0===e?a.message=u.singleton.getResource("ResPlayLockedPlatformDescription"):!0===r?(a.message=u.singleton.getResource("ResParentalControlsProvider"),void 0!==n.manageParentalControlsUrl&&!0===o&&(a.cancelAction=function(){!0!==t&&i._goToSafety(),d.singleton.navigateExternal(n.manageParentalControlsUrl,!0)})):!0!==n.isSubAccount&&!0===o&&(a.cancelAction=function(){s.singleton.navigateToUri("/settings/Menu",{replace:!0})}),a})},showParentalControlsStatus:function(e){this._showUserConfigDialog(function(t){var i=p.singleton.linkToParentalControlsSettings,n=l.singleton.byDesign({daydream:!1,default:t.inheritParentalControls}),o=l.singleton.byDesign({daydream:!1,default:t.isSubAccount}),a={title:u.singleton.getResource("ResPCSettingsEnabledTitle"),ok:u.singleton.getResource("ResOk"),cancel:u.singleton.getResource("ResSettings"),skipSafety:!0},c="ResServiceParentalControlsInstructions";return!0===n?c=!0===e?"ResInheritedParentalControlsInstructions":"ResInheritedParentalControlsNotice":!0===o&&(c=!0===e?"ResSubAccountParentalControlsInstructions":"ResSubAccountParentalControlsNotice"),a.message=u.singleton.getResource(c,{tvRating:t.rating.tv.name,movieRating:t.rating.movie.name}),"design.viewHosts.PlayerViewHost"!==r.singleton.getActiveViewHost().typeName&&!0===i&&(!0===t.inheritParentalControls?void 0!==t.manageParentalControlsUrl&&!0===i&&(a.cancelAction=function(){d.singleton.navigateExternal(t.manageParentalControlsUrl,!0)}):!0===e&&!1===t.isSubAccount&&(a.cancelAction=function(){s.singleton.navigateToUri("/settings/Menu")})),a})}})})})}(),function(){"use strict";define("design/views/SettingsViewBase",["core/oop","core/Lifecycleable","design/views/NavigationBarViewManager","ui/views/CompositeView"],function(e,t,i,n){return e.classDef("design.views.SettingsViewBase",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments)}),e.properties({_buttonsAreRegistered:{defaultValue:!1}}),e.methods({_onLifecycleStateChanged:function(e){e===t.LifecycleStates.ACTIVATED&&!1===this._buttonsAreRegistered&&(this._buttonsAreRegistered=!0,this._registerButtons()),n._onLifecycleStateChanged.apply(this,arguments)},_registerButtons:function(){var e=i.singleton.getActiveNavigationBar();i.singleton.registerButtons(this,e,{name:"Search",isActiveCallback:function(){return!1}},{name:"AffiliateLogo",isActiveCallback:function(){return!1}},{name:"Chromecast",isActiveCallback:function(){return!1}},{name:"Logo",isActiveCallback:function(){return!1}})}})})})}(),function(){"use strict";define("design/views/MainSettingsView",["core/oop","lib/Promise","dataservices/authentication/AuthenticationManager","platform/common/Rating","design/ErrorUXManager","design/views/SettingsViewBase","core/Exception","core/logging/Levels","core/data/ModelFactory","design/PINHelper","design/NavigationRouter","design/ScreenUtil","ui/Localization","ui/viewModelProviders/ValueProvider","platform/dependent/Process","platform/dependent/NativeDialogType","core/data/ExplicitValueProvider"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m){return e.classDef("design.views.MainSettingsView",r,function(r){e.constructor(function(){r.$ctor.apply(this,arguments),this._PINHelper=c.new()}),e.properties({enableChangePIN:void 0,_PINHelper:void 0,_isSubAccount:void 0,_hasSubAccounts:void 0,_userId:void 0,_isAnonymous:void 0,_affiliateName:void 0,_isSSOLogin:void 0,_affiliateLogoUri:void 0,_isAuthenticated:void 0,_showBillingInfo:void 0}),e.methods({_getViewModelSignedInTextView:function(){var e;if(void 0!==this._isSSOLogin){e=!0===this._isSSOLogin?p.singleton.getResource("ResSignedInSSO",{ProviderName:this._affiliateName}):!0===this._isAnonymous?p.singleton.getResource("ResSignedInAnonymous"):p.singleton.getResource("ResSignedIn",{username:this._userId});var t=m.new("SignedInText");return t.initialize({value:e}),h.new(t,"value")}},_getViewModelPrimaryRatingTV:function(){return this._getViewModelRating("primaryRating.tv.name",n.Types.Television)},_getViewModelPrimaryRatingMovie:function(){return this._getViewModelRating("primaryRating.movie.name",n.Types.Theatrical)},_getViewModelSubRatingTV:function(){return this._getViewModelRating("subRating.tv.name",n.Types.Television)},_getViewModelSubRatingMovie:function(){return this._getViewModelRating("subRating.movie.name",n.Types.Theatrical)},_getViewModelRating:function(e,t){var i=l.singleton.create("User","User");if(void 0!==i[e.split(".")[0]])return h.new(i,e,function(e){var i=n.getRatingFromName(e,t),o=n.getValueFromCode(i.code,i.type);return!1===n.isUnrestricted(o)?e:p.singleton.getResource("ResUnrestrictedRating",{rating:e})})},_isActiveSignOutButton:function(){return!0===this._isAuthenticated},_isActiveSignedInTextView:function(){return!0===this._isAuthenticated},_isActiveAffiliateImageView:function(){return!0===this._isAuthenticated&&void 0!==this._affiliateLogoUri},_isActiveBillingInfo:function(){return!0===this._showBillingInfo},_isActiveDeviceManagement:function(){return!0===this._isAuthenticated&&!1===this._isSubAccount},_isActiveParentalControls:function(){return!0===this._isAuthenticated&&!0!==this._isAnonymous},_isActiveNotificationMenuItem:function(){return!0===g.singleton.pushNotificationsEnabled||!0===this._isAuthenticated},_attachSignOutButton:function(e){this.hookUntilDisposed(e,"invoked",this._onSignOutButtonInvoked.bind(this))},_onSignOutButtonInvoked:function(e){e.handled=!0,this.runUntilDisposed("_onSignOutButtonInvoked sso check",function(){return i.singleton.isSSOLogin().then(function(e){return!0===e?g.singleton.openNativeDialog(f.CONFIRMATION,p.singleton.getResource("ResSSOSignoutTitle"),p.singleton.getResource("ResSSOSignoutInfo"),p.singleton.getResource("ResSettings"),p.singleton.getResource("ResCancel")).then(function(e){!0===e.result&&g.singleton.openSystemSettings()}):g.singleton.openNativeDialog(f.CONFIRMATION,p.singleton.getResource("ResSignOut"),p.singleton.getResource("ResProfileSignOutBody"),p.singleton.getResource("ResSignOut"),p.singleton.getResource("ResCancel")).then(function(e){!0===e.result&&d.singleton.navigateToUri("/logout")})})})},_attachParentalControls:function(e){this.hookUntilDisposed(e,"invoked",this._onParentalControlsInvoked.bind(this))},_onParentalControlsInvoked:function(e){e.handled=!0;var i=this,n={};this.runUntilDisposed("MainSettingsView._onParentalInvoked",function(){return t.props({inheritedParentalControls:i.viewModel.inheritParentalControls,isSubAccount:i.viewModel.dataModel.isSubAccount}).then(function(e){return n.showNotice=!0===e.inheritedParentalControls||!0===e.isSubAccount,!0===n.showNotice?t.fulfilled(!0):i._PINHelper.openPINDialog(i.viewModel,i.enableChangePIN)}).then(function(e){!0===n.showNotice?o.singleton.showParentalControlsStatus(!1):i._handlePin(e)}).catch(function(e){i._PINHelper.closePINDialog(),a.wrap(e,{message:"MainSettingsView._onParentalControlsInvoked promise chain rejected",level:s.WARNING,area:"MainSettingsView._onParentalControlsInvoked"}).logTelemetry()})})},_prepareUpdateActiveSubViews:function(){var e=this;return r._prepareUpdateActiveSubViews.apply(this,arguments).then(function(){return i.singleton.login().then(function(n){e._isAuthenticated=n;var o=e.find("firstSeparator");if(void 0!==o&&(o.layoutProps.margin.top=!0===e._isAuthenticated?0:44),!0===e._isAuthenticated)return t.props({isSubAccount:e.viewModel.dataModel.isSubAccount,hasSubAccounts:e.viewModel.hasSubAccounts,userId:u.singleton.byBrand({hbogo:e.viewModel.userName,hbonow:e.viewModel.emailAddress}),affiliateLogoUri:e.viewModel.affiliateLogoUri,affiliateName:e.viewModel.affiliateName,isSSOLogin:i.singleton.isSSOLogin(),billingInfo:e.viewModel.dataModel.billingInfo,isAnonymous:e.viewModel.isAnonymous}).then(function(t){e._isSubAccount=t.isSubAccount,e._hasSubAccounts=t.hasSubAccounts,e._userId=t.userId,e._affiliateLogoUri=t.affiliateLogoUri,e._affiliateName=t.affiliateName,e._isSSOLogin=t.isSSOLogin,e._showBillingInfo=void 0!==t.billingInfo,e._isAnonymous=t.isAnonymous})})})},_isActiveSubAccounts:function(){return!0===this._hasSubAccounts},_ensureSubViewsDeactivated:function(){this._PINHelper.closePINDialog(),r._ensureSubViewsDeactivated.apply(this,arguments)},_handlePin:function(e){void 0!==e&&!0!==this.enableChangePIN&&d.singleton.navigateToUri("/settings/ParentalControls")}})})})}(),function(){"use strict";define("design/views/RatingSettingView",["core/oop","lib/Promise","dataservices/types/RatingPair","design/PopupManager","design/ScreenUtil","design/UserSettings","design/views/SettingsViewBase","ui/ViewModelFactory"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.RatingSettingView",a,function(a){e.constructor(function(){a.$ctor.apply(this,arguments),this._userResolver=t.pending()}),e.properties({ratingCategory:{defaultValue:void 0,onChange:function(e){var t=e.split(".");this._primary="pri"===t[0],this._television="TV"===t[1]}},_primary:void 0,_television:void 0,_ratingsItemsView:void 0,_userResolver:void 0,_cachedUserData:void 0,_options:void 0,_ignoreSelectionChange:void 0}),e.methods({_isActivePrimaryHeader:function(){return!0===this._primary},_isActiveSubHeader:function(){return!0!==this._primary},_attachRatingsItemsView:function(e){this._ratingsItemsView=e,this.hookUntilDisposed(e,"selectedIndexChanged",this._onSelectionChanged.bind(this))},_ratingsViewModel:function(e){var t=s.singleton.create(!0===e?"ParentalControlsSettingsWithUnrestrictedNames":"ParentalControlsSettings");return!0===this._television?t.televisionRatings:t.theatricalRatings},_onViewModelChanged:function(){a._onViewModelChanged.apply(this,arguments);var e=this;this._userResolver=t.pending(),this.runUntilDisposed("RatingSettingsView._onViewModelChanged",function(){return t.props({hasSubAccounts:e.viewModel.hasSubAccounts,primary:e.viewModel.primaryRating,sub:e.viewModel.subRating,ratingItems:e._ratingsViewModel(!1),ratingItemsWithUnrestricted:e._ratingsViewModel(!0)}).then(function(t){return e._cachedUserData=t,e._ratingsItemsView.viewModel=t.ratingItemsWithUnrestricted,e._cachedUserData.ratingItems.items}).then(function(e){return e.getRange(0)}).then(function(e){var i=e.map(function(e){return e.value});return t.all(i)}).then(function(t){e._options=t,e._userResolver.fulfill(e._cachedUserData)})})},_onSelectionChanged:function(){if(!0!==this._ignoreSelectionChange){var e,t=!0===this._primary?this._buildRatingPair(this._cachedUserData.primary):this._cachedUserData.primary;!0===this._cachedUserData.hasSubAccounts&&(e=!0!==this._primary?this._buildRatingPair(this._cachedUserData.sub):this._cachedUserData.sub),this._updatePCS(t,e)}this._ignoreSelectionChange=!1},_buildRatingPair:function(e){var t=this._options[this._ratingsItemsView.selectedIndex];return!0===this._television?i.new(t,e.movie.name):i.new(e.tv.name,t)},_updatePCS:function(e,t){var i=this;this._setSaveState(!0),i.runUntilDisposed("_updatePCs",function(){return i.viewModel.updateParentalControls(r.singleton.PIN,e,t).then(function(){i._setSaveState(!1)})})},_setSaveState:function(e){o.singleton.byDesignCall({mobile:function(){e?n.singleton.blockInteractivity("InteractivityBlockingViewSaving"):n.singleton.unblockInteractivity()}})},_getActiveSubViewsReadyPromise:function(){var e=this;return a._getActiveSubViewsReadyPromise.apply(this,arguments).then(function(){return e._userResolver.promise.then(function(){var t=!0===e._primary?e._cachedUserData.primary:e._cachedUserData.sub,i=!0===e._television?t.tv.name:t.movie.name;e._ignoreSelectionChange=!0,e._ratingsItemsView.selectedIndex=e._options.indexOf(i)})})}})})})}(),function(){"use strict";define("design/views/ProfileView",["core/oop","lib/Promise","core/Exception","core/data/ExplicitValueProvider","design/NavigationRouter","design/PopupManager","design/ScreenUtil","design/ValidationUtils","design/views/NavigationBarViewManager","design/views/SettingsViewBase","platform/dependent/Process","platform/dependent/NativeDialogType","platform/common/TextInputMode","ui/input/InputManager","ui/Localization","ui/TemplateManager","ui/viewModelProviders/ValueProvider","ui/ViewModelFactory","dataservices/authentication/AuthenticationRequiredException","dataservices/authentication/AuthenticationManager","dataservices/types/LoginInfoFlag","dataservices/DataValidationException","lib/lodash/collections/forEach"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S){return e.classDef("design.views.ProfileView",c,function(c){e.constructor(function(){c.$ctor.apply(this,arguments),this.hookUntilDisposed(h.singleton,"focusChanged",this._handleFocusChanged.bind(this))}),e.properties({isEditable:{defaultValue:!0},_isEditMode:{defaultValue:!1},_isActivelySaving:{defaultValue:!1},_fieldErrors:{defaultValue:{}},_serviceErrorText:void 0,_initialInputValues:void 0,_profileOptInToggle:void 0,_isAuthenticated:void 0,_isAnonymous:void 0,_canManageAccount:{defaultValue:!1},_showHideToggleViewModel:void 0,_showPasswordChallengeOverlay:{defaultValue:!1},_showPasswordField:{defaultValue:!0},_showPhoneNumberField:{defaultValue:!0},_showHideButton:void 0,_temporaryMarketingOptIn:void 0,_isPasswordFocused:{defaultValue:!1,onChange:function(){this._ensureFormBodyBlockSubViewsReady()}}}),e.methods({_handleFocusChanged:function(e,t){var i=this.find("profilePasswordInput");s.singleton.runValidationIfFocusGained(i,e,t,this._onPasswordGotFocus.bind(this)),s.singleton.runValidationIfFocusLost(i,e,t,this._onPasswordLostFocus.bind(this))},_registerButtons:function(){c._registerButtons.apply(this,arguments);var e=l.singleton.getActiveNavigationBar();l.singleton.registerButtons(this,e,{name:"RightEdit",isActiveCallback:this._canEdit.bind(this),invokeCallback:this._onEditButtonInvoked.bind(this)},{name:"RightSave",isActiveCallback:this._canSave.bind(this),invokeCallback:this._onSaveChangesButtonInvoked.bind(this)},{name:"LeftCancel",isActiveCallback:this._canSave.bind(this),invokeCallback:this._onCancelChangesButtonInvoked.bind(this)},{name:"Menu",isActiveCallback:this._isActiveProfileEditButton.bind(this)},{name:"Back",isActiveCallback:this._isActiveProfileEditButton.bind(this)},{name:"CurrentCategoryTitle",isActiveCallback:function(){return a.singleton.byScreen({tablet:this._isActiveProfileEditButton(),default:!0})}.bind(this)})},_isActiveProfileFull:function(){return!0===this._isAuthenticated&&!0!==this._isAnonymous},_isActiveProfileNonAuth:function(){return!0!==this._isAuthenticated},_isActiveProfileAnonymous:function(){return!0===this._isAuthenticated&&!0===this._isAnonymous},_isActiveSignOutButton:function(){return!1===this._isEditMode},_isActiveProfileUserNameInput:function(){return!0===this._isEditMode},_isActiveProfileFirstNameInput:function(){return!0===this._isEditMode},_isActiveProfileLastNameInput:function(){return!0===this._isEditMode},_attachResNewsletter:function(e){var t=e.find("profileOptInToggle");this._profileOptInToggle=t},_isActiveProfileEmailInput:function(){return!0===this._isEditMode},_isActiveProfilePasswordContainer:function(){return!0===this._showPasswordField},_isActiveProfilePasswordInput:function(){return!0===this._isEditMode},_isActiveProfilePasswordDescriptor:function(){return!0===this._isEditMode},_isActiveProfilePasswordInputComposite:function(){return!0===this._isEditMode},_attachProfilePasswordInput:function(e){this.hookUntilDisposed(e,"textChanged",this._profilePasswordInputChanged.bind(this))},_onPasswordLostFocus:function(){this._isPasswordFocused=!1},_onPasswordGotFocus:function(){this._isPasswordFocused=!0},_isActivePasswordFocusBox:function(){return this._isPasswordFocused},_isActiveProfileZipCodeInput:function(){return!0===this._isEditMode},_isActiveProfilePhoneNumberContainer:function(){return!0===this._showPhoneNumberField},_isActiveProfilePhoneNumberInput:function(){return!0===this._isEditMode},_isActiveProfileNewsletterWarningTextView:function(){return!0===this._isEditMode},_isActiveProfileCancelChangesButton:function(){return!0===this._isEditMode},_isActiveProfileSaveChangesButton:function(){return!0===this._isEditMode&&!0!==this._isActivelySaving},_isActiveProfileSavingChangesButton:function(){return!0===this._isEditMode&&!0===this._isActivelySaving},_isActiveProfileEditButton:function(){return!0!==this._isEditMode},_isActiveProfileUserNameDisplay:function(){return!0!==this._isEditMode},_isActiveProfileFirstNameDisplay:function(){return!0!==this._isEditMode},_isActiveProfileLastNameDisplay:function(){return!0!==this._isEditMode},_isActiveProfileEmailDisplay:function(){return!0!==this._isEditMode},_isActiveProfilePasswordDisplay:function(){return!0!==this._isEditMode},_isActiveProfileZipCodeDisplay:function(){return!0!==this._isEditMode},_isActiveProfilePhoneNumberDisplay:function(){return!0!==this._isEditMode},_isActiveProfilePhoneNumberSeparator:function(){return!0===this._showPhoneNumberField},_isActiveProfilePasswordSeparator:function(){return!0===this._showPasswordField},_isActiveServiceErrorText:function(){return void 0!==this._serviceErrorText},_isActiveProfileUserNameError:function(){return void 0!==this._fieldErrors.userId},_isActiveProfileFirstOrLastNameError:function(){return void 0!==this._fieldErrors.firstName||void 0!==this._fieldErrors.lastName},_isActiveProfileEmailError:function(){return void 0!==this._fieldErrors.email},_isActiveProfilePasswordError:function(){return void 0!==this._fieldErrors.password},_isActiveProfileZipCodeError:function(){return void 0!==this._fieldErrors.zipCode},_isActiveProfilePhoneNumberError:function(){return void 0!==this._fieldErrors.phoneNumber},_isActiveOverlay:function(){return!0===this._showPasswordChallengeOverlay},_attachOverlay:function(e){this.hookUntilDisposed(e,"succeeded",function(){this._showPasswordChallengeOverlay=!1,this._setEditMode(!0),this._ensureFormViewsReady()}.bind(this)),this.hookUntilDisposed(e,"cancelled",function(){this._showPasswordChallengeOverlay=!1,this._ensureFormViewsReady()}.bind(this))},_canEdit:function(){return!0===this._arePropertiesEditable()&&!0!==this._isEditMode},_canSave:function(){return!0===this._arePropertiesEditable()&&!0===this._isEditMode},_arePropertiesEditable:function(){return!0===this.isEditable&&!0===this._isAuthenticated&&!0!==this._isAnonymous},_getMarketingOptIn:function(){return void 0!==this._temporaryMarketingOptIn?t.fulfilled(this._temporaryMarketingOptIn):this.viewModel.marketingOptIn},_getViewModelProfileUserNameDisplay:function(){return this.viewModel},_getViewModelProfileFirstNameDisplay:function(){return this.viewModel},_getViewModelProfileLastNameDisplay:function(){return this.viewModel},_getViewModelProfileEmailDisplay:function(){return this.viewModel},_getViewModelProfilePasswordDisplay:function(){return this._createViewModel(g.singleton.getResource("ResPasswordPlaceholder"))},_getViewModelProfileZipCodeDisplay:function(){return this.viewModel},_getViewModelProfilePhoneNumberDisplay:function(){return this.viewModel},_createViewModel:function(e){var t=n.new(e||"");return t.initialize({value:e}),m.new(t,"value")},_getViewModelServiceErrorText:function(){return this._createViewModel(this._serviceErrorText)},_getViewModelProfileUserNameError:function(){return this._createViewModel(this._fieldErrors.userId)},_getViewModelProfileFirstOrLastNameError:function(){return this._createViewModel(this._fieldErrors.firstName||this._fieldErrors.lastName)},_getViewModelProfileEmailError:function(){return this._createViewModel(this._fieldErrors.email)},_getViewModelProfilePasswordError:function(){return this._createViewModel(this._fieldErrors.password)},_getViewModelProfileZipCodeError:function(){return this._createViewModel(this._fieldErrors.zipCode)},_getViewModelProfilePhoneNumberError:function(){return this._createViewModel(this._fieldErrors.phoneNumber)},setServiceErrorText:function(e){this._serviceErrorText=e;var t=a.singleton.byDesign({mobile:"formErrorBlock",default:"formTitleBlock"}),i=this.find(t);void 0!==i&&(i._ensureSubViewsReady(),this._ensureSubViewsReady())},_setEditMode:function(e){e!==this._isEditMode&&(this._isEditMode=e,this._fieldErrors={},this._serviceErrorText=void 0,l.singleton.refreshAllButtons(this))},_prepareUpdateActiveSubViews:function(){var e=this;return c._prepareUpdateActiveSubViews.apply(this,arguments).then(function(){return y.singleton.login()}).then(function(i){if(e._isAuthenticated=i,!0===i)return t.props({showPasswordChallenge:e.viewModel.showPasswordChallenge,loginInfo:y.singleton.getUserLoginInfo()}).then(function(t){e._canManageAccount=!1===t.showPasswordChallenge||t.loginInfo.getFlag(w.ACCOUNT_MANAGEMENT)});e._canManageAccount=!1}).then(function(){return t.props({userName:e.viewModel.userName,firstName:e.viewModel.firstName,lastName:e.viewModel.lastName,emailAddress:e.viewModel.emailAddress,zipCode:e.viewModel.zipCode,phoneNumber:e.viewModel.phoneNumber,marketingOptIn:e._getMarketingOptIn(),showPassword:e.viewModel.showPassword,showPhoneNumber:e.viewModel.showPhoneNumber,isAnonymous:e.viewModel.isAnonymous}).then(function(t){e._initialInputValues=t,e._initialInputValues.password="",e._showPasswordField=!0===t.showPassword,e._showPhoneNumberField=!0===t.showPhoneNumber,e._isAnonymous=t.isAnonymous})})},_updateFormValues:function(){if(!0===this._isEditMode&&!1===this._isActivelySaving){var e={profileUserNameInput:this._initialInputValues.userName,profileFirstNameInput:this._initialInputValues.firstName,profileLastNameInput:this._initialInputValues.lastName,profileEmailInput:this._initialInputValues.emailAddress,profilePasswordInput:this._initialInputValues.password,profileZipCodeInput:this._initialInputValues.zipCode,profilePhoneNumberInput:this._initialInputValues.phoneNumber},t=this;S(e,function(e,i){var n=t.find(i);void 0!==n&&(n.text=e)})}void 0!==this._profileOptInToggle&&(this._profileOptInToggle.isEnabled=this._isEditMode,this._profileOptInToggle.viewModel=v.singleton.create("TemporaryNotificationCheckboxSetting"),this._profileOptInToggle.viewModel.set(this._initialInputValues.marketingOptIn))},_validateUserId:function(e){return s.singleton.validateUserId(e)},_validateFirstOrLastName:function(e){return s.singleton.validateName(e)},_validateEmail:function(e){var t=void 0!==this._profileOptInToggle?!0===this._profileOptInToggle.isOn:!0===this._initialInputValues.marketingOptIn;return s.singleton.validateEmailWithOptIn(e,t)},_validatePassword:function(e){if(""!==e)return s.singleton.validatePassword(e)},_validateZipCode:function(e){return s.singleton.validateZipCode(e)},_validatePhoneNumber:function(e){return s.singleton.validatePhoneNumber(e)},_attachProfileSaveChangesButton:function(e){this.hookUntilDisposed(e,"invoked",this._onSaveChangesButtonInvoked.bind(this))},_attachProfileCancelChangesButton:function(e){this.hookUntilDisposed(e,"invoked",this._onCancelChangesButtonInvoked.bind(this))},_attachProfileEditButton:function(e){this.hookUntilDisposed(e,"invoked",this._onEditButtonInvoked.bind(this))},_attachSignOutButton:function(e){this.hookUntilDisposed(e,"invoked",this._onSignOutButtonInvoked.bind(this))},_validateTextFields:function(){var e,t=this;a.singleton.byBrandCall({hbogo:function(){e={userId:{input:"profileUserNameInput",validate:t._validateUserId.bind(t)},email:{input:"profileEmailInput",validate:t._validateEmail.bind(t)},zipCode:{input:"profileZipCodeInput",validate:t._validateZipCode.bind(t)}}},hbonow:function(){e={firstName:{input:"profileFirstNameInput",validate:t._validateFirstOrLastName.bind(t)},lastName:{input:"profileLastNameInput",validate:t._validateFirstOrLastName.bind(t)},email:{input:"profileEmailInput",validate:t._validateEmail.bind(t)},zipCode:{input:"profileZipCodeInput",validate:t._validateZipCode.bind(t)}},!0===t._showPasswordField&&(e.password={input:"profilePasswordInput",validate:t._validatePassword.bind(t)}),!0===t._showPhoneNumberField&&(e.phoneNumber={input:"profilePhoneNumberInput",validate:t._validatePhoneNumber.bind(t)})}}),this._fieldErrors={};var i=!0;return S(e,function(e,n){var o=t.find(e.input);if(void 0!==o){var r=o.text.trim(),a=e.validate(r),s=void 0===a;!1===s&&(t._fieldErrors[n]=g.singleton.getResource(a)),i=i&&s}}),a.singleton.byDesignCall({mobile:function(){var e=this.find("formErrorBlock");void 0!==e&&e._ensureSubViewsReady()},default:this._ensureFormBodyBlockSubViewsReady},this),i},_ensureFormBodyBlockSubViewsReady:function(){var e=this.find("formBodyBlock");void 0!==e&&e._ensureSubViewsReady()},_onSaveChangesButtonInvoked:function(e){e.handled=!0;var t=this;t.focus(),t._validateTextFields()&&(t._setSaveState(!0),t.runUntilDisposed("_saveProfileChanges",function(){var e={profileUserNameInput:"displayName",profileFirstNameInput:"firstName",profileLastNameInput:"lastName",profileEmailInput:"emailAddress",profileZipCodeInput:"zipCode"};!0===t._showPasswordField&&(e.profilePasswordInput="password"),!0===t._showPhoneNumberField&&(e.profilePhoneNumberInput="phoneNumber");var n={};return S(e,function(e,i){var o=t.find(i);if(void 0!==o){var r=o.text.trim();""!==r&&(n[e]=r)}}),void 0!==t._profileOptInToggle&&(t._temporaryMarketingOptIn=t._profileOptInToggle.isOn),t.viewModel.updateUserOptions(n).then(function(){if(void 0!==t._temporaryMarketingOptIn)return t.viewModel.updateUserOptions({marketingOptIn:t._temporaryMarketingOptIn})}).then(function(){t._temporaryMarketingOptIn=void 0,t._setSaveState(!1),t._setEditMode(!1);var e=v.singleton.create("ProfileVM");void 0!==t.find("formBodyBlock")?(t._ensureFormViewsReady(),t.find("formBodyBlock").viewModel=e,t.find("formButtonsBlock").viewModel=e):d.singleton.openNativeDialog(u.ALERT,g.singleton.getResource("ResProfileSavedTitle"),g.singleton.getResource("ResProfileSavedBody"),g.singleton.getResource("ResOk"),g.singleton.getResource("ResCancel")),t.viewModel=e}).catch(function(e){t._setSaveState(!1),t._temporaryMarketingOptIn=void 0,e instanceof _?(t._setEditMode(!1),t.setServiceErrorText(e.displayMessage)):e instanceof b?t.setServiceErrorText(e.displayMessage):t._rejectReadyPromise(i.wrap(e,{message:"_createUser rejected",area:"design.views.ProfileView._onSaveChangesButtonInvoked"}))})}))},_profilePasswordInputChanged:function(){this._showHideButton.isEnabled=""!==this.find("profilePasswordInput").text,this._showHideButton.isPointerHittable=""!==this.find("profilePasswordInput").text},_onSignOutButtonInvoked:function(e){e.handled=!0,this.runUntilDisposed("_onSignOutButtonInvoked sso check",function(){return y.singleton.isSSOLogin().then(function(e){return!0===e?d.singleton.openNativeDialog(u.CONFIRMATION,g.singleton.getResource("ResSSOSignoutTitle"),g.singleton.getResource("ResSSOSignoutInfo"),g.singleton.getResource("ResOk"),g.singleton.getResource("ResSettings")).then(function(e){!1===e.result&&d.singleton.openSystemSettings()
}):d.singleton.openNativeDialog(u.CONFIRMATION,g.singleton.getResource("ResSignOut"),g.singleton.getResource("ResProfileSignOutBody"),g.singleton.getResource("ResSignOut"),g.singleton.getResource("ResCancel")).then(function(e){!0===e.result&&o.singleton.navigateToUri("/logout")})})})},_ensureFormViewsReady:function(){var e=this.find("formButtonsBlock");if(void 0!==e){this.find("formBodyBlock")._ensureSubViewsReady(),e._ensureSubViewsReady()}this._ensureSubViewsReady()},_onCancelChangesButtonInvoked:function(e){e.handled=!0,this._setEditMode(!1),this.focus(),this._ensureFormViewsReady()},_onEditButtonInvoked:function(e){var t=this;e.handled=!0,a.singleton.byBrandCall({hbogo:function(){t._setEditMode(!0)},hbonow:function(){!0!==t._canManageAccount?a.singleton.byDesignCall({mobile:function(){var e=r.singleton.openPopup(f.singleton.getTemplate("PasswordChallengeOverlay"),{viewModel:t.viewModel},!0),i=e.find("challenge");t.hookUntilDisposed(i,"succeeded",function(){t._setEditMode(!0),t._ensureFormViewsReady(),e.close()}),t.hookUntilDisposed(i,"cancelled",function(){t._ensureFormViewsReady(),e.close()})},default:function(){t._showPasswordChallengeOverlay=!0;var e=t.find("overlay");void 0!==e&&e.reset()}}):t._setEditMode(!0)}}),t._ensureFormViewsReady()},_onSubViewsReady:function(){c._onSubViewsReady.apply(this,arguments),this._updateFormValues()},_setSaveState:function(e){this._isActivelySaving=e,a.singleton.byDesignCall({mobile:function(){!0===e?r.singleton.blockInteractivity("InteractivityBlockingViewSaving"):r.singleton.unblockInteractivity()}}),this._ensureSubViewsReady()},_attachShowHideButton:function(e){this.hookUntilDisposed(e,"toggled",this._showHideButtonInvoked.bind(this)),this._showHideButton=e,this._showHideButton.isEnabled=!1,this._showHideButton.isPointerHittable=!1},_showHideButtonInvoked:function(){this.find("profilePasswordInput").mode=!0===this._showHideButton.isOn?p.DEFAULT:p.PASSWORD},_getViewModelShowHideButton:function(){return void 0===this._showHideToggleViewModel&&(this._showHideToggleViewModel=v.singleton.create("TemporaryShowHidePasswordSetting"),this._showHideToggleViewModel.set(!1)),this._showHideToggleViewModel}})})})}(),function(){"use strict";define("design/views/UpdateParentalControlsView",["core/oop","ui/views/CompositeView","ui/ViewStates","lib/Promise","dataservices/types/RatingPair","core/data/ExplicitValueProvider","ui/viewModelProviders/ValueProvider","ui/logging/UserInteractionLogEntry","design/analytics/UserInteractionTargets","ui/VisitDownActions","ui/Localization"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.views.UpdateParentalControlsView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._userResolver=n.pending(),this._selectorResolver=n.pending(),this._subSelectorResolver=n.pending()}),e.events(["parentalControlsUpdated","forgotPinInvoked","changePinInvoked"]),e.properties({_userResolver:void 0,_selectorResolver:void 0,_subSelectorResolver:void 0,_cachedUserData:void 0,_selectors:void 0,_subSelectors:void 0,_serviceErrorText:void 0,_showSubAccountsBlock:{defaultValue:!0},_showActiveSubmitButton:{defaultValue:!1},_isActivelySaving:{defaultValue:!1},_showUpdateSettingsConfirmation:{defaultValue:!1},_showCreateSettingsConfirmation:{defaultValue:!1},_pinInput:{get:function(){return this.find("pinInput").text}}}),e.methods({_isActiveServiceErrorText:function(){return void 0!==this._serviceErrorText},_getViewModelServiceErrorText:function(){if(void 0!==this._serviceErrorText){var e=r.new(this._serviceErrorText);return e.initialize({value:this._serviceErrorText}),a.new(e,"value")}},setServiceErrorText:function(e){this._serviceErrorText=e,this._isActivelySaving=!1,this._ensureSubViewsReady(),this.find("formTitleBlock")._ensureSubViewsReady()},_attachPinInput:function(e){this.hookUntilDisposed(e,"textChanged",this._onPinChanged.bind(this))},_onPinChanged:function(){var e=this.find("formButtonsBlock"),t=4===this.find("pinInput").text.length;this._showActiveSubmitButton=t,e._ensureSubViewsReady()},_attachPcSettings:function(e){this.hookUntilDisposed(e,"itemsRealized",function(){this._getPrimarySelectors()}.bind(this))},_attachSubPcSettings:function(e){this.hookUntilDisposed(e,"itemsRealized",function(){this._getSubSelectors()}.bind(this))},_getPrimarySelectors:function(){this._selectors={};var e=this;["theatrical","television"].forEach(function(t){e.find("pcSettings").visitDown(function(i){if(void 0!==i.viewModel&&i.viewModel.factoryId===t)return e._selectors[t]=i,c.HALT})}),this._selectorResolver.fulfill(this._selectors)},_getSubSelectors:function(){this._subSelectors={};var e=this;["theatrical","television"].forEach(function(t){e.find("subPcSettings").visitDown(function(i){if(void 0!==i.viewModel&&i.viewModel.factoryId===t)return e._subSelectors[t]=i,c.HALT})}),this._subSelectorResolver.fulfill(this._subSelectors)},_attachInactiveSubmitButton:function(e){e.setViewStateFlag(i.DISABLED,!0)},_attachInactiveSubmittingButton:function(e){e.setViewStateFlag(i.DISABLED,!0)},_attachActiveSubmitButton:function(e){this.hookUntilDisposed(e,"invoked",this._onSubmitButtonInvoked.bind(this))},_getUpdatedPCs:function(e){var t=this,i={};return[{field1:"primary",field2:"movie",target:"theatrical"},{field1:"primary",field2:"tv",target:"television"},{field1:"sub",field2:"movie",target:"subTheatrical"},{field1:"sub",field2:"tv",target:"subTelevision"}].forEach(function(n){void 0!==e[n.field1]&&e[n.field1][n.field2].name!==t._cachedUserData[n.field1][n.field2].name&&(i[n.target]=e[n.field1][n.field2].name)}),i},_readRatingPair:function(e){var t=e.television.options[e.television.selectedIndex],i=e.theatrical.options[e.theatrical.selectedIndex];return o.new(t,i,function(e){return d.singleton.getResource("ResUnrestrictedRating",{rating:e})})},_readPCDataFromControls:function(){return{pin:this.find("pinInput").text,newPin:!1===this._cachedUserData.hasSetPin,primary:this._readRatingPair(this._selectors),sub:!0===this._cachedUserData.hasSubAccounts?this._readRatingPair(this._subSelectors):void 0}},_onSubmitButtonInvoked:function(e){e.handled=!0,this._serviceErrorText=void 0;var t=this._readPCDataFromControls();!0===t.newPin&&s.new({area:"design.views.ParentalControlsView._onParentalControlsUpdated",target:l.PARENTAL_CONTROLS_ENABLED}).log(),s.new({area:"design.views.ParentalControlsView._onParentalControlsUpdated",target:l.PARENTAL_CONTROLS_UPDATED,contextualData:this._getUpdatedPCs(t)}).log(),this._showUpdateSettingsConfirmation=!1,this._showCreateSettingsConfirmation=!1,this._isActivelySaving=!0,this._ensureSubViewsReady(),this._onParentalControlsUpdated(t)},serviceUpdated:function(e){this.find("pinInput").text="",this._showUpdateSettingsConfirmation=!1===e,this._showCreateSettingsConfirmation=!0===e,this._isActivelySaving=!1,this._ensureSubViewsReady()},_attachChangePinLink:function(e){this.hookUntilDisposed(e,"invoked",this._onChangePinLinkInvoked.bind(this))},_onChangePinLinkInvoked:function(e){e.handled=!0,this._onChangePinInvoked()},_attachForgotPinLink:function(e){this.hookUntilDisposed(e,"invoked",this._onForgotPinLinkInvoked.bind(this))},_onForgotPinLinkInvoked:function(e){e.handled=!0,this._onForgotPinInvoked()},_onViewModelChanged:function(){t._onViewModelChanged.apply(this,arguments);var e=this;this._userResolver=n.pending(),this.runUntilDisposed("UpdateParentalControlsView._onViewModelChanged",function(){return n.props({hasSubAccounts:e.viewModel.hasSubAccounts,hasSetPin:e.viewModel.hasSetPin,primary:e.viewModel.primaryRating,sub:e.viewModel.subRating}).then(function(t){e._cachedUserData=t,e._userResolver.fulfill(t)})})},_setRatingValue:function(e,t){this._setSelectorValue(e.theatrical,t.movie.name),this._setSelectorValue(e.television,t.tv.name)},_setSelectorValue:function(e,t){if(e.selectedIndex=e.options.indexOf(t),-1===e.selectedIndex){var i=d.singleton.getResource("ResUnrestrictedRating",{rating:t});e.selectedIndex=e.options.indexOf(i),-1===e.selectedIndex&&(e.selectedIndex=0)}},_isActiveSubAccountsBlock:function(){return!0===this._showSubAccountsBlock},_isActivePriAccountWithSubLabel:function(){return!0===this._showSubAccountsBlock},_isActivePriAccountNoSubLabel:function(){return!0!==this._showSubAccountsBlock},_isActiveInactiveSubmitButton:function(){return!0!==this._showActiveSubmitButton},_isActiveActiveSubmitButton:function(){return!0===this._showActiveSubmitButton&&!0!==this._isActivelySaving},_isActiveInactiveSubmittingButton:function(){return!0===this._showActiveSubmitButton&&!0===this._isActivelySaving},_isActiveUpdateSettingsConfirmation:function(){return!0===this._showUpdateSettingsConfirmation},_isActiveCreateSettingsConfirmation:function(){return!0===this._showCreateSettingsConfirmation},_getActiveSubViewsReadyPromise:function(){var e=this;return t._getActiveSubViewsReadyPromise.apply(this,arguments).then(function(){return n.props({user:e._userResolver.promise,selectors:e._selectorResolver.promise}).then(function(t){if(e._setRatingValue(t.selectors,e._cachedUserData.primary),!0===e._cachedUserData.hasSubAccounts)return e._subSelectorResolver.promise.then(function(t){e._setRatingValue(t,e._cachedUserData.sub)});if(e._showSubAccountsBlock){e._showSubAccountsBlock=!1;e.find("formBodyBlock")._ensureSubViewsReady()}})})}})})})}(),function(){"use strict";define("design/views/ChangePinView",["core/oop","ui/views/ReactHostView","lib/lodash/objects/merge"],function(e,t,i){return e.classDef("design.views.ChangePinView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.events(["pinChangeSaved","pinChangeCancelled"]),e.methods({_getReactComponentProps:function(){var e=this;return i({},t._getReactComponentProps.apply(this,arguments),{onSave:function(){e._onPinChangeSaved()},onCancel:function(){e._onPinChangeCancelled()}})}})})})}(),function(){"use strict";define("design/views/react/ChangePin/ChangePinStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/LayoutProps","design/ScreenUtil","platform/common/KeyboardType","design/styles/StyleConstants"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.react.ChangePin.ChangePinStyles",Object,function(){e.singleton(function(){var e=s.singleton.exports;this.exports=n.create({textInputsHost:{name:"textInputsHost",layoutProps:e.layouts.anchorAll,layout:i.new({primaryAxis:t.VERTICAL,spacing:r.singleton.byDesign({mobile:10,desktop:20})})},textInputHost:{name:"textInputHost",layoutProps:e.layouts.anchorAll,layout:i.new({primaryAxis:t.VERTICAL,spacing:r.singleton.byDesign({mobile:5,desktop:10})})},pinLabel:{name:"pinLabel",format:e.textFormats.formFieldLabelFormat},pinInput:{name:"pinInput",width:380,height:34,padding:{left:10,right:10},layoutProps:o.new({margin:{bottom:0}}),placeholderFormat:e.textFormats.optionalHintFormat,format:e.textFormats.formValueFormat,backgroundColor:e.colors.whiteSmoke,maxLength:4,keyboardType:a.NUMBER_PAD},buttonsHost:{name:"buttonsHost",layoutProps:e.layouts.anchorAll,layout:i.new({primaryAxis:t.HORIZONTAL,spacing:r.singleton.byDesign({mobile:10,desktop:20})})},saveButton:{width:180,name:"saveChangesButton"},cancelButton:{width:180,name:"cancelChangesButton"}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/Form/FormStyles",["core/oop","design/ScreenUtil","ui/AnchoredLayout","ui/Axis","ui/StackedLayout","ui/StyleSheet","design/styles/StyleConstants","platform/dependent/graphics/Viewport"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.react.Form.FormStyles",Object,function(){e.singleton(function(){var e,l=a.singleton.exports;t.singleton.byDesignCall({activation:function(){e=s.singleton.naturalWidth-28}}),this.exports=r.create({container:{name:"container",layoutProps:l.layouts.anchorAll,layout:i.new()},contentHost:{name:"contentHost",layoutProps:t.singleton.byDesign({activation:l.layouts.anchorLeft,default:l.layouts.anchorAll}),layout:o.new({primaryAxis:n.VERTICAL,spacing:t.singleton.byDesign({mobile:20,desktop:40}),alignAlongPrimaryAxis:!0}),width:e}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/FormFooter/FormFooterStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/Transition","ui/LayoutProps","design/ScreenUtil","design/styles/StyleConstants"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.react.FormFooter.FormFooterStyles",Object,function(){e.singleton(function(){var e=s.singleton.exports;this.exports=n.create({container:{name:"container",layoutProps:r.new({margin:{top:a.singleton.byDesign({mobile:0,desktop:35}),bottom:-30},anchor:{left:!0,bottom:a.singleton.byDesign({activation:!0})}}),layout:i.new({primaryAxis:t.HORIZONTAL,spacing:4})},text:{name:"text",format:e.textFormats.helpFooterCopyFormat},linkText:{name:"link",maxLines:1,format:e.textFormats.helpFooterLinkFormat,transitionMap:{initial:{set_format:o.new({to:e.textFormats.helpFooterLinkFormat})},hovered:{set_format:o.new({to:e.textFormats.helpFooterLinkHoveredFormat})}}},hyperlink:{name:"hyperlink",uri:a.singleton.byBrand({hbogo:"https://help.hbogo.com",hbonow:"https://help.hbonow.com"}),isExternal:!0}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/FormFooter/FormFooterComponent",["design/views/react/ReactPrimitives","design/views/react/FormFooter/FormFooterStyles","design/analytics/UserInteractionTargets","lib/react"],function(e,t,i,n){var o=e.View,r=e.Text,a=e.Hyperlink;return function(e){var s=t.singleton.exports;return n.createElement(o,{style:s.container},void 0!==e.helpText&&n.createElement(r,{style:s.text},e.helpText),void 0!==e.helpLinkText&&n.createElement(a,{style:[s.hyperlink,{analyticsValue:i.HELP_CENTER_LAUNCHED}]},n.createElement(r,{style:s.linkText},e.helpLinkText)))}})}(),function(){"use strict";define("design/views/react/FormTitle/FormTitleStyles",["core/oop","core/HorizontalAlignment","ui/Axis","ui/StackedLayout","ui/StyleSheet","design/styles/StyleConstants","design/ScreenUtil"],function(e,t,i,n,o,r,a){return e.classDef("design.views.react.FormTitle.FormTitleStyles",Object,function(){e.singleton(function(){var e=r.singleton.exports;this.exports=o.create({container:{name:"container",layout:n.new({primaryAxis:i.VERTICAL,spacing:20,alignAlongPrimaryAxis:!0}),layoutProps:e.layouts.anchorAll},header:{name:"header",format:e.textFormats.pageTitle,layoutProps:a.singleton.byScreen({tablet:void 0,default:e.layouts.anchorAll})},description:{name:"description",format:e.textFormats.formInstructionsDetailsFormat,maxLines:void 0,layoutProps:e.layouts.anchorAll,horizontalAlignment:a.singleton.byScreen({tablet:t.CENTER,default:t.LEFT})},error:{name:"error",format:e.textFormats.formErrorMessageFormat,layoutProps:e.layouts.anchorAll}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/FormTitle/FormTitleComponent",["design/views/react/ReactPrimitives","design/views/react/FormTitle/FormTitleStyles","ui/StyleSheet","lib/react"],function(e,t,i,n){var o=e.View,r=e.Text;return function(e){var a,s=t.singleton.exports,l=i.flatten(e.style);void 0!==e.description&&(a=n.createElement(r,{key:"description",style:[s.description,l.description]},e.description));var c;return void 0!==e.errorText&&""!==e.errorText&&(c=n.createElement(r,{key:"error",style:[s.error,l.error]},e.errorText)),n.createElement(o,{style:[s.container,l.container]},n.createElement(r,{key:"header",style:[s.header,l.header]},e.header),a,c)}})}(),function(){"use strict";define("design/views/react/Form/FormComponent",["application/ClientDevice","design/views/react/Form/FormStyles","design/views/react/FormFooter/FormFooterComponent","design/views/react/FormTitle/FormTitleComponent","design/views/react/ReactPrimitives","ui/Localization","ui/StyleSheet","lib/react"],function(e,t,i,n,o,r,a,s){var l=o.View;return function(o){var c={helpText:r.singleton.getResource("ResFooterHelpText"),helpLinkText:r.singleton.getResource("ResFooterHelpLinkText")},d=t.singleton.exports,u=a.flatten(o.style);return s.createElement(l,{key:"container",style:[d.container,u.container],eventHandlers:{pointerDown:function(t){if(!0===e.singleton.updateFocusOnPointerDown){var i=t.inputScope;i&&void 0!==i.hoverView&&i.hoverView.focus()}}}},s.createElement(l,{style:[d.contentHost,u.contentHost]},s.createElement(n,{style:[d.formTitle,u.formTitle],errorText:o.errorText,header:o.header,description:o.description}),o.children,!0===o.hasFooter&&s.createElement(i,{helpText:c.helpText,helpLinkText:c.helpLinkText})))}})}(),function(){"use strict";define("design/views/react/TextInput/TextInputStyles",["core/oop","ui/StyleSheet","ui/Transition","design/styles/StyleConstants"],function(e,t,i,n){return e.classDef("design.views.react.TextInput.TextInputStyles",Object,function(){e.singleton(function(){this.exports=t.create({container:{borderColor:n.singleton.exports.colors.ceruleanBlue,transitionMap:{initial:{set_borderThickness:i.new({to:0,duration:0})},focused:{set_borderThickness:i.new({to:2,duration:0})}}}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/TextInput/TextInputComponent",["ui/StyleSheet","platform/common/TextInputMode","design/views/react/TextInput/TextInputStyles","design/views/react/ReactPrimitives","lib/react"],function(e,t,i,n,o){var r=n.TextInput;return function(n){var a=i.singleton.exports,s=e.flatten(n.style),l={mode:n.mode===t.PASSWORD?t.PASSWORD:t.DEFAULT};return o.createElement(r,{style:[a.container,l,s],registration:n.registration,owner:n.owner,eventHandlers:n.eventHandlers})}})}(),function(){"use strict";define("design/views/react/FormButton/FormButtonComponent",["design/views/react/ReactPrimitives","lib/react"],function(e,t){var i=e.View,n=e.Text;return function(e){var o=void 0===e.isEnabled||e.isEnabled;return t.createElement(i,{key:"container",style:[e.defaultStyles.container,e.style,{isInvokable:o}],eventHandlers:{invoked:e.invokeHandler}},t.createElement(n,{key:"text",style:e.defaultStyles.text},e.text))}})}(),function(){"use strict";define("design/views/react/FormButton/FormButtonStyles",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","ui/AnchoredLayout","ui/StyleSheet","ui/Transition","design/styles/StyleConstants"],function(e,t,i,n,o,r,a){return e.classDef("design.views.react.FormButton.FormButtonStyles",Object,function(){e.singleton(function(){var e=a.singleton.exports,s=o.create({container:{name:"container",isPointerTarget:!0,isInvokable:!0,transitionMap:{initial:{set_backgroundColor:r.new({to:e.colors.mediumBlue})},hovered:{set_backgroundColor:r.new({to:e.colors.ceruleanBlue})},focused:{set_backgroundColor:r.new({to:e.colors.ceruleanBlue})},pressed:{set_backgroundColor:r.new({to:e.colors.ceruleanBlue})},disabled:{set_backgroundColor:r.new({to:e.colors.darkBlue})}},layout:n.new(),height:e.defaultFormButtonHeight},text:{name:"text",horizontalAlignment:t.CENTER,verticalAlignment:i.CENTER,inheritedViewStateNames:["hovered","disabled"],transitionMap:{initial:{set_format:r.new({to:e.textFormats.formActiveButtonFormat})},hovered:{set_format:r.new({to:e.textFormats.formActiveButtonHoveredFormat})},focused:{set_format:r.new({to:e.textFormats.formActiveButtonHoveredFormat})},disabled:{set_format:r.new({to:e.textFormats.formInactiveButtonFormat})}},layoutProps:e.layouts.anchorAll}}),l=o.create({container:o.flatten([s.container,{transitionMap:{initial:{set_backgroundColor:r.new({to:e.colors.mineShaftGray})},hovered:{set_backgroundColor:r.new({to:e.colors.mediumGray})},pressed:{set_backgroundColor:r.new({to:e.colors.dustyGray})}}}]),text:o.flatten([s.text,{transitionMap:{initial:{set_format:r.new({to:e.textFormats.formCancelButtonFormat})},hovered:{set_format:r.new({to:e.textFormats.formCancelButtonHoveredFormat})}}}])}),c=o.create({container:{name:"container",isPointerTarget:!0,isInvokable:!0,backgroundColor:e.colors.darkBlue,layout:n.new(),height:e.defaultFormButtonHeight},text:{name:"text",horizontalAlignment:t.CENTER,verticalAlignment:i.CENTER,inheritedViewStateNames:["hovered","disabled"],format:e.textFormats.formInstructionsDetailsFormat,layoutProps:e.layouts.anchorAll}});this.exports={actionButtonStyles:s,cancelButtonStyles:l,linkButtonStyles:c}}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};define("design/views/react/FormButton/FormActionButtonComponent",["design/views/react/FormButton/FormButtonComponent","design/views/react/FormButton/FormButtonStyles","lib/react"],function(t,i,n){return function(o){var r=i.singleton.exports.actionButtonStyles;return n.createElement(t,e({defaultStyles:r},o))}})}(),function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};define("design/views/react/FormButton/FormCancelButtonComponent",["design/views/react/FormButton/FormButtonComponent","design/views/react/FormButton/FormButtonStyles","lib/react"],function(t,i,n){return function(o){var r=i.singleton.exports.cancelButtonStyles;return n.createElement(t,e({defaultStyles:r},o))}})}(),function(){"use strict";define("design/views/react/ChangePin/ChangePinComponent",["ui/Localization","ui/StyleSheet","design/views/react/ReactPrimitives","design/views/react/ChangePin/ChangePinStyles","design/views/react/Form/FormComponent","design/views/react/TextInput/TextInputComponent","design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormButton/FormCancelButtonComponent","platform/common/TextInputMode","lib/react"],function(e,t,i,n,o,r,a,s,l,c){var d=i.View,u=i.Text;return function(i){var p=n.singleton.exports,h=i.isActivelySaving?e.singleton.getResource("ResSaving"):e.singleton.getResource("ResSaveChanges");return c.createElement(o,{key:"form",style:p.form,errorText:i.errorText,header:e.singleton.getResource("ResChangePinTitle"),hasFooter:!0},c.createElement(d,{key:"textInputsHost",style:p.textInputsHost},c.createElement(d,{key:"currentPinHost",style:p.textInputHost},c.createElement(u,{style:p.pinLabel},e.singleton.getResource("ResCurrentPinLabel")),c.createElement(r,{key:"currentPinInput",style:[p.pinInput,{text:i.currentPin,name:"oldPinInput",mode:l.PASSWORD}],eventHandlers:{textChanged:i.onCurrentPinTextChanged}})),c.createElement(d,{key:"newPinHost",style:p.textInputHost},c.createElement(u,{style:p.pinLabel},e.singleton.getResource("ResNewPinLabel")),c.createElement(r,{key:"newPinInput",style:[p.pinInput,{text:i.newPin,name:"newPinInput",mode:i.isNewPinFocused?l.DEFAULT:l.PASSWORD}],eventHandlers:{textChanged:i.onNewPinTextChanged,viewStateChanged:function(e){return i.onNewPinViewStateChanged(e)}}}))),c.createElement(d,{key:"buttonsHost",style:p.buttonsHost},c.createElement(a,{key:"saveButton",text:h,invokeHandler:i.onSave,style:t.flatten([p.saveButton,{isEnabled:!0===i.areInputsValid}])}),c.createElement(s,{key:"cancelButton",text:e.singleton.getResource("ResCancelChanges"),invokeHandler:i.onCancel,style:p.cancelButton})))}})}(),function(){"use strict";define("design/views/react/Form/FormHelpers",["core/oop","dataservices/ServiceException","dataservices/DataValidationException","ui/Localization"],function(e,t,i,n){return e.classDef("design.views.react.FormHelpers",Object,function(){e.staticScope(function(){e.methods({handleServiceError:function(e,i){if(!(i instanceof t))throw i;!0===i.shouldDisplayMessage&&void 0!==i.displayMessage?e.setState({errorText:i.displayMessage}):e.setState({errorText:n.singleton.getResource("ResForgotPasswordServiceError")})},handleDataValidationException:function(e,t){if(!(t instanceof i))throw t;e.setState({errorText:t.displayMessage})}})})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ChangePin/ChangePinContainer",["core/AsyncManager","dataservices/dependent/ProfileService","design/views/react/ChangePin/ChangePinComponent","design/views/react/Form/FormHelpers","lib/react"],function(o,r,a,s,l){return function(c){function d(i){e(this,d);var n=t(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,i));return n.state={errorText:void 0,currentPin:"",newPin:"",isActivelySaving:!1,isNewPinFocused:!1},n.displayName="ChangePinContainer",n._asyncManager=o.new(),n}return i(d,c),n(d,[{key:"render",value:function(){return l.createElement(a,{errorText:this.state.errorText,currentPin:this.state.currentPin,newPin:this.state.newPin,areInputsValid:this._isValidInput(this.state.newPin)&&this._isValidInput(this.state.currentPin),isActivelySaving:this.state.isActivelySaving,isNewPinFocused:this.state.isNewPinFocused,onSave:this._onSaveChanges.bind(this),onCancel:this._onCancelChanges.bind(this),onCurrentPinTextChanged:this._onCurrentPinTextChanged.bind(this),onNewPinTextChanged:this._onNewPinTextChanged.bind(this),onNewPinViewStateChanged:this._onNewPinViewStateChanged.bind(this)})}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onSaveChanges",value:function(){var e=this,t=this.state.currentPin,i=this.state.newPin;return this.setState({isActivelySaving:!0}),this._asyncManager.runUntilDisposed("changePin",function(){return r.singleton.setNewPin(i,t).then(function(){e._resetState(),e.props.onSave()}).catch(function(t){e.setState({isActivelySaving:!1}),s.handleDataValidationException(e,t)})})}},{key:"_onCancelChanges",value:function(){this._resetState(),this.props.onCancel()}},{key:"_onCurrentPinTextChanged",value:function(e){this._isNumeric(e)?this.setState({currentPin:e}):this.forceUpdate()}},{key:"_onNewPinTextChanged",value:function(e){this._isNumeric(e)?this.setState({newPin:e}):this.forceUpdate()}},{key:"_onNewPinViewStateChanged",value:function(e){this.setState({isNewPinFocused:e.focused})}},{key:"_isNumeric",value:function(e){return!isNaN(e)}},{key:"_isValidLength",value:function(e){return 4===e.length}},{key:"_isValidInput",value:function(e){return this._isValidLength(e)&&this._isNumeric(e)}},{key:"_resetState",value:function(){this.setState({errorText:void 0,currentPin:"",newPin:"",isActivelySaving:!1})}}]),d}(l.Component)})}(),function(){"use strict";define("design/views/ForgotPinView",["core/oop","ui/views/ReactHostView","lib/lodash/objects/merge"],function(e,t,i){return e.classDef("design.views.ForgotPinView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.events(["sendPinReset","cancelPinReset"]),e.methods({setServiceErrorText:function(e){this._setReactComponentState({errorText:e})},_getReactComponentProps:function(){var e=this;return i({},t._getReactComponentProps.apply(this,arguments),{sendPinReset:function(){e._onSendPinReset()},cancelPinReset:function(){e._onCancelPinReset()}})}})})})}(),function(){"use strict";define("design/views/ForgotPinConfirmationView",["core/oop","ui/views/CompositeView"],function(e,t){return e.classDef("design.views.ForgotPinConfirmationView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.events(["returnToParentalControls"]),e.methods({_attachReturnToPCButton:function(e){this.hookUntilDisposed(e,"invoked",this._onReturnToPC.bind(this))},_isActiveReturnToPCButton:function(){return!0},_onReturnToPC:function(e){e.handled=!0,this._onReturnToParentalControls()}})})})}(),function(){"use strict";define("design/views/InheritedParentalControlsView",["core/oop","lib/Promise","ui/ViewModelFactory","ui/views/CompositeView"],function(e,t,i,n){return e.classDef("design.views.InheritedParentalControlsView",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments)}),e.properties({_affiliateLinkViewModel:void 0,_isSubAccount:{defaultValue:!1}}),e.methods({_isActiveSubAccountMessage:function(){return this._isSubAccount},_isActiveInheritedPCUri:function(){return void 0!==this._affiliateLinkViewModel},_isActiveInheritedPCNoUri:function(){return!1===this._isSubAccount&&void 0===this._affiliateLinkViewModel},_prepareUpdateActiveSubViews:function(){var e=this;return n._prepareUpdateActiveSubViews.apply(this,arguments).then(function(){return t.props({managePCUrl:e.viewModel.manageParentalControlsUrl,isSubAccount:e.viewModel.dataModel.isSubAccount}).then(function(t){void 0!==t.managePCUrl&&(e._affiliateLinkViewModel=i.singleton.create("ExplicitHyperlink",{uriPath:t.managePCUrl,isExternal:!0,subViewModelFactoryId:"ResInheritedPCLink"})),e._isSubAccount=t.isSubAccount})})},_getViewModelInheritedPCLink:function(){return this._affiliateLinkViewModel}})})})}(),function(){"use strict";define("design/views/ProfileOverlayView",["core/oop","design/views/PopupView","ui/navigation/Navigator"],function(e,t,i){return e.classDef("design.views.ProfileOverlayView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({shouldRefreshOnClose:{defaultValue:!1}}),e.methods({close:function(){t.close.apply(this,arguments),!0===this.shouldRefreshOnClose&&i.singleton.refresh()}})})})}(),function(){"use strict";define("design/views/ParentalControlsView",["core/oop","core/Debug","lib/Promise","core/Exception","ui/ViewModelFactory","ui/views/CompositeView","dataservices/DataValidationException","dataservices/dependent/ProfileService","design/ValidationUtils","design/views/ProfileOverlayView"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("design.views.ParentalControlsView",r,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({_currentEnabled:void 0}),e.methods({_isActivePinEnabled:function(){return"pinEnabled"===this._currentEnabled},_isActiveCreatePin:function(){return"createPin"===this._currentEnabled},_isActiveInheritedPC:function(){return"inheritedPC"===this._currentEnabled},_isActiveChangePin:function(){return"changePin"===this._currentEnabled},_isActiveForgotPin:function(){return"forgotPin"===this._currentEnabled},_isActiveForgotPinConfirmation:function(){return"forgotPinConfirmation"===this._currentEnabled},_isActiveUpdateSettingsConfirmation:function(){return"updateSettingsConfirmation"===this._currentEnabled},_switchChildView:function(e){this._currentEnabled=e,this._ensureSubViewsReady()},_attachForgotPin:function(e){this.hookUntilDisposed(e,"sendPinReset",this._onForgotPin.bind(this)),this.hookUntilDisposed(e,"cancelPinReset",this._onReturnToParentalControls.bind(this))},_attachForgotPinConfirmation:function(e){this.hookUntilDisposed(e,"returnToParentalControls",this._onReturnToParentalControls.bind(this))},_attachChangePin:function(e){this.hookUntilDisposed(e,"pinChangeSaved",this._onReturnToParentalControls.bind(this)),this.hookUntilDisposed(e,"pinChangeCancelled",this._onReturnToParentalControls.bind(this))},_attachCreatePin:function(e){this.hookUntilDisposed(e,"parentalControlsUpdated",this._onPinCreated.bind(this))},_attachPinEnabled:function(e){this.hookUntilDisposed(e,"parentalControlsUpdated",this._onParentalControlsUpdated.bind(this)),this.hookUntilDisposed(e,"changePinInvoked",this._onChangePinInvoked.bind(this)),this.hookUntilDisposed(e,"forgotPinInvoked",this._onForgotPinInvoked.bind(this))},
_onReturnToParentalControls:function(){this._switchChildView("pinEnabled")},_onPinCreated:function(e){this._updatePCS(e,!0),this.visitUp(function(e){if(e instanceof c)return e.shouldRefreshOnClose=!0,!0})},_onParentalControlsUpdated:function(e){this._updatePCS(e,!1),this.visitUp(function(e){if(e instanceof c)return e.shouldRefreshOnClose=!0,!0})},_onChangePinInvoked:function(){this._switchChildView("changePin")},_onForgotPinInvoked:function(){this._switchChildView("forgotPin")},_onForgotPin:function(){var e=this;e.runUntilDisposed("_forgotPin",function(){return i.props({userName:e.viewModel.userName,emailAddress:e.viewModel.emailAddress,zipCode:e.viewModel.zipCode}).then(function(t){var n=t.userName,o=t.emailAddress,r=t.zipCode;return""===o?(e._currentEnabled,o=e.find("emailInput").text,l.singleton.validateEmail(o),e.viewModel.updateUserOptions({displayName:n,emailAddress:o,zipCode:r})):i.fulfilled()}).then(function(){return s.singleton.forgotPin()}).then(function(){e._switchChildView("forgotPinConfirmation")})})},_handleUpdateErrors:function(e){e instanceof a?this._subViews[this._currentEnabled].setServiceErrorText(e.displayMessage):this._rejectReadyPromise(n.wrap(e,{message:"rejected:"+e,area:"design.views.ParentalControlsView._handleUpdateErrors"}))},_updatePCS:function(e,t){var i=this;i.runUntilDisposed("_updatePCs",function(){return i.viewModel.updateParentalControls(e.pin,e.primary,e.sub).then(function(){i.viewModel=o.singleton.create("ProfileVM"),i._switchChildView("pinEnabled"),i._subViews[i._currentEnabled].serviceUpdated(t)}).catch(i._handleUpdateErrors.bind(i))})},_prepareUpdateActiveSubViews:function(){var e=this;return t._prepareUpdateActiveSubViews.apply(this,arguments).then(function(){if(void 0===e._currentEnabled)return i.props({inheritsPC:e.viewModel.inheritParentalControls,hasSetPin:e.viewModel.hasSetPin,isSubAccount:e.viewModel.dataModel.isSubAccount}).then(function(t){!0===t.isSubAccount?e._currentEnabled="inheritedPC":!0===t.inheritsPC?e._currentEnabled="inheritedPC":!0===t.hasSetPin?e._currentEnabled="pinEnabled":e._currentEnabled="createPin"})})}})})})}(),function(){"use strict";define("design/views/BillingInfoView",["core/oop","core/Debug","core/uriUtils","core/data/ModelFactory","core/logging/SimpleLogEntry","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","application/ClientApplication","lib/Promise","dataservices/dependent/ProfileService","design/viewModelProviders/ExplicitHyperlinkProvider","design/viewModelProviders/TemporaryToggleViewModelProvider","design/PopupManager","design/views/SettingsViewBase","platform/dependent/Process","ui/TemplateManager","ui/ViewModelFactory","ui/navigation/Navigator"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("design.views.BillingInfoView",h,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({_canTurnAutoRenewOff:void 0,_canTurnAutoRenewOn:void 0,_updatingAutoRenew:void 0,_appStoreLinkText:void 0,_appStoreLinkUri:void 0,_billingMessage:void 0,_appStoreButton:void 0,_detachDialog:void 0,_redirectOnRenewal:void 0,_toggleViewModel:void 0}),e.events(["refreshRequired"]),e.methods({_onViewModelChanged:function(e){t._onViewModelChanged.apply(this,arguments);var i=this;this.cancelDisposablePromise("BillingInfoView._onViewModelChanged"),void 0!==e?i.runUntilDisposed("BillingInfoView._onViewModelChanged",function(){return l.props({canTurnAutoRenewOff:e.canTurnAutoRenewOff,canTurnAutoRenewOn:e.canTurnAutoRenewOn,appStoreLinkText:e.appStoreLinkText,appStoreLinkUri:e.appStoreLinkUri,billingInformationMessage:e.billingInformationMessage,redirectOnRenewal:e.redirectOnRenewal}).then(function(e){i._canTurnAutoRenewOff=e.canTurnAutoRenewOff,i._canTurnAutoRenewOn=e.canTurnAutoRenewOn,i._updatingAutoRenew=!1,i._billingMessage=e.billingInformationMessage,i._redirectOnRenewal=e.redirectOnRenewal,i._toggleViewModel=u.new(void 0,{}),i._toggleViewModel.set(!0===i._canTurnAutoRenewOff),void 0!==e.appStoreLinkUri?(i._appStoreLinkUri=e.appStoreLinkUri,i._appStoreLinkText=e.appStoreLinkText):(i._appStoreLinkUri=void 0,i._appStoreLinkText=void 0),i._ensureSubViewsReady()})}):t._onViewModelChanged.apply(this,arguments)},_isActiveRenewSubscriptionButton:function(){return!0===this._redirectOnRenewal&&!0===this._canTurnAutoRenewOn},_isActiveRestartSubscriptionToggle:function(){return!1===this._redirectOnRenewal&&!1===this._updatingAutoRenew&&(!0===this._canTurnAutoRenewOn||!0===this._canTurnAutoRenewOff)},_isActivePendingToggleOn:function(){return!0===this._updatingAutoRenew&&!0===this._canTurnAutoRenewOff},_isActivePendingToggleOff:function(){return!0===this._updatingAutoRenew&&!0===this._canTurnAutoRenewOn},_isActiveAppStoreLinkButton:function(){return void 0!==this._appStoreLinkUri},_isActiveAppStoreSetting:function(){return void 0!==this._appStoreLinkUri},_getViewModelBillingInformationMessage:function(){return this._convertTextToViewModel(this._billingMessage)},_getViewModelRestartSubscriptionToggle:function(){return this._toggleViewModel},_getViewModelAppStoreLinkButton:function(){return this._convertTextToViewModel(this._appStoreLinkText)},_getViewModelAppStoreLink:function(){if(void 0!==this._appStoreLinkUri)return this._appStoreLinkText,d.new({uriPath:this._appStoreLinkUri,subViewModel:this._convertTextToViewModel(this._appStoreLinkText),isExternal:!0})},_attachRenewSubscriptionButton:function(e){this.hookUntilDisposed(e,"invoked",this._onRenewSubscriptionButtonInvoked.bind(this))},_attachAppStoreLinkButton:function(e){this._appStoreButton=e,this.hookUntilDisposed(e,"invoked",this._onAppStoreButton.bind(this))},_attachRestartSubscriptionToggle:function(e){e.shouldToggleIntercept=this._launchPopupDialog.bind(this),this.hookUntilDisposed(e,"toggled",this._setAutoRenewTo.bind(this))},_onRenewSubscriptionButtonInvoked:function(e){e.handled=!0,this.runUntilDisposed("BillingInfoView._onRenewSubscriptionButtonInvoked",function(){return c.singleton.getCommerceRedirectUrl().then(function(e){var t=v.singleton.getActiveBreadcrumb().uri;t=encodeURIComponent(t.split("?")[0]),e=i.addOrReplaceQueryParam(e,"returnPath",t),v.singleton.navigateExternal(e,!1)})})},_onAppStoreButton:function(e){g.singleton.navigateExternal(this._appStoreLinkUri,!0),e.handled=!0},_setAutoRenewTo:function(e){var t=this;this.runUntilDisposed("BillingInfoView._setAutoRenewTo",function(){return t._updatingAutoRenew=!0,t._ensureSubViewsReady(),t.viewModel.setAutoRenew(e).then(function(){return n.singleton.create("User","User").userId.then(function(i){return o.new({eventType:r.SUBSCRIPTION,eventSubtype:a.SUBSCRIPTION_TOGGLEAUTORENEW,area:"BillingInfoView._setAutoRenewTo",payload:{hurleyId:i,sessionId:s.singleton.sessionId,autoRenewEnabled:e}}).log(),t._onRefreshRequired(),t.viewModel.refreshData().then(function(){return l.props({billingInformationMessage:t.viewModel.billingInformationMessage,canTurnAutoRenewOff:t.viewModel.canTurnAutoRenewOff,canTurnAutoRenewOn:t.viewModel.canTurnAutoRenewOn,redirectOnRenewal:t.viewModel.redirectOnRenewal}).then(function(e){t._billingMessage=e.billingInformationMessage,t._redirectOnRenewal=e.redirectOnRenewal,t._canTurnAutoRenewOff=e.canTurnAutoRenewOff,t._canTurnAutoRenewOn=e.canTurnAutoRenewOn,t._updatingAutoRenew=!1,t._ensureSubViewsReady()})})})})})},_launchPopupDialog:function(e){var t=!0===e?"TurnOnBillingAutoRenewConfirmationDialog":"TurnOffBillingAutoRenewConfirmationDialog",i=this;return this._detachDialog,new l(function(e){var n=p.singleton.openPopup(f.singleton.getTemplate("ConfirmationDialogView"),{viewModel:m.singleton.create(t)},!0),o=function(t){n.confirmed.off(r),n.closed.off(a),r=void 0,a=void 0,n.close(),n=void 0,i._detachDialog=void 0,e(!0===t)},r=function(){o(!0)},a=function(){o(!1)};n.confirmed.on(r),n.closed.on(a),i._setDeactivationStep(o)})},_setDeactivationStep:function(e){this._detachDialog=e},_ensureSubViewsDeactivated:function(){void 0!==this._detachDialog&&this._detachDialog(!1),t._ensureSubViewsDeactivated.apply(this,arguments)}})})})}(),function(){"use strict";define("design/views/PaymentMethodView",["core/oop","dataservices/authentication/AuthenticationManager","core/data/ExplicitValueProvider","ui/viewModelProviders/ValueProvider","ui/views/CompositeView","ui/Localization","ui/LayoutProps","core/data/ModelFactory","core/Exception","core/logging/Levels"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("design.views.PaymentMethodView",o,function(o){e.constructor(function(){o.$ctor.apply(this,arguments),this._userModel=s.singleton.create("User","User"),this._enableEditPaymentMethodButtonIfAllowed()}),e.properties({_userModel:void 0,_editingPaymentMethod:{defaultValue:!1},_editPaymentMethodButton:void 0,_formBodyBlock:void 0,_formBodyBlockScroller:void 0,_directCommerceContainer:void 0,_errorMessage:void 0,_successMessage:void 0,_paymentMethodInfo:void 0,_errorsMap:void 0}),e.methods({_resetAuthentication:function(){var e=this;t.singleton.reset(),e.runUntilDisposed("ensureLogin",function(){return t.singleton.login().then(function(t){!0===t?(e._userModel=s.singleton.create("User","User"),e._paymentMethodInfo.viewModel=e._getViewModelPaymentInformationMessage()):l.new({message:"Unable to login after authentication reset",area:"design.views.PaymentMethodView",level:c.WARNING}).logTelemetry()})})},_editPaymentMethodInvoked:function(e){e.handled=!0,this._errorMessage=void 0,this._successMessage=void 0,this._editPaymentMethodButton.isEnabled=!1,this._ensureSubViewsReady(),this._showPaymentMethodForm()},_showPaymentMethodForm:function(){var e=this;e.runUntilDisposed("showPaymentMethodForm",function(){return e._directCommerceContainer.initialize().then(function(t){!0===t?e._enterEditMode():e._logAndShowError(r.singleton.getResource("ResPaymentMethodInitFailure"))})})},_handlePaymentMethodCreated:function(e){this._errorMessage=void 0,this._successMessage=e,this._exitEditMode(),this._resetAuthentication(),this._ensureSubViewsReady()},_directCommerceErrorUpdated:function(e){this._errorMessage=e,this._ensureSubViewsReady()},_logAndShowError:function(e){this._errorMessage=e,this._exitEditMode(),l.new({message:e,area:"design.views.PaymentMethodView",level:c.ERROR}).logTelemetry()},_enableEditPaymentMethodButtonIfAllowed:function(){var e=this;e.runUntilDisposed("enableEditPaymentMethodButtonIfAllowed",function(){return e._userModel.billingInfo.then(function(t){return t.paymentMethodEditable.then(function(t){e._editPaymentMethodButton.isEnabled=t})})})},_enterEditMode:function(){this._editingPaymentMethod=!0,this._formBodyBlock.layoutProps=a.new({anchor:{left:!0,top:!0,bottom:!0}}),this._ensureSubViewsReady()},_exitEditMode:function(){this._editingPaymentMethod=!1,this._formBodyBlock.layoutProps=void 0,this._enableEditPaymentMethodButtonIfAllowed(),this._ensureSubViewsReady()},_syncScrollerWithBodyBlock:function(){this._formBodyBlockScroller.height=this._formBodyBlock.height},_isActiveFormButtonsBlock:function(){return this._isActiveEditPaymentMethodButton()},_isActiveEditPaymentMethodButton:function(){return!0!==this._editingPaymentMethod},_isActiveErrorMessage:function(){return void 0!==this._errorMessage},_isActiveSuccessMessage:function(){return void 0!==this._successMessage},_isActiveFooter:function(){return!0!==this._editingPaymentMethod},_getViewModelPaymentInformationMessage:function(){return n.new(this._userModel,"billingInfo.paymentMethodMessage")},_getViewModelErrorMessage:function(){return this._getMessageViewModel(this._errorMessage)},_getViewModelSuccessMessage:function(){return this._getMessageViewModel(this._successMessage)},_getMessageViewModel:function(e){if(void 0!==e){var t=i.new(e);return t.initialize({value:e}),n.new(t,"value")}},_attachEditPaymentMethodButton:function(e){this._editPaymentMethodButton=e,this.hookUntilDisposed(e,"invoked",this._editPaymentMethodInvoked.bind(this))},_attachPaymentInformationMessage:function(e){this._paymentMethodInfo=e},_attachFormBodyBlock:function(e){this._formBodyBlock=e,this._formBodyBlockScroller=e.find("scrollContainer"),this.hookUntilDisposed(e,"layoutRequested",this._syncScrollerWithBodyBlock.bind(this))},_attachDirectCommerceContainer:function(e){this._directCommerceContainer=e,this.hookUntilDisposed(e,"errorUpdated",this._directCommerceErrorUpdated.bind(this)),this.hookUntilDisposed(e,"paymentMethodCreated",this._handlePaymentMethodCreated.bind(this))}})})})}(),function(){"use strict";define("dataservices/IPaymentsService",["core/oop"],function(e){return e.interfaceDef("dataservices.IPaymentsService",void 0,function(){e.singleton(),e.methods({getUpdatePaymentMethodParams:void 0,processUpdatePaymentMethodResponse:void 0,validatePromotionCode:void 0})})})}(),function(){"use strict";define("dataservices/dependent/PaymentsService",["core/oop","dataservices/dependent/ServiceUtils","dataservices/dependent/ServiceHttpClient","dataservices/dependent/uris","dataservices/IPaymentsService"],function(e,t,i,n,o){return e.classDef("dataservices.dependent.PaymentsService",[Object,o],function(){e.singleton(function(){}),e.methods({getUpdatePaymentMethodParams:function(){return i.singleton.get(n.getPaymentsSignature,void 0,!0).then(function(e){return{renderParams:[e.json.rawJson.params,e.json.rawJson.fields],errorsMap:e.json.rawJson.errorsMap}}).catch(t.singleton.handleDataException.bind(t.singleton))},processUpdatePaymentMethodResponse:function(e){var o=JSON.stringify(e);return i.singleton.put(n.updatePaymentMethod,void 0,o,!0).then(function(e){return{success:e.json.getBoolean(["success"],!1),message:e.json.getString(["message"],!0)}}).catch(t.singleton.handleDataException.bind(t.singleton))},validatePromotionCode:function(e,o){return i.singleton.get(n.validateRedemptionCode+e+"/"+o,void 0,!1).then(function(e){return{isValid:e.json.getBoolean(["success"],!1),title:e.json.getString(["title"],!0),description:e.json.getString(["description"],!0)}}).catch(t.singleton.handleDataException.bind(t.singleton))}})})})}(),function(){"use strict";define("platform/dependent/IDirectCommerce",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IDirectCommerce",void 0,function(){e.methods({initialize:void 0,showError:void 0})})})}(),function(e){"use strict";define("platform/dependent/DirectCommerce",["core/oop","platform/dependent/IDirectCommerce"],function(t,i){return t.classDef("platform.dependent.DirectCommerce",[Object,i],function(){t.singleton(function(){this._global=e}),t.properties({_global:void 0}),t.methods({initialize:function(e,t,i){e.push(t);try{e[0].customizeErrorRequired="true";return void 0===this._global.Z.render.apply(this._global.Z,e)&&(this._global.Z.customizeErrorHandler(i),!0)}catch(e){return!1}},showError:function(e,t){this._global.Z.sendErrorMessageToHpm(e,t)}})})})}(this),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/DirectCommerce/DirectCommerceContainer",["lib/react","core/Exception","core/logging/Levels","design/views/react/ReactPrimitives","dataservices/dependent/PaymentsService","platform/dependent/DirectCommerce"],function(o,r,a,s,l,c){var d=s.DirectCommerce;return function(s){function u(i){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i));return n._processingPaymentResponse=!1,n}return i(u,s),n(u,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"render",value:function(){return o.createElement(d,{style:this.props.style})}},{key:"initialize",value:function(){var e=this;return l.singleton.getUpdatePaymentMethodParams().then(function(t){return e._errorsMap=t.errorsMap||{},c.singleton.initialize(t.renderParams,e._processPaymentMethodFormResponse.bind(e),e._handleValidationErrors.bind(e))})}},{key:"_processPaymentMethodFormResponse",value:function(e){if(!0!==this._processingPaymentResponse){this._processingPaymentResponse=!0;var t=this;l.singleton.processUpdatePaymentMethodResponse(e).then(function(e){!1===e.success?t.props.errorUpdated(e.message):t.props.paymentMethodCreated(e.message)}).catch(function(e){t.props.errorUpdated(e.displayMessage)}).finally(function(){t._processingPaymentResponse=!1})}}},{key:"_handleValidationErrors",value:function(e,t,i){var n=void 0;if("error"===e){if(void 0!==this._errorsMap.formLevelErrors)for(var o=0;o<this._errorsMap.formLevelErrors.length;o++){var s=this._errorsMap.formLevelErrors[o],l=new RegExp(s.match);if(!0===l.test(i)){n=s.message,void 0!==s.field&&(e=s.field);break}}}else void 0!==this._errorsMap.fieldLevelErrors&&!0===this._errorsMap.fieldLevelErrors.hasOwnProperty(e)&&!0===this._errorsMap.fieldLevelErrors[e].hasOwnProperty(t)&&(n=this._errorsMap.fieldLevelErrors[e][t]);void 0===n&&(n=i,r.new({message:"missing error map for: "+e+", "+t+", "+i,area:"design.views.DirectCommerceContainerView",level:a.ERROR}).logTelemetry()),"error"===e?this.props.errorUpdated(n):(this.props.errorUpdated(void 0),c.singleton.showError(e,n))}}]),u}(o.Component)})}(),function(){"use strict";define("design/views/DirectCommerceContainerView",["core/oop","ui/views/View","design/views/react/DirectCommerce/DirectCommerceContainer","lib/lodash/objects/merge"],function(e,t,i,n){return e.classDef("design.views.DirectCommerceContainerView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.events(["errorUpdated","paymentMethodCreated"]),e.methods({initialize:function(){return this._getChildReactComponent().initialize()},_getReactComponentType:function(){return i},_getReactComponentProps:function(){var e={errorUpdated:this._onErrorUpdated.bind(this),paymentMethodCreated:this._onPaymentMethodCreated.bind(this),style:{width:this.width,height:this.height}};return n({},t._getReactComponentProps.apply(this,arguments),e)}})})})}(),function(){"use strict";define("design/views/SignOutView",["core/oop","design/NavigationRouter","ui/views/CompositeView"],function(e,t,i){return e.classDef("design.views.SignOutView",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments);var e=this;this.runUntilDisposed("onready",function(){return e.afterReady.then(function(){t.singleton.navigateToUri("/logout")})})})})})}(),function(){"use strict";define("design/views/react/ForgotPin/ForgotPinStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n,o,r){return e.classDef("design.views.react.ForgotPin.ForgotPinStyles",Object,function(){e.singleton(function(){var e=r.singleton.exports;this.exports=n.create({emailHost:{name:"emailHost",layout:i.new({primaryAxis:t.VERTICAL,spacing:10}),layoutProps:e.layouts.anchorAll},emailLabel:{name:"emailLabel",format:e.textFormats.formFieldLabelFormat},emailInput:{name:"emailInput",width:318,height:34,padding:{left:10,right:10},layoutProps:o.new({margin:{bottom:10}}),placeholderFormat:e.textFormats.optionalHintFormat,format:e.textFormats.formValueFormat,backgroundColor:e.colors.whiteSmoke},buttonsHost:{name:"buttonsHost",layout:i.new({primaryAxis:t.HORIZONTAL,spacing:20}),layoutProps:e.layouts.anchorAll},sendButton:{name:"sendButton",width:180},cancelButton:{name:"cancelButton",width:180}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/ForgotPin/ForgotPinComponent",["ui/Localization","ui/StyleSheet","design/views/react/ReactPrimitives","design/views/react/ForgotPin/ForgotPinStyles","design/views/react/Form/FormComponent","design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormButton/FormCancelButtonComponent","design/views/react/TextInput/TextInputComponent","lib/react"],function(e,t,i,n,o,r,a,s,l){var c=i.View,d=i.Text;return function(i){var u=n.singleton.exports;return l.createElement(o,{key:"form",style:u.form,errorText:i.errorText,header:e.singleton.getResource("ResPinResetTitle"),description:e.singleton.getResource("ResPinResetText",{emailAddress:i.emailAddress}),hasFooter:!0},!0===i.emailRequired&&[l.createElement(c,{key:"emailHost",style:u.emailHost},l.createElement(d,{style:u.emailLabel},e.singleton.getResource("ResRegistrationEmailTitle")),l.createElement(s,{key:"emailInput",style:u.emailInput,eventHandlers:{textChanged:i.onTextChanged}}))],l.createElement(c,{key:"buttonsHost",style:u.buttonsHost},l.createElement(r,{key:"sendButton",text:e.singleton.getResource("ResPinResetSendButtonText"),invokeHandler:i.onSend,style:t.flatten([u.sendButton,{isEnabled:i.isActiveSend}])}),l.createElement(a,{key:"cancelButton",text:e.singleton.getResource("ResCancelChanges"),invokeHandler:i.onCancel,style:u.cancelButton})))}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ForgotPin/ForgotPinContainer",["core/AsyncManager","design/ValidationUtils","design/views/react/ForgotPin/ForgotPinComponent","ui/Localization","lib/react"],function(o,r,a,s,l){return function(c){function d(i){e(this,d);var n=t(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,i));return n.state={errorText:void 0,emailRequired:!1,validEmailEntered:!1,emailAddress:""},n.displayName="ForgotPinContainer",n._asyncManager=o.new(),n}return i(d,c),n(d,[{key:"componentWillUpdate",value:function(e,t){var i=this;t.viewModel!==this._viewModel&&void 0!==t.viewModel&&(this._viewModel=t.viewModel,this._asyncManager.runUntilDisposed("checkEmailRequired",function(){return i._viewModel.emailAddress.then(function(e){i.setState({emailRequired:""===e}),i.setState({emailAddress:e})})})),t.errorText!==this._errorText&&(this._errorText=t.errorText,this.setState({errorText:this._errorText}))}},{key:"render",value:function(){return l.createElement(a,{errorText:this.state.errorText,emailRequired:this.state.emailRequired,isActiveSend:!0!==this.state.emailRequired||!0===this.state.validEmailEntered,emailAddress:this.state.emailAddress,onSend:this.props.sendPinReset,onCancel:this.props.cancelPinReset,onTextChanged:this._onTextChanged.bind(this)})}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onTextChanged",value:function(e){var t=r.singleton.validateEmail(e.trim()),i=void 0===t?void 0:s.singleton.getResource(t);this.setState({errorText:i,validEmailEntered:void 0===i})}}]),d}(l.Component)})}(),function(){"use strict";define("design/atomic/IAtomicStyles",["core/oop"],function(e){return e.interfaceDef("design.atomic.IAtomicStyles",void 0,function(){e.methods({validateParticleStyles:void 0,validateComponentStyles:void 0,validateInstanceStyles:void 0})})})}(),define("lib/lodash/objects/transform",["../internals/baseCreateCallback","../internals/baseEach","../internals/createObject","./forOwn","./isArray"],function(e,t,i,n,o){function r(r,a,s,l){var c=o(r);if(a=e(a,l,4),null==s)if(c)s=[];else{var d=r&&r.constructor,u=d&&d.prototype;s=i(u)}return(c?t:n)(r,function(e,t,i){return a(s,e,t,i)}),s}return r}),function(){"use strict";define("design/atomic/AtomicStyleSheet",["core/oop","core/Debug","design/atomic/IAtomicStyles","lib/lodash/objects/omit","lib/lodash/objects/transform","ui/StyleSheet","ui/LayoutProps"],function(e,t,i,n,o,r,a){return e.classDef("design.atomic.AtomicStyleSheet",Object,function(){e.properties({exports:{defaultValue:{classes:{}},privateSet:!0},_styleMatrix:void 0}),e.methods({exportAtomicClasses:function(t){var i=r.create(t),n=e.enumDef(this.typeName+".classes",Object.keys(i));this._exports={classes:n},this._styleMatrix=o(i,function(e,t,i){e[n[i]]=t},{})},generateStyleWithProps:function(e,t){this.implementsInterface(i),this.typeName;var o=this._styleMatrix[e.class.particleClass];this.validateParticleStyles(o),this.validateComponentStyles(e.class),this.validateInstanceStyles(e);var s=n(e.class,["particleClass"]),l=n(e,["class","key","theme"].concat(t)),c=a.new(o.layoutProps,e.class.layoutProps);return r.flatten([o,s,l,{layoutProps:c}])}})})})}(),function(){"use strict";define("design/atomic/themes/legacy/particles/TextParticleStyles",["core/oop","design/atomic/AtomicStyleSheet","design/atomic/IAtomicStyles","design/styles/StyleConstants","platform/common/TextFormat"],function(e,t,i,n,o){return e.classDef("design.atomic.themes.legacy.particles.TextParticleStyles",[t,i],function(){e.singleton(function(){var e=n.singleton.exports.fonts,t=n.singleton.exports.colors;this.exportAtomicClasses({LegacyForm1:{format:o.new({font:e.thin,color:t.whiteSmoke,size:26,lineHeight:34})},LegacyForm4:{format:o.new({font:e.medium,size:12,color:t.dustyGray})},LegacyBody1:{format:o.new({font:e.thin,color:t.whiteSmoke,size:12,lineHeight:16})},LegacyBody2:{format:o.new({font:e.thin,color:t.whiteSmoke,size:14,lineHeight:17})},LegacyBody3:{format:o.new({font:e.medium,size:14,lineHeight:19,color:t.whiteSmoke})},LegacyErrorText1:{format:o.new({font:e.medium,color:t.crimson,size:12,lineHeight:14})},LegacyErrorText2:{format:o.new({font:e.thin,color:t.crimson,size:13,lineHeight:17})},LegacyErrorBlock3:{format:o.new({font:e.thin,color:t.whiteSmoke,size:12,lineHeight:34})},DesktopLegacyOptionalDescriptorFormat:{format:o.new({font:e.book,color:t.dustyGray,size:12})},LegacyDisabledTextInput1:{format:o.new({font:e.book,color:t.whiteSmoke,size:12})}})}),e.methods({validateParticleStyles:function(e){},validateComponentStyles:function(e){},validateInstanceStyles:function(e){}})})})}(),function(){"use strict";define("design/atomic/themes/legacy/containers/settings/DeviceManagementContainerStyles",["core/oop","design/ScreenUtil","design/atomic/particles/Colors","design/atomic/themes/legacy/particles/TextParticleStyles","design/styles/StyleConstants","ui/AnchoredLayout","ui/Axis","ui/LayoutProps","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("design.atomic.themes.legacy.containers.settings.DeviceManagementContainerStyles",Object,function(){e.singleton(function(){var e=o.singleton.exports,d=n.singleton.exports.classes,u=i.singleton.exports,p=t.singleton.byDesign({mobile:{useNativeConfirmation:!0,showFormHeaderText:!1,anchorButtonBottom:!0,buttonAnchorType:e.layouts.anchorFillBottom},desktop:{useNativeConfirmation:!1,showFormHeaderText:!0,anchorButtonBottom:!1,containerMinWidth:600,buttonAnchorType:e.layouts.anchorLeft}});this.exports=c.create({isDirtyMVP:!0,useNativeConfirmation:p.useNativeConfirmation,showFormHeaderText:p.showFormHeaderText,anchorButtonBottom:p.anchorButtonBottom,PageHeader:{particleClass:d.LegacyForm1},SectionHeader:{particleClass:d.LegacyBody3,layoutProps:{margin:{left:-2}}},SectionDescription:{particleClass:d.LegacyBody1,maxLines:3},NoDevicesText:{particleClass:d.LegacyBody2,layoutProps:s.new(e.layouts.anchorLeft,{margin:{top:20}})},ErrorText:{particleClass:d.LegacyErrorText1},HintText:{particleClass:d.DesktopLegacyOptionalDescriptorFormat},DeviceManagementContainer:{name:"DeviceManagementContainer",layoutProps:{anchor:e.anchors.all,minWidth:p.containerMinWidth},layout:r.new()},DeviceManagementStaticWrapper:{layoutProps:e.layouts.anchorFillTopCropTop,layout:l.new({primaryAxis:a.VERTICAL,spacing:10,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorStretchHorizontally})},DeviceListScrollWrapper:{borderThickness:1,borderColor:u.mineShaftGray,layoutProps:s.new(e.layouts.anchorAll,{margin:{top:10,bottom:10}}),layout:r.new()},DeviceListScrollContainer:{layoutProps:e.layouts.anchorAll,canScrollVertically:!0,canUserScroll:!0,showScrollbar:!0},DeviceListInnerContainer:{width:600,layoutProps:e.layouts.anchorAll,layout:l.new({primaryAxis:a.VERTICAL,spacing:2,alignAlongPrimaryAxis:!0})},FormActionButtonStyle:{width:338,layoutProps:s.new(p.buttonAnchorType,{margin:{top:8,bottom:8}})},ConfirmButtonStyle:{width:260,layoutProps:s.new(e.layouts.anchorLeft,{margin:{top:8,bottom:8}})},CancelButtonStyle:{width:120,layoutProps:s.new(e.layouts.anchorLeft,{margin:{top:8,bottom:8}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/atomic/themes/legacy/forms/SimpleFormStyles",["core/oop","core/HorizontalAlignment","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/LayoutProps","design/ScreenUtil","design/styles/StyleConstants","design/atomic/themes/legacy/particles/TextParticleStyles","platform/dependent/graphics/Viewport"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("design.views.react.atomic.themes.legacy.forms.SimpleFormStyles",Object,function(){e.singleton(function(){var e=s.singleton.exports,d=l.singleton.exports.classes,u=a.singleton.byDesign({activation:{containerMinHeight:400,containerMinWidth:380,contentHostLayout:e.layouts.anchorTop,contentHostSpacing:20,formWidth:c.singleton.naturalWidth-28,submitButtonWidth:293,errorTextClass:d.LegacyErrorText2,errorTextMaxLines:void 0},default:{containerMinHeight:372,containerMinWidth:600,contentHostLayout:e.layouts.anchorTopLeft,contentHostSpacing:20,submitButtonWidth:338,errorTextClass:d.LegacyErrorText1,errorTextMaxLines:1}});this.exports=o.create({HeaderText:{particleClass:d.LegacyForm1,horizontalAlignment:t.LEFT,layoutProps:{margin:{left:-2}}},DescriptionText:{particleClass:d.LegacyBody2,horizontalAlignment:t.LEFT,maxLines:void 0},ErrorText:{particleClass:u.errorTextClass,maxLines:u.errorTextMaxLines,horizontalAlignment:t.LEFT},SimpleFormContainer:{name:"simpleFormContainer",layoutProps:r.new(e.layouts.anchorAll,{margin:{bottom:e.form.defaultBottomMargin},minHeight:u.containerMinHeight,minWidth:u.containerMinWidth}),layout:n.new({primaryAxis:i.VERTICAL,spacing:20,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorStretchHorizontally})},SimpleFormContent:{name:"simpleFormContent",layoutProps:{margin:{top:4}},layout:n.new({primaryAxis:i.VERTICAL,spacing:u.contentHostSpacing,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorLeft})},SimpleFormRow:{name:"simpleFormRow",layout:n.new({primaryAxis:i.HORIZONTAL,alignAlongPrimaryAxis:!0,spacing:20})},SimpleFormButton:{name:"simpleFormButton",layoutProps:r.new(e.layouts.anchorLeft,{margin:{top:4,bottom:4}})},SimpleFormInstructions:{name:"simpleFormInstructions",format:e.textFormats.formInstructionsDetailsFormat,width:u.formWidth,maxLines:5,markdownMap:{a:{format:e.textFormats.formInstructionsLinkFormat,hoverFormat:e.textFormats.formInstructionsLinkHoveredFormat,uri:"http://help.hbonow.com/app/answers/detailHBO/a_id/236",openInExternalProcess:!0}}},submitButton:{width:u.submitButtonWidth},okButton:{width:164}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict"
;define("design/atomic/themes/spark/particles/TextParticleStyles",["core/oop","design/atomic/AtomicStyleSheet","design/atomic/IAtomicStyles","design/styles/StyleConstants","platform/common/TextFormat"],function(e,t,i,n,o){return e.classDef("design.atomic.themes.spark.particles.TextParticleStyles",[t,i],function(){e.singleton(function(){var e=n.singleton.exports.fonts,t=n.singleton.exports.colors;this.exportAtomicClasses({HeadMd:{format:o.new({font:e.bold,color:t.whiteSmoke,size:20,lineHeight:28})},SubheadLg:{format:o.new({font:e.medium,color:t.whiteSmoke,size:16,lineHeight:24})},SubheadMd:{format:o.new({font:e.medium,color:t.whiteSmoke,size:14,lineHeight:24})},SubheadSm:{format:o.new({font:e.medium,color:t.whiteSmoke,size:12,lineHeight:20})},BodyLg:{format:o.new({font:e.book,color:t.whiteSmoke,size:16,lineHeight:24})},BodyMd:{format:o.new({font:e.book,color:t.whiteSmoke,size:14,lineHeight:24})},BodySm:{format:o.new({font:e.book,color:t.whiteSmoke,size:12,lineHeight:20})}})}),e.methods({validateParticleStyles:function(e){},validateComponentStyles:function(e){},validateInstanceStyles:function(e){}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/particles/TextParticle",["design/atomic/themes/legacy/particles/TextParticleStyles","design/atomic/themes/spark/particles/TextParticleStyles","design/views/react/ReactPrimitives","lib/react","ui/Localization"],function(o,r,a,s,l){var c=a.Text;return function(a){function d(i){e(this,d);var n=t(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,i));n.props=i;var a=void 0;switch(i.theme){case"spark":a=r;break;default:a=o}return n.style=a.singleton.generateStyleWithProps(i,["text","textRes"]),n}return i(d,a),n(d,[{key:"render",value:function(){var e=void 0!==this.props.textRes?l.singleton.getResource(this.props.textRes):this.props.text;return s.createElement(c,{style:this.style},e)}}]),d}(s.Component)})}(),function(){"use strict";define("design/atomic/themes/legacy/particles/TextInputParticleStyles",["core/oop","design/ScreenUtil","design/atomic/AtomicStyleSheet","design/atomic/IAtomicStyles","design/styles/StyleConstants","platform/common/KeyboardType","platform/common/KeyboardReturnKeyType","ui/Transition"],function(e,t,i,n,o,r,a,s){return e.classDef("design.atomic.themes.legacy.particles.TextInputParticleStyles",[i,n],function(){e.singleton(function(){var e=o.singleton.exports,i=t.singleton.byDesign({activation:{inputFieldWidth:293},default:{inputFieldWidth:338},mobile:{inputFieldWidth:void 0}}),n=t.singleton.byDesign({default:{borderRadius:0,borderColor:e.colors.ceruleanBlue,transitionMap:{initial:{set_borderThickness:s.new({to:0,duration:0})},focused:{set_borderThickness:s.new({to:2,duration:0})}}},mobile:{borderRadius:2,borderColor:e.colors.clear,transitionMap:void 0}});this.exportAtomicClasses({LegacyTextInputField:{width:i.inputFieldWidth,height:e.defaultFormButtonHeight,padding:{left:10,right:10},backgroundColor:e.colors.whiteSmoke,borderColor:n.borderColor,borderRadius:n.borderRadius,keyboardType:r.DEFAULT,keyboardReturnKeyType:a.DONE,format:e.textFormats.formValueFormat,placeholderFormat:e.textFormats.optionalHintFormat,transitionMap:n.transitionMap}})}),e.methods({validateParticleStyles:function(e){},validateComponentStyles:function(e){},validateInstanceStyles:function(e){}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/particles/TextInputParticle",["design/atomic/themes/legacy/particles/TextInputParticleStyles","design/views/react/ReactPrimitives","lib/react","lib/lodash/objects/assign","platform/common/TextInputMode","ui/Localization"],function(o,r,a,s,l,c){var d=r.TextInput;return function(r){function u(i){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i)),r=void 0!==i.placeholderTextRes?c.singleton.getResource(i.placeholderTextRes):i.placeholderText,a=s({},i,{name:i.name+"InputField",placeholderText:r});return n.style=o.singleton.generateStyleWithProps(a,["eventHandlers","owner","placeholderTextRes","registration","value"]),n}return i(u,r),n(u,[{key:"render",value:function(){var e={text:this.props.value,mode:this.props.mode===l.PASSWORD?l.PASSWORD:l.DEFAULT};return a.createElement(d,{style:[this.style,e],registration:this.props.registration,owner:this.props.owner,eventHandlers:this.props.eventHandlers})}}]),u}(a.Component)})}(),function(){"use strict";define("design/views/react/atomic/themes/legacy/forms/FormTextInputStyles",["core/oop","design/atomic/themes/legacy/particles/TextParticleStyles","design/atomic/themes/legacy/particles/TextInputParticleStyles","design/styles/StyleConstants","ui/AnchoredLayout","ui/Axis","ui/LayoutProps","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.views.react.atomic.themes.legacy.forms.FormTextInputStyles",Object,function(){e.singleton(function(){var e=n.singleton.exports,c=t.singleton.exports.classes,d=i.singleton.exports.classes;this.exports=l.create({InputView:{layout:s.new({primaryAxis:r.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorLeft})},StatusBlock:{backgroundColor:e.colors.crimson,layout:s.new({primaryAxis:r.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorStretchHorizontally}),layoutProps:e.layouts.anchorStretchHorizontally},ShowHideBlock:{layout:o.new(),layoutProps:e.layouts.anchorStretchHorizontally},ShowHideButton:{layout:o.new(),layoutProps:e.layouts.anchorFillRight,isPointerTarget:!0,isInvokable:!0},ShowHideButtonText:{particleClass:c.LegacyForm4,layoutProps:a.new(e.layouts.anchorRight,{margin:{right:10}})},InputField:{particleClass:d.LegacyTextInputField,layoutProps:{margin:{top:10,bottom:4}}},DisabledField:{particleClass:c.LegacyDisabledTextInput1,layoutProps:{margin:{top:18,bottom:14}}},LabelText:{particleClass:c.LegacyForm4,layoutProps:e.layouts.anchorLeft},HelperText:{particleClass:c.LegacyBody1},StatusText:{particleClass:c.LegacyErrorBlock3,layoutProps:{margin:{left:15}}},ShowLabel:!0,ShowPlaceholder:!1})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/atomic/themes/spark/forms/FormTextInputStyles",["core/oop","design/atomic/themes/spark/particles/TextParticleStyles","design/atomic/themes/legacy/particles/TextInputParticleStyles","design/styles/StyleConstants","ui/AnchoredLayout","ui/Axis","ui/LayoutProps","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.views.react.atomic.themes.spark.forms.FormTextInputStyles",Object,function(){e.singleton(function(){var e=n.singleton.exports,c=t.singleton.exports.classes,d=i.singleton.exports.classes;this.exports=l.create({InputView:{layout:s.new({primaryAxis:r.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorLeft})},StatusBlock:{backgroundColor:e.colors.crimson,layout:s.new({primaryAxis:r.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorStretchHorizontally}),layoutProps:e.layouts.anchorStretchHorizontally},ShowHideBlock:{layout:o.new(),layoutProps:e.layouts.anchorStretchHorizontally},ShowHideButton:{layout:o.new(),layoutProps:e.layouts.anchorFillRight,isPointerTarget:!0,isInvokable:!0},ShowHideButtonText:{particleClass:c.LegacyForm4,layoutProps:a.new(e.layouts.anchorRight,{margin:{right:10}})},DisabledField:{particleClasse:c.LegacyDisabledTextInput1,layoutProps:{margin:{top:18,bottom:14}}},InputField:{particleClass:d.LegacyTextInputField,layoutProps:{margin:{top:10,bottom:4}}},HelperText:{particleClass:c.BodySm},LabelText:{particleClass:c.SubheadMd,layoutProps:e.layouts.anchorLeft},StatusText:{particleClass:c.BodySm,layoutProps:{margin:{left:15}}}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/atomic/themes/legacy/particles/ImageParticleStyles",["core/oop","design/atomic/AtomicStyleSheet","design/atomic/IAtomicStyles"],function(e,t,i){return e.classDef("design.atomic.themes.legacy.particles.ImageParticleStyles",[t,i],function(){e.singleton(function(){this.exportAtomicClasses({Icon:{width:16,height:16},IconWarning:{width:16,height:16,uri:"assets/images/icons/inline_warning.png"},Hidden:{width:0,height:0}})}),e.methods({validateParticleStyles:function(e){},validateComponentStyles:function(e){},validateInstanceStyles:function(e){}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/particles/ImageParticle",["design/atomic/themes/legacy/particles/ImageParticleStyles","design/views/react/ReactPrimitives","lib/react"],function(r,a,s){var l=a.Image;return function(a){function c(i){e(this,c);var n=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,i));return n.props=i,n.style=r.singleton.generateStyleWithProps(i),n}return i(c,a),o(c,[{key:"render",value:function(){var e=void 0!==this.props.uri?{uri:this.props.uri}:{};return s.createElement(l,n({style:this.style},e))}}]),c}(s.Component)})}(),function(){"use strict";define("design/views/react/atomic/themes/legacy/forms/StatusInlineStyles",["core/oop","design/atomic/themes/legacy/particles/TextParticleStyles","design/atomic/themes/legacy/particles/ImageParticleStyles","design/styles/StyleConstants","ui/Axis","ui/StackedLayout","ui/AnchoredLayout","ui/StyleSheet","ui/LayoutProps"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.atomic.themes.legacy.forms.StatusInlineStyles",Object,function(){e.singleton(function(){var e=n.singleton.exports,c=t.singleton.exports.classes,d=i.singleton.exports.classes;this.exports=s.create({HelperStatusBlock:{layout:r.new({primaryAxis:o.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorStretchHorizontally}),layoutProps:e.layouts.anchorStretchHorizontally},WarningStatusBlock:{backgroundColor:e.colors.crimson,layout:a.new(),layoutProps:l.new(e.layouts.anchorStretchHorizontally,{margin:{bottom:2}})},MessageIconBlock:l.new(e.layouts.anchorTopLeftCropLeft,{margin:{top:3,right:4}}),MessageIcon:{particleClass:d.Hidden},HelperText:{particleClass:c.LegacyBody1},StatusText:{particleClass:c.LegacyErrorBlock3,layoutProps:l.new(e.layouts.anchorStretchHorizontally,{margin:{left:15}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/atomic/themes/spark/forms/StatusInlineStyles",["core/oop","design/atomic/themes/spark/particles/TextParticleStyles","design/atomic/themes/legacy/particles/ImageParticleStyles","design/styles/StyleConstants","ui/Axis","ui/StackedLayout","ui/AnchoredLayout","ui/StyleSheet","ui/LayoutProps"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.atomic.themes.spark.forms.StatusInlineStyles",Object,function(){e.singleton(function(){var e=n.singleton.exports,c=t.singleton.exports.classes,d=i.singleton.exports.classes;this.exports=s.create({HelperStatusBlock:{layout:r.new({primaryAxis:o.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorStretchHorizontally}),layoutProps:e.layouts.anchorStretchHorizontally},WarningStatusBlock:{layout:a.new(),layoutProps:e.layouts.anchorStretchHorizontally},MessageIcon:{particleClass:d.IconWarning,layoutProps:l.new(e.layouts.anchorTopLeftCropLeft,{margin:{top:3,right:4}})},HelperText:{particleClass:c.BodySm,maxLines:void 0},StatusText:{particleClass:c.BodySm,layoutProps:e.layouts.anchorStretchHorizontally,maxLines:void 0}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/forms/StatusInlineComponent",["design/views/react/ReactPrimitives","design/views/react/atomic/particles/TextParticle","design/views/react/atomic/particles/ImageParticle","design/views/react/atomic/themes/legacy/forms/StatusInlineStyles","design/views/react/atomic/themes/spark/forms/StatusInlineStyles","lib/react"],function(r,a,s,l,c,d){var u=r.View;return function(r){function p(i){e(this,p);var n=t(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,i));return n.props=i,n}return i(p,r),o(p,[{key:"render",value:function(){var e=this.props,t=e.theme,i=e.message,n=e.type,o=e.textRes,r="spark"===t?c.singleton.exports:l.singleton.exports;return"helper"===n?d.createElement(u,{style:r.HelperStatusBlock},d.createElement(a,{theme:t,class:r.HelperText,text:i})):d.createElement(u,{style:r.WarningStatusBlock},d.createElement(s,{class:r.MessageIcon}),d.createElement(a,{theme:t,class:r.StatusText,text:i,textRes:o}))}}],[{key:"Helper",value:function(e){return d.createElement(p,n({},e,{type:"helper"}))}},{key:"Warning",value:function(e){return d.createElement(p,n({},e,{type:"warning"}))}}]),p}(d.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};define("design/views/react/atomic/forms/FormTextInputComponent",["core/Debug","design/ValidationUtils","design/views/react/ReactPrimitives","design/views/react/atomic/particles/TextParticle","design/views/react/atomic/particles/TextInputParticle","design/views/react/atomic/themes/legacy/forms/FormTextInputStyles","platform/common/KeyboardType","platform/common/TextInputMode","design/views/react/atomic/themes/spark/forms/FormTextInputStyles","design/views/react/atomic/forms/StatusInlineComponent","lib/react"],function(r,a,s,l,c,d,u,p,h,g,f){var m=s.View,v=function(e,t){return f.createElement(_,o({},e,t))},_=function(o){function r(i){e(this,r);var n=t(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return n.props=i,n._handleTextChanged=n._handleTextChanged.bind(n),n.state={mode:i.mode,errorTextRes:void 0,iStatusMessages:void 0,showingHiddenText:!1,value:i.value},n.name=void 0!==n.props.name?n.props.name:void 0!==n.props.dataModelValue?n.props.dataModelValue:"formTextInput",!0===i.showHideEnabled&&(i.mode,p.PASSWORD),n._validatorCallback=void 0!==n.props.validatorCallback?n.props.validatorCallback:function(){},n.validator=void 0!==n.props.validator?n.props.validator:function(){},n.filterFn=void 0!==n.props.filterFn?n.props.filterFn:function(){return!0},n.onChanged=void 0!==n.props.onChanged?n.props.onChanged:function(){},n.styles="spark"===i.theme?h.singleton.exports:d.singleton.exports,n.displayShowHide=!0===i.showHideEnabled,n.styles.ShowPlaceholder&&(n.placeholderText=i.placeholderText,n.placeholderTextRes=i.placeholderTextRes),n}return i(r,o),n(r,[{key:"componentDidMount",value:function(){var e=this,t=function(){var t=e.validator(e.props.value);return e.setState({errorTextRes:t}),t};this._validatorCallback(t)}},{key:"componentDidUpdate",value:function(e){this.props.value!==this.state.value&&this.props.value!==e.value&&this.setState({value:this.props.value})}},{key:"_handleTextChanged",value:function(e){var t=this;!0!==this.filterFn(e)?this.forceUpdate():e!==this.state.value&&this.setState({errorTextRes:void 0,iStatusMessages:void 0,value:e},function(){t.onChanged(e,t)})}},{key:"_handleShowHideButtonInvoked",value:function(){var e=!this.state.showingHiddenText;this.setState({showingHiddenText:e,mode:!0===e?void 0:p.PASSWORD})}},{key:"render",value:function(){var e=this.props,t=e.errorText,i=e.helperText,n=e.helperTextRes,o=e.isEnabled,r=e.label,a=e.labelRes,s=e.mode,d=e.onButtonReleased,u=e.showErrorText,p=e.theme,h=e.statusMessages,v=this.state,_=v.errorTextRes,y=v.iStatusMessages,w=v.showingHiddenText,b=v.value;return _=!1!==u?_:void 0,void 0!==y&&(h=[].concat(h||[],y)),void 0!==h&&0===h.length?h=void 0:void 0!==h||void 0===_&&void 0===t||(h=_?[{type:"error",textRes:_}]:[{type:"error",text:t}]),f.createElement(m,{style:this.styles.InputView,key:this.name+"View"},!1!==this.styles.ShowLabel&&f.createElement(l,{theme:p,class:this.styles.LabelText,text:r,textRes:a}),!1===o&&f.createElement(l,{class:this.styles.DisabledField,text:b}),!1!==o&&f.createElement(m,{style:this.styles.ShowHideBlock},f.createElement(c,{class:this.styles.InputField,name:this.name,value:b,placeholderText:this.placeholderText,mode:s,eventHandlers:{textChanged:this._handleTextChanged,buttonReleased:d}}),!0===this.displayShowHide&&f.createElement(m,{style:this.styles.ShowHideButton,eventHandlers:{invoked:this._handleShowHideButtonInvoked.bind(this)}},f.createElement(l,{textRes:w?"ResHide":"ResShow",class:this.styles.ShowHideButtonText}))),h&&h.map(function(e){return f.createElement(g.Warning,{message:e.text,theme:p,key:e.textRes,textRes:e.textRes})}),void 0===h&&(i||n)&&f.createElement(g.Helper,{theme:p,message:i,textRes:n}))}}],[{key:"Email",value:function(e){return v(e,{validator:a.singleton.validateEmail.bind(a.singleton),keyboardType:u.EMAIL})}},{key:"Name",value:function(e){return v(e,{validator:a.singleton.validateName.bind(a.singleton)})}},{key:"Password",value:function(e){return v(e,{validator:a.singleton.validatePassword.bind(a.singleton),mode:p.PASSWORD})}},{key:"Phone",value:function(e){return v(e,{validator:a.singleton.validatePhoneNumber.bind(a.singleton)})}},{key:"Pin",value:function(e){return v(e,{filterFn:a.singleton.isValidPartialPin,validator:a.singleton.validatePin.bind(a.singleton),mode:p.PASSWORD})}},{key:"Postal",value:function(e){return v(e,{validator:a.singleton.validateZipCode.bind(a.singleton)})}}]),r}(f.Component);return _})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/utils/FormHandler",["lib/lodash/objects/isPlainObject"],function(i){return function(){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.form,o=t.dataModel,r=t.isEnabled;e(this,n),this.fieldValues={},this.fields={},this.form=i||{},this.dataModel={},this.isEnabled=!0,this._bindDataModel(o,r)}return t(n,[{key:"_bindDataModel",value:function(e,t){i(e)?this.dataModel=e:this.form.props&&i(this.form.props.dataModel)&&(this.dataModel=this.form.props.dataModel),void 0!==t&&(this.isEnabled=t)}},{key:"input",value:function(e,t){var i=this,n=i.dataModel[e];return void 0===t&&(t=!1!==i.isEnabled),{ref:function(t){i.fields[e]=t,t&&(i.fieldValues[e]=t.props.value)},onChanged:function(t){i.fieldValues[e]=t,i.form.props&&void 0!==i.form.props.onDataModelValueChanged&&i.form.props.onDataModelValueChanged(e,t)},value:n,isEnabled:t}}},{key:"assign",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.dataModel,n=t.isEnabled;return{ref:function(t){e.form=t,e._bindDataModel(i,n)}}}},{key:"formData",value:function(){return this.fieldValues}}]),n}()})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/forms/SimpleFormComponent",["application/ClientDevice","core/Debug","ui/StyleSheet","design/views/react/ReactPrimitives","design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormFooter/FormFooterComponent","design/views/react/atomic/themes/legacy/forms/SimpleFormStyles","design/views/react/atomic/forms/FormTextInputComponent","design/views/react/atomic/particles/TextParticle","design/views/react/atomic/utils/FormHandler","lib/react","ui/Localization"],function(o,r,a,s,l,c,d,u,p,h,g,f){function m(e){var t=d.singleton.exports;return g.createElement(v,{style:t.SimpleFormRow},e.children)}var v=s.View,_=s.MarkdownText;return function(r){function s(i){e(this,s);var n=t(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,i));return n.props=i,n.children=i.children,n.formHandler=void 0,n._renderChildren(i),n}return i(s,r),n(s,[{key:"componentWillReceiveProps",value:function(e){e.dataModel===this.props.dataModel&&e.isEnabled===this.props.isEnabled&&e.children===this.props.children||this._renderChildren(e)}},{key:"_renderChildren",value:function(e){void 0!==e.dataModel&&(this.formHandler=new h({form:this,dataModel:e.dataModel,isEnabled:e.isEnabled})),void 0!==e.dataModel||this.formHandler,this.children=void 0!==this.formHandler?this._recursiveChildren(e.children):e.children}},{key:"_recursiveChildren",value:function(e){var t=this;return g.Children.map(e,function(e){return e.type===m?g.createElement(m,e.props,t._recursiveChildren(e.props.children)):e.props.dataModelValue?g.cloneElement(e,t.formHandler.input(e.props.dataModelValue,e.props.isEnabled)):e.props.dataModelInvokeHandler?g.cloneElement(e,{invokeHandler:function(){var i=t.formHandler.formData();return e.props.dataModelInvokeHandler(i)}}):e})}},{key:"render",value:function(){var e=d.singleton.exports,t=this.props,i=t.headerText,n=t.headerTextRes,r=t.descriptionText,s=t.descriptionTextRes,h=t.errorText,m=t.errorTextRes,y=t.markdownText,w=t.buttonText,b=t.footerText,S=t.footerLinkText;return void 0!==this.props.formFields?this.inputComponents=this.props.formFields.map(function(e){return g.createElement(u,{key:e.name,name:e.name,label:e.label,value:e.value,placeholderText:e.label,mode:e.mode,errorText:e.errorText,filterFn:e.filterFn,onChanged:function(t){e.onTextChangedFn(t,e)}})}):this.inputComponents=void 0,g.createElement(v,{style:e.SimpleFormContainer,eventHandlers:{pointerDown:function(e){if(!0===o.singleton.updateFocusOnPointerDown){var t=e.inputScope;t&&void 0!==t.hoverView&&t.hoverView.focus()}}}},(void 0!==i||void 0!==n)&&g.createElement(p,{name:"simpleFormHeaderText",key:"simpleFormHeaderText",class:e.HeaderText,text:i,textRes:n}),(void 0!==r||void 0!==s)&&g.createElement(p,{name:"simpleFormDescriptionText",key:"simpleFormDescriptionText",class:e.DescriptionText,text:r,textRes:s}),void 0!==y&&g.createElement(_,{name:"simpleFormInstructions",key:"simpleFormInstructions",style:e.SimpleFormInstructions},y),(void 0!==h||void 0!==m)&&g.createElement(p,{name:"simpleFormErrorText",key:"simpleFormErrorText",class:e.ErrorText,text:h,textRes:m}),g.createElement(v,{style:e.SimpleFormContent},this.inputComponents,this.children,void 0!==w&&g.createElement(l,{key:w+"ActionButton",name:w+"ActionButton",text:w,invokeHandler:this.props.onSubmitFn,style:a.flatten([e.SimpleFormButton,w===f.singleton.getResource("ResOk")?e.okButton:e.submitButton,{isEnabled:!1!==this.props.enableFormButton}])}),(void 0!==b||void 0!==S)&&g.createElement(c,{helpText:b,helpLinkText:S})))}}],[{key:"row",value:function(e){return g.createElement(m,null,e)}}]),s}(g.Component)})}(),function(){"use strict";define("design/atomic/themes/legacy/components/DeviceListItemStyles",["core/oop","design/atomic/themes/legacy/particles/TextParticleStyles","design/styles/StyleConstants","design/atomic/particles/Colors","ui/AnchoredLayout","ui/Axis","ui/LayoutProps","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.atomic.themes.legacy.components.DeviceListItemStyles",Object,function(){e.singleton(function(){var e=i.singleton.exports,c=n.singleton.exports,d=t.singleton.exports.classes;this.exports=l.create({DeviceListItem:{borderThickness:1,borderColor:c.mineShaftGray,layoutProps:a.new(e.layouts.anchorFillTop,{padding:{top:4,bottom:4}}),layout:o.new()},DeviceListDetailsContainer:{layoutProps:a.new(e.layouts.anchorAll,{margin:{top:14,left:8}}),layout:s.new({primaryAxis:r.VERTICAL,alignAlongPrimaryAxis:!1,spacing:0})},Row:{layoutProps:a.new(e.layouts.anchorFillTopCropTop,{margin:{bottom:4}}),layout:s.new({primaryAxis:r.HORIZONTAL,alignAlongPrimaryAxis:!1,defaultItemLayoutProps:e.layouts.anchorTopCropTop})},Separator:{height:2,width:480,backgroundColor:c.dustyGray},Block:{layout:s.new({primaryAxis:r.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorAll})},IconContainer:{layoutProps:e.layouts.anchorLeftCropLeft,layout:o.new(),backgroundColor:c.mineShaftGray,width:100,height:100},IconContainerIsStreaming:{backgroundColor:c.ceruleanBlue},DeviceNameClass:{particleClass:d.LegacyForm1},NameContainer:{height:38},DateClass:{particleClass:d.LegacyBody1},DateContainer:{width:120},ModelContainer:{layoutProps:e.layouts.anchorBottomLeft,width:240},LabelClass:{particleClass:d.LegacyForm4},StreamingClass:{particleClass:d.LegacyBody1,maxLines:2,layoutProps:a.new(e.layouts.anchorBottom,{margin:{bottom:10}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/components/DeviceListItemComponent",["design/views/react/ReactPrimitives","design/views/react/atomic/particles/TextParticle","design/atomic/themes/legacy/components/DeviceListItemStyles","lib/react","ui/Localization"],function(o,r,a,s,l){var c=o.View;return function(o){function d(i){e(this,d);var n=t(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,i));return n.props=i,n.activationDate=l.singleton.formatDate(i.device.activationDate,l.DateFormat.MONTH_DAY_YEAR_LONG),n.lastUsedDate=l.singleton.formatDate(i.device.lastUsedDate,l.DateFormat.MONTH_DAY_YEAR_LONG),n}return i(d,o),n(d,[{key:"render",value:function(){var e=a.singleton.exports,t=this.props.device,i=t.deviceName,n=t.deviceModel,o=t.isStreaming,l=[e.IconContainer];return!0===o&&l.push(e.IconContainerIsStreaming),s.createElement(c,{style:e.DeviceListItem},s.createElement(c,{name:"DeviceIcon",style:l},s.createElement(r,{class:e.DateClass,text:"< ICON >"}),o&&s.createElement(r,{class:e.StreamingClass,textRes:"ResDevListCurrentlyStreamingText"})),s.createElement(c,{style:e.DeviceListDetailsContainer},s.createElement(c,{name:"DeviceName",style:e.Row},s.createElement(c,{style:[e.block,e.NameContainer]},s.createElement(r,{class:e.DeviceNameClass,text:i}))),s.createElement(c,{name:"Separator",style:[e.Row,e.Separator]}),s.createElement(c,{name:"DeviceDetails",style:e.Row},s.createElement(c,{name:"DeviceModel",style:[e.Block,e.ModelContainer]},s.createElement(r,{class:e.LabelClass,text:" "}),s.createElement(r,{class:e.DateClass,text:n})),s.createElement(c,{name:"DeviceLastUsed",style:[e.Block,e.DateContainer]},s.createElement(r,{class:e.LabelClass,textRes:"ResDevListLastUsedText"}),s.createElement(r,{class:e.DateClass,text:this.lastUsedDate})),s.createElement(c,{
name:"DeviceActivated",style:[e.Block,e.DateContainer]},s.createElement(r,{class:e.LabelClass,textRes:"ResDevListActivationDateText"}),s.createElement(r,{class:e.DateClass,text:this.activationDate})))))}}]),d}(s.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/containers/settings/DeviceManagementContainer",["application/ClientDevice","core/AsyncManager","core/Debug","dataservices/authentication/AuthenticationManager","dataservices/dependent/ProfileService","design/NavigationRouter","design/atomic/themes/legacy/containers/settings/DeviceManagementContainerStyles","design/views/react/ReactPrimitives","design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormButton/FormCancelButtonComponent","design/views/react/atomic/forms/SimpleFormComponent","design/views/react/atomic/components/DeviceListItemComponent","design/views/react/atomic/particles/TextParticle","lib/Promise","lib/react","platform/dependent/NativeDialogType","platform/dependent/Process","ui/LayoutProps","ui/Localization"],function(o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S){var C=u.View,T=u.ScrollView;return function(a){function u(i){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i));return s.singleton.isAuthenticated,n.isDirtyMVP=d.singleton.exports.isDirtyMVP,n.displayName="DeviceManagementContainer",n.styles=d.singleton.exports,n.state={currentDevice:void 0,devices:[],errorMsg:void 0,showConfirmation:!1},!0===n.styles.showFormHeaderText&&(n._footerText=S.singleton.getResource("ResFooterHelpText"),n._footerLink=S.singleton.getResource("ResFooterHelpLinkText")),n}return i(u,a),n(u,[{key:"componentDidMount",value:function(){this._asyncManager=r.new(),this._asyncManager.runUntilDisposed("_loadDevices",this._loadDevices.bind(this))}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_cancelDeactivate",value:function(){var e=v.pending();return this.setState({showConfirmation:!1},function(){e.fulfill()}),e.promise}},{key:"_confirmDeactivate",value:function(){var e=this;if(this.styles.useNativeConfirmation)return this._asyncManager.runUntilDisposed("_confirmDeactivateDialog",function(){return w.singleton.openNativeDialog(y.CONFIRMATION,S.singleton.getResource("ResDeviceManagementAllConfirmTitle"),S.singleton.getResource("ResDeviceManagementAllConfirmText"),S.singleton.getResource("ResDeviceManagementAllButtonShort"),S.singleton.getResource("ResCancelChanges")).then(function(t){return!0===t.result?e._deactivateAll():e._cancelDeactivate()})});this.setState({errorMsg:void 0,showConfirmation:!0})}},{key:"_deactivateDevices",value:function(e){return l.singleton.deactivateDevices()}},{key:"_loadDevices",value:function(){var e=this;return this.isDirtyMVP?v.fulfilled():this._mockDeviceResponse().then(function(t){var i=t.splice(0,1)[0];e.setState({currentDevice:i,devices:t})})}},{key:"_deactivateAll",value:function(){var e=this;return this._deactivateDevices().then(function(e){c.singleton.restart(!1)}).catch(function(t){e.setState({errorMsg:t.internalMessage,showConfirmation:!1})})}},{key:"_handleDeactivateAll",value:function(){return this._asyncManager.runUntilDisposed("_onDeactivateAll",this._deactivateAll.bind(this))}},{key:"render",value:function(){if(this.isDirtyMVP){if(this.state.showConfirmation)return this.styles.useNativeConfirmation,_.createElement(g,{key:"confirmationForm",headerText:S.singleton.getResource("ResDeviceManagementAllConfirmTitle"),descriptionText:S.singleton.getResource("ResDeviceManagementAllConfirmText"),footerText:this._footerText,footerLinkText:this._footerLink},g.row([_.createElement(p,{key:"confirm",text:S.singleton.getResource("ResDeviceManagementAllButtonText"),style:this.styles.ConfirmButtonStyle,invokeHandler:this._handleDeactivateAll.bind(this)}),_.createElement(h,{key:"cancel",text:S.singleton.getResource("ResCancelChanges"),style:this.styles.CancelButtonStyle,invokeHandler:this._cancelDeactivate.bind(this)})]));var e=_.createElement(p,{text:S.singleton.getResource("ResDeviceManagementAllButtonText"),style:this.styles.FormActionButtonStyle,invokeHandler:this._confirmDeactivate.bind(this)});return _.createElement(C,{style:this.styles.DeviceManagementContainer},_.createElement(g,{key:"mainForm",headerText:!0!==this.styles.showFormHeaderText?void 0:S.singleton.getResource("ResDeviceManagementViewTitle"),descriptionText:S.singleton.getResource("ResDeviceManagementAllDescription"),footerText:this._footerText,footerLinkText:this._footerLink},this.state.errorMsg&&_.createElement(m,{text:this.state.errorMsg,class:this.styles.ErrorText}),!0!==this.styles.anchorButtonBottom&&e,_.createElement(m,{textRes:"ResDeviceManagementAllHintText",class:this.styles.HintText})),!0===this.styles.anchorButtonBottom&&e)}var t=this.state,i=t.currentDevice,n=t.devices,o={};return n.length>0&&(o.layoutProps=b.new(this.styles.DeviceListScrollWrapper.layoutProps,{maxHeight:102*n.length-2})),_.createElement(C,{style:this.styles.DeviceManagementContainer},_.createElement(C,{style:this.styles.DeviceManagementStaticWrapper},_.createElement(m,{class:this.styles.PageHeader,textRes:"ResDeviceManagementViewTitle"}),_.createElement(m,{class:this.styles.SectionHeader,textRes:"ResDevMgtCurrentDeviceText"}),i&&_.createElement(f,{device:i}),_.createElement(m,{class:this.styles.SectionHeader,textRes:"ResDevMgtActiveDevicesText"}),_.createElement(m,{class:this.styles.SectionDescription,textRes:"ResDevMgtDescriptionText"}),0===n.length&&_.createElement(m,{class:this.styles.NoDevicesText,textRes:"ResDevMgtNoDevicesText"})),n.length>0&&_.createElement(C,{style:[this.styles.DeviceListScrollWrapper,o]},_.createElement(T,{style:this.styles.DeviceListScrollContainer},_.createElement(C,{style:this.styles.DeviceListInnerContainer},n.map(function(e){return _.createElement(f,{key:e.id,device:e})})))))}},{key:"_mockDeviceResponse",value:function(){var e=o.singleton.model.split(")")[0].split("(")[1],t={id:"device_4",deviceName:"This Browser",deviceModel:e,isStreaming:!1,activationDate:new Date("2016-03-10"),lastUsedDate:new Date("2018-08-01")};return this.mockOnlyCurrent?v.fulfilled([t]):v.fulfilled([t,{id:"device_1",deviceName:"Selina's Xbox",deviceModel:"XBox One S",isStreaming:!1,activationDate:new Date("2016-07-13"),lastUsedDate:new Date("2018-08-19")},{id:"device_2",deviceName:"Sookie's Samsung TV",deviceModel:"Tizen 2016",isStreaming:!0,activationDate:new Date("2018-02-20"),lastUsedDate:new Date("2018-09-17")},{id:"device_3",deviceName:"Barry's Phone",deviceModel:"Nexus 5",isStreaming:!1,activationDate:new Date("2018-08-10"),lastUsedDate:new Date("2018-09-10")},{id:"device_5",deviceName:"Issa's iPad",deviceModel:"iPad Air 3",isStreaming:!1,activationDate:new Date("2015-03-10"),lastUsedDate:new Date("2017-12-01")},{id:"device_6",deviceName:"Apple TV (2)",deviceModel:"Apple TV 4K",isStreaming:!1,activationDate:new Date("2018-05-11"),lastUsedDate:new Date("2018-09-12")},{id:"device_7",deviceName:"Chromecastic",deviceModel:"Chromecast",isStreaming:!0,activationDate:new Date("2018-01-29"),lastUsedDate:new Date("2018-09-18")}])}}]),u}(_.Component)})}(),function(){"use strict";define("design/views/react/atomic/themes/legacy/common/DropdownParticleStyles",["core/oop","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n){return e.classDef("design.views.react.atomic.themes.legacy.common.DropdownParticleStyles",Object,function(){e.singleton(function(){var e=n.singleton.exports;this.exports=t.create({name:"dropDownStates",width:338,height:e.defaultFormButtonHeight,optionFormat:e.textFormats.dropDownOptionFormat,arrowImageUri:"/assets/images/dropdowns/desktop/dropdown_arrow_dark.png",borderColor:e.colors.whiteSmoke,backgroundColor:e.colors.whiteSmoke,optionHorizontalPadding:20,layoutProps:i.new({margin:{top:10,bottom:22}})})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/particles/DropdownParticle",["design/views/react/ReactPrimitives","ui/StyleSheet","lib/react","design/views/react/atomic/themes/legacy/common/DropdownParticleStyles"],function(o,r,a,s){var l=o.Selector;return function(o){function c(i){e(this,c);var n=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,i));n.props=i;var o=s.singleton.exports,a={options:n.props.dropdownList};return n.style=r.flatten([o,a]),n}return i(c,o),n(c,[{key:"render",value:function(){var e={selectedIndex:void 0===this.props.selectedIndex?0:this.props.selectedIndex};return a.createElement(l,{style:[this.style,e],eventHandlers:{selectedIndexChanged:this.props.onChanged}})}}]),c}(a.Component)})}(),function(){"use strict";define("design/views/react/atomic/themes/legacy/forms/FormDropdownInputStyles",["core/oop","design/atomic/themes/legacy/particles/TextParticleStyles","design/styles/StyleConstants","ui/Axis","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r){return e.classDef("design.views.react.atomic.themes.legacy.forms.FormDropdownInputStyles",Object,function(){e.singleton(function(){var e=i.singleton.exports,a=t.singleton.exports.classes;this.exports=r.create({FormDropdownInputView:{layout:o.new({primaryAxis:n.VERTICAL,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:e.layouts.anchorLeft})},FormDropdownInputLabelTextClass:a.LegacyForm4,FormDropdownInputLabelLayoutProps:e.layouts.anchorLeft})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/forms/FormDropdownInputComponent",["design/views/react/ReactPrimitives","design/views/react/atomic/particles/TextParticle","design/views/react/atomic/particles/DropdownParticle","design/views/react/atomic/themes/legacy/forms/FormDropdownInputStyles","lib/react"],function(o,r,a,s,l){var c=o.View;return function(o){function d(i){e(this,d);var n=t(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,i));return n.props=i,n.name=void 0!==n.props.name?n.props.name:void 0!==n.props.dataModelValue?n.props.dataModelValue:"formDropdownInput",n.onChanged=void 0!==n.props.onChanged?n.props.onChanged:function(){},n}return i(d,o),n(d,[{key:"render",value:function(){var e=s.singleton.exports,t=this.props,i=t.label,n=t.labelRes,o=t.isEnabled,d=t.dropdownList,u=t.selectedIndex;return l.createElement(c,{style:e.FormDropdownInputView},l.createElement(r,{class:e.FormDropdownInputLabelTextClass,layoutProps:e.FormDropdownInputLabelLayoutProps,text:i,textRes:n}),l.createElement(a,{isEnabled:o,dropdownList:d,onChanged:this.onChanged,selectedIndex:u}))}}]),d}(l.Component)})}(),function(){"use strict";define("design/views/react/atomic/containers/settings/LanguageContainerStyles",["core/oop","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n){return e.classDef("design.views.react.atomic.containers.settings.LanguageContainerStyles",Object,function(){e.singleton(function(){var e=n.singleton.exports;this.exports=t.create({LanguageContainerButton:{name:"simpleFormButton",width:159,layoutProps:i.new(e.layouts.anchorLeft,{margin:{top:4,bottom:4}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/containers/settings/LanguageContainer",["ui/Localization","ui/StyleSheet","design/views/react/FormButton/FormActionButtonComponent","design/views/react/atomic/forms/FormDropdownInputComponent","design/views/react/atomic/forms/SimpleFormComponent","design/views/react/atomic/containers/settings/LanguageContainerStyles","core/AsyncManager","core/Debug","core/data/ModelFactory","lib/react"],function(o,r,a,s,l,c,d,u,p,h){var g=["English","Español"],f=["en-US","es-419"];return function(u){function m(i){e(this,m);var n=t(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,i));return n.props=i,n.state={isBusy:!0,originalIndex:0,selectedIndex:0},n.displayName="LanguageContainer",n._userModel=p.singleton.create("User","User"),n}return i(m,u),n(m,[{key:"componentDidMount",value:function(){this._asyncManager=d.new(),this._fetchInitialState()}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_fetchInitialState",value:function(){var e=this;f.length,this._asyncManager.runUntilDisposed("fetchInitialState",function(){return e._userModel.preferredUiLanguage.then(function(t){var i=f.indexOf(t),n=Math.max(i,0);e.setState({isBusy:!1,originalIndex:i,selectedIndex:n})})})}},{key:"_updateLanguageState",value:function(e){var t=this;this._asyncManager.runUntilDisposed("updateLanguageState",function(){return t.setState({isBusy:!0}),t._userModel.commitChange({preferredUiLanguage:f[e]}).then(function(){t.setState({isBusy:!1,originalIndex:e})})})}},{key:"_onSelectionChanged",value:function(e){this.setState({selectedIndex:e})}},{key:"render",value:function(){var e=this.state,t=e.originalIndex,i=e.selectedIndex,n=c.singleton.exports;return h.createElement(l,{headerText:o.singleton.getResource("ResLanguage"),footerText:o.singleton.getResource("ResFooterHelpText"),footerLinkText:o.singleton.getResource("ResFooterHelpLinkText")},h.createElement(s,{name:"languageDropdown",labelRes:"ResLanguageViewLabel",dropdownList:g,selectedIndex:i,onChanged:this._onSelectionChanged.bind(this),isEnabled:!0!==this.state.isBusy}),l.row([h.createElement(a,{key:"OkActionButton",name:"OkActionButton",text:o.singleton.getResource("ResOk"),invokeHandler:this._onSubmit.bind(this),style:r.flatten([n.LanguageContainerButton,{isEnabled:i!==t}])}),h.createElement(a,{key:"CancelActionButton",name:"CancelActionButton",text:o.singleton.getResource("ResCancel"),invokeHandler:this._onCancel.bind(this),style:r.flatten([n.LanguageContainerButton,{isEnabled:i!==t}])})]))}},{key:"_onSubmit",value:function(){this._updateLanguageState(this.state.selectedIndex)}},{key:"_onCancel",value:function(){this.setState({selectedIndex:Math.max(this.state.originalIndex,0)})}}]),m}(h.Component)})}(),function(){"use strict";define("design/views/react/atomic/particles/CheckboxParticle",["ui/Localization","design/views/react/ReactPrimitives","platform/common/AccessibilityTrait","lib/react"],function(e,t,i,n){var o=t.View,r=t.Text,a=t.Image;return function(t){var s;s=!0===t.isOn?[n.createElement(a,{key:"onImage",style:t.style.onImage}),n.createElement(r,{key:"text",style:t.style.text},t.onText)]:[n.createElement(a,{key:"offImage",style:t.style.offImage}),n.createElement(r,{key:"text",style:t.style.text},t.offText)];var l=!0===t.isOn?e.singleton.getResource("ResA11yToggleOn"):e.singleton.getResource("ResA11yToggleOff");return n.createElement(o,{style:[t.style.container,{accessibilityTextOverride:l,accessibilityTrait:i.BUTTON,name:t.name}],eventHandlers:{invoked:t.invokeHandler}},s)}})}(),function(){"use strict";define("design/views/react/atomic/forms/FormCheckboxInputComponentStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","design/styles/StyleConstants"],function(e,t,i,n,o){return e.classDef("design.views.react.atomic.components.Checkbox.FormCheckboxInputComponentStyles",Object,function(){e.singleton(function(){var e=o.singleton.exports;this.exports=n.create({text:{name:"checkBoxText",isReadyInit:!0,format:e.textFormats.defaultCheckboxFormat},onImage:{name:"on",width:15,height:15,isReadyInit:!0,uri:e.checkBoxImages.on},offImage:{name:"off",width:15,height:15,isReadyInit:!0,uri:e.checkBoxImages.off},container:{name:"container",isReadyInit:!0,isInvokable:!0,isPointerTarget:!0,layout:i.new({primaryAxis:t.HORIZONTAL,spacing:15})},containerDisabled:{isInvokable:!1,isPointerTarget:!1}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/atomic/forms/FormCheckboxInputComponent",["design/views/react/atomic/particles/CheckboxParticle","design/views/react/atomic/forms/FormCheckboxInputComponentStyles","ui/StyleSheet","lib/react"],function(e,t,i,n){return function(o){var r=t.singleton.exports,a=void 0;!1===o.isEnabled&&(a=r.containerDisabled);var s=i.create({container:i.flatten([r.container,a]),text:r.text,onImage:r.onImage,offImage:r.offImage});return n.createElement(e,{name:o.name,style:s,onText:o.onText,offText:o.offText,isOn:o.isOn,invokeHandler:o.invokeHandler})}})}(),function(){"use strict";define("design/views/react/atomic/containers/settings/NotificationsContainerStyles",["core/oop","ui/StyleSheet","ui/LayoutProps","design/atomic/themes/legacy/particles/TextParticleStyles"],function(e,t,i,n){return e.classDef("design.views.react.atomic.containers.settings.NotificationsContainerStyles",Object,function(){e.singleton(function(){var e=n.singleton.exports.classes;this.exports=t.create({notificationWarning:{name:"notificationWarning",particleClass:e.DesktopLegacyOptionalDescriptorFormat,layoutProps:i.new({margin:{top:4}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/atomic/containers/settings/NotificationsContainer",["ui/Localization","design/views/react/atomic/particles/TextParticle","design/views/react/atomic/forms/FormCheckboxInputComponent","design/views/react/atomic/forms/SimpleFormComponent","design/views/react/atomic/containers/settings/NotificationsContainerStyles","dataservices/authentication/AuthenticationManager","core/AsyncManager","core/Debug","core/data/ModelFactory","lib/react"],function(o,r,a,s,l,c,d,u,p,h){return function(u){function g(i){e(this,g);var n=t(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,i));return c.singleton.isAuthenticated,n.state={isBusy:!0,marketingOptIn:void 0,emailRequired:void 0},n.displayName="NotificationsContainer",n.userModel=p.singleton.create("User","User"),n}return i(g,u),n(g,[{key:"componentDidMount",value:function(){this._asyncManager=d.new(),this._fetchInitialState()}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"componentWillUpdate",value:function(e,t){void 0!==t.viewModel&&this._viewModel!==t.viewModel&&(this._viewModel=t.viewModel,this._fetchEmailAddress(this._viewModel))}},{key:"_fetchInitialState",value:function(){var e=this;this._asyncManager.runUntilDisposed("fetchInitialState",function(){return e.userModel.marketingOptIn.then(function(t){e.setState({marketingOptIn:t,isBusy:!1})})})}},{key:"_fetchEmailAddress",value:function(e){var t=this;this._asyncManager.runUntilDisposed("checkEmailRequired",function(){return e.emailAddress.then(function(e){t.setState({emailRequired:""===e})})})}},{key:"_toggleMarketingOptInState",value:function(){var e=this;this._asyncManager.runUntilDisposed("toggleMarketingOptInState",function(){var t=!e.state.marketingOptIn;return e.setState({isBusy:!0,marketingOptIn:t}),e.userModel.commitChange({marketingOptIn:t}).then(function(){e.setState({isBusy:!1})})})}},{key:"render",value:function(){var e=l.singleton.exports,t=void 0;return!0===this.state.emailRequired&&(t=o.singleton.getResource("ResNotificationsTextNoEmail")),h.createElement(s,{errorText:t,headerText:o.singleton.getResource("ResNotificationViewTitle"),descriptionText:o.singleton.getResource("ResNotificationsText"),footerText:o.singleton.getResource("ResFooterHelpText"),footerLinkText:o.singleton.getResource("ResFooterHelpLinkText")},h.createElement(a,{name:"notificationCheckbox",onText:o.singleton.getResource("ResNotificationsCheckboxText"),offText:o.singleton.getResource("ResNotificationsCheckboxText"),isOn:this.state.marketingOptIn,isEnabled:!1===this.state.emailRequired&&!0!==this.state.isBusy,invokeHandler:this._toggleMarketingOptInState.bind(this)}),h.createElement(r,{class:e.notificationWarning,textRes:"ResNewsletterWarning"}))}}]),g}(h.Component)})}(),function(){"use strict";define("design/views/react/UserProfile/UserProfileStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n,o,r){return e.classDef("design.views.react.UserProfile.UserProfileStyles",Object,function(){e.singleton(function(){var e=r.singleton.exports;this.exports=n.create({form:{container:{layoutProps:o.new(e.layouts.anchorAll,{margin:{bottom:e.form.defaultBottomMargin},minHeight:e.form.defaultMinHeight})}},nonEditableFieldsHost:{name:"nonEditableFieldsHost",layoutProps:e.layouts.anchorAll,layout:i.new({primaryAxis:t.VERTICAL,spacing:30})},editableFieldsHost:{name:"editableFieldsHost",layoutProps:e.layouts.anchorAll,layout:i.new({primaryAxis:t.VERTICAL,spacing:11})},nonEditableButtonsHost:{name:"nonEditableButtonsHost",layoutProps:o.new(e.layouts.anchorAll,{margin:{top:15}}),layout:i.new({primaryAxis:t.HORIZONTAL,spacing:20})},editableButtonsHost:{name:"editableButtonsHost",layoutProps:o.new(e.layouts.anchorAll,{margin:{top:-4}}),layout:i.new({primaryAxis:t.HORIZONTAL,spacing:20})},saveButton:{name:"profileSaveChangesButton",width:159},cancelButton:{name:"profileCancelChangesButton",width:159},editButton:{name:"profileEditButton",width:130}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/FormField/FormFieldStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/LayoutProps","design/ScreenUtil","design/styles/StyleConstants","platform/common/TextFormat"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.react.FormFieldStyles",Object,function(){e.singleton(function(){var e=a.singleton.exports;this.exports=n.create({container:{name:"container",layoutProps:e.layouts.anchorAll,layout:i.new({primaryAxis:t.VERTICAL,spacing:r.singleton.byDesign({mobile:5,desktop:10})})},label:{name:"label",format:e.textFormats.formFieldLabelFormat},inputHost:{name:"inputHost",layoutProps:e.layouts.anchorAll,layout:i.new({primaryAxis:t.HORIZONTAL,spacing:r.singleton.byDesign({mobile:5,desktop:10})})},input:{name:"input",width:338,height:34,padding:{left:10,right:10},layoutProps:o.new({margin:{bottom:10}}),placeholderFormat:e.textFormats.optionalHintFormat,format:e.textFormats.formValueFormat,backgroundColor:e.colors.whiteSmoke},value:{name:"value",format:s.new({font:e.fonts.book,color:e.colors.whiteSmoke,size:12}),layoutProps:o.new({margin:{top:10}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/FormErrorBlock/FormErrorBlockStyles",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","ui/StackedLayout","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n,o,r,a){return e.classDef("design.views.react.FormErrorBlock.FormErrorBlockStyles",Object,function(){e.singleton(function(){var e=a.singleton.exports;this.exports=o.create({block:{name:"block",width:293,backgroundColor:e.colors.crimson,layout:n.new()},text:{name:"text",format:e.textFormats.fieldErrorMessageFormat,height:e.defaultFormButtonHeight,verticalAlignment:i.CENTER,horizontalAlignment:t.LEFT,layoutProps:r.new({margin:{right:15,left:15}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/FormErrorBlock/FormErrorBlockComponent",["design/views/react/ReactPrimitives","design/views/react/FormErrorBlock/FormErrorBlockStyles","lib/react"],function(e,t,i){var n=e.Text,o=e.View;return function(e){var r=t.singleton.exports;return i.createElement(o,{style:r.block},i.createElement(n,{style:r.text},e.message))}})}(),function(){"use strict";define("design/views/react/FormField/FormFieldComponent",["design/views/react/FormField/FormFieldStyles","design/views/react/ReactPrimitives","design/views/react/TextInput/TextInputComponent","design/views/react/FormErrorBlock/FormErrorBlockComponent","lib/react"],function(e,t,i,n,o){var r=t.View,a=t.Text;return function(t){var s=e.singleton.exports,l=void 0;if(!0===t.isEditable){var c=void 0;void 0!==t.error&&(c=o.createElement(n,{message:t.error})),l=o.createElement(r,{style:s.inputHost},o.createElement(i,{style:[s.input,{text:t.value}],eventHandlers:{textChanged:t.changed}}),c)}else l=o.createElement(a,{style:s.value},t.value);var d=void 0;return t.name&&(d={name:t.name}),o.createElement(r,{style:[s.container,d]},o.createElement(a,{style:s.label},t.label),l)}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/UserProfile/UserProfileComponent",["ui/Localization","design/views/react/ReactPrimitives","design/views/react/UserProfile/UserProfileStyles","design/views/react/FormField/FormFieldComponent","design/views/react/Form/FormComponent","design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormButton/FormCancelButtonComponent","lib/react"],function(o,r,a,s,l,c,d,u){var p=r.View;return function(r){function h(i){e(this,h);var n=t(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i));return n.state={username:i.data.username,email:i.data.email,zipCode:i.data.zipCode},n.displayName="UserProfileComponent",n}return i(h,r),n(h,[{key:"componentWillReceiveProps",value:function(e){e.data.username===this.props.data.username&&e.data.email===this.props.data.email&&e.data.zipCode===this.props.data.zipCode&&e.errorText===this.props.errorText||this.setState({username:e.data.username,email:e.data.email,zipCode:e.data.zipCode,marketingOptIn:e.data.marketingOptIn})}},{key:"render",value:function(){var e=this,t=a.singleton.exports,i=o.singleton.getResource.bind(o.singleton),n=void 0,r=void 0,h=void 0,g=void 0,f=void 0;return!0===this.props.isEditable?(h="editableFieldsHost",r=t.editableFieldsHost,f="editableButtonsHost",g=t.editableButtonsHost,n=[u.createElement(c,{key:"saveButton",style:t.saveButton,text:i(this.props.isSaving?"ResSaving":"ResProfileSaveChangesButtonText"),isEnabled:!this.props.isSaving,invokeHandler:function(){return e._onSave()}}),u.createElement(d,{key:"cancelButton",style:t.cancelButton,text:i("ResProfileCancelChangesButtonText"),isEnabled:!this.props.isSaving,invokeHandler:function(){return e._onCancel()}})]):(h="nonEditableFieldsHost",r=t.nonEditableFieldsHost,f="nonEditableButtonsHost",g=t.nonEditableButtonsHost,n=[u.createElement(c,{key:"editButton",style:t.editButton,text:i("ResProfileEditButtonText"),invokeHandler:function(){return e.props.onEdit()}})]),u.createElement(l,{key:"form",style:t.form,header:i("ResProfileViewTitle"),hasFooter:!0,errorText:this.props.errorText},u.createElement(p,{key:h,style:r},u.createElement(s,{key:"username",name:"profileUsernameField",isEditable:this.props.isEditable,label:i("ResProfileUserNameTitle"),value:this.state.username,error:this._getValidationError("username"),changed:function(t){return e.setState({username:t})}}),u.createElement(s,{key:"email",name:"profileEmailField",isEditable:this.props.isEditable,label:i("ResProfileEmailTitle"),value:this.state.email,error:this._getValidationError("email"),changed:function(t){return e.setState({email:t})}}),u.createElement(s,{key:"zipCode",name:"profileZipCodeField",isEditable:this.props.isEditable,label:i("ResProfileZipCodeTitle"),value:this.state.zipCode,error:this._getValidationError("zipCode"),changed:function(t){return e.setState({zipCode:t})}})),u.createElement(p,{key:f,style:g},n))}},{key:"_getValidationError",value:function(e){var t=this.props.validationErrors[e];if(void 0!==t)return o.singleton.getResource(t)}},{key:"_onSave",
value:function(){this.props.onSave({username:this.state.username,email:this.state.email,zipCode:this.state.zipCode,marketingOptIn:this.state.marketingOptIn})}},{key:"_onCancel",value:function(){this.setState({username:this.props.data.username,email:this.props.data.email,zipCode:this.props.data.zipCode,marketingOptIn:this.props.data.marketingOptIn}),this.props.onCancel()}}]),h}(u.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/UserProfile/UserProfileContainer",["core/AsyncManager","lib/Promise","design/views/NavigationBarViewManager","design/views/react/UserProfile/UserProfileComponent","dataservices/authentication/AuthenticationManager","design/views/react/Form/FormHelpers","design/ValidationUtils","lib/lodash/collections/forEach","lib/react"],function(o,r,a,s,l,c,d,u,p){return function(h){function g(i){e(this,g);var n=t(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,i));return n.state={isEditable:!1,data:{username:"",email:"",zipCode:"",marketingOptIn:void 0},isAuthenticated:!1,validationErrors:{},isSavingProfileInfo:!1,errorText:void 0},n.displayName="UserProfileContainer",n._asyncManager=o.new(),n}return i(g,h),n(g,[{key:"componentWillUpdate",value:function(e,t){this._viewModel!==t.viewModel&&(this._viewModel=t.viewModel,this._loadProfileData())}},{key:"render",value:function(){var e=this;return p.createElement(s,{isEditable:this.state.isEditable,data:this.state.data,onSave:function(t){return e._onSave(t)},onCancel:function(){return e._onCancel()},onEdit:function(){return e._onEdit()},validationErrors:this.state.validationErrors,errorText:this.state.errorText,isSaving:this.state.isSavingProfileInfo})}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_loadProfileData",value:function(){var e=this;this._asyncManager.runUntilDisposed("_refreshProfileData",function(){return l.singleton.login().then(function(t){if(!0===t)return r.props({username:e._viewModel.userName,email:e._viewModel.emailAddress,zipCode:e._viewModel.zipCode,marketingOptIn:e._viewModel.marketingOptIn}).then(function(i){e.setState({isAuthenticated:t,data:i})});e.setState({isAuthenticated:t})})})}},{key:"_onEdit",value:function(){!0===this.state.isAuthenticated&&this.setState({isEditable:!0})}},{key:"_onCancel",value:function(){this.setState({isEditable:!1,validationErrors:{}})}},{key:"_onSave",value:function(e){var t={username:{input:"username",validate:d.singleton.validateUserId.bind(d.singleton)},email:{input:"email",validate:function(t){return d.singleton.validateEmailWithOptIn(t,e.marketingOptIn)}},zipCode:{input:"zipCode",validate:d.singleton.validateZipCode.bind(d.singleton)}},i=!0,n={};u(t,function(t,o){var r=e[t.input],a=t.validate(r);n[o]=a,i=i&&void 0===a}),this.setState({validationErrors:n}),!0===i&&this._persistChanges(e)}},{key:"_persistChanges",value:function(e){var t=this;return this.setState({isSavingProfileInfo:!0}),this._asyncManager.runUntilDisposed("_persistChanges",function(){var i={username:"displayName",email:"emailAddress",zipCode:"zipCode"},n={};return u(i,function(t,i){n[t]=e[i]}),t._viewModel.updateUserOptions(n).then(function(){t.setState({isEditable:!1,data:e}),a.singleton.getActiveNavigationBar().refreshItems()}).catch(function(e){c.handleServiceError(t,e)}).finally(function(){t.setState({isSavingProfileInfo:!1})})})}}]),g}(p.Component)})}(),function(){"use strict";define("design/templates/ProfileTemplates",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","design/Screen","design/ScreenUtil","design/TemplateUtil","design/templates/TemplatesModule","design/templates/ViewTemplates","design/templates/TextFormatTemplates","design/templates/FormTemplates","design/templates/ButtonTemplates","design/templates/ColorTemplates","design/templates/LayoutTemplates","design/templates/PasswordChallengeTemplates","design/views/MainSettingsView","design/views/RatingSettingView","design/views/ProfileView","design/views/UpdateParentalControlsView","design/views/PinInputView","design/views/ChangePinView","design/views/react/ChangePin/ChangePinContainer","design/views/ForgotPinView","design/views/ForgotPinConfirmationView","design/views/InheritedParentalControlsView","design/views/ParentalControlsView","design/views/BillingInfoView","design/views/PaymentMethodView","design/views/DirectCommerceContainerView","design/views/SignOutView","design/views/react/ForgotPin/ForgotPinContainer","design/views/react/atomic/containers/settings/DeviceManagementContainer","design/views/react/atomic/containers/settings/LanguageContainer","design/views/react/atomic/containers/settings/NotificationsContainer","design/views/react/UserProfile/UserProfileContainer","ui/views/ReactHostView","ui/Localization","ui/StackedLayout","ui/AnchoredLayout","ui/Axis","ui/views/CompositeView","lib/lodash/objects/merge"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A,k,V,M,D,O,N,F,L,B,H){return e.classDef("design.templates.ProfileTemplates",a,function(a){e.singleton(function(){a.$ctor.apply(this,arguments)}),e.methods({_configure:function(){function e(e,t,i){return{$extend:le.ViewRegistration,order:t,viewModelFactoryId:e,template:{$extend:de.formTitleView,layoutProps:{margin:i||{}},maxLines:void 0}}}function a(e,t,i){return{$extend:le.ViewRegistration,order:t,viewModelFactoryId:e,template:{$extend:de.formInstructionsOptionalDetails,layoutProps:{margin:i||{}},width:be,maxLines:void 0}}}function U(e,t,i){return{$extend:le.ViewRegistration,order:t,attachFromOwner:!0,template:{$type:_,width:ye,$extend:de.formTextInputView,shouldReveal:e,layoutProps:{margin:i}}}}function $(e,t,i){return{$extend:le.ViewRegistration,order:t,viewModelFactoryId:e,attachFromOwner:!0,template:{$extend:de.formInstructionsOptionalDetailsLink,layoutProps:i}}}function W(e,t){return H({$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,viewModelFactoryId:e,template:{$extend:de.formInstructionsSubHeader}},t)}function j(e,t){return{$extend:le.ViewRegistration,order:e,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:de.formErrorMessage,layoutProps:{margin:t}}}}function G(e,t){return{$extend:le.ViewRegistration,viewModelFactoryId:e,template:H({},de.formFieldLabel,t)}}function z(e){return{$extend:le.ViewRegistration,viewModelFactoryId:e,isActiveFromOwner:!0,template:{$extend:de.optionalHighContrastDescriptor,width:de.formLayoutWidth,maxLines:void 0}}}function K(e,t){return{$extend:le.ViewRegistration,getViewModelFromOwner:!0,requireViewModel:!0,isActiveFromOwner:!0,viewModelPropertyPath:e,template:H({layoutProps:{margin:{top:10}}},de.profileStaticFormValue,t)}}function Y(e){return{$extend:le.ViewRegistration,isActiveFromOwner:!0,viewModelFactoryId:e,template:H({layoutProps:{margin:{top:10}}},de.profileStaticFormValue)}}function q(e){return{$extend:le.ViewRegistration,isActiveFromOwner:!0,template:H({$extend:de.formTextInputView},e)}}function Q(){var e=ve(de.showHidePasswordPartial,{width:de.formTextInputView.width,height:de.formTextInputView.height,textFormat:de.formTextInputView.format,enablePlaceholder:!0});return{$extend:le.ViewRegistration,isActiveFromOwner:!0,template:e}}function X(){return{$extend:le.ViewRegistration,isActiveFromOwner:!0,attachFromOwner:!0,useOwnerViewModel:!0,requireViewModel:!0,viewModelPropertyPath:"emailAddress",template:{$extend:ge.PasswordChallengeTemplate,x:0,y:0,width:be,height:n.singleton.getScreenHeight()}}}function J(){return{$extend:le.ViewRegistration,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:le.CompositeView,backgroundColor:me(pe.crimson,.5),layout:{$type:N,primaryAxis:L.HORIZONTAL},layoutProps:{margin:{left:-13}},subViewRegistrations:{$extend:le.ViewRegistrations,error:{$extend:le.ViewRegistration,useOwnerViewModel:!0,template:{$extend:de.fieldErrorMessage,layoutProps:{margin:{right:14,left:14}},horizontalAlignment:t.CENTER,verticalAlignment:i.CENTER}}}}}}function Z(e,t,i,n){var o="active"===e?ue.activeFormButton:"cancel"===e?ue.cancelFormButton:ue.inactiveFormButton;return{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,viewModelFactoryId:t,attachFromOwner:!0,isActiveFromOwner:!0,template:d.singleton.generateTextButton({baseTemplate:o,buttonPartialTemplate:{x:i*we,width:n},labelPartialTemplate:{width:n}})}}function ee(e,t){return H({$extend:le.ViewRegistration,isActiveFromOwner:!0,order:_e.subViewRegistrationOrder++,template:{$extend:e,layoutProps:H({},{anchor:he.anchors.topLeft,margin:{left:de.formLayoutLeftMargin,top:de.formLayoutTopMargin}},e.layoutProps)}},t)}function te(e){return{$extend:le.ViewRegistration,order:e,viewModelFactoryId:"ParentalControlsSettingsWithUnrestrictedNames",attachFromOwner:!0,viewModelPropertyPath:"displayProperties",template:{$extend:le.ItemsView,primaryAxis:L.VERTICAL,secondaryItemSpacing:20,secondaryAxisItemCount:2,canScrollHorizontally:!1,canScrollVertically:!1,width:ye,layoutProps:{margin:{top:-10}},itemTemplateMap:{PCPropertyItem:{$extend:le.CompositeView,layout:{$type:N,primaryAxis:L.VERTICAL,spacing:5},subViewRegistrations:{$extend:le.ViewRegistrations,label:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.label",template:de.formFieldLabel},options:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.options",template:{$extend:le.SelectorView,width:180,height:ce.dropDownOptionFormat.lineHeight,optionFormat:ce.dropDownOptionFormat,arrowImageUri:"/assets/images/dropdowns/desktop/dropdown_arrow_dark.png",borderColor:pe.whiteSmoke,backgroundColor:pe.whiteSmoke,optionHorizontalPadding:20}}}}}}}}function ie(e,t,i){return{$extend:le.ViewRegistration,order:i++,useOwnerViewModel:!0,template:{$extend:le.CompositeView,layout:{$type:N,primaryAxis:L.HORIZONTAL,spacing:20},subViewRegistrations:{$extend:le.ViewRegistrations,headerText:{$extend:le.ViewRegistration,order:i++,viewModelFactoryId:e,template:{$extend:de.formFieldLabel,width:150}},ratingText:{$extend:le.ViewRegistration,order:i++,useOwnerViewModel:!0,requireViewModel:!0,viewModelPropertyPath:t,template:de.profileStaticFormValue}}}}}function ne(e,t,i,n){return c.singleton.generateFormView({viewType:e,titleParams:{subViews:t},bodyBlockParams:{subViews:i,additionalTemplateParams:{layout:{$type:N,primaryAxis:L.VERTICAL,spacing:20}}},buttonParams:{subViews:n,additionalTemplateParams:{layout:{$extend:he.layoutTypes.stackedRowCentered,spacing:40}}},footer:de.helpFooterBlock})}function oe(e,t,i){return H({},{$extend:le.ViewRegistration,template:{$extend:le.CompositeView,forwardOwnershipForSubViews:!0,layout:e,subViewRegistrations:H({$extend:le.ViewRegistrations},t)}},i)}function re(e,t){return oe(he.layoutTypes.stackedColumn,e,t)}function ae(e,t){return oe(he.layoutTypes.stackedRow,e,t)}function se(e){return re({labels:ae(e.labels,H({},{template:{layout:{spacing:20},layoutProps:{margin:{bottom:10}}}},e.labelsContainerProps)),fields:ae(e.fields,H({},{template:{layout:{spacing:20}}},e.fieldsContainerProps)),descriptor:oe(void 0,e.descriptor,H({},{template:{layoutProps:{margin:{top:6}}}},e.descriptorContainerProps))},H({},{template:{layoutProps:{minHeight:63}}},e.containerProps))}var le=s.singleton.exports,ce=l.singleton.exports,de=c.singleton.exports,ue=d.singleton.exports,pe=u.singleton.exports,he=p.singleton.exports,ge=h.singleton.exports,fe=o.singleton,me=u.singleton.withAlpha.bind(u.singleton),ve=r.singleton.complete.bind(r.singleton),_e=this.unregistered,ye=380,we=179,be=n.singleton.getScreenWidth(-362),Se=ne(v,{header:e("ResParentalControlsViewTitle",_e.subViewRegistrationOrder++),pcDescription:a("ResChangePCBodyText",_e.subViewRegistrationOrder++),serviceErrorText:j(_e.subViewRegistrationOrder++)},{priAccountWithSubLabel:W("ResPCPrimaryAccountLabel",{isActiveFromOwner:!0}),priAccountNoSubLabel:W("ResPCPrimaryAccountNoSubLabel",{isActiveFromOwner:!0}),pcSettings:te(_e.subViewRegistrationOrder++),subAccountsBlock:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,useOwnerViewModel:!0,isActiveFromOwner:!0,template:{$extend:le.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:{margin:{top:20}},layout:{$type:N,primaryAxis:L.VERTICAL,spacing:20},subViewRegistrations:{$extend:le.ViewRegistrations,subAccountLabel:W("ResPCSubAccountLabel"),subPcSettings:te(_e.subViewRegistrationOrder++)}}},pcPinInstructions:a("ResPCEnterPinInstructions",_e.subViewRegistrationOrder++,{top:20}),pinInput:U(!1,_e.subViewRegistrationOrder++,{top:-10}),pinLinks:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,useOwnerViewModel:!0,template:{$extend:le.CompositeView,forwardOwnershipForSubViews:!0,width:ye,layout:{$type:F},subViewRegistrations:{$extend:le.ViewRegistrations,changePinLink:$("ResChangePinLink",_e.subViewRegistrationOrder++,{anchor:{left:!0},crop:{left:!0},margin:{top:-15}}),forgotPinLink:$("ResForgotPinLink",_e.subViewRegistrationOrder++,{anchor:{right:!0},crop:{right:!0},margin:{top:-15}})}}}},{activeSubmitButton:c.singleton.generateFormButton("active","ResSaveChanges",_e.subViewRegistrationOrder++,ye),inactiveSubmitButton:c.singleton.generateFormButton("inactive","ResSaveChanges",_e.subViewRegistrationOrder++,ye),inactiveSubmittingButton:c.singleton.generateFormButton("inactive","ResSaving",_e.subViewRegistrationOrder++,ye),updateSettingsConfirmation:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,isActiveFromOwner:!0,viewModelFactoryId:"ResPCUpdatedText",template:{$extend:de.formInstructionsOptionalDetails}},createSettingsConfirmation:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,isActiveFromOwner:!0,viewModelFactoryId:"ResPCEnabledText",template:{$extend:de.formInstructionsOptionalDetails}}}),Ce=ne(v,{header:e("ResParentalControlsViewTitle",_e.subViewRegistrationOrder++),pcDescription:a("ResPCBodyText",_e.subViewRegistrationOrder++),serviceErrorText:j(_e.subViewRegistrationOrder++)},{priAccountWithSubLabel:W("ResPCPrimaryAccountLabel",{isActiveFromOwner:!0}),priAccountNoSubLabel:W("ResPCPrimaryAccountNoSubLabel",{isActiveFromOwner:!0}),pcSettings:te(_e.subViewRegistrationOrder++),subAccountsBlock:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,useOwnerViewModel:!0,isActiveFromOwner:!0,template:{$extend:le.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:N,primaryAxis:L.VERTICAL,spacing:20},subViewRegistrations:{$extend:le.ViewRegistrations,subAccountLabel:W("ResPCSubAccountLabel"),subPcSettings:te(_e.subViewRegistrationOrder++)}}},pcPinInstructions:a("ResPCCreatePinInstructions",_e.subViewRegistrationOrder++),pinInput:U(!0,_e.subViewRegistrationOrder++,{top:-10})},{activeSubmitButton:c.singleton.generateFormButton("active","ResEnableParentalControlsButtonText",_e.subViewRegistrationOrder++,ye),inactiveSubmitButton:c.singleton.generateFormButton("inactive","ResEnableParentalControlsButtonText",_e.subViewRegistrationOrder++,ye),inactiveSubmittingButton:c.singleton.generateFormButton("inactive","ResSaving",_e.subViewRegistrationOrder++,ye)}),Te=c.singleton.generateFormView({viewType:C,titleParams:{subViews:{header:e("ResParentalControlsViewTitle",_e.subViewRegistrationOrder++)}},bodyBlockParams:{subViews:{moviesInfo:ie("ResMovies","primaryRating.movie.name",_e.subViewRegistrationOrder++),TVInfo:ie("ResTV","primaryRating.tv.name",_e.subViewRegistrationOrder++),inheritedPCUri:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,isActiveFromOwner:!0,template:{$extend:le.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:N,primaryAxis:L.VERTICAL,spacing:1},subViewRegistrations:{$extend:le.ViewRegistrations,messageWithLink:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,template:{$extend:le.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:N,primaryAxis:L.HORIZONTAL,spacing:1},subViewRegistrations:{$extend:le.ViewRegistrations,inheritedPCPreLink:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,viewModelFactoryId:"ResInheritedPCPreLink",template:de.formInstructionsOptionalDetails},inheritedPCLink:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:{$extend:le.HyperlinkView,subViewTemplate:{$extend:le.TextView,format:ce.formInstructionsDetailsLinkFormat,maxLines:1}}}}}},inheritedPCPostLink:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,viewModelFactoryId:"ResInheritedPCPostLink",template:{$extend:de.formInstructionsOptionalDetails,maxLines:void 0,width:be}}}}},inheritedPCNoUri:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,viewModelFactoryId:"ResInheritedPCNoLink",isActiveFromOwner:!0,template:{$extend:de.formInstructionsOptionalDetails,maxLines:void 0,width:be}},subAccountMessage:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,viewModelFactoryId:"ResPCSubAccountMessage",isActiveFromOwner:!0,template:{$extend:de.formInstructionsOptionalDetails,maxLines:void 0,width:be}}},additionalTemplateParams:{layout:{$type:N,primaryAxis:L.VERTICAL,spacing:20}}},buttonParams:void 0,footer:de.helpFooterBlock}),Re={$type:y,reactComponentType:w,layoutProps:{anchor:he.anchors.all,minHeight:756,margin:{left:de.formLayoutLeftMargin,top:de.formLayoutTopMargin,bottom:de.formLayoutBottomMargin}},layout:he.layoutTypes.anchored},Pe={$type:b,layoutProps:{anchor:he.anchors.all,minHeight:756,margin:{left:de.formLayoutLeftMargin,top:de.formLayoutTopMargin,bottom:de.formLayoutBottomMargin}},layout:he.layoutTypes.anchored,reactComponentType:x},Ee=function(t,i,n){return c.singleton.generateFormView({viewType:S,titleParams:{subViews:{header:e(t,n),description:a(i,n++)}},bodyBlockParams:{},buttonParams:{subViews:{returnToPCButton:c.singleton.generateFormButton("active","ResReturnToParentalControlButton",n++,ye)}},footer:de.helpFooterBlock})}("ResForgotPinConfirmationTitle","ResForgotPinConfirmationText",_e.subViewRegistrationOrder++);_e.ProfileView=fe.byDesignCall({mobile:function(){return{$type:m}},daydream:function(){return{$type:m,isEditable:!1}},desktop:function(){return o.singleton.byBrand({hbogo:{$type:D,x:de.formLayoutLeftMargin,y:de.formLayoutTopMargin,layoutProps:{anchor:he.anchors.all,margin:{left:de.formLayoutLeftMargin,top:de.formLayoutTopMargin,bottom:de.formLayoutBottomMargin}},width:be,height:n.singleton.getScreenHeight(),layout:he.layoutTypes.anchored,reactComponentType:M},hbonow:c.singleton.generateFormView({viewType:m,titleParams:{subViews:{profileViewHeader:e("ResProfileViewTitle",_e.subViewRegistrationOrder++),serviceErrorText:j(_e.subViewRegistrationOrder++)}},bodyBlockParams:{subViews:o.singleton.byBrand({hbonow:{profileNameContainer:se({labels:{profileFirstNameTitle:G("ResProfileFirstNameTitle",{width:159}),profileLastNameTitle:G("ResProfileLastNameTitle")},fields:{profileFirstNameDisplay:K("firstName",{width:159}),profileFirstNameInput:q({width:159}),profileLastNameDisplay:K("lastName",{width:159}),profileLastNameInput:q({width:159}),profileFirstOrLastNameError:J()}}),profileEmailContainer:se({labels:{profileEmailTitle:G("ResProfileEmailTitle")},fields:{profileEmailDisplay:K("emailAddress"),profileEmailInput:q(),profileEmailError:J()}}),profilePasswordContainer:se({labels:{profilePasswordTitle:G("ResProfilePasswordTitle")},fields:{profilePasswordDisplay:Y("ResPasswordPlaceholder"),profilePasswordInputComposite:Q(),profilePasswordError:J()},descriptor:{profilePasswordDescriptor:z("ResProfilePasswordDescriptor")},containerProps:{isActiveFromOwner:!0}}),profileZipCodeContainer:se({labels:{profileZipCodeTitle:G("ResProfileZipCodeTitle")},fields:{profileZipCodeDisplay:K("zipCode"),profileZipCodeInput:q(),profileZipCodeError:J()}}),profilePhoneNumberContainer:se({labels:{profilePhoneNumberTitle:G("ResProfilePhoneNumberTitle")},fields:{profilePhoneNumberDisplay:K("phoneNumber"),profilePhoneNumberInput:q(),profilePhoneNumberError:J()},containerProps:{isActiveFromOwner:!0}})}}),additionalTemplateParams:{layout:{$extend:he.layoutTypes.stacked,spacing:15}}},buttonParams:{subViews:{profileEditButton:Z("active","ResProfileEditButtonText",0,130),profileSaveChangesButton:Z("active","ResProfileSaveChangesButtonText",0,159),profileSavingChangesButton:Z("inactive","ResSaving",0,159),profileCancelChangesButton:Z("cancel","ResProfileCancelChangesButtonText",1,159)}},footer:de.helpFooterBlock,overlay:o.singleton.byBrand({hbonow:X()})})})}}),_e.ProfileUnavailableErrorView=fe.byDesignCall({desktop:function(){return c.singleton.generateFormView({viewType:B,titleParams:{subViews:{title:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.title",template:de.formTitleView},message:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.message",template:de.formInstructionsOptionalDetails}}},bodyBlockParams:void 0,buttonParams:void 0,footer:de.helpFooterBlock})}}),o.singleton.byDesignCall({mobile:function(){_e.MainSettingsView={$type:g},_e.ParentalControlsSettingsView={$type:g,enableChangePIN:!0},_e.RatingSettingView={$type:f}}}),_e.submitButton=Z("active","ResSubmit",0,130);var Ie=function(e,t){return H({$extend:le.ReactHostView,reactComponentType:e,x:de.formLayoutLeftMargin,y:de.formLayoutTopMargin},t)};_e.DeviceManagementContainer=Ie(A,{height:n.singleton.getScreenHeight(-60)}),_e.LanguageContainer=Ie(k),_e.NotificationsContainer=Ie(V),_e.SignOutView={$type:I,subViewRegistrations:{$extend:le.ViewRegistrations}};var xe=n.singleton.getScreenWidth(-(312+de.formLayoutLeftMargin)),Ae=function(e){return{$extend:le.ViewRegistration,name:e.viewRegName,isActiveFromOwner:!0,template:{$extend:le.CompositeView,width:206,height:30,layout:he.layoutTypes.anchored,subViewRegistrations:{$extend:le.ViewRegistrations,label:{$extend:le.ViewRegistration,viewModelFactoryId:e.labelResourceId,template:{$extend:le.TextView,isReadyInit:!0,layoutProps:he.layouts.anchorLeft,format:ce.billingInformationMessageStrongFormat}},image:{$extend:le.ViewRegistration,template:{$extend:le.ImageView,isReadyInit:!0,isPointerTarget:e.imagePointerTarget,width:57,height:30,layoutProps:he.layouts.anchorRight,uri:e.imageUri}}}}}};_e.BillingInfoView=c.singleton.generateFormView({viewType:R,titleParams:{additionalTemplateParams:{layoutProps:{minHeight:120}},subViews:{header:e("ResBillingInfoTitle",_e.subViewRegistrationOrder++),serviceErrorText:j(_e.subViewRegistrationOrder++),billingInformationMessage:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:{$extend:le.MarkdownTextView,maxLines:void 0,width:xe,format:ce.billingInformationMessageFormat,markdownUriFormat:ce.billingInformationMessageLinkFormat,markdownUriHoverFormat:ce.billingInformationMessageLinkHoverFormat,markdownMap:{strong:{format:ce.billingInformationMessageStrongFormat},strongDate:{format:ce.billingInformationMessageStrongFormat,date:O.DateFormat.MONTH_DAY_YEAR_LONG}}}}}},buttonParams:{additionalTemplateParams:{layout:{$extend:he.layoutTypes.stackedRowCentered,spacing:40}},subViews:{renewSubscriptionButton:c.singleton.generateFormButton("active","ResRenewSubscriptionButtonLabel",_e.subViewRegistrationOrder++,224),appStoreLinkButton:c.singleton.generateFormButton("active",void 0,_e.subViewRegistrationOrder++,de.formLayoutWidth),restartSubscriptionToggle:{$extend:le.ViewRegistration,isActiveFromOwner:!0,attachFromOwner:!0,getViewModelFromOwner:!0,order:_e.subViewRegistrationOrder++,template:{$extend:le.ToggleView,isInvokable:!0,onAccessibilityResource:"ResRestartSubscriptionOnLabel",offAccessibilityResource:"ResRestartSubscriptionOffLabel",subViewRegistrations:{$extend:le.ViewRegistrations,on:Ae({viewRegName:"on",labelResourceId:"ResRestartSubscriptionOnLabel",imageUri:"/assets/images/form/switch/desktop/btn_switch_on.png",imagePointerTarget:!0}),off:Ae({viewRegName:"off",labelResourceId:"ResRestartSubscriptionOffLabel",imageUri:"/assets/images/form/switch/desktop/btn_switch_off.png",imagePointerTarget:!0})}}},pendingToggleOn:Ae({viewRegName:"pendingToggleOn",labelResourceId:"ResRestartSubscriptionPendingLabel",imageUri:"/assets/images/form/switch/desktop/btn_switch_on_pending.png",imagePointerTarget:!1}),pendingToggleOff:Ae({viewRegName:"pendingToggleOff",labelResourceId:"ResRestartSubscriptionPendingLabel",imageUri:"/assets/images/form/switch/desktop/btn_switch_off_pending.png",imagePointerTarget:!1})}},footer:de.helpFooterBlock}),_e.ParentalControlsView={$type:T,$extend:le.CompositeView,width:n.singleton.getScreenWidth(-312),height:n.singleton.getScreenHeight(),layout:he.layoutTypes.anchored,updateFocusOnPointerDown:!0,subViewRegistrations:{$extend:le.ViewRegistrations,pinEnabled:ee(Se,{useOwnerViewModel:!0,attachFromOwner:!0}),createPin:ee(Ce,{useOwnerViewModel:!0,attachFromOwner:!0}),inheritedPC:ee(Te,{useOwnerViewModel:!0}),changePin:ee(Re,{attachFromOwner:!0}),forgotPin:ee(Pe,{useOwnerViewModel:!0,attachFromOwner:!0}),forgotPinConfirmation:ee(Ee,{attachFromOwner:!0})}},_e.PaymentMethodView={$extend:c.singleton.generateFormView({viewType:P,containerLayout:he.layoutTypes.anchored,formLayout:he.layoutTypes.anchored,formLayoutProps:he.layouts.anchorAll,titleParams:{partialBlockReg:{order:_e.subViewRegistrationOrder++},additionalTemplateParams:{layoutProps:he.layouts.anchorFillTopCropTop},subViews:{profileViewHeader:{$extend:e("ResPaymentMethodTitle",_e.subViewRegistrationOrder++)},paymentInformationMessage:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,attachFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:le.MarkdownTextView,format:ce.billingInformationMessageFormat,maxLines:void 0,markdownMap:{strong:{format:ce.billingInformationMessageStrongFormat},strongDate:{format:ce.billingInformationMessageStrongFormat,date:O.DateFormat.MONTH_DAY_YEAR_SHORT}}}},messagesContainer:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,template:{$extend:le.CompositeView,forwardOwnershipForSubViews:!0,height:30,layoutProps:{margin:{top:15,bottom:10}},subViewRegistrations:{$extend:le.ViewRegistrations,errorMessage:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:le.TextView,format:ce.formProfileErrorMessageFormat,maxLines:2,width:be}},successMessage:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:de.formInstructionsOptionalDetails}}}}}},bodyBlockViewRegistration:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,attachFromOwner:!0,template:{$extend:le.CompositeView,width:650,height:0,forwardOwnershipForSubViews:!0,containerViewRegistration:{$extend:le.ViewRegistration,name:"scrollContainer",template:{$extend:le.ScrollView,isReadyInit:!0,height:0,showScrollbar:!0,canScrollVertically:!0}},subViewRegistrations:{$extend:le.ViewRegistrations,directCommerceContainer:{$extend:le.ViewRegistration,order:_e.subViewRegistrationOrder++,attachFromOwner:!0,template:{$type:E,isReadyInit:!0,width:650,height:600}}}}},buttonParams:{partialBlockReg:{order:_e.subViewRegistrationOrder++,isActiveFromOwner:!0},additionalTemplateParams:{layoutProps:he.layouts.anchorTopLeftCropTop},subViews:{editPaymentMethodButton:c.singleton.generateFormButton("active","ResEditPaymentMethod",_e.subViewRegistrationOrder++,224)}},footer:{$extend:de.helpFooterBlock,layer:"content",isActiveFromOwner:!0,order:_e.subViewRegistrationOrder++,template:{$extend:de.helpFooterBlock.template,layoutProps:{$extend:he.layouts.anchorTopLeft,margin:{top:40}}}}}),width:xe,height:n.singleton.getScreenHeight(-de.formLayoutTopMargin)}}})})})}(),function(){"use strict";define("design/templates/LoginRequiredViewTemplates",["core/oop","core/HorizontalAlignment","design/Screen","design/ScreenUtil","design/templates/TemplatesModule","design/templates/ViewTemplates","design/templates/ButtonTemplates","design/templates/LayoutTemplates","design/templates/ColorTemplates","design/templates/TextFormatTemplates","platform/dependent/graphics/Viewport"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.templates.LoginRequiredViewTemplates",o,function(o){e.singleton(function(){o.$ctor.apply(this,arguments)}),e.methods({_configure:function(){if(void 0!==n.singleton.byDesign({mobile:!0})){var e=r.singleton.exports,o=l.singleton.exports,u=c.singleton.exports,p=n.singleton,h=s.singleton.exports.layoutTypes,g=function(){var e=p.byScreen({phone:12,default:0});return d.singleton.reservedMargins.top+e},f=this.unregistered,m=n.dpiAwareImageUri(p.byBrand({hbogo:"/assets/images/branding/mobile/hbogologo_large",hbonow:"/assets/images/branding/mobile/hbonowlogo_large"}),"png"),v=p.byScreen({tablet:e.mobileDialogMetrics.logoWidth,phone:e.logoSize.width}),_=p.byScreen({tablet:e.mobileDialogMetrics.logoHeight,phone:e.logoSize.height});f.LoginRequiredTemplate={$extend:e.CompositeView,forwardOwnershipForSubViews:!0,width:e.mobileDialogMetrics.dialogWidth,height:p.byScreen({tablet:450,phone:i.singleton.getScreenHeight()}),x:e.mobileDialogMetrics.dialogX,y:e.mobileDialogMetrics.dialogY,backgroundColor:o.overlayBackground,layout:{$extend:h.stackedColumnCentered,spacing:10},subViewRegistrations:{$extend:e.ViewRegistrations,logo:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,template:{$extend:e.ImageView,uri:m,width:v,height:_,layoutProps:{margin:{top:g,left:0}}}},prompt:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,viewModelFactoryId:"ResVideoRequiresSignIn",template:{$extend:e.TextView,width:e.mobileDialogMetrics.buttonsWidth,horizontalAlignment:t.LEFT,layoutProps:{margin:{top:20,left:0}},format:u.signInBodyFormat,maxLines:void 0}},ok:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,attachFromOwner:!0,viewModelFactoryId:"ResSignIn",template:a.singleton.generateTextButton({baseTemplate:a.singleton.exports.activeFormButton,buttonPartialTemplate:{width:e.mobileDialogMetrics.buttonsWidth,layoutProps:{margin:{top:10,left:0}}},labelPartialTemplate:{width:e.mobileDialogMetrics.buttonsWidth}})},cancel:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,attachFromOwner:!0,viewModelFactoryId:"ResBrowseBrand",template:a.singleton.generateTextButton({baseTemplate:a.singleton.exports.browseHBOButton,buttonPartialTemplate:{width:e.mobileDialogMetrics.buttonsWidth,layoutProps:{margin:{left:0}}},labelPartialTemplate:{width:e.mobileDialogMetrics.buttonsWidth}})},noHBO:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,viewModelFactoryId:p.byBrand({hbogo:"ResDontHaveHbo",hbonow:"ResDontHaveHboNow"}),template:{$extend:e.TextView,width:e.mobileDialogMetrics.buttonsWidth,horizontalAlignment:t.LEFT,format:u.signInHeadingFormat,layoutProps:{margin:{top:30,left:0}},maxLines:void 0}},orderHBO:p.byBrand({hbogo:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,viewModelFactoryId:"ResNoAccountBody",template:{$extend:e.TextView,width:e.mobileDialogMetrics.buttonsWidth,horizontalAlignment:t.LEFT,layoutProps:{margin:{top:10,left:0}},format:u.signInBodyFormat,maxLines:void 0}},hbonow:p.byDesign({daydream:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,
viewModelFactoryId:"ResDownloadTheApp",template:{$extend:e.MarkdownTextView,width:e.mobileDialogMetrics.buttonsWidth,horizontalAlignment:t.LEFT,layoutProps:{margin:{top:10,left:0}},format:u.signInBodyFormat,maxLines:void 0,markdownMap:{appStoreUri:{format:u.signInHyperlinkFormat,uri:p.byDesign({android:"market://details?id=com.hbo.hbonow"})}}}},mobile:void 0,desktop:void 0})}),postDownloadInstructions:p.byDesign({daydream:p.byBrand({hbonow:{$extend:e.ViewRegistration,order:f.subViewRegistrationOrder++,viewModelFactoryId:"ResPostDownloadInstructions",template:{$extend:e.TextView,format:u.signInBodyFormat,maxLines:void 0,width:e.mobileDialogMetrics.buttonsWidth,horizontalAlignment:t.LEFT,layoutProps:{margin:{top:20,left:0}}}}})})}}}}})})})}(),function(){"use strict";define("design/views/DirectLoginView",["core/oop","dataservices/ServiceException","design/CommerceFlow","design/NavigationRouter","design/ScreenUtil","design/ValidationUtils","design/views/PopupView","ui/input/InputManager","ui/navigation/Navigator","ui/Presence","ui/ViewStates","ui/views/CompositeView","ui/ViewModelFactory","platform/common/TextInputMode","ui/Localization","ui/viewModelProviders/ViewModelProvider","platform/input/Buttons","design/CommerceWorkflow"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("design.views.DirectLoginView",u,function(u){e.constructor(function(){u.$ctor.apply(this,arguments),o.singleton.byScreenCall({phone:function(){this._signinWithProviderUri="/affiliateList"}.bind(this)}),this.hookUntilDisposed(s.singleton,"focusChanged",this._handleFocusChanged.bind(this))}),e.properties({_serviceErrorText:{defaultValue:void 0,onChange:function(){this._ensureSubViewsReady()}},_emailText:{get:function(){return this.find("emailInput").text.trim()}},_passwordText:{get:function(){return this.find("passwordInput").text}},_isEmailFocused:{defaultValue:!1},_isPasswordFocused:{defaultValue:!1},_emailErrorText:{defaultValue:void 0},_passwordErrorText:{defaultValue:void 0},_showEmailValidation:{defaultValue:!1},_showPasswordValidation:{defaultValue:!1},_toggleViewModel:void 0,suppressNavigation:{defaultValue:!1},_signinWithProviderUri:{defaultValue:"/affiliateSelection"},_showHideButton:void 0,linkAccounts:{defaultValue:!1},commerceFlow:void 0}),e.methods({_handleFocusChanged:function(e,t){var i=this.find("emailInput");r.singleton.runValidationIfFocusGained(i,e,t,this._onEmailGotFocus.bind(this)),r.singleton.runValidationIfFocusLost(i,e,t,this._onEmailLostFocus.bind(this));var n=this.find("passwordInput");r.singleton.runValidationIfFocusGained(n,e,t,this._onPasswordGotFocus.bind(this)),r.singleton.runValidationIfFocusLost(n,e,t,this._onPasswordLostFocus.bind(this))},_onPresenceChanged:function(e,t){u._onPresenceChanged.call(this,e,t),e===c.ENTERING&&!0===o.singleton.byDesign({desktop:!0})&&this.find("emailInput").focus()},_getViewModelEmailErrorText:function(){return this._convertTextToViewModel(this._emailErrorText)},_getViewModelPasswordErrorText:function(){return this._convertTextToViewModel(this._passwordErrorText)},_getViewModelServiceErrorText:function(){return this._convertTextToViewModel(this._serviceErrorText)},_getViewModelSignInButton:function(){switch(this.commerceFlow){case i.GIFTCARD:case i.PROMOTION:return this._convertTextToViewModel(g.singleton.getResource("ResSignInAndRedeemButtonText").toUpperCase());default:return p.singleton.create("ResSignIn")}},_getViewModelTitle:function(){return void 0!==this.commerceFlow?this._convertTextToViewModel(v.singleton.signInDetails.title):p.singleton.create("ResSignIn")},_getViewModelSignInInstructions:function(){if(void 0!==this.commerceFlow){var e=v.singleton.signInDetails.description;if(this.commerceFlow===i.GIFTCARD){var t={};t["{{balanceAmount}}"]=v.singleton.giftCardDetails.giftCardAmount,e=f.substituteImmediate(e,t)}return this._convertTextToViewModel(e)}return p.singleton.create("ResSignInInstructions")},_getViewModelEmailLabel:function(){return p.singleton.create("ResEmailAddress")},_getViewModelStepIndicator:function(){return p.singleton.create("ResCommerceStepOneOfTwo")},_isActiveStepIndicator:function(){return this.commerceFlow===i.PROMOTION||this.commerceFlow===i.PURCHASE},_isActiveProviderButtonContainer:function(){return!0!==this.linkAccounts&&void 0===this.commerceFlow},_isActiveServiceErrorText:function(){return void 0!==this._serviceErrorText},_isActiveEmailErrorText:function(){return this._showEmailValidation&&void 0!==this._emailErrorText},_isActivePasswordErrorText:function(){return this._showPasswordValidation&&void 0!==this._passwordErrorText},_isActivePasswordFocusBox:function(){return this._isPasswordFocused},_isActiveEmailErrorIndicator:function(){return this._isActiveEmailErrorText()&&!1===this._isEmailFocused},_isActivePasswordErrorIndicator:function(){return this._isActivePasswordErrorText()&&!1===this._isPasswordFocused},_attachSignInButton:function(e){this.hookUntilDisposed(e,"invoked",this._signInButtonInvoked.bind(this)),this._validate()},_attachSignInProviderButton:function(e){this.hookUntilDisposed(e,"invoked",this._signInProviderButtonInvoked.bind(this))},_attachEmailInput:function(e){this.hookUntilDisposed(e,"textChanged",this._validate.bind(this)),this.hookUntilDisposed(e,"buttonReleased",this._onTextInputButtonPressed.bind(this))},_attachPasswordInput:function(e){this.hookUntilDisposed(e,"textChanged",this._passwordInputTextChanged.bind(this)),this.hookUntilDisposed(e,"buttonReleased",this._onTextInputButtonPressed.bind(this))},_passwordInputTextChanged:function(){this._showHideButton.isEnabled=""!==this._passwordText,this._showHideButton.isPointerHittable=""!==this._passwordText,this._validate()},_onTextInputButtonPressed:function(e){e.button===m.OK?this._signInButtonInvoked():e.button===m.ESCAPE&&this._tryClosePopup()},_attachShowHideButton:function(e){this.hookUntilDisposed(e,"toggled",this._showHideButtonInvoked.bind(this)),this._showHideButton=e,this._showHideButton.isEnabled=!0,this._showHideButton.isPointerHittable=!1},_onSubViewsReady:function(){u._onSubViewsReady.apply(this,arguments),this.find("showHideButton").isEnabled=""!==this._passwordText},_attachSignInProviderLink:function(e){this.hookUntilDisposed(e,"invoked",this._navigateToSignInWithProviderUri.bind(this))},_getViewModelShowHideButton:function(){return void 0===this._toggleViewModel&&(this._toggleViewModel=p.singleton.create("TemporaryShowHidePasswordSetting"),this._toggleViewModel.set(!1)),this._toggleViewModel},_tryClosePopup:function(){this.visitUp(function(e){e instanceof a&&e.close()})},_onEmailGotFocus:function(){this._isEmailFocused=!0,this._validate()},_onEmailLostFocus:function(){this._isEmailFocused=!1,this._showEmailValidation=""!==this._emailText,this._validate()},_onPasswordGotFocus:function(){this._isPasswordFocused=!0,this._validate()},_onPasswordLostFocus:function(){this._isPasswordFocused=!1,this._showPasswordValidation=""!==this._passwordText,this._validate()},_onPointerUp:function(e){u._onPointerUp.apply(this,arguments);var t=this.find("signInButton");t!==e.target&&t!==e.target.parent||(this._showPasswordValidation=!0,this._showEmailValidation=!0,this._validate())},_validate:function(){var e=!0;this._emailErrorText=void 0,this._passwordErrorText=void 0,this._serviceErrorText=void 0;var t=r.singleton.validateEmail(this._emailText);void 0!==t&&(this._emailErrorText=g.singleton.getResource(t),e=!1);var i=r.singleton.validatePasswordLength(this._passwordText);return void 0!==i&&(this._passwordErrorText=g.singleton.getResource(i),e=!1),this.find("signInButton").setViewStateFlag(d.DISABLED,!1===e),this._ensureSubViewsReady(),!0===e},_signInButtonInvoked:function(){var e=this;this._showEmailValidation=!0,this._showPasswordValidation=!0,!0===this._validate()&&(this.find("signInButton").setViewStateFlag(d.DISABLED,!0),this.runUntilDisposed("signIn",function(){var t;if(void 0!==e.commerceFlow)v.singleton.startAuthentication(),t="/processauthentication";else if(!0===e.suppressNavigation){var i=l.singleton.getActiveViewHost();t="ExceptionInfo"===i.breadcrumb.locationName?"/":"#"}return n.singleton.handleDirectLogin(e._emailText,e._passwordText,t).catch(e._handleServiceError.bind(e))}))},_signInProviderButtonInvoked:function(){this._navigateToSignInWithProviderUri()},_navigateToSignInWithProviderUri:function(){n.singleton.navigateToUri(this._signinWithProviderUri,{replace:!1})},_handleServiceError:function(e){if(!(e instanceof t&&!0===e.shouldDisplayMessage&&void 0!==e.displayMessage))throw e;void 0!==this.commerceFlow&&v.singleton.processAuthenticationError(e.displayMessage),this._validate(),this._serviceErrorText=e.displayMessage},_showHideButtonInvoked:function(){this.find("passwordInput").mode=!0===this._showHideButton.isOn?h.DEFAULT:h.PASSWORD}})})})}(),function(){"use strict";define("design/templates/DirectLoginTemplates",["core/oop","core/HorizontalAlignment","platform/common/TextInputMode","design/templates/TemplatesModule","design/templates/ButtonTemplates","design/templates/ColorTemplates","design/templates/FormTemplates","design/templates/LayoutTemplates","design/templates/TextFormatTemplates","design/templates/ViewTemplates","design/views/DirectLoginView","design/TemplateUtil"],function(e,t,i,n,o,r,a,s,l,c,d,u){return e.classDef("design.templates.DirectLoginTemplates",n,function(n){e.singleton(function(){n.$ctor.apply(this,arguments)}),e.methods({_configure:function(){function e(){return _++}var n=r.singleton.exports,p=c.singleton.exports,h=s.singleton.exports,g=a.singleton.exports,f=o.singleton.exports,m=l.singleton.exports,v=u.singleton.complete.bind(u.singleton),_=0,y=g.formTextInputView.width,w=g.formLayoutWidth,b=t.LEFT,S=w-0,C={$extend:p.ViewRegistration,order:e(),isActiveFromOwner:!0,$viewModelFactoryId:function(e){return e.viewModelFactoryId},template:{$extend:o.singleton.generateTextButton({baseTemplate:f.showHideButton,labelPartialTemplate:{width:41}}),inheritedViewStateNames:["hovered","pressed","disabled"],width:41}},T={$extend:p.CompositeView,layout:h.layoutTypes.anchored,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{left:0,right:0,top:8}},height:g.formTextInputView.height,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:p.ViewRegistrations,emailInput:{$extend:p.ViewRegistration,order:e(),attachFromOwner:!0,isDefaultFocus:!0,template:{$extend:g.formTextInputView,layoutProps:h.layouts.anchorAll}}}},R={$extend:p.CompositeView,layout:h.layoutTypes.anchored,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{left:0,right:0,top:7}},height:g.formTextInputView.height,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:p.ViewRegistrations,passwordInput:{$extend:p.ViewRegistration,order:e(),attachFromOwner:!0,template:{$extend:g.formTextInputView,mode:i.PASSWORD,layoutProps:h.layouts.anchorLeft,width:242,borderColor:n.whiteSmoke,backgroundColor:n.whiteSmoke}},showHideButtonContainer:{$extend:p.ViewRegistration,order:e(),template:{$extend:p.CompositeView,forwardOwnershipForSubViews:!0,layout:h.layoutTypes.anchored,layoutProps:h.layouts.anchorRight,height:g.formTextInputView.height,width:59,backgroundColor:n.whiteSmoke,subViewRegistrations:{$extend:p.ViewRegistrations,showHideButton:{$extend:p.ViewRegistration,order:e(),attachFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:p.ToggleView,isInvokable:!0,isPointerTarget:!0,backgroundColor:n.whiteSmoke,width:41,height:g.formTextInputView.height,subViewRegistrations:{$extend:p.ViewRegistrations,off:v(C,{viewModelFactoryId:"ResShow"}),on:v(C,{viewModelFactoryId:"ResHide"})}}}}}},passwordFocusBox:{$extend:p.ViewRegistration,order:e(),isActiveFromOwner:!0,template:{$extend:p.CompositeView,layout:h.layoutTypes.anchored,layoutProps:h.layouts.anchorAll,isPointerHittable:!1,subViewRegistrations:{$extend:p.ViewRegistrations,outlineDecorator:{$extend:p.ViewRegistration,order:e(),template:{$extend:p.PlaceholderView,borderThickness:2,borderColor:n.ceruleanBlue,layoutProps:h.layouts.anchorAll}}}}}}},P={$extend:p.CompositeView,layout:h.layoutTypes.anchored,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{left:0,right:0,top:4}},backgroundColor:n.crimson,subViewRegistrations:{$extend:p.ViewRegistrations,errorText:{$extend:p.ViewRegistration,order:e(),useOwnerViewModel:!0,template:{$extend:g.activationClientFieldErrorMessage,width:S,height:12,layoutProps:{$extend:h.layouts.anchorLeft,margin:{left:15,top:10,bottom:10}}}}}};this.unregistered.DirectLoginView={$type:d,layout:h.layoutTypes.anchored,width:w,subViewRegistrations:{$extend:p.ViewRegistrations,stepIndicator:{$extend:p.ViewRegistration,order:e(),isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:p.TextView,horizontalAlignment:b,maxLines:void 0,format:m.formSteppingFormat,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{top:10,bottom:5}}}},title:{$extend:p.ViewRegistration,order:e(),getViewModelFromOwner:!0,template:{$extend:g.formTitleView,horizontalAlignment:b,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{top:10,bottom:10}}}},signInInstructions:{$extend:p.ViewRegistration,order:e(),getViewModelFromOwner:!0,template:{$extend:p.MarkdownTextView,format:m.formInstructionsDetailsFormat,maxLines:void 0,markdownMap:{},markdownUriFormat:m.formInstructionsDetailsLinkFormat,markdownUriNavigateToUriReplace:!0,horizontalAlignment:b,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{bottom:30}}}},serviceErrorText:{$extend:p.ViewRegistration,order:e(),isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:g.signinFormErrorMessage,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{left:0,right:0,bottom:7}}}},emailLabel:{$extend:p.ViewRegistration,order:e(),getViewModelFromOwner:!0,template:{$extend:g.formFieldLabel,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{left:0}}}},emailEntryBox:{$extend:p.ViewRegistration,order:e(),isDefaultFocus:!0,template:T},emailErrorText:{$extend:p.ViewRegistration,order:e(),getViewModelFromOwner:!0,isActiveFromOwner:!0,template:P},passwordLabel:{$extend:p.ViewRegistration,order:e(),viewModelFactoryId:"ResPassword",template:{$extend:g.formFieldLabel,layoutProps:{$extend:h.layouts.anchorTopLeft,margin:{left:0,top:20}}}},forgotPasswordLink:{$extend:p.ViewRegistration,order:e(),viewModelFactoryId:"ForgotPasswordLink",template:{$extend:p.HyperlinkView,layoutProps:{$extend:h.layouts.anchorTopRightCropTop,margin:{right:0,top:20}},subViewTemplate:{$extend:p.TextView,format:m.smallHyperlinkFormat,isInvokable:!0,isPointerTarget:!0}}},passwordArea:{$extend:p.ViewRegistration,order:e(),useOwnerViewModel:!0,template:R},passwordErrorText:{$extend:p.ViewRegistration,order:e(),getViewModelFromOwner:!0,isActiveFromOwner:!0,template:P},signInButton:{$extend:p.ViewRegistration,order:e(),attachFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:o.singleton.generateTextButton({baseTemplate:f.activeFormButton,buttonPartialTemplate:{width:y,backgroundColor:n.mineShaftGray},labelPartialTemplate:{width:y},backgroundMapping:{initial:n.ceruleanBlue,hovered:n.ceruleanBlue,pressed:n.ceruleanBlue,disabled:n.mineShaftGray},formatMapping:{initial:m.directLoginFormActiveButtonFormat,hovered:m.directLoginFormActiveButtonFormat,disabled:m.directLoginFormInactiveButtonFormat}}),clipToBounds:!0,borderRadius:2,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{top:32}},width:void 0,height:void 0}},providerButtonContainer:{$extend:p.ViewRegistration,order:e,isActiveFromOwner:!0,template:{$extend:p.CompositeView,forwardOwnershipForSubViews:!0,layout:h.layoutTypes.anchored,layoutProps:h.layouts.anchorFillTopCropTop,width:y,subViewRegistrations:{$extend:p.ViewRegistrations,fancyDivider:{$extend:p.ViewRegistration,layer:"content",order:e(),template:{$extend:p.View,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{top:32}},height:1,backgroundColor:n.mineShaftGray,isReadyInit:!0}},signInProviderInstructions:{$extend:p.ViewRegistration,order:e(),viewModelFactoryId:"ResSignInWithProviderInsructions",template:{$extend:p.MarkdownTextView,layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{top:32}},maxLines:2,format:m.directLoginFormInstructionsDetailsLargeFormat,markdownMap:{bold:{format:m.directLoginFormInstructionsHeaderFormat}}}},signInProviderButton:{$extend:p.ViewRegistration,layer:"content",order:e(),attachFromOwner:!0,viewModelFactoryId:"ResRegisterViaOtherProvider",template:{$extend:o.singleton.generateTextButton({baseTemplate:f.activeFormButton,buttonPartialTemplate:{width:y,backgroundColor:n.mineShaftGray},labelPartialTemplate:{width:y},backgroundMapping:{initial:n.darkBlue,hovered:n.darkBlue,pressed:n.darkBlue,disabled:n.mineShaftGray},formatMapping:{initial:m.directLoginFormActiveButtonFormat,hovered:m.directLoginFormActiveButtonFormat,disabled:m.directLoginFormInactiveButtonFormat}}),layoutProps:{$extend:h.layouts.anchorFillTopCropTop,margin:{left:0,right:0,top:16}}}}}}}}}}})})})}(),function(){"use strict";define("design/views/ConfirmationDialogView",["core/oop","design/views/PopupView"],function(e,t){return e.classDef("design.views.ConfirmationDialogView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.events(["confirmed"]),e.methods({_attachOk:function(e){this.hookUntilDisposed(e,"invoked",this._okInvoked.bind(this))},_attachCancel:function(e){this.hookUntilDisposed(e,"invoked",this._cancelInvoked.bind(this))},_okInvoked:function(e){e.handled=!0,this._onConfirmed(),this.close()},_cancelInvoked:function(e){e.handled=!0,this.close()}})})})}(),function(){"use strict";define("design/views/PINDialogView",["core/oop","core/Debug","core/Exception","design/views/PopupView","dataservices/dependent/ProfileService","design/ValidationUtils","platform/dependent/Process","platform/dependent/NativeDialogType","ui/Localization","ui/ViewModelFactory","ui/viewModelProviders/TextFromStringProvider"],function(e,t,i,n,o,r,a,s,l,c,d){var u=e.enumDef("design.views.PINDialogView.PINDialogState",["NONE","VALIDATING_PIN","INCORRECT_PIN","MISMATCHED_PINS"]);return e.classDef("design.views.PINDialogView",n,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.staticScope(function(){e.properties({PINDialogState:{defaultValue:u,readOnlyField:!0}})}),e.properties({currentPIN:void 0,emailAddressForPIN:{onChange:"_ensureSubViewsReady"},_currentPINDialogState:{defaultValue:u.NONE,onChange:"_onMessageChanged"},_enteredPIN:void 0,_pinContentView:void 0}),e.methods({_shouldAskForEmail:function(){return void 0===this.emailAddressForPIN&&void 0!==this.viewModel&&"EnterPINDialog"!==this.viewModel.factoryId},_getDefaultFocusSubView:function(){return this.find(this._shouldAskForEmail()?"emailInputView":"hiddenPinInputView")},_isActivePINContent:function(){return!this._shouldAskForEmail()},_isActiveTitle:function(){return!this._shouldAskForEmail()},_isActiveEmailTitle:function(){return this._isActiveEmail()},_isActiveEmail:function(){return this._shouldAskForEmail()},_attachCancel:function(e){this.hookUntilDisposed(e,"invoked",this._cancelInvoked.bind(this))},_isActiveSave:function(){return this._shouldAskForEmail()},_attachSave:function(e){this.hookUntilDisposed(e,"invoked",this._saveInvoked.bind(this))},_attachHiddenPinInputView:function(e){this.hookUntilDisposed(e,"textChanged",this._pinTextChanged.bind(this))},_attachEmailInputView:function(e){this.hookUntilDisposed(e,"textChanged",this._emailTextChanged.bind(this))},_attachConfirmEmailInputView:function(e){this.hookUntilDisposed(e,"textChanged",this._emailTextChanged.bind(this))},_attachForgotPin:function(e){this.hookUntilDisposed(e,"invoked",this._forgotPINInvoked.bind(this))},_attachPINContent:function(e){this._pinContentView=e},_isActiveForgotPin:function(){return"EnterPINDialog"===this.viewModel.factoryId&&void 0!==this.emailAddressForPIN},_updatedSlotText:function(e){return l.singleton.getResource("ResPINHits").substring(0,e.length)+l.singleton.getResource("ResPINBlanks").substring(0,4-e.length)},_pinTextChanged:function(){var e=this.find("hiddenPinInputView").text;this.find("slotMachine").viewModel=d.new(this._updatedSlotText(e)),4===e.length&&("EnterPINDialog"===this.viewModel.factoryId?this._validatePIN(e):"CreatePINDialog"===this.viewModel.factoryId||"ChangePINDialog"===this.viewModel.factoryId?this._setInitialPIN(e):"ConfirmPINDialog"===this.viewModel.factoryId&&this._updatePIN(e))},_prepareUpdateActiveSubViews:function(){var e=this;return t._prepareUpdateActiveSubViews.apply(this,arguments).then(function(){e._shouldAskForEmail()&&e._emailTextChanged()})},_emailTextChanged:function(){var e=!1,t=this.find("emailInputView").text;""!==t&&this._isValidEmail(t)&&(e=this.find("confirmEmailInputView").text===t),this.find("save").isEnabled=e},_handleUpdateErrors:function(e){this._rejectReadyPromise(i.wrap(e,{message:"rejected:"+e,area:"design.views.PINDialogView._handleUpdateErrors"}))},_setInitialPIN:function(e){this._enteredPIN=e,this.viewModel=c.singleton.create("ConfirmPINDialog"),this.find("hiddenPinInputView").text="";var t=this.find("fauxNavBar");this._pinContentView._onViewModelChanged(),t._onViewModelChanged(),this._ensureSubViewsReady()},_updatePIN:function(e){this._enteredPIN===e?this._currentPINDialogState!==u.VALIDATING_PIN&&(this._currentPINDialogState=u.VALIDATING_PIN,this._submitPINChangeRequest(e)):this._resetPINEntryWithError(u.MISMATCHED_PINS)},_onViewStateChanged:function(){t._onViewStateChanged.apply(this,arguments);var e=this.find("hiddenPinInputView");void 0!==e&&void 0!==e.parent&&e.focus()},_submitPINChangeRequest:function(e){var t=this;t.runUntilDisposed("_submitPINChangeRequest",function(){return o.singleton.setNewPin(e,t.currentPIN).then(function(){var e=void 0!==t.currentPIN?"ResChangePinConfirmationTitle":"ResPINSetSuccessTitle",i=void 0!==t.currentPIN?"ResChangePinConfirmationText":"ResPINSetSuccessText";return a.singleton.openNativeDialog(s.ALERT,l.singleton.getResource(e),l.singleton.getResource(i),l.singleton.getResource("ResOk"),l.singleton.getResource("ResCancel"))}).then(function(){t.currentPIN=e,t.close()}).catch(t._handleUpdateErrors.bind(t))})},_validatePIN:function(e){this._currentPINDialogState!==u.VALIDATING_PIN&&(this._currentPINDialogState=u.VALIDATING_PIN,this._submitPINValidationRequest(e))},_submitPINValidationRequest:function(e){var t=this;t.runUntilDisposed("_submitPINValidationRequest",function(){return o.singleton.isPinValid(e).then(function(i){!0===i?(t.currentPIN=e,t.close()):t._resetPINEntryWithError(u.INCORRECT_PIN)}).catch(t._handleUpdateErrors.bind(t))})},_submitForgotPINRequest:function(){var e=this;e.runUntilDisposed("_submitForgotPINRequest",function(){return o.singleton.forgotPin().then(function(){return a.singleton.openNativeDialog(s.ALERT,l.singleton.getResource("ResForgotPinConfirmationTitle"),l.singleton.getResource("ResForgotPinConfirmationText"),l.singleton.getResource("ResOk"),l.singleton.getResource("ResCancel")).then(function(){e._pinContentView.focus(),e.focus()})}).catch(e._handleUpdateErrors.bind(e))})},_resetPINEntryWithError:function(e){this.find("hiddenPinInputView").text="",this._currentPINDialogState=e},_onMessageChanged:function(){var e,t;switch(this._currentPINDialogState){case u.INCORRECT_PIN:e="ResPINIncorrect",t=!0;break;case u.VALIDATING_PIN:e="ResVerifyingPIN";break;case u.MISMATCHED_PINS:e="ResPINMismatchError",t=!0;break;default:this._currentPINDialogState,u.NONE,e="ResSpaceChar"}var i=c.singleton.create("Text",l.singleton.getResource(e));!0===t?(this.find("errorMessage").viewModel=i,this.find("progressMessage").viewModel=void 0):(this.find("errorMessage").viewModel=void 0,this.find("progressMessage").viewModel=i),this._ensureSubViewsReady()},_cancelInvoked:function(e){e.handled=!0,this.close()},_saveInvoked:function(e){e.handled=!0;var t=this.find("emailInputView").text;this._isValidEmail(t),this._updateUserProfileEmail(t)},_updateUserProfileEmail:function(e){var t=this,i=c.singleton.create("ProfileVM");t.runUntilDisposed("_updateUserProfileEmail",function(){return i.updateUserOptions({emailAddress:e}).then(function(){t.emailAddressForPIN=e}).catch(t._handleUpdateErrors.bind(t))})},_forgotPINInvoked:function(e){e.handled=!0;var t=this;t.runUntilDisposed("_forgotPINInvoked",function(){return a.singleton.openNativeDialog(s.CONFIRMATION,l.singleton.getResource("ResForgotPINTitle"),l.singleton.getResource("ResPinResetText",{emailAddress:t.emailAddressForPIN}),l.singleton.getResource("ResPinResetSendButtonText"),l.singleton.getResource("ResCancel")).then(function(e){!0===e.result?t._submitForgotPINRequest():(t._pinContentView.focus(),t.focus())}).catch(t._handleUpdateErrors.bind(t))})},_isValidEmail:function(e){return void 0===r.singleton.validateEmail(e)}})})})}(),function(){"use strict";define("design/views/ChromecastMenuView",["core/oop","lib/Promise","ui/Localization","ui/ViewModelFactory","platform/dependent/diagnostics/ConsoleLogger","platform/common/NetworkConnectionState","platform/common/PlaybackState","platform/ChromecastWrapper","design/views/PopupView","dataservices/types/ImagePurpose","dataservices/types/ImageSet"],function(e,t,i,n,o,r,a,s,l,c,d){var u=e.enumDef("ChromecastMenuMode",["DEVICE_LIST","CONNECTED","PLAYING"]);return e.classDef("design.views.ChromecastMenuView",l,function(l){e.constructor(function(){this._debugPrint("constructor"),this._chromecastAPI=s.singleton.getChromecast(),this._playbackState=this._chromecastAPI.playbackState,this._appStatus=this._chromecastAPI.applicationStatus,this._connState=this._chromecastAPI.connectionState,l.$ctor.apply(this,arguments),this.hookUntilDisposed(this._chromecastAPI,"availableDevicesChanged",this._onDevicesChanged.bind(this)),this.hookUntilDisposed(this._chromecastAPI,"applicationStatusChanged",this._onApplicationStatusChanged.bind(this)),this.hookUntilDisposed(this._chromecastAPI,"playbackStateChanged",this._onStateChange.bind(this)),this.hookUntilDisposed(this._chromecastAPI,"connectionStateChanged",this._onStateChange.bind(this))}),e.properties({_chromecastLoggingEnabled:{defaultValue:!1},_menuMode:{get:function(){return this._connState!==r.CONNECTED?u.DEVICE_LIST:this._playbackState>=a.OPENING&&this._playbackState<a.ENDED?u.PLAYING:u.CONNECTED}},fallbackNowPlayingImageUri:void 0,chromecastMenuRefreshMS:void 0,_playbackState:void 0,_chromecastAPI:void 0,_appStatus:void 0,_connState:void 0,_updatingDevices:{defaultValue:!1}}),e.methods({_debugPrint:function(e){this._chromecastLoggingEnabled&&o.singleton.log({message:"ChromecastMenuView:"+e})},_onStateChange:function(){this._connState===this._chromecastAPI.connectionState&&this._playbackState===this._chromecastAPI.playbackState||(this._connState=this._chromecastAPI.connectionState,this._playbackState=this._chromecastAPI.playbackState,this._onViewModelChanged())},_onApplicationStatusChanged:function(){this._appStatus=this._chromecastAPI.applicationStatus},_onDevicesChanged:function(){this._debugPrint("_onDevicesChanged");var e=this.find("allDevices");if(e&&!0!==this._updatingDevices){this._updatingDevices=!0;var i=this;this.runUntilDisposed("_onDevicesChangedPromiseChain",function(){return t.delay(i.chromecastMenuRefreshMS).then(function(){i._updatingDevices=!1,e.viewModel=n.singleton.create("ChromecastDeviceList")})})}},_isActiveDeviceListView:function(){return this._debugPrint("_isActiveDeviceListView"),this._menuMode===u.DEVICE_LIST},_isActiveConnectedDeviceView:function(){return this._debugPrint("_isActiveConnectedDeviceView"),this._menuMode===u.CONNECTED},_isActiveNowPlayingDeviceView:function(){return this._debugPrint("_isActiveNowPlayingDeviceView: playBackState = "+a.getName(this._playbackState)),this._menuMode===u.PLAYING},_isActiveAssetTitle:function(){return this._debugPrint("_isActiveAssetTitle"),this._isActiveNowPlayingDeviceView()},_isActiveSubTitle:function(){return this._debugPrint("_isActiveSubTitle"),this._isActiveNowPlayingDeviceView()&&void 0!==this._appStatus.episode},_isActivePlay:function(){return this._debugPrint("_isActivePlay"),this._isActiveNowPlayingDeviceView()&&this._playbackState===a.PAUSED},_isActivePause:function(){return this._debugPrint("_isActivePause"),this._isActiveNowPlayingDeviceView()&&!this._isActivePlay()},_isActiveThumbnail:function(){return this._debugPrint("_isActiveThumbnail"),this._isActiveNowPlayingDeviceView()},_getThumbnailUri:function(e,t){if(this._appStatus.imageUrl){if(this._debugPrint(this._appStatus.imageUrl),-1===this._appStatus.imageUrl.indexOf("{{"))return this._appStatus.imageUrl;var i={};i[c.TILE]=this._appStatus.imageUrl;var n=d.new(i),o=n.getImageUrl(c.TILE,e,t),r=o.uri;return this._debugPrint(" final url: "+r),r}return this.fallbackNowPlayingImageUri},_attachThumbnail:function(e){var t=this._getThumbnailUri(e.width,e.height);this._debugPrint("_attachThumbnail:"+t),e.setUri(t).catch(this._doNothing)},_getViewModelAssetTitle:function(){var e=this._appStatus.title||i.singleton.getResource("ResChromecastUnknownTitle");return this._debugPrint("_getViewModelAssetTitle: "+e),n.singleton.create("Text",e)},_getViewModelReceiverName:function(){var e=i.singleton.getResource("ResChromecastUnknownReceiver"),t=this._appStatus;return t.device&&t.device.friendlyName&&(e=t.device.friendlyName),this._debugPrint("_getViewModelReceiverName: "+e),n.singleton.create("Text",e)},_getViewModelSubTitle:function(){var e,t;return this._hasText(this._appStatus.season)&&(t=i.singleton.getResource("ResSeasonNumberShort",{season:this._appStatus.season})),e=this._hasText(this._appStatus.season)&&this._hasText(this._appStatus.episode)?i.singleton.getResource("ResSeasonAndEpisodeShort",{season:t,episode:this._appStatus.episode}):this._hasText(this._appStatus.season)?i.singleton.getResource("ResSeasonNumberShort",{season:t}):this._hasText(this._appStatus.episode)?i.singleton.getResource("ResEpisodeNumberShort",{episode:this._appStatus.episode}):"",this._debugPrint("_getViewModelSubTitle: "+e),n.singleton.create("Text",e)},_hasText:function(e){return void 0!==e&&""!==e},_getDevice:function(e){return e.parent.viewModel.device},_onInvokedBubbled:function(e){this._debugPrint("_onInvokedBubbled: "+e.target.name);var t=this;if("deviceName"===e.target.name){var i=this._getDevice(e.target);this.runUntilDisposed("_onInvokedBubbled:deviceName",function(){return t._chromecastAPI.establishSession(i).catch(t._doNothing)}),this.close(),e.handled=!0}else"disconnectButton"===e.target.name?(this.runUntilDisposed("_onInvokedBubbled:disconnectButton",function(){return t._chromecastAPI.destroySession().catch(t._doNothing)}),this.close(),e.handled=!0):"play"===e.target.name?(this.runUntilDisposed("_onInvokedBubbled:play",function(){return t._chromecastAPI.sendPlayMessage().catch(t._doNothing)}),e.handled=!0):"pause"===e.target.name&&(this.runUntilDisposed("_onInvokedBubbled:pause",function(){return t._chromecastAPI.sendPauseMessage().catch(t._doNothing)}),e.handled=!0);l._onInvokedBubbled.apply(this,arguments)}})})})}(),function(){"use strict";define("design/views/DropDownPopupView",["core/oop","design/views/PopupView"],function(e,t){return e.classDef("design.views.DropDownPopupView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this.isInputScope=!1}),e.properties({dropDownItemsOffset:void 0,centerItems:void 0,_itemsView:void 0}),e.methods({_onInvoked:function(e){t._onInvoked.apply(this,arguments),this.close(),e.handled=!0},_attachLightDismissBackground:function(e){this.hookUntilDisposed(e,"invoked",this._closeInvoked.bind(this))},_attachDropDownItems:function(e){this._itemsView=e},_onSubViewsReady:function(){t._onSubViewsReady.apply(this,arguments),!0===this.centerItems?(this._itemsView.height>this.height&&(this._itemsView.height=this.height),this._itemsView.y=(this.height-this._itemsView.height)/2):(this._itemsView.x=this.dropDownItemsOffset.x,this._itemsView.y=this.dropDownItemsOffset.y)}})})})}(),function(){"use strict"
;define("design/views/ContinueWatchingView",["core/oop","core/data/ModelFactory","dataservices/ContinueWatchingCache","design/views/AssetCollectionView","design/UserCollections"],function(e,t,i,n,o){return e.classDef("design.views.ContinueWatchingView",n,function(n){e.constructor(function(e){e.userCollection=o.ContinueWatching,n.$ctor.call(this,e),this.hookUntilDisposed(i.singleton,"refreshed",this._updateItems.bind(this)),this._hasItems=!1}),e.properties({itemsModelId:void 0,itemsModelType:void 0,_clearButton:void 0,_settingsToggle:void 0,_hasItems:void 0,_continueWatchingEnabled:{defaultValue:void 0,onChange:function(){this._ensureSubViewsReady()}}}),e.methods({_isActiveDisabledMessage:function(){return!1===this._continueWatchingEnabled},_isActiveLoading:function(){return n._isActiveLoading.apply(this,arguments)&&!0===this._continueWatchingEnabled},_isActiveEmpty:function(){return n._isActiveEmpty.apply(this,arguments)&&!0===this._continueWatchingEnabled},_isActiveItems:function(){return n._isActiveItems.apply(this,arguments)&&!0===this._continueWatchingEnabled},_attachClear:function(e){n._attachClear.apply(this,arguments),this._clearButton=e},_attachSettingsToggle:function(e){this._settingsToggle=e,this.hookUntilDisposed(e,"toggled",this._onSettingsToggled.bind(this))},_onSettingsToggled:function(e){!0===e?this._clearCacheAndUpdateItems():this._ensureSubViewsReady()},_prepareUpdateActiveSubViews:function(){var e=this;return n._prepareUpdateActiveSubViews.apply(this,arguments).then(function(){return t.singleton.create("User","User").continueWatchingEnabled}).then(function(t){e._continueWatchingEnabled=t})},_updateActiveSubViews:function(){if(n._updateActiveSubViews.apply(this,arguments),void 0!==this._clearButton){!0===(!0===this._continueWatchingEnabled&&!0===this._hasItems)?(this._clearButton.additionalTransitionStates.removeAll(),this._clearButton.additionalTransitionStates.add("show")):(this._clearButton.additionalTransitionStates.removeAll(),this._clearButton.additionalTransitionStates.add("hide"))}},_handleItemsUpdated:function(){var e=this.find("items");void 0!==e&&(e.viewModel=this._getViewModelItems())},_handleNewItemsCount:function(e){this._hasItems=e>0},_getItems:function(){return t.singleton.create(this.itemsModelId,this.itemsModelType).items},_doClearAction:function(){i.singleton.removeAll()},_clearCacheAndUpdateItems:function(){i.singleton.clear(),this._updateItems()}})})})}(),function(){"use strict";define("core/SortedReadOnlyAsyncArray",["core/oop","core/ReadOnlyAsyncArray"],function(e,t){return e.classDef("core.SortedReadOnlyAsyncArray",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({SortOrder:void 0})})})}(),function(){"use strict";define("design/WatchlistSortOrder",["core/oop"],function(e){return e.enumDef("design.WatchlistSortOrder",["NEWEST","ALPHABETICAL","REVERSE_ALPHABETICAL"])})}(),function(){"use strict";define("design/viewModelProviders/SelectorFromEnumProvider",["core/oop","core/data/ExplicitValueProvider","ui/viewModelProviders/ItemsFromArrayProvider","ui/viewModelProviders/ValueProvider"],function(e,t,i,n){return e.classDef("design.viewModelProviders.SelectorFromEnumProvider",i,function(i){e.constructor(function(e,t,n,o,r){var a=this._makeOptions(e,t,o,r);!0===n&&(a=a.reverse()),i.$ctor.call(this,a)}),e.methods({_makeOptions:function(e,t,i,n){var o=this,r=[],a=0;return!0===n&&(r.push(o._makeSeparator("fullSeparator",a)),a++),e.forEach(function(e,s){var l=t(s);void 0!==l&&(r.push(this._makeOption(s,e,l,i)),!0===n&&(r.push(o._makeSeparator("partialSeparator",a)),a++))},this),!0===n&&(r.pop(),r.push(o._makeSeparator("fullSeparator",a))),r},_makeOption:function(e,i,o,r){var a=t.new(e);a.initialize({value:i});var s=n.new(a,void 0,function(){return o});return void 0!==r&&(s.factoryId=r),s},_makeSeparator:function(e,i){var o=t.new(e+i);o.initialize({value:e});var r=n.new(o,void 0,function(){return e});return r.factoryId=e,r}})})})}(),function(){"use strict";define("design/logging/ViewShownLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("design.logging.ViewShownLogEntry",t,function(t){e.initConstructor(function(){this._type="viewshown"}),e.properties({name:void 0}),e.methods({toJSON:function(){var e=t.toJSON.apply(this,arguments);return e.name=this.name,e}})})})}(),function(){"use strict";define("design/views/WatchlistView",["core/oop","core/Debug","lib/Promise","core/SortedReadOnlyAsyncArray","design/UserCollections","design/WatchlistSortOrder","design/views/AssetCollectionView","design/viewModelProviders/SelectorFromEnumProvider","design/ScreenUtil","ui/Localization","dataservices/WatchlistCache","platform/dependent/Storage","dataservices/ContentUnavailableException","design/logging/ViewShownLogEntry","core/Lifecycleable","design/DesignSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f){return e.classDef("design.views.WatchlistView",a,function(t){e.constructor(function(e){e.userCollection=o.Watchlist,t.$ctor.call(this,e),this.hookUntilDisposed(d.singleton,"refreshed",function(){this._updateItems()}.bind(this))}),e.properties({_sortOrder:void 0,_editModeEnabled:{defaultValue:!1}}),e.methods({_onLifecycleStateChanged:function(e){t._onLifecycleStateChanged.apply(this,arguments),e===g.LifecycleStates.ACTIVATED&&h.new({name:"WatchlistView"}).log()},setEditModeEnabled:function(e){this._editModeEnabled=e,this._ensureEditModeSet()},_ensureEditModeSet:function(){this.find("items").children.forEach(function(e){e.children.getAt(0).setRemoveAssetEnabled(this._editModeEnabled)}.bind(this))},_ensureSortOrder:function(){var e=this;return void 0!==e._sortOrder?i.fulfilled(e._sortOrder):u.singleton.read(f.singleton.WATCHLIST_SORT_ORDER_KEY).then(function(t){return e._sortOrder=void 0!==t?r[t]:r.NEWEST,e._sortOrder})},_isActiveHelp:function(){return l.singleton.byDesign({daydream:!1,default:this._isActiveEmpty()})},_isActiveSortingSelector:function(){return this._isActiveItems()},_attachSortingSelector:function(e){var t=this;t.runUntilDisposed("hookUpSortingSelector",function(){return e.afterReady.then(function(){return e.selectFromData(t._sortOrder)}).then(function(){t.hookUntilDisposed(e,"selectedIndexChanged",t._onSortingSelectorIndexChanged.bind(t))}).catch(function(){})})},_getViewModelSortingSelector:function(){var e=function(e){return c.singleton.getResource("ResWatchlistSortOrder_"+e)};return s.new(r,e)},_prepareSubViewModels:function(){var e=this;return t._prepareSubViewModels.apply(this,arguments).then(function(){return e._ensureSortOrder()})},_onSortingSelectorIndexChanged:function(){var e=this;this.runUntilDisposed("_updateSortIndex",function(){return e.find("sortingSelector").getSelectedData().then(function(t){return u.singleton.write(f.singleton.WATCHLIST_SORT_ORDER_KEY,r.getName(t)).then(function(){e._sortOrder=t,e._updateItems()})})})},_attachItems:function(e){this.hookUntilDisposed(e,"itemsRealized",this._ensureEditModeSet.bind(this))},_getItems:function(){var e,t=this;return t._ensureSortOrder().then(function(t){e=t}).then(function(){return d.singleton.get()}).then(function(e){return e.getRange(0)}).then(function(i){return t._sortAssets(i,e)}).then(function(t){var i=n.new(t);return i.SortOrder=r.getName(e),i})},_handleItemsUpdated:function(){var e=this.find("items");void 0!==e&&(e.viewModel=this._getViewModelItems())},_getViewModelItems:function(){var e=t._getViewModelItems.apply(this,arguments);if(void 0!==e){var i=this._assetCollection.SortOrder;e.factoryId=this.itemsViewModelFactoryId+"_"+i}return e},_doClearAction:function(){d.singleton.removeAll()},_sortAssets:function(e,t){switch(t){case r.ALPHABETICAL:case r.REVERSE_ALPHABETICAL:return this._sortByTitle(e,t);default:return r.NEWEST,this._sortNewest(e)}},_sortByTitle:function(e,t){return i.all(e.map(function(e){return e.sortString.catch(function(e){if(e instanceof p)return t===r.REVERSE_ALPHABETICAL?"":"￿";throw e})})).then(function(t){return t.slice().sort().map(function(i){var n=t.indexOf(i);return e[n]})}).then(function(e){return t===r.REVERSE_ALPHABETICAL?e.reverse():e})},_sortNewest:function(e){return i.fulfilled(e.reverse())}})})})}(),function(){"use strict";define("design/views/PCDialogView",["core/oop","design/views/PopupView","ui/ViewModelFactory","core/data/ModelFactory","lib/Promise","ui/Localization","core/Exception","core/logging/Levels","design/PopupManager","ui/TemplateManager","design/logging/PCDialogLogEntry","dataservices/authentication/AuthenticationManager"],function(e,t,i,n,o,r,a,s,l,c,d,u){return e.classDef("design.views.PCDialogView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({_userModel:void 0,_pcUrlViewModel:void 0,_linkTextViewModel:void 0,_showQuestionAndButtons:{defaultValue:!1}}),e.methods({_getViewModelMoviesRating:function(){return this._userModel},_getViewModelTvRating:function(){return this._userModel},_getViewModelPcUrl:function(){return this._pcUrlViewModel},_getViewModelLinkText:function(){return this._linkTextViewModel},_prepareSubViewModels:function(){var e=this,l={},c=o.pending();return this.runUntilDisposed("_prepareSubViewModels",function(){return t._prepareSubViewModels.apply(e,arguments).then(function(){return u.singleton.login()}).then(function(t){return l.isLoggedIn=t,e._userModel=n.singleton.create("User","User"),e._userModel.affiliate}).then(function(e){return l.affiliate=e,!0===l.isLoggedIn?o.props({inheritParentalControls:l.affiliate.inheritParentalControls,manageParentalControlsUrl:l.affiliate.manageParentalControlsUrl}):o.fulfilled()}).then(function(t){if(!0===l.isLoggedIn){var n,o=t.manageParentalControlsUrl;!0===t.inheritParentalControls?(void 0===o?n="ResPCDialogPostfixNoUrl":(n="ResPCDialogPostfix",e._pcUrlViewModel=i.singleton.create("ExplicitHyperlink",{uriPath:o,isExternal:!0,subViewModelFactoryId:"Text",subViewDataModel:o})),n=r.singleton.getResource(n),e._linkTextViewModel=i.singleton.create("Text",n),e._showQuestionAndButtons=!1):e._showQuestionAndButtons=!0}else e._showQuestionAndButtons=!0;c.resolve()}).catch(function(t){a.wrap(t,{message:"_prepareSubViewModels promise rejected",level:s.WARNING,area:"design.views.PCDialogView._prepareSubViewModels"}).logTelemetry(),e.close()})}),c.promise},_attachConfirm:function(e){this.hookUntilDisposed(e,"invoked",this._confirm.bind(this))},_attachNoThanks:function(e){this.hookUntilDisposed(e,"invoked",this._closeInvoked.bind(this))},_attachChangeSettings:function(e){this.hookUntilDisposed(e,"invoked",this._openProfile.bind(this))},_isActiveQuestion:function(){return!0===this._showQuestionAndButtons},_isActiveSettingsButtons:function(){return!0===this._showQuestionAndButtons},_isActiveConfirm:function(){return!1===this._showQuestionAndButtons},open:function(){d.new({area:"design.views.PCDialogView.univ.open",eventType:d.EventTypes.SHOW}).log(),t.open.call(this)},_confirm:function(e){e.handled=!0,d.new({area:"design.views.PCDialogView.univ._confirm",eventType:d.EventTypes.OK}).log(),this.close()},_closeInvoked:function(){d.new({area:"design.views.PCDialogView.univ._closeInvoked",eventType:d.EventTypes.NO_THANKS}).log(),t._closeInvoked.apply(this,arguments)},_openProfile:function(e){e.handled=!0,d.new({area:"design.views.PCDialogView.univ._openProfile",eventType:d.EventTypes.CHANGE}).log();var t=c.singleton.getTemplate("PCSettingsOverlayView");l.singleton.openPopup(t,void 0),this.close()}})})})}(),function(){"use strict";define("design/templates/PopupTemplates",["core/oop","design/Screen","design/TemplateUtil","design/templates/TemplatesModule","design/ScreenUtil","design/analytics/UserInteractionTargets","design/templates/ViewTemplates","design/templates/ColorTemplates","design/templates/TextFormatTemplates","design/templates/GridViewTemplates","design/templates/ButtonTemplates","design/templates/LayoutTemplates","design/templates/TransitionTemplates","design/templates/ProfileTemplates","design/templates/PasswordChallengeTemplates","design/templates/FormTemplates","design/templates/LoginRequiredViewTemplates","design/templates/DirectLoginTemplates","design/views/ConfirmationDialogView","design/views/PINDialogView","design/views/ChromecastMenuView","design/views/PopupView","design/views/DropDownPopupView","design/views/PinInputView","design/views/ContinueWatchingView","design/views/WatchlistView","design/views/ProfileOverlayView","ui/Transition","ui/views/View","platform/common/KeyboardType","platform/dependent/graphics/Viewport","ui/Axis","ui/Localization","platform/common/KeyboardReturnKeyType","core/HorizontalAlignment","core/VerticalAlignment","design/views/PCDialogView","ui/StackedLayout","lib/lodash/objects/assign","core/Debug"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A,k,V,M,D,O,N,F,L,B){return e.classDef("design.templates.PopupTemplates",n,function(B){e.singleton(function(){B.$ctor.apply(this,arguments)}),e.properties({_makeDirectLoginDialogView:{defaultValue:void 0}}),e.methods({_configure:function(){this._makeDirectLoginDialogView=!0===o.singleton.byBrand({hbonow:!0})&&!0===o.singleton.byDesign({desktop:!0});var e=this,t=this.registered;["PasswordChallengeOverlay","CellularPlaybackWarningView","CellularPlaybackErrorView","WifiLostPlaybackWarningView","ConfirmationDialogView","PCSettingsOverlayView","PCDialogView","interactiveDocumentTemplate","interactiveMicrositeTemplate","ChromecastOverlayView","PINDialogView"].forEach(function(i){t[i]=e}),!0===this._makeDirectLoginDialogView&&(t.DirectLoginDialogView=this),!0===o.singleton.byDesign({mobile:!0})&&(t.InteractivityBlockingView=this),!0===o.singleton.byDesign({daydream:!1,mobile:!0})&&(t.SignInRequiredDialogView=this)},_setLazyTemplateDefs:function(){this._makeDirectLoginDialogView;var e=a.singleton.exports,B=s.singleton.exports,H=s.singleton.withAlpha.bind(s.singleton),U=l.singleton.exports,$=c.singleton.exports,W=p.singleton.exports,j=h.singleton.exports,G=d.singleton.exports,z=m.singleton.exports,K=v.singleton.exports,Y=f.singleton.exports,q=o.singleton,Q=p.singleton.exports,X=u.singleton.exports,J=u.singleton.exports.layoutTypes,Z=u.singleton.exports.layouts,ee=i.singleton.complete.bind(i.singleton),te=d.singleton.exports.components,ie=n.resolve.bind(n),ne=this.registered,oe=this.unregistered,re=this,ae=function(){return A.singleton.reservedMargins.top},se=A.singleton.reservedMargins.right,le=a.singleton.getCappedScreenWidth.bind(a.singleton);oe.DropDownPopupView={$extend:e.PopupView,$type:S},oe.FullScreenCloseView={$type:I,isReadyInit:!0,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(),isInvokable:!0};var ce=H(B.opaqueBlack,q.byScreen({monitor:.5,tablet:.8,phone:1})),de=q.byDesign({mobile:44,desktop:25}),ue=q.byDesign({desktop:16}),pe=q.byDesign({mobile:o.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_default.png"}),he=q.byDesign({mobile:o.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_hover.png"}),ge=q.byDesign({mobile:o.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_pressed.png"}),fe=q.byDesign({mobile:o.dpiAwareImageUri("/assets/images/buttons/mobile/btn_close_x","png"),desktop:"/assets/images/buttons/desktop/btn_close_disabled.png"}),me=function(e){return t.singleton.getScreenWidth(-535)(e)/2};ne.PasswordChallengeOverlay={$extend:e.SlideInPopupView,backgroundColor:B.overlayBackground,subViewRegistrations:{$extend:e.ViewRegistrations,challenge:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"emailAddress",template:{$extend:g.singleton.exports.passwordChallengePopupView,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight()}}}};var ve={titleFormat:U.popupTitle,messageFormat:U.popupMessage,buttonTextFormat:U.popupButton,linkFormat:U.popupLink},_e={initial:{offsetY:Q.pageSlideToScreenHeightTransition},enter:{offsetY:Q.pageSlideToZeroTransition},exit:{offsetY:Q.pageSlideToScreenHeightTransition}},ye=q.byScreen({phone:250,default:300}),we=function(e){return(ie(e,ye)-10)/2},be={$extend:e.SlideInPopupView,backgroundColor:ce,subViewRegistrations:{$extend:e.ViewRegistrations,centeredContentContainer:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(),forwardOwnershipForSubViews:!0,layout:J.anchored,subViewRegistrations:{$extend:e.ViewRegistrations,centeredContent:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:{anchor:{}},layout:J.stacked,subViewRegistrations:{$extend:e.ViewRegistrations,title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,$viewModelFactoryId:function(e){return e.title},template:{$extend:e.TextView,layoutProps:{margin:{top:0}},width:ye,horizontalAlignment:D.CENTER,format:ve.titleFormat}},message:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,$viewModelFactoryId:function(e){return e.message},template:{$extend:e.TextView,layoutProps:{margin:{top:4}},width:ye,horizontalAlignment:D.CENTER,format:ve.messageFormat,maxLines:void 0}},buttons:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:{anchor:{}},layout:{$extend:J.stackedRow,spacing:10},subViewRegistrations:{$extend:e.ViewRegistrations,close:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,$viewModelFactoryId:function(e){return e.closeButtonText},template:{$extend:e.TextView,layoutProps:{margin:{top:16}},isInvokable:!0,isPointerTarget:!0,backgroundColor:B.ceruleanBlue,$width:function(e){return void 0!==e.confirmButtonText?we:ye},height:36,horizontalAlignment:D.CENTER,verticalAlignment:O.CENTER,format:ve.buttonTextFormat}},$okClicked:function(t){if(void 0!==t.confirmButtonText)return{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,$viewModelFactoryId:function(e){return e.confirmButtonText},template:{$extend:e.TextView,layoutProps:{margin:{top:16}},isInvokable:!0,isPointerTarget:!0,backgroundColor:B.ceruleanBlue,width:we,height:36,horizontalAlignment:D.CENTER,verticalAlignment:O.CENTER,format:ve.buttonTextFormat}}}}}},$link:function(t){if(void 0!==t.linkId)return{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,$viewModelFactoryId:function(e){return e.linkId},template:{$extend:e.HyperlinkView,layoutProps:{margin:{top:16}},subViewTemplate:{$extend:e.TextView,width:ye,horizontalAlignment:D.CENTER,format:ve.linkFormat}}}}}}}}}}}};ne.CellularPlaybackWarningView=ee(be,{title:"ResPlaybackCellularWarning",message:"ResPlaybackCellularWarningBody",closeButtonText:"ResCancel",confirmButtonText:"ResPlayCommand"}),ne.CellularPlaybackErrorView=ee(be,{title:"ResPlaybackWiFiWarningTitle",message:"ResPlaybackWiFiWarningBody",closeButtonText:"ResOk",linkId:"CellularPlaybackInformationalLink"}),ne.WifiLostPlaybackWarningView=ee(be,{title:"ResPlaybackCellularWarning",message:"ResPlaybackCellularWarningBody",closeButtonText:"ResOk"});var Se=function(t,i,n){return{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,viewModelPropertyPath:t,useOwnerViewModel:!0,template:d.singleton.generateTextButton({baseTemplate:i,buttonPartialTemplate:{width:n},labelPartialTemplate:{width:n}})}};if(ne.ConfirmationDialogView=q.byDesign({desktop:{$extend:e.PopupView,$type:_,backgroundColor:B.overlayBackground,subViewRegistrations:{$extend:e.ViewRegistrations,dialogContent:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,x:e.overlayGutter,y:59,layout:{$extend:J.stackedColumn,spacing:36},forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:e.ViewRegistrations,prompt:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelPropertyPath:"subViewModels.prompt",useOwnerViewModel:!0,template:{$extend:e.TextView,x:e.overlayGutter,width:600,format:U.defaultTextFormat,maxLines:void 0,isInvokable:!0,isPointerTarget:!0}},message:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelPropertyPath:"subViewModels.message",useOwnerViewModel:!0,requireViewModel:!0,template:{$extend:e.MarkdownTextView,maxLines:void 0,width:600,format:U.dialogMessageFormat,markdownUriFormat:U.dialogMessageLinkFormat,markdownUriHoverFormat:U.dialogMessageLinkHoverFormat,markdownMap:{strong:{format:U.dialogMessageStrongFormat},strongDate:{format:U.dialogMessageStrongFormat,date:V.DateFormat.MONTH_DAY_YEAR_LONG}}}},buttons:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layout:{$extend:J.stackedRow,spacing:20},subViewRegistrations:{$extend:e.ViewRegistrations,ok:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,viewModelPropertyPath:"subViewModels.ok",useOwnerViewModel:!0,template:d.singleton.generateTextButton({baseTemplate:d.singleton.exports.activeFormButton,buttonPartialTemplate:{width:200},labelPartialTemplate:{width:200}})},cancel:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,viewModelPropertyPath:"subViewModels.cancel",useOwnerViewModel:!0,template:d.singleton.generateTextButton({baseTemplate:d.singleton.exports.cancelFormButton,buttonPartialTemplate:{width:126},labelPartialTemplate:{width:126}})}}}}}}},close:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:G.OverlayCloseView}}},mobile:{$extend:e.PopupView,$type:_,backgroundColor:B.overlayBackground,width:t.singleton.getScreenWidth(),layout:J.anchored,subViewRegistrations:{$extend:e.ViewRegistrations,dialogContent:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,layout:{$extend:J.stackedColumnCentered,spacing:15},forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:e.ViewRegistrations,title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelPropertyPath:"subViewModels.title",useOwnerViewModel:!0,requireViewModel:!0,template:{$extend:e.TextView,width:e.mobileDialogMetrics.dialogWidth,horizontalAlignment:D.CENTER,format:U.smallTextFormat,maxLines:void 0}},prompt:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelPropertyPath:"subViewModels.prompt",useOwnerViewModel:!0,requireViewModel:!0,template:{$extend:e.TextView,width:e.mobileDialogMetrics.dialogWidth,horizontalAlignment:D.CENTER,format:U.smallTextFormat,maxLines:void 0}},buttons:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layout:J.stackedRow,subViewRegistrations:{$extend:e.ViewRegistrations,cancel:Se("subViewModels.cancel",d.singleton.exports.cancelFormButton,e.mobileDialogMetrics.halfDialogWidth),ok:Se("subViewModels.ok",d.singleton.exports.activeFormButton,e.mobileDialogMetrics.halfDialogWidth)}}}}}}}}}),o.singleton.byDesignCall({daydream:function(){},mobile:function(){ne.SignInRequiredDialogView={$extend:e.PopupView,$type:_,transitionMap:q.byScreen({tablet:Q.defaultFadeTransition,phone:_e}),backgroundColor:B.opaqueBlack,width:t.singleton.getScreenWidth(),subViewRegistrations:{$extend:e.ViewRegistrations,signInRequired:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:z.LoginRequiredTemplate},close:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:{$extend:G.OverlayCloseView,x:q.byScreen({tablet:function(e){return t.singleton.getScreenWidth()(e)-48},phone:t.singleton.getScreenWidth(-60)}),y:q.byScreen({tablet:20,phone:ae})}}}}}}),!0===this._makeDirectLoginDialogView){ne.DirectLoginDialogView={$extend:e.PopupView,$type:_,transitionMap:W.defaultOverlayFadeSlideTransition,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(),backgroundColor:ce,subViewRegistrations:{$extend:e.ViewRegistrations,directLogin:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:K.DirectLoginView,suppressNavigation:!0,width:458,height:380,x:function(e){return t.singleton.getScreenWidth(-458)(e)/2},y:190}},close:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:d.singleton.generateImageButton({x:function(e){return t.singleton.getScreenWidth(458)(e)/2-ue-15},y:205,width:ue,height:ue},{initial:pe,hovered:he,pressed:ge,disabled:fe})}}}}var Ce=312+e.overlayGutter+10+46,Te=function(e,t){return re._tileFit.bind(void 0,e,t,Ce,5,280)},Re={$type:E,duration:.25},Pe={$extend:e.TextView,format:U.watchlistContinueWatchingClearAllFormat,isInvokable:!0,layoutProps:{margin:{top:1}},isPointerTarget:!0,transitionMap:{initial:{opacity:{$extend:Re,to:0},set_isPointerHittable:{$type:E,to:!1},set_isEnabled:{$type:E,to:!1}},show:{opacity:{$extend:Re,to:1},set_isPointerHittable:{$type:E,to:!0},set_isEnabled:{$type:E,to:!0}},hide:{opacity:{$extend:Re,to:0},set_isPointerHittable:{$type:E,to:!1},set_isEnabled:{$type:E,to:!1}},hideImmediate:{opacity:{$type:E,duration:0,to:0},set_isPointerHittable:{$type:E,to:!1},set_isEnabled:{$type:E,to:!1}}}};oe.WatchlistView={$extend:e.AssetCollectionView,$type:R,itemsViewModelFactoryId:"WatchlistAssetThumbnails",width:t.singleton.getScreenWidth(-312),height:t.singleton.getScreenHeight(),layout:J.anchored,subViewRegistrations:{$extend:e.ViewRegistrations,title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResWatchlistTitle",template:{$extend:e.TextView,maxLines:void 0,layoutProps:{anchor:{left:!0,top:!0},margin:{left:e.overlayGutter,top:59}},format:U.watchlistContinueWatchingHeaderFormat}},rightSide:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:{anchor:{right:!0,top:!0},margin:{right:42,top:59}},layout:{$extend:J.stackedRow,spacing:25},subViewRegistrations:{$extend:e.ViewRegistrations,sortingSelector:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:!0,attachFromOwner:!0,isActiveFromOwner:!0,template:{$extend:e.SelectorView,name:"sortingSelector",layoutProps:{margin:{top:-2}},width:184,height:34,optionFormat:U.darkSelectorTextFormat,optionHorizontalPadding:20,borderThickness:1,borderColor:B.smokeGray,backgroundColor:B.clear,arrowImageUri:"/assets/images/player_controls/desktop/btn_arrow_dropdown_default.png"}},clear:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResClearAll",attachFromOwner:!0,isActiveFromOwner:!0,template:{$extend:e.TextView,format:U.watchlistContinueWatchingClearAllFormat,layoutProps:{margin:{top:1}},isInvokable:!0,isPointerTarget:!0}}}}},loading:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResLoading",isActiveFromOwner:!0,template:{$extend:e.TextView,layoutProps:{anchor:{left:!0,top:!0},margin:{left:e.overlayGutter,top:118}},format:U.watchListContinueWatchingMessageFormat}},items:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:$.WatchlistGridView,layoutProps:{anchor:{left:!0,top:!0,bottom:!0},margin:{left:e.overlayGutter,top:118,right:10,bottom:e.overlayGutter}},width:t.singleton.getScreenWidth(-312-e.overlayGutter),showScrollbar:!0,canScrollVertically:!0,secondaryAxisItemCount:q.byScreen({phone:1,default:Te(2,5)})}},empty:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResWatchlistEmpty",isActiveFromOwner:!0,template:{$extend:e.TextView,layoutProps:{anchor:{left:!0,top:!0},margin:{left:e.overlayGutter,top:183}},format:U.watchListContinueWatchingMessageFormat}},help:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,viewModelFactoryId:"GetStartedWatchlistLink",template:{$extend:e.HyperlinkView,layoutProps:{anchor:{left:!0,top:!0},margin:{left:e.overlayGutter,top:215}},subViewTemplate:{$extend:e.TextView,format:U.watchListContinueWatchingMessageLinkFormat}}}}},oe.ContinueWatchingView={$extend:e.AssetCollectionView,$type:T,itemsModelId:"ContinueWatching",itemsModelType:"ContinueWatchingMenu",itemsViewModelFactoryId:"ContinueWatchingAssetThumbnails",width:t.singleton.getScreenWidth(-312),height:t.singleton.getScreenHeight(),layout:J.anchored,subViewRegistrations:{$extend:e.ViewRegistrations,title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResContinueWatchingTitle",template:{$extend:e.TextView,layoutProps:{anchor:{left:!0,top:!0},margin:{left:e.overlayGutter,top:59}},format:U.watchlistContinueWatchingHeaderFormat,maxLines:void 0}},rightSide:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:{anchor:{right:!0,top:!0},margin:{right:42,top:59}},layout:{$extend:J.stackedRow,spacing:25},subViewRegistrations:{$extend:e.ViewRegistrations,settingsToggle:q.byBrand({hbogo:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ContinueWatchingSetting",attachFromOwner:!0,template:e.toggleViewGenerator({layoutProps:{margin:{top:7}},boxSize:15,additionalSubViewRegistrations:{description:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResContinueWatchingSetting",template:{$extend:e.TextView,x:25,y:-4,format:U.watchlistContinueWatchingCheckboxFormat}}}})}}),clear:q.byBrand({hbogo:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResClearAll",attachFromOwner:!0,template:Pe}})}}},disabledMessage:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResContinueWatchingDisabled",isActiveFromOwner:!0,template:{$extend:e.TextView,layoutProps:{anchor:{left:!0,top:!0},margin:{left:e.overlayGutter,top:183}},width:640,format:U.watchListContinueWatchingMessageFormat,maxLines:void 0}},loading:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResLoading",isActiveFromOwner:!0,template:{$extend:e.TextView,x:0,y:118,format:U.watchListContinueWatchingMessageFormat}},empty:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResContinueWatchingEmpty",isActiveFromOwner:!0,template:{$extend:e.TextView,x:0,y:65,format:U.watchListContinueWatchingMessageFormat}},items:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:$.ContinueWatchingGridView,layoutProps:{anchor:{left:!0,top:!0},margin:{left:e.overlayGutter,top:118}},width:t.singleton.getScreenWidth(-312-e.overlayGutter-10),height:t.singleton.getScreenHeight(-e.overlayGutter-118),showScrollbar:!0,canScrollVertically:!0,secondaryAxisItemCount:q.byScreen({phone:1,default:Te(2,5)})}}}};var Ee=function(t,i){return{$extend:e.TextView,analyticsValue:i,width:300,format:U.settingsNavigationLinkFormat,isInvokable:!0,isPointerTarget:!0,name:t,maxLines:void 0,transitionMap:{initial:{set_format:{$type:E,to:U.settingsNavigationLinkFormat}},hovered:{set_format:{$type:E,to:U.settingsNavigationHoveredFormat}},selected:{set_format:{$type:E,to:U.settingsNavigationActiveFormat}},"hovered+selected":{set_format:{$type:E,to:U.settingsNavigationActiveFormat}}}}},Ie=function(t){return{$extend:e.TextView,width:270,layoutProps:{margin:{left:20}},format:U.settingsNavigationSubItemLinkFormat,isInvokable:!0,isPointerTarget:!0,maxLines:void 0,name:t,transitionMap:{initial:{set_format:{$type:E,to:U.settingsNavigationSubItemLinkFormat}},hovered:{set_format:{$type:E,to:U.settingsNavigationSubItemHoveredFormat}},selected:{set_format:{$type:E,to:U.settingsNavigationSubItemActiveFormat}},"hovered+selected":{set_format:{$type:E,to:U.settingsNavigationSubItemActiveFormat}}}}},xe=function(i){
return{$extend:e.SlideInPopupView,backgroundColor:B.overlayBackground,subViewRegistrations:{$extend:e.ViewRegistrations,protection:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.ImageView,width:313,height:t.singleton.getScreenHeight(),x:t.singleton.getScreenWidth(se-313),y:0,uri:"/assets/images/protection/desktop/profile_sidebar_protection.png",isReadyInit:!0}},watchlist:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"WatchlistMasterDetail",template:{$extend:e.MasterDetailView,masterViewTemplate:{$extend:e.ItemsView,x:t.singleton.getScreenWidth(-312+se),width:312,height:t.singleton.getScreenHeight(),primaryAxis:k.VERTICAL,itemSpacing:33,selectedIndex:i,backgroundColor:B.opaqueBlack,itemTemplateMap:{WatchlistTitle:Ee("Watchlist",r.WATCHLIST),ContinueWatchingTitle:Ee("ContinueWatching",r.CONTINUE_WATCHING_POPUP)},contentPadding:{top:59,left:40,right:50,bottom:100}},detailViewTemplateMap:{Watchlist:oe.WatchlistView,ContinueWatching:oe.ContinueWatchingView}}},close:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:G.OverlayCloseView}}}};oe.WatchlistOverlayView=xe(0),oe.ContinueWatchingOverlayView=xe(1),oe.ProfileOverlayView=function(i){return{$extend:e.SlideInPopupView,$type:P,backgroundColor:B.overlayBackground,subViewRegistrations:{$extend:e.ViewRegistrations,userprofile:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"UserProfileMasterDetail",template:{$extend:e.MasterDetailView,analyticsValue:r.PROFILE,initialSelectedItemName:i,masterViewTemplate:{$extend:e.ItemsView,x:t.singleton.getScreenWidth(-312+se),width:312,height:t.singleton.getScreenHeight(),primaryAxis:k.VERTICAL,itemSpacing:33,selectedIndex:0,backgroundColor:B.overlayBackground,itemTemplateMap:{ResProfileViewTitle:Ee("Profile",r.PROFILE),ResDeviceManagementViewTitle:Ee("DeviceManagement",r.DEVICE_MANAGEMENT),ResLanguageViewTitle:Ee("Language",r.LANGUAGE),ResNotificationViewTitle:Ee("Notifications",r.NOTIFICATIONS),ResBillingInfoTitle:Ee("BillingInfo",r.BILLING_INFO),ResParentalControlsViewTitle:Ee("ParentalControls",r.PARENTAL_CONTROLS),ResPaymentMethodTitle:Ie("PaymentMethod",r.PAYMENT_METHOD),ResSignOut:Ee("signOutLink",r.SIGN_OUT)},contentPadding:{top:59,left:40,right:50,bottom:100}},detailViewTemplateMap:{ProfileUnavailableErrorVM:j.ProfileUnavailableErrorView,ProfileVM:j.ProfileView,DeviceManagementVM:j.DeviceManagementContainer,LanguageVM:j.LanguageContainer,NotificationVM:j.NotificationsContainer,BillingInfoVM:j.BillingInfoView,ParentalControlsVM:j.ParentalControlsView,PaymentMethodVM:j.PaymentMethodView,SignOutVM:j.SignOutView}}},close:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:G.OverlayCloseView}}}},ne.PCSettingsOverlayView=oe.ProfileOverlayView("ParentalControls");var Ae={$extend:e.CompositeView,forwardOwnershipForSubViews:!0,width:535,layout:J.stackedRow,layoutProps:{margin:{top:20}},subViewRegistrations:{$extend:e.ViewRegistrations,moviesLabel:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPCMoviesLabel",template:{$extend:e.TextView,maxLines:void 0,width:267.5,horizontalAlignment:D.RIGHT,layoutProps:{margin:{right:10}},format:U.formInstructionsDetailsFormat}},moviesRating:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:!0,viewModelPropertyPath:"mergedRating.movie.name",template:{$extend:e.TextView,maxLines:void 0,width:267.5,horizontalAlignment:D.LEFT,format:U.formInstructionsDetailsFormat}}}},ke={$extend:e.CompositeView,forwardOwnershipForSubViews:!0,width:535,layout:J.stackedRow,subViewRegistrations:{$extend:e.ViewRegistrations,tvLabel:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPCTVLabel",template:{$extend:e.TextView,width:267.5,maxLines:void 0,horizontalAlignment:D.RIGHT,layoutProps:{margin:{right:10}},format:U.formInstructionsDetailsFormat}},tvRating:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:!0,viewModelPropertyPath:"mergedRating.tv.name",template:{$extend:e.TextView,maxLines:void 0,width:267.5,horizontalAlignment:D.LEFT,format:U.formInstructionsDetailsFormat}}}},Ve=d.singleton.generateTextButton({baseTemplate:G.activeFormButton,buttonPartialTemplate:{width:455,layoutProps:{margin:{top:40,left:40,bottom:40}}},labelPartialTemplate:{width:455}}),Me=d.singleton.generateTextButton({baseTemplate:G.activeFormButton,buttonPartialTemplate:{width:197.5,layoutProps:{margin:{top:40,left:20,bottom:40}}},labelPartialTemplate:{width:197.5}}),De=d.singleton.generateTextButton({baseTemplate:G.cancelFormButton,buttonPartialTemplate:{width:197.5,layoutProps:{margin:{top:40,left:60,bottom:40}}},labelPartialTemplate:{width:197.5}}),Oe={$extend:e.CompositeView,layout:J.stackedRow,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:e.ViewRegistrations,noThanks:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPCDialogNoThanks",template:De,attachFromOwner:!0},changeSettings:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPCDialogChangeSettings",template:Me,attachFromOwner:!0}}},Ne={$extend:e.CompositeView,width:535,x:me,y:174,backgroundColor:B.darkestGray,forwardOwnershipForSubViews:!0,layout:J.stacked,subViewRegistrations:{$extend:e.ViewRegistrations,close:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:d.singleton.generateImageButton({layoutProps:{margin:{top:15,left:535-ue-15}},width:ue,height:ue},{initial:pe,hovered:he,pressed:ge,disabled:fe})},title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPCDialogTitle",template:{$extend:e.TextView,format:U.pageTitle,width:535,horizontalAlignment:D.CENTER}},text:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPCDialogPrefix",template:{$extend:e.TextView,format:U.formInstructionsDetailsFormat,width:455,horizontalAlignment:D.CENTER,maxLines:void 0,layoutProps:{margin:{top:20,left:40}}}},moviesRating:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:Ae},tvRating:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:ke},linkText:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:!0,requireViewModel:!0,template:{$extend:e.TextView,format:U.formInstructionsDetailsFormat,width:455,horizontalAlignment:D.CENTER,maxLines:void 0,layoutProps:{margin:{top:20,left:40}}}},question:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,viewModelFactoryId:"ResPCDialogPostfixDesktop",template:{$extend:e.TextView,format:U.formInstructionsDetailsFormat,width:535,horizontalAlignment:D.CENTER,layoutProps:{margin:{top:20}}}},pcUrl:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:!0,requireViewModel:!0,template:{$extend:e.HyperlinkView,layoutProps:{margin:{top:20,left:40}},subViewTemplate:{$extend:e.TextView,format:U.formInstructionsDetailsFormat,width:455,maxLines:void 0,horizontalAlignment:D.CENTER,transitionMap:{initial:{set_format:{$type:E,to:U.formInstructionsLinkFormat}},hovered:{set_format:{$type:E,to:U.formInstructionsLinkHoveredFormat}}}}}},confirm:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResOk",attachFromOwner:!0,isActiveFromOwner:!0,template:Ve},settingsButtons:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:Oe,isActiveFromOwner:!0}}};ne.PCDialogView={$type:N,$extend:e.PopupView,backgroundColor:ce,subViewRegistrations:{$extend:e.ViewRegistrations,dialog:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:Ne}}};var Fe=q.byScreen({monitor:{top:24,right:30},tablet:{top:20,right:20},phone:{top:function(){return A.singleton.reservedMargins.top+A.singleton.safeMargins.top},right:function(){return A.singleton.reservedMargins.right+A.singleton.safeMargins.right}}});oe.InteractiveContentCloseButtonRegistration={$extend:e.ViewRegistration,template:{$extend:G.OverlayCloseView,layoutProps:{margin:Fe}}};var Le=q.byScreen({monitor:70,tablet:80,phone:45});ne.interactiveDocumentTemplate={$extend:e.CompositeView,backgroundColor:B.interactiveContentBackground,subViewRegistrations:{$extend:e.ViewRegistrations,titleBar:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,isReadyInit:!0,height:Le,backgroundColor:B.opaqueBlack,subViewRegistrations:{$extend:e.ViewRegistrations,title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.docTitle",template:{$extend:e.TextView,isReadyInit:!0,format:U.interactiveDocumentTitle,x:q.byScreen({monitor:30,tablet:43,phone:18}),y:q.byScreen({monitor:30,tablet:33,phone:17})}}}}},viewer:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.docViewer",template:{$extend:e.WebFrameView,backgroundColor:B.darkestGray,y:Le}},close:{$extend:oe.InteractiveContentCloseButtonRegistration,order:oe.subViewRegistrationOrder++}},transitionMap:W.defaultFadeTransition};var Be=q.byDesign({desktop:7,mobile:0});ne.interactiveMicrositeTemplate={$extend:e.CompositeView,backgroundColor:B.interactiveContentBackground,subViewRegistrations:{$extend:e.ViewRegistrations,microsite:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.microsite",template:{$extend:e.WebFrameView,backgroundColor:B.darkestGray}},closeBackground:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.View,isReadyInit:!0,backgroundColor:B.interactiveContentBackground,width:de+2*Be,height:de+2*Be}},close:{$extend:oe.InteractiveContentCloseButtonRegistration,order:oe.subViewRegistrationOrder++}},transitionMap:W.defaultFadeTransition};var He=function(e){return t.singleton.getScreenWidth(-304)(e)/2},Ue={$extend:e.CompositeView,width:250,height:40,layout:J.anchored,subViewRegistrations:{$extend:e.ViewRegistrations,deviceName:{$extend:e.ViewRegistration,viewModelPropertyPath:"friendlyName",useOwnerViewModel:!0,template:{$extend:e.TextView,isInvokable:!0,isPointerTarget:!0,maxLines:1,width:250,height:40,horizontalAlignment:D.LEFT,spanAlignment:D.LEFT,verticalAlignment:O.CENTER,format:U.overlayPrompt}}}},$e=o.dpiAwareImageUri("/assets/images/buttons/mobile/chromecast_available","png"),We={$extend:e.ImageView,width:44,height:44,uri:$e},je=function(t){return{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,height:44,subViewRegistrations:{$extend:e.ViewRegistrations,receiverIcon:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:We,uri:$e,x:-11}},receiverName:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:void 0===t,viewModelFactoryId:t,template:{$extend:e.TextView,format:U.chromecastReceiverNameText,height:44,x:30,verticalAlignment:O.CENTER}}}}}},Ge={x:He,y:164,$extend:e.CompositeView,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:e.ViewRegistrations,title:je("ResChromeCastListTitle"),allDevices:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ChromecastDeviceList",template:{$extend:e.ItemsView,itemTemplateMap:{ChromecastDevice:Ue},canScrollVertically:!0,showScrollbar:!0,y:75,width:304,height:t.singleton.getScreenHeight(-239),itemSpacing:46,contentPadding:{top:0,left:0,right:0,bottom:46},fixedItemWidth:250,fixedItemHeight:40}}}},ze={x:He,y:164,$extend:e.CompositeView,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:e.ViewRegistrations,title:je(),readyMessage:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResChromecastReadyMessage",template:{$extend:e.TextView,y:75,format:U.chromecastSubText}},disconnectButton:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResChromecastDisconnectButton",template:{$extend:e.TextView,format:U.chromecastButtonText,y:75+U.chromecastSubText.size+48,isInvokable:!0,isPointerTarget:!0}}}},Ke=q.byScreen({phone:53,default:75}),Ye=q.byScreen({phone:132,default:136}),qe=function(e){return function(t){return ie(t,Ke)+e}},Qe=function(e){return ie(e,t.singleton.getScreenWidth())-ie(e,He)-ie(e,Ye)-10},Xe={x:Ye,y:Ke,width:Qe,layoutProps:X.layouts.anchorTopLeft},Je=qe(25),Ze=qe(112),et={x:He,y:164,$extend:e.CompositeView,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:e.ViewRegistrations,title:je(),assetSubTitleArea:function(t,i){return{$extend:e.ViewRegistration,useOwnerViewModel:!0,template:{$extend:e.CompositeView,isReadyInit:!0,forwardOwnershipForSubViews:!0,width:t.width,layout:{$type:F,primaryAxis:k.VERTICAL,spacing:0},layoutProps:t.layoutProps,isPointerTarget:!0,subViewRegistrations:L({$extend:e.ViewRegistrations},i),x:t.x,y:t.y}}}(Xe,{assetTitle:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:!0,template:{$extend:e.TextView,format:U.chromecastAssetText,maxLines:3,width:Xe.width}},subTitle:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,getViewModelFromOwner:!0,isActiveFromOwner:!0,template:{$extend:e.TextView,format:U.chromecastSubText}}}),thumbnail:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,attachFromOwner:!0,template:{$extend:e.ImageView,width:120,height:68,y:Ke}},play:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,template:d.singleton.generateImageButton({width:14,height:18,x:53,y:Je},{initial:"/assets/images/player_controls/desktop/btn_play_default.png"})},pause:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,template:d.singleton.generateImageButton({width:14,height:18,x:53,y:Je},{initial:"/assets/images/player_controls/desktop/btn_pause_default.png"})},disconnectButton:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResChromecastDisconnectButton",template:{$extend:e.TextView,format:U.chromecastButtonText,isInvokable:!0,isPointerTarget:!0,y:Ze}}}};ne.ChromecastOverlayView={$extend:e.PopupView,$type:w,fallbackNowPlayingImageUri:"/assets/images/chromecastPlaceholder.png",chromecastMenuRefreshMS:1e3,backgroundColor:B.overlayBackground,subViewRegistrations:{$extend:e.ViewRegistrations,close:{$extend:e.ViewRegistration,attachFromOwner:!0,order:oe.subViewRegistrationOrder++,template:{$extend:te.chromecast,x:-A.singleton.naturalWidth}},deviceListView:{isActiveFromOwner:!0,$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:Ge},connectedDeviceView:{isActiveFromOwner:!0,$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:ze},nowPlayingDeviceView:{isActiveFromOwner:!0,$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:et}}};var tt=function(e){return.7*(le()(e)-48)},it=function(t,i,n){var o={margin:{left:16},anchor:{left:!0}},r={margin:{right:16},anchor:{right:!0}},a={$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layout:J.anchored,width:le(),height:44,backgroundColor:B.opaqueBlack,subViewRegistrations:{$extend:e.ViewRegistrations,title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:i,template:{$extend:e.TextView,format:U.settingsNameTextFormat,verticalAlignment:O.CENTER,maxLines:1,layoutProps:o,width:function(e){return.3*(le()(e)-32)}}}}}};return a.template.subViewRegistrations[t]={$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:{$extend:f.singleton.exports.formTextInputView,horizontalAlignment:D.LEFT,keyboardType:x.EMAIL,keyboardReturnKeyType:n,layoutProps:r,format:U.settingsNameTextFormat,width:tt,height:44}},a},nt=function(){return{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.View,width:le(),height:1,backgroundColor:B.mineShaftGray,isReadyInit:!0}}};ne.PINDialogView=q.byDesign({desktop:{$extend:e.PopupView,$type:y},mobile:{$extend:e.PopupView,$type:y,backgroundColor:ce,transitionMap:q.byScreen({tablet:Q.defaultFadeTransition,phone:_e}),width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(),layout:J.anchored,subViewRegistrations:{$extend:e.ViewRegistrations,fauxNavBar:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:{$extend:Z.anchorFillTopCropTop,margin:{top:ae}},layout:J.anchored,width:t.singleton.getScreenWidth(),height:44,backgroundColor:B.opaqueBlack,subViewRegistrations:{$extend:e.ViewRegistrations,title:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelPropertyPath:"subViewModels.title",isActiveFromOwner:!0,useOwnerViewModel:!0,template:{$extend:e.TextView,layoutProps:{anchor:{top:!0},margin:{top:10}},format:U.PINDialogTitleFormat,horizontalAlignment:D.CENTER,width:t.singleton.getScreenWidth()}},cancel:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,viewModelFactoryId:"ResCancel",template:{$extend:G.regularActionButton,layoutProps:{anchor:{left:!0,top:!0},margin:{left:13,top:10}}}},emailTitle:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPINEmailTitle",isActiveFromOwner:!0,template:{$extend:e.TextView,layoutProps:{anchor:{top:!0},margin:{top:10}},format:U.PINDialogTitleFormat}},save:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,isActiveFromOwner:!0,viewModelFactoryId:"ResSave",template:{$extend:G.regularActionButton,layoutProps:{anchor:{right:!0,top:!0},margin:{right:13,top:10}}}}}}},PINContent:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,attachFromOwner:!0,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:{anchor:{top:!0},margin:{top:12}},layout:J.stackedColumnCentered,subViewRegistrations:{$extend:e.ViewRegistrations,prompt:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelPropertyPath:"subViewModels.prompt",useOwnerViewModel:!0,template:{$extend:e.TextView,layoutProps:{margin:{top:44,left:16,right:16}},format:U.PINDialogTextFormat,horizontalAlignment:D.CENTER,maxLines:void 0,width:le(-32)}},hiddenPinInputView:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,template:{$type:C,$extend:Y.formTextInputView,layoutProps:{margin:{top:44}},shouldReveal:!1,keyboardType:x.NUMBER_PAD,height:50,width:function(e){return 2*t.singleton.getScreenWidth()(e)},isPointerTarget:!0,transitionMap:{initial:{opacity:{$type:E,to:0}}}}},slotMachine:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPINBlanks",template:{$extend:e.TextView,layoutProps:{margin:{top:-50}},format:U.PINSlotMachineTextFormat,maxLines:1,height:50,width:le(-32),verticalAlignment:O.CENTER,horizontalAlignment:D.CENTER}},progressMessage:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResSpaceChar",requireViewModel:!0,template:{$extend:e.TextView,layoutProps:{margin:{top:20}},horizontalAlignment:D.CENTER,format:U.PINDialogTextFormat,maxLines:2,width:le(-32)}},errorMessage:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,requireViewModel:!0,template:{$extend:e.TextView,layoutProps:{margin:{top:-15}},horizontalAlignment:D.CENTER,format:U.PINErrorTextFormat,maxLines:2,width:le(-32)}},forgotPin:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,attachFromOwner:!0,isActiveFromOwner:!0,viewModelFactoryId:"ResForgotPINButton",template:{$extend:G.boldActionButton,layoutProps:{margin:{top:44}}}}}}},email:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,isActiveFromOwner:!0,template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,layoutProps:Z.anchorTop,layout:J.stacked,subViewRegistrations:{$extend:e.ViewRegistrations,instruction:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:"ResPINEmailPrompt",template:{$extend:e.TextView,format:U.settingsNameTextFormat,verticalAlignment:O.CENTER,maxLines:void 0,layoutProps:{margin:{left:16,top:18,bottom:18,right:16}},width:le(-32)}},fullSeparator1:nt(),email:it("emailInputView","ResProfileEmailTitle",M.NEXT),fullSeparator2:nt(),confirmEmail:it("confirmEmailInputView","ResProfileConfirmEmailTitle",M.DONE),fullSeparator3:nt()}}}}}}),q.byDesignCall({mobile:function(){var i=function(i){return{$extend:e.PopupView,$type:b,backgroundColor:ce,transitionMap:W.defaultFadeTransition,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(),layout:J.anchored,subViewRegistrations:{$extend:e.ViewRegistrations,fauxNavBar:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.CompositeView,layout:J.stackedColumnCentered,subViewRegistrations:{$extend:e.ViewRegistrations,title:void 0!==i?{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,viewModelFactoryId:i,template:{$extend:e.TextView,layoutProps:{margin:{bottom:28}},format:U.TransientTextFormat}}:void 0,spinner:{$extend:e.ViewRegistration,order:oe.subViewRegistrationOrder++,template:{$extend:e.LoadingSpinnerView}}}}}}}};ne.InteractivityBlockingView=i(),ne.InteractivityBlockingViewSaving=i("ResSaving")}})},_tileFit:function(e,i,n,o,r,a){var s=t.singleton.getScreenWidth(-n)(a),l=(s+o)/(r+o);l=Math.floor(l);var c=void 0===i?l:Math.min(i,l),d=void 0===e?c:Math.max(e,c);return Math.max(d,0)},_fittedItemsViewWidth:function(e,t,i,n,o,r,a){var s=this._tileFit(e,t,i,o,r,a);return s*r+(s-1)*o+n},_fittedInputWidth:function(e){return t.singleton.getScreenWidth(-85)(e)}})})})}(),function(){"use strict";define("design/ParentalControlsWarning",["core/oop","core/data/ModelFactory","core/PromiseManager","dataservices/authentication/AuthenticationManager","platform/common/Rating","design/ErrorUXManager","design/ScreenUtil"],function(e,t,i,n,o,r,a){return e.classDef("design.ParentalControlsWarning",i,function(i){e.singleton(function(){this._onIsAuthenticatedChangedCallback=this._onIsAuthenticatedChanged.bind(this),n.singleton.isAuthenticatedChanged.on(this._onIsAuthenticatedChangedCallback),this._hasBeenDisplayed=!1,i.$ctor.call(this)}),e.properties({_hasBeenDisplayed:void 0,_onIsAuthenticatedChangedCallback:void 0}),e.methods({_onIsAuthenticatedChanged:function(e){a.singleton.byDesignCall({mobile:this._showParentalControlsWarning.bind(this,e)})},_showParentalControlsWarning:function(e){if(!0!==e)return void(this._hasBeenDisplayed=!1);if(!0!==this._hasBeenDisplayed){var i=this;this.runUntilDisposed("checkPC",function(){return t.singleton.create("User","User").mergedRating.then(function(e){(e.tv.code<o.TelevisionCodes.TVMA||e.movie.code<o.TheatricalCodes.NC17)&&(i._hasBeenDisplayed=!0,r.singleton.showParentalControlsStatus(!0))})})}},_disposeCore:function(){n.singleton.isAuthenticatedChanged.off(this._onIsAuthenticatedChangedCallback),i._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("design/ChromecastCoachmark",["core/oop","design/CoachmarkBase","ui/navigation/Navigator","platform/ChromecastWrapper","design/DesignSettings"],function(e,t,i,n,o){return e.classDef("design.ChromecastCoachmark",t,function(t){e.singleton(function(){t.$ctor.call(this,o.singleton.CHROMECASTCOACH_KEY,"ChromecastCoachmark"),i.singleton.navigated.on(this._onNavigated.bind(this))}),e.methods({_onNavigated:function(){this.showCoachmark()},showCoachmark:function(){var e=n.singleton.getChromecast();if(!1===this._wasViewed&&!0===e.showCoachmark&&!0===e.isAvailable){var t=this._getButtonRect("Chromecast"),o=i.singleton.getActiveBreadcrumb();void 0!==t&&"Player"!==o.locationName&&this._showPopup(t)}}})})})}(),function(){"use strict";define("design/views/NavigationBarView",["core/oop","ui/navigation/Navigator","dataservices/authentication/AuthenticationManager","dataservices/WatchlistCache","design/KidsLock","design/NavigationRouter","design/ParentalControlsWarning","design/PopupManager","design/ScreenUtil","design/views/NavigationBarViewManager","ui/logging/UserInteractionLogEntry","design/analytics/UserInteractionTargets","platform/common/NetworkConnectionState","platform/ChromecastWrapper","platform/dependent/AirPlay","platform/dependent/graphics/Viewport","ui/views/CompositeView","ui/TemplateManager","ui/ViewModelFactory","lib/lodash/collections/forEach","design/ChromecastCoachmark","design/KidsLockCoachmark"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b){return e.classDef("design.views.NavigationBarView",m,function(m){e.constructor(function(){m.$ctor.apply(this,arguments),this._chromecastAPI=h.singleton.getChromecast(),this._parentalControlsWarning=a.singleton,this._registerEventHandlers(),this._getItemRegistrationsCallback=c.singleton.registerNavBar(this),this._onMenuInvokedCallback=this._onMenuInvoked.bind(this),this._onBackInvokedCallback=this._onBackInvoked.bind(this),this._onKidsLockInvokedCallback=this._onKidsLockInvoked.bind(this),this._onAirPlayInvokedCallback=this._onAirPlayInvoked.bind(this),this._onChromecastInvokedCallback=this._onChromecastInvoked.bind(this),this._onSearchInvokedCallback=this._onSearchInvoked.bind(this),this._onMenuOverlayClosedCallback=this._onMenuOverlayClosed.bind(this)}),e.properties({rightPadding:void 0,moreItemsLeftPadding:void 0,clearOnNavigate:{defaultValue:!1},currentCategoryId:{defaultValue:void 0,onChange:"_onCurrentCategoryIdChanged"},wasInPlayer:{defaultValue:!1},_chromecastAPI:void 0,_onAirPlayInvokedCallback:void 0,_onKidsLockInvokedCallback:void 0,_onSearchInvokedCallback:void 0,_onChromecastIsAvailableChangedCallback:void 0,_onBackInvokedCallback:void 0,_onMenuInvokedCallback:void 0,_menuOverlay:{get:function(){return s.singleton.getPersistentPopup("MenuOverlay")}},_onMenuOverlayClosedCallback:void 0,_chromecastAnimateCanceler:void 0,_chromecastAnimateInterval:{defaultValue:500},_onChromecastInvokedCallback:void 0,_onChromecastPopupClosedCallback:void 0,_chromecastPopup:void 0,_getItemRegistrationsCallback:void 0,_parentalControlsWarning:void 0,_waitingForLeftItemsToRealize:{defaultValue:!0},_waitingForCenterItemsToRealize:{defaultValue:!0},_waitingForRightItemsToRealize:{defaultValue:!0},_pendingLeftItemsRefresh:{defaultValue:!1},_pendingCenterItemsRefresh:{defaultValue:!1},_pendingRightItemsRefresh:{defaultValue:!1},_rightItems:{get:function(){return this._subViews.rightItems}},_leftItems:{get:function(){return this._subViews.leftItems}},_centerItems:{get:function(){return l.singleton.byDesignCall({mobile:function(){return this._subViews.centerItems._subViews.items}},this)}},_affiliateLogoItem:{get:function(){return this._rightItems.find("AffiliateLogo")}},_kidsLock:{get:function(){return this._leftItems.find("KidsLock")}},_chromecast:{get:function(){return this._rightItems.find("Chromecast")}},_airPlay:{get:function(){return this._rightItems.find("AirPlay")}},_search:{get:function(){return l.singleton.byDesignCall({mobile:function(){return this._rightItems.find("Search")},desktop:function(){return this._leftItems.find("Search")}},this)}},_menu:{get:function(){return this._leftItems.find("Menu")}},_back:{get:function(){return this._leftItems.find("Back")}},_title:{get:function(){return this._leftItems.find("VideoTitle")}},_rightCancel:{get:function(){return this._rightItems.find("RightCancel")}},_logo:{get:function(){return this.find("logo")}},_background:{get:function(){return this.find("background")}}}),e.methods({refreshItems:function(){this._refreshRightItems(),this._refreshLeftItems(),l.singleton.byDesignCall({mobile:this._refreshCenterItems},this)},setBackgroundState:function(e){this._setTransitionState(this._background,e,!0)},getButtonRect:function(e){var t,i=this;return[this._leftItems,this._rightItems].forEach(function(n){var o=n.find(e);void 0!==o&&(t=i._getButtonRect(o,n))}),t},_onCurrentCategoryIdChanged:function(e){var t=this._leftItems;void 0!==t.viewModel&&(t.viewModel.currentCategoryId=e,this._refreshLeftItems());var i=this._centerItems;void 0!==i&&void 0!==i.viewModel&&(i.viewModel.currentCategoryId=e,this._refreshCenterItems());var n=this._menuOverlay;void 0!==n&&(n.currentCategoryId=e)},_layoutActiveSubViews:function(){this._positionRightItems(),this._positionLeftItems(),m._layoutActiveSubViews.apply(this,arguments)},_leftItemsRealizedHandler:function(){this._waitingForLeftItemsToRealize=!1,!0===this._pendingLeftItemsRefresh?(this._pendingLeftItemsRefresh=!1,this._refreshLeftItems()):(this._updateMenuButtonState(),this._initializeMenuOverlay(),this._hookInvokeHandler(this._kidsLock,this._onKidsLockInvokedCallback),this._hookInvokeHandler(this._menu,this._onMenuInvokedCallback),this._hookInvokeHandler(this._back,this._onBackInvokedCallback),this._hookInvokeHandler(this._title,this._onBackInvokedCallback),this._updateKidsLockButtonState(),this._hookUpSearch("LEFT"),this._hookExternalInvokeHandlers(this._leftItems))},_centerItemsRealizedHandler:function(){this._waitingForCenterItemsToRealize=!1,!0===this._pendingCenterItemsRefresh&&(this._pendingCenterItemsRefresh=!1,this._refreshCenterItems())},_rightItemsRealizedHandler:function(){this._waitingForRightItemsToRealize=!1,!0===this._pendingRightItemsRefresh?(this._pendingRightItemsRefresh=!1,this._refreshRightItems()):(this._hookInvokeHandler(this._airPlay,this._onAirPlayInvokedCallback),this._hookInvokeHandler(this._chromecast,this._onChromecastInvokedCallback),this._hookInvokeHandler(this._rightCancel,this._onBackInvokedCallback),this._updateAirPlayButtonState(),this._hookUpSearch("RIGHT"),this._updateMenuButtonState(),this._hookExternalInvokeHandlers(this._rightItems))},_hookExternalInvokeHandlers:function(e){var t=this._getItemRegistrationsCallback(!0);this._unhookButtonRegistrations(e,t.deactivated),this._hookButtonRegistrations(e,t.active)},_unhookButtonRegistrations:function(e,t){y(t,function(t){y(t,function(t){this._unhookInvokeHandler(e.find(t.name),t.invokeCallback)},this)},this)},_hookButtonRegistrations:function(e,t){y(t,function(t){y(t,function(t){var i=e.find(t.name);void 0!==i&&(void 0!==t.invokeCallback&&this._hookInvokeHandler(i,t.invokeCallback),void 0!==t.realizedCallback&&t.realizedCallback(i))},this)},this)},_hookInvokeHandler:function(e,t){this._unhookInvokeHandler(e,t),void 0!==e&&void 0!==t&&this.hookUntilDisposed(e,"invoked",t)},_unhookInvokeHandler:function(e,t){void 0!==e&&void 0!==t&&e.invoked.off(t)},_positionLeftItems:function(){this._updateMenuClosePosition(),this._updateKidsLockImagePosition()},_positionRightItems:function(){this._rightItems.x=this.width-this._rightItems.width-this.rightPadding-f.singleton.safeMargins.right;var e=this._affiliateLogoItem;void 0!==e&&e.height>0&&(e.y=Math.round((this.height-e.height)/2)),this._updateChromecastClosePosition()},_updateKidsLockImagePosition:function(){void 0!==this._getButtonRect(this._kidsLock,this._leftItems)&&b.singleton.showCoachmark()},_updateChromecastClosePosition:function(){var e=this._getButtonRect(this._chromecast,this._rightItems);if(void 0!==e){if(void 0!==this._chromecastPopup){var t=this._chromecastPopup.find("close");t.x=e.x,t.y=e.y}w.singleton.showCoachmark()}},_updateMenuClosePosition:function(){var e=this._menu;if(void 0!==e){var t=this._menuOverlay;void 0!==t&&(t.closePosition={x:e.x+this._leftItems.x,y:e.y+this._leftItems.y})}},_getButtonRect:function(e,t){if(void 0!==e){return{x:t.x+e.x,y:t.y+e.y,width:e.width,height:e.height}}},_onWatchlistCacheRefreshed:function(){l.singleton.byDesignCall({desktop:this._refreshRightItems,mobile:this._refreshLeftItems},this)},_onNavigated:function(){if(g.singleton.closeDevicePicker(),this._leftItems.selectedIndex=-1,this._closeMenuOverlay(),
!0===this.clearOnNavigate){c.singleton.clearNavBarRegistrations(this);void 0!==this._background&&this._background.additionalTransitionStates.removeAll()}},_closeMenuOverlay:function(){var e=this._menuOverlay;void 0!==e&&e.close()},_initializeMenuOverlay:function(){if(void 0!==this._menu&&void 0!==this.viewModel){var e=this._menuOverlay;if(void 0===e){e=s.singleton.createPersistentPopup("MenuOverlay");var t=this.viewModel.dataModel;e.viewModel=_.singleton.create("MenuOverlay",t)}}},_onIsAuthenticatedChanged:function(){this._refreshLeftItems(),this._refreshRightItems()},_onKidsLockChanged:function(){this._refreshLeftItems()},_onAirPlayChanged:function(){this._refreshRightItems()},_setTransitionState:function(e,t,i){!0===i?!1===this._getTransitionState(e,t)&&e.additionalTransitionStates.add(t):e.additionalTransitionStates.remove(t)},_getTransitionState:function(e,t){return-1!==e.additionalTransitionStates.indexOf(t)},_updateAirPlayButtonState:function(){var e=g.singleton.isAvailable,t=this._airPlay;!1===e&&g.singleton.closeDevicePicker(),void 0!==t&&(t.isEnabled=e,this._setTransitionState(t.find("icon"),"connected",g.singleton.hasSession))},_updateKidsLockButtonState:function(){var e=this._kidsLock;void 0!==e&&this._setTransitionState(e.find("icon"),"locked",o.singleton.locked)},_onKidsLockInvoked:function(e){e.handled=!0,!0===this._getTransitionState(e.target.find("icon"),"locked")?o.singleton.unlock():o.singleton.lock()},_onAirPlayInvoked:function(e){e.handled=!0;var t=e.target,i=this._rightItems.x+t.x+Math.round(t.width/2),n=this._rightItems.y+t.y+t.height;g.singleton.tryOpenDevicePicker(i,n)},_onSearchInvoked:function(e){d.new({area:"design.views.NavigationBarVIew._onSearchInvoked",target:u.SEARCH}).log(),e.handled=!0,r.singleton.navigateToSearch()},_hookUpSearch:function(e){!0===l.singleton.byDesign({desktop:"LEFT"===e,mobile:"RIGHT"===e})&&this._hookInvokeHandler(this._search,this._onSearchInvokedCallback),this._updateSearchButtonState()},_updateSearchButtonState:function(){var e=this._search;void 0!==e&&(e.isEnabled=!o.singleton.locked)},_updateMenuButtonState:function(){var e=this._menu;void 0!==e&&(!0===o.singleton.locked?e.isEnabled=!1:e.isEnabled=!0)},_onChromecastIsAvailableChanged:function(){this._refreshRightItems()},_onMenuInvoked:function(e){e.handled=!0;var t=this._menuOverlay;t.closed.off(this._onMenuOverlayClosedCallback),t.closed.on(this._onMenuOverlayClosedCallback),t.open(),this._updateMenuClosePosition()},_onMenuOverlayClosed:function(){var e=this._menuOverlay;e.closed.off(this._onMenuOverlayClosedCallback),e.close()},_onChromecastInvoked:function(e){if(e.handled=!0,void 0===this._chromecastPopup)if(this._chromecastAPI.connectionState!==p.CONNECTING){var t=v.singleton.getTemplate("ChromecastOverlayView");this._chromecastPopup=s.singleton.openPopup(t),this._onChromecastPopupClosedCallback=this._onChromecastPopupClosed.bind(this),this._chromecastPopup.closed.on(this._onChromecastPopupClosedCallback),this._updateChromecastClosePosition()}else this._chromecastAPI.destroySession().catch(this._doNothing);else this._tryClosePopup(this._chromecastPopup)},_onChromecastPopupClosed:function(){void 0!==this._chromecastPopup&&(this._chromecastPopup.closed.off(this._onChromecastPopupClosedCallback),this._onChromecastPopupClosedCallback=void 0,this._chromecastPopup=void 0)},_tryClosePopup:function(e){void 0!==e&&e.close()},_onBackInvoked:function(e){e.handled=!0,t.singleton.getHistory().length>0&&r.singleton.navigateBackOnly()},_refreshLeftItems:function(){!0===this._waitingForLeftItemsToRealize?this._pendingLeftItemsRefresh=!0:(this._waitingForLeftItemsToRealize=!0,this._refreshItemsViewModel(this._leftItems.viewModel))},_refreshCenterItems:function(){!0===this._waitingForCenterItemsToRealize?this._pendingCenterItemsRefresh=!0:(this._waitingForCenterItemsToRealize=!0,this._refreshItemsViewModel(this._centerItems.viewModel))},_refreshRightItems:function(){!0===this._waitingForRightItemsToRealize?this._pendingRightItemsRefresh=!0:(this._waitingForRightItemsToRealize=!0,this._refreshItemsViewModel(this._rightItems.viewModel))},_refreshItemsViewModel:function(e){void 0!==e&&e.refreshData()},_createViewModelForItems:function(e,t){var i=_.singleton.create(e,t);return i.getItemRegistrationsCallback=this._getItemRegistrationsCallback.bind(void 0,!1),i},_createViewModelForLeftItems:function(e){var t=this._createViewModelForItems("NavigationBarLeftItems",e);return t.currentCategoryId=this.currentCategoryId,t},_createViewModelForCenterItems:function(e){var t=this._createViewModelForItems("NavigationBarCenterItems",e);return t.currentCategoryId=this.currentCategoryId,t},_onSubViewsReady:function(){if(void 0!==this.viewModel&&void 0!==this.viewModel.dataModel){var e=this.viewModel.dataModel,t=this._leftItems;void 0===t.viewModel&&(t.viewModel=this._createViewModelForLeftItems(e));var i=this._centerItems;void 0!==i&&void 0===i.viewModel&&(i.viewModel=this._createViewModelForCenterItems(e));var n=this._rightItems;void 0===n.viewModel&&(n.viewModel=this._createViewModelForItems("NavigationBarRightItems",e)),l.singleton.byDesignCall({desktop:function(){var t=this._logo;void 0!==t&&void 0===t.viewModel&&(t.viewModel=_.singleton.create("HomeHyperlink",e))}},this)}m._onSubViewsReady.apply(this,arguments)},_registerEventHandlers:function(){var e=this._hud.bind(this);e(n.singleton,"refreshed",this._onWatchlistCacheRefreshed),e(i.singleton,"isAuthenticatedChanged",this._onIsAuthenticatedChanged),e(t.singleton,"navigated",this._onNavigated),e(this._rightItems,"layoutRequested",this._positionRightItems),e(this._rightItems,"itemsRealized",this._rightItemsRealizedHandler),e(this._leftItems,"layoutRequested",this._positionLeftItems),e(this._leftItems,"itemsRealized",this._leftItemsRealizedHandler),l.singleton.byDesignCall({mobile:function(){e(this._chromecastAPI,"isAvailableChanged",this._onChromecastIsAvailableChanged),e(o.singleton,"kidsLockedChanged",this._onKidsLockChanged),e(g.singleton,"isAvailableChanged",this._onAirPlayChanged),e(g.singleton,"hasSessionChanged",this._onAirPlayChanged),e(this._centerItems,"itemsRealized",this._centerItemsRealizedHandler)}},this)},_hud:function(e,t,i){this.hookUntilDisposed(e,t,i.bind(this))},_disposeCore:function(){this._tryClosePopup(this._chromecastPopup),m._disposeCore.apply(this,arguments)}})})})}(),function(){"use strict";define("design/views/PaywallPopupLinkView",["core/oop","design/views/PopupLinkView","ui/ViewModelFactory","ui/navigation/Navigator"],function(e,t,i,n){return e.classDef("design.views.PaywallPopupLinkView",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.methods({_doInvoked:function(e){var o=this;return e.handled=!0,i.singleton.create("Paywall").redirectUrl.then(function(i){void 0===i?t._doInvoked.call(o,e):n.singleton.navigateExternal(i,!1)})}})})})}(),function(){"use strict";define("design/views/react/Paywall/PaywallActionsContainerStyles",["core/oop","ui/Axis","ui/StackedLayout","ui/StyleSheet","ui/Transition","design/ScreenUtil","design/styles/StyleConstants","design/views/react/FormButton/FormButtonStyles","platform/common/TextFormat"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.views.react.Paywall.PaywallActionsContainerStyles",Object,function(){e.singleton(function(){var e=a.singleton.exports,c=s.singleton.exports,d=r.singleton.byScreen({tablet:{font:e.fonts.medium,color:e.colors.whiteSmoke,size:16,lineHeight:20},phone:{font:e.fonts.medium,color:e.colors.whiteSmoke,size:16,lineHeight:20},monitor:{font:e.fonts.book,color:e.colors.whiteSmoke,size:18,uppercase:!0,letterSpacing:1.6}});this.exports=n.create({paywallView:{name:"PaywallActionsContainerView",layout:i.new({primaryAxis:t.VERTICAL,alignAlongPrimaryAxis:!0,spacing:20})},paywallCtaButtonBase:{container:n.flatten([c.actionButtonStyles.container,{borderThickness:0,borderRadius:2}]),text:{format:l.new(d)}},paywallCtaButtonDefault:{transitionMap:{initial:{set_backgroundColor:o.new({to:e.colors.mediumBlue})}}},paywallCtaButtonNormal:{transitionMap:{initial:{set_backgroundColor:o.new({to:e.colors.darkBlue})}}}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/Paywall/PaywallActionsContainer",["core/AsyncManager","core/Exception","core/logging/Levels","design/views/react/ReactPrimitives","design/views/react/Paywall/PaywallActionsContainerStyles","design/views/react/FormButton/FormActionButtonComponent","lib/react","ui/StyleSheet"],function(o,r,a,s,l,c,d,u){var p=s.View;return function(s){function h(i){e(this,h);var n=t(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i));return n.props=i,n.state={callsToAction:void 0,viewModel:void 0},n.ctaButtonStyle={width:i.paywallParams.ctaWidth,height:i.paywallParams.ctaHeight,layoutProps:{margin:i.paywallParams.ctaMargin}},n._asyncManager=o.new(),n}return i(h,s),n(h,[{key:"componentDidUpdate",value:function(e,t){if(void 0===t.viewModel&&void 0!==this.state.viewModel){var i=this;this._asyncManager.runUntilDisposed("updateActions",function(){return i.state.viewModel.value.then(function(e){i.setState({callsToAction:e})}).catch(function(e){r.wrap(e,{message:"Paywall property reading promise rejected",level:a.WARNING,area:"design.views.PaywallView.constructor"}).logTelemetry()})})}}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"render",value:function(){var e,t=this,i=l.singleton.exports;return void 0!==this.state.callsToAction&&(e=this.state.callsToAction.map(function(e,n){var o=u.flatten([i["paywallCtaButton"+(0===n?"Default":"Normal")],{name:"paywallCtaButton"+n},t.ctaButtonStyle]);return d.createElement(c,{key:e.action,text:e.title,defaultStyles:i.paywallCtaButtonBase,style:o})})),d.createElement(p,{key:"PaywallActionsContainer",style:i.paywallView},e)}}]),h}(d.Component)})}(),function(){"use strict";define("design/PurchaseType",["core/oop"],function(e){return e.enumDef("design.PurchaseType",{RENEWAL:"renewal",NEWSUBSCRIPTION:"newsubscription"})})}(),function(){"use strict";define("design/logging/PopupShownLogEntry",["core/oop","core/logging/LogEntry"],function(e,t){return e.classDef("design.logging.PopupShownLogEntry",t,function(){e.initConstructor(function(){this._type="popupshow"})})})}(),function(){"use strict";define("design/views/PaywallView",["core/oop","lib/Promise","core/Exception","core/data/ExplicitValueProvider","core/logging/Levels","ui/viewModelProviders/ValueProvider","ui/ViewModelFactory","dataservices/types/ImagePurpose","dataservices/types/ImageSet","dataservices/types/NextSteps","design/NavigationRouter","design/InAppPurchaseResult","design/InAppPurchaseUtil","design/PurchaseType","platform/dependent/Process","platform/dependent/NativeDialogType","platform/common/PaywallConfirmation","design/views/PopupView","ui/views/RootView","ui/Localization","design/PopupManager","ui/TemplateManager","design/ScreenUtil","design/logging/PopupShownLogEntry","design/viewModelProviders/PaywallViewModelProvider","dataservices/authentication/AuthenticationManager","dataservices/types/ActivationAction"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P){return e.classDef("design.views.PaywallView",v,function(v){e.constructor(function(){this._handleHyperlinkInvokedCallback=this._handleHyperlinkInvoked.bind(this),v.$ctor.apply(this,arguments),this.viewModel=T.new(void 0,this.source),this.viewModel.paywallName.then(function(e){C.new({area:e}).log()}).catch(function(e){i.wrap(e,{message:"Paywall property reading promise rejected",level:o.WARNING,area:"design.views.PaywallView.constructor"}).logTelemetry()})}),e.events(["confirmed"]),e.properties({source:void 0,_backgroundImageUrlTemplate:void 0,_callsToAction:void 0,_handleHyperlinkInvokedCallback:void 0,_disableIAPAction:{defaultValue:!1}}),e.methods({_prepareSubViewModels:function(){var e=this;return v._prepareSubViewModels.apply(this,arguments).then(function(){var i=T.new(void 0,e.source);return t.props({backgroundImageUrl:i.backgroundImageUrl,callsToAction:i.callsToAction}).then(function(t){e._backgroundImageUrlTemplate=t.backgroundImageUrl,e._callsToAction=t.callsToAction})})},_isActiveCtaButton:function(){return void 0!==this._callsToAction&&0!==this._callsToAction.length},_attachCtaButton:function(e){this.hookUntilDisposed(e,"invoked",function(e){!0===this._dispatchAction(this._callsToAction[0])&&(e.handled=!0)}.bind(this))},_isActiveCtaBlock:function(){return void 0!==this._callsToAction&&0!==this._callsToAction.length},_attachCtaBlock:function(e){this.hookUntilDisposed(e,"invoked",this._handleActionButtonInvoked.bind(this))},_attachBody1:function(e){this.hookUntilDisposed(e,"hyperlinkInvoked",this._handleHyperlinkInvokedCallback)},_attachBody2:function(e){this.hookUntilDisposed(e,"hyperlinkInvoked",this._handleHyperlinkInvokedCallback)},_attachFooter:function(e){this.hookUntilDisposed(e,"hyperlinkInvoked",this._handleHyperlinkInvokedCallback)},_handleActionButtonInvoked:function(e){var t=parseInt(e.target.name.slice(-1),10),i=this._callsToAction[!1===isNaN(t)?t:0];!0===this._dispatchAction(i)&&(e.handled=!0)},_handleHyperlinkInvoked:function(e){!0===this._dispatchAction({action:e.uri})&&(e.handled=!0)},_dispatchAction:function(e){switch(e.action){case"#signin":case P.SIGNIN:return this._handleSigninAction(),!0;case"clientFeature.registerOnDevice":case P.REGISTER:return this._handleRegisterAction(e),!0;case P.RENEW:return this._handleInAppPurchaseAction(function(){var t={sku:e.sku,purchaseType:h.RENEWAL,payload:{skuDescription:e.skuDescription,skuPrice:e.skuPrice,skuCurrencyCode:e.skuCurrencyCode,appId:e.appId}};return p.singleton.purchaseSku(t)}),!0;case P.SUBSCRIBE:return this._handleInAppPurchaseAction(function(){var t={sku:e.sku,purchaseType:h.NEWSUBSCRIPTION,payload:{skuDescription:e.skuDescription,skuPrice:e.skuPrice,skuCurrencyCode:e.skuCurrencyCode,appId:e.appId}};return p.singleton.purchaseSku(t)}),!0;case P.RESTORE:return!0===S.singleton.byDesign({ios:!0,default:!1})?this._startRestoreWorkflow():this._handleInAppPurchaseAction(function(){return p.singleton.restorePurchase()}),!0;case"/link-subscription":return this._handleLinkAction(),!0;case"actionHandler.postToTokens":return this._continueWorkflow(e.data),!0;default:return!1}},_handleSigninAction:function(){var e=this;S.singleton.byDesignCall({desktop:function(){var e=b.singleton.getTemplate("DirectLoginDialogView");w.singleton.openPopup(e)},mobile:function(){d.singleton.navigateToUri("/login"),e.close()}}),e._onConfirmed(m.LOGIN)},_handleRegisterAction:function(e){R.singleton.setRegistrationInfo(void 0),p.singleton.pendingPurchaseSku=e.sku,d.singleton.navigateToUri("/register"),this.close(),this._onConfirmed(m.REGISTER)},_handleLinkAction:function(){var e=S.singleton.byScreen({phone:"/affiliateList",default:"/affiliateSelection"});d.singleton.navigateToUri(e),this.close()},_handleInAppPurchaseAction:function(e){if(!0!==this._disableIAPAction){this._disableIAPAction=!0;var t=this;this._setSaveState(!0),this.runUntilDisposed("PaywallView._handleInAppPurchaseAction",function(){return e().then(function(e){switch(e.result){case u.PURCHASE_FAIL:t._setSaveState(!1),t._disableIAPAction=!1;break;case u.PURCHASE_SUCCESS:t._setSaveState(!1),t._onConfirmed(m.IN_APP_PURCHASE),t._returnToSender();break;case u.RESTORE_SUCCESS_NO_AUTH:t._setSaveState(!1),d.singleton.navigateToUri("/register"),t._onConfirmed(m.REGISTER);break;case u.RESTORE_SUCCESS:t._setSaveState(!1),t._onConfirmed(m.IN_APP_PURCHASE),t._returnToSender();break;default:t._showError(e.error.userTitle,e.error.userMessage)}})})}},_startRestoreWorkflow:function(){if(!0!==this._disableIAPAction){this._disableIAPAction=!0;var e=this;this._setSaveState(!0),this.runUntilDisposed("PaywallView._startRestoreWorkflow",function(){return p.singleton.startRestorePurchaseWorkflow().then(function(t){e._processWorkflowResponse(t)})})}},_continueWorkflow:function(e){if(!0!==this._disableIAPAction){this._disableIAPAction=!0;var t=this;this._setSaveState(!0),this.runUntilDisposed("PaywallView._continueWorkflow",function(){return p.singleton.continueRestorePurchaseWorkflow(e.postToTokensPayload).then(function(e){return t._processWorkflowResponse(e)})})}},_processWorkflowResponse:function(e){var t=this;switch(e.result){case u.RESTORE_WORKFLOW_OPTIONS:t._showFollowUpPopup("RestoreWallOverlayView");break;case u.RESTORE_SUCCESS:t._setSaveState(!1),t._onConfirmed(m.IN_APP_PURCHASE),t._returnToSender();break;case u.RESTORE_SUCCESS_UNENTITLED:t._showFollowUpPopup("PaywallOverlayView");break;default:t._showError(e.error.userTitle,e.error.userMessage)}},_showFollowUpPopup:function(e){this._setSaveState(!1);var t=b.singleton.getTemplate(e),i=w.singleton.openPopup(t);i.closed.on(c.singleton.clearData.bind(c.singleton));var n=this;i.confirmed.on(function(e){n._onConfirmed(e)})},_returnToSender:function(){var e=d.singleton.getLoginReturnPath();d.singleton.navigateToUri(e,{skipInsertIntoHistory:!0})},_showError:function(e,t){var i=this;this.runUntilDisposed("PaywallView._showError",function(){return a.singleton.create("Store").displayName.then(function(n){return g.singleton.openNativeDialog(f.ALERT,y.singleton.getResource(e),y.singleton.getResource(t,{store:n}),y.singleton.getResource("ResOk"),y.singleton.getResource("ResCancel")).then(function(){i._setSaveState(!1),i._disableIAPAction=!1})})})},_setSaveState:function(e){var t=this;S.singleton.byDesignCall({mobile:function(){!0===e?(w.singleton.blockInteractivity("InteractivityBlockingView"),t.hide()):(w.singleton.unblockInteractivity(),!1===t.isVisible&&(_.singleton.layers.popup.children.add(t),t.show()))}})},_getViewModelBackgroundImage:function(){if(void 0!==this._backgroundImageUrlTemplate){var e=this,t=function(){var t=e.find("backgroundImage"),i=[];return i[s.BACKGROUND]=e._backgroundImageUrlTemplate,l.new(i).getImageUrl(s.BACKGROUND,t.width,t.height,!0,void 0,!0)},i=n.new("backgroundImageUrl");return i.initialize({value:t}),r.new(i,"value")}}})})})}(),function(){"use strict";define("design/templates/PaywallOverlayViewTemplates",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","design/views/react/Paywall/PaywallActionsContainer","design/templates/TemplatesModule","design/templates/ViewTemplates","design/templates/ColorTemplates","design/templates/TextFormatTemplates","design/templates/TransitionTemplates","design/templates/FormTemplates","design/ScreenUtil","design/templates/LayoutTemplates","design/Screen","design/views/PaywallView","design/viewModelProviders/PaywallViewModelProvider","design/templates/ButtonTemplates","lib/lodash/objects/assign","ui/Axis","ui/ScaleMode"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_){return e.classDef("design.templates.PaywallOverlayViewTemplates",o,function(o){e.singleton(function(){o.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.PaywallOverlayView=this},_setLazyTemplateDefs:function(){var e=this,o=this.registered,y=this.unregistered,w=r.singleton.exports,b=a.singleton.exports,S=s.singleton.exports,C=l.singleton.exports,T=c.singleton.exports,R=d.singleton,P=u.singleton.exports.layoutTypes,E=u.singleton.exports.layouts,I=function(e){return{$extend:w.ViewRegistration,order:e.order||y.subViewRegistrationOrder++,useOwnerViewModel:!0,requireViewModel:!0,attachFromOwner:e.attachFromOwner||!1,viewModelPropertyPath:e.viewModelPropertyPath,template:{$extend:w.MarkdownTextView,width:!0===e.naturalWidth?void 0:e.width||520,format:e.format,markdownUriFormat:e.markdownUriFormat,markdownUriHoverFormat:e.markdownUriHoverFormat,markdownMap:{},maxLines:e.maxLines||void 0,layoutProps:e.layoutProps}}},x={$extend:w.HyperlinkView,width:140,height:40,subViewTemplate:{$extend:w.ImageModelView}};d.singleton.byDesignCall({mobile:function(){var r=R.byScreen({tablet:{backgroundWidth:e._tabletPaywallBackgroundWidth,backgroundHeight:e._tabletPaywallBackgroundHeight,backgroundLayoutProps:E.anchorAll,backgroundHorizonalAlignment:t.LEFT,backgroundVerticalAlignment:i.TOP,greetingMargin:{bottom:10,left:80,right:80},greetingWidth:p.singleton.getScreenWidth(-160),headlineMargin:{bottom:10,left:80,right:80},headlineWidth:p.singleton.getScreenWidth(-160),bodyMargin:{left:80},bodyWidth:540,bodyHeight:90,ctaMargin:{left:80,right:80},ctaWidth:424,ctaHeight:48,footerMargin:{left:80,top:14,bottom:14},footerWidth:424},phone:{backgroundWidth:p.singleton.getScreenHeight(),backgroundHeight:p.singleton.getScreenHeight(),backgroundHorizonalAlignment:t.CENTER,backgroundVerticalAlignment:i.BOTTOM,backgroundLayoutProps:{$extend:E.anchorAll,margin:{bottom:4}},greetingMargin:{bottom:8,left:20,right:20},greetingWidth:p.singleton.getScreenWidth(-40),headlineMargin:{bottom:10,left:20,right:20},headlineWidth:p.singleton.getScreenWidth(-40),bodyMargin:{left:20,right:20},bodyWidth:p.singleton.getScreenWidth(-40),bodyHeight:64,ctaMargin:{left:16,right:16},ctaWidth:p.singleton.getScreenWidth(-32),ctaHeight:52,footerMargin:{top:17,bottom:17},footerWidth:p.singleton.getScreenWidth()}}),a=function(e){var t=e.viewParams,i=e.layoutOrder,o={$extend:w.SlideInPopupView,$type:h,backgroundColor:b.opaqueBlack,width:p.singleton.getScreenWidth(),height:p.singleton.getScreenHeight(),layout:P.anchored,source:e.dataSource,subViewRegistrations:{$extend:w.ViewRegistrations,footerContainer:{$extend:w.ViewRegistration,order:i.footer,template:{$extend:w.CompositeView,width:t.footerWidth,height:S.welcomeOverlay.text.lineHeight,layoutProps:{$extend:E.anchorBottomLeftCropBottom,margin:t.footerMargin},layout:P.anchored,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:w.ViewRegistrations,footer:I({attachFromOwner:!0,naturalWidth:!0,layoutProps:E.anchorNone,viewModelPropertyPath:"footer",format:S.welcomeOverlay.devicesText,markdownUriFormat:S.welcomeOverlay.devicesLink,maxLines:1})}}},ctaBlock:{$extend:w.ViewRegistration,order:i.ctaBlock,useOwnerViewModel:!0,requireViewModel:!0,attachFromOwner:!0,isActiveFromOwner:!0,viewModelPropertyPath:"callsToAction",template:{$extend:w.ReactHostView,width:t.ctaWidth,layoutProps:{$extend:E.anchorBottomLeftCropBottom,margin:t.ctaMargin},reactComponentType:n,reactComponentProps:{paywallParams:t}}},body1Container:{$extend:w.ViewRegistration,order:i.body1Container,template:{$extend:w.CompositeView,width:t.bodyWidth,height:t.bodyHeight,layoutProps:{$extend:t.bodyAnchor||E.anchorBottomLeftCropBottom,margin:t.bodyMargin},layout:P.anchored,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:w.ViewRegistrations,body1:I({layoutProps:E.anchorAll,viewModelPropertyPath:"body1",attachFromOwner:!0,naturalWidth:!0,format:S.welcomeOverlay.text,markdownUriFormat:S.welcomeOverlay.textLink,maxLines:3})}}},headline:I({order:i.headline,viewModelPropertyPath:"headline",width:t.headlineWidth,format:S.welcomeOverlay.title,layoutProps:{$extend:t.headlineAnchor||E.anchorBottomLeftCropBottom,margin:t.headlineMargin},maxLines:e.maxLines}),greetingLine:I({order:i.greetingLine,viewModelPropertyPath:"greetingLine",width:t.greetingWidth,format:S.welcomeOverlay.greeting,layoutProps:{$extend:t.greetingAnchor||E.anchorBottomLeftCropBottom,margin:t.greetingMargin},maxLines:e.maxLines}),backgroundImage:{$extend:w.ViewRegistration,order:i.backgroundImage,getViewModelFromOwner:!0,template:{$extend:w.ImageModelView,layoutProps:t.backgroundLayoutProps,isReadyInit:!0,width:t.backgroundWidth,height:t.backgroundHeight,transitionMap:C.defaultImageFadeTransition,contentScaleMode:_.SCALE_TO_FILL,contentHorizontalAlignment:t.backgroundHorizonalAlignment,contentVerticalAlignment:t.backgroundVerticalAlignment}}}};return void 0!==e.layoutOrder.fauxNavBar&&(o.subViewRegistrations.fauxNavBar={$extend:w.ViewRegistration,order:i.fauxNavBar,template:{$extend:w.CompositeView,layout:P.anchored,layoutProps:{$extend:E.anchorFillTop,margin:{top:w.viewportTopMargin}},height:w.navigationBarNaturalHeight,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:w.ViewRegistrations,logo:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,template:{$extend:w.ImageView,layoutProps:E.anchorNone,width:w.logoSize.width,height:w.logoSize.height,uri:d.dpiAwareImageUri("/assets/images/branding/mobile/hbonowlogo","png")}},close:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,attachFromOwner:!0,viewModelFactoryId:"ResCancel",template:{$extend:f.singleton.exports.OverlayCloseView,layoutProps:E.anchorRight}}}}}),void 0!==e.layoutOrder.productLogo&&(o.subViewRegistrations.productLogo={$extend:w.ViewRegistration,order:i.productLogo,useOwnerViewModel:!0,requireViewModel:!0,viewModelPropertyPath:"logoImageUrl",template:{$extend:w.ImageModelView,width:143,height:25,layoutProps:{$extend:E.anchorTopLeftCropTop,margin:t.logoMargin}}}),o};o.PaywallOverlayView=a({dataSource:g.Sources.Paywall,maxLines:1,viewParams:r,layoutOrder:R.byScreen({tablet:{backgroundImage:-1,footer:y.subViewRegistrationOrder++,ctaBlock:y.subViewRegistrationOrder++,body1Container:y.subViewRegistrationOrder++,headline:y.subViewRegistrationOrder++,greetingLine:y.subViewRegistrationOrder++,fauxNavBar:y.subViewRegistrationOrder++},phone:{footer:y.subViewRegistrationOrder++,ctaBlock:y.subViewRegistrationOrder++,body1Container:y.subViewRegistrationOrder++,headline:y.subViewRegistrationOrder++,greetingLine:y.subViewRegistrationOrder++,backgroundImage:y.subViewRegistrationOrder++,fauxNavBar:y.subViewRegistrationOrder++}})}),m(r,R.byScreen({tablet:{logoMargin:{top:69,left:80},headlineMargin:{bottom:32,left:80,right:80},headlineWidth:720},phone:{logoMargin:{top:75,left:20},headlineMargin:{top:32,bottom:32,left:20,right:20},bodyAnchor:E.anchorTopLeftCropTop,headlineAnchor:E.anchorTopLeftCropTop,greetingAnchor:E.anchorTopLeftCropTop}})),o.RestoreWallOverlayView=a({dataSource:g.Sources.NextSteps,maxLines:2,viewParams:r,layoutOrder:R.byScreen({tablet:{backgroundImage:-1,footer:y.subViewRegistrationOrder++,ctaBlock:y.subViewRegistrationOrder++,body1Container:y.subViewRegistrationOrder++,headline:y.subViewRegistrationOrder++,productLogo:y.subViewRegistrationOrder++},phone:{footer:y.subViewRegistrationOrder++,productLogo:y.subViewRegistrationOrder++,headline:y.subViewRegistrationOrder++,body1Container:y.subViewRegistrationOrder++,ctaBlock:y.subViewRegistrationOrder++,backgroundImage:-1}})})},default:function(){o.PaywallOverlayView={$extend:w.SlideInPopupView,$type:h,backgroundColor:b.overlayBackground,source:g.Sources.Paywall,subViewRegistrations:{$extend:w.ViewRegistrations,paywall:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,isDefaultFocus:!0,template:{$extend:w.CompositeView,width:640,x:200,y:100,forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:w.ViewRegistrations,paywallContent:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,viewModelFactoryId:"Paywall",template:{$extend:w.CompositeView,forwardOwnershipForSubViews:!0,width:640,layout:{$extend:P.stackedColumnCentered,defaultItemLayoutProps:E.anchorTopLeft},subViewRegistrations:{$extend:w.ViewRegistrations,logo:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,useOwnerViewModel:!0,requireViewModel:!0,viewModelPropertyPath:"logoImageUrl",template:{$extend:w.ImageModelView,layoutProps:{margin:{bottom:40}}}},greetingLine:I({viewModelPropertyPath:"greetingLine",width:640,format:S.welcomeOverlay.greeting,layoutProps:{margin:{bottom:15}}}),headline:I({viewModelPropertyPath:"headline",width:640,format:S.welcomeOverlay.title,layoutProps:{margin:{bottom:20}}}),body1:I({viewModelPropertyPath:"body1",attachFromOwner:!0,format:S.welcomeOverlay.text,markdownUriFormat:S.welcomeOverlay.devicesLink,markdownUriHoverFormat:S.welcomeOverlay.devicesLinkHover,layoutProps:{margin:{bottom:20}}}),ctaButton:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,useOwnerViewModel:!0,requireViewModel:!0,attachFromOwner:!0,isActiveFromOwner:!0,viewModelPropertyPath:"ctaHyperlink",template:{$extend:w.HyperlinkView,layoutProps:{margin:{top:32,bottom:20}},subViewTemplate:f.singleton.generateCtaButton({buttonLayout:P.stacked,height:48,layoutProps:{margin:{left:15,right:15}},formatMapping:{initial:S.welcomeOverlay.callToAction}})}},body2:I({viewModelPropertyPath:"body2",attachFromOwner:!0,format:S.welcomeOverlay.text,markdownUriFormat:S.welcomeOverlay.devicesLink,markdownUriHoverFormat:S.welcomeOverlay.devicesLinkHover,layoutProps:{margin:{bottom:20,top:20}}}),appStores:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,useOwnerViewModel:!0,requireViewModel:!0,viewModelPropertyPath:"appStoreImageLinks",template:{$extend:w.ItemsView,itemTemplateMap:{ImageHyperlink:x},primaryAxis:v.VERTICAL,secondaryAxisItemCount:4,itemSpacing:10,layoutProps:{margin:{bottom:40}}}},footer:I({attachFromOwner:!0,viewModelPropertyPath:"footer",format:S.welcomeOverlay.text,markdownUriFormat:S.welcomeOverlay.devicesLink,markdownUriHoverFormat:S.welcomeOverlay.devicesLinkHover,layoutProps:{margin:{bottom:60}}}),helpFooter:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,template:T.helpFooterBlock.template}}}}}}},close:{$extend:w.ViewRegistration,order:y.subViewRegistrationOrder++,attachFromOwner:!0,viewModelFactoryId:"ResCancel",template:f.singleton.exports.OverlayCloseView}}}}})},_tabletPaywallBackgroundWidth:function(e){var t=p.singleton.getScreenWidth()(e),i=p.singleton.getScreenHeight()(e);return t/i<4/3&&(t=Math.round(i*(4/3))),t},_tabletPaywallBackgroundHeight:function(e){var t=p.singleton.getScreenWidth()(e),i=p.singleton.getScreenHeight()(e);return t/i>4/3&&(i=Math.round(t/(4/3))),i}})})})}(),function(){"use strict";define("design/templates/NavigationBarViewTemplates",["core/oop","core/Debug","design/Screen","design/analytics/UserInteractionTargets","design/templates/ButtonTemplates","design/templates/ColorTemplates","design/templates/LayoutTemplates","design/templates/TransportControlsTemplates","design/templates/PopupTemplates","design/ScreenUtil","design/styles/StyleConstants","design/templates/TemplatesModule","design/templates/TextFormatTemplates","design/templates/TransitionTemplates","design/templates/ViewTemplates","design/TemplateUtil","design/views/NavigationBarView","design/views/PaywallPopupLinkView","platform/dependent/graphics/Viewport","ui/Axis","ui/Transition","lib/lodash/objects/assign","lib/lodash/objects/omit","lib/lodash/objects/merge","design/templates/PaywallOverlayViewTemplates"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T){return e.classDef("design.templates.NavigationBarViewTemplates",u,function(t){e.singleton(function(){this._layoutHelpers={},t.$ctor.apply(this,arguments)}),e.properties({_layoutHelpers:void 0}),e.methods({_configure:function(){function e(){return j.subViewRegistrationOrder++}
var t=r.singleton.exports,u=d.singleton.exports,R=p.singleton.exports,P=h.singleton.exports,E=g.singleton.exports,I=E.partials,x=a.singleton.exports.layoutTypes,A=o.singleton.exports.partials,k=s.singleton.exports.partials,V=f.singleton.complete.bind(f.singleton),M=f.singleton.partial.bind(f.singleton),D=r.singleton.withAlpha.bind(r.singleton),O=c.singleton.byBrand.bind(c.singleton),N=c.singleton.byBrandCall.bind(c.singleton),F=c.singleton.byDesign.bind(c.singleton),L=c.singleton.byDesignCall.bind(c.singleton),B=c.singleton.byScreen.bind(c.singleton),H=i.singleton.getScreenWidth.bind(i.singleton),U=function(){return _.singleton.reservedMargins.top},$=_.singleton.reservedMargins.right,W=c.dpiAwareImageUri.bind(c),j=this.unregistered,G=j.styles={},z=j.partials={params:{}},K=j.components={},Y=F({desktop:{logo:O({hbogo:"/assets/images/branding/desktop/hbogo/logo.svg",hbonow:"/assets/images/branding/desktop/hbonow/logo.svg"}),logoDivider:"/assets/images/branding/desktop/pipe.png",protection:"/assets/images/protection/desktop/protection_nav_bar.png"},mobile:{logo:W(O({hbogo:"/assets/images/branding/mobile/hbogologo",hbonow:"/assets/images/branding/mobile/hbonowlogo"}),"png")},daydream:{logo:O({hbogo:"/assets/images/branding/mobile/hbogologo_3.png",hbonow:"/assets/images/branding/mobile/hbonowlogo_3.png"})}});G.images=Y,G.reactiveWidth=H(F({desktop:$})),G.height=E.navigationBarHeight,G.naturalHeight=E.navigationBarNaturalHeight,G.backgroundColor=t.opaqueBlack,G.padding={right:F({desktop:55,mobile:0})},G.stickyBackgroundOpacity=F({desktop:.8,mobile:.9}),G.stickyBackgroundColor=D(t.opaqueBlack,G.stickyBackgroundOpacity),G.currentCategoryTitle={y:U},G.ccSettingsTitle={y:G.currentCategoryTitle.y,margin:{left:8}},G.videoTitle={y:G.currentCategoryTitle.y,margin:{left:5,right:5}},G.playerProtectionOpacity=.76,this._layoutHelpers.navigationBarWidth=G.reactiveWidth,this._layoutHelpers.responsiveNarrowRangeMax=1280,this._layoutHelpers.responsiveNarrowRangeMin=1040;var q=function(e,t){return function(i){var n,o=this._layoutHelpers.responsiveNarrowRangeMax,r=this._layoutHelpers.responsiveNarrowRangeMin,a=this._layoutHelpers.navigationBarWidth(i);if(a>=o)n=e;else if(a<=r)n=t;else{var s=o-r,l=(a-r)/s,c=e-t;n=t+Math.round(l*c)}return n}.bind(this)}.bind(this);this._layoutHelpers.responsiveNarrowProp=q,G.spacing=V({normal:F({desktop:26,mobile:21}),watchlistToCount:5,narrow:20,responsiveNarrowProp:q,$responsive:function(){return q(this.normal,this.narrow)}}),G.more=V({width:150,itemSpacing:0,dropDownSpacing:16,items:{x:0,y:10},padding:{left:G.spacing.normal,top:0,bottom:1},openProtectionHeight:G.naturalHeight-4,itemMargin:{$left:F({desktop:function(){return this.padding.left},mobile:0}),top:0,right:0,bottom:F({desktop:24,mobile:0})}}),z.params={},z.protectionViewRegistration={$extend:E.ViewRegistration,$order:function(e){return e.order},template:{$$extend:function(e){return e.protection},isPointerHittable:!1,$transitionMap:function(e){return e.transitionMap}}},z.protectionImageViewRegistration={$extend:E.ViewRegistration,$order:function(e){return e.order},template:{$$extend:function(e){return e.protection},isPointerHittable:!1,$transitionMap:function(e){return e.transitionMap},$uri:function(e){return e.uri},$height:function(e){return e.height}}},z.currentCategoryMenuTitle={$extend:E.TextView,isInvokable:!0,isPointerTarget:!0,layoutProps:{margin:G.more.itemMargin},factoryId:"CurrentCategoryMenuItem",$height:function(e){return e.height},$format:function(e){return e.format},$inheritedViewStateNames:function(e){return e.inheritedViewStateNames}},z.textMenuItemLink={$extend:E.HyperlinkView,factoryId:"MoreMenuItemLink",layoutProps:{margin:G.more.itemMargin},subViewTemplate:{$extend:E.TextView,maxLines:void 0,$width:function(e){return e.width},$height:function(e){return e.height},$format:function(e){return void 0===e.format||e.initialFormat,e.initialFormat||e.format},$transitionMap:function(e){var t=void 0!==e.initialFormat?V(I.textTransitionMap,e):{};return C(t,e.transitionMap)},$inheritedViewStateNames:function(e){return e.inheritedViewStateNames}}},z.opacityTransitionState={opacity:{$type:w,$duration:function(e){return e.duration||0},$to:function(e){return e.opacity,e.opacity}}},G.interpolationStateCount=20,G.protection=V({transitionDuration:.25,$showDuration:function(){return this.transitionDuration*G.stickyBackgroundOpacity},$hideDelay:function(){return this.transitionDuration-this.showDuration+this.hideDelayShift},$hideDuration:function(){return this.showDuration-this.hideDelayShift},hideDelayShift:.09}),G.affiliateLogo=F({desktop:{y:0},mobile:{y:U,width:u.affiliateLogoWidth,height:u.affiliateLogoHeight}}),L({desktop:function(){G.logoDivider=V({$x:function(){var e=E.logoSize.x+E.logoSize.width,t=G.spacing.responsive;return function(i){return e+t(i)}},y:E.logoSize.y-4,width:1,height:25})}}),G.leftItems=V(F({desktop:{$x:function(){var e=G.logoDivider.x,t=G.logoDivider.width-1,i=G.spacing.responsive;return function(n){return e(n)+t+i(n)}},y:E.logoSize.y-2,$spacing:function(){return q(42,G.spacing.narrow)}},mobile:{x:B({tablet:E.standardGutterWidth-13,phone:function(){return _.singleton.safeMargins.left}}),y:0,spacing:function(){return 0}}})),G.leftItems.transitionMap=V(I.textTransitionMap,{initialFormat:R.navigationBarLeftMenuItemFormat,hoveredFormat:R.navigationBarLeftMenuItemHoveredFormat,selectedFormat:R.navigationBarLeftMenuItemSelectedFormat}),G.rightItems=V(F({desktop:{y:E.logoSize.y+2,$spacing:function(){return q(30,G.spacing.narrow)}},mobile:{spacing:function(){return 0}}})),G.buttons={},G.buttons.y=U,L({mobile:function(){G.buttons.text={y:G.buttons.y,margin:V({left:B({phone:10,default:12}),top:0,$right:function(){return this.left},bottom:0})},G.buttons.ccText={y:G.buttons.y,margin:{left:4,right:16}},G.volumeControl={x:0,y:G.buttons.y,height:G.naturalHeight,margin:{left:12,right:16}}}}),G.icon={y:G.buttons.y},G.search={y:G.leftItems.y+1},K.rightItem={},L({desktop:function(){K.rightItem.text=V(I.text,{y:G.rightItems.y,initialFormat:R.navigationBarRightMenuItemFormat,hoveredFormat:R.navigationBarRightMenuItemHoveredFormat}),K.rightItem.link={$extend:E.HyperlinkView,subViewTemplate:K.rightItem.text}}}),K.watchlist={},K.watchlist.label={$extend:K.rightItem.text,inheritedViewStateNames:["hovered"]},K.watchlist.count=V(I.text,{y:G.rightItems.y,initialFormat:R.navigationBarWatchlistCountFormat,hoveredFormat:R.navigationBarWatchlistCountHoveredFormat,inheritedViewStateNames:["hovered"]}),z.watchlist={},z.watchlist.labelAndCount=M({$extend:E.CompositeView,analyticsViewName:"watchlistLabel",layout:{$extend:x.stackedRow,primaryOnly:!0,$spacing:function(e){return e.spacing}},subViewRegistrations:{$extend:E.ViewRegistrations,watchlistLabel:{$extend:E.ViewRegistration,$order:function(e){return e.nextOrder()},viewModelFactoryId:"ResWatchlistTitle",$template:function(e){return V(e.labelTemplate,e)}},watchlistCount:{$extend:E.ViewRegistration,$order:function(e){return e.nextOrder()},viewModelFactoryId:"WatchlistCount",$template:function(e){return V(e.countTemplate,e)}}}},{spacing:G.spacing.watchlistToCount,labelTemplate:K.watchlist.label,countTemplate:K.watchlist.count,nextOrder:e}),K.watchlist.labelAndCount=V(z.watchlist.labelAndCount),L({desktop:function(){K.menuItemTemplateMap={TextMenuItemLink:V(z.textMenuItemLink,{inheritedViewStateNames:["selected"],initialFormat:R.moreDropDownMenuItemFormat,hoveredFormat:R.moreDropDownMenuItemHoveredFormat,selectedFormat:R.moreDropDownMenuItemSelectedFormat})}}}),z.baseTransition=M(A.baseTransition,{baseDuration:G.protection.transitionDuration}),z.interpolatedTransitionMap={baseTransition:V(z.baseTransition),count:G.interpolationStateCount,$from:function(e){return e.from},$to:function(e){return e.to},showDuration:G.protection.showDuration,hideDelay:G.protection.hideDelay,hideDuration:G.protection.hideDuration},z.logoImage={$extend:E.ImageView,uri:Y.logo,isReadyInit:!0,$width:function(e){return e.width},$height:function(e){return e.height},$transitionMap:function(e){return e.transitionMap}},z.logoImageComposite={$extend:E.CompositeView,height:G.naturalHeight,$y:function(e){return e.y},layout:x.anchored,subViewRegistrations:{$extend:E.ViewRegistrations,image:{$extend:E.ViewRegistration,template:z.logoImage}}},z.logoLink={$extend:E.HyperlinkView,analyticsValue:n.HBO_LOGO,$x:function(e){return e.x},$y:function(e){return e.y},isReadyInit:!0,subViewTemplate:z.logoImage},z.logo=M(F({desktop:z.logoLink,mobile:z.logoImageComposite}),E.logoSize),z.affiliateLogo={$extend:E.CompositeView,height:G.naturalHeight,y:G.affiliateLogo.y,layout:x.anchored,$backgroundColor:F({desktop:function(){return t.clear},mobile:function(e){return e.backgroundColor||G.backgroundColor}}),subViewRegistrations:{$extend:E.ViewRegistrations,affiliateLogo:{$extend:E.ViewRegistration,useOwnerViewModel:!0,template:{$extend:E.ImageModelView,name:"AffiliateLogo",width:G.affiliateLogo.width,height:G.affiliateLogo.height}}},$transitionMap:function(e){return e.transitionMap}},L({desktop:function(){var e={$extend:E.PopupLinkView,$watchlist:{popupViewTemplate:l.singleton.exports.WatchlistOverlayView,analyticsViewName:"link",analyticsValue:n.WATCHLIST,subViewRegistrations:{$extend:E.ViewRegistrations,link:{$extend:E.ViewRegistration,attachFromOwner:!0,useOwnerViewModel:!0,template:K.watchlist.labelAndCount}}},$profile:{popupViewTemplate:l.singleton.exports.ProfileOverlayView(),analyticsViewName:"link",analyticsValue:n.PROFILE,subViewRegistrations:{$extend:E.ViewRegistrations,link:{$extend:E.ViewRegistration,attachFromOwner:!0,useOwnerViewModel:!0,template:K.rightItem.text}}},$directLogin:{popupViewTemplate:l.singleton.exports.DirectLoginDialogView,analyticsViewName:"link",analyticsValue:n.DIRECT_LOGIN,subViewRegistrations:{$extend:E.ViewRegistrations,link:{$extend:E.ViewRegistration,attachFromOwner:!0,viewModelFactoryId:"ResSignIn",template:K.rightItem.text}}}};N({hbonow:function(){e.$paywall={$type:v,name:"Paywall",analyticsViewName:"link",popupViewTemplate:T.singleton.exports.PaywallOverlayView,subViewRegistrations:{$extend:E.ViewRegistrations,link:{$extend:E.ViewRegistration,viewModelFactoryId:"ResOrderHbo",template:K.rightItem.text}}}}}),K.popupLink=V(e)}}),j.createInterpolatedOpacityTransitionMap=function(e){for(var t=V(A.opacityTransitionMap,e),i=e.to-e.from,n=i/(e.count-1),o=0;o<e.count;++o){var r=e.from+o*n;t["interpolated"+o]={opacity:{$extend:e.baseTransition,to:r}}}return t},L({desktop:function(){K.logoDivider=b({$extend:E.ImageView,uri:Y.logoDivider,isReadyInit:!0},G.logoDivider),K.currentCategoryTitle={$extend:E.TextView,y:G.leftItems.y,format:R.navigationBarLeftMenuItemSelectedFormat,maxLines:void 0},K.protection=V({$extend:E.ImageView,uri:Y.protection,height:G.naturalHeight,isFixedInViewport:!0,isReadyInit:!0,$more:{width:G.more.width},$right:{width:G.reactiveWidth}}),K.stickyProtection=V({$extend:E.View,isReadyInit:!0,width:G.reactiveWidth,height:G.naturalHeight,backgroundColor:G.stickyBackgroundColor,isFixedInViewport:!0,$more:{width:G.more.width,$open:{height:G.more.openProtectionHeight}},$right:{width:G.reactiveWidth}}),K.transitionMap={},K.transitionMap.opacity0to1=j.createInterpolatedOpacityTransitionMap(V(z.interpolatedTransitionMap,{from:0,to:1})),K.transitionMap.opacity1to0=j.createInterpolatedOpacityTransitionMap(V(z.interpolatedTransitionMap,{from:1,to:0})),K.dropDown={$extend:E.DropDownView,name:"moreDropDown",y:G.leftItems.y,dropDownSpacing:G.more.dropDownSpacing,popupViewModelProperty:"popupViewModel",popupTemplate:{$extend:l.singleton.exports.DropDownPopupView,x:-G.more.padding.left,y:G.more.items.y,subViewRegistrations:{$extend:E.ViewRegistrations,close:{$extend:E.ViewRegistration,order:e(),attachFromOwner:!0,template:l.singleton.exports.FullScreenCloseView},dropDownItems:{$extend:E.ViewRegistration,order:e(),attachFromOwner:!0,useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.itemsViewModel",template:{$extend:E.ItemsView,width:G.more.width,backgroundColor:G.stickyBackgroundColor,itemSpacing:G.more.itemSpacing,contentPadding:{top:G.more.padding.top,bottom:G.more.padding.bottom,left:0,right:0},itemTemplateMap:K.menuItemTemplateMap}}}},subViewRegistrations:{$extend:E.ViewRegistrations,header:{$extend:E.ViewRegistration,order:e(),useOwnerViewModel:!0,viewModelPropertyPath:"subViewModels.headerViewModel",template:{$extend:E.TextView,isInvokable:!0,isPointerTarget:!0,format:R.navigationBarLeftMenuItemFormat,transitionMap:G.leftItems.transitionMap}}}},K.dropDown.transitionMap=V({$extend:P.defaultFadeTransition,enter:{opacity:{$extend:z.baseTransition,to:1,duration:G.protection.showDuration}},exit:{opacity:{$extend:z.baseTransition,to:0,delay:G.protection.hideDelay,duration:G.protection.hideDuration}}}),z.itemTemplateMap={MoreMenu:K.dropDown,MoreMenuLoggedIn:K.dropDown,TextMenuItemLink:{$extend:E.HyperlinkView,factoryId:"NavigationBarMenuItemLink",clipToBounds:!1,subViewTemplate:{$extend:E.TextView,y:G.leftItems.y,format:R.navigationBarLeftMenuItemFormat,inheritedViewStateNames:["selected"],transitionMap:G.leftItems.transitionMap,maxLines:void 0}},SearchLink:M(A.search,G.search),ActiveSearchIcon:M(A.activeSearch,G.search),CurrentCategoryTitle:K.currentCategoryTitle,SignInLink:O({hbogo:K.rightItem.link,hbonow:K.popupLink.directLogin}),OrderHBOLink:O({hbogo:K.rightItem.link,hbonow:K.popupLink.paywall}),UserProfileText:K.popupLink.profile,WatchlistCount:K.popupLink.watchlist,AffiliateLogo:M(z.affiliateLogo,{transitionMap:P.defaultFadeTransition})}},mobile:function(){z.title={$extend:E.CompositeView,layout:x.anchored,$isInvokable:function(e){return e.isInvokable||!1},$isPointerTarget:function(e){return e.isInvokable||!1},$name:function(e){return e.name},$y:function(e){return e.y},$width:function(e){return e.width},height:G.naturalHeight,layoutProps:{$margin:function(e){return e.margin}},subViewRegistrations:{$extend:E.ViewRegistrations,title:{$extend:E.ViewRegistration,useOwnerViewModel:!0,$template:function(e){return V(I.text,S(e,["y"]))}}}},z.currentCategoryTitle=M(M(z.title,{name:"CurrentCategoryTitle",format:R.nav.title}),G.currentCategoryTitle),z.centerCategoryTitle=M(M(z.title,{name:"CenterCategoryTitle",format:R.nav.title}),G.currentCategoryTitle),z.ccSettingsTitle=M(M(z.title,{name:"CCSettingsTitle",format:R.nav.cc.title}),G.ccSettingsTitle),z.videoTitle=M(M(z.title,{name:"VideoTitle",isInvokable:!0,width:function(e){var t=i.singleton.getScreenWidth()(e),n=t-(_.singleton.safeMargins.left+_.singleton.safeMargins.right);return(t=n>310?n:t)-(t<1024?310:360)},format:R.nav.videoTitle,spanFormats:[R.nav.videoTitle,R.nav.videoTagline]}),G.videoTitle),z.volumeControl={$extend:E.CompositeView,name:"VolumeControl",$y:function(e){return e.y},$height:function(e){return e.height},layout:x.stacked,subViewRegistrations:{$extend:E.ViewRegistrations,volumeControl:{$extend:E.ViewRegistration,useOwnerViewModel:!0,template:k.volumeControl}},$transitionMap:function(e){return e.transitionMap}},z.itemTemplateMap={MenuLink:M(A.menu,G.icon),KidsLockLink:M(A.kidsLock,G.icon),PipButtonLink:M(A.pipButton,G.icon),ChromecastLink:M(A.chromecast,G.icon),AirPlayLink:M(A.airPlay,G.icon),BackLink:M(A.back,G.icon),SearchLink:M(A.search,G.icon),LeftCancelText:M(A.leftCancel,G.buttons.text),LeftClearText:M(A.leftClear,G.buttons.text),RightClearText:M(A.rightClear,G.buttons.text),RightDoneText:M(A.rightDone,G.buttons.text),RightEditText:M(A.rightEdit,G.buttons.text),RightSaveText:M(A.rightSave,G.buttons.text),RightCancelText:M(A.rightCancel,G.buttons.text),VolumeControl:M(z.volumeControl,G.volumeControl),LogoLink:z.logo,CurrentCategoryTitle:z.currentCategoryTitle,WatchlistTitle:z.currentCategoryTitle,SettingsText:z.currentCategoryTitle,ProfileTitle:z.currentCategoryTitle,SettingsViewPlaybackText:z.currentCategoryTitle,SettingsNotificationsText:z.currentCategoryTitle,SettingsDeviceManagementText:z.currentCategoryTitle,SettingsBillingInfoText:z.currentCategoryTitle,SettingsParentalControlsText:z.currentCategoryTitle,PrivacyText:z.currentCategoryTitle,TermsText:z.currentCategoryTitle,VersionInfoText:z.currentCategoryTitle,SettingsEnvironmentText:z.currentCategoryTitle,SettingsLocaleOverrideText:z.currentCategoryTitle,LoginRequiredText:z.currentCategoryTitle,ForgotPasswordText:z.currentCategoryTitle,AffiliateSelectionText:z.currentCategoryTitle,DirectSignInText:z.currentCategoryTitle,RegisterTitle:z.centerCategoryTitle,AssetMetadataTitle:z.videoTitle,CCSettingsTitle:z.ccSettingsTitle,CCCancelLink:M(A.ccCancel,G.icon),CCResetLink:M(A.ccReset,G.buttons.ccText),CCSaveLink:M(A.ccSave,G.buttons.ccText),CCBackLink:M(A.ccBack,G.icon),AffiliateLogo:z.affiliateLogo}}}),z.navBarItems={$extend:E.ItemsView,$x:function(e){return e.x||0},$y:function(e){return e.y||0},height:G.height,$name:function(e){return e.name},$itemSpacing:function(e){return e.itemSpacing||0},$handleChildLayoutRequested:function(e){return e.handleChildLayoutRequested||!1},$itemTemplateMap:function(e){return e.itemTemplateMap},primaryAxis:y.HORIZONTAL,primaryOnly:!0,isReadyInit:!0},z.dualProtectionViewRegistration=L({desktop:function(){return{$extend:E.ViewRegistration,$order:function(e){return e.nextOrder()},template:{$extend:E.CompositeView,isPointerHittable:!1,subViewRegistrations:{$extend:E.ViewRegistrations,defaultProtection:M(z.protectionImageViewRegistration,{$protection:function(e){return e.protection},transitionMap:K.transitionMap.opacity1to0,$uri:function(e){return e.navDefaultProtectionImageUri},$height:function(e){return e.navDefaultProtectionHeight}}),stickyProtection:M(z.protectionViewRegistration,{$protection:function(e){return e.stickyProtection},transitionMap:K.transitionMap.opacity0to1})}}}}}),z.protections={},L({desktop:function(){z.protections.leftProtection=M(z.dualProtectionViewRegistration,{protection:K.protection,stickyProtection:K.stickyProtection,$order:function(e){return e.nextOrder()}}),z.protections.moreClosedProtection=M(z.dualProtectionViewRegistration,{protection:K.protection.more,stickyProtection:K.stickyProtection.more,$order:function(e){return e.nextOrder()}}),z.protections.moreOpenProtection=M(z.protectionViewRegistration,{protection:K.stickyProtection.more.open,transitionMap:K.transitionMap.opacity0to1,$order:function(e){return e.nextOrder()}}),z.protections.rightProtection=M(z.dualProtectionViewRegistration,{protection:K.protection.right,stickyProtection:K.stickyProtection.right,$order:function(e){return e.nextOrder()}}),z.protections.divider={$extend:E.ViewRegistration,$order:function(e){return e.nextOrder()},template:K.logoDivider}}}),z.navBar={$type:m,$isFixedInViewport:function(e){return e.isFixedInViewport||!1},$tryUseHardwareSurface:function(e){return e.isFixedInViewport||!1},x:function(){return _.singleton.reservedMargins.left},width:G.reactiveWidth,height:G.height,rightPadding:G.padding.right,moreItemsLeftPadding:G.more.padding.left,$clearOnNavigate:function(e){return e.clearOnNavigate||!1},isReadyInit:!0,$subViewRegistrations:function(e){var t=V(z.protections,e),i=V(M(z.itemTemplateMap,{transitionMap:P.defaultFadeTransition}),e);return b({$extend:E.ViewRegistrations,background:F({mobile:{$extend:E.ViewRegistration,order:e.nextOrder(),template:{$extend:E.View,width:G.reactiveWidth,height:G.height,$backgroundColor:function(e){return e.backgroundColor||G.backgroundColor},isReadyInit:!0,transitionMap:{initial:M(z.opacityTransitionState,{opacity:1}),player:M(z.opacityTransitionState,{opacity:G.playerProtectionOpacity}),hidden:M(z.opacityTransitionState,{opacity:0})}}}}),leftItems:{$extend:E.ViewRegistration,order:e.nextOrder(),template:V(M(z.navBarItems,{name:"LeftItems",x:G.leftItems.x,itemSpacing:G.leftItems.spacing,itemTemplateMap:i}),e)},centerItems:F({mobile:{$extend:E.ViewRegistration,order:e.nextOrder(),template:{$extend:E.CompositeView,width:G.reactiveWidth,layout:x.anchored,isPointerHittable:!1,subViewRegistrations:{$extend:E.ViewRegistrations,items:{$extend:E.ViewRegistration,useOwnerViewModel:!0,template:V(M(z.navBarItems,{name:"CenterItems",itemTemplateMap:i}),e)}}}}}),rightItems:{$extend:E.ViewRegistration,order:e.nextOrder(),template:V(M(z.navBarItems,{name:"RightItems",handleChildLayoutRequested:!0,itemSpacing:G.rightItems.spacing,itemTemplateMap:i}),e)},logo:F({desktop:{$extend:E.ViewRegistration,order:e.nextOrder(),template:V(M(z.logo,{transitionMap:P.defaultFadeTransition}),e)}})},t)}},z.navBarRegistration={$extend:E.ViewRegistration,layer:"navigation",$order:function(e){return e.nextOrder()},modelFactoryId:"RootNavigationMenu",modelId:"rootMenu",viewModelFactoryId:"NavigationBar",attachFromOwner:!0,identifyFromOwner:F({mobile:!0,default:!1}),$template:function(e){return M(z.navBar,e)}},z.persistentPopupRegistration={$extend:E.ViewRegistration,layer:"popup",isPreload:!0,identifyFromOwner:!0,getViewModelFromOwner:!0,$order:e,template:{$extend:E.View,isReadyInit:!0}}}})})})}(),function(){"use strict";define("design/templates/GOViewHostBaseTemplates",["core/oop","design/Screen","design/TemplateUtil","design/templates/NavigationBarViewTemplates","design/templates/LayoutTemplates","design/templates/TemplatesModule","design/templates/TextFormatTemplates","design/templates/ViewTemplates","design/templates/ColorTemplates","lib/lodash/objects/merge","lib/lodash/objects/forOwn","ui/AnchoredLayout","ui/StackedLayout","ui/views/ScrollView"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("design.templates.GOViewHostBaseTemplates",[r],function(r){e.constructor(function(){r.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=a.singleton.exports,r=s.singleton.exports,g=l.singleton.exports,f=o.singleton.exports,m=n.singleton.exports.styles,v=n.singleton.exports.partials,_=i.singleton.complete.bind(i.singleton),y=this.registered,w=this.unregistered;w.styles={},w.components={},w.nextOrder=function(){return w.subViewRegistrationOrder++};var b={x:0,y:0};w.createMainViewRegistration=function(e){var t={$extend:r.ViewRegistration,layer:"slideTransition",isPreload:!0,createFromOwner:!0,template:{$extend:w.MainView,factoryId:"MainView",layout:{$type:p},shouldBeHandedOff:!1,containerViewRegistration:{$extend:r.ViewRegistration,template:{$extend:w.MainScrollView,canScrollVertically:!0},name:"mainScrollView"}}};return c(t.template,e),d(e,function(e,i){void 0===e&&(t.template[i]=e)}),t},w.navigationBarRegistration=_(v.navBarRegistration,{navDefaultProtectionImageUri:m.images.protection,navDefaultProtectionHeight:m.naturalHeight,clearOnNavigate:!0,nextOrder:w.nextOrder,isFixedInViewport:!0}),y.DebugTextView={$extend:r.DynamicTextView,width:900,maxLines:void 0,format:e.debugTextFormat,isPointerHittable:!1},y.ContentHostView={$extend:r.View,isReadyInit:!0,layout:{$type:p,origin:b,primaryOnly:!0}},y.BackgroundHostView={$extend:r.View,isReadyInit:!0,layout:{$type:p,origin:b,primaryOnly:!0}},w.MainScrollView={$type:h,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(),isReadyInit:!0,canScrollVertically:!0,showScrollbar:!0,restoresScrollOffset:!0},w.MainView={$extend:r.CompositeView,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(),isReadyInit:!0,backgroundColor:g.opaqueBlack,forwardOwnershipForSubViews:!0},w.logoutFrameRegistration={$extend:r.ViewRegistration,layer:"content",order:w.nextOrder(),getViewModelFromOwner:!0,requireViewModel:!0,template:{$extend:r.WebFrameView,backgroundColor:g.darkestGray}},w.navigationBarPlaceholderRegistration={$extend:r.ViewRegistration,layer:"content",order:-1,isPreload:!0,isActiveFromOwner:!0,template:{$extend:r.PlaceholderView,layoutProps:f.layouts.anchorFillTopCropTop,height:r.navigationBarHeight,width:t.singleton.getScreenWidth()}},w.loadingPlaceholderRegistration={$extend:r.ViewRegistration,layer:"content",order:w.nextOrder(),isPreload:!0,template:{$extend:r.CompositeView,isReadyInit:!0,width:t.singleton.getScreenWidth(),height:t.singleton.getScreenHeight(m.height()),layout:{$type:u},subViewRegistrations:{$extend:r.ViewRegistrations,loadingSpinner:{$extend:r.ViewRegistration,order:w.nextOrder(),isPreload:!0,template:{$extend:r.LoadingSpinnerView}}}}},w.GOViewHostRegistrations={$extend:r.ViewRegistrations,navigationBar:w.navigationBarRegistration,navigationBarPlaceholder:w.navigationBarPlaceholderRegistration,loadingPlaceholder:w.loadingPlaceholderRegistration,logoutFrame:w.logoutFrameRegistration}}})})})}(),function(){"use strict";define("ui/TransitionManager",["core/oop","core/Debug","ui/TemplateManager","lib/lodash/objects/forOwn"],function(e,t,i,n){return e.classDef("ui.TransitionManager",Object,function(){e.singleton(function(){this._processTemplate(i.singleton.getTemplate("TransitionManager").createInstance()),this._transitionGroupSearchOrder=[]}),e.properties({_transitionTable:void 0,_previousViewHostFactoryId:void 0,_currentViewHostFactoryId:void 0,_transitionGroupSearchOrder:void 0}),e.methods({notifyViewHostChanged:function(e){this._previousViewHostFactoryId=this._currentViewHostFactoryId,this._currentViewHostFactoryId=e,this._transitionGroupSearchOrder=[this._previousViewHostFactoryId+":"+this._currentViewHostFactoryId,this._currentViewHostFactoryId+":"+this._previousViewHostFactoryId,"*:"+this._currentViewHostFactoryId,this._previousViewHostFactoryId+":*",this._currentViewHostFactoryId,"*"]},getTransitionMap:function(e){var t=[e,"*"];return this._findTransitionMap(this._transitionGroupSearchOrder,t)},_findTransitionMap:function(e,t){for(var i=0,n=e.length;i<n;++i){var o=this._transitionTable[e[i]];if(void 0!==o)for(var r=0,a=t.length;r<a;++r){var s=o[t[r]];if(void 0!==s)return s}}},_processTemplate:function(e){this._transitionTable={},n(e,function(e,t){var i=this._processTransitionGroup(e),n=t.split(":");if(1===n.length)for(var o=n[0].split("|"),r=0;r<o.length;++r)this._addTransitionGroup(o[r],void 0,i);else{n.length;for(var a=n[0].split("|"),s=n[1].split("|"),l=0;l<a.length;++l)for(var c=0;c<s.length;++c)this._addTransitionGroup(a[l]+":"+s[c],s[l]+":"+a[c],i)}},this)},_addTransitionGroup:function(e,t,i){this._transitionTable[e],-1===e.indexOf(":*")&&-1===e.indexOf("*:")&&(void 0===t||this._transitionTable[t]),this._transitionTable[e]=i},_processTransitionGroup:function(e){var t={};return n(e,function(e,i){for(var n=i.split("|"),o=0;o<n.length;++o){var r=n[o];t[r],t[r]=e}}),t}})})})}(),function(){"use strict";define("ui/navigation/ViewHost",["core/oop","core/Debug","core/IFactoryTarget","core/Exception","core/Lifecycleable","core/AsyncManager","core/data/ModelFactory","ui/views/RootView","core/Startup","lib/Promise","lib/lodash/objects/forOwn","ui/Presence","ui/AfterExitActions","ui/input/InputManager","ui/ViewRegistration","ui/VisitDownActions","platform/dependent/Process","ui/TransitionManager","ui/navigation/NavigationException"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_){return e.classDef("ui.navigation.ViewHost",[r,i],function(t){e.initConstructor(function(){this._onRootInputScopeFocusChangedCallback=this._onRootInputScopeFocusChanged.bind(this),this._addedInvokeHandlersUntilDispose=[],this._viewRegistrations=[],this._legacyViewRegistrations={},this._views={},this._pendingPreloadViewRegistrations=[],this._pendingPreloadViewTransitions=[],this._pendingViewRegistrations=[],this._pendingViewTransitions=[]},function(){void 0!==this.modelType&&(this.modelId,this._dataModel=a.singleton.create.apply(a.singleton,this._getModelCreationArguments())),this._addViewRegistrations(),t.$ctor.call(this)}),e.events(["viewReady"]),e.properties({viewRegistrations:void 0,modelType:void 0,modelId:void 0,breadcrumb:void 0,factoryId:void 0,defaultHandoffAccept:{defaultValue:!1},dataModel:{privateSet:!0},isReady:{privateSet:!0,defaultValue:!1},_activationStateArgs:void 0,_isActivated:void 0,_pendingViewRegistrations:void 0,_pendingViewTransitions:void 0,_pendingPreloadViewRegistrations:void 0,_pendingPreloadViewTransitions:void 0,_afterPreloadViewsReadyResolver:void 0,_onRootInputScopeFocusChangedCallback:void 0,_addedInvokeHandlersUntilDispose:void 0,_viewRegistrations:void 0,_legacyViewRegistrations:void 0,_views:void 0,_isViewportChangeActivation:void 0,_defaultFocusRegistrationOverride:void 0,_defaultFocusView:{get:function(){var e,t=this._defaultFocusRegistrationOverride,i=this;return this._viewRegistrations.forEach(function(n){var o=i._views[n.name];void 0!==o&&void 0!==o.parent&&(o.isDefaultFocus||n.isDefaultFocus||n.name===t)&&(n.name!==t&&void 0!==e||(e=o))}),e||s.singleton.visitDown(function(t){if(!0===t.isDefaultFocus)return e=t,f.HALT}),e}}}),e.methods({activate:function(e){this.isDisposed,this.factoryId,this._isActivated,this.factoryId,this._isReady,this.factoryId,this._activationStateArgs=e||{},v.singleton.notifyViewHostChanged(this.factoryId),!0!==this._activationStateArgs.isViewportChange&&s.singleton.inputScope.resetFocus(),this.hookUntilDisposed(s.singleton.inputScope,"focusChanged",this._onRootInputScopeFocusChangedCallback),void 0!==e&&(this._defaultFocusRegistrationOverride=e.defaultFocusRegistrationOverride,this._isViewportChangeActivation=!0===e.isViewportChange,!0===this._isViewportChangeActivation&&s.singleton.refreshStyles()),this._ensurePreloadViews(),this._ensureViews(),this._isActivated=!0},getStateArgs:function(){var e={};return d(this._views,function(t,i){void 0!==t&&(e[i]=t.stateArgs)},this),e},getPageViewAnalyticsData:function(){return c.fulfilled({})},getParentScrollView:function(){var e=void 0!==this._views?this._views.mainView:void 0;return void 0!==e?void 0!==e._subViews?e._subViews.mainScrollView:void 0:s.singleton},_disposeCore:function(){this._removeInvokeHandlersOnDispose(),this.cancelDisposablePromise("ensurePreloadViews"),void 0!==this._afterPreloadViewsReadyResolver&&(this._afterPreloadViewsReadyResolver.cancel(),this._afterPreloadViewsReadyResolver=void 0),this.cancelDisposablePromise("ensureViews"),this._deactivateViews(this._pendingPreloadViewRegistrations),this._pendingPreloadViewRegistrations=void 0,this._pendingPreloadViewTransitions=void 0,this._deactivateViews(this._pendingViewRegistrations),this._pendingViewRegistrations=void 0,this._pendingViewTransitions=void 0,this._views=void 0,this._viewRegistrations=void 0,this._isActivated=!1,this._isReady=!1,t._disposeCore.apply(this,arguments)},_getModelCreationArguments:function(){return[this.modelType,this.modelId]},_shouldProcessHandoff:function(e,t){return e!==t.needsVerification},_handoffOrExitExistingViews:function(e){var t=this;d(s.singleton.layers,function(i,n){for(var r=i.children.length-1;r>=0;--r){var a=i.children.getAt(r),s=t._findHandoffRegistration(a,n),l=!1,c=!1,d=!0===t._isViewportChangeActivation&&a.presence!==u.EXITING;void 0===s||a.lifecycleState===o.LifecycleStates.DEACTIVATED||!0!==a.shouldBeHandedOff&&!d?!0===e&&(c=!0):t._shouldProcessHandoff(e,s)&&(!1===e?!0===s.verifyView(t,a,t._dataModel)?l=!0:c=!0:l=!0);var h=void 0===s||!0===s.isPreload,g=h?t._pendingPreloadViewTransitions:t._pendingViewTransitions;!0===l?(a.presence===u.EXITING&&a.exit(p.NONE),a.updateOwner(t),t._applyTransitionMapOwner(a),a.layoutOrder=s.order,t._views[s.name]=a,g.push(t._getHandoffSuccessFunction(s))):!0===c&&(t._applyTransitionMapOwner(a),g.push(t._getHandoffRejectFunction(a)))}})},_getHandoffSuccessFunction:function(e){var t=this;return function(){var i=t._views[e.name];if(void 0!==i){var n=e.handoffView(t,i);return i.enter(),e.attachView(t,i),n}}},_getHandoffRejectFunction:function(e){return function(){e.exit(p.DEACTIVATE)}},_findHandoffRegistration:function(e,t){if(void 0===this._viewRegistrations||null===this._viewRegistrations)throw _.new({message:"Navigating to view host with undefined _viewRegistrations",area:"ui.navigation.ViewHost._findHandoffRegistration",contextualData:{factoryId:this.factoryId,modelId:this.modelId}});for(var i=0,n=this._viewRegistrations.length;i<n;++i){var o=this._viewRegistrations[i];if(o.layer===t&&!0===o.identifyView(this,e,this._dataModel))return o}if(!0===this.defaultHandoffAccept)return g.new({name:"default"+this._viewRegistrations.length,layer:t,isPreload:!0,order:e.layoutOrder,identify:function(t){return t===e}})},
_addViewRegistrations:function(){if(void 0!==this.viewRegistrations){var e=this;this.viewRegistrations.forEach(function(t){e._registerView(t,!0)})}},_registerView:function(e,t){this._viewRegistrations.push(e),!0!==t&&(this._legacyViewRegistrations[e.name]=!0)},_createRegisteredViews:function(e){this._viewRegistrations.forEach(function(t){this._shouldProcessHandoff(e,t)&&this._addPendingRegisteredView(t)},this)},_addPendingRegisteredView:function(e){if(void 0===this._views[e.name]){var t=!0===e.isPreload?this._pendingPreloadViewRegistrations:this._pendingViewRegistrations;void 0!==this._createRegisteredView(e)&&t.push(e)}},_createRegisteredView:function(e){var t=e.name,i=this._activationStateArgs[e.name]||{},n=e.createView(this,i);return void 0!==n&&(this._views[t]=n,this._applyTransitionMapOwner(n)),n},_applyTransitionMapOwner:function(e){e.transitionMapOwner=v.singleton.getTransitionMap(e.factoryId)},_addInvokeHandlerUntilDispose:function(e,t){e.invokeHandlers.add(t),this._addedInvokeHandlersUntilDispose.push({target:e,handler:t}),h.singleton.refreshMediaButtons()},_removeInvokeHandlersOnDispose:function(){this._addedInvokeHandlersUntilDispose.forEach(function(e){e.target.invokeHandlers.remove(e.handler)}),this._addedInvokeHandlersUntilDispose=[],h.singleton.refreshMediaButtons()},_viewsAreReady:function(){},_executeTransitions:function(e){return c.all(e.map(function(e){return e()}))},_addPreloadViewsToRoot:function(){this._addToRoot(this._pendingPreloadViewRegistrations,this._pendingPreloadViewTransitions),this._pendingPreloadViewRegistrations=void 0},_addViewsToRoot:function(){this._addToRoot(this._pendingViewRegistrations,this._pendingViewTransitions),this._pendingViewRegistrations=void 0},_addToRoot:function(e,t){var i=this;e.forEach(function(e){t.push(function(){i._addViewToRoot(e)})})},_addViewToRoot:function(e){var t=s.singleton.layers,i=this._views[e.name];if(void 0!==i){var n=t[e.layer];this._insertViewIntoLayer(i,n),i.enter(),e.attachView(this,i)}},_insertViewIntoLayer:function(e,t){e.layoutOrder<0?t.children.insertAt(0,e):t.children.add(e)},_deactivateViews:function(e){if(void 0!==e){var t=this;e.forEach(function(e){var i=t._views[e.name];void 0!==i&&i.deactivate()})}},_afterAllReady:function(e){var t=this;return c.all(e.map(function(e){var i=t._views[e.name];return void 0!==i?i.afterReady:c.fulfilled()}))},_setViewModels:function(e){var t=this,i=this._viewRegistrations,n=[];return i.forEach(function(i){if(i.isPreload===e){var o=t._views[i.name];if(void 0!==o&&!0!==t._legacyViewRegistrations[i.name]){var r=i.setViewModel(t,o,t._dataModel);void 0!==r&&n.push(r)}}}),c.all(n)},_exitInactiveViews:function(e){var t=this;this._viewRegistrations.forEach(function(i){if(i.isPreload===e){var n=t._views[i.name];void 0!==n&&!1===i.isActiveView(t,n)&&(n.exit(p.DEACTIVATE),t._views[i.name]=void 0)}})},_handoffAndCreateViews:function(e){this._handoffOrExitExistingViews(e),this._createRegisteredViews(e)},_ensurePreloadViews:function(){var e=this;this._handoffAndCreateViews(!0),void 0===this._afterPreloadViewsReadyResolver&&(this._afterPreloadViewsReadyResolver=c.pending()),this.runUntilDisposed("ensurePreloadViews",function(){return e._setViewModels(!0).then(function(t){return t.forEach(function(e){e()}),e._exitInactiveViews(!0),e._afterAllReady(e._pendingPreloadViewRegistrations)}).then(function(){e._addPreloadViewsToRoot(),m.singleton.notifyAppReady();var t=e._executeTransitions(e._pendingPreloadViewTransitions);return e._afterPreloadViewsReadyResolver.fulfill(),t}).then(function(){e._pendingPreloadViewTransitions=void 0}).catch(function(t){e._afterPreloadViewsReadyResolver.reject(n.wrap(t,{message:"ensurePreloadViews promise chain rejected",area:"ui.navigation.ViewHost._ensurePreloadViews"}))})})},_ensureViews:function(){var e=this;this.runUntilDisposed("ensureViews",function(){return e._getStartupReadyPromise().then(function(){return e._handoffAndCreateViews(!1),e._setViewModels(!1)}).then(function(t){return t.forEach(function(e){e()}),e._exitInactiveViews(!1),c.all([e._afterAllReady(e._pendingViewRegistrations),e._afterPreloadViewsReadyResolver.promise])}).then(function(){e._addViewsToRoot();var t=e._executeTransitions(e._pendingViewTransitions);return e._viewsAreReady(),e._onRootInputScopeFocusChanged(),e._isReady=!0,t}).then(function(){return e._pendingViewTransitions=void 0,e._getContentReady()}).then(function(){e._contentIsReady(),e._onViewReady()})})},_getStartupReadyPromise:function(){var e=c.pending();return l.singleton.ready.then(function(){e.resolve(arguments)}).catch(function(t){e.reject(n.wrap(t,{message:"_getStartupReadyPromise promise rejected",area:"ui.navigation.ViewHost._getStartupReadyPromise"}))}),e.promise},_onRootInputScopeFocusChanged:function(){var e=this._defaultFocusView;void 0!==e&&e.lifecycleState===o.LifecycleStates.ACTIVATED&&s.singleton.inputScope.focusView===s.singleton&&e.focus()},_getContentReady:function(){return c.fulfilled()},_contentIsReady:function(){}})})})}(),function(){"use strict";define("ui/InvokeHandler",["core/oop"],function(e){return e.classDef("ui.InvokeHandler",Object,function(){e.initConstructor(),e.properties({callback:void 0,button:void 0,legendText:void 0})})})}(),function(){"use strict";define("design/DesignUtilBase",["core/oop","design/DesignDeveloperSettings","dataservices/ServerTime","platform/input/Buttons","ui/InvokeHandler","ui/ViewRegistration","ui/ViewModelFactory","ui/ViewFactory","ui/views/RootView","design/NavigationRouter"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("design.DesignUtilBase",void 0,function(){e.constructor(function(){}),e.properties({debugTextOffset:{defaultValue:{x:0,y:0}},debugTextFormatString:void 0,fixedImageSizes:void 0}),e.methods({registerDebugTextView:function(e){!0!==t.singleton.showDebugInfo&&!0!==i.singleton.isActive||e._registerView(r.new({name:"debugText",layer:"debug",isPreload:!0,identify:this._debugTextViewIdentifyHandler.bind(this),handoff:this._debugTextViewHandoffHandler.bind(this),create:this._debugTextViewCreateHandler.bind(this)}))},addNavigateBackHandlers:function(e,t){e._addInvokeHandlerUntilDispose(l.singleton,o.new({button:n.CANCEL,legendText:t,callback:function(){c.singleton.navigateBack()}})),e.hookUntilDisposed(l.singleton,"pointerLeftEdgeSwipe",function(){c.singleton.navigateBack()})},_debugTextViewIdentifyHandler:function(e){return"DebugText"===e.factoryId},_debugTextViewHandoffHandler:function(e){return e.transitionTo(this.debugTextOffset)},_debugTextViewCreateHandler:function(e){var t=a.singleton.create("DebugText",this.debugTextFormatString);return s.singleton.create("DebugText",{stateArgs:e.stateArgs,viewModel:t,x:this.debugTextOffset.x,y:this.debugTextOffset.y,isFixedInViewport:!0,isReadyInit:!0})}})})})}(),function(){"use strict";define("design/DesignUtil",["core/oop","design/DesignUtilBase"],function(e,t){return e.classDef("design.DesignUtil",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.properties({debugTextOffset:{defaultValue:{x:55,y:5}},debugTextFormatString:{defaultValue:"version: {version}.{flavor} ({buildTimestamp}) | services: {service} | environment: {environment} | server time: {serverTimeOffset} | locale: {locale}"},fixedImageSizes:{defaultValue:{largeImageFixedWidth:1280,largeImageFixedHeight:720,fullbleedImageFixedWidth:1920,fullbleedImageFixedHeight:823,backgroundImageFixedWidth:1920,backgroundImageFixedHeight:1080}}})})})}(),function(){"use strict";define("design/viewHosts/ActivationClientViewHost",["core/oop","ui/navigation/ViewHost","ui/ViewRegistration","design/DesignUtil","design/views/PopupView","ui/views/RootView","ui/ViewModelFactory","dataservices/authentication/AuthenticationManager"],function(e,t,i,n,o,r,a,s){return e.classDef("design.viewHosts.ActivationClientViewHost",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),n.singleton.registerDebugTextView(this),this._registerView(i.new({name:"popup",layer:"popup",identify:function(e){return!0===this._isViewportChangeActivation&&e instanceof o},create:function(){}}))}),e.properties({_logoutFrameViewModel:void 0}),e.methods({_viewsAreReady:function(){t._viewsAreReady.apply(this,arguments),this.hookUntilDisposed(s.singleton,"userLoggingOut",this._onUserLoggingOut.bind(this)),this._hideSpinner(),!0!==this._isViewportChangeActivation&&r.singleton.scrollTo(0,0,!1)},_hideSpinner:function(){var e=this._views.loadingPlaceholder;void 0!==e&&(e.parent.children.remove(e),e.deactivate())},_onUserLoggingOut:function(e){this._logoutFrameViewModel=a.singleton.create("ExplicitWebFrame",{uriPath:e}),this._views.logoutFrame.viewModel=this._logoutFrameViewModel},_getViewModelLogoutFrame:function(){return void 0===this._logoutFrameViewModel&&(this._logoutFrameViewModel=a.singleton.create("ExplicitWebFrame",{uriPath:""})),this._logoutFrameViewModel}})})})}(),function(){"use strict";define("design/templates/ActivationClientViewHostTemplates",["core/oop","design/templates/ColorTemplates","design/templates/GOViewHostBaseTemplates","design/ScreenUtil","design/templates/ViewTemplates","design/TemplateUtil","design/viewHosts/ActivationClientViewHost","platform/dependent/graphics/Viewport","ui/StackedLayout"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.templates.ActivationClientViewHostTemplates",[i],function(i){e.singleton(function(){i.$ctor.apply(this,arguments)}),e.methods({_configure:function(){i._configure.apply(this,arguments);var e=t.singleton.exports,c=o.singleton.exports,d=r.singleton.complete.bind(r.singleton),u=n.singleton.byScreenWidth.bind(n.singleton),p=this.registered,h=this.unregistered,g=h.partials={};g.viewHostRegistrations={$extend:c.ViewRegistrations,logoutFrame:h.logoutFrame},p.RootView={backgroundColor:e.opaqueBlack,showScrollbar:!0,canScrollVertically:!0,canScrollHorizontally:u({large:!1,medium:!1,small:!0},s.singleton.reservedMargins.right),layerNames:["background","content","foreground","navigation","popup","debug"],layerFactoryIds:{content:"ContentHost"}},p.ContentHostView={$extend:c.View,isReadyInit:!0,layout:{$type:l,primaryOnly:!0}},h.ActivationClientViewHostRegistrations=d(g.viewHostRegistrations,{}),p.ActivationClientViewHost={$type:a,viewRegistrations:h.ActivationClientViewHostRegistrations}}})})})}(),function(){"use strict";define("design/views/react/ActivationClient/ActivationClientHeaderStyles",["core/oop","design/styles/StyleConstants","design/ScreenUtil","ui/Axis","ui/LayoutProps","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r,a){return e.classDef("design.views.react.ActivationClient.ActivationClientHeaderStyles",Object,function(){e.singleton(function(){var e=t.singleton.exports;this.exports=a.create({container:{name:"container",layout:r.new({primaryAxis:n.VERTICAL,spacing:6}),layoutProps:o.new(e.layouts.anchorLeft,{margin:{top:30}})},logo:{name:"logo",isReadyInit:!0,width:i.singleton.byBrand({hbonow:98,hbogo:75}),height:17,uri:i.singleton.byBrand({hbonow:"/assets/images/branding/desktop/hbonow/logo.svg",hbogo:"/assets/images/branding/desktop/hbogo/logo.svg"})},stepLabel:{name:"stepLabel",format:e.textFormats.formFieldLabelFormat}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ActivationClient/ActivationClientHeaderComponent",["design/views/react/ActivationClient/ActivationClientHeaderStyles","design/views/react/ReactPrimitives","lib/react"],function(o,r,a){var s=r.View,l=r.Image;return function(r){function c(i){e(this,c);var n=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,i));return n.displayName="ActivationClientHeaderComponent",n}return i(c,r),n(c,[{key:"render",value:function(){var e=o.singleton.exports;return a.createElement(s,{key:"container",style:e.container},a.createElement(l,{key:"logo",style:e.logo}))}}]),c}(a.Component)})}(),function(){"use strict";define("design/viewHosts/DirectLoginViewHost",["core/oop","design/viewHosts/ActivationClientViewHost"],function(e,t){return e.classDef("design.viewHosts.DirectLoginViewHost",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({linkAccounts:{defaultValue:!1},commerceFlow:void 0}),e.methods({_attachForm:function(e){e.linkAccounts=this.linkAccounts,e.commerceFlow=this.commerceFlow}})})})}(),function(){"use strict";define("design/templates/DirectLoginViewHostTemplates",["core/oop","design/templates/TemplatesModule","design/templates/ActivationClientViewHostTemplates","design/views/react/ActivationClient/ActivationClientHeaderComponent","design/templates/DirectLoginTemplates","design/templates/LayoutTemplates","design/templates/TextFormatTemplates","design/templates/ViewTemplates","design/viewHosts/DirectLoginViewHost","design/Screen","design/ScreenUtil","ui/Axis","ui/StackedLayout"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("design.templates.DirectLoginViewHostTemplates",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.DirectLoginViewHost=this},_setLazyTemplateDefs:function(){var e=s.singleton.exports,t=i.singleton.exports,h=o.singleton.exports,g=d.singleton.byScreenWidth.bind(d.singleton),f=a.singleton.exports,m=r.singleton.exports;this.registered.DirectLoginViewHost={$extend:t.ActivationClientViewHost,$type:l,viewRegistrations:{$extend:t.ActivationClientViewHostRegistrations,container:{$extend:e.ViewRegistration,order:t.subViewRegistrationOrder++,layer:"content",template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,x:g({small:14,default:50}),width:300,height:function(e){var t=g({small:74,default:50})(e),i=c.singleton.getScreenHeight(-t)(e);return Math.max(i,620)},layout:{$type:p,primaryAxis:u.VERTICAL},subViewRegistrations:{$extend:e.ViewRegistrations,header:{$extend:e.ViewRegistration,order:t.subViewRegistrationOrder++,layer:"content",template:{$extend:e.ReactHostView,reactComponentType:n}},form:{$extend:e.ViewRegistration,layer:"content",attachFromOwner:!0,order:t.subViewRegistrationOrder++,template:{$extend:h.DirectLoginView,height:420,width:300,layoutProps:{margin:{top:g({small:21,default:30})}}}}}}},helpLink:{$extend:e.ViewRegistration,layer:"content",order:t.subViewRegistrationOrder++,viewModelFactoryId:"SignInHelpLink",template:{$extend:e.HyperlinkView,layoutProps:{$extend:m.layouts.anchorBottomLeft,margin:{bottom:g({small:44,default:20})}},height:20,x:g({small:14,default:50}),subViewTemplate:{$extend:e.TextView,format:f.smallHyperlinkFormat,isInvokable:!0,isPointerTarget:!0}}}}}}})})})}(),function(){"use strict";define("design/views/react/ActivationClient/ActivationEntryStyles",["core/oop","design/styles/StyleConstants","ui/Axis","ui/LayoutProps","ui/AnchoredLayout","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r,a){return e.classDef("design.views.react.ActivationClient.ActivationEntryStyles",Object,function(){e.singleton(function(){var e=t.singleton.exports;this.exports=a.create({activationEntryContainer:{name:"activationEntryContainer",layout:o.new(),layoutProps:e.layouts.anchorStretchHorizontally},activationEntryHeader:{name:"activationEntryHeader",layout:r.new({primaryAxis:i.VERTICAL,spacing:45}),layoutProps:e.layouts.anchorTopLeft},form:{container:{name:"container",layout:r.new({primaryAxis:i.VERTICAL}),layoutProps:n.new({margin:{top:25}})}},codeEntryHost:{name:"codeEntryHost",layout:r.new({primaryAxis:i.VERTICAL}),layoutProps:e.layouts.anchorLeft},inputHost:{name:"inputHost",layout:r.new({primaryAxis:i.VERTICAL,spacing:8})},codeInputLabel:{name:"codeInputLabel",format:e.textFormats.formFieldLabelFormat},errorLabel:{name:"errorLabel",format:e.textFormats.activationEntryErrorFormat,maxLines:2,width:293,layoutProps:{anchor:e.anchors.left,margin:{top:-30,bottom:15}}},codeInput:{name:"codeInput",width:293,height:e.defaultFormButtonHeight,padding:{left:10,right:10},layoutProps:n.new({margin:{bottom:15}}),placeholderFormat:e.textFormats.optionalHintFormat,format:e.textFormats.formValueFormat,backgroundColor:e.colors.whiteSmoke,isDefaultFocus:!0,maxLength:6},submitButton:{width:293,name:"submitButton"},infoButton:{width:293,name:"infoButton",layoutProps:{margin:{top:25}}},completionInfoContainer:{name:"completionInfoContainer",layout:o.new(),layoutProps:e.layouts.anchorAll}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ActivationClient/ActivationEntryContainer",["core/data/ModelFactory","core/Debug","core/PromiseManager","core/Exception","lib/Promise","core/logging/SimpleLogEntry","dataservices/DataValidationException","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","dataservices/authentication/AuthenticationManager","dataservices/types/UserActivationIntent","dataservices/types/NextSteps","dataservices/types/NextStepType","design/NavigationRouter","design/views/react/ActivationClient/ActivationClientHeaderComponent","design/views/react/ActivationClient/ActivationEntryStyles","design/views/react/atomic/forms/SimpleFormComponent","design/views/react/atomic/forms/FormTextInputComponent","design/views/react/FormFooter/FormFooterComponent","design/ValidationUtils","design/views/react/ReactPrimitives","platform/HttpStatus","platform/input/Buttons","platform/dependent/Process","ui/Localization","lib/react"],function(o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x){var A=1,k=T.View;return function(r){function T(i){e(this,T);var n=t(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,i));return n.state={activationState:A,codeText:"",errorText:"",completionHeader:void 0,completionDescription:void 0,redirectLink:void 0,inputValid:!1,licensePlateErrors:[]},n.footer={helpText:I.singleton.getResource("ResFooterHelpText"),helpLinkText:I.singleton.getResource("ResFooterHelpLinkText")},n._promiseManager=a.new(),n}return i(T,r),n(T,[{key:"componentDidMount",value:function(){this._activeProvider=this.props.useNextSteps?"ActivationCodeNextSteps":"ActivationCodeIntent",this._statusModel=o.singleton.create(this._activeProvider,this._activeProvider),this._runCheckCodeStatus(!1)}},{key:"componentWillUnmount",value:function(){this._promiseManager.dispose(),this._promiseManager=void 0}},{key:"_log",value:function(e,t){c.new({eventType:u.ACTIVATION,eventSubtype:p.ACTIVATION_ACTIVATIONCODE,area:e,payload:t}).log()}},{key:"_onCodeError",value:function(e){var t;return t=e.status===R.FORBIDDEN?I.singleton.getResource("ResActivationCodeAlreadyTaken"):e.status===R.NOT_FOUND?I.singleton.getResource("ResActivationCodeIncorrectOrExpired"):I.singleton.getResource("ResActivationCodeUnknownError"),this._resetStatusModelAndShowError(t)}},{key:"_resetStatusModelAndShowError",value:function(e){var t=this;return this._statusModel.clear().then(function(){return t._statusModel=o.singleton.create(t._activeProvider,t._activeProvider),l.fulfilled({activationState:2,isSubmittingCode:!1,errorText:e})})}},{key:"_logInvalidCode",value:function(e,t){var i="unknown";t===R.NOT_FOUND?i=!0===e?"invalid":"expired":t===R.FORBIDDEN&&(i="already-used"),this._log("views.react.activationClient.ActivationEntryContainer._handleIntent",{status:"auth-code-invalid",reason:i})}},{key:"_runCheckCodeStatus",value:function(e){var t=this;this._promiseManager.runUntilDisposed("checkCodeStatus",function(){return!0===t.props.useNextSteps?t._handleNextSteps(t._statusModel):t._handleIntent(t._statusModel,e)})}},{key:"_handleIntent",value:function(e,t){var i=this;return e.code.then(function(n){return void 0===n?l.fulfilled():l.props({userIntent:e.userIntent,displayMessage:e.displayMessage}).then(function(o){return!0===h.singleton.isAuthenticated?i._activateCode(n,o.userIntent):!0==(!0===t||o.userIntent===g.AUTHORIZE)?e.storeData().then(function(){return i._navigateToAuth(o.userIntent,o.displayMessage),l.fulfilled({activationState:A})}):l.fulfilled()}).catch(function(n){if("dataservices.ServiceException"!==n.typeName)throw n;return e.completionUrl.then(function(o){return void 0===o?(i._logInvalidCode(t,n.status),i._onCodeError(s.wrap(n,{message:"Error checking the status of activation code",area:"design.views.react.ActivationClient.ActivationEntryContainer._handleIntent"}))):(i._log("views.react.activationClient.ActivationEntryContainer._handleIntent",{status:"oauth-code-invalid",userIntent:g.AUTHORIZE}),e.clear().then(function(){throw n}))})})}).then(function(e){void 0!==e?i.setState(e):i.setState({activationState:2,isSubmittingCode:!1,completionHeader:void 0,completionDescription:void 0})})}},{key:"_handleNextSteps",value:function(e){var t=this;return e.status.then(function(e){return e===m.SHOW_MESSAGE?t._completeWorkflow():e===m.PERFORM_ACTION?t._performAction():e===m.NONE?{activationState:2,isSubmittingCode:!1,completionHeader:void 0,completionDescription:void 0}:l.reject(s.new({message:"NextStepType."+m.getName(e)+" is not supported by the Activation Client",area:"views.react.activationClient.ActivationEntryContainer._handleNextSteps"}))}).then(function(e){t.setState(e),3===e.activationState&&f.singleton.clearData()})}},{key:"_completeWorkflow",value:function(){var e=this;return e._log("views.react.activationClient.ActivationEntryContainer._completeWorkflow",{messageHeader:f.singleton.headlineMessage,messageBody:f.singleton.bodyMessage,nextStepsPayloadType:f.singleton.step}),e._statusModel.clear().then(function(){return e._logoutUser()}).then(function(){return{activationState:3,completionHeader:f.singleton.headlineMessage,completionDescription:f.singleton.bodyMessage}})}},{key:"_performAction",value:function(){var e=this,t=f.singleton.automaticAction.action,i=m.getName(f.singleton.step);switch(t){case"clientFeature.mvpdPicker":return v.singleton.navigateToUri("/affiliateSelection"),e._log("views.react.activationClient.ActivationEntryContainer._performAction",{automaticAction:t,nextStepsPayloadType:i}),l.fulfilled({activationState:A});case"clientFeature.enterActivationCode":var n=f.singleton.automaticAction.data.errorMessage;return e._log("views.react.activationClient.ActivationEntryContainer._performAction",{automaticAction:t,errorMessage:n,nextStepsPayloadType:i}),this._resetStatusModelAndShowError(n);default:return l.reject(s.new({message:t+" is not supported by the Activation Client",area:"views.react.activationClient.ActivationEntryContainer._performAction"}))}}},{key:"_activateCode",value:function(e,t){var i=this;return h.singleton.submitActivationCode(e).then(function(){i._log("views.react.activationClient.ActivationEntryContainer._activateCode",{code:e,userIntent:t,status:"code-activated"});var n={activationState:3,completionHeader:"ResActivationSuccessHeader",completionDescription:"ResActivationSuccessSubHeader"},o=void 0;return l.fulfilled().then(function(){if(t===g.RESTORE)n.completionHeader="ResActivationRestoreSuccessHeader",n.completionDescription="ResActivationRestoreSuccessSubHeader";else if(t===g.REGISTER)n.completionHeader="ResActivationRegisterSuccessHeader",n.completionDescription="ResActivationRegisterSuccessSubHeader";else if(t===g.AUTHORIZE)return n.completionHeader="ResOauthCodeRedirectHeader",n.completionDescription="ResOauthCodeRedirectSubHeader",i._statusModel.completionUrl.then(function(e){return void 0===e?(i._log("views.react.activationClient.ActivationEntryContainer._activateCode",{userIntent:g.AUTHORIZE,status:"oauth-missing-data-redirect"}),i._statusModel.clear().then(function(){throw d.new({message:"Error processing OAUTH request",area:"design.views.react.ActivationClient.ActivationEntryContainer._activateCode"})})):(o=e,n.redirectLink=o,l.fulfilled(n))});return l.fulfilled(n)}).then(function(e){return i._logoutUser().then(function(){return l.fulfilled(e)})})})}},{key:"_navigateToAuth",value:function(e,t){this._log("views.react.activationClient.ActivationEntryContainer._navigateToAuth",{userIntent:e,status:"navigate-to-auth"}),e===g.REGISTER||e===g.RESTORE?v.singleton.navigateToUri("/freetrial",void 0,{displayMessage:t}):e===g.MVPD_PICKER?v.singleton.navigateToUri("/affiliateSelection"):v.singleton.navigateToUri("/login")}},{key:"_logoutUser",value:function(){var e=this;return o.singleton.create("User","User").logoutUri.then(function(e){return h.singleton.logout(e)}).then(function(){return c.new({eventType:u.USER,eventSubtype:p.USER_IMPLICIT_LOGOUT,area:"design.views.react.ActivationClient.ActivationEntryContainer._logoutUser"}).log(),e._statusModel.clear()})}},{key:"_onButtonReleased",value:function(e){var t=this.state,i=t.codeText,n=t.inputValid,o=C.singleton.validateActivationCode(i),r=void 0===o?[]:[{textRes:o}];r.length>0?this.setState({licensePlateErrors:r,errorText:""}):this.setState({licensePlateErrors:r}),e.button===P.OK&&!0===n&&this._onSubmit()}},{key:"_onCodeTextChanged",value:function(e){void 0===C.singleton.validateActivationCode(e)?this.setState({codeText:e,inputValid:C.singleton.isValidActivationCode(e),activationState:2,licensePlateErrors:[]}):this.setState({codeText:e,inputValid:C.singleton.isValidActivationCode(e),activationState:2})}},{key:"_onSubmit",value:function(){this.state.inputValid;var e=this.state.codeText;this.setState({isSubmittingCode:!0,activationState:A,errorText:""}),this._log("views.react.activationClient.ActivationEntryContainer._onSubmit",{code:e,status:"manual-code-submit"});var t=this;return this._statusModel.setData.apply(this._statusModel,!0===t.props.useNextSteps?[e]:[e,void 0,void 0]).then(function(){return t._runCheckCodeStatus(!0)})}},{key:"_onOauthRedirectSubmit",value:function(){void 0!==this.state.redirectLink&&E.singleton.navigateExternal(this.state.redirectLink,!1)}},{key:"render",value:function(){var e=y.singleton.exports,t=this.state,i=t.activationState,n=t.errorText,o=t.inputValid,r=t.isSubmittingCode,a=t.codeText,s=t.licensePlateErrors,l=[],c=[],d={};if(2===i)d={headerText:I.singleton.getResource("ResActivationEntryHeader"),descriptionText:I.singleton.getResource("ResActivationEntryInstructions"),buttonText:I.singleton.getResource("ResNext"),errorText:n,enableFormButton:o&&!r,onSubmitFn:this._onSubmit.bind(this)},l=x.createElement(b,{theme:"spark",label:I.singleton.getResource("ResActivationEntryInputHeader"),name:"code",value:a,filterFn:C.singleton.isValidPartialActivationCode,onChanged:this._onCodeTextChanged.bind(this),onButtonReleased:this._onButtonReleased.bind(this),statusMessages:s}),c=x.createElement(S,{helpText:this.footer.helpText,helpLinkText:this.footer.helpLinkText});else if(3===i){if(this.props.useNextSteps)d={headerText:this.state.completionHeader,descriptionText:this.state.completionDescription};else{var u=this.state,p=u.completionHeader,h=u.completionDescription,g=u.redirectLink;d={headerText:I.singleton.getResource(p),descriptionText:I.singleton.getResource(h)},g&&(d.name="redirectLinkButton",d.buttonText=I.singleton.getResource("ResOauthCodeButtonText"),d.onSubmitFn=this._onOauthRedirectSubmit.bind(this),d.enableFormButton=!0)}c=x.createElement(S,{helpText:this.footer.helpText,helpLinkText:this.footer.helpLinkText})}return x.createElement(k,{key:"activationContainer",style:e.completionInfoContainer},x.createElement(k,{key:"activationEntryHeader",style:e.activationEntryHeader},x.createElement(_,null),x.createElement(k,{key:"activationEntryContainer",style:e.activationEntryContainer},x.createElement(w,d,l))),c)}}]),T}(x.Component)})}(),function(){"use strict";define("design/templates/CodeEntryViewHostTemplates",["core/oop","design/templates/FormTemplates","design/templates/TemplatesModule","design/templates/ActivationClientViewHostTemplates","design/templates/ViewTemplates","design/ScreenUtil","design/Screen","design/views/react/ActivationClient/ActivationEntryContainer"],function(e,t,i,n,o,r,a,s){return e.classDef("design.templates.CodeEntryViewHostTemplates",i,function(i){e.singleton(function(){i.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.CodeEntryViewHost=this},_setLazyTemplateDefs:function(){var e=o.singleton.exports,i=t.singleton.exports,l=n.singleton.exports,c=r.singleton.byScreenWidth.bind(r.singleton),d={$extend:l.ActivationClientViewHostRegistrations,form:{$extend:e.ViewRegistration,layer:"content",order:l.subViewRegistrationOrder++,template:{$extend:e.ReactHostView,reactComponentType:s,x:c({small:14,default:50}),width:i.formLayoutWidth,height:function(e){var t=a.singleton.getScreenHeight(-50)(e);return Math.max(t,375)},reactComponentProps:{useNextSteps:r.singleton.byBrandCall({hbogo:function(){return!0}})}}}};this.registered.CodeEntryViewHost={$extend:l.ActivationClientViewHost,viewRegistrations:d}}})})})}(),function(){"use strict";define("design/templates/LoginViewHostTemplates",["core/oop","design/templates/TemplatesModule","design/templates/ActivationClientViewHostTemplates","design/templates/ViewTemplates"],function(e,t,i,n){return e.classDef("design.templates.LoginViewHostTemplates",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.LoginViewHost=this},_setLazyTemplateDefs:function(){var e=n.singleton.exports,t=i.singleton.exports,o={$extend:t.ActivationClientViewHostRegistrations,img:{$extend:e.ViewRegistration,layer:"content",order:t.subViewRegistrationOrder++,template:{$extend:e.ImageView,width:200,height:200,uri:"/assets/images/icons/lock_l.png"}}};this.registered.LoginViewHost={$extend:t.ActivationClientViewHost,viewRegistrations:o}}})})})}(),function(){"use strict";define("design/viewHosts/AffiliateLoginViewHost",["core/oop","dataservices/authentication/AuthenticationManager","design/viewHosts/ActivationClientViewHost"],function(e,t,i){return e.classDef("design.viewHosts.AffiliateLoginViewHost",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({enableMvpdRelinking:{defaultValue:!1}}),e.methods({_isActiveAlreadyLoggedInArea:function(){return!1===this.enableMvpdRelinking&&!0===t.singleton.isAuthenticated},_isActiveMainArea:function(){return!0===this.enableMvpdRelinking||!0!==t.singleton.isAuthenticated}})})})}(),function(){"use strict";define("design/views/react/AffiliateSelectionForm/AffiliateSelectionFormNOWStyles",["core/oop","ui/Axis","ui/AnchoredLayout","ui/StackedLayout","ui/StyleSheet","ui/Transition","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.react.AffiliateSelectionForm.AffiliateSelectionFormNOWStyles",Object,function(){e.singleton(function(){var e=s.singleton.exports;this.exports=o.create({
stackContainer:{name:"stackContainer",layout:n.new({primaryAxis:t.VERTICAL,spacing:45}),layoutProps:e.layouts.anchorTopLeft},anchorContainer:{name:"anchorContainer",layout:i.new(),layoutProps:e.layouts.anchorAll},form:{container:{layoutProps:e.layouts.anchorLeft},contentHost:{layout:n.new({primaryAxis:t.VERTICAL,spacing:38,alignAlongPrimaryAxis:!0})},formTitle:{description:{format:e.textFormats.affiliateSubHeadTextFormat}}},middleContainer:{name:"middleContainer",layoutProps:a.new(e.layouts.anchorAll,{margin:{top:-7}}),layout:n.new({primaryAxis:t.VERTICAL,spacing:38})},dontSeeProviderLink:{name:"dontSeeProviderLink",layoutProps:a.new(e.layouts.anchorBottomLeft,{margin:{top:40}}),uri:"http://itsh.bo/NOW-find-provider",isExternal:!0},dontSeeProviderText:{name:"dontSeeProviderText",transitionMap:{initial:{set_format:r.new({to:e.textFormats.affiliateSubHeadTextLinkFormat})},hovered:{set_format:r.new({to:e.textFormats.affiliateSubHeadTextLinkHoveredFormat})}}}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/LoginWebControl/LoginWebControlStyles",["core/oop","design/styles/StyleConstants","ui/StyleSheet","ui/LayoutProps"],function(e,t,i,n){return e.classDef("design.views.react.LoginWebControl.LoginWebControlStyles",Object,function(){e.singleton(function(){var e=t.singleton.exports;this.exports=i.create({loginWebControlContainer:{name:"loginWebControlContainer"},loginWebControlComponent:{backgroundColor:e.colors.darkestGray,name:"LoginWebControlComponent"},webframe:{backgroundColor:e.colors.darkestGray,name:"LoginWebControl"},changeProviderLink:{name:"changeProviderLink",uri:"/affiliateSelection",isExternal:!1,layoutProps:n.new(e.layouts.anchorBottomLeft,{margin:{bottom:20}})}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/LoginWebControl/LoginWebControlComponent",["design/NavigationRouter","design/views/react/ReactPrimitives","design/views/react/LoginWebControl/LoginWebControlStyles","design/PopupManager","design/ScreenUtil","platform/common/Dispatcher","lib/react"],function(o,r,a,s,l,c,d){var u=r.WebFrameView;return function(r){function p(i){e(this,p);var n=t(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,i));n.state={},n.displayName="LoginWebControlComponent";var o=n;return l.singleton.byDesignCall({mobile:function(){o.waitingForPageLoadToComplete=!0,o.interactivityBlocked=!0,s.singleton.blockInteractivity()},default:function(){o.waitingForPageLoadToComplete=!1,o.interactivityBlocked=!1}}),n}return i(p,r),n(p,[{key:"render",value:function(){var e,t=a.singleton.exports;return void 0===this.state.viewModel&&void 0===this.props.viewModel||(e={viewModel:this.state.viewModel||this.props.viewModel}),d.createElement(u,{style:[t.webframe,this.props.style,e],eventHandlers:{webFrameMessageHandler:o.singleton.handleAffiliateLogin.bind(o.singleton),webFrameLoadingStateHandler:this._loadingStatus.bind(this)}})}},{key:"_loadingStatus",value:function(e){var t=this;l.singleton.byDesignCall({mobile:function(){t.waitingForPageLoadToComplete=e.isLoading,!0===t.waitingForPageLoadToComplete?!1===t.interactivityBlocked&&(t.interactivityBlocked=!0,s.singleton.blockInteractivity()):!0===t.interactivityBlocked&&(void 0!==t._dismissLoadingScreenTimer&&t._dismissLoadingScreenTimer.cancel(),t._startDismissTimer())}})}},{key:"_startDismissTimer",value:function(){var e=this;this._dismissLoadingScreenTimer=c.singleton.postTimeout(500).then(function(){e._handleDismissLoadScreenTimeout()})}},{key:"_handleDismissLoadScreenTimeout",value:function(){this._dismissLoadingScreenTimer=void 0,!1===this.waitingForPageLoadToComplete&&(this.interactivityBlocked=!1,s.singleton.unblockInteractivity())}},{key:"componentWillUnmount",value:function(){void 0!==this._dismissLoadingScreenTimer&&this._dismissLoadingScreenTimer.cancel(),!0===this.interactivityBlocked&&s.singleton.unblockInteractivity()}}]),p}(d.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/LoginWebControl/LoginWebControlContainer",["core/AsyncManager","ui/Localization","design/views/react/ReactPrimitives","design/views/react/atomic/particles/TextParticle","design/views/react/ActivationClient/ActivationClientHeaderComponent","design/views/react/FormFooter/FormFooterComponent","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormNOWStyles","design/views/react/atomic/themes/legacy/forms/SimpleFormStyles","design/views/react/LoginWebControl/LoginWebControlComponent","design/views/react/LoginWebControl/LoginWebControlStyles","lib/react","core/logging/SimpleLogEntry","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(o,r,a,s,l,c,d,u,p,h,g,f,m,v){var _=a.Hyperlink,y=a.Text,w=a.View;return function(a){function b(i){e(this,b);var n=t(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,i));return n.state={},n.displayName="LoginWebControlContainer",n._asyncManager=o.new(),n}return i(b,a),n(b,[{key:"componentDidUpdate",value:function(e,t){if(void 0===t.viewModel&&void 0!==this.state.viewModel){var i=this;this._asyncManager.runUntilDisposed("updateActions",function(){return i.state.viewModel.supportedDevice.then(function(e){i.setState({supportedDevice:e}),!1===e&&i._log("views.react.LoginWebControl.LoginWebControlContainer.componentDidUpdate",{messageHeader:"Device Not Supported",messageBody:"Sorry, your TV provider doesn’t support $t(ResBrand) on this device."})})})}}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_log",value:function(e,t){f.new({eventType:m.ACTIVATION,eventSubtype:v.ACTIVATION_ACTIVATIONCODE,area:e,payload:t}).log()}},{key:"render",value:function(){var e=r.singleton.getResource.bind(r.singleton),t=h.singleton.exports,i=d.singleton.exports,n=this.props.style?this.props.style.loginWebControlComponent:this.props.style,o={helpText:e("ResFooterHelpText"),helpLinkText:e("ResFooterHelpLinkText")},a=u.singleton.exports;return g.createElement(w,{style:[i.anchorContainer,t.loginWebControlContainer]},g.createElement(w,{style:[i.stackContainer,t.stackContainer]},g.createElement(l,null),!0===this.state.supportedDevice?g.createElement(p,{name:"ACLoginWebControl",style:n,viewModel:this.state.viewModel}):[g.createElement(s,{name:"simpleFormHeaderText",key:"simpleFormHeaderText",class:a.HeaderText,textRes:"ResUnsupportedDeviceErrorHeader"}),g.createElement(s,{name:"simpleFormDescriptionText",key:"simpleFormDescriptionText",class:a.DescriptionText,textRes:"ResUnsupportedDeviceErrorBody"}),g.createElement(c,{key:"footer",helpText:o.helpText,helpLinkText:o.helpLinkText})]),this.state.supportedDevice&&g.createElement(_,{style:[i.dontSeeProviderLink,t.changeProviderLink]},g.createElement(y,{style:[i.dontSeeProviderText,t.changeProviderText]},e("ResChooseAnotherAffiliateLink"))))}}]),b}(g.Component)})}(),function(){"use strict";define("design/templates/AffiliateLoginViewHostTemplates",["core/oop","design/Screen","design/ScreenUtil","design/templates/ActivationClientViewHostTemplates","design/templates/TemplatesModule","design/templates/ViewTemplates","design/viewHosts/AffiliateLoginViewHost","design/views/react/LoginWebControl/LoginWebControlContainer"],function(e,t,i,n,o,r,a,s){return e.classDef("design.templates.AffiliateLoginViewHostTemplates",o,function(o){e.singleton(function(){o.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.AffiliateLoginViewHost=this},_setLazyTemplateDefs:function(){var e=n.singleton.exports,o=r.singleton.exports,l=i.singleton.byScreenWidth.bind(i.singleton),c={$extend:e.ActivationClientViewHostRegistrations,form:{$extend:o.ViewRegistration,layer:"content",order:e.subViewRegistrationOrder++,isPreload:!0,useOwnerModel:!0,viewModelFactoryId:"AffiliateWebFrame",attachFromOwner:!0,template:{$extend:o.ReactHostView,x:l({small:14,default:50}),layoutProps:{margin:{top:30}},reactComponentType:s,height:function(e){var i=t.singleton.getScreenHeight(-30)(e),n=l({small:540,default:590})(e);return Math.max(i,n)}}}};this.registered.AffiliateLoginViewHost={$extend:e.ActivationClientViewHost,$type:a,viewRegistrations:c}}})})})}(),function(){"use strict";define("design/views/react/AffiliateGrid/AffiliateGridStyles",["core/oop","ui/AnchoredLayout","ui/Axis","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants","design/ScreenUtil"],function(e,t,i,n,o,r,a){return e.classDef("design.views.react.AffiliateGrid.AffiliateGridStyles",Object,function(){e.singleton(function(){var e=r.singleton.exports,s=a.singleton.byBrand({hbogo:{borderRadius:0,cellBackgroundColor:e.colors.translucentMineShaftGray,gridItemSpacing:5,secondaryAxisItemCount:4,thumbnailCellWidth:170,thumbnailCellHeight:70},hbonow:{thumbnailCellWidth:220,thumbnailCellHeight:66,buttonBorderRadius:2}});this.exports=a.singleton.byBrand({hbogo:n.create({grid:{name:"topAffiliates",primaryAxis:i.VERTICAL,secondaryAxisItemCount:s.secondaryAxisItemCount,itemSpacing:s.gridItemSpacing,fixedItemWidth:s.thumbnailCellWidth,fixedItemHeight:s.thumbnailCellHeight},gridItem:{container:{name:"container",width:s.thumbnailCellWidth,height:s.thumbnailCellHeight,backgroundColor:s.cellBackgroundColor,clipToBounds:!0,borderRadius:s.borderRadius,layout:t.new()},hyperlink:{name:"hyperlink",layoutProps:e.layouts.anchorAll},image:{name:"image"}}}),hbonow:n.create({grid:{name:"topAffiliates",primaryAxis:i.VERTICAL,itemSpacing:4,fixedItemWidth:s.thumbnailCellWidth,fixedItemHeight:s.thumbnailCellHeight},gridItem:{container:{name:"container",height:s.thumbnailCellHeight,width:s.thumbnailCellWidth,backgroundColor:e.colors.mineShaftGray,clipToBounds:!0,borderRadius:s.buttonBorderRadius,layout:t.new()},hyperlink:{name:"hyperlink",backgroundColor:e.colors.opaqueBlack,clipToBounds:!0,borderRadius:s.buttonBorderRadius-1.5,layoutProps:o.new(e.layouts.anchorAll,{margin:{left:1.5,top:1.5,right:1.5,bottom:1.5}})},image:{name:"image",width:135,height:35}}})})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/AffiliateGrid/StoreGridComponent",["design/InAppPurchaseResult","design/InAppPurchaseUtil","design/ScreenUtil","design/PopupManager","design/views/react/AffiliateGrid/AffiliateGridStyles","design/NavigationRouter","platform/dependent/Process","platform/dependent/NativeDialogType","design/views/react/ReactPrimitives","ui/Localization","lib/react"],function(o,r,a,s,l,c,d,u,p,h,g){return function(f){function m(i){e(this,m);var n=t(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,i));return n.style=i.style,n.store=i.store,n.defaultStyles=l.singleton.exports,n}return i(m,f),n(m,[{key:"render",value:function(){var e=p.View,t=p.Image,i=p.Text,n=this.store.logoImageUrl,o=this.store.displayName,r=void 0;return r=void 0!==n&&""!==n?g.createElement(t,{style:[this.defaultStyles.gridItem.image,{uri:n}]}):g.createElement(i,{style:this.defaultStyles.gridItem.text},o),g.createElement(e,{style:this.style},g.createElement(e,{style:[this.defaultStyles.gridItem.hyperlink,{isInvokable:!0}],eventHandlers:{invoked:this._onStoreSelected.bind(this)}},r))}},{key:"_onStoreSelected",value:function(){return this._tryToRestorePurchases()}},{key:"_tryToRestorePurchases",value:function(){var e=this;return this._setSaveState(!0),r.singleton.restorePurchase().then(function(t){switch(t.result){case o.RESTORE_SUCCESS_NO_AUTH:return e._setSaveState(!1),c.singleton.navigateToUri("/register");case o.RESTORE_SUCCESS:e._setSaveState(!1);var i=c.singleton.getLoginReturnPath();return c.singleton.navigateToUri(i);default:return e._showError(t.error.userTitle,t.error.userMessage)}})}},{key:"_setSaveState",value:function(e){a.singleton.byDesignCall({mobile:function(){!0===e?s.singleton.blockInteractivity("InteractivityBlockingView"):s.singleton.unblockInteractivity()}})}},{key:"_showError",value:function(e,t){var i=this;return this._setSaveState(!1),d.singleton.openNativeDialog(u.ALERT,h.singleton.getResource(e),h.singleton.getResource(t,{store:i.store.displayName}),h.singleton.getResource("ResOk"),h.singleton.getResource("ResCancel"))}}]),m}(g.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ListView",["design/views/react/ReactPrimitives","lib/react"],function(o,r){var a=o.ItemsView;return function(o){function s(i){e(this,s);var n=t(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,i));return n.displayName="ListView",n.state={},n}return i(s,o),n(s,[{key:"render",value:function(){var e=this,t={viewModel:this.props.viewModel,stateSetter:this.setState.bind(this),dataItemTransformer:this.props.transformDataItem.bind(this)},i=[];return void 0!==this.state.dataItems&&this.state.dataItems.forEach(function(t){var n;n=void 0!==t.data?e.props.renderItem(t.data,t.containerKey,t.style):e.props.renderPlaceholder(t.containerKey,t.style),i.push(n)}),r.createElement(a,{style:[t,this.props.style]},i)}}]),s}(r.Component)})}(),function(){"use strict";define("design/views/react/AffiliateGrid/AffiliateGridComponent",["lib/Promise","ui/StyleSheet","design/views/react/AffiliateGrid/AffiliateGridStyles","design/views/react/AffiliateGrid/StoreGridComponent","design/views/react/ListView","design/views/react/ReactPrimitives","lib/react"],function(e,t,i,n,o,r,a){function s(e,t,i){return e.store?l(e,t,i):c(e,t,i)}function l(e,t,o){var r=i.singleton.exports,s=e.store,l={accessibilityTextOverride:s.displayName};return a.createElement(n,{style:[r.gridItem.container,o,l],key:t,store:s})}function c(e,t,n){var o=i.singleton.exports,r={accessibilityTextOverride:e.name},s={uri:e.uri,isExternal:e.isExternal,openInExternalProcess:e.openInExternalProcess};return a.createElement(g,{style:[o.gridItem.container,n,r],key:t},a.createElement(p,{style:[o.gridItem.hyperlink,s]},a.createElement(h,{style:[o.gridItem.image,{uri:e.imageUri}]})))}function d(e,t){var n=i.singleton.exports;return a.createElement(g,{style:[n.gridItem.container,t],key:e})}function u(t){return"Store"===t.factoryId?e.props({displayName:t.displayName,logoImageUrl:t.logoImageUrl}).then(function(e){return{store:{displayName:e.displayName,logoImageUrl:e.logoImageUrl}}}):e.props({uri:t.uri,name:t.dataModel.name,subViewModel:t.subViewModel,isExternal:t.isExternal,openInExternalProcess:t.openInExternalProcess}).then(function(t){return e.props({uri:t.uri,name:t.name,imageUri:t.subViewModel.value,isExternal:t.isExternal,openInExternalProcess:t.openInExternalProcess})})}var p=r.Hyperlink,h=r.Image,g=r.View;return function(e){var n=i.singleton.exports,r=e.columns,l=void 0===r?3:r,c=t.flatten([n.grid,{secondaryAxisItemCount:l}]);return a.createElement(o,{style:c,viewModel:e.viewModel,renderItem:s,renderPlaceholder:d,transformDataItem:u})}})}(),function(){"use strict";define("design/views/react/AffiliateSelectionForm/AffiliateSelectionFormStyles",["core/oop","ui/Axis","ui/AnchoredLayout","ui/StackedLayout","ui/StyleSheet","ui/Transition","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n,o,r,a,s){return e.classDef("design.views.react.AffiliateSelectionForm.AffiliateSelectionFormStyles",Object,function(){e.singleton(function(){var e=s.singleton.exports;this.exports=o.create({form:{container:{layoutProps:a.new(e.layouts.anchorAll,{margin:{bottom:100},minHeight:756})},contentHost:{layoutProps:a.new(e.layouts.anchorAll,{}),layout:n.new({primaryAxis:t.VERTICAL,spacing:30,alignAlongPrimaryAxis:!0})},formTitle:{description:{format:e.textFormats.affiliateSubHeadTextFormat}}},middleContainer:{name:"middleContainer",layoutProps:a.new(e.layouts.anchorAll,{margin:{top:98}}),layout:n.new({primaryAxis:t.VERTICAL,spacing:30})},bottomContainer:{name:"bottomContainer",layoutProps:e.layouts.anchorFillBottom,layout:n.new({primaryAxis:t.VERTICAL,spacing:30})},container:{name:"affiliateSelectionContainer",layout:i.new(),layoutProps:e.layouts.anchorAll},logoLink:{name:"logoLink",uri:"/",layoutProps:a.new(e.layouts.anchorTopLeftCropTop,{margin:{top:30,bottom:29}})},logo:{name:"logo",uri:"/assets/images/branding/desktop/hbogo/logo.svg",width:e.logoSize.width,height:e.logoSize.height},allProviderButton:{width:334,height:52},allAffiliatesText:{name:"allAffiliatesText",format:e.textFormats.affiliateSubHeadTextFormat},dontSeeProviderLabel:{name:"dontSeeProviderLabel",format:e.textFormats.affiliateSubHeadBoldTextFormat},dontSeeProviderBody:{name:"dontSeeProviderBody",format:e.textFormats.affiliateSubHeadTextFormat},dontSeeProviderSection:{name:"dontSeeProviderSection",layout:n.new({primaryAxis:t.VERTICAL,spacing:10})},orderRow:{name:"orderRow",layout:n.new({primaryAxis:t.HORIZONTAL,spacing:10})},dontHaveHboText:{name:"dontHaveHboText",format:e.textFormats.helpFooterCopyFormat},orderTodayLink:{name:"orderTodayLink",uri:"https://www.hbo.com/order?camp=providers_gotopnav",openInExternalProcess:!0,isExternal:!0},orderTodayText:{name:"orderTodayText",format:e.textFormats.helpFooterLinkFormat,transitionMap:{initial:{set_format:r.new({to:e.textFormats.helpFooterLinkFormat})},hovered:{set_format:r.new({to:e.textFormats.helpFooterLinkHoveredFormat})}}}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/AffiliateSelectionForm/AffiliateSelectionFormComponent",["ui/Localization","design/views/react/ReactPrimitives","design/views/react/AffiliateGrid/AffiliateGridComponent","design/views/react/ActivationClient/ActivationClientHeaderComponent","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormStyles","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormNOWStyles","design/views/react/Form/FormComponent","design/views/react/FormButton/FormButtonComponent","design/views/react/FormButton/FormButtonStyles","design/NavigationRouter","lib/react"],function(e,t,i,n,o,r,a,s,l,c,d){var u=t.Hyperlink,p=t.Image,h=t.Text,g=t.View;return function(t){var f=e.singleton.getResource.bind(e.singleton),m=t.brand,v=t.header,_=t.description;if("hbonow"===m){var y=r.singleton.exports;return d.createElement(g,{style:y.anchorContainer},d.createElement(g,{style:y.stackContainer},d.createElement(n,null),d.createElement(a,{key:"form",style:y.form,header:v,description:_,hasFooter:!1}),d.createElement(g,{style:y.middleContainer},d.createElement(i,{columns:3,viewModel:t.gridAffiliatesViewModel}))),d.createElement(u,{key:"dontSeeProviderLink",style:y.dontSeeProviderLink},d.createElement(h,{key:"dontSeeProviderText",style:y.dontSeeProviderText},f("ResAffiliatesFooterTitle"))))}var w=o.singleton.exports,b=l.singleton.exports;return d.createElement(g,{style:w.container},d.createElement(u,{key:"logoLink",style:w.logoLink},d.createElement(p,{key:"logo",style:w.logo})),d.createElement(a,{key:"form",style:w.form,header:v,description:_,hasFooter:!1}),d.createElement(g,{style:w.middleContainer},d.createElement(i,{columns:4,viewModel:t.gridAffiliatesViewModel}),d.createElement(s,{defaultStyles:b.linkButtonStyles,style:w.allProviderButton,text:f("ResSeeAllAffiliates"),invokeHandler:function(){c.singleton.navigateToUri("/affiliateList")}})),d.createElement(g,{key:"bottomContainer",style:w.bottomContainer},d.createElement(g,{key:"dontSeeProviderSection",style:w.dontSeeProviderSection},d.createElement(h,{key:"dontSeeProviderLabel",style:w.dontSeeProviderLabel},f("ResAffiliatesFooterTitle")),d.createElement(h,{key:"dontSeeProviderBody",style:w.dontSeeProviderBody},f("ResAffiliatesFooterSubTitle"))),d.createElement(g,{key:"orderRow",style:w.orderRow},d.createElement(h,{key:"dontHaveHboText",style:w.dontHaveHboText},f("ResDontHaveHbo")),d.createElement(u,{key:"orderTodayLink",style:w.orderTodayLink},d.createElement(h,{key:"orderTodayText",style:w.orderTodayText},f("ResOrderToday"))))))}})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/AffiliateSelectionForm/AffiliateSelectionFormContainer",["ui/ViewModelFactory","core/data/ModelFactory","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormComponent","lib/react","core/AsyncManager","design/ScreenUtil"],function(o,r,a,s,l,c){return function(d){function u(i){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i));return n.state={},n.displayName="AffiliateSelectionFormContainer",n}return i(u,d),n(u,[{key:"componentDidMount",value:function(){var e=this.props.brand;this._asyncManager=l.new();var t=r.singleton.create("AffiliateList","AffiliateList"),i=this;if(c.singleton.byDesign({mobile:!0,default:!1})&&"hbonow"===e){var n=o.singleton.create("ExtendedPreferredAffiliateList",t);i.setState({gridAffiliatesViewModel:n})}else{var a=o.singleton.create("PreferredAffiliateList",t);i._asyncManager.runUntilDisposed("getAffiliateListViewModel",function(){return a.affiliates.then(function(e){i.setState({gridAffiliatesViewModel:e})})})}this.dropdownAffiliatesViewModel=o.singleton.create("AffiliateDropDownList",t),this.userModel=r.singleton.create("User","User")}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"render",value:function(){var e=this.props,t=e.brand,i=e.header,n=e.description;return s.createElement(a,{brand:t,header:i,description:n,gridAffiliatesViewModel:this.state.gridAffiliatesViewModel,dropdownAffiliatesViewModel:this.dropdownAffiliatesViewModel})}}]),u}(s.Component)})}(),function(){"use strict";define("design/templates/AffiliateSelectionViewHostTemplates",["core/oop","ui/Localization","design/Screen","design/templates/ActivationClientViewHostTemplates","design/ScreenUtil","design/templates/TemplatesModule","design/templates/ViewTemplates","design/views/react/AffiliateSelectionForm/AffiliateSelectionFormContainer","design/viewHosts/ActivationClientViewHost"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.templates.AffiliateSelectionViewHostTemplates",[r],function(r){e.singleton(function(){r.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.AffiliateSelectionViewHost=this},_setLazyTemplateDefs:function(){var e=a.singleton.exports,r=n.singleton.exports,c=o.singleton.byBrand.bind(o.singleton),d=t.singleton.getResource.bind(t.singleton),u={$extend:e.ReactHostView,reactComponentType:s,reactComponentProps:c({hbogo:{brand:"hbogo",header:d("ResAffiliateSelectionTitle"),description:d("ResAffiliateLoginTitle")},hbonow:{brand:"hbonow",header:d("ResAffiliateLoginTitle"),description:d("ResAffiliateSelectionTitle")}})};this.registered.AffiliateSelectionViewHost={$extend:r.ActivationClientViewHost,$type:l,viewRegistrations:{$extend:r.ActivationClientViewHostRegistrations,affiliateSelectionForm:{$extend:e.ViewRegistration,layer:"content",order:r.subViewRegistrationOrder++,template:{$extend:u,x:50,height:function(e){var t=i.singleton.getScreenHeight(-70)(e),n=c({hbogo:526,hbonow:360});return Math.max(t,n)},width:i.singleton.getScreenWidth(-50),clipToBounds:!0}}}}}})})})}(),function(){"use strict";define("design/templates/AffiliateListViewHostTemplates",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","ui/Axis","ui/StackedLayout","design/Screen","design/ScreenUtil","design/views/react/ActivationClient/ActivationClientHeaderComponent","design/templates/ColorTemplates","design/templates/ActivationClientViewHostTemplates","design/templates/TemplatesModule","design/templates/TextFormatTemplates","design/templates/ViewTemplates","design/viewHosts/ActivationClientViewHost","ui/views/ScrollView"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("design.templates.AffiliateListViewHostTemplates",[d],function(d){e.singleton(function(){d.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.AffiliateListViewHost=this},_setLazyTemplateDefs:function(){var e=u.singleton.exports,d=p.singleton.exports,f=c.singleton.exports,m=l.singleton.exports,v=a.singleton.byBrand({hbogo:68,hbonow:15}),_=a.singleton.byScreenWidth({small:14,default:50}),y=a.singleton.byBrand({hbonow:15,hbogo:0}),w=a.singleton.byBrand({hbonow:30,hbogo:0}),b=a.singleton.byBrand({hbonow:20,hbogo:0}),S=e.pageTitle.size+24+28+y+w+b+8,C=r.singleton.getScreenHeight(-S),T={$extend:d.ViewRegistration,order:f.subViewRegistrationOrder++,layer:"content",template:{$extend:d.ReactHostView,reactComponentType:s,layoutProps:{margin:{left:_}}}},R={$extend:d.ViewRegistration,layer:"content",order:f.subViewRegistrationOrder++,isPreload:!0,viewModelFactoryId:"ResAffiliateSelectionTitle",template:{$extend:d.TextView,width:352,maxLines:2,format:e.affiliateListTextFormat,layoutProps:{margin:{top:24,left:_}}}},P={$extend:d.ViewRegistration,layer:"content",order:f.subViewRegistrationOrder++,isPreload:!0,template:{$extend:d.View,width:380,height:1,backgroundColor:m.mineShaftGray,layoutProps:{margin:{top:28,left:_}},isReadyInit:!0}},E={$extend:d.ViewRegistration,layer:"content",order:f.subViewRegistrationOrder++,isPreload:!0,template:{$extend:d.CompositeView,forwardOwnershipForSubViews:!0,width:380,layout:{$type:o,spacing:30},layoutProps:{minHeight:C,margin:{bottom:v,left:_}},subViewRegistrations:{$extend:d.ViewRegistrations,allAffiliates:{$extend:d.ViewRegistration,layer:"content",order:f.subViewRegistrationOrder++,isPreload:!0,modelFactoryId:"AffiliateList",modelId:"AffiliateList",viewModelFactoryId:"AllAffiliateList",template:{$extend:d.ItemsView,itemTemplateMap:{AffiliateNameLink:{$extend:d.CompositeView,width:352,height:44,layout:{$type:o,primaryAxis:n.VERTICAL},subViewRegistrations:{$extend:d.ViewRegistrations,affiliateName:{$extend:d.ViewRegistration,useOwnerViewModel:!0,template:{$extend:d.HyperlinkView,factoryId:"AffiliateNameLink",subViewTemplate:{$extend:d.TextView,maxLines:void 0,width:380,height:43,horizontalAlignment:t.LEFT,verticalAlignment:i.CENTER,spanAlignment:t.LEFT,format:e.affiliateListTextFormat}}},separator:{$extend:d.ViewRegistration,template:{$extend:d.View,width:380,height:1,backgroundColor:m.mineShaftGray,isReadyInit:!0}}}}},primaryAxis:n.VERTICAL,secondaryAxisItemCount:1,bufferOnPrimaryAxis:440,width:380,itemSpacing:0,fixedItemWidth:380,fixedItemHeight:44}}}}},I=a.singleton.byBrand({hbonow:{$extend:d.ViewRegistration,layer:"content",order:f.subViewRegistrationOrder++,template:{$extend:d.CompositeView,forwardOwnershipForSubViews:!0,width:380,height:w+b+y,layout:{$type:o,spacing:b},layoutProps:{margin:{left:_}},subViewRegistrations:{$extend:d.ViewRegistrations,footerLink:{$extend:d.ViewRegistration,order:f.subViewRegistrationOrder++,viewModelFactoryId:"DontSeeProviderLink",template:{$extend:d.HyperlinkView,height:y+w,subViewTemplate:{$extend:d.TextView,maxLines:1,format:e.smallHyperlinkFormat}}}}}}}),x={$type:g,isReadyInit:!0,isPointerTarget:!1,width:r.singleton.getScreenWidth(),height:r.singleton.getScreenHeight(),canScrollVertically:!0,showScrollbar:!0,restoresScrollOffset:!0},A={$extend:d.ViewRegistration,layer:"content",order:f.subViewRegistrationOrder++,template:{$extend:d.CompositeView,containerViewRegistration:{$extend:d.ViewRegistration,layer:"content",name:"scrollContainer",template:x},width:r.singleton.getScreenWidth(),layout:{$type:o,primaryAxis:n.VERTICAL},forwardOwnershipForSubViews:!0,subViewRegistrations:{$extend:d.ViewRegistrations,header:T,affiliateHeaderText:R,separator:P,centerBlock:E,footer:I}}};this.registered.AffiliateListViewHost={$extend:f.ActivationClientViewHost,$type:h,viewRegistrations:{$extend:f.ActivationClientViewHostRegistrations,content:A}}}})})})}(),function(){"use strict";define("design/templates/TransitionManagerTemplates",["core/oop","design/templates/TemplatesModule","design/templates/TransitionTemplates","design/ScreenUtil","platform/common/Interpolations","ui/Transition"],function(e,t,i,n,o,r){return e.classDef("design.templates.TransitionManagerTemplates",[t],function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=this.registered,t=i.singleton.exports,a={$type:r,to:0,duration:t.animationDuration,interpolation:o.EASE},s={$type:r,to:1,duration:t.animationDuration,interpolation:o.EASE},l={offsetX:a,offsetY:a,opacity:a},c={offsetX:a,
offsetY:a,opacity:s},d={searchVH:{initial:c,"slideUnder+initial":{offsetX:t.pageSlideParallaxLeftTransition},"slideUnder+enter":c,"slideOver+initial":{offsetX:a,offsetY:t.pageSlideToTop,opacity:s},"slideOver+enter":c},otherVH:{initial:{offsetX:a},"slideUnder+initial":{offsetX:a},"slideUnder+enter":{offsetX:a},"slideOver+initial":{offsetX:t.pageSlideToScreenWidthTransition},"slideOver+enter":{offsetX:a}}},u={searchVH:{initial:{offsetX:a,offsetY:a,opacity:s},"slideUnder+initial":{offsetX:t.pageSlideParallaxLeftTransition,offsetY:a,opacity:s},"slideUnder+enter":{offsetX:a,offsetY:a,opacity:s},"slideOver+initial":l,"slideOver+enter":{offsetX:a,offsetY:a,opacity:s}},otherVH:{initial:{offsetX:a},"slideUnder+initial":{offsetX:a},"slideUnder+enter":{offsetX:a},"slideOver+initial":{offsetX:t.pageSlideToScreenWidthTransition},"slideOver+enter":{offsetX:a}}};e.TransitionManager={"*":{"*":{initial:{offsetX:{$type:r,to:0,duration:0},offsetY:{$type:r,to:0,duration:0},opacity:{$type:r,to:0,duration:.25}},enter:{opacity:{$type:r,to:1,duration:.25}}},MainView:{initial:{offsetX:a},"slideUnder+initial":{offsetX:t.pageSlideParallaxLeftTransition},"slideUnder+enter":{offsetX:a},"slideOver+initial":{offsetX:t.pageSlideToScreenWidthTransition},"slideOver+enter":{offsetX:a}}},"Search:*":{MainView:d.otherVH,searchMain:d.searchVH},"*:Search":{MainView:u.otherVH,searchMain:u.searchVH},"*:Player":{MainView:{initial:{offsetX:a},"slideUnder+initial":{offsetX:n.singleton.byDesign({daydream:s,default:t.pageSlideParallaxRightTransition})},"slideUnder+enter":{offsetX:a},"slideOver+initial":{offsetX:n.singleton.byDesign({daydream:s,default:t.pageSlideToScreenWidthLeftTransition})},"slideOver+enter":{offsetX:a}}},"Player:*":{MainView:{initial:{offsetX:a},"slideUnder+initial":{offsetX:n.singleton.byDesign({daydream:s,default:t.pageSlideParallaxRightTransition})},"slideUnder+enter":{offsetX:a},"slideOver+initial":{offsetX:n.singleton.byDesign({daydream:s,default:t.pageSlideToScreenWidthLeftTransition})},"slideOver+enter":{offsetX:a}}}}}})})})}(),function(){"use strict";define("design/viewHosts/InitializationViewHost",["core/oop","design/viewHosts/ActivationClientViewHost"],function(e,t){return e.classDef("design.viewHosts.InitializationViewHost",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({modelInitializationArgs:void 0}),e.methods({_getModelCreationArguments:function(){return[this.modelType,this.modelId,this.modelInitializationArgs]}})})})}(),function(){"use strict";define("design/views/VersionInfoView",["core/oop","lib/Promise","ui/views/ItemsView"],function(e,t,i){return e.classDef("design.views.VersionInfoView",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.methods({_onViewModelChanged:function(e){i._onViewModelChanged.apply(this,arguments);var n=this,o=[];void 0!==e&&n.runUntilDisposed("_onViewModelChanged",function(){return e.items.then(function(e){return e.forEach(function(e){o.push(e.left),o.push(e.right)})}).then(function(){return t.all(o)}).then(function(e){n.accessibilityTextOverride=e.join(". ")})})}})})})}(),function(){"use strict";define("design/templates/InitializationViewHostTemplates",["core/oop","design/Screen","design/ScreenUtil","design/templates/ActivationClientViewHostTemplates","design/templates/FormTemplates","design/templates/TemplatesModule","design/templates/TextFormatTemplates","design/templates/ViewTemplates","design/viewHosts/InitializationViewHost","design/views/VersionInfoView","ui/Axis","ui/StackedLayout"],function(e,t,i,n,o,r,a,s,l,c,d,u){return e.classDef("design.templates.InitializationViewHostTemplates",r,function(r){e.singleton(function(){r.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=n.singleton.exports,r=s.singleton.exports,p=a.singleton.exports,h=o.singleton.exports,g=i.singleton.byScreenWidth.bind(i.singleton),f=g({small:14,default:50}),m=this.registered,v=g({small:h.formLayoutWidth,default:2*h.formLayoutWidth}),_={$extend:r.ItemsView,$type:c,fixedItemHeight:30,primaryAxis:d.VERTICAL,height:200,width:v,itemTemplateMap:{PairFromStringPair:{$extend:r.CompositeView,height:30,layout:{$type:u,primaryAxis:d.HORIZONTAL},subViewRegistrations:{$extend:r.ViewRegistrations,left:{$extend:r.ViewRegistration,useOwnerViewModel:!0,viewModelPropertyPath:"left",order:1,template:{$extend:r.TextView,format:p.applicationVersionLabel,width:200,isReadyInit:!0,maxLines:1}},right:{$extend:r.ViewRegistration,useOwnerViewModel:!0,viewModelPropertyPath:"right",order:2,template:{$extend:r.TextView,format:p.applicationVersionLabel,isReadyInit:!0,maxLines:1}}}}}},y={$extend:e.ActivationClientViewHost,$type:l,viewRegistrations:{$extend:e.ActivationClientViewHostRegistrations,title:{$extend:r.ViewRegistration,layer:"content",order:e.subViewRegistrationOrder++,useOwnerModel:!0,viewModelFactoryId:"ResVersionInfo",template:{$extend:r.TextView,layoutProps:{margin:{top:7,bottom:14}},x:f,format:p.pageTitle,maxLines:1,width:v}},container:{$extend:r.ViewRegistration,layer:"content",order:e.subViewRegistrationOrder++,template:{$extend:r.CompositeView,forwardOwnershipForSubViews:!0,x:f,layout:{$type:u,primaryAxis:d.VERTICAL,spacing:20},layoutProps:{minHeight:t.singleton.getScreenHeight(-500),margin:{top:7}},subViewRegistrations:{$extend:r.ViewRegistrations,versionInfoView:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,viewModelFactoryId:"ExtendedVersionInfo",template:_}}}}}},w=function(t,i){return{$extend:e.ActivationClientViewHost,$type:l,viewRegistrations:{$extend:e.ActivationClientViewHostRegistrations,title:{$extend:r.ViewRegistration,layer:"content",order:e.subViewRegistrationOrder++,useOwnerModel:!0,viewModelFactoryId:t,template:{$extend:r.TextView,x:f,format:p.pageTitle,maxLines:1,width:v}},description:{$extend:r.ViewRegistration,layer:"content",order:e.subViewRegistrationOrder++,template:{$extend:r.CompositeView,forwardOwnershipForSubViews:!0,x:f,subViewRegistrations:{$extend:r.ViewRegistrations,realList:{$extend:r.ViewRegistration,useOwnerModel:!0,viewModelFactoryId:i,order:e.subViewRegistrationOrder++,template:{$extend:r.TextView,width:v,format:p.legalCopyFormat,maxLines:void 0}}}}}}}},b={$extend:e.ActivationClientViewHostRegistrations,exceptionContainer:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,layer:"content",template:{$extend:r.CompositeView,forwardOwnershipForSubViews:!0,x:f,layout:{$type:u,primaryAxis:d.VERTICAL,spacing:20},layoutProps:{margin:{top:15}},subViewRegistrations:{$extend:r.ViewRegistrations,exceptionTitle:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,useOwnerModel:!0,viewModelFactoryId:"ExceptionInfoTitle",template:{$extend:r.TextView,format:p.errorHeader,width:v,maxLines:void 0}},messageBlock:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,template:{$extend:r.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:u,primaryAxis:d.VERTICAL,spacing:0},subViewRegistrations:{$extend:r.ViewRegistrations,exceptionDescription:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,useOwnerModel:!0,viewModelFactoryId:"ExceptionInfoDescription",template:{$extend:r.TextView,width:v,format:p.errorMessage,maxLines:void 0}},developerMessage:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,useOwnerModel:!0,viewModelFactoryId:"ExceptionInfoInternalMessage",template:{$extend:r.TextView,layoutProps:{margin:{top:15}},width:1e3,format:p.errorMessage,maxLines:void 0}},callstack:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,useOwnerModel:!0,viewModelFactoryId:"ExceptionInfoCallstack",template:{$extend:r.TextView,width:1e3,format:p.errorMessage,maxLines:void 0}}}}},goToHomepage:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,viewModelFactoryId:"ResGoToTheHomepage",template:{$extend:r.MarkdownTextView,isReadyInit:!0,layoutProps:{margin:{top:10}},format:p.errorMessage,markdownMap:{a:{format:p.errorMessageLink,hoverFormat:p.errorMessageLinkHover,uri:"/"}}}},serviceTraceId:{$extend:r.ViewRegistration,order:e.subViewRegistrationOrder++,useOwnerModel:!0,viewModelFactoryId:"ExceptionInfoServiceTraceId",template:{$extend:r.TextView,layoutProps:{margin:{top:40}},width:v,format:p.errorServiceTraceId,maxLines:void 0}}}}}};m.ExceptionInfoViewHost={$extend:e.ActivationClientViewHost,$type:l,viewRegistrations:{$extend:b,footer:{$extend:h.helpFooterBlock,layer:"content",order:1e6,template:{$extend:h.helpFooterBlock.template,x:f}}}},m.GiveUpViewHost={$extend:e.ActivationClientViewHost,$type:l,viewRegistrations:b},m.VersionInfoViewHost=y,m.PrivacyPolicyViewHost=w("ResPrivacy","PrivacyDescription"),m.TermsOfServiceViewHost=w("ResTerms","TermsDescription")}})})})}(),function(){"use strict";define("design/views/RegistrationFormView",["core/oop","core/Debug","core/Exception","ui/Localization","ui/ViewStates","ui/ViewModelFactory","design/views/SettingsViewBase","design/NavigationRouter","design/InAppPurchaseResult","design/InAppPurchaseUtil","design/PopupManager","design/PurchaseType","design/ScreenUtil","design/ValidationUtils","design/CommerceFlow","design/CommerceWorkflow","design/views/NavigationBarViewManager","dataservices/types/LoginInfoFlag","dataservices/types/OttLoginType","dataservices/types/UserProfileType","dataservices/authentication/AuthenticationManager","dataservices/DataValidationException","dataservices/dependent/ProfileService","ui/input/InputManager","ui/viewModelProviders/ViewModelProvider","ui/logging/UserInteractionLogEntry","platform/dependent/Process","platform/dependent/NativeDialogType","design/analytics/UserInteractionTargets","platform/common/TextInputMode","lib/lodash/objects/clone"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A){return e.classDef("design.views.RegistrationFormView",a,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this._loadInputData(),this.hookUntilDisposed(C.singleton,"focusChanged",this._handleFocusChanged.bind(this))}),e.properties({_savedInputData:void 0,_emailText:{get:function(){return this._getInputText(!0===this._useProfileEmail?"profileEmailInput":"accountEmailInput").trim()},set:function(e){this._setInputText(!0===this._useProfileEmail?"profileEmailInput":"accountEmailInput",e)}},_passwordText:{get:function(){return this._getInputText("passwordInput")}},_userIdText:{get:function(){return this._getInputText("userIdInput").trim()},set:function(e){this._setInputText("userIdInput",e)}},_firstNameText:{get:function(){return this._getInputText("firstNameInput")},set:function(e){this._setInputText("firstNameInput",e)}},_lastNameText:{get:function(){return this._getInputText("lastNameInput")},set:function(e){this._setInputText("lastNameInput",e)}},_zipCodeText:{get:function(){var e;return this.commerceFlow===g.GIFTCARD&&(e=f.singleton.giftCardDetails.zipCode),e||this._getInputText("zipCodeInput").trim()},set:function(e){this.commerceFlow,g.GIFTCARD,this._setInputText("zipCodeInput",e)}},_showEditableCheckbox:{defaultValue:!1},_isShowHideEnabled:{defaultValue:!1},_showActiveSaveButton:{defaultValue:!1},_isActivelySaving:{defaultValue:!1},_disableIAPAction:{defaultValue:!1},_isLiteProfile:{get:function(){var e=w.singleton.getRegistrationInfo();return!0===(e&&e.getFlag(v.USER_PROFILE_TYPE)===y.LITE)}},_useProfileEmail:{get:function(){return p.singleton.byBrand({hbogo:!0,hbonow:!0===this._isLiteProfile})}},_useClientToken:{get:function(){return void 0===w.singleton.getRegistrationInfo()}},_serviceErrorText:void 0,_userIdErrorText:void 0,_emailErrorText:void 0,_zipCodeErrorText:void 0,_passwordErrorText:void 0,_firstNameErrorText:void 0,_lastNameErrorText:void 0,_combinedNameErrorText:void 0,_agreedToTos:{defaultValue:!1},_userDataPackage:void 0,_toggleViewModel:void 0,_showHideButton:void 0,_showHideToggleViewModel:void 0,initiatePurchaseAfterCreate:{defaultValue:!1},freeTrial:{defaultValue:!1},commerceFlow:void 0,displayMessage:void 0}),e.methods({_getInputText:function(e){var t=this.find(e);return t?t.text:""},_setInputText:function(e,t){var i=this.find(e);i&&(i.text=t)},_loadInputData:function(){this._savedInputData&&(this._savedInputData.email&&(this._emailText=this._savedInputData.email,this._checkEmail()),this.commerceFlow!==g.GIFTCARD&&this._savedInputData.zipCode&&(this._zipCodeText=this._savedInputData.zipCode,this._checkZipCode()),this._savedInputData.firstName&&(this._firstNameText=this._savedInputData.firstName,this._checkNames()),this._savedInputData.lastName&&(this._lastNameText=this._savedInputData.lastName,this._checkNames()),this._savedInputData.userId&&(this._userIdText=this._savedInputData.userId,this._checkUserId()))},_getLocalStateArgs:function(){var e=t._getLocalStateArgs.apply(this,arguments);return e.savedInputData={},e.savedInputData.email=this._emailText,this.commerceFlow!==g.GIFTCARD&&(e.savedInputData.zipCode=this._zipCodeText),e.savedInputData.firstName=this._firstNameText,e.savedInputData.lastName=this._lastNameText,e.savedInputData.userId=this._userIdText,e},_setLocalStateArgs:function(e){t._setLocalStateArgs.apply(this,arguments),e&&e.savedInputData&&(this._savedInputData=A(e.savedInputData,!0))},_disposeCore:function(){p.singleton.byDesignCall({mobile:function(){d.singleton.unblockInteractivity()}}),t._disposeCore.apply(this,arguments)},_handleFocusChanged:function(e,t){var i=this.find(!0===this._useProfileEmail?"profileEmailInput":"accountEmailInput");h.singleton.runValidationIfFocusLost(i,e,t,this._checkEmail.bind(this));var n=this.find("userIdInput");h.singleton.runValidationIfFocusLost(n,e,t,this._checkUserId.bind(this));var o=this.find("firstNameInput");h.singleton.runValidationIfFocusLost(o,e,t,this._checkNames.bind(this));var r=this.find("lastNameInput");h.singleton.runValidationIfFocusLost(r,e,t,this._checkNames.bind(this));var a=this.find("passwordInput");if(h.singleton.runValidationIfFocusLost(a,e,t,this._checkPassword.bind(this)),this.commerceFlow!==g.GIFTCARD){var s=this.find("zipCodeInput");h.singleton.runValidationIfFocusLost(s,e,t,this._checkZipCode.bind(this))}},_registerButtons:function(){var e=this,t=function(){var t=m.singleton.getActiveNavigationBar();m.singleton.registerButtons(e,t,{name:"Search",isActiveCallback:function(){return!1}},{name:"AffiliateLogo",isActiveCallback:function(){return!1}},{name:"Chromecast",isActiveCallback:function(){return!1}})};p.singleton.byDesignCall({desktop:t,mobile:t,activation:function(){}})},_isActiveFooter:function(){var e=this;return p.singleton.byDesign({ios:p.singleton.byBrand({hbonow:void 0===w.singleton.getRegistrationInfo(),default:!0}),activation:void 0!==e.displayMessage,default:!0!==e._isLiteProfile})},_isActiveServiceErrorText:function(){return void 0!==this._serviceErrorText},_isActiveUserIdError:function(){return void 0!==this._userIdErrorText&&""!==this._userIdErrorText},_isActiveAccountEmail:function(){return!0!==this._useProfileEmail},_isActiveAccountEmailLabel:function(){return!0!==this._useProfileEmail},_isActiveAccountEmailError:function(){return!0!==this._useProfileEmail&&void 0!==this._emailErrorText&&""!==this._emailErrorText},_isActiveProfileEmail:function(){return!0===this._useProfileEmail},_isActiveProfileEmailLabel:function(){return!0===this._useProfileEmail},_isActiveProfileEmailError:function(){return!0===this._useProfileEmail&&void 0!==this._emailErrorText&&""!==this._emailErrorText},_isActiveZipCodeError:function(){return void 0!==this._zipCodeErrorText&&""!==this._zipCodeErrorText},_isActivePassword:function(){return!0!==this._isLiteProfile},_isActivePasswordLabel:function(){return this._isActivePassword()},_isActivePasswordDescriptorLabel:function(){return this._isActivePassword()&&!this._isActivePasswordError()},_isActivePasswordDescriptorLabelError:function(){return this._isActivePassword()&&this._isActivePasswordError()},_isActivePasswordError:function(){return void 0!==this._passwordErrorText&&""!==this._passwordErrorText},_isActiveUserIdDescriptorLabel:function(){return!this._isActiveUserIdError()},_isActiveFirstNameError:function(){return void 0!==this._firstNameErrorText&&""!==this._firstNameErrorText},_isActiveLastNameError:function(){return void 0!==this._lastNameErrorText&&""!==this._lastNameErrorText},_isActiveCombinedNameError:function(){return void 0!==this._combinedNameErrorText&&""!==this._combinedNameErrorText},_isActiveOn:function(){return!0===this._showHideButton.isOn},_isActiveOff:function(){return!0!==this._showHideButton.isOn},_isActiveWelcomeSubText:function(){var e=this;return p.singleton.byBrand({hbogo:!0,hbonow:p.singleton.byDesign({activation:!0!==e._isLiteProfile,default:!1})})},_isActiveZipCodeLabel:function(){return this.commerceFlow!==g.GIFTCARD},_isActiveZipCodeInput:function(){return this.commerceFlow!==g.GIFTCARD},_isActiveStepIndicator:function(){return this.commerceFlow===g.PROMOTION||this.commerceFlow===g.PURCHASE},_getViewModelStepIndicator:function(){return r.singleton.create("ResCommerceStepOneOfTwo")},_getViewModelFooter:function(){return this._convertTextToViewModel(this.displayMessage)},_getViewModelAccountEmailLabel:function(){return r.singleton.create(this.commerceFlow===g.GIFTCARD?"ResEmailAddress":"ResRegistrationEmailTitle")},_getViewModelWelcomeHeader:function(){var e;return e=void 0!==this.commerceFlow?f.singleton.registrationDetails.title:!0===this._isLiteProfile?n.singleton.getResource("ResLiteRegistrationTitle"):n.singleton.getResource("ResRegistrationTitle"),this._convertTextToViewModel(e)},_getViewModelWelcomeSubText:function(){if(void 0!==this.commerceFlow){var e=f.singleton.registrationDetails.description;if(this.commerceFlow===g.GIFTCARD){var t={};t["{{balanceAmount}}"]=f.singleton.giftCardDetails.giftCardAmount,e=T.substituteImmediate(e,t)}return this._convertTextToViewModel(e)}return this._convertTextToViewModel(n.singleton.getResource(!0===this._isLiteProfile?"ResLiteRegistrationText":"ResRegistrationText"))},_getViewModelServiceErrorText:function(){return this._convertTextToViewModel(this._serviceErrorText)},_getViewModelUserIdError:function(){return this._convertTextToViewModel(this._userIdErrorText)},_getViewModelAccountEmailError:function(){return this._convertTextToViewModel(this._emailErrorText)},_getViewModelProfileEmailError:function(){return this._getViewModelAccountEmailError()},_getViewModelPasswordError:function(){return this._convertTextToViewModel(this._passwordErrorText)},_getViewModelShowHideButton:function(){return void 0===this._showHideToggleViewModel&&(this._showHideToggleViewModel=r.singleton.create("TemporaryShowHidePasswordSetting"),this._showHideToggleViewModel.set(!1)),this._showHideToggleViewModel},_getViewModelFirstNameError:function(){return this._convertTextToViewModel(this._firstNameErrorText)},_getViewModelLastNameError:function(){return this._convertTextToViewModel(this._lastNameErrorText)},_getViewModelCombinedNameError:function(){return this._convertTextToViewModel(this._combinedNameErrorText)},_getViewModelZipCodeError:function(){return this._convertTextToViewModel(this._zipCodeErrorText)},_getViewModelActiveSaveButton:function(){return!0===this._isLiteProfile?r.singleton.create("ResLiteRegistrationSaveButtonText"):this.commerceFlow===g.GIFTCARD?this._convertTextToViewModel(n.singleton.getResource("ResGiftCardRegisterRedeemButtonText").toUpperCase()):this.commerceFlow===g.PROMOTION?this._convertTextToViewModel(n.singleton.getResource("ResRegistrationSaveButtonText").toUpperCase()):r.singleton.create("ResRegistrationSaveButtonText")},_getViewModelInactiveSaveButton:function(){return this._getViewModelActiveSaveButton()},_getViewModelInactiveSavingButton:function(){return r.singleton.create("ResRegistrationSaving")},setServiceErrorText:function(e){this._serviceErrorText=e,this.find("formTitleBlock")._ensureSubViewsReady()},_attachInactiveSaveButton:function(e){e.setViewStateFlag(o.DISABLED,!0)},_attachInactiveSavingButton:function(e){e.setViewStateFlag(o.DISABLED,!0)},_attachActiveSaveButton:function(e){this.hookUntilDisposed(e,"invoked",this._onSaveButtonInvoked.bind(this))},_attachAccountEmailInput:function(e){this.hookUntilDisposed(e,"textChanged",this._checkSaveRequirements.bind(this))},_attachProfileEmailInput:function(e){this._attachAccountEmailInput(e)},_checkEmail:function(){var e=this._getValidationErrorsForType("email",this._emailText,!0);this._updateErrorMessageForType("email",e),this._showEditableCheckbox=""!==this._emailText,this.find("formBodyBlock")._ensureSubViewsReady()},_attachUserIdInput:function(e){this.hookUntilDisposed(e,"textChanged",this._checkSaveRequirements.bind(this))},_checkUserId:function(){var e=this._getValidationErrorsForType("userId",this._userIdText,!0);this._updateErrorMessageForType("userId",e),this.find("formTitleBlock")._ensureSubViewsReady()},_attachFirstNameInput:function(e){this.hookUntilDisposed(e,"textChanged",this._checkSaveRequirements.bind(this))},_attachLastNameInput:function(e){this.hookUntilDisposed(e,"textChanged",this._checkSaveRequirements.bind(this))},_checkNames:function(){var e=this._getValidationErrorsForType("name",this._firstNameText,!0),t=this._getValidationErrorsForType("name",this._lastNameText,!0);this._updateErrorMessageForType("firstName",e),this._updateErrorMessageForType("lastName",t),this._updateErrorMessageForType("combinedName",e||t)},_attachPasswordInput:function(e){this.hookUntilDisposed(e,"textChanged",this._onPasswordTextChanged.bind(this))},_onPasswordTextChanged:function(){this._updateShowHidePasswordButton(),this._checkSaveRequirements()},_updateShowHidePasswordButton:function(){var e=this;p.singleton.byBrandCall({hbonow:function(){e._showHideButton.isEnabled=""!==e._passwordText,e._showHideButton.isPointerHittable=""!==e._passwordText}})},_checkPassword:function(){var e=this._getValidationErrorsForType("password",this._passwordText,!0);this._updateErrorMessageForType("password",e)},_attachShowHideButton:function(e){this.hookUntilDisposed(e,"toggled",this._showHideButtonInvoked.bind(this)),this._showHideButton=e,this._showHideButton.isEnabled=!1,this._showHideButton.isPointerHittable=!1},_attachZipCodeInput:function(e){this.hookUntilDisposed(e,"textChanged",this._checkSaveRequirements.bind(this))},_checkZipCode:function(){var e=this._getValidationErrorsForType("zipCode",this._zipCodeText,!0);this._updateErrorMessageForType("zipCode",e)},_attachTosAgreeCheckbox:function(e){this.hookUntilDisposed(e,"toggled",this._toggleTosCheckbox.bind(this))},_toggleTosCheckbox:function(e){this._agreedToTos=!0===e,this._checkZipCode(),this._checkSaveRequirements()},_checkSaveRequirements:function(){var e={};this._clearErrorsForValidFormFields(),this._showEditableCheckbox=""!==this._emailText;var t=!0===this._agreedToTos;!0===t&&(e.emailAddress=this._emailText,t=void 0===this._getValidationErrorsForType("email",e.emailAddress)),!0===t&&(e.zipCode=this._zipCodeText,t=void 0===this._getValidationErrorsForType("zipCode",e.zipCode));var i=this.find("userIdInput");!0===t&&void 0!==i&&(e.userName=i.text.trim(),t=void 0===this._getValidationErrorsForType("userId",e.userName));var n=this.find("editableCheckbox");!0===t&&!0!==e.useClientToken&&void 0!==n&&this._showEditableCheckbox&&(e.marketingOptIn=n.isOn),!0===t&&void 0!==this.find("firstNameInput")&&(e.firstName=this._firstNameText,t=void 0===this._getValidationErrorsForType("name",e.firstName)),!0===t&&void 0!==this.find("lastNameInput")&&(e.lastName=this._lastNameText,t=void 0===this._getValidationErrorsForType("name",e.lastName)),!0===t&&(!0===this._isLiteProfile?e.isLiteProfile=this._isLiteProfile:void 0!==this.find("passwordInput")&&(e.password=this._passwordText,t=void 0===this._getValidationErrorsForType("password",e.password))),void 0!==e.firstName&&void 0!==e.lastName&&(e.useClientToken=this._useClientToken),this._showActiveSaveButton=t,this._userDataPackage=!0===t?e:void 0,this.find("formButtonsBlock")._ensureSubViewsReady()},_clearErrorsForValidFormFields:function(){void 0===this._getValidationErrorsForType("email",this._emailText)&&this._updateErrorMessageForType("email",void 0),void 0===this._getValidationErrorsForType("zipCode",this._zipCodeText)&&this._updateErrorMessageForType("zipCode",void 0),void 0!==this.find("userIdInput")&&void 0===this._getValidationErrorsForType("userId",this._userIdText)&&this._updateErrorMessageForType("userId",void 0);var e=void 0;void 0!==this.find("firstNameInput")&&(e=void 0===this._getValidationErrorsForType("name",this._firstNameText,!0))&&this._updateErrorMessageForType("firstName",void 0);var t=void 0;void 0!==this.find("lastNameInput")&&(t=void 0===this._getValidationErrorsForType("name",this._lastNameText,!0))&&this._updateErrorMessageForType("lastName",void 0),!0===e&&!0===t&&this._updateErrorMessageForType("combinedName",void 0),void 0!==this.find("passwordInput")&&void 0===this._getValidationErrorsForType("password",this._passwordText)&&this._updateErrorMessageForType("password",void 0)},_isActiveEditableCheckbox:function(){return!0===this._showEditableCheckbox},_isActiveDisabledCheckbox:function(){return!0!==this._showEditableCheckbox},_isActiveInactiveSaveButton:function(){return!0!==this._showActiveSaveButton||!0!==this._agreedToTos},_isActiveActiveSaveButton:function(){return!0===this._showActiveSaveButton&&!0===this._agreedToTos&&!0!==this._isActivelySaving},_isActiveInactiveSavingButton:function(){return!0===this._showActiveSaveButton&&!0===this._agreedToTos&&!0===this._isActivelySaving},_getValidationErrorsForType:function(e,t,i){if(""!==t||!0!==i)switch(e){case"name":return h.singleton.validateName(t);case"email":return h.singleton.validateEmail(t);case"userId":return h.singleton.validateUserId(t);case"zipCode":return h.singleton.validateZipCode(t);case"password":return h.singleton.validatePassword(t)}},_updateErrorMessageForType:function(e,t){switch(e){case"combinedName":this._combinedNameErrorText=void 0===t?void 0:n.singleton.getResource(t);break;case"firstName":this._firstNameErrorText=void 0===t?void 0:n.singleton.getResource(t);break;case"lastName":this._lastNameErrorText=void 0===t?void 0:n.singleton.getResource(t);break;case"email":this._emailErrorText=void 0===t?void 0:n.singleton.getResource(t);break;case"userId":this._userIdErrorText=void 0===t?void 0:n.singleton.getResource(t);break;case"zipCode":this._zipCodeErrorText=void 0===t?void 0:n.singleton.getResource(t);break;case"password":this._passwordErrorText=void 0===t?void 0:n.singleton.getResource(t)}this.find("formBodyBlock")._ensureSubViewsReady()},_createUser:function(e){var t=this;this._setSaveState(!0);var i=!0===this.initiatePurchaseAfterCreate&&!0===e.useClientToken;t.runUntilDisposed("_createUser",function(){return S.singleton.createUser(e).then(function(){if(w.singleton.resetAuthenticationState(),void 0!==e.password){var t=!0===e.useClientToken?_.LOGIN:_.LINK;return s.singleton.handleNewUserDirectLogin(e.emailAddress,e.password,t)}return s.singleton.handleNewUserAffiliateLogin()}).then(function(){R.new({area:"design.views.RegistrationFormView._createUser",target:I.PROFILE_REGISTERED}).log(),!0===e.marketingOptIn&&R.new({area:"design.views.RegistrationFormView._createUser",target:I.PROFILE_NEWSLETTER}).log(),!0===i?t._handleInAppPurchaseAction():t._returnToSender()}).catch(function(e){t._setSaveState(!1),t._handleCreateUserFailure(e)})})},_handleCreateUserFailure:function(e){void 0!==this.commerceFlow&&f.singleton.processAuthenticationError(e.displayMessage||"Service Error"),e instanceof b?this.setServiceErrorText(e.displayMessage):this._rejectReadyPromise(i.wrap(e,{message:"_createUser rejected",area:"design.views.RegistrationFormView._onSaveButtonInvoked"}))},_handleInAppPurchaseAction:function(){if(!0!==this._disableIAPAction){this._disableIAPAction=!0;var e=this;this.runUntilDisposed("design.views.RegistrationFormView._handleInAppPurchaseAction",function(){return c.singleton.restorePurchase(!0).then(function(t){switch(t.result){case l.RESTORE_SUCCESS:e._returnToSender();break;case l.RESTORE_NOT_FOUND:return e._performPurchase();default:return e._showError(t.error.userTitle,t.error.userMessage)}})})}},_performPurchase:function(){var e=this,t={sku:c.singleton.pendingPurchaseSku,purchaseType:u.NEWSUBSCRIPTION};return c.singleton.purchaseSku(t).then(function(t){switch(t.result){case l.PURCHASE_FAIL:case l.PURCHASE_SUCCESS:e._returnToSender();break;default:return e._showError(t.error.userTitle,t.error.userMessage)}})},_showError:function(e,t){var i=this;return i._setSaveState(!1),r.singleton.create("Store").displayName.then(function(o){return P.singleton.openNativeDialog(E.ALERT,n.singleton.getResource(e),n.singleton.getResource(t,{store:o}),n.singleton.getResource("ResOk"),n.singleton.getResource("ResCancel")).then(function(){i._returnToSender()})})},_returnToSender:function(){if(void 0!==this.commerceFlow)s.singleton.navigateToUri("/processauthentication",{replace:!0});else{var e=s.singleton.getLoginReturnPath();s.singleton.navigateToUri(e)}},_setSaveState:function(e){this._isActivelySaving=e,p.singleton.byDesignCall({mobile:function(){e?d.singleton.blockInteractivity("InteractivityBlockingViewSaving"):d.singleton.unblockInteractivity()}}),this._ensureSubViewsReady()},_onSaveButtonInvoked:function(e){e.handled=!0,this._checkSaveRequirements(),void 0!==this._userDataPackage&&(void 0!==this.commerceFlow&&f.singleton.startAuthentication(),this.focus(),this._createUser(this._userDataPackage))},_showHideButtonInvoked:function(e){this.find("passwordInput").mode=!0===e?x.DEFAULT:x.PASSWORD}})})})}(),function(){"use strict";define("design/templates/RegistrationViewTemplates",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","design/Screen","design/ScreenUtil","design/templates/TemplatesModule","design/templates/ViewTemplates","design/templates/TextFormatTemplates","design/templates/FormTemplates","design/templates/ButtonTemplates","design/templates/ColorTemplates","design/templates/LayoutTemplates","design/views/RegistrationFormView","platform/common/KeyboardReturnKeyType","platform/common/KeyboardType","platform/common/TextInputMode","ui/StackedLayout","ui/AnchoredLayout","ui/Axis","lib/lodash/objects/merge"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y){return e.classDef("design.templates.RegistrationViewTemplates",r,function(r){e.singleton(function(){r.$ctor.apply(this,arguments)}),e.methods({_configure:function(){function e(e,t,i){return R.checkboxViewGenerator(y({boxSize:L.checkBoxSize,bodyInvokable:!1,layoutProps:{margin:L.checkBoxMargin},borderRadius:2,clipToBounds:!0,additionalSubViewRegistrations:{description:{$extend:R.ViewRegistration,order:t,viewModelFactoryId:e,template:{$extend:E.smallCheckboxNotificationTextView,format:P.mediumCheckboxFormat,x:35,y:4}}}},i))}function r(e,t,i,n){return y({$extend:R.ViewRegistration,order:e,template:y({$extend:E.formTextInputView,borderThickness:0,layoutProps:{margin:t}},n)},i)}function w(e,t){return{$extend:R.ViewRegistration,order:e,template:{$extend:R.CompositeView,forwardOwnershipForSubViews:!0,backgroundColor:x.crimson,width:M.calculatedElementWidth,layout:{$type:m,primaryAxis:_.HORIZONTAL},layoutProps:{margin:{top:4}},subViewRegistrations:y({$extend:R.ViewRegistrations},t)}}}function b(e){return{$extend:R.ViewRegistration,order:e,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:E.activationClientFieldErrorMessage,layoutProps:{margin:{left:15,right:15}},verticalAlignment:i.CENTER}}}function S(e,t,i,n){return{$extend:R.ViewRegistration,order:e,useOwnerViewModel:!0,template:{$extend:R.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:m,primaryAxis:_.VERTICAL,spacing:i},layoutProps:{margin:t},subViewRegistrations:y({$extend:R.ViewRegistrations},n)}}}function C(t,i){return{$extend:R.ViewRegistration,order:M.subViewRegistrationOrder++,viewModelFactoryId:"NotificationCheckboxSetting",isActiveFromOwner:!0,template:{$extend:e("ResNotificationsCheckboxText",M.subViewRegistrationOrder++,i),isInvokable:t,isPointerTarget:t}}}function T(e,t){return{$extend:R.ViewRegistration,order:e,attachFromOwner:!0,
isActiveFromOwner:!0,getViewModelFromOwner:!0,template:c.singleton.generateTextButton({baseTemplate:t?I.activeFormButton:I.inactiveFormButton,buttonPartialTemplate:{width:L.saveButtonWidth},labelPartialTemplate:{width:L.saveButtonWidth},backgroundMapping:{initial:t?x.mediumBlue:x.mineShaftGray,disabled:x.mineShaftGray},formatMapping:{initial:P.activationClientFormActiveButtonFormat,hovered:P.activationClientFormActiveButtonFormat,disabled:P.activationClientFormInactiveButtonFormat}})}}var R=a.singleton.exports,P=s.singleton.exports,E=l.singleton.exports,I=c.singleton.exports,x=d.singleton.exports,A=u.singleton.exports,k=o.singleton,V=n.singleton.getScreenWidth.bind(n.singleton),M=this.unregistered,D=function(e){return e.reduce(function(e,t){return e[t]=M.subViewRegistrationOrder++,e},{})}(["stepIndicator","welcomeHeader","welcomeSubText","signInPromoHeader","serviceErrorText","userIdLabel","userId","userIdInput","userIdErrorComposite","userIdError","userIdDescriptorLabel","accountEmailLabel","accountEmail","accountEmailInput","accountEmailErrorComposite","accountEmailError","passwordLabel","password","passwordInputComposite","passwordShowHide","passwordHide","passwordShow","passwordInput","passwordErrorComposite","passwordError","passwordDescriptorLabel","firstNameLabel","firstName","firstNameInput","firstNameErrorComposite","firstNameError","lastNameLabel","lastName","lastNameInput","lastNameErrorComposite","lastNameError","profileEmailLabel","profileEmail","profileEmailInput","profileEmailErrorComposite","profileEmailError","zipCodeLabel","zipCode","zipCodeInput","zipCodeErrorComposite","zipCodeError","tosCheckbox","tosDescription","tosPreamble","tosTerms","tosConjunction","tosPrivacy","tosSuffix","notificationsText","saveDisabled","savingDisabled","saveEnabled","footer"]),O=function(e){return Math.min(293,V(-28)(e))};M.calculatedElementWidth=O;M.calculatedPasswordInputWidth=function(e){return O(e)-55};var N=function(e){return D[e]},F=function(e){return y({width:M.calculatedElementWidth,backgroundColor:x.whiteSmoke,borderRadius:2,clipToBounds:!0,height:34,keyboardReturnKeyType:h.NEXT},e)},L=k.byBrand({hbonow:{checkBoxSize:24,checkBoxMargin:{top:24,bottom:-10},saveButtonWidth:M.calculatedElementWidth,accountEmailInputMargin:{top:6,bottom:22},accountEmailInputConfig:F({keyboardType:g.EMAIL}),profileEmailInputMargin:{top:6,bottom:22},profileEmailInputConfig:F({keyboardType:g.EMAIL}),zipCodeInputMargin:{top:6},zipCodeInputLabel:"ResRegistrationZipCodeTitle",zipCodeInputConfig:F({keyboardType:g.NUMBER_PAD,keyboardReturnKeyType:h.DONE}),inputSpacing:0,notificationsTextMargin:{top:12},checkboxArgs:{layoutProps:{margin:{top:16}}},extraSpacing:-2,showHideButtonWidth:55,showHideButtonHeight:44,firstNameInputLabel:"ResProfileFirstNameTitle",firstNameInputMargin:{top:6,bottom:22},firstNameInputConfig:F(),lastNameInputLabel:"ResProfileLastNameTitle",lastNameInputMargin:{top:6,bottom:22},lastNameInputConfig:F(),passwordInputMargin:{top:6,bottom:22},passwordInputLabel:"ResEnterPassword",passwordInputConfig:F({mode:f.PASSWORD}),passwordDescriptorMargin:{top:-15,bottom:30}},hbogo:{checkBoxSize:24,checkBoxMargin:{top:22,bottom:16},saveButtonWidth:M.calculatedElementWidth,userIdInputMargin:{top:6,bottom:5},userIdInputLabel:"ResRegistrationIdTitle",userIdInputConfig:F(),userIdDescriptorMargin:{bottom:20},profileEmailInputMargin:{top:6,bottom:20},profileEmailInputConfig:F({keyboardType:g.EMAIL}),zipCodeInputMargin:{top:6},zipCodeInputLabel:"ResRegistrationZipCodeTitle",zipCodeInputConfig:F({keyboardType:g.NUMBER_PAD,keyboardReturnKeyType:h.DONE}),inputSpacing:0,notificationsTextMargin:{top:27},checkboxArgs:{layoutProps:{margin:{top:25,bottom:0}}},extraSpacing:0}}),B=function(e){return{$extend:R.ViewRegistration,order:N(e+"EmailLabel"),isActiveFromOwner:!0,getViewModelFromOwner:"account"===e,viewModelFactoryId:"account"===e?void 0:"ResRegistrationEmailTitle",template:{$extend:E.formFieldLabel,width:M.calculatedElementWidth,maxLines:1,format:{$extend:P.formValueFormat,color:x.whiteSmoke,size:12},layoutProps:{margin:{left:1}}}}},H=function(e){var t={};t[e+"EmailInput"]=r(N(e+"EmailInput"),{},{attachFromOwner:!0},L[e+"EmailInputConfig"]);var i={};i[e+"EmailError"]=b(N(e+"EmailError")),t[e+"EmailErrorComposite"]=w(N(e+"EmailErrorComposite"),i);var n=S(N(e+"Email"),L[e+"EmailInputMargin"],L.inputSpacing,t);return n.isActiveFromOwner=!0,n},U={};U.profileEmailLabel=B("profile"),U.profileEmail=H("profile"),U.zipCodeLabel={$extend:R.ViewRegistration,order:N("zipCodeLabel"),viewModelFactoryId:L.zipCodeInputLabel,isActiveFromOwner:!0,template:{$extend:E.formFieldLabel,width:M.calculatedElementWidth,maxLines:1,format:{$extend:P.formValueFormat,color:x.whiteSmoke,size:12},layoutProps:{margin:{left:1}}}},U.zipCode=S(N("zipCode"),L.zipCodeInputMargin,L.inputSpacing,{zipCodeInput:r(N("zipCodeInput"),{},{attachFromOwner:!0,isActiveFromOwner:!0},L.zipCodeInputConfig),zipCodeErrorComposite:w(N("zipCodeErrorComposite"),{zipCodeError:b(N("zipCodeError"))})}),k.byBrandCall({hbonow:function(){U.accountEmailLabel=B("account"),U.accountEmail=H("account"),U.tosAgreeCheckbox={$extend:R.ViewRegistration,layer:"content",order:N("tosCheckbox"),viewModelFactoryId:"TosAgreeCheckboxSetting",attachFromOwner:!0,template:R.checkboxViewGenerator({boxSize:L.checkBoxSize,bodyInvokable:!1,layoutProps:{margin:L.checkBoxMargin},borderRadius:2,clipToBounds:!0,additionalSubViewRegistrations:{descriptionArea:{$extend:R.ViewRegistration,order:N("tosDescription"),viewModelFactoryId:"ResTosAndPrivacyAgreeText",template:{$extend:R.MarkdownTextView,x:35,y:4,format:P.mediumCheckboxFormat,markdownMap:{t:{format:P.mediumCheckboxLink,hoverFormat:P.mediumCheckboxLink,uri:"/terms"},p:{format:P.mediumCheckboxLink,hoverFormat:P.mediumCheckboxLink,uri:"/privacy"}}}}}})};var e=function(e){return{$extend:R.ViewRegistration,order:e.order,isActiveFromOwner:!0,viewModelFactoryId:e.viewModelFactoryId,template:{$extend:c.singleton.generateTextButton({baseTemplate:I.showHideButton,buttonPartialTemplate:{width:55,backgroundColor:x.mineShaftGray},labelPartialTemplate:{width:55}}),inheritedViewStateNames:["hovered","pressed","disabled"]}}};U.passwordLabel={$extend:R.ViewRegistration,order:N("passwordLabel"),isActiveFromOwner:!0,viewModelFactoryId:L.passwordInputLabel,template:{$extend:E.formFieldLabel,width:M.calculatedElementWidth,maxLines:1,format:{$extend:P.formValueFormat,color:x.whiteSmoke,size:12},layoutProps:{margin:{left:1}}}},U.password={$extend:R.ViewRegistration,order:N("password"),isActiveFromOwner:!0,useOwnerViewModel:!0,template:{$extend:R.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:m,primaryAxis:_.VERTICAL},layoutProps:{margin:L.passwordInputMargin},subViewRegistrations:{$extend:R.ViewRegistrations,passwordInputComposite:{$extend:R.ViewRegistration,order:N("passwordInputComposite"),useOwnerViewModel:!0,template:{$extend:R.CompositeView,width:M.calculatedElementWidth,forwardOwnershipForSubViews:!0,backgroundColor:x.whiteSmoke,borderRadius:2,clipToBounds:!0,layout:{$type:v},subViewRegistrations:{$extend:R.ViewRegistrations,showHideButton:{$extend:R.ViewRegistration,$order:N("passwordShowHide"),attachFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:R.ToggleView,layoutProps:A.layouts.anchorRight,isInvokable:!0,isPointerTarget:!0,subViewRegistrations:{$extend:R.ViewRegistrations,off:e({viewModelFactoryId:"ResShow",order:N("passwordShowHide"),color:x.mediumBlue}),on:e({viewModelFactoryId:"ResHide",order:N("passwordShowHide"),color:x.dustyGray})}}},passwordInput:{$extend:R.ViewRegistration,$order:N("passwordInput"),attachFromOwner:!0,template:{$extend:E.formTextInputView,layoutProps:A.layouts.anchorLeft,mode:f.PASSWORD,keyboardReturnKeyType:h.NEXT,height:34,borderRadius:2,clipToBounds:!0,width:M.calculatedPasswordInputWidth,borderColor:x.whiteSmoke,backgroundColor:x.whiteSmoke,format:E.formTextInputView.format,placeholderFormat:{$extend:P.optionalHintFormat,color:x.dustyGray}}}}}},passwordErrorComposite:w(N("passwordErrorComposite"),{passwordError:b(N("passwordError"))})}}},U.passwordDescriptorLabel={$extend:R.ViewRegistration,order:N("passwordDescriptorLabel"),isActiveFromOwner:!0,viewModelFactoryId:"ResProfilePasswordDescriptor",template:{$extend:E.optionalHintText,width:M.calculatedElementWidth,maxLines:void 0,layoutProps:{margin:L.passwordDescriptorMargin},format:{$extend:P.registrationFormValueFormat,color:x.whiteSmoke,size:12}}},U.firstNameLabel={$extend:R.ViewRegistration,order:N("firstNameLabel"),viewModelFactoryId:L.firstNameInputLabel,template:{$extend:E.formFieldLabel,width:M.calculatedElementWidth,maxLines:1,format:{$extend:P.formValueFormat,color:x.whiteSmoke,size:12},layoutProps:{margin:{left:1}}}},U.firstName=S(N("firstName"),L.firstNameInputMargin,L.inputSpacing,{firstNameInput:r(N("firstNameInput"),{},{attachFromOwner:!0},L.firstNameInputConfig),firstNameErrorComposite:w(N("firstNameErrorComposite"),{firstNameError:b(N("firstNameError"))})}),U.lastNameLabel={$extend:R.ViewRegistration,order:N("lastNameLabel"),viewModelFactoryId:L.lastNameInputLabel,template:{$extend:E.formFieldLabel,width:M.calculatedElementWidth,maxLines:1,format:{$extend:P.formValueFormat,color:x.whiteSmoke,size:12},layoutProps:{margin:{left:1}}}},U.lastName=S(N("lastName"),L.lastNameInputMargin,L.inputSpacing,{lastNameInput:r(N("lastNameInput"),{},{attachFromOwner:!0},L.lastNameInputConfig),lastNameErrorComposite:w(N("lastNameErrorComposite"),{lastNameError:b(N("lastNameError"))})})},hbogo:function(){U.tosAgreeCheckbox={$extend:R.ViewRegistration,layer:"content",order:N("tosCheckbox"),viewModelFactoryId:"TosAgreeCheckboxSetting",attachFromOwner:!0,template:R.checkboxViewGenerator({boxSize:L.checkBoxSize,bodyInvokable:!1,layoutProps:{margin:L.checkBoxMargin},borderRadius:2,clipToBounds:!0,additionalSubViewRegistrations:{descriptionArea:{$extend:R.ViewRegistration,order:N("tosDescription"),viewModelFactoryId:"ResTosAndPrivacyAgreeText",template:{$extend:R.MarkdownTextView,x:35,y:4,format:P.mediumCheckboxFormat,markdownMap:{t:{format:P.mediumCheckboxLink,hoverFormat:P.mediumCheckboxLink,uri:"/terms"},p:{format:P.mediumCheckboxLink,hoverFormat:P.mediumCheckboxLink,uri:"/privacy"}}}}}})},U.userIdLabel={$extend:R.ViewRegistration,order:N("userIdLabel"),viewModelFactoryId:L.userIdInputLabel,template:{$extend:E.formFieldLabel,width:M.calculatedElementWidth,maxLines:1,format:{$extend:P.formValueFormat,color:x.whiteSmoke,size:12},layoutProps:{margin:{left:1}}}},U.userId={$extend:R.ViewRegistration,order:N("userId"),template:{$extend:R.CompositeView,forwardOwnershipForSubViews:!0,layout:{$type:m,primaryAxis:_.VERTICAL},layoutProps:{margin:L.userIdInputMargin},subViewRegistrations:{$extend:R.ViewRegistrations,userIdInputComposite:{$extend:R.ViewRegistration,order:N("userIdInputComposite"),useOwnerViewModel:!0,template:{$extend:R.CompositeView,width:M.calculatedElementWidth,forwardOwnershipForSubViews:!0,backgroundColor:x.whiteSmoke,borderRadius:2,clipToBounds:!0,layout:{$type:v},subViewRegistrations:{$extend:R.ViewRegistrations,userIdInput:{$extend:R.ViewRegistration,$order:N("userIdInput"),attachFromOwner:!0,template:{$extend:E.formTextInputView,layoutProps:A.layouts.anchorLeft,keyboardReturnKeyType:h.NEXT,height:34,borderRadius:2,clipToBounds:!0,width:M.calculatedElementWidth,borderColor:x.whiteSmoke,backgroundColor:x.whiteSmoke,format:E.formTextInputView.format,placeholderFormat:{$extend:P.optionalHintFormat,color:x.dustyGray}}}}}},userIdErrorComposite:w(N("userIdErrorComposite"),{userIdError:b(N("userIdError"))})}}},U.userIdDescriptorLabel={$extend:R.ViewRegistration,order:N("userIdDescriptorLabel"),isActiveFromOwner:!0,viewModelFactoryId:"ResProfileUserIdDescriptor",template:{$extend:E.optionalHintText,width:M.calculatedElementWidth,maxLines:void 0,layoutProps:{margin:L.userIdDescriptorMargin},format:{$extend:P.registrationFormValueFormat,color:x.whiteSmoke,size:10}}},U.notificationsText={$extend:R.ViewRegistration,order:N("notificationsText"),viewModelFactoryId:"ResNotificationsText",template:{$extend:E.formInstructionsOptionalDetails,maxLines:3,width:347,layoutProps:{margin:L.notificationsTextMargin}}},U.editableCheckbox=C(!0,L.checkboxArgs),U.disabledCheckbox=C(!1,L.checkboxArgs)}});var $={$extend:R.ViewRegistration,order:N("welcomeHeader"),getViewModelFromOwner:!0,template:{$extend:E.formTitleView,maxLines:1,width:M.calculatedElementWidth,format:P.registrationFormInstructionsSubHeaderLargeFormat,layoutProps:{margin:{top:52,bottom:-10,left:-2}}}},W={$extend:R.ViewRegistration,order:N("welcomeSubText"),isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:R.MarkdownTextView,markdownMap:{},markdownUriFormat:P.formInstructionsDetailsLinkFormat,markdownUriNavigateToUriReplace:!0,horizontalAlignment:t.LEFT,width:M.calculatedElementWidth,maxLines:void 0,format:k.byBrand({hbogo:P.formInstructionsDetailsFormat,hbonow:{$extend:P.formInstructionsDetailsFormat,color:x.whiteSmoke,size:12,lineHeight:16}})}},j={$extend:R.ViewRegistration,order:N("stepIndicator"),isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:R.TextView,horizontalAlignment:t.LEFT,width:M.calculatedElementWidth,maxLines:void 0,format:P.formSteppingFormat,layoutProps:{margin:{top:40,bottom:-70}}}},G={subViews:{stepIndicator:j,welcomeHeader:$,welcomeSubText:W,serviceErrorText:function(e,t){return{$extend:R.ViewRegistration,order:e,isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:E.formErrorMessage,layoutProps:{margin:t}}}}(N("serviceErrorText"))},verticalSpacing:16},z={subViews:U,additionalTemplateParams:{layout:{$type:m,primaryAxis:_.VERTICAL,spacing:L.extraSpacing}}},K={subViews:{inactiveSaveButton:T(N("saveDisabled"),!1),inactiveSavingButton:T(N("savingDisabled"),!1),activeSaveButton:T(N("saveEnabled"),!0)}},Y={$extend:R.ViewRegistration,order:N("footer"),isActiveFromOwner:!0,getViewModelFromOwner:!0,template:{$extend:R.TextView,horizontalAlignment:t.LEFT,width:M.calculatedElementWidth,maxLines:void 0,format:{$extend:P.formInstructionsDetailsFormat,color:x.whiteSmoke,size:10,lineHeight:14},layoutProps:{margin:{top:-20,bottom:20}}}};M.registrationFormView=l.singleton.generateFormView({viewType:p,titleParams:G,bodyBlockParams:z,buttonParams:K,footer:Y})}})})})}(),function(){"use strict";define("design/viewHosts/RegisterViewHost",["core/oop","design/viewHosts/ActivationClientViewHost"],function(e,t){return e.classDef("design.viewHosts.RegisterViewHost",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({freeTrial:{defaultValue:!1},commerceFlow:void 0,displayMessage:void 0}),e.methods({_attachForm:function(e){e.freeTrial=this.freeTrial,e.commerceFlow=this.commerceFlow,e.displayMessage=this.displayMessage}})})})}(),function(){"use strict";define("design/templates/RegisterViewHostTemplates",["core/oop","design/ScreenUtil","design/templates/FormTemplates","design/templates/TemplatesModule","design/templates/ActivationClientViewHostTemplates","design/views/react/ActivationClient/ActivationClientHeaderComponent","design/templates/RegistrationViewTemplates","design/templates/ViewTemplates","design/viewHosts/RegisterViewHost","ui/Axis","ui/StackedLayout"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("design.templates.RegisterViewHostTemplates",n,function(n){e.singleton(function(){n.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.RegisterViewHost=this},_setLazyTemplateDefs:function(){var e=s.singleton.exports,n=o.singleton.exports,u=a.singleton.exports,p=i.singleton.exports,h=t.singleton.byScreenWidth.bind(t.singleton);this.registered.RegisterViewHost={$extend:n.ActivationClientViewHost,$type:l,viewRegistrations:{$extend:n.ActivationClientViewHostRegistrations,container:{$extend:e.ViewRegistration,order:n.subViewRegistrationOrder++,layer:"content",template:{$extend:e.CompositeView,forwardOwnershipForSubViews:!0,x:h({small:14,default:50}),width:p.formLayoutWidth,layout:{$type:d,primaryAxis:c.VERTICAL},subViewRegistrations:{$extend:e.ViewRegistrations,header:{$extend:e.ViewRegistration,order:n.subViewRegistrationOrder++,layer:"content",template:{$extend:e.ReactHostView,reactComponentType:r}},form:{$extend:e.ViewRegistration,layer:"content",order:n.subViewRegistrationOrder++,attachFromOwner:!0,template:{$extend:u.registrationFormView,initiatePurchaseAfterCreate:!1,width:p.formLayoutWidth}}}}}}}}})})})}(),function(){"use strict";define("design/viewHosts/SimpleFormViewHost",["core/oop","design/viewHosts/ActivationClientViewHost"],function(e,t){return e.classDef("design.viewHosts.SimpleFormViewHost",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({requestToken:{defaultValue:void 0}}),e.methods({_getStartupReadyPromise:function(e){return t._getStartupReadyPromise.call(this,e)}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ForgotPassword/ForgotPasswordContainer",["core/AsyncManager","design/views/react/atomic/forms/FormTextInputComponent","design/ScreenUtil","platform/dependent/NativeDialogType","platform/dependent/Process","dataservices/dependent/ProfileService","design/NavigationRouter","ui/Localization","design/views/react/Form/FormHelpers","design/views/react/atomic/forms/SimpleFormComponent","lib/react"],function(o,r,a,s,l,c,d,u,p,h,g){return function(f){function m(i){e(this,m);var n=t(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,i));return n.displayName="ForgotPasswordContainer",n.isDesktopDesign=a.singleton.byDesign({desktop:!0,default:!1}),n.formHeaderText=u.singleton.getResource("ResForgotPasswordTitle"),n.formDescriptionText=u.singleton.getResource("ResForgotPasswordInstructions"),n.formButtonText=u.singleton.getResource("ResForgotPasswordSubmitButton"),n.confirmHeaderText=u.singleton.getResource("ResForgotPasswordEmailSent"),n.confirmButtonText=u.singleton.getResource("ResOk"),n.state={enableFormButton:!1,showConfirmation:!1,errorText:void 0,errorTextRes:void 0,value:""},n.doValidate=function(){},n._asyncManager=o.new(),n}return i(m,f),n(m,[{key:"render",value:function(){var e=g.createElement(h,{headerText:this.confirmHeaderText,markdownText:this.confirmMarkdownText,buttonText:this.confirmButtonText,onSubmitFn:this._onConfirm.bind(this),enableFormButton:!0}),t=g.createElement(h,{headerText:this.formHeaderText,descriptionText:this.formDescriptionText,buttonText:this.formButtonText,onSubmitFn:this._onSubmit.bind(this),enableFormButton:this.state.enableFormButton,errorText:this.state.errorText,errorTextRes:this.state.errorTextRes},g.createElement(r.Email,{name:"email",value:this.state.value,labelRes:"ResRegistrationEmailTitle",onChanged:this._onEmailTextChanged.bind(this),showErrorText:this.isDesktopDesign,validatorCallback:this._validatorCallback.bind(this)}));return!0!==this.state.showConfirmation?t:e}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onEmailTextChanged",value:function(e){var t=e.trim();this.setState({value:t,errorText:void 0,errorTextRes:void 0,enableFormButton:""!==t})}},{key:"_validatorCallback",value:function(e){this.doValidate=e}},{key:"_onSubmit",value:function(){var e=this.doValidate();void 0!==e&&!0!==this.isDesktopDesign?this.setState({errorTextRes:e}):void 0===e&&this._resetPassword(this.state.value)}},{key:"_onConfirm",value:function(){var e=d.singleton.getLoginReturnPath();d.singleton.navigateToUri(e)}},{key:"_resetPassword",value:function(e){var t=this;this.setState({enableFormButton:!1}),this._asyncManager.runUntilDisposed("resetPassword",function(){return c.singleton.resetPasswordRequest(e).then(function(){return t._showConfirmation(e)}).catch(function(e){t.setState({enableFormButton:!0}),p.handleServiceError(t,e)})})}},{key:"_showConfirmation",value:function(e){var t=this;a.singleton.byDesignCall({desktop:function(){t.confirmMarkdownText=u.singleton.getResource("ResForgotPasswordCheckEmailInstructions",{emailText:e}),t.setState({showConfirmation:!0})},mobile:function(){return l.singleton.openNativeDialog(s.ALERT,u.singleton.getResource("ResResetRequestReceived"),u.singleton.getResource("ResForgotPasswordCheckEmailInstructions"),u.singleton.getResource("ResOk"),"").then(function(){return d.singleton.navigateBack()})}})}}]),m}(g.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ForgotPassword/ResetPasswordContainer",["core/AsyncManager","design/views/react/atomic/forms/FormTextInputComponent","dataservices/dependent/ProfileService","ui/Localization","design/views/react/Form/FormHelpers","design/views/react/atomic/forms/SimpleFormComponent","lib/react","platform/dependent/Process"],function(o,r,a,s,l,c,d,u){return function(p){function h(i){e(this,h);var n=t(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i));return n.formHeaderText=s.singleton.getResource("ResResetPasswordTitle"),n.formDescriptionText=s.singleton.getResource("ResProfilePasswordDescriptor"),n.formButtonText=s.singleton.getResource("ResResetPasswordSubmitButton"),n.confirmHeaderText=s.singleton.getResource("ResResetPasswordSuccessTitle"),n.confirmMarkdownText=s.singleton.getResource("ResResetPasswordSuccessText"),n.confirmButtonText=s.singleton.getResource("ResResetPasswordSuccessButton"),n.footerText=s.singleton.getResource("ResFooterHelpText"),n.footerLinkText=s.singleton.getResource("ResFooterHelpLinkText"),n.state={enableFormButton:!1,showConfirmation:!1,errorText:void 0,value:""},n.displayName="ResetPasswordContainer",n.doValidate=function(){},n._asyncManager=o.new(),n}return i(h,p),n(h,[{key:"render",value:function(){var e=d.createElement(c,{headerText:this.confirmHeaderText,markdownText:this.confirmMarkdownText,buttonText:this.confirmButtonText,onSubmitFn:this._onConfirm.bind(this),enableFormButton:!0,footerText:this.footerText,footerLinkText:this.footerLinkText}),t=d.createElement(c,{headerText:this.formHeaderText,descriptionText:this.formDescriptionText,buttonText:this.formButtonText,onSubmitFn:this._onSubmit.bind(this),enableFormButton:this.state.enableFormButton,errorText:this.state.errorText,footerText:this.footerText,footerLinkText:this.footerLinkText},d.createElement(r.Password,{name:"newpassword",value:this.state.value,labelRes:"ResResetPasswordInputTitle",onChanged:this._onPasswordTextChanged.bind(this),validatorCallback:this._validatorCallback.bind(this)}));return!0!==this.state.showConfirmation?t:e}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onPasswordTextChanged",value:function(e){this.setState({value:e,enableFormButton:""!==e})}},{key:"_validatorCallback",value:function(e){this.doValidate=e}},{key:"_onSubmit",value:function(){void 0===this.doValidate()&&this._updatePassword(this.state.value)}},{key:"_onConfirm",value:function(){u.singleton.navigateExternal("https://play."+s.singleton.getResource("ResWebsite"))}},{key:"_updatePassword",value:function(e){var t=this;this.setState({enableFormButton:!1}),this._asyncManager.runUntilDisposed("updatePassword",function(){return a.singleton.setNewPassword(e).then(function(){t.setState({showConfirmation:!0})}).catch(function(e){t.setState({enableFormButton:!0}),l.handleServiceError(t,e)})})}}]),h}(d.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/ForgotPassword/ResetPinContainer",["core/AsyncManager","design/ValidationUtils","design/views/react/atomic/forms/FormTextInputComponent","dataservices/dependent/ProfileService","ui/Localization","design/views/react/Form/FormHelpers","design/views/react/atomic/forms/SimpleFormComponent","lib/react","platform/dependent/Process"],function(o,r,a,s,l,c,d,u,p){return function(h){function g(i){e(this,g);var n=t(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,i));return n.formHeaderText=l.singleton.getResource("ResResetPinTitle"),n.formDescriptionText=l.singleton.getResource("ResResetPinInstructions"),n.formButtonText=l.singleton.getResource("ResResetPinSubmitButton"),n.confirmHeaderText=l.singleton.getResource("ResResetPinSuccessTitle"),n.confirmMarkdownText=l.singleton.getResource("ResResetPinSuccessText"),n.confirmButtonText=l.singleton.getResource("ResOk"),n.footerText=l.singleton.getResource("ResFooterHelpText"),n.footerLinkText=l.singleton.getResource("ResFooterHelpLinkText"),n.state={enableFormButton:!1,showConfirmation:!1,errorText:void 0,value:""},n.doValidate=function(){},n.displayName="ResetPinContainer",n._asyncManager=o.new(),n}return i(g,h),n(g,[{key:"render",value:function(){var e=u.createElement(d,{headerText:this.confirmHeaderText,markdownText:this.confirmMarkdownText,buttonText:this.confirmButtonText,onSubmitFn:this._onConfirm.bind(this),enableFormButton:!0,footerText:this.footerText,footerLinkText:this.footerLinkText}),t=u.createElement(d,{headerText:this.formHeaderText,descriptionText:this.formDescriptionText,buttonText:this.formButtonText,onSubmitFn:this._onSubmit.bind(this),formFields:this.state.formFields,enableFormButton:this.state.enableFormButton,errorText:this.state.errorText,footerText:this.footerText,footerLinkText:this.footerLinkText},u.createElement(a.Pin,{name:"pin",value:this.state.value,labelRes:"ResResetPinInputTitle",onChanged:this._onPinTextChanged.bind(this),validatorCallback:this._validatorCallback.bind(this)}));return!0!==this.state.showConfirmation?t:e}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onPinTextChanged",value:function(e){this.setState({value:e,enableFormButton:void 0===r.singleton.validatePin(e)})}},{key:"_validatorCallback",value:function(e){this.doValidate=e}},{key:"_onSubmit",value:function(){void 0===this.doValidate()&&this._updatePin(this.state.value)}},{key:"_onConfirm",value:function(){p.singleton.navigateExternal("https://play."+l.singleton.getResource("ResWebsite"))}},{key:"_updatePin",value:function(e){var t=this;this.setState({enableFormButton:!1}),this._asyncManager.runUntilDisposed("updatePin",function(){return s.singleton.setNewPin(e,void 0,!0).then(function(){t.setState({showConfirmation:!0})}).catch(function(e){t.setState({enableFormButton:!0}),c.handleServiceError(t,e)})})}}]),g}(u.Component)})}(),function(){"use strict";define("design/templates/SimpleFormViewHostTemplates",["core/oop","design/templates/TemplatesModule","design/templates/ActivationClientViewHostTemplates","design/viewHosts/SimpleFormViewHost","design/views/react/ActivationClient/ActivationClientHeaderComponent","design/views/react/ForgotPassword/ForgotPasswordContainer","design/views/react/ForgotPassword/ResetPasswordContainer","design/views/react/ForgotPassword/ResetPinContainer","design/templates/ViewTemplates","design/ScreenUtil"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("design.templates.SimpleFormViewHostTemplates",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_configure:function(){var e=this;["ForgotPasswordViewHost","ResetPasswordViewHost","ResetPinViewHost"].forEach(function(t){e.registered[t]=e})},_setLazyTemplateDefs:function(){this.registered.ForgotPasswordViewHost=this.generateTemplate(r),this.registered.ResetPasswordViewHost=this.generateTemplate(a),this.registered.ResetPinViewHost=this.generateTemplate(s)},generateTemplate:function(e){var t=l.singleton.exports,r=i.singleton.exports,a=c.singleton.byScreenWidth.bind(c.singleton),s=a({small:14,default:50});return{$extend:r.ActivationClientViewHost,$type:n,viewRegistrations:{$extend:r.ActivationClientViewHostRegistrations,header:{$extend:t.ViewRegistration,order:r.subViewRegistrationOrder++,layer:"content",template:{$extend:t.ReactHostView,reactComponentType:o,x:s}},simpleForm:{$extend:t.ViewRegistration,layer:"content",order:r.subViewRegistrationOrder++,template:{$extend:t.ReactHostView,reactComponentType:e,x:s,layoutProps:{margin:{top:45}}}}}}}})})})}(),function(){"use strict";define("configuration/TemplateManagerConfigBase",["core/oop","ui/TemplateManager","design/templates/ActivationClientViewHostTemplates","design/templates/DirectLoginViewHostTemplates","design/templates/CodeEntryViewHostTemplates","design/templates/LoginViewHostTemplates","design/templates/AffiliateLoginViewHostTemplates","design/templates/AffiliateSelectionViewHostTemplates","design/templates/AffiliateListViewHostTemplates","design/templates/TransitionManagerTemplates","design/templates/InitializationViewHostTemplates","design/templates/RegisterViewHostTemplates","design/templates/SimpleFormViewHostTemplates"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("configuration.TemplateManagerConfigBase",[Object],function(){e.staticScope(function(){e.methods({configureCommon:function(){[i,o,r,a,s,l,c,n,d,u,p].forEach(function(e){t.singleton.register(e.singleton.registered)})}})})})})}(),function(){"use strict";define("configuration/ITemplateManagerConfig",["core/oop"],function(e){return e.interfaceDef("configuration.ITemplateManagerConfig",void 0,function(){e.staticScope(function(){e.methods({configure:void 0})})})})}(),function(){"use strict";define("design/viewHosts/CommerceClientViewHost",["core/oop","ui/navigation/ViewHost"],function(e,t){return e.classDef("design.viewHosts.CommerceClientViewHost",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({pageParams:void 0})})})}(),function(){"use strict";define("design/templates/CommerceClientViewHostTemplates",["core/oop","design/templates/TemplatesModule","design/templates/ViewTemplates","design/TemplateUtil","design/viewHosts/CommerceClientViewHost"],function(e,t,i,n,o){
return e.classDef("design.templates.CommerceClientViewHostTemplates",[t],function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_configure:function(){t._configure.apply(this,arguments);var e=i.singleton.exports,r=n.singleton.complete.bind(n.singleton),a=this.registered,s=this.unregistered,l=s.partials={};l.viewHostRegistrations={$extend:e.ViewRegistrations,logoutFrame:s.logoutFrame},s.CommerceClientViewHostRegistrations=r(l.viewHostRegistrations,{}),a.CommerceClientViewHost={$type:o,viewRegistrations:s.CommerceClientViewHostRegistrations}}})})})}(),function(){"use strict";define("dataservices/types/PaywallAction",["core/oop"],function(e){return e.enumDef("dataservices.types.PaywallAction",{SIGNIN:"#signin",REGISTER:"#register",PAYMENT:"#payment"})})}(),function(){"use strict";define("design/views/react/CommerceClient/CommerceClientStyles",["core/oop","design/styles/StyleConstants","ui/AnchoredLayout","ui/Axis","ui/LayoutProps","ui/Localization","ui/ScaleMode","ui/StackedLayout","ui/StyleSheet"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.views.react.CommerceClient.CommerceClientStyles",Object,function(){e.singleton(function(){var e=t.singleton.exports;this.exports=l.create({commerceClientContainer:{name:"commerceClientContainer",layout:i.new()},backgroundImage:{name:"backgroundImage",contentScaleMode:a.SCALE_TO_FILL,clipToBounds:!0,isFixedInViewport:!0,layoutProps:e.layouts.anchorAll},marginCutoffWidth:1024,contentContainer:{layout:s.new({primaryAxis:n.VERTICAL,spacing:20}),layoutProps:o.new(e.layouts.anchorAll,{margin:{left:50}})},lowMarginContentContainer:{layout:s.new({primaryAxis:n.VERTICAL,spacing:20}),layoutProps:o.new(e.layouts.anchorAll,{margin:{left:14}})},stackedContentContainer:{name:"stackedContentContainer",layout:s.new({primaryAxis:n.VERTICAL,spacing:20})},form:{contentHost:{width:300},container:{name:"container",layout:s.new({primaryAxis:n.VERTICAL}),layoutProps:o.new({margin:{top:25}})},formTitle:{name:"formTitle",header:{name:"formTitleHeader",format:e.textFormats.pageTitleLight,maxLines:void 0},description:{name:"formTitleDescription",format:e.textFormats.pageDescription}}},codeEntryHost:{name:"codeEntryHost",layout:s.new({primaryAxis:n.VERTICAL}),layoutProps:e.layouts.anchorLeft},inputHost:{name:"inputHost",layout:s.new({primaryAxis:n.VERTICAL,spacing:8})},codeInputLabel:{name:"codeInputLabel",format:e.textFormats.formFieldLabelFormat},errorLabel:{name:"errorLabel",format:e.textFormats.formErrorMessageFormat,maxLines:void 0,width:293,layoutProps:o.new({margin:{top:-18,bottom:10}})},errorField:{name:"errorField",format:e.textFormats.fieldErrorMessageFormat,maxLines:void 0,width:293,layoutProps:o.new({margin:{left:10,right:10,top:10,bottom:10}})},errorFieldView:{layout:s.new({primaryAxis:n.VERTICAL}),name:"errorFieldView",backgroundColor:e.colors.crimson,layoutProps:o.new({margin:{top:-18,bottom:10}}),width:293,height:e.defaultFormButtonHeight},codeInput:{name:"codeInput",width:293,height:e.defaultFormButtonHeight,padding:{left:10,right:10},layoutProps:o.new({margin:{bottom:15}}),placeholderText:r.singleton.getResource("ResGiftCardInputPlaceHolderText"),placeholderFormat:e.textFormats.optionalHintFormat,format:e.textFormats.formValueFormat,backgroundColor:e.colors.whiteSmoke,isDefaultFocus:!0,maxLength:50},submitButton:{width:293,name:"submitButton"},narrowSubmitButton:{width:120,name:"submitButton"},zipCodeInput:{layout:s.new({primaryAxis:n.VERTICAL}),name:"zipCodeInput",width:83,height:e.defaultFormButtonHeight,padding:{left:10,right:10},layoutProps:o.new({margin:{top:10,bottom:15}}),placeholderFormat:e.textFormats.optionalHintFormat,format:e.textFormats.formValueFormat,backgroundColor:e.colors.whiteSmoke,maxLength:5},hView:{layout:s.new({primaryAxis:n.HORIZONTAL}),name:"hView"},vView:{layout:s.new({primaryAxis:n.VERTICAL}),name:"vView",layoutProps:o.new({margin:{right:10}})},hintLabel:{name:"hintLabel",format:e.textFormats.formFieldLabelFormat,layoutProps:o.new({margin:{top:1,bottom:20}})},noteLabel:{name:"noteLabel",format:e.textFormats.formSecondaryDescriptionFormat,layoutProps:o.new({margin:{top:1,bottom:50}}),width:300,maxLines:void 0,markdownUriFormat:e.textFormats.formSecondaryDescriptionLinkFormat,markdownUriHoverFormat:e.textFormats.formSecondaryDescriptionLinkHoverFormat,markdownUriOpenInExternalProcess:!0,markdownMap:{a:{uri:"http://www.hbonow.com/gift-terms"}}},imageCardBack:{name:"imageCardBack",layoutProps:o.new({margin:{left:8,top:5},anchor:{}}),uri:"/assets/images/card_back.png"},container:{name:"container",layout:s.new({primaryAxis:n.VERTICAL,spacing:6}),layoutProps:e.layouts.anchorLeft},logoImage:{name:"logoImage",width:98,height:17,isReadyInit:!0,uri:"/assets/images/branding/desktop/hbonow/logo.svg",layoutProps:o.new(e.layouts.anchorTopLeftCropTop,{margin:{top:30}})},greeting:{name:"greeting",format:e.textFormats.greetingFormat,layoutProps:o.new({margin:{top:30,bottom:-20}})},title:{name:"title",format:e.textFormats.pageTitle,layoutProps:o.new({margin:{top:10,bottom:0}})},description:{name:"description",format:e.textFormats.formDescriptionFormat,maxLines:void 0,width:300,layoutProps:o.new({margin:{top:0,bottom:10}}),markdownUriFormat:e.textFormats.formDescriptionLinkFormat,markdownUriHoverFormat:e.textFormats.formDescriptionLinkHoverFormat,markdownUriOpenInExternalProcess:!0,markdownMap:{strong:{format:e.textFormats.formDescriptionStrongFormat},label:{format:e.textFormats.formDescriptionLabelFormat},value:{format:e.textFormats.formDescriptionStrongFormat},strongDate:{format:e.textFormats.formDescriptionStrongFormat,date:r.DateFormat.MONTH_DAY_YEAR_LONG}}},stepIndicator:{name:"stepIndicator",format:e.textFormats.formStepIndicator,layoutProps:{margin:{top:24}}},paymentMethodContainer:{name:"paymentMethodContainer",layout:s.new({primaryAxis:n.VERTICAL})},paymentMethodFormError:{name:"paymentMethodFormError",format:e.textFormats.formErrorMessageFormat,maxLines:void 0,width:300,layoutProps:{margin:{top:15}}},paymentMethodForm:{name:"paymentMethodForm",height:800,width:300,layoutProps:{margin:{top:15}}}})}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";define("design/views/react/GeoUnitsSelector/GeoUnitsSelectorStyles",["ui/Localization","core/oop","ui/StyleSheet","ui/LayoutProps","design/styles/StyleConstants"],function(e,t,i,n,o){return t.classDef("design.views.react.Selector.GeoUnitsSelectorStyles",Object,function(){t.singleton(function(){var t=o.singleton.exports;this.exports=i.create({name:"dropDownStates",width:200,height:t.defaultFormButtonHeight,optionFormat:t.textFormats.dropDownOptionFormat,arrowImageUri:"/assets/images/dropdowns/desktop/dropdown_arrow_dark.png",borderColor:t.colors.whiteSmoke,backgroundColor:t.colors.whiteSmoke,optionHorizontalPadding:20,initialOptionValue:e.singleton.getResource("ResGeoUnitSelectionDropDownPrompt"),layoutProps:n.new({margin:{top:10,bottom:22}})})}),t.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/GeoUnitsSelector/GeoUnitsSelectorComponent",["core/AsyncManager","design/views/react/ReactPrimitives","lib/react","design/views/react/GeoUnitsSelector/GeoUnitsSelectorStyles"],function(o,r,a,s){return function(l){function c(i){e(this,c);var n=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,i));return n.displayName="GeoUnitsSelectorComponent",n._asyncManager=o.new(),n}return i(c,l),n(c,[{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onSelected",value:function(e){var t=this;this._asyncManager.runUntilDisposed("getValueOnSelected",function(){return e.then(function(e){if(e)return e.value.then(function(i){t.props.onSelected(i,e.id)});t.props.onSelected("","")})})}},{key:"render",value:function(){var e,t=r.Selector,i=s.singleton.exports;return void 0!==this.props.viewModel&&(e={viewModel:this.props.viewModel}),a.createElement(t,{style:[i,e],eventHandlers:{selectedIndexChanged:this._onSelected.bind(this)}})}}]),c}(a.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/CommerceClient/GiftCardEntryComponent",["core/AsyncManager","core/Debug","core/data/ExplicitValueProvider","core/data/ModelFactory","design/FilterUtils","design/ValidationUtils","design/CommerceWorkflow","design/views/react/ReactPrimitives","design/views/react/CommerceClient/CommerceClientStyles","design/views/react/Form/FormComponent","design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormFooter/FormFooterComponent","design/views/react/GeoUnitsSelector/GeoUnitsSelectorComponent","design/views/react/TextInput/TextInputComponent","lib/Promise","lib/react","platform/input/Buttons","ui/Localization","ui/StyleSheet","ui/input/InputManager","ui/viewModelProviders/ItemsFromArrayProvider","ui/viewModelProviders/ValueProvider"],function(o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R){var P=u.View,E=u.Text,I=u.Image,x=u.MarkdownText;return function(r){function u(i){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i)),o=i.giftCardCode||"";return o=l.singleton.filterGiftCardCode(o),n.state={generalErrorText:"",codeErrorText:"",zipAndGeoUnitErrorText:"",inputValid:void 0,codeText:o,zipCode:"",geoUnit:"",readyToRender:!1},n}return i(u,r),n(u,[{key:"componentDidMount",value:function(){this._asyncManager=o.new(),this._asyncManager.hookUntilDisposed(C.singleton,"focusChanged",this._onFocusChanged.bind(this));var e=this;this._asyncManager.runUntilDisposed("loadGeoUnits",function(){return _.method(function(){e._geoUnitsViewModel=T.new(e.props.geoUnits.map(function(e){var t=a.new(e.abbr);return t.initialize({value:e.name}),R.new(t,"value",function(e){return b.singleton.getResource("ResGiftCardGeoUnitDisplayName",{name:e,abbreviation:this._dataModel.id})})})),e.setState({readyToRender:!0})})()})}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onButtonReleased",value:function(e){e.button===w.OK&&!0===this.state.inputValid&&this._onSubmit()}},{key:"_onCodeTextChanged",value:function(e){e=l.singleton.filterGiftCardCode(e),this.setState({codeText:e,inputValid:this._validateInput(e,this.state.zipCode,this.state.geoUnit)})}},{key:"_onFocusChanged",value:function(e,t){if("codeInput"===t.name){var i=this._getPinCodeErrorText(this.state.codeText),n=this._getZipAndGeoUnitErrorText(this.state.geoUnit,this.state.zipCode);this.setState({zipAndGeoUnitErrorText:n,codeErrorText:i})}else if("zipCodeInput"===t.name){var o=this._getZipAndGeoUnitErrorText(this.state.geoUnit,this.state.zipCode);this.setState({zipAndGeoUnitErrorText:o})}}},{key:"_getPinCodeErrorText",value:function(e){return""===e||c.singleton.isValidGiftCardCode(e)?"":b.singleton.getResource("ResInvalidGiftCardError")}},{key:"_getZipAndGeoUnitErrorText",value:function(e,t){var i="",n=""===t||c.singleton.isValidZipCode(t),o=""!==e;return n||o?n?o||(i=b.singleton.getResource("ResInvalidGiftCardGeoUnitError")):i=b.singleton.getResource("ResInvalidGiftCardZipError"):i=b.singleton.getResource("ResInvalidGiftCardZipAndGeoUnitError"),i}},{key:"_onZipCodeChanged",value:function(e){this.setState({zipCode:e,inputValid:this._validateInput(this.state.codeText,e,this.state.geoUnit)})}},{key:"_onGeoUnitsSelected",value:function(e){this.setState({geoUnit:e,inputValid:this._validateInput(this.state.codeText,this.state.zipCode,e),codeErrorText:this._getPinCodeErrorText(this.state.codeText),zipAndGeoUnitErrorText:this._getZipAndGeoUnitErrorText(e,this.state.zipCode)})}},{key:"_validateInput",value:function(e,t,i){return c.singleton.isValidGiftCardCode(e)&&c.singleton.isValidZipCode(t)&&""!==i}},{key:"_onSubmit",value:function(){this.state.inputValid,this.setState({isSubmittingCode:!0,generalErrorText:""});var e=s.singleton.create("GiftCardBalance",this.state.codeText),t=this;this._asyncManager.runUntilDisposed("checkGiftCardBalance",function(){return d.singleton.startValidation(),e.balance.then(function(e){d.singleton.completeGiftCardValidation({giftCardCode:t.state.codeText,giftCardAmount:e.amount,currencyCode:e.currencyCode,zipCode:t.state.zipCode,geoUnit:t.state.geoUnit})}).catch(function(e){d.singleton.stopValidation(),t.setState({generalErrorText:e.displayMessage,isSubmittingCode:!1})})})}},{key:"render",value:function(){if(!0!==this.state.readyToRender)return y.createElement(P,null);var e=p.singleton.exports;return y.createElement(P,{key:"GiftCardEntryComponent",style:e.stackedContentContainer},y.createElement(h,{key:"form",style:e.form,header:this.props.title,description:this.props.description},y.createElement(P,{key:"codeEntryHost",style:e.codeEntryHost},y.createElement(P,{key:"inputHost",style:e.inputHost},""!==this.state.generalErrorText&&y.createElement(E,{style:e.errorLabel},this.state.generalErrorText),y.createElement(E,{style:e.codeInputLabel},b.singleton.getResource("ResGiftCardEntryCodeLabel")),y.createElement(P,{style:e.hView},y.createElement(v,{key:"codeInput",style:[e.codeInput,{text:this.state.codeText}],isEnabled:!0!==this.state.isSubmittingCode,eventHandlers:{textChanged:this._onCodeTextChanged.bind(this),buttonReleased:this._onButtonReleased.bind(this)}}),y.createElement(I,{style:[e.imageCardBack]})),""!==this.state.codeErrorText&&y.createElement(P,{style:e.errorFieldView},y.createElement(E,{style:e.errorField},this.state.codeErrorText)),y.createElement(P,{style:e.vView},y.createElement(P,{style:e.hView},y.createElement(P,{style:e.vView},y.createElement(E,{style:e.codeInputLabel},b.singleton.getResource("ResGiftCardEntryGeoUnitLabel")),y.createElement(m,{viewModel:this._geoUnitsViewModel,onSelected:this._onGeoUnitsSelected.bind(this)})),y.createElement(P,{style:e.vView},y.createElement(E,{style:e.codeInputLabel},b.singleton.getResource("ResGiftCardEntryZipCodeLabel")),y.createElement(v,{key:"zipCodeInput",style:[e.zipCodeInput,{text:this.state.zipCode}],isEnabled:!0!==this.state.isSubmittingCode,eventHandlers:{textChanged:this._onZipCodeChanged.bind(this),buttonReleased:this._onButtonReleased.bind(this)}}))),""!==this.state.zipAndGeoUnitErrorText&&y.createElement(P,{style:e.errorFieldView},y.createElement(E,{style:e.errorField},this.state.zipAndGeoUnitErrorText))),y.createElement(x,{key:"noteLabel",style:e.noteLabel},this.props.terms)),y.createElement(g,{key:"submitButton",text:!0===this.state.isSubmittingCode?b.singleton.getResource("ResCommercePleaseWait"):this.props.cta.title,invokeHandler:this._onSubmit.bind(this),style:S.flatten([e.submitButton,{isEnabled:!0!==this.state.isSubmittingCode&&!0===this.state.inputValid,isPointerTarget:!0!==this.state.isSubmittingCode&&!0===this.state.inputValid}])}),y.createElement(f,{key:"footer",helpText:b.singleton.getResource("ResFooterHelpText"),helpLinkText:b.singleton.getResource("ResFooterHelpLinkText")}))))}}]),u}(y.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/CommerceClient/PromotionEntryComponent",["core/Debug","core/PromiseManager","dataservices/dependent/PaymentsService","design/CommerceWorkflow","design/views/react/ReactPrimitives","design/views/react/Form/FormComponent","design/views/react/FormButton/FormActionButtonComponent","design/views/react/FormFooter/FormFooterComponent","design/views/react/TextInput/TextInputComponent","design/views/react/CommerceClient/CommerceClientStyles","design/ValidationUtils","design/FilterUtils","platform/input/Buttons","lib/react","ui/StyleSheet","ui/Localization"],function(o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y){return function(o){function w(i){e(this,w);var n=t(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,i)),o=n.props.promoCode||"";return o=f.singleton.filterPromotionCode(o),n.state={generalErrorText:"",inputValid:g.singleton.isValidPromotionCode(o),promoCode:o,isSubmittingCode:!1},n}return i(w,o),n(w,[{key:"componentDidMount",value:function(){this._promiseManager=r.new()}},{key:"componentWillUnmount",value:function(){this._promiseManager.dispose(),this._promiseManager=void 0}},{key:"_onButtonReleased",value:function(e){e.button===m.OK&&!0===this.state.inputValid&&this._onSubmit()}},{key:"_onCodeTextChanged",value:function(e){e=f.singleton.filterPromotionCode(e),this.setState({promoCode:e,inputValid:g.singleton.isValidPromotionCode(e)})}},{key:"_onSubmit",value:function(){this.state.inputValid,this.setState({isSubmittingCode:!0,generalErrorText:""});var e=this;return this._promiseManager.runUntilDisposed("validatePromotionCode",function(){return s.singleton.startValidation(),a.singleton.validatePromotionCode(e.props.promoId,e.state.promoCode).then(function(t){!0===t.isValid?s.singleton.completePromoValidation(e.state.promoCode):(s.singleton.stopValidation(),e.setState({generalErrorText:t.description,isSubmittingCode:!1}))})})}},{key:"render",value:function(){var e=l.View,t=l.Text,i=l.MarkdownText,n=h.singleton.exports;return v.createElement(e,{key:"PromotionEntryComponent",style:n.stackedContentContainer},v.createElement(c,{key:"form",style:n.form,header:this.props.title,description:this.props.description},v.createElement(e,{key:"codeEntryHost",style:n.codeEntryHost},v.createElement(e,{key:"inputHost",style:n.inputHost},""!==this.state.generalErrorText&&v.createElement(t,{style:n.errorLabel},this.state.generalErrorText),v.createElement(t,{style:n.codeInputLabel},y.singleton.getResource("ResPromotionEntryCodeLabel")),v.createElement(p,{key:"codeInput",style:[n.codeInput,{text:this.state.promoCode,placeholderText:y.singleton.getResource("ResPromotionInputPlaceHolderText")}],isEnabled:!0!==this.state.isSubmittingCode,eventHandlers:{textChanged:this._onCodeTextChanged.bind(this),buttonReleased:this._onButtonReleased.bind(this)}}),v.createElement(i,{key:"noteLabel",style:n.noteLabel},this.props.terms)),v.createElement(d,{key:"submitButton",text:!0===this.state.isSubmittingCode?y.singleton.getResource("ResCommercePleaseWait"):this.props.cta.title,invokeHandler:this._onSubmit.bind(this),style:_.flatten([n.submitButton,{isEnabled:!0===this.state.inputValid&&!0!==this.state.isSubmittingCode,isPointerTarget:!0===this.state.inputValid&&!0!==this.state.isSubmittingCode}])}),v.createElement(u,{key:"footer",helpText:y.singleton.getResource("ResFooterHelpText"),helpLinkText:y.singleton.getResource("ResFooterHelpLinkText")}))))}}]),w}(v.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/CommerceClient/CommerceClientInfoComponent",["design/CommerceWorkflow","design/views/react/CommerceClient/CommerceClientStyles","design/views/react/ReactPrimitives","design/views/react/FormButton/FormActionButtonComponent","platform/dependent/Process","ui/StyleSheet","ui/LayoutProps","ui/Localization","lib/react"],function(o,r,a,s,l,c,d,u,p){var h=a.View,g=a.Text,f=a.MarkdownText;return function(a){function m(i){return e(this,m),t(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,i))}return i(m,a),n(m,[{key:"_onButtonInvoked",value:function(){void 0!==this.props.callToActionInvoked?this.props.callToActionInvoked():(o.singleton.completeFlow(),l.singleton.navigateExternal(this.props.exitUrl,!1))}},{key:"render",value:function(){var e=r.singleton.exports,t=u.singleton.getResource("ResOk"),i=u.singleton.getResource("ResGiftCardOKGotIt"),n=this.props.buttonText,o=e.submitButton;return n!==t&&n!==i||(o=e.narrowSubmitButton),p.createElement(h,{key:"CommerceClientInfoComponent",style:e.stackedContentContainer},void 0!==this.props.greeting&&p.createElement(h,{key:"greeting",style:e.vView},p.createElement(g,{style:e.greeting},this.props.greeting)),void 0!==this.props.title&&p.createElement(h,{key:"title",style:e.vView},p.createElement(g,{style:e.title},this.props.title)),void 0!==this.props.description&&p.createElement(h,{key:"description",style:e.vView},p.createElement(f,{style:e.description},this.props.description)),void 0!==this.props.buttonText&&p.createElement(s,{key:"submitButton",text:this.props.buttonText,invokeHandler:this._onButtonInvoked.bind(this),style:c.flatten([o,{layoutProps:d.new({margin:{top:20}})}])}))}}]),m}(p.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/CommerceClient/PaymentMethodContainer",["design/views/react/ReactPrimitives","design/views/react/DirectCommerce/DirectCommerceContainer","design/views/react/CommerceClient/CommerceClientStyles","design/CommerceWorkflow","lib/react","ui/Localization"],function(o,r,a,s,l,c){return function(d){function u(i){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i));return n.state={formError:void 0},n}return i(u,d),n(u,[{key:"_onErrorUpdated",value:function(e){void 0!==e&&s.singleton.processPaymentMethodError(e),this.setState({formError:e})}},{key:"_onPaymentMethodCreated",value:function(){s.singleton.completePaymentMethodSetup()}},{key:"render",value:function(){var e=o.View,t=o.Text,i=o.MarkdownText,n=a.singleton.exports;return l.createElement(e,{key:"paymentMethodContainer",style:n.paymentMethodContainer},!1===s.singleton.userAuthenticatedImplicitly&&l.createElement(t,{key:"stepIndicator",style:n.stepIndicator},c.singleton.getResource("ResCommerceStepTwoOfTwo")),l.createElement(t,{key:"title",style:n.title},c.singleton.getResource("ResCommerceAddPaymentMethod")),l.createElement(i,{key:"paymentMethodDetails",style:n.description},this.props.paymentMethodDetails),l.createElement(t,{key:"paymentMethodFormError",style:n.paymentMethodFormError},this.state.formError),l.createElement(r,{key:"paymentMethodForm",style:n.paymentMethodForm,errorUpdated:this._onErrorUpdated.bind(this),paymentMethodCreated:this._onPaymentMethodCreated.bind(this)}))}}]),u}(l.Component)})}(),function(){"use strict";define("design/views/react/Paywall/PaywallComponentStyles",["core/oop","core/HorizontalAlignment","core/VerticalAlignment","ui/Axis","ui/AnchoredLayout","ui/LayoutProps","ui/Localization","ui/StackedLayout","ui/StyleSheet","ui/ScaleMode","ui/Transition","design/ScreenUtil","design/styles/StyleConstants","design/views/react/FormButton/FormButtonStyles","platform/common/TextFormat"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g){return e.classDef("design.views.react.Paywall.PaywallComponentStyles",Object,function(){e.singleton(function(){var e=p.singleton.exports;this.exports={cutoffWidth:480,squareImageDimension:{width:1590,height:1590},landscapeImageDimension:{width:1920,height:1080},portrait:this._createStyleExports({descriptionFormat:{size:14,lineHeight:18},greetingFormat:{size:14,lineHeight:18},titleFormat:{size:28,lineHeight:34},backgroundImage:{horizontalAlignment:t.CENTER,verticalAlignment:i.BOTTOM},logoImage:{width:109,height:19,layoutProps:r.new(e.layouts.anchorTopCropTop,{margin:{top:17}})},paywallContent:{layout:{spacing:10},layoutProps:r.new(e.layouts.anchorFillBottomCropBottom,{margin:{left:14,right:14}})},description:{layoutProps:r.new(e.layouts.anchorStretchHorizontally,{margin:{left:1}})},footer:{layoutProps:e.layouts.anchorBottom},paywallCtaButtonBase:{container:{layoutProps:r.new({margin:{top:8,bottom:8},anchor:e.anchors.stretchHorizontally})}}}),landscape:this._createStyleExports({descriptionFormat:{size:18,lineHeight:27},greetingFormat:{size:18,lineHeight:22},titleFormat:{size:48,lineHeight:52},backgroundImage:{horizontalAlignment:t.LEFT,verticalAlignment:i.TOP},logoImage:{width:169,height:31,layoutProps:r.new(e.layouts.anchorTopLeftCropTop,{margin:{left:50,top:80,bottom:49}})},paywallContent:{layout:{spacing:20},layoutProps:r.new(e.layouts.anchorAll,{margin:{left:50}})},description:{layoutProps:e.layouts.anchorLeft,width:430},footer:{layoutProps:void 0},paywallCtaButtonBase:{container:{width:293,layoutProps:r.new(e.layouts.anchorLeft,{margin:{left:1,top:18,bottom:18}})}}})}}),e.methods({_createStyleExports:function(e){var t=p.singleton.exports,i=h.singleton.exports,r={font:t.fonts.medium,color:t.colors.whiteSmoke,size:16,lineHeight:20,letterSpacing:.5,uppercase:!0},f=g.new({font:t.fonts.thin,color:t.colors.whiteSmoke,size:e.descriptionFormat.size,lineHeight:e.descriptionFormat.lineHeight}),m=g.new({font:t.fonts.medium,color:t.colors.whiteSmoke,size:e.descriptionFormat.size,lineHeight:e.descriptionFormat.lineHeight}),v=g.new({font:t.fonts.medium,color:t.colors.mediumBlue,size:e.descriptionFormat.size,lineHeight:e.descriptionFormat.lineHeight}),_=g.new({font:t.fonts.medium,color:t.colors.ceruleanBlue,size:e.descriptionFormat.size,lineHeight:e.descriptionFormat.lineHeight}),y=g.new({font:t.fonts.book,color:t.colors.dustyGray,size:e.descriptionFormat.size,lineHeight:e.descriptionFormat.lineHeight});return l.create({paywall:{name:"paywall",layout:o.new(),layoutProps:t.layouts.anchorAll},backgroundImage:{name:"backgroundImage",contentScaleMode:c.SCALE_TO_FILL,contentHorizontalAlignment:e.backgroundImage.horizontalAlignment,contentVerticalAlignment:e.backgroundImage.verticalAlignment,clipToBounds:!0,isFixedInViewport:!0,layoutProps:t.layouts.anchorAll},logoImage:{name:"logoImage",width:e.logoImage.width,height:e.logoImage.height,isReadyInit:!0,uri:u.singleton.byBrand({hbonow:"/assets/images/branding/desktop/hbonow/logo.svg",hbogo:"/assets/images/branding/desktop/hbogo/logo.svg"}),layoutProps:e.logoImage.layoutProps},paywallContent:{name:"paywallContent",layout:s.new({primaryAxis:n.VERTICAL,spacing:e.paywallContent.layout.spacing,alignAlongPrimaryAxis:!0,defaultItemLayoutProps:t.layouts.anchorLeft}),layoutProps:e.paywallContent.layoutProps},greeting:{name:"greeting",format:g.new({font:t.fonts.medium,color:t.colors.dustyGray,size:e.greetingFormat.size,lineHeight:e.greetingFormat.lineHeight,uppercase:!0})},title:{name:"title",maxLines:void 0,format:g.new({font:t.fonts.thin,color:t.colors.whiteSmoke,size:e.titleFormat.size,lineHeight:e.titleFormat.lineHeight})},description:{name:"description",format:f,maxLines:void 0,markdownUriFormat:v,markdownUriHoverFormat:_,markdownUriOpenInExternalProcess:!0,markdownMap:{strong:{format:m},label:{format:y},value:{format:m},strongDate:{format:m,date:a.DateFormat.MONTH_DAY_YEAR_LONG}},layoutProps:e.description.layoutProps,width:e.description.width},footer:{name:"footer",format:f,maxLines:void 0,markdownUriFormat:v,markdownUriHoverFormat:_,markdownMap:{strong:{format:m},label:{format:y},value:{format:m},strongDate:{format:m,date:a.DateFormat.MONTH_DAY_YEAR_LONG}},height:50,layoutProps:e.footer.layoutProps},paywallCtaButtonBase:{container:l.flatten([i.actionButtonStyles.container,{height:48,width:e.paywallCtaButtonBase.container.width,layoutProps:e.paywallCtaButtonBase.container.layoutProps}]),text:{format:g.new(r)}},paywallCtaButtonPrimary:{transitionMap:{initial:{set_backgroundColor:d.new({to:t.colors.mediumBlue})}}},paywallCtaButtonSecondary:{transitionMap:{initial:{set_backgroundColor:d.new({to:t.colors.darkBlue})}}}})}}),e.properties({exports:{defaultValue:void 0}})})})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/Paywall/PaywallComponent",["core/AsyncManager","dataservices/types/ImagePurpose","dataservices/types/ImageSet","design/views/react/ReactPrimitives","design/views/react/FormButton/FormActionButtonComponent","design/views/react/Paywall/PaywallComponentStyles","ui/StyleSheet","ui/ViewModelFactory","lib/Promise","lib/react"],function(o,r,a,s,l,c,d,u,p,h){
var g=s.View,f=s.Image,m=s.Text,v=s.MarkdownText;return function(s){function _(i){e(this,_);var n=t(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,i));return n.state={readyToRender:!1},n}return i(_,s),n(_,[{key:"componentDidMount",value:function(){this._asyncManager=o.new();var e=this;this._asyncManager.runUntilDisposed("resolvePaywallModel",function(){var t=u.singleton.create("Paywall");return p.props({backgroundImageUrl:t.backgroundImageUrl,greeting:t.greetingLine,title:t.headline,description:t.body1,callsToAction:t.callsToAction,footer:t.footer}).then(function(t){t.landscapeBackgroundImageUrl=e._formatBackgroundImage(t.backgroundImageUrl,c.singleton.exports.landscapeImageDimension),t.squareBackgroundImageUrl=e._formatBackgroundImage(t.backgroundImageUrl,c.singleton.exports.squareImageDimension),t.readyToRender=!0,e.setState(t)})})}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_onCallToActionInvoked",value:function(e){this._raiseCallToActionInvoked(e.action,!1)}},{key:"_formatBackgroundImage",value:function(e,t){if(void 0===e)return e;var i=[];return i[r.BACKGROUND]=e,e=a.new(i).getImageUrl(r.BACKGROUND,t.width,t.height,!0,void 0,!1).uri}},{key:"_onHyperlinkInvoked",value:function(e){var t=this._raiseCallToActionInvoked(e.uri,e.isExternal);e.handled=t.handled}},{key:"_raiseCallToActionInvoked",value:function(e,t){var i={action:e,handled:!1,isExternal:t};return void 0!==this.props.callToActionInvoked&&this.props.callToActionInvoked(i),i}},{key:"render",value:function(){var e=this;if(!0!==this.state.readyToRender)return h.createElement(g,null);var t={},i=void 0;this.props.width<c.singleton.exports.cutoffWidth?(t.name="portrait",t.styleExports=c.singleton.exports.portrait,t.backgroundImageUrl=this.state.squareBackgroundImageUrl,i=!0):(t.name="landscape",t.styleExports=c.singleton.exports.landscape,t.backgroundImageUrl=this.state.landscapeBackgroundImageUrl,i=!1);var n=this.state,o=n.greeting,r=n.footer,a=void 0,s=void 0,u=void 0;void 0!==this.state.callsToAction&&(a=this.state.callsToAction.map(function(i,n){var o=d.flatten([t.styleExports[0===n?"paywallCtaButtonPrimary":"paywallCtaButtonSecondary"],{name:"paywallCtaButton"+n}]);return h.createElement(l,{key:i.action,text:i.title,defaultStyles:t.styleExports.paywallCtaButtonBase,style:o,invokeHandler:e._onCallToActionInvoked.bind(e,i)})})),void 0!==o&&""!==o&&(s=h.createElement(m,{style:t.styleExports.greeting},o)),void 0!==r&&""!==r&&(u=h.createElement(v,{style:t.styleExports.footer,eventHandlers:{hyperlinkInvoked:this._onHyperlinkInvoked.bind(this)}},r));var p=t.backgroundImageUrl&&h.createElement(f,{key:"backgroundImage",style:[t.styleExports.backgroundImage,{uri:t.backgroundImageUrl}]}),_=h.createElement(f,{key:"logoImage",style:t.styleExports.logoImage}),y=h.createElement(g,{key:"paywallContents",style:t.styleExports.paywallContent},s,h.createElement(m,{style:t.styleExports.title},this.state.title),h.createElement(v,{style:t.styleExports.description,eventHandlers:{hyperlinkInvoked:this._onHyperlinkInvoked.bind(this)}},this.state.description),a,u),w=void 0;return w=!0===i?[y,p,_]:[p,_,y],h.createElement(g,{key:"paywall"+t.name,style:[t.styleExports.paywall,{width:this.props.width,height:this.props.height}]},w)}}]),_}(h.Component)})}(),function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();define("design/views/react/CommerceClient/CommerceClientContainer",["core/AsyncManager","core/data/ModelFactory","dataservices/dependent/ProfileService","dataservices/types/ImagePurpose","dataservices/types/ImageSet","dataservices/types/PaywallAction","design/CommerceWorkflow","design/CommerceFlow","design/CommerceState","design/NavigationRouter","design/views/react/ReactPrimitives","design/views/react/CommerceClient/GiftCardEntryComponent","design/views/react/CommerceClient/PromotionEntryComponent","design/views/react/CommerceClient/CommerceClientInfoComponent","design/views/react/CommerceClient/PaymentMethodContainer","design/views/react/CommerceClient/CommerceClientStyles","design/views/react/Paywall/PaywallComponent","platform/dependent/Process","platform/dependent/graphics/Viewport","lib/Promise","lib/react","ui/Localization","ui/viewModelProviders/ViewModelProvider","ui/navigation/Navigator"],function(o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E){return function(I){function x(i){e(this,x);var n=t(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,i));n._flowConfig={},n._flowConfig[u.GIFTCARD]={loginUrl:"/gcloginbyflow",registerUrl:"/gcregisterbyflow"},n._flowConfig[u.PROMOTION]={loginUrl:"/promologinbyflow",registerUrl:"/promoregisterbyflow"},n._flowConfig[u.PURCHASE]={loginUrl:"/purchaseloginbyflow",registerUrl:"/purchaseregisterbyflow"};var o=E.singleton.getActiveViewHost().pageParams;return n.state={containerSize:n._getContainerSize(),commerceFlowFromNavigation:o.commerceFlow,commerceState:o.commerceState,commerceConfigParam:o.commerceConfigParam,commerceDisplayUri:o.displayUri},n._processingPurchase=!1,n}return i(x,I),n(x,[{key:"componentDidMount",value:function(){this._asyncManager=o.new(),this._asyncManager.hookUntilDisposed(S.singleton,"resized",this._onSizeChanged.bind(this)),this._asyncManager.hookUntilDisposed(d.singleton,"stateChanged",this._onWorkflowStateChanged.bind(this)),this._initialize()}},{key:"componentWillUnmount",value:function(){this._asyncManager.dispose(),this._asyncManager=void 0}},{key:"_initialize",value:function(){var e=this;this._asyncManager.runUntilDisposed("initialize",function(){return C.method(function(){return e.state.commerceState===p.NONE?e._startCommerceFlow(e.state.commerceFlowFromNavigation,e.state.commerceConfigParam,e.state.commerceDisplayUri):d.singleton.flow!==u.NONE?d.singleton.state===p.ERROR||d.singleton.state===p.CONFIRMATION?e._startCommerceFlow(d.singleton.flow,d.singleton.configParam,d.singleton.displayUri):e._processStateChange(d.singleton.state):(d.singleton.reset(),void h.singleton.navigateToUri("/",{replace:!0}))})()})}},{key:"_startCommerceFlow",value:function(e,t,i){var n=this,o=r.singleton.create("CommerceConfig",t);return C.props({found:o.found,commercePlanId:o.commercePlanId,purchaseType:o.purchaseType,flowConfig:o.flowConfig,entryPageConfig:o.entryPageConfig,registerConfig:o.registerConfig,signInConfig:o.signInConfig,returnPath:o.returnPath,errorConfig:o.errorConfig}).then(function(o){if(!0===o.found){if(void 0!==o.entryPageConfig){var r=[];r[s.BACKGROUND]=o.entryPageConfig.backgroundUrl;var a=l.new(r);o.entryPageConfig.backgroundUrl=a.getImageUrl(s.BACKGROUND,n.state.containerSize.width,n.state.containerSize.height,!0,void 0,!1).uri}return d.singleton.startFlow(e,o,t,i)}n.setState({readyToRender:!0,initializationError:o.errorConfig})})}},{key:"_onWorkflowStateChanged",value:function(e){var t=this;this._asyncManager.runUntilDisposed("processStateChange",function(){return t._processStateChange(e)})}},{key:"_processStateChange",value:function(e){var t={commerceState:e},i=void 0;switch(e){case p.ENTRY:case p.VALIDATION:t.readyToRender=!0;break;case p.REGISTRATION:t.readyToRender=!1,this._navigateToRegistration();break;case p.SIGNIN:t.readyToRender=!1,this._navigateToLogin();break;case p.AUTHENTICATED:t.readyToRender=!1,i=this._processAuthenticationSuccess();break;case p.ELIGIBILITY:t.readyToRender=!1,i=this._checkSubscriptionEligibility();break;case p.PAYWALL:case p.PAYMENT:t.readyToRender=!0;break;case p.SUBSCRIPTION:t.readyToRender=!0,i=this._purchaseSubscription();break;case p.ERROR:case p.CONFIRMATION:t.readyToRender=!0}return this.setState(t),i||C.fulfilled()}},{key:"_getContainerSize",value:function(){return{width:S.singleton.naturalWidth,height:S.singleton.naturalHeight}}},{key:"_onSizeChanged",value:function(){this.setState({containerSize:this._getContainerSize()})}},{key:"_onAuthenticatedPaywallCallToActionInvoked",value:function(e){if(e.action===c.PAYMENT)e.handled=!0,d.singleton.dismissPaywall();else if(!0===e.isExternal&&e.action.indexOf("/affiliateSelection")>-1)return e.handled=!0,d.singleton.processAffiliateSignIn().then(function(){b.singleton.navigateExternal(e.action,!1)})}},{key:"_onPurchaseEntryPageCallToActionInvoked",value:function(e){switch(e.action){case c.REGISTER:e.handled=!0,d.singleton.completePurchaseValidation(!1);break;case c.SIGNIN:e.handled=!0,d.singleton.completePurchaseValidation(!0)}}},{key:"_navigateToRegistration",value:function(){var e=this._flowConfig[d.singleton.flow].registerUrl;h.singleton.navigateToUri(e,{replace:!0})}},{key:"_navigateToLogin",value:function(){var e=this._flowConfig[d.singleton.flow].loginUrl;h.singleton.navigateToUri(e,{replace:!0})}},{key:"_processAuthenticationSuccess",value:function(){var e=r.singleton.create("User","User");return C.props({userId:e.userId,entitlementStatus:e.entitlementStatus}).then(function(e){return C.props({entitled:void 0!==e.entitlementStatus&&e.entitlementStatus.entitled}).then(function(t){d.singleton.setUserDetails(e.userId,t.entitled)})})}},{key:"_checkSubscriptionEligibility",value:function(){return a.singleton.checkSubscriptionEligibility(d.singleton.purchaseType,d.singleton.planId).then(function(e){if(!0===e.isEligible){var t;if(d.singleton.flow===u.PURCHASE){t=r.singleton.create("Paywall","Paywall").paywallType}else t=C.fulfilled(void 0);var i=r.singleton.create("User","User");return C.props({emailAddress:i.emailAddress,paywallType:t}).then(function(t){void 0!==e.paymentMethodDetails&&(e.paymentMethodDetails=P.substituteImmediate(e.paymentMethodDetails,{"{{email}}":t.emailAddress})),d.singleton.completeEligibilityCheck(e.paymentMethodDetails,t.paywallType)})}return d.singleton.showError(e.error)})}},{key:"_purchaseSubscription",value:function(){if(!0===this._processingPurchase)return C.fulfilled();this._processingPurchase=!0;var e=void 0;switch(d.singleton.flow){case u.GIFTCARD:e={redemptionCode:d.singleton.giftCardDetails.giftCardCode,giftCardAmount:d.singleton.giftCardDetails.giftCardAmount,currencyCode:d.singleton.giftCardDetails.currencyCode,zipCode:d.singleton.giftCardDetails.zipCode,geoUnit:d.singleton.giftCardDetails.geoUnit};break;case u.PROMOTION:e={redemptionCode:d.singleton.promotionDetails.promoCode}}var t=this;return a.singleton.purchaseSubscription({purchaseType:d.singleton.purchaseType,commercePlanId:d.singleton.planId,returnPath:d.singleton.returnPath,sessionId:d.singleton.commerceSessionId,additionalPurchaseDetails:e}).then(function(e){if(t._processingPurchase=!1,!0===e.success){var i=r.singleton.create("User","User");return C.props({firstName:i.firstName,emailAddress:i.emailAddress}).then(function(t){var i={};return i["{{email}}"]=t.emailAddress,i["{{firstName}}"]=t.firstName,void 0!==e.greeting&&(e.greeting=P.substituteImmediate(e.greeting,i)),e.description=P.substituteImmediate(e.description,i),d.singleton.completeSubscription(e)})}return d.singleton.showError(e)})}},{key:"render",value:function(){var e=g.View;if(!0!==this.state.readyToRender)return T.createElement(e,null);var t=g.Image,i=y.singleton.exports,n=void 0,o=void 0,r=void 0;if(void 0!==this.state.initializationError)o=T.createElement(v,{title:this.state.initializationError.title,description:this.state.initializationError.description,buttonText:this.state.initializationError.cta&&this.state.initializationError.cta.title,exitUrl:this.state.initializationError.cta&&this.state.initializationError.cta.action});else switch(this.state.commerceState){case p.ENTRY:case p.VALIDATION:switch(d.singleton.flow!==u.PROMOTION&&d.singleton.flow!==u.GIFTCARD||(n=T.createElement(t,{key:"backgroundImage",style:[i.backgroundImage,{uri:d.singleton.entryDetails.backgroundUrl}]})),d.singleton.flow){case u.PROMOTION:o=T.createElement(m,{commerceConfigParam:this.state.commerceConfigParam,promoCode:d.singleton.promotionDetails&&d.singleton.promotionDetails.promoCode,promoId:d.singleton.planId,title:d.singleton.entryDetails.title,description:d.singleton.entryDetails.description,terms:d.singleton.entryDetails.terms,cta:d.singleton.entryDetails.cta});break;case u.GIFTCARD:o=T.createElement(f,{giftCardCode:d.singleton.giftCardDetails&&d.singleton.giftCardDetails.giftCardCode,title:d.singleton.entryDetails.title,description:d.singleton.entryDetails.description,terms:d.singleton.entryDetails.terms,geoUnits:d.singleton.entryDetails.geoUnits,cta:d.singleton.entryDetails.cta});break;case u.PURCHASE:r=T.createElement(w,{width:this.state.containerSize.width,height:this.state.containerSize.height,callToActionInvoked:this._onPurchaseEntryPageCallToActionInvoked.bind(this)})}break;case p.PAYWALL:r=T.createElement(w,{width:this.state.containerSize.width,height:this.state.containerSize.height,callToActionInvoked:this._onAuthenticatedPaywallCallToActionInvoked.bind(this)});break;case p.PAYMENT:o=T.createElement(_,{paymentMethodDetails:d.singleton.paymentMethodDetails});break;case p.ERROR:o=T.createElement(v,{title:d.singleton.errorDetails.title,description:d.singleton.errorDetails.description,buttonText:d.singleton.errorDetails.cta&&d.singleton.errorDetails.cta.title,exitUrl:d.singleton.errorDetails.cta&&d.singleton.errorDetails.cta.action});break;case p.CONFIRMATION:o=T.createElement(v,{greeting:d.singleton.confirmationDetails.greeting,title:d.singleton.confirmationDetails.title,description:d.singleton.confirmationDetails.description,buttonText:d.singleton.confirmationDetails.cta&&d.singleton.confirmationDetails.cta.title,exitUrl:d.singleton.confirmationDetails.cta&&d.singleton.confirmationDetails.cta.action});break;case p.SUBSCRIPTION:switch(d.singleton.flow){case u.PROMOTION:case u.PURCHASE:o=T.createElement(_,{paymentMethodDetails:d.singleton.paymentMethodDetails});break;case u.GIFTCARD:o=T.createElement(v,{title:R.singleton.getResource("ResGiftCardOneMoment"),description:R.singleton.getResource("ResGiftRedeeming")})}}if(void 0!==r)return T.createElement(e,{key:"commerceClientContainer",style:[i.commerceClientContainer,this.state.containerSize]},r);var a=this.state.containerSize.width>=i.marginCutoffWidth?i.contentContainer:i.lowMarginContentContainer;return T.createElement(e,{key:"commerceClientContainer",style:[i.commerceClientContainer,this.state.containerSize]},n,T.createElement(e,{key:"contentContainer",style:a},T.createElement(t,{key:"logoImage",style:i.logoImage}),o))}}]),x}(T.Component)})}(),function(){"use strict";define("design/templates/CommerceContainerViewHostTemplates",["core/oop","design/templates/TemplatesModule","design/templates/CommerceClientViewHostTemplates","design/templates/ViewTemplates","design/views/react/CommerceClient/CommerceClientContainer"],function(e,t,i,n,o){return e.classDef("design.templates.CommerceContainerViewHostTemplates",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_configure:function(){this.registered.CommerceContainerViewHost=this},_setLazyTemplateDefs:function(){var e=n.singleton.exports,t=i.singleton.exports,r={$extend:t.CommerceClientViewHostRegistrations,form:{$extend:e.ViewRegistration,layer:"content",order:t.subViewRegistrationOrder++,template:{$extend:e.ReactHostView,reactComponentType:o}}};this.registered.CommerceContainerViewHost={$extend:t.CommerceClientViewHost,viewRegistrations:r}}})})})}(),function(){"use strict";define("configuration/TemplateManagerConfig",["core/oop","configuration/TemplateManagerConfigBase","configuration/ITemplateManagerConfig","design/templates/CommerceContainerViewHostTemplates","design/templates/CommerceClientViewHostTemplates","ui/TemplateManager"],function(e,t,i,n,o,r){return e.classDef("configuration.TemplateManagerConfig",[t,i],function(){e.staticScope(function(){e.methods({configure:function(){t.configureCommon(),[n,o].forEach(function(e){r.singleton.register(e.singleton.registered)})}})})})})}(),function(){"use strict";define("configuration/data/strings",[],function(){return{ResEmpty:"",ResSpaceChar:" ",ResHBOGO:"HBO GO",ResMAXGO:"MAX GO",ResHBONOW:"HBO NOW",ResBrand:{hbogo:"$t(ResHBOGO)",hbonow:"$t(ResHBONOW)",maxgo:"$t(ResMAXGO)"},ResHomeBoxOffice:"Home Box Office",ResWebsite:{hbogo:"HBOGO.com",hbonow:"HBONOW.com",maxgo:"MAXGO.com"},ResA11yWebsite:{default:{hbogo:"HBOGO.com",hbonow:"HBONOW.com",maxgo:"MAXGO.com"},androidtv:{hbogo:"H,B,O, GO.com",hbonow:"H,B,O, NOW.com",maxgo:"MAX GO.com"}},ResClient:{default:"Xbox One",androidtv:"your device",appletv:"Apple TV",appletvdemo:"Apple TV",ps4:"PS4",desktop:"browser",tizentv:"Samsung TV"},ResClientShort:{default:"Xbox One",androidtv:"device",appletv:"Apple TV",appletvdemo:"Apple TV",ps4:"PS4",desktop:"browser",tizentv:"Samsung TV"},ResClientConsole:{default:"$t(ResClient) console",androidtv:"device",appletv:"Apple TV",appletvdemo:"Apple TV",ps4:"Sony PlayStation 4",desktop:"browser",tizentv:"Samsung TV"},ResPlatformTitle:{default:"Xbox Live",androidtv:"$t(ResEmpty)",appletv:"$t(ResEmpty)",appletvdemo:"$t(ResEmpty)",ps4:"PSN",desktop:"$t(ResEmpty)",tizentv:"$t(ResEmpty)"},ResA11ySeriesTitle:"{{series}}:",ResA11ySeason:"Season {{number}}:",ResA11yEpisode:"Episode {{number}}:",ResA11yTitle:"{{title}}.",ResA11yRated:"Rated {{rating}}.",ResA11yDuration:"{{duration}}.",ResA11yPlayCommand:"Play {{label}}",ResA11yWatchlistAdd:"Add to my list",ResA11yWatchlistRemove:"Remove from my list",ResA11yWatchlistSeriesAdd:"Add series to my list",ResA11yWatchlistSeriesRemove:"Remove series from my list",ResA11yMenu:"Menu",ResA11yPlay:"Play",ResA11yPlayTitle:"Play {{title}}",ResA11yPlayAt:"Play at {{time}}",ResA11yContinueWatchingLastPlayed:"Continue watching {{assetTitle}}",ResA11yTimeHoursMinutesSeconds:"{{hours}}, {{minutes}}, {{seconds}}",ResA11yTimeMinutesSeconds:"{{minutes}}, {{seconds}}",ResA11yPrependSpace:" {{text}}",ResA11yPrependPeriod:". {{text}}",ResActivate:"Activate",ResActivatedBy:{hbogo:{default:"Activated by: ",appletv:"Signed in as: "},hbonow:"Signed in as: "},ResSignedInAnonymous:"You’re signed in",ResActivateDevice:{hbogo:{default:"Activate Now",appletv:"Sign In"},hbonow:"Sign In"},ResActivatedOn:{hbogo:{default:"Activated on: ",appletv:"INTERNAL ERROR: this message must not show up"},hbonow:"$t(ResEmpty)"},ResActivationContent:{default:"When activation is complete, you’ll be taken to a new page. This can take up to 30 seconds.",appletv:"Once you’re signed in, you’ll see a new page. This can take up to 30 seconds."},ResActivationUrl:{hbogo:"tvsignin",hbonow:"tvcode"},ResA11yActivationUrl:{hbogo:"TV sign in",hbonow:"tvcode"},ResCreateAccountActivationHeader:"Create an account to stream on more devices",ResSignInActivationHeader:"Sign in using your phone or computer",ResCreateAccountActivationInstructions:"Go to [$t(ResWebsite)/$t(ResActivationUrl)](strong) on your phone or computer and enter this code:",ResCreateAccountA11yActivationInstructions:"Go to $t(ResA11yWebsite)/$t(ResA11yActivationUrl) on your phone or computer and enter this code:",ResSignInActivationInstructions:"Go to [$t(ResWebsite)/$t(ResActivationUrl)](strong) and enter this code:",ResSignInA11yActivationInstructions:"Go to $t(ResA11yWebsite)/$t(ResA11yActivationUrl) and enter this code:",ResCreateAccountActivationDetails:"Stay on this screen while you create your account on your phone or computer.",ResSignInActivationDetails:"Stay on this screen while you sign in on your phone or computer.",ResActivationSuccessfulExclamation:{default:"Activation Successful",appletv:"You’re ready to go!"},ResActivationEntryHeader:"Enter Code",ResActivationEntryInputHeader:"Code",ResActivationEntryInstructions:"Enter the code that appears on your TV.",ResActivationEntrySubmit:"Submit Code",ResActivationSuccessHeader:"All Done!",ResActivationRegisterSuccessHeader:"Almost There!",ResActivationRestoreSuccessHeader:"Almost Done",ResOauthCodeRedirectHeader:"Last Step",ResOauthCodeRedirectSubHeader:"Tap the button to complete the link.",ResOauthCodeButtonText:"Link Account",ResActivationSuccessSubHeader:"You’re ready to watch $t(ResBrand) on your TV.",ResActivationRegisterSuccessSubHeader:"Ready to watch original shows, hit movies and more?\n\nGo back to your TV and finish signing up.",ResActivationRestoreSuccessSubHeader:"Go back to your TV and subscribe to $t(ResBrand).",ResActivationCodeAlreadyTaken:"Incorrect code. Go back to your TV and get the code again.",ResActivationCodeIncorrectOrExpired:"Sorry, the code expired or is incorrect. Go back to your TV and get the code again.",ResActivationCodeUnknownError:"Oops, something went wrong. Please try again later.",ResArtist:{default:"Artist",tv:"[Artist](title) {{artist}}"},ResUnsupportedDeviceErrorHeader:"Device Not Supported",ResUnsupportedDeviceErrorBody:"Sorry, your TV provider doesn’t support $t(ResBrand) on this device.",ResAvailableUntilWithSpacing:{default:"Available Until: ",univ:"Available until {{date}}"},ResBack:"Back",ResNext:"Next",ResPrevious:"Previous",ResFastForward:"Fast Forward",ResRewind:"Rewind",ResFaster:"Faster",ResBackspace:"Backspace",ResCancel:"Cancel",ResCancelAlternate:"Never mind",ResCast:{default:"Cast & Crew",univ:"CAST & CREW"},ResGuests:{default:"Guests",univ:"GUESTS"},ResClear:"Clear",ResDone:"Done",ResEdit:"Edit",ResClosedCaptioningSettings:"Closed Captioning",ResCollections:"Collections",ResLatest:"Latest",ResVideoCount:"{{count}} videos",ResSingleVideoCount:"1 video",ResParentalControlsViewTitle:"Parental Controls",ResSignInText:"Sign in",ResSignIn:"Sign In",ResSignInToBrand:"Sign in to $t(ResBrand)",ResSignOut:"Sign Out",ResComedy:"Comedy",ResComposer:{default:"Composer",tv:"[Composer](title) {{composer}}"},ResContinue:"Continue",ResContinueWatchingTitle:"Continue Watching",ResContinueWatchingCaps:"CONTINUE WATCHING",ResContinueWatchingToastTitle:"CONTINUE WATCHING {{timeRemaining}}",ResContinueWatchingSettings:"Continue Watching",ResClearContinueWatching:"Clear Continue Watching",ResCloseContinueWatchingToast:"Continue watching close",ResContinueWatchingFullEpisodeName:"{{series}} [{{episode}}](episodeFormat)",ResContinueWatchingDescription:"Quickly access shows and movies you haven’t finished watching:",ResClearContinueWatchingSuccess:"Continue Watching cleared successfully.",ResChromeCastListTitle:"CONNECT TO:",ResChromeCastNoInteractiveMessage:"Interactive content unavailable while casting",ResChromecastReadyMessage:"Ready to cast videos from this app",ResChromecastDisconnectButton:"DISCONNECT",ResChromecastStatusBuffering:"Buffering on {{receiver}}",ResChromecastStatusEnded:"Finished playing on {{receiver}}",ResChromecastStatusError:"Casting to {{receiver}}",ResChromecastStatusLoading:"Loading on {{receiver}}",ResChromecastStatusPaused:"Paused on {{receiver}}",ResChromecastStatusPlaying:"Playing on {{receiver}}",ResChromecastStatusSeeking:"Buffering on {{receiver}}",ResChromecastStatusUnknown:"Casting to {{receiver}}",ResChromecastUnknownTitle:"Unknown",ResChromecastUnknownReceiver:"unknown receiver",ResAirPlayTitle:"AirPlay",ResAirPlayMessage:"This video is playing on {{deviceName}}.",ResAirPlayMessageDeviceUnknown:"Streaming video to another display.",ResAirPlayNoInteractiveMessage:"Interactive content unavailable with AirPlay",ResDeactivateDevice:"Sign Out",ResDeactivateDeviceConfirm:"$t(ResYes)",ResDeactivateDeviceDeny:"$t(ResNo)",ResSettingsDeactivateDevice:"Sign Out Now",ResSettingsGotoToAppleTVSettings:"Change Settings",ResDeactivationInfo:"Signing out of $t(ResBrand) will unlink your {{deviceName}} from $t(ResBrand). You can sign in again anytime.",ResSSOSignoutTitle:{default:"INTERNAL ERROR: ResSSOSignoutTitle is only valid for iOS and tvOS devices!",mobile:"Change Your iOS Settings"},ResSSOSignoutInfo:{default:"INTERNAL ERROR: ResSSOSignoutInfo is only valid for iOS and tvOS devices!",mobile:"To sign out, choose TV Provider and then turn off access for $t(ResBrand).",appletv:"You’re signed in with {{providerName}} in Apple TV Settings\n\nTo sign out, change TV Provider to Never.\n\nYou can also go to Settings > Accounts > TV Provider on your Apple TV."},ResDeactivateConfirm:"Are you sure you want to sign out?",ResDeactivateSuccessTitle:"You’re Signed Out",ResDeactivateSuccessBody:"Sign in again anytime.",ResDirectors:{default:"Directors",univ:"DIRECTORS"},ResDocumentaries:"Documentaries",ResDeveloperSettings:"Developer Settings",ResDeveloperSettingsDescription:"These settings will not be available to end users and are intended only to help in testing and development",ResEnvironmentMenu:"Environment",ResLocaleOverrideMenu:"Locale Override",ResComponentTesting:"Component Testing",ResComponentLab:"Component Lab",ResEpisodeNumDot:"Ep {{number}}: ",ResEpisodeNumberPrefixLabel:{default:"Ep {{number}} ",mobile:"Ep {{number}}   "},ResEpisodes:"Episodes",ResGiveUpTitle:"Can’t Connect to $t(ResBrand)",ResGiveUpInfo:"We’re having trouble connecting to the $t(ResBrand) service. Please check your Internet connection or try again later.",ResError:"Error",ResErrorMessageDefault:{default:"An error has occurred. $t(ResBrand) will now restart.",desktop:"An error has occurred. Try refreshing the page or navigating to another page."},ResErrorServiceTraceId:"Service Code: {{traceId}}",ResErrorUnknownServiceTraceId:"UNKNOWN",ResErrorAuthenticationTitle:{hbogo:"Signed Out",hbonow:"Can’t Verify Your Subscription"},ResErrorAuthenticationMessage:{hbogo:"We’re having trouble verifying your access to $t(ResBrand) with your TV provider.\n\nIf you continue to have this issue, contact your TV provider for assistance.",hbonow:"We’re having trouble verifying your $t(ResBrand) subscription. If you continue to have this issue, contact your subscription provider or renew your $t(ResBrand) subscription."},ResErrorAffiliateAuthenticationTitle:{hbogo:"Signed Out",hbonow:"Access Error"},ResErrorAffiliateAuthenticationMessage:{hbogo:"We’re having trouble verifying your access to $t(ResBrand) with your TV provider.\n\n{{affilateMessage}}",hbonow:"{{affilateMessage}}"},ResErrorContentUnavailableTitle:"Content Not Available",ResErrorContentUnavailableMessage:"The item you requested is not currently available.",ResVideoPCLocked:"Video Locked",ResVideoPCPrompt:"This video is restricted by parental controls.",ResVideoPCVisit:"To update your settings, go to [Parental Controls](a).",ResErrorContentRestrictedMessage:{hbogo:"This item is restricted by the parental controls for your {{affiliateName}} account. Check your {{affiliateName}} settings or contact {{affiliateName}} for more information.",hbonow:"This video is restricted by parental controls. To update your settings, go to Settings > Parental Controls."},ResPlayLockedTitle:{default:"Parental Controls",daydream:"Video Locked"},ResPlayLockedPlatformDescription:{default:"$t(ResEmpty)",mobile:"This video is restricted by parental controls on this device.\n\nTo learn more, go to your iOS Settings and search for Restrictions",tv:"This item is restricted by parental controls for your $t(ResPlatformTitle) account. To learn more, go to Settings > Parental Controls.",appletv:"This item is restricted by parental controls for your $t(ResClientConsole). To learn more, go to Settings > Parental Controls.",androidtv:"$t(ResEmpty)",ps4:"$t(ResEmpty)",daydream:"This video is restricted by parental controls. To watch this video, change your settings on this device."},ResPlayLockedServiceDescription:"This item is restricted by the parental controls for your account. To learn more, go to Settings > Parental Controls.",ResErrorStreamTrackingMessage:"You’re streaming $t(ResBrand) on too many devices simultaneously. To continue, stop streaming $t(ResBrand) on another device.",ResErrorInvalidSessionTitle:"Session Expired",ResErrorInvalidSessionMessage:{default:"Your session has expired. Please reactivate $t(ResBrand) on your $t(ResClientShort).",appletv:"Your session has expired. Please sign in again.",univ:"Your session has expired. Please sign in again."},ResErrorNetworkTitle:"Network Error",ResErrorNetworkMessage:{default:"We’re having issues connecting to $t(ResBrand) right now. Please check your internet connection and try again. $t(ResBrand) will now restart.",desktop:"We’re having issues connecting to $t(ResBrand) right now. Please check your internet connection and try again."},ResErrorExpiredSessionTitle:"Link Expired",ResErrorExpiredSessionMessage:"Sorry, the link has expired.",ResErrorServiceTitle:"Service Error",ResErrorServiceMessage:{default:"An error has occurred. $t(ResBrand) will now restart.",desktop:"An error has occurred. Please try again in a few minutes."},ResErrorServiceWithMessage:{default:"$t(ResBrand) is temporarily unavailable. $t(ResBrand) will now restart.\n\n{{serviceMessage}}",desktop:"$t(ResBrand) is temporarily unavailable.\n\n{{serviceMessage}}"},ResErrorUnavailable:"Sorry, this info is temporarily unavailable. Please try again later.",ResErrorPlaybackTitle:"Can’t Play Video",ResErrorPlaybackMessage:"We’re having trouble playing this video. Please try again later.",ResGeoProviderString:{hbogo:"TV provider",hbonow:"Internet service provider"},ResGeoBlockTitle:"Not in Service Area",ResGeoBlockBody:{default:"$t(ResBrand) is accessible only in the U.S. and certain U.S. territories.\n\nIf you’re located in one of these areas and experiencing difficulties, contact your $t(ResGeoProviderString).\n\nFor more help, go to: [itsh.bo/service-area](geoBlockHelpLink)",mobile:"$t(ResBrand) is accessible only in the U.S. and certain U.S. territories.\n\nIf you’re located in one of these areas and experiencing difficulties, contact your $t(ResGeoProviderString) for assistance.",daydream:"$t(ResBrand) is accessible only in the U.S. and certain U.S. territories.\n\nIf you’re located in one of these areas and experiencing difficulties, contact your $t(ResGeoProviderString)."},ResClientVersionNotSupportedTitle:{default:"Unsupported Version",mobile:"New Version Available",desktop:"Website Updated"},ResClientVersionNotSupportedBody:{default:"Please update $t(ResBrand) to the latest version available on $t(ResClient).",mobile:"We’ve made some great updates to $t(ResBrand). Please update to the latest version.",desktop:"We’ve made some great updates to $t(ResWebsite). Please refresh the page to continue."},ResErrorSubscriptionExpiredTitle:{hbogo:"Something Went Wrong",hbonow:"Your Subscription Has Expired"},ResErrorSubscriptionExpiredMessage:{hbogo:"We’re having trouble verifying your access to $t(ResBrand). Please contact your TV provider.",hbonow:"To renew, open the $t(ResBrand) app and choose Renew Your Subscription."},ResErrorActivationTitle:"Activation Error",ResErrorActivationMessage:"Activation failed. Please try again later.",ResDetailViewLoadFailed:"Page failed to load.",ResErrorStreamTrackingTitle:"Can’t Play Video",ResErrorHDCPTitle:"HDCP Error",ResErrorHDCPMessage:"Check your HDMI connections.",ResPlayerLanguageLabel:"LANGUAGE",ResPlayerCCLabel:"CLOSED CAPTIONING",ResControl:"Control",ResResetToDefaultSettings:"Reset to Default Settings",ResEnabled:"ON",ResDisabled:"OFF",ResCaptionsEnabled:"Captions On",ResCaptionsDisabled:"Captions Off",ResENG:"ENGLISH",ResSPN:"ESPAÑOL",ResEnglish:"English",ResSpanish:"Español",ResEditorialPlaylist:"More {{playlistTitle}}",ResCatalogPlaylist:"More From {{playlistTitle}}",ResExtras:{default:"Extras",univ:"EXTRAS"},ResCastAndCrew:"Cast & Crew",ResMoreEpisodes:"More Episodes",ResFaqMenu:"Help",ResFamily:"Family",ResKids:"Kids",ResHelp:"Help",
ResFivePointOne:"5.1",ResHD:"HD",ResHome:"Home",ResKeyboardItems:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,0,1,2,3,4,5,6,7,8,9",ResLanguage:"Language",ResLateNight:"Late Night",ResLegal:"Privacy & Terms",ResLegalCTA:"See Full {{legalText}}",ResFeatured:"Featured",ResMovies:"Movies",ResMusic:{default:"Music",univ:"MUSIC"},ResMusicBy:{default:"Music by",tv:"[Music by](title) {{musicBy}}"},ResNeedAuthenticationTitle:{default:"Get HBO on $t(ResClient)",appletv:"Sign in to Watch HBO"},ResNeedAuthenticationDescription:{default:"Link $t(ResClient) to your $t(ResBrand) account for unlimited access to all your favorite HBO shows, hit movies, sports, comedy and more.",appletv:"Don’t have HBO? Contact your TV provider to order HBO."},ResNoAccountDaydream:{hbogo:"DON’T HAVE HBO?",hbonow:"DON’T HAVE HBO NOW?"},ResNoAccount:{default:"Not an HBO Subscriber?",appletv:"Don’t have HBO?",daydream:"$t(ResNoAccountDaydream)"},ResGetStarted:"Get Started",ResWelcome:"Welcome",ResNowPlaying:"Now Playing",ResLearnMore:"Learn More",ResFindOutHow:"Find out how",ResNoAccountBodyDaydream:{hbogo:"Contact your TV provider to order HBO.",hbonow:"$t(ResEmpty)"},ResNoAccountBody:{default:"Contact your TV provider to subscribe to HBO. Access to $t(ResBrand) is free with your subscription. If you’re already a subscriber, activate $t(ResBrand) on your $t(ResClientShort).",appletv:"Contact your TV provider to order HBO. HBO GO is free with your HBO subscription. If you already have HBO, sign in to HBO GO on your Apple TV.",mobile:"Contact your TV provider to order HBO.",daydream:"$t(ResNoAccountBodyDaydream)"},ResNoAccountTitle:{default:"Unlimited access to hundreds of titles, free with your HBO subscription.",appletv:"Get unlimited access to all of HBO"},ResParentalControls:"Parental Controls",ResPCDialogTitle:"Attention Parents",ResPCDialogPrefix:"You can control which shows are watched based on ratings. Right now, your settings are:",ResPCDialogPostfixDesktop:"Do you want to change your parental control settings?",ResPCDialogChangeSettings:"Change Settings",ResPCDialogPostfix:"To change your parental control settings, visit:",ResPCDialogPostfixNoUrl:"To change your parental control settings,\ngo to your TV provider account.",ResPCMoviesLabel:"Movies:",ResPCTVLabel:"TV:",ResPCDialogNoThanks:"No Thanks",ResPauseCommand:"Pause",ResStopCommand:"Stop",ResPin:"Pin",ResPinSeries:"Pin Series",ResPlayCommand:"Play",ResPreferences:"Preferences",ResPreview:{default:"Preview",univ:"PREVIEW"},ResPrivacyPolicy:"Privacy Policy",ResProducers:{default:"Producers",univ:"PRODUCERS"},ResConfirmTitle:"Are you sure?",ResOk:"OK",ResPlayAll:"Play All",ResRetry:"Retry",ResRestart:"Restart",ResReactivate:{default:"Reactivate",appletv:"Sign In"},ResSearch:"Search",ResSearchNoResults:"No results found.",ResSearchResultCount:"{{count}} result",ResSearchResultsCount:"{{count}} results",ResSettings:"Settings",ResSeries:"Series",ResSpace:"Space",ResSports:"Sports",ResSeason:"Season",ResSeasonNumberShort:"Sn {{season}}",ResEpisodeNumberShort:"Ep {{episode}}",ResEpisodeNumberLong:"Episode {{episode}}",ResSeasonAndEpisodeShort:"{{season}} Ep {{episode}}",ResSeasonAndEpisodeLong:"{{season}} Episode {{episode}}",ResEpisodeShortTitle:"Ep {{episode}}: {{title}}",ResFormattedEpisodeShortTitle:"[Ep {{episode}}:](gray) {{title}}",ResEpisodeTitleNoNumber:"{{title}}",ResSeasonEpisodeShortTitle:"{{season}} Ep {{episode}}: {{title}}",ResSeriesSeasonTitle:"{{series}} Season {{number}}",ResSeasonNumEpisodeNumShort:"Sn {{seasonNum}} Ep {{episodeNum}}: ",ResTermsOfService:"Terms of Service",ResTV:"TV",ResPlayerFullTitle:"Episode {{episode}} - {{title}}",ResPlaylistTitleCount:"{{index}} of {{count}}",ResUnpin:"Unpin",ResUnpinSeries:"Unpin Series",ResChooseAnotherAffiliateLink:{default:"Choose another provider",mobile:"Choose Provider"},ResWriters:{default:"Writers",univ:"WRITERS"},ResWatchlistTitle:"My List",ResWatchlistEmpty:"Create a list of what you want to watch.",ResWatchlistEmptyA11yText:"My List. Create a list of what you want to watch.",ResAddToWatchlist:{default:"Add to My List",desktop:"ADD"},ResRemoveFromWatchlist:{default:"Remove from My List",desktop:"REMOVE"},ResSeriesToWatchlist:"Series to My List",ResSeriesFromWatchlist:"Series from My List",ResAddSeriesToWatchlist:{default:"Add Series to My List",desktop:"Add Series"},ResRemoveSeriesFromWatchlist:{default:"Remove Series from My List",desktop:"Remove Series"},ResVideoUnavailableInDemo:"Sorry, this video isn’t available in this demo.",ResDaydreamHelp:"Need help? Go to [help.$t(ResWebsite)](h)",ResYear:"{{year}}",ResDays:"Days",ResHours:"Hours",ResCCSectionFont:"Font",ResCCSectionFontColor:"Font Color",ResCCSectionFontSize:"Font Size",ResCCSectionFontOpacity:"Font Opacity",ResCCSectionFontStyle:"Style",ResCCSectionBackgroundColor:"Background Color",ResCCSectionBackgroundOpacity:"Background Opacity",ResCCSectionWindowColor:"Window Color",ResCCSectionWindowOpacity:"Window Opacity",ResCCFont_MONO_SERIF:"Type",ResCCFont_SERIF:"Serif",ResCCFont_MONO_SANS_SERIF:"Monospaced",ResCCFont_SANS_SERIF:"Sans Serif",ResCCFont_CASUAL:"Casual",ResCCFont_SCRIPT:"Script",ResCCFont_SMALL_CAPS:"Small Caps",ResCCColor_WHITE:"White",ResCCColor_BLACK:"Black",ResCCColor_RED:"Red",ResCCColor_GREEN:"Green",ResCCColor_BLUE:"Blue",ResCCColor_YELLOW:"Yellow",ResCCColor_MAGENTA:"Magenta",ResCCColor_CYAN:"Cyan",ResCCStyle_NONE:"None",ResCCStyle_RAISED:"Raised",ResCCStyle_DEPRESSED:"Depressed",ResCCStyle_UNIFORM:"Uniform",ResCCStyle_DROP_SHADOW:"Drop Shadow",ResCCOpacity_OPAQUE:"100%",ResCCOpacity_TRANSLUCENT:"75%",ResCCOpacity_SEMITRANSPARENT:"25%",ResCCOpacity_TRANSPARENT:"0%",ResCCSize_EXTRA_LARGE:"Extra Large",ResCCSize_LARGE:"Large",ResCCSize_MEDIUM:"Medium",ResCCSize_SMALL:"Small",ResCCSize_TINY:"Tiny",ResVersionInfo:"Info",ResVersion:"Version",ResBuild:"Build",ResRegion:"Region",ResSession:"Session",ResPlatform:"Platform",ResDeviceSN:"Device Serial Number",ResDeviceName:"Device Name",ResDeviceOSVersion:"Device OS Version",ResDeviceManufacturer:"Device Manufacturer",ResDeviceBrand:"Device Brand",ResDeviceModel:"Device Model",ResShellVersion:"Shell Version",ResCurrentTime:"Current Time (UTC)",ResA11yG:"G",ResA11yPG:"PG",ResA11yPG13:"PG 13",ResA11yR:"R",ResA11yNC17:"NC 17",ResA11yNR:"Not Rated",ResA11yUNKNOWN:"Not Rated",ResA11yTVY:"TV Y",ResA11yTVY7:"TV Y7",ResA11yTVG:"TV G",ResA11yTVPG:"TV PG",ResA11yTV14:"TV 14",ResA11yTVMA:"TV MA",ResA11yTVNR:"Not Rated",ResA11yTVUNKNOWN:"Not Rated",ResA11yNONE:"Not Allowed",ResA11yChromeCastButtonTitle:"Chromecast",ResA11yKidsLockButton:"Kids lock",ResA11yPip:"Picture in picture",ResA11yZoomIn:"Zoom in",ResA11yZoomOut:"Zoom out",ResA11yClosedCaptionButton:"Closed captions",ResA11yInteractiveButton:"Interactive content",ResA11yTimelineSlider:"Timeline slider",ResA11yPresentTransportControls:"double tap for player controls",ResA11yClosedCaptionsSwitch:"closed captioning switch",ResA11yToggleOff:"toggle is off",ResA11yToggleOn:"toggle is on",ResA11yClosedCaptionsSettingButton:"{{header}}, {{button}}",ResPlayLiveSessionTitle:"Live Event",ResPlayLiveSessionDescription:"Player controls are limited for live events.",ResJoinLiveInProgress:"Join in progress",ResLiveNow:"Live Now",ResLiveDayAtTime:"Live | {{dayAtTime}}",ResWatchDayAtTime:"Watch {{dayAtTime}}",ResDateAtTime:"{{date}} at {{time}}",ResTodayAtTime:"today at {{time}}",ResTonightAtTime:"tonight at {{time}}",ResTomorrowAtTime:"tomorrow at {{time}}",ResDOWAtTime:"{{dayOfWeek}} at {{time}}",ResLiveNotAvailable:"This video isn’t available yet.\nPlease come back later.",ResWatchFromBeginning:"Watch from beginning",ResShow:"Show",ResHide:"Hide",ResShowPW:"Show Password",ResHidePW:"Hide Password",ResOn:"On",ResOff:"Off",ResAddToWatchlistIcon:"+",ResRemoveFromWatchlistIcon:"-",ResExplore:"EXPLORE",ResArtistWithSpacing:"Artist: {{artistName}}",ResCaptions:"Captions",ResClosedCaptions:"Closed Captions",ResClosedCaptionsSettings:"Closed Captions Settings",ResTryAgain:"Try again",ResForgotPasswordWithQuestion:"Forgot password?",ResForgotPassword:"Forgot Password",ResWarningCaptionsUnavailable:"Closed captioning is unavailable for this video.",ResWarningHDCPFallbackMessage:"Video or audio quality is reduced due to an HDCP issue.",ResErrorHDCPSetupMessage:"An HDCP issue was detected with your device setup.",ResErrorNetworkWhilePlaying:"We’re having trouble playing this video. Please check your Internet connection or try again later.",ResErrorAutoplayDisabled:"You need to change your Safari auto-play setting for this website.",ResErrorPrivateBrowsing:"Make sure your browser is not in private browsing mode.",ResErrorPlayerErrorTitle:"Can’t Play Video",ResErrorPlaybackFlashMessage:"The latest Adobe Flash Player must be installed and enabled in your browser.",ResErrorPlaybackFlashSubMessage:"To download Flash Player, visit",ResErrorPlaybackFlashLinkText:"get.adobe.com/flashplayer",ResMoreFranchiseCategoryHeader:"More {{franchiseName}}",ResCaptionsSettings:"Settings",ResClearAll:"Clear all",ResAffiliateSelectionTitle:{hbogo:"Choose your TV provider, sign in, and enjoy $t(ResBrand).",hbonow:"Who did you subscribe through?"},ResAffiliateLoginTitle:{hbogo:"Sign In With Your TV Provider to Access $t(ResBrand).",hbonow:"Select Your Provider"},ResAllAffiliatesTitle:"All Providers",ResSeeAllAffiliates:"See All Providers",ResViewMoreProviders:"View More Providers",ResAffiliatesFooterTitle:"Don’t see your provider?",ResAffiliatesFooterSubTitle:"We’re constantly adding new TV providers, so check back with us soon to see if we’ve added yours to our list.",ResAffiliatesOrderHBO:"Don’t have HBO? Order it Today",ResAffiliateSelectionHeader:"Select Your Provider",ResAffiliateSelectionDropDownPrompt:"Select your provider",ResAlreadyLoggedIn:"You are already signed in.",ResComposerWithSpacing:"Composer: {{composer}}",ResContinueWatchingSetting:"Turn On Continue Watching",ResContinueWatchingEmpty:"You have no videos in progress.",ResContinueWatchingEmptyA11yText:"Continue Watching. You have no videos in progress.",ResContinueWatchingDisabled:{hbogo:{default:"Turn on Continue Watching to track videos you are watching.",mobile:"To track videos you are watching, turn on Continue Watching in Settings > Video Playback.",daydream:"$t(ResEmpty)"},hbonow:"$t(ResContinueWatchingEmpty)"},ResContinueWatchingDisabledA11yText:{hbogo:{default:"Continue Watching. Turn on Continue Watching to track videos you are watching.",mobile:"Continue Watching. To track videos you are watching, turn on Continue Watching in Settings > Video Playback.",daydream:"$t(ResEmpty)"},hbonow:"$t(ResContinueWatchingEmptyA11yText)"},ResContinueWatchingTimeRemaining:"({{timeRemaining}} left)",ResCopyright:"© {{copyrightYear}} $t(ResHomeBoxOffice). All rights reserved.",ResDevices:"Devices",ResDetails:"DETAILS",ResDontHaveHbo:"Don’t have HBO?",ResDontHaveHboNow:"Don’t have HBO NOW?",ResDownloadTheApp:"[Download the $t(ResBrand) app](appStoreUri) and start your free trial.",ResPostDownloadInstructions:"Once you’ve subscribed, come back and sign in to HBO NOW VR.",ResRelated:"RELATED",ResHere:"here",ResJumpToEpisodeDetails:"Episode Details",ResJumpToExtras:"Extras",ResLoading:"Loading…",ResMore:"More",ResOrderHbo:{hbogo:"Order HBO",hbonow:"Start your free trial"},ResSignUp:"Don’t have $t(ResBrand)? [Sign up](signUpUri)",ResOrderToday:{hbogo:"Order It Today",hbonow:"Try $t(ResBrand)"},ResSignInInstructions:"Enter your $t(ResBrand) email and password.",ResSignInWithProviderInsructions:"[Don’t have an $t(ResBrand) account?](bold) Sign in with your email and password for another account.",ResRegisterViaOtherProvider:"Sign In with Another Account",ResPrivacy:"Privacy",ResRemoveAllVideosPrompt:"Are you sure you want to remove all items?",ResRemoveAllVideosOk:"Yes, remove all",ResSeasonAndEpisodeCount:"{{season}} EPISODES ({{count}})",ResNotCurrentlySignedInToGo:"You are not currently signed in to $t(ResBrand).",ResAnonymousSignedInNotes:"Your account is incomplete. Please finish creating your account:\n\n1. Sign out by going to [Settings > Sign Out](strong).\n\n2. Try to play a show or movie.\n\n3. Choose [Restore Purchase: {{storeName}}](strong).\n\n4. Choose [Create Account](strong) and complete your account.\n\nNeed more help? Go to [Create account help](createAccountHelpLink).",ResStayConnected:"STAY CONNECTED",ResTerms:{default:"Terms",mobile:"Terms of Use"},ResWatchlistHelp:"What is My List?",ResWatchlistSortOrder_NEWEST:"Newest to My List",ResWatchlistSortOrder_ALPHABETICAL:"Titles A to Z",ResWatchlistSortOrder_REVERSE_ALPHABETICAL:"Titles Z to A",ResWhatSearching:{default:"Search series or movies…",mobile:"Search titles…"},ResSeriesSeason:"{{series}} {{season}}",ResClearWatchlistPrompt:"Remove everything from your My List?",ResClearContinueWatchingPrompt:"Remove everything from your Continue Watching list?",ResProfileSettingsAltText:"Settings",ResProfileViewTitle:"Profile",ResProfileEditButtonText:"Edit Profile",ResProfileViewText:"Your profile is shared between both HBO and Cinemax. Any changes will apply to both services.",ResProfileUserNameTitle:"$t(ResBrand) ID",ResProfileFirstNameTitle:"First Name",ResProfileLastNameTitle:"Last Name",ResProfileEmailTitle:{default:"Email Address",mobile:"Email"},ResProfilePasswordTitle:"Password",ResProfilePasswordDescriptor:"Your password must be at least 8 characters and include a number or special character.",ResProfilePhoneNumberTitle:"Phone Number",ResProfileZipCodeTitle:"ZIP Code",ResProfileSaveChangesButtonText:"SAVE CHANGES",ResProfileCancelChangesButtonText:"CANCEL",ResInvalidUserIdError:"Do not include special characters: <>=;&{}",ResInvalidUserIdLengthError:"Enter 3–14 characters only.",ResProfileUserIdDescriptor:"Enter a unique username that’s 3–14 characters and includes only letters and numbers.",ResInvalidFirstOrLastNameError:"Your name can only include letters A-Z or a-z.",ResInvalidFirstOrLastNameLengthError:"Please enter your first and last name.",ResInvalidEmailError:"Enter in the format: name@example.com",ResInvalidEmailLengthError:"Please enter a valid email address.",ResEmailNotificationError:"An email address is required when email notifications are turned on.",ResInvalidPasswordLengthError:"Your password must be 8 or more characters.",ResInvalidPasswordMaxLengthError:"Your password must be less than 65 characters.",ResInvalidPasswordLetterError:"Your password must have at least one letter.",ResInvalidLicensePlateLengthError:"Code must be 6 characters.",ResInvalidPasswordNumberError:{activation:"Include a number or special character.",default:"Your password must have a number or special character."},ResForgotPasswordServiceError:"Oops, something went wrong. Please try again later.",ResInvalidZipError:"Enter in the format 12345 or 12345-1111.",ResInvalidPhoneNumber:"Enter your 10-digit phone number.",ResInvalidPinError:"Your PIN must be 4 digits.",ResBillingInfoTitle:"Billing Information",ResManageYourSubscription:"Manage Your Subscription",ResTurnOnBillingAutoRenewTitle:"Turn On Auto-Renew?",ResConfirmAutoRenewOn:"Yes, Turn It On",ResTurnOffBillingAutoRenewTitle:"Turn Off Auto-Renew?",ResConfirmAutoRenewOff:"Yes, Turn It Off",ResRestartSubscriptionOnLabel:"Auto-Renew On",ResRestartSubscriptionOffLabel:"Auto-Renew Off",ResRestartSubscriptionPendingLabel:"Please Wait…",ResRenewSubscriptionButtonLabel:"Renew Subscription",ResDeviceManagementViewTitle:"Manage Devices",ResDeviceManagementAllDescription:{hbonow:"Sign out of $t(ResBrand) on all devices, including this one? You’ll need to sign in again on all your devices.\n\nIf you think your account is being used without your permission, go to Profile and change your password before signing out.",hbogo:"Sign out of $t(ResBrand) on all devices, including this one? You’ll need to sign in again on all your devices.\n\nIf you think your TV provider account is being used without your permission, change your password before signing out."},ResDeviceManagementAllButtonText:"Sign Out of All Devices",ResDeviceManagementAllButtonShort:"Sign Out",ResDeviceManagementAllHintText:"It may take up to 4 hours to sign out of all devices.",ResDeviceManagementAllConfirmTitle:"Sign Out of All Devices",ResDeviceManagementAllConfirmText:"Sign out of $t(ResBrand) on all devices, including this one?",ResDevMgtDescriptionText:"The devices below are signed in and ready for streaming. If you are concerned your account has been compromised, sign out of your devices and reset your password.",ResDevMgtNoDevicesText:"You have no other devices registered.",ResDevMgtCurrentDeviceText:"CURRENT DEVICE",ResDevMgtActiveDevicesText:"ACTIVE DEVICES",ResDevListLastUsedText:"Last Viewed",ResDevListActivationDateText:"Last Signed In",ResDevListCurrentlyStreamingText:"STREAMING",ResLanguageViewTitle:"Language",ResLanguageViewLabel:"$t(ResBrand) app language",ResNotificationViewTitle:"Notifications",ResAppNotifications:"App Notifications",ResAppNotificationsOnOff:"Turn On/Off",ResNotificationsText:{hbogo:"Would you like to get show and movie recommendations, product updates, special offers and more?",hbonow:"Would you like to get show and movie recommendations, product updates, special offers and more from HBO and its affiliates?"},ResNotificationsTextNoEmail:"To receive the $t(ResBrand) newsletter, please enter an email address for your profile.",ResNotificationsCheckboxText:"Yes, send me updates",ResTosAndPrivacyAgreeText:"I agree to the [HBO Terms](t) and [Privacy Policy](p)",ResTosA11yText:{hbogo:"I agree to the HBO terms of use. link. and privacy. link.",hbonow:"I agree to the HBO terms. link. and privacy policy. link."},ResTosNoLinkA11yText:{hbogo:"I agree to the HBO terms of use and privacy.",hbonow:"I agree to the HBO terms and privacy policy."},ResFooterHelpText:"Need help?",ResFooterSignInHelpText:"Need help signing in?",ResFooterHelpLinkText:"Visit the Help Center",ResAboutTheShow:"About the Show",ResAbout:"About",ResUpNextPreview:"Up next",ResUpNextCountdown:"Up next in {{secondsLeft}} sec…",ResStartWatchingEpisode:"Start watching",ResStartWatchingEpisodeCaps:"START WATCHING",ResContinueWatchingEpisode:"Continue watching",ResWatchNextEpisode:"Your next episode",ResWatchNextEpisodeCaps:"YOUR NEXT EPISODE",ResWatchLatestEpisode:"Watch latest episode",ResWatchLatestEpisodeCaps:"WATCH LATEST EPISODE",ResVideoRequiresSignIn:{hbogo:"This video is only available to HBO subscribers.",hbonow:"You need an $t(ResBrand) subscription to watch this video."},ResVideoNotPlayableTitle:"Video Not Playable (DEV STRING)",ResVideoNotPlayableBody:"Video Not Playable for a number of reasons!",ResCaptionFontSettings:"Font",ResCaptionBackgroundSettings:"Background",ResCaptionWindowSettings:"Caption Window",ResPreviewCaptionText:"Example Text",ResSave:"Save",ResReset:"Reset",ResInteractive:"Interactive",ResNew:"New",ResInteractiveCoachTitle:"Vice Interactive",ResInteractiveCoachFloatingTitle:"When you see this icon, tap it for more content.",ResInteractiveCoachPlayerBarTitle:"Tap here to see all interactive content.",ResRegistrationTitle:{hbogo:{activation:"Create Your Profile",default:"Welcome to $t(ResBrand)"},hbonow:"Create Your Account"},ResLiteRegistrationTitle:{hbogo:{activation:"Create Your Profile",default:"Welcome to $t(ResBrand)"},hbonow:"Create Your Profile"},ResRegistrationText:{hbogo:{activation:"To start streaming, please create an $t(ResBrand) profile.",default:"Please complete your registration."},hbonow:{activation:"Create an account so you can sign in on all your favorite devices.",default:"Welcome! Please create your account."}},ResLiteRegistrationText:{hbogo:{activation:"To start streaming, please create an $t(ResBrand) profile.",default:"Please complete your profile."},hbonow:"Please complete your $t(ResBrand) profile."},ResRegistrationIdTitle:"$t(ResBrand) ID",ResRegistrationIdDescription:"Enter an $t(ResBrand) ID (e.g., User123) to create your profile.",ResRegistrationEmailTitle:{activation:"Email",mobile:"Email",default:"Email Address"},ResRegistrationZipCodeTitle:"ZIP Code",ResRegistrationSaveButtonText:{hbogo:{activation:"Create Profile",default:"SAVE"},hbonow:"Create Account"},ResLiteRegistrationSaveButtonText:{hbogo:{activation:"Create Profile",default:"SAVE"},hbonow:"Create Profile"},ResRegistrationSaving:"Saving…",ResRegistrationHelpText:"Need help?",ResRegistrationHelpLinkText:"Visit the Help Center",ResEnterPassword:"Password",ResConfirmPassword:"Confirm Password",ResPCBodyText:"To restrict what can be watched, choose the maximum ratings allowed and create a PIN.",ResChangePCBodyText:"To restrict what can be watched, choose the maximum ratings allowed and enter your PIN.",ResPCBodyTextReadOnly:"You can restrict what can be watched based on ratings.",ResPCSubAccountLabel:"Maximum allowed for all sub-accounts",ResPCPrimaryAccountLabel:"Maximum allowed for your primary account",ResPCPrimaryAccountNoSubLabel:"Maximum ratings allowed",ResPCIosRestrictions:"Further restrictions might be set in iOS settings.",ResUnrestrictedRating:"{{rating}} (Unrestricted)",ResPCSectionTheatrical:"Movies",ResPCSectionTelevision:"TV",ResPCCreatePinInstructions:"Create a PIN for parental controls and Kids lock.",ResPCEnterPinInstructions:"Enter your 4-digit PIN:",ResPinEnabledView:"PIN Enabled",ResChangePinLink:"Change PIN",ResForgotPinLink:"Forgot PIN?",ResEnableParentalControlsButtonText:"Set Parental Controls",ResUpdateParentalControlsButtonText:"Save changes",ResPCSettingsEnabledTitle:"Parental Controls Enabled",ResPCUpdatedText:"Success! Your changes were saved.",ResPCEnabledText:"Success! Your parental controls are set.",ResInheritedPCPreLink:"To change your settings, go to your ",ResInheritedPCLink:"TV provider account.",ResInheritedPCPostLink:"You must sign out and then sign in for changes to take effect.",ResInheritedPCNoLink:"To change your settings, go to your TV provider account.\nYou must sign out and then sign in for changes to take effect.",ResPCSubAccountMessage:"To change your settings, sign in to your primary $t(ResBrand) account.\nYou must sign out and then sign in for changes to take effect.",ResCurrentPinLabel:"Current PIN (4 digits)",ResNewPinLabel:"New PIN (4 digits)",ResSaveChanges:"Save changes",ResCancelChanges:"Cancel",ResClientRatingsDescription:"These ratings are the most restrictive from your $t(ResBrand) account and your $t(ResClientConsole).",ResSettingsPCDescriptionWithDevice:"Change your settings at $t(ResWebsite) and/or on your $t(ResClientConsole).",ResA11ySettingsPCDescriptionWithDevice:"Change your settings at $t(ResA11yWebsite) and/or on your $t(ResClientConsole).",ResSettingsPCDescriptionWithoutDevice:"Change your settings at: $t(ResWebsite)",ResA11ySettingsPCDescriptionWithoutDevice:"Change your settings at: $t(ResA11yWebsite).",ResPaymentMethodTitle:"Payment Method",ResEditPaymentMethod:"Edit Payment",ResPaymentMethodInitFailure:"Sorry, your payment information is temporarily unavailable. Please try again later.",ResPromotionEntryCodeLabel:"Promotion Code",ResPromotionEntryRedeemButtonText:"NEXT",ResPromotionInputPlaceHolderText:"Enter your promo code",ResCommercePleaseWait:"Please Wait…",ResCommerceStepOneOfTwo:"Step 1 of 2",ResCommerceStepTwoOfTwo:"Step 2 of 2",ResCommerceAddPaymentMethod:"Add Payment Method",ResGiftCardEntryCodeLabel:"Gift Card Code",ResGiftCardEntryGeoUnitLabel:"State or Territory",ResGiftCardEntryZipCodeLabel:"ZIP Code",ResGiftCardOKGotIt:"OK, Got It",ResGiftCardOneMoment:"One moment, please",ResGiftRedeeming:"We’re working on redeeming your gift card.",ResGeoUnitSelectionDropDownPrompt:"Choose",ResGiftCardGeoUnitDisplayName:"{{name}} – {{abbreviation}}",ResGiftCardRegisterRedeemButtonText:"Redeem",ResGiftCardInputPlaceHolderText:"Enter gift card code",ResInvalidGiftCardZipError:"Enter a 5-digit ZIP Code.",ResInvalidGiftCardGeoUnitError:"Choose a state or territory.",ResInvalidGiftCardZipAndGeoUnitError:"Choose a state and enter in 5-digit ZIP.",ResInvalidGiftCardError:"Invalid code. Please re-enter the code.",ResSignInAndRedeemButtonText:"Sign In and Redeem",ResChangePinTitle:"Change PIN",ResChangePinConfirmationTitle:"PIN Changed",ResChangePinConfirmationText:"Your PIN has been changed.",ResPinResetTitle:{hbogo:"PIN Reset",hbonow:"Forgot your PIN"},ResPinResetText:{hbogo:"We’ll email a PIN reminder to {{emailAddress}}.",hbonow:"We’ll email PIN reset instructions to {{emailAddress}}."},ResPinResetSendButtonText:"Send",ResForgotPinConfirmationTitle:{default:"Success",mobile:"Email Sent"},ResForgotPinConfirmationText:{hbogo:{default:"Check your inbox for a PIN reminder email. \n\nIf the email doesn’t arrive soon, check your spam folder.",mobile:"Check your inbox for a PIN reminder email."},hbonow:{default:"Check your inbox for a reset PIN email. \n\nIf the email doesn’t arrive soon, check your spam folder.",mobile:"Check your inbox for a reset PIN email."}},ResReturnToParentalControlButton:"Return to parental controls",ResGoToTheHomepage:"Go to the [homepage](a).",ResApplicationVersionLabel:"Version {{version}}",ResPasswordChallengeTitle:{mobile:"Confirm Password",default:"Enter Your Password"},ResPasswordChallengeInstructions:{mobile:"Please enter your password to start editing.",default:"Please enter your password to edit your profile."},ResKidsLockInformationalTitle:"Attention Parents",ResKidsLockInformationalMessage:"Tap the lock to only allow access to shows within the Kids section.",ResKidsLockInformationalAltMessage:"Or, you can control which shows are watched based on ratings.",ResKidsLockInformationalLinkText:"Check Parental Controls",ResKidsLockConfirmTitle:"Turn On Kids Lock?",ResKidsLockConfirmMessage:"You will only be allowed to explore shows within the Kids section.\n\nTo turn off the lock, tap the Kids lock and then enter your PIN.",ResKidsLockConfirmButtonText:"Turn On",ResChromecastCoachmarkTitle:"Chromecast Available",ResChromecastCoachmarkMessage:"Tap the Chromecast button when you want to cast to your TV.",ResGotIt:"Got It",ResSaving:"Saving…",ResEmail:"Email",ResEmailAddress:{activation:"Email",commerce:"Email Address",default:"Email Address"},ResUsername:"Username",ResPassword:"Password",ResPasswordPlaceholder:"••••••••",ResSignedInSSO:"You’re signed in with\n {{ProviderName}} in iOS Settings",ResSignedIn:"You are currently signed in as\n{{username}}",ResVideoPlaybackTitle:"Video Playback",ResProfileConfirmEmailTitle:"Confirm Email",ResNewsletter:"$t(ResBrand) Newsletter",ResYes:"Yes",ResNo:"No",ResNewsletterWarning:"There might be a small delay before changes to your email setting take effect.",ResPlaybackWiFiOnly:"WiFi Only",ResPlaybackWiFiWarningTitle:"No Wi-Fi Connection",ResPlaybackWiFiWarningBody:"Video playback is limited to Wi-Fi only. To allow streaming via cellular connection, change your settings.",ResPlaybackCellularWarning:"Cellular Playback Warning",ResPlaybackCellularWarningBody:"Using your cellular connection may incur additional charges from your provider.",ResCellularPlaybackInformationalLinkText:"Video Playback Settings",ResProfileSavedTitle:"Profile Saved",ResProfileSavedBody:"Your profile settings are now updated for $t(ResBrand)",ResProfileSignOutBody:"Are you sure you want to sign out of $t(ResBrand)?",ResParentalControlsProvider:"This video is restricted by parental controls for your TV provider account.\n\nChange these settings on your TV provider’s website.",ResPINEmailTitle:"Enter Email",ResPINEmailPrompt:"First, you need to create a PIN. If you forget your PIN, which email should we send a reminder to?",ResEnterPINTitle:"Enter PIN",ResEnterPINBody:"Enter your 4-digit PIN",ResCreatePINTitle:"Create PIN",ResCreatePINBody:"Enter a 4-digit PIN for parental controls and Kids lock",ResConfirmPINTitle:"Confirm PIN",ResConfirmPINBody:"Re-enter your new PIN",ResChangePINButton:"Change PIN",ResChangePINTitle:"New PIN",ResChangePINBody:"Enter a new PIN",ResPINMismatchError:"PINs don’t match. Try again.",ResPINIncorrect:"Incorrect PIN. Please try again.",ResPINSetSuccessTitle:"PIN Saved",ResPINSetSuccessText:"Use your new PIN for parental controls and Kids lock.",ResVerifyingPIN:"Verifying your PIN…",ResPINBlanks:"----",ResPINHits:"••••",ResForgotPINButton:"Forgot PIN?",ResForgotPINTitle:"Forgot your PIN?",ResServiceParentalControlsInstructions:"Right now, your settings are:\n\nTV: {{tvRating}}\nMovies: {{movieRating}}",ResInheritedParentalControlsInstructions:"Right now, your settings are:\n\nTV: {{tvRating}}\nMovies: {{movieRating}}\n\nParental controls have been set through your TV provider. Change these settings on your TV provider’s website.\n\nFor changes to take effect, sign out of $t(ResBrand) and then sign in again.",ResSubAccountParentalControlsInstructions:"Right now, your settings are:\n\nTV: {{tvRating}}\nMovies: {{movieRating}}\n\nParental controls have been set by your primary account. To change your settings, sign in using your primary TV provider account.",ResInheritedParentalControlsNotice:"Maximum allowed ratings:\n\nTV: {{tvRating}}\nMovies: {{movieRating}}\n\nParental controls have been set through your TV provider. Change these settings on your TV provider’s website.\n\nFor changes to take effect, sign out of $t(ResBrand) and then sign in again.",ResSubAccountParentalControlsNotice:"Maximum allowed ratings:\n\nTV: {{tvRating}}\nMovies: {{movieRating}}\n\nParental controls have been set by your primary account. To change your settings, sign in using your primary TV provider account.",ResBrowse:"Browse",ResBrowseBrand:{default:"Browse $t(ResBrand)",daydream:"Return to VR"},BackToVRAllDone:"All Done",BackToVRSignedIn:"You’re signed in and ready to go!",BackToVRSignedInNow:"Hi {{firstName}},\n$t(BackToVRSignedIn)",BackToVRReturn:"RETURN TO VR",ResForgotPasswordTitle:"Reset Your Password",ResForgotPasswordSubmitButton:"Submit",ResForgotPasswordInstructions:"Enter your $t(ResBrand) email and we’ll send you a link to reset your password.",ResForgotPasswordCheckEmailInstructions:{mobile:"Please check your email for instructions on how to reset your password.",activation:"Check your {{emailText}} inbox for a password reset email.\n\nIf you don’t get this email soon, see [Can’t reset password](a).",default:"Check your {{emailText}} inbox for a password reset email.\nIf you don’t get this email soon, see [Can’t reset password](a)."},ResResetRequestReceived:"Reset Request Received",ResForgotPasswordEmailSent:"Email Sent",ResResetPasswordTitle:"Create a New Password",ResResetPasswordInputTitle:"New Password",ResResetPasswordSubmitButton:"Save Password",ResResetPasswordSuccessTitle:"Password Changed",ResResetPasswordSuccessText:"Your password has been updated. Please sign in to begin watching.",ResResetPasswordSuccessButton:"Return to Sign In",ResCannotResetPasswordTitle:"Can’t Reset Your Password",ResCannotResetPasswordInstructions:"Your reset link is invalid, expired, or has already been used.\nPlease reset your password again.",ResResetPinTitle:"Create a New PIN",ResResetPinInstructions:"Enter a new 4-digit PIN.",ResResetPinInputTitle:"New PIN (4 digits)",ResResetPinSubmitButton:"Save",ResResetPinSuccessTitle:"PIN Changed",ResResetPinSuccessText:"Use your new PIN for parental controls and Kids lock.",ResCannotResetPinTitle:"Can’t Reset Your PIN",ResCannotResetPinInstructions:"Your reset link is invalid, expired, or has already been used.\nPlease reset your PIN again.",ResSSOScreen:"Signing in",ResSSOProviderNotSupportedTitle:"Sorry, {{providerName}} Doesn’t Support $t(ResBrand)",ResSSOProviderNotSupportedBody:"Do you want to sign in with another TV provider?",ResSSONoHBOTitle:"Can’t Verify Your Subscription",ResSSONoHBOBody:"We’re having trouble verifying your HBO subscription with {{providerName}}. Do you want to sign in with another TV provider?",ResSSONotEnabledByHBOTitle:"Sorry, single sign-on is not available yet for {{providerName}}",ResSSONotEnabledByHBOBody:"Do you want to manually sign in instead?",ResSSOIncompleteGoRegTitle:"Complete Your $t(ResBrand) Registration",
ResSSOIncompleteGoRegBody:"Please do one of the following:\nPhone or tablet: Sign in to the $t(ResBrand) app\nComputer: Sign in to $t(ResWebsite) on your computer",ResHiUsername:"Hi {{username}}",ResHi:"Hi there",ResWelcomeOverlayTitle:"Watch anywhere, anytime.",ResWelcomeOverlayText:"[Get the app on more of your](text) [favorite devices](devicesLink): TV, phone and tablet.",ResStartWatching:"Start Watching",ResOverlayHelpFooter:"Need help? [Visit the Help Center](helpLink)",ResIAPPurchaseErrorTitle:"Subscription Purchase",ResIAPErrorMessage:"Sorry, we can’t reach {{store}} right now. Please try again later.",ResIAPOopsTitle:"Oops, Something Went Wrong",ResIAPRestoreErrorTitle:"Subscription Restore",ResIAPRestoreGenericErrorMessage:"Sorry, we can’t reach {{store}} right now. Please try again later.",ResIAPRestoreAlreadyLinkedTitle:"Subscription Linked to an Account",ResIAPRestoreAlreadyLinkedAnother:"Subscription Linked to Another Account",ResIAPRestoreNothingFoundError:"Sorry, we couldn’t find a subscription for you in {{store}}.",ResIAPRestoreBoundUnauthError:"The subscription we found is already linked to an $t(ResBrand) account. To start watching, please sign in to this account.",ResIAPRestoreBoundAuthError:"The subscription we found is linked to a different $t(ResBrand) account. To start watching, please sign in to this account.",ResIAPConfirmationErrorMessage:"You’re ready to stream. We just need to restart $t(ResBrand).",ResIAPLinkReceiptErrorMessage:{tv:"Sorry, we couldn’t link your new subscription to your $t(ResBrand) account.\nTry to watch something, then choose Restore Purchase: {{store}}.",ios:"Sorry, we couldn’t link your new subscription to your $t(ResBrand) account.\nTry to watch something, then choose Restore Purchase: {{store}}.",default:"Sorry, we couldn’t link your new subscription to your $t(ResBrand) account.\nTry to watch something, then choose Link your subscription > {{store}}."},ResCurrencySymbol:"$",ResApplicationHome:{hbogo:"https://play.hbogo.com/",hbonow:"https://play.hbonow.com/"}}})}(),function(){"use strict";define("configuration/data/translations",[],function(){return{"xx-xx":{translation:{BackToVRAllDone:"Ąļľ Đǒņė",BackToVRReturn:"ŖĚŤŪŖŃ ŦŎ ѴŔ",BackToVRSignedIn:"Ɏőū’ŕė ƨįǥɲěƌ ǐƞ ăƞƋ ŗĕąƌŷ ţő ĝő!",BackToVRSignedInNow:"Ħī {{firstName}},\n$t(BackToVRSignedIn)",ResA11yActivationUrl:{hbogo:"ŤѴ šĭğň īň",hbonow:"ţɣćōđě"},ResA11yChromeCastButtonTitle:"Ĉĥřǒɱĕćąŝŧ",ResA11yClosedCaptionButton:"ĊļōşĕƋ ćāƿŧįōήƨ",ResA11yClosedCaptionsSettingButton:"{{header}}, {{button}}",ResA11yClosedCaptionsSwitch:"čĺǒƨėđ ƈǟƥŧĭŏɲĭήģ ŝŵīŧćħ",ResA11yContinueWatchingLastPlayed:"Ćőņţįņŭę ɯąťƈĥįɲğ {{assetTitle}}",ResA11yDuration:"{{duration}}.",ResA11yEpisode:"ĚƿĭśőƋę {{number}}:",ResA11yG:"Ĝ",ResA11yInteractiveButton:"Īƞţěřāčťǐɣĕ ćŏɲŧęńť",ResA11yKidsLockButton:"Ƙįƌś ĺōċķ",ResA11yMenu:"ʍėήū",ResA11yNC17:"ƝČ 17",ResA11yNONE:"Ňōţ Ǎŀłǒŵěď",ResA11yNR:"Ńōť Ŗăŧēď",ResA11yPG:"ƤĠ",ResA11yPG13:"ƤĜ 13",ResA11yPip:"Ƥįċťūŕę ǐŋ ƿīčťůřē",ResA11yPlay:"Ƥļăŷ",ResA11yPlayAt:"Ƥļąɏ ǟţ {{time}}",ResA11yPlayCommand:"Ƥľąŷ {{label}}",ResA11yPlayTitle:"Ƥľăŷ {{title}}",ResA11yPrependPeriod:". {{text}}",ResA11yPrependSpace:" {{text}}",ResA11yPresentTransportControls:"đōŭƂłě ţăƿ ƒōŗ ƿľǟŷęř ƈǒņťřǒĺš",ResA11yR:"Ʀ",ResA11yRated:"ŖǟťěƋ {{rating}}.",ResA11ySeason:"Şĕǟśōń {{number}}:",ResA11ySeriesTitle:"{{series}}:",ResA11ySettingsPCDescriptionWithDevice:"Čĥăŋǥě ɏőűř ƨęťŧĭŋĝš āť $t(ResA11yWebsite) āήƋ/ōŗ ŏɲ ɏōũŕ $t(ResClientConsole).",ResA11ySettingsPCDescriptionWithoutDevice:"Ċħąήǥę ŷőŭř ƨēŧţīŉĝş ǟŧ: $t(ResA11yWebsite).",ResA11yTV14:"ŦѴ 14",ResA11yTVG:"ͲѴ Ǥ",ResA11yTVMA:"ŦѴ ΜĀ",ResA11yTVNR:"Ņōť Ʀǟťĕđ",ResA11yTVPG:"ŢѴ ƤĢ",ResA11yTVUNKNOWN:"Ńǒŧ Ŗąţēđ",ResA11yTVY:"ŤѴ ʏ",ResA11yTVY7:"ŤѴ Ŷ7",ResA11yTimeHoursMinutesSeconds:"{{hours}}, {{minutes}}, {{seconds}}",ResA11yTimeMinutesSeconds:"{{minutes}}, {{seconds}}",ResA11yTimelineSlider:"Ŧĭɱęĺĩņė ŝŀĩƌēŗ",ResA11yTitle:"{{title}}.",ResA11yToggleOff:"ţŏġǥļē ĭş ōƒƒ",ResA11yToggleOn:"ťőĝģŀē īƨ ŏɲ",ResA11yUNKNOWN:"ɴōţ Řăţěƌ",ResA11yWatchlistAdd:"Ǎďď ţō ɱŷ ļįšŧ",ResA11yWatchlistRemove:"Řęɱŏɣė ƒřőɱ ɱŷ ĺįšţ",ResA11yWatchlistSeriesAdd:"ɅƋđ šėŕīěş ţǒ ɱɏ ļĭšť",ResA11yWatchlistSeriesRemove:"Ʀēɱōɣĕ šėŕīēş ƒŕőɱ ɱɏ łǐśť",ResA11yWebsite:{androidtv:{hbogo:"Ĥ,Ɓ,Ǒ, ĢŎ.čǒɱ",hbonow:"Ĥ,ʙ,Ǒ, ŃŐƜ.ĉǒɱ",maxgo:"ΜɅΧ ĢŎ.ĉǒɱ"},default:{hbogo:"ĤßŎƓŌ.ƈǒɱ",hbonow:"ĤßŎŇŎƜ.čǒɱ",maxgo:"ʍɅΧĞŎ.ĉŏɱ"}},ResA11yZoomIn:"Ƶǒǒɱ ĩň",ResA11yZoomOut:"Żőŏɱ ŏūţ",ResAbout:"Ǎƃŏŭŧ",ResAboutTheShow:"Ąƀőųť ţĥě Śħǒɯ",ResActivate:"Ǎćţīɣāťę",ResActivateDevice:{hbogo:{appletv:"Ƨįğň Īń",default:"Ǎƈţĭɣǎţę Ņōɯ"},hbonow:"Šǐǥń Ĭń"},ResActivatedBy:{hbogo:{appletv:"Šĭɠήėđ ĩŋ ąš: ",default:"ɅčŧįɣăţęƋ Ƅŷ: "},hbonow:"ŞįġŋęƋ ǐɲ ăś: "},ResActivatedOn:{hbogo:{appletv:"ĬƝŢĘŖƝĀŁ ĒŔƦŌŖ: ţĥĩş ɱęšşǎģē ɱŭšŧ ŋōŧ śħŏŵ ųƥ",default:"Ăĉŧǐɣǟťęƌ őή: "},hbonow:"$t(ResEmpty)"},ResActivationCodeAlreadyTaken:"Ĩňćōřřĕƈť ćōďě. Ɠǒ Ƃǎĉƙ ťō ɏőųŕ ͲѴ ăƞđ ğēţ ťħĕ ćǒđē ăĝāįɲ.",ResActivationCodeIncorrectOrExpired:"Śōřŕŷ, ŧĥę ćŏƋē ěϰƿĩŕėƋ ǒŕ įš įήčǒřŗěčţ. Ǥǒ Ƅāċǩ ţǒ ɏőųř ͲѴ ǎňƋ ɠěţ ťĥē ĉōƋė ǎɠăįŋ.",ResActivationCodeUnknownError:"Ǒőƿş, şŏɱęţĥĭŉğ ŵēɲť ɯřōŋģ. Ƥŀęăƨę ťřɏ ǟɠǟĩń ľǟţěŕ.",ResActivationContent:{appletv:"Ŏήčė ŷŏů’ŕē şīɠƞěƋ īŋ, ɏōų’ŀł ƨęę ǟ ņěɯ ƥąģě. Ͳĥįś ċąŉ ŧąķě ŭƿ ŧŏ 30 šēċōņđş.",default:"Ŵħęņ ǟćŧīɣǟťĩǒή įş ćōɱƥľĕťę, ŷőů’łł ƃē ţǎǩėŉ ŧō ǎ ήėŵ ƥāġē. Ťĥǐş ćǎň ţǟƙē ũƥ ţő 30 ŝēċǒńƌş."},ResActivationEntryHeader:"Ēńţěř ČőƋē",ResActivationEntryInputHeader:"Ćōďė",ResActivationEntryInstructions:"Ěńťėŕ ťĥě čőƋĕ ţħǟť āƥƥėǎŕš ōń ɏőŭŗ ͲѴ.",ResActivationEntrySubmit:"ŞůƄɱĭţ Ċōđė",ResActivationRegisterSuccessHeader:"Ăłɱőśť Ţĥěŗĕ!",ResActivationRegisterSuccessSubHeader:"ŖęǟƋŷ ŧǒ ŵǟťċĥ ōŕįğǐŋāł śħŏŵş, ħīŧ ɱōɣĭęƨ ǟŉƌ ɱőŗě?\n\nĠŏ ƃăƈǩ ţǒ ŷőŭŗ ŦѴ ǟńƌ ƒǐňĩśħ ƨĭǥņįņɠ ŭƿ.",ResActivationRestoreSuccessHeader:"Ǎļɱǒšţ Ďǒńē",ResActivationRestoreSuccessSubHeader:"Ĝŏ Ƃąƈǩ ţŏ ɏőųř ŦѴ ăɲƋ şũƂšćŕĭƂě ťő $t(ResBrand).",ResActivationSuccessHeader:"Ǎľł Ɖőŉĕ!",ResActivationSuccessSubHeader:"Ɏōů’ŗę ŕěăďɏ ťő ŵǎţčĥ $t(ResBrand) őņ ŷōųŕ ŤѴ.",ResActivationSuccessfulExclamation:{appletv:"Ɏōũ’ŗē ŕęǟƋɏ ŧō ɠō!",default:"Ǎćŧĭɣǎťįōɲ Šŭčƈĕšŝƒŭļ"},ResActivationUrl:{hbogo:"ţɣƨįɠήīň",hbonow:"ŧɣčőƋė"},ResAddSeriesToWatchlist:{default:"ĄƋđ Ƨēřǐěƨ ŧő ʍɏ Łǐşţ",desktop:"ɅđƋ Şěřǐęş"},ResAddToWatchlist:{default:"ĄƌƋ ţŏ Μɏ Ļĩśŧ",desktop:"ǍĐƉ"},ResAddToWatchlistIcon:"+",ResAffiliateLoginTitle:{hbogo:"Ƨĭğń Īɲ Ŵǐťĥ ʏŏůř ͲѴ ƤŕőɣĭƋęŕ ťő Āĉĉēşś $t(ResBrand).",hbonow:"Ŝēĺĕĉť Ɏǒūř Ƥŕŏɣĭďěř"},ResAffiliateSelectionDropDownPrompt:"Ŝēłěćť ŷőūř ƥřőɣĩďėŗ",ResAffiliateSelectionHeader:"Ŝĕłėčţ Ɏǒūř Ƥŕőɣĭďėŗ",ResAffiliateSelectionTitle:{hbogo:"Ĉĥőōśē ɏőŭŕ ŤѴ ƥŕőɣĩƌęř, şīɠń ǐň, ăŉđ ĕŋĵōɏ $t(ResBrand).",hbonow:"Ŵĥŏ Ƌĩď ŷŏũ ŝųƄŝćřĩƄę ţĥŗŏůģĥ?"},ResAffiliatesFooterSubTitle:"Ŵė’ŗĕ ćōɲśŧāŋťŀŷ ăďƌĭɲģ ŉěŵ ŢѴ ƥřŏɣįƋęřş, ŝō ĉĥęćǩ Ƅǎĉķ ɯĭţĥ űş şŏŏɲ ŧǒ šĕę įƒ ŵě’ɣē ăđƌěď ŷőůŕś ťŏ őūř ļǐšŧ.",ResAffiliatesFooterTitle:"Ɗőņ’ť śĕĕ ɏǒŭŕ ƥŗōɣĭđēŕ?",ResAffiliatesOrderHBO:"Đǒň’ţ ĥǎɣě ĦʙŎ? Ŏŕƌĕŗ ǐţ ͲŏƋǎŷ",ResAirPlayMessage:"Ŧĥĭŝ ɣĭďėō ĭś ƿĺăŷīņɠ őή {{deviceName}}.",ResAirPlayMessageDeviceUnknown:"Śťřēąɱīńǥ ɣįďēǒ ţō ǟňǒŧħĕŕ ƌĩśƿļāŷ.",ResAirPlayNoInteractiveMessage:"Ǐňŧėŕāćŧĭɣě ƈŏņŧĕŉť ũňǎɣǎǐĺǟƄŀė ŵīťħ ǍįŗƤŀǎŷ",ResAirPlayTitle:"ĄįřƤļąɏ",ResAllAffiliatesTitle:"Ʌļľ Ƥŕǒɣįďĕŗś",ResAlreadyLoggedIn:"ʏŏŭ ǎřē ǎļŕėāƌŷ ƨīģŋėƋ įƞ.",ResAnonymousSignedInNotes:"Ɏōųŗ ąċĉǒũňť ĩś īňčōɱƿŀęťē. Ƥłėąŝė ƒǐήĭşħ ĉřēāťĩŉĝ ŷōųŗ āċƈŏŭήţ:\n\n1. Śĩɠň őūţ ƃŷ ɠőĭŉğ ťǒ [Ŝĕťŧĩŉɠŝ > Ƨǐǥή Ŏűţ](strong).\n\n2. Ţŗŷ ťő ƿŀāŷ ǎ šĥōɯ ǒř ɱŏɣǐę.\n\n3. Čĥōōşē [Ŗęśţŏŗĕ Ƥũŕƈĥǟşě: {{storeName}}](strong).\n\n4. Ćħōŏŝē [Ĉřěǎťė Ąƈċǒųɲŧ](strong) ąƞď čőɱƿľēťę ŷōūŗ ăććőŭήť.\n\nɴēĕƋ ɱőŕě ħęļƿ? Ġǒ ŧō [Ċŗēąŧę ąċćőűŉţ ħēĺƥ](createAccountHelpLink).",ResAppNotifications:"Ăƿƿ ɴǒŧīƒįćąŧįőήƨ",ResAppNotificationsOnOff:"Ͳũřŋ Őƞ/Őƒƒ",ResApplicationHome:{hbogo:"ħŧţƥš://ƿļāŷ.ħƂōɠō.ĉőɱ/",hbonow:"ħŧţƿš://ƿŀǎɏ.ħƂōńőŵ.ćőɱ/"},ResApplicationVersionLabel:"Ѵěŗŝīőή {{version}}",ResArtist:{default:"Āŗťīşŧ",tv:"[Ǎŗţīƨť](title) {{artist}}"},ResArtistWithSpacing:"Ʌŗŧīşť: {{artistName}}",ResAvailableUntilWithSpacing:{default:"ɅɣǎĩŀǎƂĺē Ũƞťīŀ: ",univ:"ĄɣǎīĺăƂľĕ űŋŧĭľ {{date}}"},ResBack:"Ɓąčƙ",ResBackspace:"ʙāċķƨƿăčĕ",ResBillingInfoTitle:"ßĭłļĩήĝ Ĩŋƒōŗɱǟţĭǒň",ResBrand:{hbogo:"$t(ResHBOGO)",hbonow:"$t(ResHBONOW)",maxgo:"$t(ResMAXGO)"},ResBrowse:"ßŗōŵƨė",ResBrowseBrand:{daydream:"Ʀĕŧŭřŋ ťő ѴŔ",default:"ʙřǒŵşē $t(ResBrand)"},ResBuild:"ʙųĩłƋ",ResCCColor_BLACK:"ʙľǟċƙ",ResCCColor_BLUE:"ßĺųę",ResCCColor_CYAN:"Ćŷąŋ",ResCCColor_GREEN:"Ģŕēēń",ResCCColor_MAGENTA:"ʍăģěňŧǎ",ResCCColor_RED:"Ŕēƌ",ResCCColor_WHITE:"Ɯħǐťě",ResCCColor_YELLOW:"Ɏęłłŏŵ",ResCCFont_CASUAL:"Ćāśůǟľ",ResCCFont_MONO_SANS_SERIF:"Μőήōşƥąćėď",ResCCFont_MONO_SERIF:"Ťɏƥē",ResCCFont_SANS_SERIF:"Şąήś Šęŗǐƒ",ResCCFont_SCRIPT:"Ƨĉŕĩƥť",ResCCFont_SERIF:"Şēřĭƒ",ResCCFont_SMALL_CAPS:"Şɱǟľŀ Ċąƿƨ",ResCCOpacity_OPAQUE:"100%",ResCCOpacity_SEMITRANSPARENT:"25%",ResCCOpacity_TRANSLUCENT:"75%",ResCCOpacity_TRANSPARENT:"0%",ResCCSectionBackgroundColor:"ʙāƈƙġŕŏũήƋ Ċőŀŏŕ",ResCCSectionBackgroundOpacity:"Ɓǟċĸģŕőůņƌ Ŏƿǟćǐťɏ",ResCCSectionFont:"Ƒōƞţ",ResCCSectionFontColor:"Ƒǒŉť Ćǒľōř",ResCCSectionFontOpacity:"Ƒǒŉţ Őƥǎčĩťɏ",ResCCSectionFontSize:"Ƒǒņţ Şįżē",ResCCSectionFontStyle:"Ƨţŷĺē",ResCCSectionWindowColor:"Ŵīήďǒŵ Ċōļǒŗ",ResCCSectionWindowOpacity:"Ŵǐņđőŵ Ōƿāĉǐŧɏ",ResCCSize_EXTRA_LARGE:"Ĕϰŧŕǎ Ľăŗǥė",ResCCSize_LARGE:"Ŀǎřġě",ResCCSize_MEDIUM:"ʍēƋĩūɱ",ResCCSize_SMALL:"Ƨɱǎĺļ",ResCCSize_TINY:"Ͳǐήɏ",ResCCStyle_DEPRESSED:"Ɗėƥŗēšśěđ",ResCCStyle_DROP_SHADOW:"Ďŗŏƥ ŞĥąƋǒɯ",ResCCStyle_NONE:"Ňŏƞę",ResCCStyle_RAISED:"Ŗǎĩŝėƌ",ResCCStyle_UNIFORM:"Ũņīƒōŕɱ",ResCancel:"Ĉǎňƈĕŀ",ResCancelAlternate:"Ņĕɣěŕ ɱǐƞď",ResCancelChanges:"Čąńčēĺ",ResCannotResetPasswordInstructions:"Ÿőũŗ ŗěƨęţ ĺīɲķ įŝ ĭɲɣąłĩƌ, ēχƥĩřēƌ, ŏŕ ħăš ǟľŕēāđɏ Ƃěĕή ůśėď.\nƤłĕǟśĕ ŗēšēţ ɏǒűŗ ƥāšƨŵŏřđ āĝāǐɲ.",ResCannotResetPasswordTitle:"Ƈǟŋ’ţ Ŕēƨēţ Ÿőŭř ƤąŝŝɯōŗƋ",ResCannotResetPinInstructions:"Ɏǒūŗ ŗĕŝēť ŀĭňĸ ĭś ǐŉɣǎľīđ, ēϰƿĩŕēƋ, ŏŗ ħǟŝ ǎļřēąđɏ ƃęęņ ŭšĕƋ.\nƤĺěąƨę ŕĕƨĕŧ ŷōūŕ ƤǏɴ ăĝāįƞ.",ResCannotResetPinTitle:"Čąŉ’ť Řėŝėť Ŷőūŗ ƤǏŃ",ResCaptionBackgroundSettings:"ßǟčķģŗǒŭŉđ",ResCaptionFontSettings:"Ƒőɲŧ",ResCaptionWindowSettings:"Ċăƿťįǒņ Ŵĭňďŏɯ",ResCaptions:"Ĉǟƿţĭōńś",ResCaptionsDisabled:"Ĉǟƿţĭǒņŝ Ōƒƒ",ResCaptionsEnabled:"Ćăƿţĩőņś Ōɲ",ResCaptionsSettings:"Śēţŧīņǥŝ",ResCast:{default:"Ƈăšŧ & Ĉŕĕŵ",univ:"ƇĄŠŦ & ƇŖĘŴ"},ResCastAndCrew:"Čǎŝŧ & Ćŕĕɯ",ResCatalogPlaylist:"Μǒŕė Ƒřőɱ {{playlistTitle}}",ResCellularPlaybackInformationalLinkText:"Ѵīđěŏ ƤŀăŷƄąċķ Šěŧŧĩňɠş",ResChangePCBodyText:"Ţő ŗēƨţŗīĉť ŵħǟţ ċāή ƃě ŵǎťċĥěƌ, ċĥǒőşė ţĥĕ ɱǎϰĩɱųɱ řǟŧīņǥś ąłľőŵęƌ ǟńď ėńŧēŕ ɏōűŕ ƤĨɴ.",ResChangePINBody:"Ěήţĕř ǟ ɲęŵ ƤĮƝ",ResChangePINButton:"Čĥǟŋǥě ƤĬŇ",ResChangePINTitle:"Ňĕɯ ƤĮŅ",ResChangePinConfirmationText:"Ɏōűř ƤǏŇ ĥāş ƀěėň ćħǟŉģęƋ.",ResChangePinConfirmationTitle:"ƤĨŇ Ćĥāŉɠēđ",ResChangePinLink:"Ĉħăňĝė ƤĨɴ",ResChangePinTitle:"Ĉĥąήğė ƤĬŃ",ResChooseAnotherAffiliateLink:{default:"Ƈĥŏōšĕ ǎŉōŧħĕŕ ƥŕōɣĩƌĕŕ",mobile:"Ƈĥŏőšě Ƥřǒɣĩƌėř"},ResChromeCastListTitle:"ĆŌɴŅĖƇŢ ŤŌ:",ResChromeCastNoInteractiveMessage:"Įŉŧėřąƈŧǐɣē čōήţēήŧ ųήǎɣąįľāƄľě ŵħĭļė ċāƨťǐƞģ",ResChromecastCoachmarkMessage:"Ŧǟƿ ţĥė Ĉĥŗőɱěċąśŧ Ƅūţţőɲ ŵħęň ŷŏū ŵǎńť ţő ĉǎšŧ ťǒ ŷǒųŕ ͲѴ.",ResChromecastCoachmarkTitle:"Čħŗŏɱēƈǟŝŧ Ąɣǎīĺǎƀŀė",ResChromecastDisconnectButton:"ĐǏŞČŌŃƝĖƇŢ",ResChromecastReadyMessage:"Ŕěǎđɏ ťŏ ƈāśţ ɣĭđėŏś ƒŕőɱ ţĥįƨ ǎƿƥ",ResChromecastStatusBuffering:"Ɓųƒƒėřįňģ ōŉ {{receiver}}",ResChromecastStatusEnded:"Ƒĩŋīşħėď ƿļǟŷǐήĝ őņ {{receiver}}",ResChromecastStatusError:"Ċǟşŧįŉɠ ťŏ {{receiver}}",ResChromecastStatusLoading:"Ļōāďĩņǥ őŋ {{receiver}}",ResChromecastStatusPaused:"ƤăŭƨēƋ ŏŉ {{receiver}}",ResChromecastStatusPlaying:"Ƥĺāŷĭƞɠ ōņ {{receiver}}",ResChromecastStatusSeeking:"ʙũƒƒěŕīήɠ ōŋ {{receiver}}",ResChromecastStatusUnknown:"Ĉǟšţīņĝ ţǒ {{receiver}}",ResChromecastUnknownReceiver:"ūɲĸņőŵƞ ŗēćěīɣęŕ",ResChromecastUnknownTitle:"Űņǩņōŵŉ",ResClear:"Ĉŀěǎŕ",ResClearAll:"Ĉłěăř ǎļŀ",ResClearContinueWatching:"Čŀęăř Čōňŧĭňűē Ŵāťčħĭήģ",ResClearContinueWatchingPrompt:"Ŗēɱŏɣĕ ėɣęŕɏţħĭňɠ ƒŗōɱ ŷőŭř Ćŏńţįήūě Ɯąŧĉĥǐňģ ļĭśŧ?",ResClearContinueWatchingSuccess:"Ƈōŉťǐήųĕ Ɯąŧčħĭņģ čŀěăŗēƌ ŝųččěśşƒųĺŀŷ.",ResClearWatchlistPrompt:"Ŗěɱőɣė ĕɣęŗɏţħĭήĝ ƒŗőɱ ɏŏųŕ ʍɏ Ŀĭśţ?",ResClient:{androidtv:"ŷǒűŗ ƌěɣǐĉė",appletv:"Ʌƿƥŀė ŤѴ",appletvdemo:"Āƥƿļě ŢѴ",default:"ΧƂǒχ Ōŋę",desktop:"ƃŗŏɯšěŗ",ps4:"ƤŠ4",tizentv:"Ŝǎɱŝųɲġ ŦѴ"},ResClientConsole:{androidtv:"đęɣĩĉĕ",appletv:"Āƿƿľė ͲѴ",appletvdemo:"Āƥƥłē ŦѴ",default:"$t(ResClient) ċōňŝǒĺē",desktop:"ƀŕǒŵŝēř",ps4:"Śőņŷ ƤŀăɏŞťąŧĭŏņ 4",tizentv:"Ŝăɱšũɲğ ŢѴ"},ResClientRatingsDescription:"Ťħęšė ŕąŧĩņģş āřě ţĥĕ ɱōƨţ ŗēşŧřĩčţįɣĕ ƒřōɱ ɏőūř $t(ResBrand) ąƈƈǒũƞť ăɲđ ŷōŭŗ $t(ResClientConsole).",ResClientShort:{androidtv:"Ƌēɣįćę",appletv:"Ʌƥƿļē ͲѴ",appletvdemo:"Ʌƿƥľě ŦѴ",default:"Χƃōχ Ǒņė",desktop:"ƃŕŏŵƨēŕ",ps4:"ƤŚ4",tizentv:"Šāɱŝůŋģ ͲѴ"},ResClientVersionNotSupportedBody:{default:"Ƥľęăşē ųƿƋāŧĕ $t(ResBrand) ťǒ ţħė łǟťěśŧ ɣěŕšīőň ǟɣāĭľăƂļē ōή $t(ResClient).",desktop:"Ŵē’ɣĕ ɱǟďē ƨőɱě ĝŕėąţ ųƿƌāťēƨ ţǒ $t(ResWebsite). Ƥľėǟƨě ŕęƒŗėŝħ ţħė ƿąġė ťǒ čŏŉťīɲųė.",mobile:"Ŵē’ɣě ɱąđę šőɱĕ ġŕėāŧ ūƥƋǎŧėŝ ţŏ $t(ResBrand). Ƥľēăŝē ůƥďąŧē ťő ţĥĕ ľǎţēŝŧ ɣĕřšĭőŉ."},ResClientVersionNotSupportedTitle:{default:"ŲņšűƿƿőŕťěƋ Ѵėŕŝĭǒŉ",desktop:"ŴĕƄŝĩťę ŪƥƋąţęđ",mobile:"Ňęŵ Ѵēŕŝĩŏή ɅɣăĭŀăƂľė"},ResCloseContinueWatchingToast:"Ċőŉťįƞůė ŵǎťćĥǐŋģ ƈļŏŝē",ResClosedCaptioningSettings:"ƇłōśĕƋ Čǟƿťīőƞǐήģ",ResClosedCaptions:"ĈļőşēƋ Ĉǟƥŧįǒŉƨ",ResClosedCaptionsSettings:"Čĺŏśēđ Ćăƿťīōƞš Śęŧŧįňģƨ",ResCollections:"Ĉōĺĺěƈŧǐŏňś",ResComedy:"ČǒɱėƋɏ",ResCommerceAddPaymentMethod:"Ăđď Ƥǟŷɱėŋŧ Μęţĥőď",ResCommercePleaseWait:"Ƥĺěąşę Ŵąĩŧ…",ResCommerceStepOneOfTwo:"Śťēƿ 1 ǒƒ 2",ResCommerceStepTwoOfTwo:"Šťėƥ 2 ŏƒ 2",ResComponentLab:"Čǒɱƥǒņĕŉŧ Ŀāƃ",ResComponentTesting:"Ċǒɱƿǒńęŋţ Ͳėşţĩňġ",ResComposer:{default:"Čōɱƿŏšĕŗ",tv:"[Ćŏɱƿǒśęř](title) {{composer}}"},ResComposerWithSpacing:"Ƈőɱƿŏşěř: {{composer}}",ResConfirmAutoRenewOff:"ʏėś, Ţűřɲ Ĩŧ Ŏƒƒ",ResConfirmAutoRenewOn:"Ɏěƨ, Ͳūŕŉ Ĩť Ǒɲ",ResConfirmPINBody:"Ŕē-ĕŋťĕŗ ɏŏűŕ ńĕŵ ƤĬƝ",ResConfirmPINTitle:"Ĉőƞƒīŗɱ ƤĮŅ",ResConfirmPassword:"Ƈōŉƒĩŗɱ Ƥăƨşŵǒřƌ",ResConfirmTitle:"Ǎŕě ŷōų ŝūŕę?",ResContinue:"Čőŋťĩŉŭĕ",ResContinueWatchingCaps:"ĈŎƝŦĪɴŪĚ ƜĄŤƇĦĬŇĞ",ResContinueWatchingDescription:"Ǫůǐċƙĺŷ ąƈčęŝƨ şĥőŵş ǟŉƌ ɱŏɣīěƨ ŷŏū ħąɣėŋ’ť ƒǐņīśħėƋ ŵąţĉħĩņĝ:",ResContinueWatchingDisabled:{hbogo:{daydream:"$t(ResEmpty)",default:"Ţűŕń ŏņ Ĉǒƞťįƞũę Ŵǟťčħīƞġ ţǒ ŧŗāƈǩ ɣīđēőƨ ŷőŭ ăŗė ŵąŧċĥīɲğ.",mobile:"Ťŏ ţŗāƈķ ɣīƌėőƨ ŷōŭ ǟŕę ɯāţċħĭŋġ, ţūŕή ōŋ Ćōńŧįŉũē Ɯăţċĥĩňǥ ĭŉ Şėťţǐňǥş > Ѵįđēō Ƥľǎɏƀǎċƙ."},hbonow:"$t(ResContinueWatchingEmpty)"},ResContinueWatchingDisabledA11yText:{hbogo:{daydream:"$t(ResEmpty)",default:"Čőŉťīŋŭę Ŵąŧċħĩŋǥ. Ţŭŗŉ ǒń Ƈŏήŧįńűē Ŵąťċĥīŋġ ţō ţŕāƈƙ ɣĩďěőş ɏōū āřě ŵăţčħǐňǥ.",mobile:"Ĉǒŉţįŋŭē Ɯąŧƈħǐńġ. Ͳő ŧŕąĉķ ɣįƌėőƨ ɏőŭ ǎŗę ŵǎŧćĥįƞɠ, ŧũŗń ŏɲ Ćőŉťĭņųē Ɯąťċħįŉǥ ǐň Śěţŧīɲġš > Ѵĭďęŏ ƤĺǎɏƄąćĸ."},hbonow:"$t(ResContinueWatchingEmptyA11yText)"},ResContinueWatchingEmpty:"Ŷōŭ ħąɣē ŉő ɣĭƋēōś ĭń ƿŕōĝřēšş.",ResContinueWatchingEmptyA11yText:"Ċǒƞŧīňűĕ Ɯąŧċĥǐŋġ. Ŷŏū ħǟɣě ņŏ ɣǐďēőš ĭɲ ƿŕőğřęśś.",ResContinueWatchingEpisode:"Čŏņťĩŋũě ŵāŧćħīŉɠ",ResContinueWatchingFullEpisodeName:"{{series}} [{{episode}}](episodeFormat)",ResContinueWatchingSetting:"Ťůŗή Ōń Ćőήţǐήŭĕ Ŵāŧċħĩƞġ",ResContinueWatchingSettings:"Ćőήŧįńųĕ Ɯăţćĥĭŋǥ",ResContinueWatchingTimeRemaining:"({{timeRemaining}} ľěƒŧ)",ResContinueWatchingTitle:"Ƈőŉŧīńŭę Ŵăţċĥįņģ",ResContinueWatchingToastTitle:"ČŎŅͲĬɴŨĒ ŴĀŦƇĦĨɴƓ {{timeRemaining}}",ResControl:"Ċǒńţřŏŀ",ResCopyright:"© {{copyrightYear}} $t(ResHomeBoxOffice). Ąľŀ ŕĩġħţŝ ŕěŝęŗɣēđ.",ResCreateAccountA11yActivationInstructions:"Ĝǒ ţő $t(ResA11yWebsite)/$t(ResA11yActivationUrl) ǒή ɏőũř ƿĥǒɲę ǒŗ čŏɱƥųŧėŗ ǎņƌ ęňťěř ţħīƨ ćōďę:",ResCreateAccountActivationDetails:"Śŧǟŷ őɲ ţĥĭš şćřęėń ŵħīľę ŷōū ćŗėǟŧĕ ɏōůř ǎĉčŏūňŧ ōƞ ŷōūŗ ƥĥǒŋě őŗ ćōɱƥũťĕŕ.",ResCreateAccountActivationHeader:"Ĉřĕāŧĕ ăŉ ăƈćōųŋţ ťŏ ŝŧŕĕăɱ őň ɱőŕē đĕɣĩƈęƨ",ResCreateAccountActivationInstructions:"Ǥő ţő [$t(ResWebsite)/$t(ResActivationUrl)](strong) ōń ŷőūŕ ƿħōŋē ǒŗ čőɱƥųťēŕ āŉď ēņŧēŕ ŧħǐş čōđę:",ResCreatePINBody:"Ěņŧěŕ ǎ 4-đįɠįţ ƤĪɴ ƒōř ƿāŗēήŧāĺ ćŏήťŕōľš ąńƋ Ķǐđś ŀŏčǩ",ResCreatePINTitle:"Čřěǎťě ƤĬŃ",ResCurrencySymbol:"$",ResCurrentPinLabel:"Ƈŭřŕēňŧ ƤĨƝ (4 ďįɠīţš)",ResCurrentTime:"Ĉŭŕřęņŧ Ͳǐɱė (ŲŢĊ)",ResDOWAtTime:"{{dayOfWeek}} ăť {{time}}",ResDateAtTime:"{{date}} ǟť {{time}}",ResDaydreamHelp:"Ńĕěƌ ħęļƿ? Ģő ţŏ [ħēŀƿ.$t(ResWebsite)](h)",ResDays:"Đǟŷƨ",ResDeactivateConfirm:"Ǎŕę ŷőũ şůŕē ŷŏű ŵǎŋť ťǒ şĭɠň ŏůţ?",ResDeactivateDevice:"Şĭģņ Ŏůţ",ResDeactivateDeviceConfirm:"$t(ResYes)",ResDeactivateDeviceDeny:"$t(ResNo)",ResDeactivateSuccessBody:"Ƨĭĝń īŉ ǟģǟǐή āƞŷţįɱė.",ResDeactivateSuccessTitle:"Ɏőū’řě Şǐģŉėƌ Ŏųť",ResDeactivationInfo:"Ƨĩĝńĭήģ őůť ǒƒ $t(ResBrand) ɯįŀļ ůƞĺīņƙ ɏŏũŕ {{deviceName}} ƒŗǒɱ $t(ResBrand). ʏǒų čăŋ ƨǐģņ įƞ ǎğǎĭή ǟŉɏţǐɱĕ.",ResDetailViewLoadFailed:"Ƥăĝĕ ƒāǐłěƋ ţǒ ľōāƋ.",ResDetails:"ƊĔŦɅĨĹƧ",ResDevListActivationDateText:"Ĺǟšţ Ŝǐɠήęƌ Ǐņ",ResDevListCurrentlyStreamingText:"ŚŢƦĖĄΜǏŇƓ",ResDevListLastUsedText:"Ĺąşţ Ѵįęɯěď",ResDevMgtActiveDevicesText:"ǍĊŦĬѴĘ ƊĚѴĪƇĘƧ",ResDevMgtCurrentDeviceText:"ƇŰŖŔĒŃŤ ƉĔѴǏČĒ",ResDevMgtDescriptionText:"Ͳĥę đėɣīƈėŝ ƀĕĺŏŵ ǟřĕ ƨĩĝŋěď įņ ąƞƌ ŕĕăƌŷ ƒŏŕ ƨţŗęāɱǐήģ. Īƒ ŷǒů ăřě ƈōńčēřňĕƋ ŷōũŗ ąććŏũƞţ ĥǎś ƃēĕņ ċŏɱƥŗōɱĭśęď, śīĝň ōųŧ ǒƒ ɏőůŗ ďęɣĭćęş āņđ řęšėţ ŷōūŕ ƿăśŝɯōŕđ.",ResDevMgtNoDevicesText:"Ɏőų ĥăɣę ŋō őţħēř ďēɣĭƈėŝ ŗěġĭšťěřěƋ.",ResDeveloperSettings:"Ɗęɣėŀōƿěŕ Ŝėţŧįńɠƨ",ResDeveloperSettingsDescription:"Ŧĥěŝė šěťŧīήğŝ ŵĭŀŀ ňǒť Ƅē ǟɣăīłąƂŀē ţŏ ęŋƌ ŭşěŕƨ ąήđ ǎŗę ĭņťĕńƌęƋ őƞľɏ ŧŏ ĥėłƥ īŋ ţĕƨťĩɲǥ ąƞď Ƌēɣěŀőƿɱēňŧ",ResDeviceBrand:"Ďęɣįčě Ɓŗąňđ",ResDeviceManagementAllButtonShort:"Śīģή Ōųť",ResDeviceManagementAllButtonText:"Śīġń Ōųŧ ŏƒ Ăļļ Ɖęɣǐƈēƨ",ResDeviceManagementAllConfirmText:"Šįġɲ ǒűţ őƒ $t(ResBrand) ŏŋ ąļľ ƌĕɣīĉĕŝ, įńƈĺũđǐŉɠ ťħĩŝ ōňĕ?",ResDeviceManagementAllConfirmTitle:"Ŝĩģņ Ŏũţ ǒƒ Ăĺĺ Đēɣĩċėš",ResDeviceManagementAllDescription:{hbogo:"Ƨīġņ őũŧ ōƒ $t(ResBrand) őň ąĺł ďęɣĩċĕŝ, įƞċľųƌįɲģ ŧĥĩŝ ŏňě? Ŷǒũ’łŀ ňęęƌ ţō ŝīɠņ ĭň āğǎǐƞ ōň āĺŀ ɏŏůř ƌēɣǐċēś.\n\nĨƒ ɏőů ţĥǐŉķ ɏǒŭŗ ͲѴ ƿŕōɣǐƌěř ǟƈƈǒűŋť įš ƀēĩήģ ŭśēď ŵĭŧħőũť ŷőŭŕ ƥęŗɱįƨśĭōή, ċĥǎňǥĕ ŷŏũŕ ƥāśšŵőŕƌ Ƃĕƒōŗĕ ŝįǥƞīŋǥ ōűţ.",hbonow:"Śįģή őŭŧ ōƒ $t(ResBrand) ǒŉ ăĺł Ƌēɣĩƈěś, ĩƞčłŭƌīήǥ ţĥįŝ őńě? ʏōų’ļł ņĕěď ţő ŝīğń ĭń ǎǥāīŋ őń ăłļ ŷőųŕ đĕɣĩčĕš.\n\nĮƒ ɏōű ťĥįŉƙ ɏōůř ąčĉőůήŧ ĩš ƀėįŉģ ūšęđ ŵįťħŏűţ ŷōųŕ ƥěřɱǐŝśĭōń, ğǒ ťő Ƥřőƒǐļė ąƞƋ ċĥăňģē ŷōūŗ ƥăśşŵǒŕď ƀĕƒōŕė śĩɠŉīńğ ōŭŧ."},ResDeviceManagementAllHintText:"Įţ ɱǟɏ ŧāĸė ũƥ ţő 4 ĥōũŗš ţŏ ƨĩģή ŏųŧ ŏƒ ǎļļ ƌėɣĩċėŝ.",ResDeviceManagementViewTitle:"ʍăήǟɠę Đęɣǐƈėş",ResDeviceManufacturer:"Ɖęɣīƈĕ ʍǎήūƒǟćţŭŗēř",ResDeviceModel:"Ďěɣĩĉē ΜōƋēĺ",ResDeviceName:"Ɗęɣĩċē Ňǟɱė",ResDeviceOSVersion:"Ďĕɣĭĉē ŎŚ Ѵěřśįőń",ResDeviceSN:"Đęɣǐćě Şėřĭāł ŇűɱƂěř",ResDevices:"Ďēɣǐƈėŝ",ResDirectors:{default:"Đīŗĕĉţŏŗş",univ:"ƉĮŘĚĊͲǑŖŚ"},ResDisabled:"ǑƑƑ",ResDocumentaries:"Ďǒƈũɱĕŋťāŕǐēƨ",ResDone:"Ɖŏńĕ",ResDontHaveHbo:"Đōƞ’ŧ ĥǎɣĕ ĤƁŐ?",ResDontHaveHboNow:"Ɗőɲ’ŧ ħąɣė ĦßŌ ŃŎŴ?",ResDownloadTheApp:"[Ɗőɯήĺőąď ŧħę $t(ResBrand) ǟƿƿ](appStoreUri) ąňƋ šŧǎřţ ɏǒűŗ ƒŕėę ťŕįǎł.",ResENG:"ĘŃĞĽĪŚĦ",ResEdit:"Ęđǐţ",ResEditPaymentMethod:"Ęđīŧ Ƥǎɏɱėńţ",ResEditorialPlaylist:"ʍŏŗė {{playlistTitle}}",ResEmail:"Ėɱąįŀ",ResEmailAddress:{activation:"Ēɱąįŀ",commerce:"Ěɱǎǐĺ Ąďďŕęśƨ",default:"Ęɱāǐļ ɅƋđŗėŝŝ"},ResEmailNotificationError:"Ǎň ėɱąįļ ăƌďŗęƨş ĭƨ ŗėɋŭīŕĕđ ŵĥēƞ ěɱąǐĺ ήǒťĭƒǐƈǟŧīőŋś āŗĕ ťŭŗňěƋ ōņ.",ResEmpty:"",ResEnableParentalControlsButtonText:"Ƨęŧ Ƥǟŕēŋťǟŀ Ĉǒɲţŗőĺś",ResEnabled:"ǑŇ",ResEnglish:"Ėήğľīşħ",ResEnterPINBody:"Ěņťĕŕ ɏŏůŕ 4-Ƌĭğīŧ ƤĮɴ",ResEnterPINTitle:"Ĕņţėŗ ƤĬŅ",ResEnterPassword:"ƤăśşŵŏŗƋ",ResEnvironmentMenu:"Ĕƞɣįřōɲɱēńť",ResEpisodeNumDot:"Ĕƿ {{number}}: ",ResEpisodeNumberLong:"ĖƥĭƨōƋē {{episode}}",ResEpisodeNumberPrefixLabel:{default:"Ęƿ {{number}} ",mobile:"Ēƿ {{number}}   "},ResEpisodeNumberShort:"Ėƿ {{episode}}",ResEpisodeShortTitle:"Ěƥ {{episode}}: {{title}}",ResEpisodeTitleNoNumber:"{{title}}",ResEpisodes:"ĖƥĭƨŏƋĕŝ",ResError:"Ĕŗřŏŕ",ResErrorActivationMessage:"Ąċŧĩɣǟţĩǒή ƒāįŀęđ. Ƥŀěǎśę ŧŗɏ ąĝāĩή ļăťėŗ.",ResErrorActivationTitle:"Ąċţįɣăŧįōň Ęřŗŏř",ResErrorAffiliateAuthenticationMessage:{hbogo:"Ŵė’ŕę ĥąɣǐňǥ ţŕŏūƄĺě ɣĕřĭƒŷĭņġ ɏōűŗ ąċćēśŝ ţǒ $t(ResBrand) ɯǐŧħ ɏőųŕ ŢѴ ƥŕōɣĭđėŗ.\n\n{{affilateMessage}}",hbonow:"{{affilateMessage}}"},ResErrorAffiliateAuthenticationTitle:{hbogo:"Ƨįǥŋēƌ Ŏūţ",hbonow:"Ăćċěśš Ęřŕǒŕ"},ResErrorAuthenticationMessage:{hbogo:"Ɯę’ŗě ħăɣĩŉģ ţŗŏũƂĺĕ ɣĕřīƒŷīņǥ ɏǒůŗ ąĉćęşş ťǒ $t(ResBrand) ŵĩţĥ ɏŏŭř ŢѴ ƥřŏɣǐđėŕ.\n\nĪƒ ɏōű čōɲťĩņūę ťő ħǎɣĕ ťĥīƨ ĩşšūĕ, ĉōŉţāčţ ɏőūř ŢѴ ƿŕōɣīđĕř ƒŏř ǎşşǐƨťǎņčę.",hbonow:"Ɯē’ŗē ħǟɣǐňǥ ťŗōūƀłĕ ɣēŗīƒɏĭňġ ŷǒůŕ $t(ResBrand) śŭƄŝčřīƥţįőń. Īƒ ŷőŭ ćŏńťįňůė ţō ĥǎɣē ŧĥįş ĩƨşůě, čǒɲťāčŧ ŷőŭř ŝůƄƨċŗĭƥţįōɲ ƿřŏɣǐďĕŗ őŗ řęņēɯ ɏőũŗ $t(ResBrand) śũƄşčŗĭƥţǐőń."},ResErrorAuthenticationTitle:{hbogo:"Ŝĩğήĕđ Őũť",hbonow:"Ćǎή’ţ Ѵęŗįƒŷ Ɏőūř ŜũƂščŗįƿţĩőň"},ResErrorAutoplayDisabled:"ʏŏů ńęęđ ťŏ ƈĥǎńġė ŷŏŭř Ƨāƒąŕǐ āųťō-ƥłǎɏ śęťţīńġ ƒōŕ ťħĭƨ ɯěƂśĩťę.",ResErrorContentRestrictedMessage:{hbogo:"Ťĥĭś īťěɱ ĭś ŗĕŝţřǐċţěď Ƅɏ ťĥę ƥăŕėŋţăĺ ćǒήťŕőŀš ƒőŕ ŷőũŗ {{affiliateName}} ǎĉćǒũňť. Ĉħėčķ ŷǒūŗ {{affiliateName}} ƨęŧţįņġş ǒŗ ĉōňťǎċŧ {{affiliateName}} ƒőř ɱŏřĕ ĭňƒōŗɱăŧįŏň.",hbonow:"Ťĥįŝ ɣįďėő ĭś ŕęśťŕīĉťĕď ƃŷ ƥāŗęɲŧǎĺ ĉōňţřōłš. Ťő ūƥđąŧę ɏŏūŕ ŝėŧţĭƞģś, ģǒ ŧŏ Šēţţǐŋģş > Ƥăŕēƞťąļ Ƈǒńţŗŏĺş."},ResErrorContentUnavailableMessage:"Ͳħē ǐŧėɱ ŷőų řēɋūěƨťěƌ ĩŝ ņōţ ćųŗŕěƞţĺŷ ǎɣǟįľąƃĺę.",ResErrorContentUnavailableTitle:"Ċǒňťĕήţ ɴōŧ ĂɣǎīłǎƂĺě",ResErrorExpiredSessionMessage:"Śőŕřŷ, ťħē ĺǐήǩ ĥăŝ ęϰƿįŕęƌ.",ResErrorExpiredSessionTitle:"Ļīňķ Ėχƥįřęƌ",ResErrorHDCPMessage:"Čħěĉķ ŷŏųř ĤƊΜĨ ćōƞƞĕċţįŏŋš.",ResErrorHDCPSetupMessage:"Ąɲ ĤƉČƤ ǐƨƨūě ɯǟš ƌēŧēĉţĕƋ ŵįţĥ ŷŏůŕ đĕɣįćę šĕţűƥ.",ResErrorHDCPTitle:"ĤĎĆƤ Ęřřŏŕ",ResErrorInvalidSessionMessage:{appletv:"Ɏőűř ŝēşƨĭőņ ħăş ěϰƿĩŕęƌ. Ƥľęāśě ŝĭġŉ īŋ ǎğăǐɲ.",default:"ʏőũŗ śĕƨƨĭŏń ĥǎś ęχƿįŗēƌ. Ƥļėąŝē řęāƈťĭɣāţě $t(ResBrand) őń ŷŏűŗ $t(ResClientShort).",univ:"Ɏǒůř śĕŝšĩőɲ ĥąś ěϰƿįŕēď. Ƥŀėǎşě šįǥň ĩŋ ăģąǐή."},ResErrorInvalidSessionTitle:"Ƨĕƨšīǒň Ēχƿǐŕēđ",ResErrorMessageDefault:{default:"Ʌή ěŗŕōř ĥǎŝ ŏćċůŕřěď. $t(ResBrand) ŵīłŀ ňǒŵ řęşţąŕŧ.",desktop:"Ǎň ēŗŕōř ħąŝ őƈċůŕŕęƌ. Ţřɏ ŕėƒŕėšħįńĝ ťħě ƥąġē ǒŕ ņǟɣĭģăťįńĝ ţǒ ăήōťĥěŗ ƿǟğě."},ResErrorNetworkMessage:{default:"Ŵĕ’ŗě ħǟɣǐɲɠ ĩššűēƨ čŏɲńĕċţǐŉɠ ŧő $t(ResBrand) ŗǐǥħŧ ήŏŵ. Ƥŀěāşĕ ċĥēĉǩ ŷŏůř ǐňŧĕŗɲēť ćǒňňěċŧįŏή ăŉƌ ţřŷ ăĝąĭń. $t(ResBrand) ŵīľľ ήőɯ ŗĕşţąřţ.",desktop:"Ɯę’ŕē ħǟɣīńɠ ĭŝŝűēş čŏňńėćťįɲġ ŧǒ $t(ResBrand) ŗǐǥħť ƞŏɯ. Ƥłĕāšė ċħęĉĸ ŷŏūř ĩńŧęřήęŧ ćōŋńĕċťįŏƞ ǟńď ţŗŷ ąġāǐň."},ResErrorNetworkTitle:"Ņĕţŵŏŕķ Ėŗŕőŗ",ResErrorNetworkWhilePlaying:"Ŵē’ŗě ħăɣĭɲģ ţŗőũƄŀĕ ƿłąɏǐńġ ţĥįš ɣĭďėŏ. Ƥłĕǟƨē ćħęĉĸ ɏŏųř Ĭņťęŗŉėţ ĉōņήęċťĩőň őŗ ţŗŷ ąģǎǐƞ ľăţēŕ.",ResErrorPlaybackFlashLinkText:"ɠĕŧ.ǎďőƀē.ċŏɱ/ƒľăŝħƿļąɏēř",ResErrorPlaybackFlashMessage:"Ŧĥĕ łǟťěšţ Ăďǒƀě Ƒļāşĥ Ƥľąŷēŕ ɱūŝţ Ƅē ĭňşţǎŀŀėƌ ǟŉď ėƞāƀļěƋ ǐņ ŷőůř Ƅřōŵŝěř.",ResErrorPlaybackFlashSubMessage:"Ŧǒ đőŵɲľŏąƋ Ƒŀǎşĥ Ƥĺąŷēŕ, ɣīşĩţ",ResErrorPlaybackMessage:"Ŵě’ŕē ĥąɣįŋġ ťŗōūƀľě ƿĺāŷįňğ ţĥīś ɣĭƋěō. Ƥĺěǟśē ŧŕɏ ǟǥăĭň ľāťěŕ.",ResErrorPlaybackTitle:"Ćąή’ţ Ƥĺāŷ Ѵǐđĕő",ResErrorPlayerErrorTitle:"Ċǟή’ť Ƥĺăŷ ѴĩƋěō",ResErrorPrivateBrowsing:"ʍąĸę ŝůŕė ɏǒůř ƀřőŵšĕŕ ĩƨ ņőŧ ǐň ƿŕīɣǟţě ƃřōŵšįήǥ ɱōđē.",ResErrorServiceMessage:{default:"Ăń ěŕŕŏŕ ĥāś ōƈčůŕŗĕƌ. $t(ResBrand) ŵǐĺł ŋōŵ ŕěƨŧǎřť.",desktop:"Ąɲ ęřŕǒŕ ĥǟš őċćűřŗěď. Ƥŀěąśě ţŕɏ ǟɠąįƞ ĭň ą ƒēɯ ɱįńűţėś."},ResErrorServiceTitle:"Šęŗɣĩćě Ěŕŕŏř",ResErrorServiceTraceId:"Śēřɣīĉĕ Ƈőƌĕ: {{traceId}}",ResErrorServiceWithMessage:{default:"$t(ResBrand) ĭƨ ťęɱƥǒŗǎŗĩĺɏ ŭňǎɣāīłăƄĺę. $t(ResBrand) ɯĩłļ ņǒŵ řęƨŧǎŕť.\n\n{{serviceMessage}}",desktop:"$t(ResBrand) ĩś ŧěɱƥŏřąŗǐłɏ ųņăɣǎǐłăƂłė.\n\n{{serviceMessage}}"},ResErrorStreamTrackingMessage:"Ŷōŭ’řě ŝťŗĕǟɱǐňğ $t(ResBrand) ŏɲ ŧǒō ɱąŉŷ ďėɣįċĕŝ śĩɱųŀťąŉėőųšłɏ. Ţō ćŏņţǐŋũĕ, ƨŧǒƥ šţŗęāɱǐńǥ $t(ResBrand) őń ǟƞőŧħėř Ƌęɣĩćě.",ResErrorStreamTrackingTitle:"Čǎň’ť Ƥľăŷ ѴĭƋěǒ",ResErrorSubscriptionExpiredMessage:{hbogo:"Ɯė’řē ĥąɣįňǥ ŧŕǒųƄĺę ɣęŗįƒŷīɲģ ŷōŭř ąƈċėšŝ ťō $t(ResBrand). Ƥĺęąśė ċŏņťāćť ɏŏūŕ ŢѴ ƥŗőɣǐƌėŗ.",hbonow:"Ͳō ŗęņęɯ, őƿěŉ ţħē $t(ResBrand) ăƿƥ āňď ċĥőōśė Ŗęŋęɯ ʏǒűř ŞŭƂśċŕįƥťįǒň."},ResErrorSubscriptionExpiredTitle:{hbogo:"Śōɱęŧħĭńģ Ŵēńť Ŵŗōɲĝ",hbonow:"Ɏŏŭř Şůƃśčřįƥŧĩŏƞ Ħǎŝ Ēϰƥǐŕēđ"},ResErrorUnavailable:"Šǒŗŗŷ, ťĥǐŝ ĩŋƒō ǐś ŧěɱƿǒŗǟřǐļɏ ūńąɣāĭľāƃľĕ. Ƥłēǎšę ţŕŷ ǟġǎǐŋ ľăťėŕ.",ResErrorUnknownServiceTraceId:"ŨŃǨŅŐŴŃ",ResExplore:"ĚΧƤĻŎŔĚ",ResExtras:{default:"Ēϰţŕăŝ",univ:"ĖΧŦŘĀŚ"},ResFamily:"Ƒāɱīŀɏ",ResFaqMenu:"Ĥěļƥ",ResFastForward:"Ƒāŝť Ƒǒŗŵąŕđ",ResFaster:"Ƒăšŧĕŕ",ResFeatured:"Ƒēăťųřĕđ",ResFindOutHow:"Ƒǐήđ ŏůŧ ħōŵ",ResFivePointOne:"5.1",ResFooterHelpLinkText:"Ѵǐƨīŧ ŧħě Ĥěļƿ Ĉēňŧēŕ",ResFooterHelpText:"Ɲėěđ ħēļƥ?",ResFooterSignInHelpText:"ƝěēƋ ĥēľƿ şǐģńīŉǥ ǐň?",ResForgotPINButton:"Ƒǒŕĝőŧ ƤǏŇ?",ResForgotPINTitle:"Ƒőřģŏť ɏŏūř ƤǏŅ?",ResForgotPassword:"Ƒőŕǥŏţ Ƥǟšşɯōŗƌ",ResForgotPasswordCheckEmailInstructions:{activation:"Ćħęćǩ ɏŏũř {{emailText}} ĭƞƂŏϰ ƒŏŗ ă ƿāƨƨɯǒŕď řĕƨēŧ ęɱăĭľ.\n\nĪƒ ŷőũ ďőή’ŧ ġēţ ţĥĭš ęɱąįļ šǒŏň, ƨěĕ [Ćăŉ’ŧ ŕēŝėţ ƥąşšŵőŕƋ](a).",default:"Ĉħĕčǩ ŷǒũŕ {{emailText}} įŋƄōχ ƒǒŕ ǟ ƿǟšƨŵŏŕď ŕęƨĕţ ėɱǟįĺ.\nĨƒ ɏŏů ďŏŋ’ŧ ɠĕŧ ţħįš ĕɱǟįŀ ƨőōņ, śęė [Čąń’ŧ řęśēţ ƥąƨšŵőŗƋ](a).",mobile:"Ƥľēąŝĕ ćħĕĉǩ ŷǒũř ęɱāǐļ ƒőŕ įŉƨťŗųćťįőňƨ ǒŉ ĥőŵ ťǒ ŕēšėť ɏōŭŗ ƥǟšŝŵŏŗƌ."},ResForgotPasswordEmailSent:"Ęɱąīł Ƨěήŧ",ResForgotPasswordInstructions:"Ęņťęŗ ŷǒŭř $t(ResBrand) ěɱăǐĺ ǎňƌ ŵě’łŀ ŝěŋď ŷŏŭ ǎ ļĭήķ ťō ŕėşēť ɏǒũŕ ƥăŝśɯǒŕď.",ResForgotPasswordServiceError:"Ōōƿş, ŝőɱęţĥĭɲɠ ŵęŋŧ ŵŗőήĝ. Ƥľęǎşę ŧŕŷ ǎģąīŉ ŀāŧĕŕ.",ResForgotPasswordSubmitButton:"Şūƀɱīť",ResForgotPasswordTitle:"Ʀėŝęť ʏŏůŕ Ƥąşšŵōŕđ",ResForgotPasswordWithQuestion:"Ƒŏŗģōţ ƿāśşŵőŗƋ?",ResForgotPinConfirmationText:{hbogo:{default:"Ƈħĕćǩ ŷōũř ǐŉƄǒχ ƒǒř ǎ ƤĬƝ ŗĕɱǐɲƋěŗ ęɱǎįŀ. \n\nĪƒ ťħė ęɱăĩļ Ƌǒēŝň’ŧ ǎŗŗīɣě şőōň, ƈĥěčǩ ŷǒůŗ šƿǟɱ ƒŏŀđěŗ.",mobile:"Ƈĥēċǩ ŷǒŭŕ įŋƂőχ ƒŏŕ ǎ ƤĮŃ ŕėɱĭƞƋęŗ ĕɱăǐł."},hbonow:{default:"Ćĥęćĸ ŷǒűř īňƄŏϰ ƒǒŕ ă řėƨėť ƤĨƝ ęɱǎǐĺ. \n\nĮƒ ŧħė ęɱāǐł ƌōęšƞ’ţ ǟŕŗįɣě şőőŋ, ƈħēĉƙ ŷŏůŕ šƿǟɱ ƒōłďěř.",mobile:"Ĉĥěčĸ ŷǒůř ǐŋƃŏϰ ƒōř ą ŗēšęţ ƤǏƝ ęɱǟĩł."}},ResForgotPinConfirmationTitle:{default:"Ŝůččėşƨ",mobile:"Ėɱǟĭľ Ŝěƞŧ"},ResForgotPinLink:"Ƒōŕġōţ ƤĬŃ?",ResFormattedEpisodeShortTitle:"[Ęƥ {{episode}}:](gray) {{title}}",ResGeoBlockBody:{daydream:"$t(ResBrand) ǐş ăĉƈēşšīƂŀė ōńłɏ ǐń ţħě Ų.Š. ǎŋđ čēŕţăįŉ Ů.Ƨ. ťėŕŕǐŧőřĭěŝ.\n\nĪƒ ŷŏų’ŕė ļőċăťēƋ ǐň őŉė ōƒ ţħěšė ąŗęāś ǟņƌ ěχƿĕřīĕŋĉįńĝ ďǐƒƒīċųŀţĭěŝ, čőŋťąƈť ŷŏŭŗ $t(ResGeoProviderString).",default:"$t(ResBrand) ǐŝ āčćęŝŝĩƃļě ōήĺɏ įŉ ŧħę Ū.Ś. ăƞď ćėŗŧǟįɲ Ű.Ƨ. ŧęŕřǐţŏŕīęś.\n\nĬƒ ŷőŭ’ŕě ŀǒƈǎţēď ĩŉ ōŋē ŏƒ ŧĥĕşě ăřęǎś ăŋƌ ěϰƿěŗĭěήĉĩňǥ đĩƒƒĭčūłţǐěƨ, čŏņťăĉţ ŷőūŗ $t(ResGeoProviderString).\n\nƑŏř ɱǒŗė ħĕŀƥ, ɠǒ ťŏ: [įťśĥ.Ƃō/ƨēřɣǐčė-ăřĕą](geoBlockHelpLink)",mobile:"$t(ResBrand) īś ąĉƈęƨƨĩƄłĕ ǒɲļŷ įɲ ţħę Ũ.Š. ąŉď ćěŕţǟīƞ Ų.Š. ŧęřřĭŧŏŕįĕş.\n\nĪƒ ŷōũ’ŕė ŀőčąţėƋ īŋ őŉē őƒ ŧħęśę ăŗėąş ąŋƌ ęϰƥėřǐęƞċįņĝ ƌīƒƒĭċųľťĩėś, čǒήŧāƈť ɏǒůŕ $t(ResGeoProviderString) ƒōř āšśǐƨŧāņĉę."},ResGeoBlockTitle:"Ňōŧ ĩή Ŝĕŗɣǐĉę Āřėǟ",ResGeoProviderString:{hbogo:"ͲѴ ƿŕōɣīƋēř",hbonow:"Īƞţěŕńěţ ŝĕŗɣĩčē ƿŗŏɣǐđėŗ"},ResGeoUnitSelectionDropDownPrompt:"Ƈĥőǒšė",ResGetStarted:"Ǥęţ ŞŧǟŕŧĕƋ",ResGiftCardEntryCodeLabel:"Ɠǐƒť Čăřđ Ċŏďė",ResGiftCardEntryGeoUnitLabel:"Ƨťāŧē ōŕ Ͳēŗřĩţǒŗɏ",ResGiftCardEntryZipCodeLabel:"ŽĬƤ ČǒƋė",ResGiftCardGeoUnitDisplayName:"{{name}} – {{abbreviation}}",ResGiftCardInputPlaceHolderText:"Ěƞťĕŕ ĝǐƒţ ĉāŗƋ ċŏďē",ResGiftCardOKGotIt:"ŎǨ, Ģŏť Įŧ",ResGiftCardOneMoment:"Őɲę ɱǒɱęňŧ, ƥłęąŝę",ResGiftCardRegisterRedeemButtonText:"ŖěƋĕĕɱ",ResGiftRedeeming:"Ŵě’ŕĕ ŵŏŗķįɲĝ ōɲ ŗęđěĕɱĭŉġ ŷōũř ĝīƒţ ćăŗđ.",ResGiveUpInfo:"Ɯė’řę ħāɣǐňğ ţŕőūƄĺę ćōɲňěƈťĩƞɠ ťō ťħě $t(ResBrand) ŝęŗɣĩćě. Ƥĺęǎśę ĉĥėčķ ŷǒūŗ Įņťěŕŋęţ ćőńňēćťĭōɲ őŕ ťŕɏ ǟģǎĩń ļăŧěŕ.",ResGiveUpTitle:"Ƈǟŉ’ŧ Ċōňňęċť ŧő $t(ResBrand)",ResGoToTheHomepage:"Ĝǒ ťǒ ŧħē [ħǒɱĕƿǟɠė](a).",ResGotIt:"Ġŏţ Įţ",ResGuests:{default:"Ĝűēśţś",univ:"ǤŰĔŜŦƧ"},ResHBOGO:"ĤƁŌ ĞǑ",ResHBONOW:"ĦƁŌ ŃǑƜ",ResHD:"ĦĎ",ResHelp:"Ĥĕŀƿ",ResHere:"ħęřē",ResHi:"Ħį ťħęŕě",ResHiUsername:"Ĥǐ {{username}}",ResHide:"Ĥĩđę",ResHidePW:"Ħǐđě Ƥāšŝɯōŗƌ",ResHome:"Ĥōɱė",ResHomeBoxOffice:"Ħōɱē Ɓōχ Ǒƒƒįƈě",ResHours:"Ĥǒůŗš",ResIAPConfirmationErrorMessage:"Ŷōų’řě ŕěăďŷ ťō śŧŕĕǟɱ. Ɯĕ ĵůšţ ņĕęđ ťǒ ŗęŝţăŗţ $t(ResBrand).",ResIAPErrorMessage:"Šőŗŕŷ, ŵę čāņ’ţ ŗęāćħ {{store}} ŕǐģĥţ ɲŏŵ. Ƥļěāšē ţŕŷ ąģǟĭņ ŀǟŧėŕ.",ResIAPLinkReceiptErrorMessage:{default:"Ƨōŕřŷ, ŵĕ čōŭľďń’ŧ łǐŉķ ɏőŭř ńēŵ śųƂšċŗǐƿŧīŏň ťŏ ɏōůř $t(ResBrand) ăƈćŏūňţ.\nŢŕɏ ŧő ŵǟŧƈĥ şőɱĕťĥįŋɠ, ŧĥĕň ĉĥŏŏšė Ļĭňķ ɏǒűŕ ŝũƀşċřĩƥŧĩǒή > {{store}}.",ios:"Şōŗřɏ, ŵę ćőűľƌή’ŧ ľǐňǩ ɏǒũř ńėŵ śűƀśĉŗĩƿťįőή ŧǒ ɏŏůř $t(ResBrand) ǟćčōųńť.\nŦŗɏ ťǒ ŵǟťċħ ŝǒɱęŧĥīƞģ, ţħĕή ƈĥőŏŝē Ŕēŝţǒŕĕ Ƥūřƈĥāƨě: {{store}}.",tv:"Ƨōřřɏ, ŵě ċŏūļƋŉ’ŧ ļĩŋķ ɏŏűŕ ŉęŵ şųƀŝćŗīƿţīǒή ťő ŷŏūř $t(ResBrand) ăčćőŭɲţ.\nŢŗɏ ţŏ ɯǟţĉĥ şőɱĕŧħĩήɠ, ťĥĕņ ćĥŏōŝę Ŕēśŧǒřę Ƥũŗĉħāƨę: {{store}}."},ResIAPOopsTitle:"Ŏőƿš, Śŏɱęťĥĩɲġ Ŵěɲŧ Ŵŗōňɠ",ResIAPPurchaseErrorTitle:"Şűƀŝċŕĭƥţĩőŋ Ƥųŕčħǎŝė",ResIAPRestoreAlreadyLinkedAnother:"Ŝűƃšĉŕįƥţĩŏň Ļīňĸęđ ţǒ Ʌɲőťħėŕ Ăčċōŭɲţ",ResIAPRestoreAlreadyLinkedTitle:"ƧũƄƨċřǐƥţįōň Ŀĩņĸēď ŧō ąή Ǎćċőűņţ",ResIAPRestoreBoundAuthError:"Ͳħě ŝũƂşćŕĭƿţǐŏŋ ɯę ƒōŭƞď ĩƨ ľǐŉƙēď ŧŏ ǟ đĭƒƒěŗěŉţ $t(ResBrand) āċčōųɲţ. Ţǒ şŧǎŗţ ŵǎţćĥǐήǥ, ƿļęāšĕ ƨĩǥň ĩŋ ŧō ŧĥĩƨ ǎćčőūɲŧ.",ResIAPRestoreBoundUnauthError:"Ťħĕ şūƄƨċřĩƥţīǒń ŵē ƒǒűņď ĩš ăłřęąƌŷ ĺĭŉǩėď ţő ǎņ $t(ResBrand) ǎććōůńŧ. Ͳŏ ƨŧǟŗţ ŵāŧćħĭņğ, ƥľēǎƨě ƨįģή įŋ ţő ţħĭś ăččōůƞŧ.",ResIAPRestoreErrorTitle:"Şűƃśćŕǐƥţīōň Ŗēśŧŏŕě",ResIAPRestoreGenericErrorMessage:"Ƨŏřřɏ, ŵę ćǟŋ’ť ŕĕăċĥ {{store}} ŗīɠĥť ŋŏɯ. Ƥĺěǎŝē ŧŗɏ ąģǟǐŉ łǎţĕŕ.",ResIAPRestoreNothingFoundError:"Śőŕřŷ, ŵě ƈǒŭŀƋŉ’ŧ ƒīńđ ǎ šũƃŝćŗįƥťǐǒŋ ƒǒŗ ŷőŭ ǐƞ {{store}}.",ResInheritedPCLink:"ŢѴ ƥřőɣīďęŗ ăĉċōũňŧ.",ResInheritedPCNoLink:"Ŧǒ čħąňǥě ŷŏūŗ śęţţĩňǥş, ģō ţő ɏōųř ŢѴ ƥŗŏɣīđėř āċčőūήť.\nʏőů ɱűśŧ şǐĝŉ ǒŭť ăņď ŧħĕņ ŝĭġɲ ĭƞ ƒŏŗ čĥǎήĝĕş ţō ŧǟķę ĕƒƒēċŧ.",ResInheritedPCPostLink:"Ŷǒů ɱŭşţ şǐģƞ ǒűŧ ąήđ ťħęή ŝǐġή ǐɲ ƒǒŗ ćħǟńġĕƨ ťŏ ŧāǩė ėƒƒēćţ.",ResInheritedPCPreLink:"Ŧŏ ĉĥǎŉɠę ɏǒųř śěţŧĩŋģš, ĝǒ ŧŏ ŷōůŕ ",ResInheritedParentalControlsInstructions:"Ŕĭġħŧ ŋŏŵ, ɏōūŕ šęťŧǐήɠŝ ăŕē:\n\nͲѴ: {{tvRating}}\nΜŏɣīėš: {{movieRating}}\n\nƤāŗęňţāľ ċőήťŕōľš ħăɣę ƃěĕň şĕţ ţĥŕǒūĝĥ ŷōűŗ ŢѴ ƥŕōɣīđĕŗ. Ċħǎňǥė ťĥēşę şēŧŧĭƞġŝ ǒŉ ɏǒũŗ ŢѴ ƥŗŏɣǐďěř’š ŵěƂśīťē.\n\nƑőŕ ċħąńğĕş ţő ťąĸę ēƒƒĕćţ, ŝįɠɲ ōŭť ŏƒ $t(ResBrand) ǎńđ ţĥėƞ šĭģň ĭņ ǎɠăīή.",ResInheritedParentalControlsNotice:"ʍąχīɱųɱ ǟļłŏɯėď ŗąťĭήğş:\n\nŢѴ: {{tvRating}}\nΜǒɣĩėƨ: {{movieRating}}\n\nƤǎŗęņţǎŀ ćŏńŧřőłś ħąɣě ƃĕěŋ šėţ ťħřŏűǥħ ɏōŭŕ ŢѴ ƥřōɣīđēř. Ƈĥāņĝĕ ŧħěƨě ŝĕţŧĩŋɠŝ ǒň ɏǒũŕ ŤѴ ƿŕōɣĩďěŕ’ş ŵēƂŝĩţĕ.\n\nƑǒŗ ćħǎŋĝėš ţō ŧāƙę ĕƒƒēĉť, şįġŋ ŏųţ ōƒ $t(ResBrand) ăňƋ ţĥęŋ şĩǥŉ ĭή ǎġāǐŋ.",ResInteractive:"Ĭņţęŕǟĉťĩɣē",ResInteractiveCoachFloatingTitle:"Ŵħēň ɏŏŭ ŝēę ţĥįƨ ĩćǒń, ťǎƿ īţ ƒőŕ ɱőřē ĉōƞţĕƞŧ.",ResInteractiveCoachPlayerBarTitle:"Ͳǎƿ ĥėŕė ţō şęē ǎĺĺ ĩńŧĕřāċŧįɣě ćōŋŧěńť.",ResInteractiveCoachTitle:"Ѵīƈė Ǐήťĕŗǟĉťĭɣĕ",ResInvalidEmailError:"Ěňţęř īɲ ţĥĕ ƒǒŗɱǎŧ: ňǎɱě@ĕϰǟɱƥŀĕ.čőɱ",ResInvalidEmailLengthError:"Ƥĺĕăšē ěŉŧěŕ ǎ ɣąłǐƋ ęɱăĭľ ąƋđŕęšś.",ResInvalidFirstOrLastNameError:"Ÿŏūř ɲǟɱĕ ĉǟɲ ōƞŀŷ įƞčłūƌě ľěŧţėŗš Ǎ-Ž őŕ ă-ż.",ResInvalidFirstOrLastNameLengthError:"Ƥłėąŝė ĕŉţěř ŷōŭŕ ƒǐřśţ āņƌ ļăşť ňǎɱē.",ResInvalidGiftCardError:"ĮήɣāĺīƋ ƈőƌĕ. Ƥĺěąšě ŗę-ęŋťęř ţħē ĉǒďĕ.",ResInvalidGiftCardGeoUnitError:"Ĉħǒōŝě ā śţǟťē ǒŗ ťěřŕǐŧōřŷ.",ResInvalidGiftCardZipAndGeoUnitError:"Ĉħǒǒƨė ă śŧăŧę āňď ĕńţęŕ ĩń 5-ƌīǥĭţ ŹĪƤ.",ResInvalidGiftCardZipError:"Ěŉŧėŕ ą 5-ƌįĝĩţ ŻĮƤ Ĉŏđē.",ResInvalidLicensePlateLengthError:"ĆōƋě ɱūƨť ƃē 6 ċĥāŕǟĉťēŗš.",ResInvalidPasswordLengthError:"Ÿōųř ƥǎŝśɯőŗđ ɱųśŧ ƀę 8 ǒŕ ɱőŗĕ ċħǟřāċŧęŗş.",ResInvalidPasswordLetterError:"Ɏǒūŕ ƥąşşɯŏŗď ɱūƨţ ħāɣĕ ąť ĺėǟƨŧ ǒŋė ĺėŧŧęŕ.",ResInvalidPasswordMaxLengthError:"Ÿőųŗ ƥǎşŝŵōŕƋ ɱūŝť Ƅĕ ļėšś ŧħąŋ 65 ĉĥāŗąćŧěřş.",ResInvalidPasswordNumberError:{activation:"ĪńƈŀůƋė ā ŋųɱƄĕŗ ōř śƥēćǐāł čĥăŕǎċťěŕ.",default:"Ɏōųŗ ƥāşŝŵŏŕƌ ɱŭŝť ħāɣę ă ƞůɱƂęŕ őř şƿěċĩăľ ċħāŕǎčťĕŗ."},ResInvalidPhoneNumber:"Ēήŧęŕ ŷōũř 10-ďĩģĩţ ƥħőŋĕ ňůɱƃěř.",ResInvalidPinError:"ʏǒŭř ƤĨƝ ɱũšţ ƀė 4 ƌǐġĭťś.",ResInvalidUserIdError:"Ɗő ŉőţ įƞƈĺŭƋė ƨƿěċǐăľ ĉħąŕǟćťėŕŝ: <>=;&{}",ResInvalidUserIdLengthError:"Ęŉŧěŕ 3–14 ĉĥąŕǟƈŧēřş ŏɲĺɏ.",ResInvalidZipError:"Ěɲţěŕ įŉ ťħė ƒőŕɱǎť 12345 őŕ 12345-1111.",ResJoinLiveInProgress:"Ĵǒīŉ ǐƞ ƥřőġřēśŝ",ResJumpToEpisodeDetails:"Ėƿĭƨőďě Ɗēţǎįļŝ",ResJumpToExtras:"Ěχťŗǎś",ResKeyboardItems:"Ǎ,ß,Ć,Ď,Ě,Ƒ,Ɠ,Ĥ,Į,Ĵ,Ķ,Ļ,Μ,Ň,Ō,Ƥ,Ǭ,Ř,Ŝ,Ţ,Ŭ,Ѵ,Ŵ,Χ,Ÿ,Ž,0,1,2,3,4,5,6,7,8,9",ResKids:"ĶįƋş",ResKidsLockConfirmButtonText:"Ͳųŗņ Ōň",ResKidsLockConfirmMessage:"Ÿőů ŵįłľ ŏŉļŷ ƀē ǟļļōŵěđ ţő ėχƥĺőŗě ƨħōɯƨ ŵĭŧĥĭņ ťħē ƘĭƋƨ ƨěĉťĭōň.\n\nŤő ţųŕή ōƒƒ ťħĕ ļōčĸ, ťāƥ ŧĥě Ǩĭƌŝ ĺǒćķ ǟήđ ţĥěņ ēήŧėŗ ŷŏũŗ ƤĬƝ.",ResKidsLockConfirmTitle:"Ţůŕŋ Ŏƞ Ǩǐƌš Ļǒćĸ?",ResKidsLockInformationalAltMessage:"Ŏŕ, ɏōū čǟņ ĉŏńťřőĺ ŵĥįćħ śĥōŵś āřě ŵāţĉĥĕƋ Ƃǟşĕđ ǒή ŗāţǐņǥš.",ResKidsLockInformationalLinkText:"Ƈħėċǩ Ƥąŕėņŧąŀ Čőƞŧŕǒļƨ",ResKidsLockInformationalMessage:"Ŧăƿ ťĥě łōƈƙ ţő őήłɏ āĺłŏŵ ăĉćĕşś ťő śħōɯś ɯĭŧħįň ţĥĕ Ķǐƌš śēƈţǐǒή.",ResKidsLockInformationalTitle:"Ăŧŧěɲťĩōƞ Ƥǎřĕŋŧš",ResLanguage:"Ļǟńɠůąğę",ResLanguageViewLabel:"$t(ResBrand) ąƥƥ ļăňɠůăĝě",
ResLanguageViewTitle:"Łǎήɠűǟģě",ResLateNight:"Ĺāŧě Ńįġħţ",ResLatest:"Ĺǟţěƨť",ResLearnMore:"Ŀėāřή Μőŕę",ResLegal:"Ƥřĭɣāĉŷ & Ťėŕɱŝ",ResLegalCTA:"Ƨėę Ƒůłł {{legalText}}",ResLiteRegistrationSaveButtonText:{hbogo:{activation:"Čřēǟţē Ƥŕőƒĩľę",default:"ŠĄѴĖ"},hbonow:"Čřēąťĕ Ƥŕőƒįľē"},ResLiteRegistrationText:{hbogo:{activation:"Ͳǒ ƨţǎřţ śţŕĕąɱĭňĝ, ƥĺėǎƨĕ ćřĕăŧě ăŋ $t(ResBrand) ƥŗŏƒĩļě.",default:"Ƥĺėăšē ćǒɱƥļēŧē ŷőŭŗ ƥŕǒƒīľė."},hbonow:"Ƥĺęǎşē ƈŏɱƥļēťě ɏŏůŗ $t(ResBrand) ƥŕőƒĩłę."},ResLiteRegistrationTitle:{hbogo:{activation:"Ćŗēǎţĕ Ɏǒůŕ Ƥŗőƒīļě",default:"Ɯęĺĉŏɱē ŧō $t(ResBrand)"},hbonow:"Ċŗěǟťě Ɏōūř Ƥřōƒįļė"},ResLiveDayAtTime:"Ĺīɣĕ | {{dayAtTime}}",ResLiveNotAvailable:"Ťħĩš ɣĩƌęŏ īƨŉ’ţ ăɣāǐľǎƄłē ŷęţ.\nƤŀėāƨė čōɱē ƃǎĉķ ļāťēŗ.",ResLiveNow:"Ĺĩɣē ɴŏŵ",ResLoading:"Ļǒăďǐŉĝ…",ResLocaleOverrideMenu:"Łőčąłĕ ŎɣĕřřĭƋė",ResMAXGO:"ʍɅΧ ƓŎ",ResManageYourSubscription:"Μāńǎġė Ɏŏųŕ Ŝūƃŝƈřĭƿţĩōň",ResMore:"ʍŏŕė",ResMoreEpisodes:"Μőřě Ēƥīšŏďęş",ResMoreFranchiseCategoryHeader:"ʍōřė {{franchiseName}}",ResMovies:"Μōɣĭĕś",ResMusic:{default:"ʍůşǐč",univ:"ΜŪŠĨĆ"},ResMusicBy:{default:"Μũŝĭč Ƃŷ",tv:"[ʍűŝīč ƀɏ](title) {{musicBy}}"},ResNeedAuthenticationDescription:{appletv:"Ɖŏń’ŧ ħąɣė ĦʙŎ? Ĉōņŧāćť ŷőųŗ ŤѴ ƿřőɣĩƌĕŕ ŧǒ ōŕđęŕ ĤßŌ.",default:"Ľǐɲƙ $t(ResClient) ţǒ ɏőűř $t(ResBrand) ǟčƈǒŭɲţ ƒŏŕ ūņłǐɱīţěƌ ąĉƈēşş ŧő āļł ɏǒūŕ ƒāɣǒŕĩŧė ĤßŌ ƨĥőŵś, ħĩţ ɱōɣįėƨ, šƿőřŧƨ, ċŏɱęďɏ ąήƌ ɱōŕę."},ResNeedAuthenticationTitle:{appletv:"Šĩğń įń ţō Ɯāţćĥ ĤƁŌ",default:"Ģĕť ĤƁŐ ŏņ $t(ResClient)"},ResNew:"Ɲęɯ",ResNewPinLabel:"Ɲėɯ ƤǏŇ (4 ƌǐɠǐťŝ)",ResNewsletter:"$t(ResBrand) Ńēɯƨłėţţēř",ResNewsletterWarning:"Ţĥēřė ɱīĝħţ ƃě ǟ šɱąłĺ ďęĺǟŷ Ƃėƒŏŗē ĉħāņɠĕş ŧǒ ŷŏūř ĕɱăǐŀ şėţŧĭŉĝ ťǎķě ėƒƒěċť.",ResNext:"ɴēϰŧ",ResNo:"Ńő",ResNoAccount:{appletv:"Ďǒŉ’ť ĥāɣę ĦʙŎ?",daydream:"$t(ResNoAccountDaydream)",default:"Ňōť ǟɲ ĦßŌ ƧŭƀšċřĩƄėř?"},ResNoAccountBody:{appletv:"Ċǒňţąċť ŷōŭř ͲѴ ƿŕǒɣįƌēř ţǒ ōŕđĕŗ ĤƁŐ. ĦʙŎ ĞǑ īƨ ƒřēę ŵįţħ ɏŏűř ĤƁŐ ƨűƀśćŕǐƿťǐǒņ. Įƒ ŷőů āľŗęąƌɏ ħāɣē ĤßŎ, ƨĭɠƞ ĭɲ ťō ĤƁŎ ǤǑ őŉ ɏőůŗ Ąƿƥļĕ ŤѴ.",daydream:"$t(ResNoAccountBodyDaydream)",default:"Ćőņŧāċť ŷŏųŗ ŤѴ ƥŗőɣĩđēŗ ţō ŝůƄşćŗīƄě ţǒ ĤßǑ. Ʌĉċęƨƨ ţō $t(ResBrand) įŝ ƒřěĕ ɯĭţĥ ɏǒůř śũƄščŗĩƥţĩőή. Ǐƒ ɏǒū’řė ǎłŗēǎƌɏ ǎ śųƃšĉŗĭƀĕŗ, ąċţįɣąŧē $t(ResBrand) ŏň ŷőųŕ $t(ResClientShort).",mobile:"Čōŋŧąčť ɏōũŕ ŤѴ ƿřǒɣĭƋęŗ ţő ǒŗďėŕ ĦƁŌ."},ResNoAccountBodyDaydream:{hbogo:"Ĉǒňŧăćŧ ɏőūŕ ŢѴ ƿřŏɣįđėř ŧǒ ōřďęŗ ĦƁŐ.",hbonow:"$t(ResEmpty)"},ResNoAccountDaydream:{hbogo:"ĎŌɴ’Ͳ ĦĀѴĚ ĦßŐ?",hbonow:"ĐŎŇ’Ͳ ĦɅѴĖ ĤƁŐ ŅŎŴ?"},ResNoAccountTitle:{appletv:"Ġēţ ūŉłĩɱǐţĕƋ ǎċƈęƨŝ ţŏ ǟŀŀ őƒ ĤƁǑ",default:"Űɲĺįɱǐťěđ āćċĕšŝ ŧǒ ĥūήđŗěďš ǒƒ ťĭŧľĕş, ƒŗęę ŵīţħ ŷōųř ĦƁŎ şūƃŝĉŗīƥťĭőƞ."},ResNotCurrentlySignedInToGo:"Ɏǒų ǟŕė ŋōţ čũŕŗĕŋţłŷ śǐģņĕď īŋ ţŏ $t(ResBrand).",ResNotificationViewTitle:"ɴŏţǐƒĭćăţīŏƞš",ResNotificationsCheckboxText:"Ŷęš, šęŉƋ ɱę ųƿđāţęş",ResNotificationsText:{hbogo:"ŴŏűľƋ ŷőų ļīĸę ţǒ ɠĕţ śħōŵ ąńƌ ɱǒɣįė ŕēĉōɱɱėŉđăţįōňş, ƿŕōďųƈť ūƥƋąŧēš, šƿĕčǐǎľ őƒƒęřƨ ąŉđ ɱōřē?",hbonow:"ŴőűľƋ ɏŏű ľĩĸę ţō ĝĕŧ ŝħŏɯ ąήď ɱŏɣįę ŗęčōɱɱėɲďăŧįōήš, ƿřőđūċť ūƿďāţěš, ŝƥĕćǐǎł ǒƒƒėŗş āńď ɱǒřę ƒŕōɱ ĤƁǑ āņď ĭŧś āƒƒĩłǐǎťēş?"},ResNotificationsTextNoEmail:"Ťő ŗěċěĭɣě ŧĥē $t(ResBrand) ŋěŵśļęťťėŗ, ƿłēǟśē ěƞŧęŕ ąή ęɱǎīł ăđƌŗēšş ƒŏř ɏǒűŗ ƥřőƒīŀė.",ResNowPlaying:"Ņǒɯ Ƥŀǟɏįήɠ",ResOauthCodeButtonText:"Łǐňķ Ʌčƈōűήŧ",ResOauthCodeRedirectHeader:"Ļăŝŧ Śŧėƿ",ResOauthCodeRedirectSubHeader:"Ţǎƿ ţħė ƀűŧťōƞ ťǒ ĉǒɱƿĺēŧę ŧĥĕ ŀįŋķ.",ResOff:"Őƒƒ",ResOk:"ŎĶ",ResOn:"Ōņ",ResOrderHbo:{hbogo:"Őřđěŗ ĤƁǑ",hbonow:"Šŧǎŗŧ ŷōŭŗ ƒŗėė ŧřǐāŀ"},ResOrderToday:{hbogo:"Ǒŗƌĕŗ Įŧ Ťőďǎɏ",hbonow:"Ŧŕɏ $t(ResBrand)"},ResOverlayHelpFooter:"ƝēęƋ ĥėŀƥ? [Ѵįšįţ ŧĥė Ĥěłƥ Čėƞŧęŕ](helpLink)",ResPCBodyText:"Ťŏ ŕęšţřįčŧ ɯĥǎŧ ĉǟή ƀē ŵǎŧčĥēđ, ƈĥōǒşė ţĥě ɱǎχǐɱůɱ ŗąţĩŋģş ăłĺǒŵĕƋ ăŋđ ĉŗęāţĕ ǎ ƤĪŇ.",ResPCBodyTextReadOnly:"Ÿŏŭ ĉăή ŗėƨţřįċť ŵħăţ ƈąƞ Ƅě ɯāťĉħēƋ Ƅǟŝėƌ őŋ řāţīƞǥš.",ResPCCreatePinInstructions:"Čřēąţĕ ǟ ƤĬɴ ƒŏř ƿǟŕėńŧăł čŏńťřōłš āήđ Ǩĭđś ĺǒćǩ.",ResPCDialogChangeSettings:"Ƈĥąņģė Ƨęťţĩɲĝŝ",ResPCDialogNoThanks:"Ɲǒ Ťĥǎƞǩŝ",ResPCDialogPostfix:"Ŧō čħāŋģē ɏőūř ƥāřĕƞŧąļ ĉŏƞţŕōŀ ŝěťţǐńǥś, ɣįšǐť:",ResPCDialogPostfixDesktop:"Ɗō ɏŏũ ŵąƞť ŧő ćĥǎŉɠĕ ɏōūŕ ƿǟŗĕńţăĺ ċǒńţŕŏŀ śēţŧǐņģŝ?",ResPCDialogPostfixNoUrl:"Ͳŏ ćħǎŋģě ŷŏūŗ ƿąŗęŉŧǎŀ čǒŋťŕōļ ƨēţťįɲɠś,\nģō ŧő ɏǒųŗ ŢѴ ƿŗōɣīƌĕŗ ąĉčŏūɲţ.",ResPCDialogPrefix:"ʏŏų čąƞ čǒńţŕōľ ŵħīčħ ŝĥőŵş ǟřĕ ŵăţćħěƋ Ƅǟśēď ǒň ŕǟţĩņǥś. Ŕĩģħť ŋōŵ, ɏŏŭŗ śěŧťĩŉġš ăŗē:",ResPCDialogTitle:"Ʌţţēŋťǐǒņ Ƥąŕĕŋťƨ",ResPCEnabledText:"Ŝűċċėŝš! Ÿŏųŕ ƥăŕĕɲŧął čŏɲťŕŏľš ǎŗĕ ƨēţ.",ResPCEnterPinInstructions:"Ěńţěř ŷŏũř 4-ƌǐġīţ ƤĮŅ:",ResPCIosRestrictions:"Ƒůŗţħęŕ řĕşŧřĩćťįőƞŝ ɱĭģĥť ƀē śēŧ ĭή īŎŠ šēţŧǐήɠś.",ResPCMoviesLabel:"ʍőɣǐēš:",ResPCPrimaryAccountLabel:"ʍǎχĭɱųɱ ąĺľǒɯēƋ ƒōŗ ɏŏůŗ ƥŗǐɱǟŕɏ ǎƈĉōųŉť",ResPCPrimaryAccountNoSubLabel:"Μăχǐɱűɱ ŗāŧĭɲğś ăľłŏŵęď",ResPCSectionTelevision:"ŦѴ",ResPCSectionTheatrical:"ʍōɣĩęƨ",ResPCSettingsEnabledTitle:"Ƥāřēɲţǎł Ĉǒŋŧŗőļŝ Ēɲāƀŀęď",ResPCSubAccountLabel:"ʍąχĭɱůɱ āłļōŵēƋ ƒōř ăŀļ śŭƀ-ǟĉćőųńţƨ",ResPCSubAccountMessage:"Ţō ƈĥǎɲĝē ŷǒųŕ šęťŧĭƞģŝ, şīġƞ ĩƞ ţŏ ŷőůŕ ƥŕīɱąŗŷ $t(ResBrand) ǎƈćǒūƞť.\nŶōŭ ɱųşŧ ƨǐǥɲ ōũŧ ăŋď ŧħěŋ ŝĭĝɲ īń ƒŏř ƈĥąήɠēş ţő ţāķē ĕƒƒēčŧ.",ResPCTVLabel:"ŤѴ:",ResPCUpdatedText:"Ƨųċċēşş! Ŷőűř čħăŋğěŝ ŵěŕę şăɣēƌ.",ResPINBlanks:"----",ResPINEmailPrompt:"Ƒǐŗšť, ŷǒų ƞęęď ťŏ čřėāťě ǎ ƤĨƝ. Įƒ ŷŏũ ƒŏŗĝėţ ŷŏůř ƤĨŅ, ŵħįċĥ ēɱǎǐľ šħŏūŀđ ŵė şĕŉƋ ǎ ŗĕɱĭήďēŗ ŧǒ?",ResPINEmailTitle:"Ěņťĕŕ Ēɱāǐļ",ResPINHits:"••••",ResPINIncorrect:"Ĩŉĉōřŗěčŧ ƤĬŃ. Ƥľēąŝĕ ŧřŷ ăǥăįň.",ResPINMismatchError:"ƤĮŅš Ƌŏή’ť ɱǎţćĥ. Ţŗɏ ǎģāĩń.",ResPINSetSuccessText:"Ųŝē ŷǒūŕ ŉĕŵ ƤĪŇ ƒŏŗ ƿāŕēńŧǟļ ċōήŧŗőŀş āņƋ Ǩīďŝ ľőƈķ.",ResPINSetSuccessTitle:"ƤǏŃ Śǎɣėđ",ResParentalControls:"Ƥǎŗęńťǎļ Ƈőŉţŕŏŀś",ResParentalControlsProvider:"Ŧħīş ɣĭďĕŏ ĩƨ ŕĕšţřįĉťēƌ Ƅɏ ƿāŗěňťǎł ĉǒňţŕǒĺƨ ƒǒř ŷőũŗ ͲѴ ƿŕǒɣĩđēř ăĉċŏūŋŧ.\n\nƇħāňģę ŧħęŝė śěţţĩņģś ŏƞ ŷōũř ŦѴ ƥŕǒɣĭďēŕ’ŝ ŵěƄƨĭţě.",ResParentalControlsViewTitle:"Ƥǟřėŋťāł Ĉǒɲťřŏŀš",ResPassword:"Ƥǟšŝŵǒŗƌ",ResPasswordChallengeInstructions:{default:"Ƥŀěăşĕ ēņţęŗ ŷőũŗ ƥāŝšɯōŗď ŧǒ ėƋǐť ŷŏůř ƥŗǒƒĭľę.",mobile:"Ƥļĕąŝė ēņŧėŕ ŷőųř ƥǟƨšɯōřď ťǒ śţąŕţ ĕďĩţįƞģ."},ResPasswordChallengeTitle:{default:"Ęņŧęŕ Ŷǒűř Ƥǟššŵǒřđ",mobile:"Ċǒŋƒĩřɱ Ƥąşƨŵōřđ"},ResPasswordPlaceholder:"••••••••",ResPauseCommand:"Ƥāūşě",ResPaymentMethodInitFailure:"Ŝŏŕŗŷ, ɏőũř ƿăŷɱėņţ īɲƒōřɱǟťĩōŉ ĭš ţėɱƿőŗăřīľŷ ųŉāɣǎǐľăƄłę. Ƥĺěăśē ťřŷ ąɠǟĭƞ ĺąťęŕ.",ResPaymentMethodTitle:"Ƥąŷɱęńŧ ʍěŧħőđ",ResPin:"Ƥĩƞ",ResPinEnabledView:"ƤĮŃ ĖήǟƂľēƋ",ResPinResetSendButtonText:"ŚěńƋ",ResPinResetText:{hbogo:"Ŵę’ĺł ēɱǎĭŀ ǎ ƤĮƝ řėɱĩňđęŕ ŧŏ {{emailAddress}}.",hbonow:"Ɯę’ľľ ĕɱǎǐľ ƤĬɴ ŗęŝęţ ǐήşŧřūċţīŏŉś ŧő {{emailAddress}}."},ResPinResetTitle:{hbogo:"ƤĪŃ Ŕęşěţ",hbonow:"Ƒōŕɠōţ ŷōůŗ ƤĪɴ"},ResPinSeries:"Ƥǐń Ŝěřĩęś",ResPlatform:"Ƥŀǟťƒőŕɱ",ResPlatformTitle:{androidtv:"$t(ResEmpty)",appletv:"$t(ResEmpty)",appletvdemo:"$t(ResEmpty)",default:"ΧƄōχ Ŀīɣě",desktop:"$t(ResEmpty)",ps4:"ƤŞŃ",tizentv:"$t(ResEmpty)"},ResPlayAll:"Ƥŀąŷ Ǎĺł",ResPlayCommand:"Ƥľǎɏ",ResPlayLiveSessionDescription:"Ƥĺăŷęŕ ċōņŧŗōĺş ǎřĕ łįɱĩŧęƋ ƒǒř łįɣě ĕɣęńŧŝ.",ResPlayLiveSessionTitle:"Ļǐɣė Ėɣĕήť",ResPlayLockedPlatformDescription:{androidtv:"$t(ResEmpty)",appletv:"Ţĥĭş ĭŧěɱ ĭś řĕŝţŗǐĉŧĕđ ƃŷ ƥăŗęŉţāĺ ċőňŧŕōĺƨ ƒōŗ ɏōůŕ $t(ResClientConsole). Ťō ļėąŗŉ ɱǒŗė, ɠő ţǒ Śęŧŧīƞğş > Ƥăŗėŉŧąĺ Čǒńţŗōļś.",daydream:"Ţħīš ɣĩďęő ĭƨ ŗęŝţřįƈŧēđ ƀɏ ƿąřěŋţǟŀ ĉǒɲţřőłś. Ͳő ŵǟťċĥ ťĥĩŝ ɣǐƋěő, ćĥąŋɠĕ ŷőũŕ śěŧŧīƞǥŝ ōɲ ťĥīš Ƌěɣįĉĕ.",default:"$t(ResEmpty)",mobile:"Ŧħǐš ɣīđēő įŝ ŕęşťřĩčťěƋ ƃŷ ƥāřėŋţăł ĉŏńţŕōļŝ ōņ ţĥįŝ ƌęɣīčę.\n\nŢō ĺėǎŕņ ɱŏřė, ğő ťő ŷōŭŕ įŌƧ Şęŧťĩƞǥś ăƞƋ şęǟŕčħ ƒǒř Řěƨţŗĩƈţĭŏŉŝ",ps4:"$t(ResEmpty)",tv:"Ţĥīš ĭŧĕɱ īś řęşťŕǐċťėď Ƅŷ ƥăřėŉţǟľ ƈǒņťŗōłš ƒōŕ ŷŏūř $t(ResPlatformTitle) ąćċǒųňţ. Ŧŏ łėăŕň ɱŏŗĕ, ġō ŧŏ Šĕţťĩńğŝ > Ƥǟŕėňŧąĺ Ƈǒņţŕŏłš."},ResPlayLockedServiceDescription:"Ŧħǐś ĩŧęɱ ǐš řėƨťŕǐċţēƋ ƃŷ ţĥĕ ƥăŕėņťǎĺ ĉōŉŧŗőłš ƒōŕ ɏōűŕ ąƈĉōųńť. Ŧǒ ĺėąřŋ ɱōřē, ġő ŧǒ Ŝĕťţǐŉģś > Ƥăŗěήŧąľ Ċŏɲťŕōļś.",ResPlayLockedTitle:{daydream:"ѴįƋęő ĹǒĉĸěƋ",default:"Ƥăŕĕŉţǎľ Ƈōŉŧŕőŀŝ"},ResPlaybackCellularWarning:"Ćěĺŀūļąŕ Ƥłǟɏƃǟĉƙ Ŵǎŕňĭňɠ",ResPlaybackCellularWarningBody:"Ũşǐňģ ɏőųŕ ćĕłłųļāŕ ćǒňŋėćťīŏƞ ɱăŷ īήćųř ǟďƌĩŧįǒŋăļ čĥǟŗğėş ƒŕōɱ ɏōųř ƿřŏɣĭđěř.",ResPlaybackWiFiOnly:"ƜįƑī Ōɲłŷ",ResPlaybackWiFiWarningBody:"Ѵǐƌėō ƿŀăɏƀąćķ įş ľǐɱĩŧěď ŧǒ Ŵĭ-Ƒį ōŋľŷ. Ţō ąľľőŵ ŝŧŗęǟɱǐɲğ ɣīǎ ĉĕłļųľąř čŏňņěċţįǒɲ, ćħăňĝē ŷǒŭř ŝĕťŧǐňģş.",ResPlaybackWiFiWarningTitle:"ɴŏ Ŵǐ-Ƒĩ Ĉőńņęƈťīőƞ",ResPlayerCCLabel:"ĊĹŐŜĘƊ ČɅƤŦĨŌŅĨŃĜ",ResPlayerFullTitle:"Ęƥǐşōďė {{episode}} - {{title}}",ResPlayerLanguageLabel:"ĽĂŇĜŰɅĢĒ",ResPlaylistTitleCount:"{{index}} ōƒ {{count}}",ResPostDownloadInstructions:"Ŏņćě ɏōų’ɣē şűƃŝƈřĭƂĕđ, ĉőɱė Ƅǟčǩ ǎńƌ şǐǥň ĭň ťő ĤʙŎ ŅŌƜ ѴŖ.",ResPreferences:"Ƥŗėƒěŕęŋċĕƨ",ResPreview:{default:"Ƥŕēɣĩĕŵ",univ:"ƤŘĘѴǏĚŴ"},ResPreviewCaptionText:"Ėϰǎɱƥłĕ Ţėχŧ",ResPrevious:"Ƥŗēɣįŏűš",ResPrivacy:"Ƥŗįɣăƈŷ",ResPrivacyPolicy:"Ƥŗįɣąčŷ Ƥǒŀįƈŷ",ResProducers:{default:"Ƥŕǒďŭčĕŗŝ",univ:"ƤŔŐĐŲĆĚƦŚ"},ResProfileCancelChangesButtonText:"ĆĂŃĆĘŁ",ResProfileConfirmEmailTitle:"Čǒńƒĩřɱ Ėɱǎǐŀ",ResProfileEditButtonText:"Ėďīŧ Ƥŕōƒǐŀę",ResProfileEmailTitle:{default:"Ęɱąĩľ Ǎďďŕĕşš",mobile:"Ēɱǟĭļ"},ResProfileFirstNameTitle:"Ƒīŗƨť Ňǎɱė",ResProfileLastNameTitle:"Ŀąƨţ Ɲǎɱĕ",ResProfilePasswordDescriptor:"Ɏǒűŗ ƥǟşşŵōŕƋ ɱůƨť Ƃę ǎť łėǟŝţ 8 ƈĥǟřāƈŧėŕś ąƞƌ ĩƞĉŀűďĕ ă ŋűɱƃĕŕ ŏŕ šƿėćǐăľ ƈĥąŕăčŧęř.",ResProfilePasswordTitle:"ƤǎƨšŵōŕƋ",ResProfilePhoneNumberTitle:"Ƥħŏńĕ Ɲůɱƃěŕ",ResProfileSaveChangesButtonText:"ƧɅѴĖ ČĦǍŅƓĚŞ",ResProfileSavedBody:"Ÿŏųř ƥřōƒīłĕ šęţťĭήǥş ăŗę ňőɯ ůƿďăŧĕƌ ƒŏř $t(ResBrand)",ResProfileSavedTitle:"Ƥřŏƒĩľě Ƨąɣėď",ResProfileSettingsAltText:"Śĕţŧīήġƨ",ResProfileSignOutBody:"Āŗē ŷőū şũřě ɏǒũ ŵǎƞŧ ŧō śĩĝŉ ōūţ ŏƒ $t(ResBrand)?",ResProfileUserIdDescriptor:"Ėήťėŗ ā ũńįɋůē ũşęŕŉǟɱĕ ŧħăŧ’š 3–14 ćĥăŕǟĉťĕŗŝ ăņď ĩňĉŀũđėś őɲŀŷ ļėťŧėŗş ǎńƋ ήūɱƂęŕŝ.",ResProfileUserNameTitle:"$t(ResBrand) ĨƉ",ResProfileViewText:"Ɏőŭŗ ƥřōƒĩŀě īƨ ŝĥąřēƌ Ƃęţŵēēń ƀőťħ ĤʙǑ ąƞď Čĩņĕɱǟϰ. Āŉɏ ćħāņğėƨ ɯǐłļ ąƥƿłɏ ŧō ƀőţħ śēřɣĩċęś.",ResProfileViewTitle:"Ƥŕǒƒǐľĕ",ResProfileZipCodeTitle:"ŹĬƤ Ƈőƌē",ResPromotionEntryCodeLabel:"Ƥřőɱŏťįőņ ĊōƋě",ResPromotionEntryRedeemButtonText:"ŃĔΧͲ",ResPromotionInputPlaceHolderText:"Ēŉŧěŕ ɏōŭŕ ƿřōɱő ćŏďė",ResReactivate:{appletv:"Şǐġή Įŉ",default:"Řēāċťǐɣāťę"},ResRegion:"Ŕĕǥįōň",ResRegisterViaOtherProvider:"Ŝįģń Įή ŵįŧħ Ǎŉőťħėŗ Ăĉċŏūņŧ",ResRegistrationEmailTitle:{activation:"Ěɱāĩł",default:"Ĕɱǎįļ Ąđđŗęśš",mobile:"Ĕɱǟįŀ"},ResRegistrationHelpLinkText:"Ѵǐšĭŧ ťħě Ħęłƥ Ċėňţěŗ",ResRegistrationHelpText:"Ɲėěƌ ĥęļƥ?",ResRegistrationIdDescription:"Ĕŋŧęŗ ąň $t(ResBrand) ǏƉ (ē.ǥ., Ųŝęŕ123) ţǒ ćŕěąťē ŷǒũŕ ƥŕőƒĩĺě.",ResRegistrationIdTitle:"$t(ResBrand) ĪĐ",ResRegistrationSaveButtonText:{hbogo:{activation:"Ƈřęăţĕ Ƥŗŏƒįľě",default:"ŜĀѴĒ"},hbonow:"Ćŕĕǎťē Ǎććŏŭňţ"},ResRegistrationSaving:"Ŝǟɣīŋĝ…",ResRegistrationText:{hbogo:{activation:"Ͳō şţǟŕŧ şţŕěāɱǐņɠ, ƿŀĕǎƨē ĉŗěǎţě ąɲ $t(ResBrand) ƥřőƒįĺē.",default:"Ƥľęăŝē ĉōɱƿłĕťė ŷōųř ŕęġĭŝŧŕăţĩǒń."},hbonow:{activation:"Ƈřēąŧę ǎŋ āċčőŭňţ śǒ ŷőű ĉǎɲ śĭĝņ ĭƞ ǒŉ ăłĺ ɏōūŕ ƒǟɣőřǐťė đĕɣĩċėƨ.",default:"Ŵěľćōɱę! Ƥłėǟŝē ƈŗĕǎťě ɏőũŗ āĉƈŏůɲť."}},ResRegistrationTitle:{hbogo:{activation:"Ĉŗęǟţĕ ʏŏŭř Ƥřǒƒĩļě",default:"Ŵęŀƈőɱė ţŏ $t(ResBrand)"},hbonow:"Ƈŕĕǎţě Ÿōůŗ Ʌčćőųɲţ"},ResRegistrationZipCodeTitle:"ŻĬƤ Ĉōďė",ResRelated:"ŖĔĿĀŦĔĎ",ResRemoveAllVideosOk:"Ÿēŝ, ŗĕɱōɣę ǎĺĺ",ResRemoveAllVideosPrompt:"Ʌřę ŷőũ şűřē ɏǒű ɯăɲť ťő ŕĕɱŏɣę ąĺŀ įŧėɱƨ?",ResRemoveFromWatchlist:{default:"Ŗĕɱǒɣě ƒřōɱ Μŷ Ŀįşţ",desktop:"ƦĘʍǑѴĚ"},ResRemoveFromWatchlistIcon:"-",ResRemoveSeriesFromWatchlist:{default:"Ŗēɱǒɣė Ŝėŕĭĕś ƒřōɱ Μɏ Ļīƨť",desktop:"Ŗėɱǒɣĕ Ŝęŕǐēƨ"},ResRenewSubscriptionButtonLabel:"Ŕēŋęŵ Śŭƃşćřǐƥťįǒń",ResReset:"Řĕšĕţ",ResResetPasswordInputTitle:"Ňęɯ Ƥąşƨŵőřƌ",ResResetPasswordSubmitButton:"Šăɣę Ƥāššŵŏřď",ResResetPasswordSuccessButton:"Ʀēţųŕń ťő Ƨīɠň Ĭƞ",ResResetPasswordSuccessText:"Ɏǒųŗ ƿāŝšŵōŕđ ħǟš Ƅěěň űƿƋąŧēđ. Ƥľėăŝē ŝīĝɲ ĭƞ ťŏ ƀēģīƞ ɯăťčĥīɲġ.",ResResetPasswordSuccessTitle:"Ƥǟśśɯǒŗď Čĥǟńǥēď",ResResetPasswordTitle:"Ƈřęǟťė ǎ ɴēŵ ƤǎšşŵőŕƋ",ResResetPinInputTitle:"Ňęŵ ƤĨƝ (4 ƌǐğĩťş)",ResResetPinInstructions:"Ėƞţėŗ ǎ ňėŵ 4-ƌīǥǐŧ ƤĬƝ.",ResResetPinSubmitButton:"Ƨąɣę",ResResetPinSuccessText:"Űŝė ɏŏųř ήėŵ ƤĬŃ ƒőř ƥăŗęņťāľ čŏňťřōļš ǎɲƌ Ķĩƌş ŀŏĉĸ.",ResResetPinSuccessTitle:"ƤǏŇ ĈĥāňɠěƋ",ResResetPinTitle:"Ċřĕǟŧē ā Ńęŵ ƤǏɴ",ResResetRequestReceived:"Ʀĕŝĕť Ŗęɋũęśŧ Ŗěčęǐɣěƌ",ResResetToDefaultSettings:"Ʀěśėŧ ťō Ďěƒąũļţ Šęŧŧīɲɠŝ",ResRestart:"Ŕěśţāřŧ",ResRestartSubscriptionOffLabel:"Ăűŧō-Řēŉęŵ Ōƒƒ",ResRestartSubscriptionOnLabel:"Ʌŭţő-Ʀēŉĕŵ Ōɲ",ResRestartSubscriptionPendingLabel:"Ƥŀēǟşē Ŵąīť…",ResRetry:"Ŕēťŗŷ",ResReturnToParentalControlButton:"Řĕŧŭřň ŧŏ ƥǟŕēŋţął čőήţŗōļś",ResRewind:"ƦěɯīňƋ",ResSPN:"ĖƧƤĄÑŌŁ",ResSSOIncompleteGoRegBody:"Ƥŀėăŝę Ƌō ŏńė ōƒ ťħě ƒōłĺőŵĭɲǥ:\nƤħőƞě ǒŗ ŧăƂļęŧ: Ƨĩɠή ĭŋ ţŏ ţĥĕ $t(ResBrand) ăƥƿ\nČōɱƿűţĕŗ: Şĭģň ĩɲ ţŏ $t(ResWebsite) ǒŋ ɏǒūŗ čōɱƥŭţėř",ResSSOIncompleteGoRegTitle:"Ćŏɱƿľĕţě Ɏōūŕ $t(ResBrand) Řēɠĭŝťŗąťĩőɲ",ResSSONoHBOBody:"Ŵę’ŕě ĥąɣīɲĝ ţŗőūƂļĕ ɣęŕįƒŷĭńǥ ŷǒūŕ ĤƁŎ šŭƃšƈŕĩƿţįőň ŵįťħ {{providerName}}. Đő ɏŏű ŵąņţ ŧǒ šǐģņ īŋ ŵĭŧĥ āɲōťħęř ŢѴ ƥřŏɣǐďęŕ?",ResSSONoHBOTitle:"Ĉăņ’ţ Ѵēŕǐƒɏ Ɏŏūŕ Ŝūƃƨčŕĭƿŧīōƞ",ResSSONotEnabledByHBOBody:"Ɖő ŷőũ ɯąńť ťǒ ɱăɲųǟľĺɏ ŝīġɲ īɲ ǐŉšŧėăƌ?",ResSSONotEnabledByHBOTitle:"Ŝōŗŗɏ, ŝīņģłė šīğņ-ōή īş ήőŧ ăɣāįĺāƀľė ŷėŧ ƒőŕ {{providerName}}",ResSSOProviderNotSupportedBody:"Ďŏ ɏŏų ɯǟƞŧ ţő ŝĭġή ǐƞ ɯĭťĥ ąɲōţĥēř ͲѴ ƥřōɣǐďėŕ?",ResSSOProviderNotSupportedTitle:"Ƨőřŗŷ, {{providerName}} Ďǒęśƞ’ŧ Śūƥƥǒřť $t(ResBrand)",ResSSOScreen:"Ŝǐġņĩňġ ĩƞ",ResSSOSignoutInfo:{appletv:"Ɏōů’ŗę šįģήęƋ ǐή ŵīťĥ {{providerName}} ĭή Ăƿƿľĕ ŦѴ Śĕťţįɲģŝ\n\nŦő şǐǥń ŏŭť, čħǎňğę ŢѴ ƤřŏɣįƋēŗ ťǒ ɴĕɣēŗ.\n\nŶǒų ćǎƞ ąļŝŏ ĝő ţō Şęťťĩńĝƨ > Ąċƈőůŉťŝ > ŢѴ Ƥŕǒɣĩďėř ǒņ ŷŏůŗ Ʌƥƿľė ŤѴ.",default:"ĬɴŦĖŔŃɅĻ ĒŘŔŐƦ: ŔęşŠŜǑŞīɠņōůťĨɲƒō įš ǒńľŷ ɣāłĩƋ ƒŏŕ ǐǑƧ āŉđ ťɣŎŠ ďĕɣĭċēš!",mobile:"Ŧō şīğŉ ǒũŧ, ƈħōŏśē ŦѴ Ƥŗǒɣĭƌęŗ āŉđ ťĥēŋ ťũŕň ǒƒƒ ąƈčėşş ƒǒř $t(ResBrand)."},ResSSOSignoutTitle:{default:"ĬŅŢĚŖƝĄĻ ĔŖƦŐŖ: ƦĕşŞŠǑŜĭģƞŏųŧŢīţĺė īś ōήŀŷ ɣāĺīƋ ƒőŗ ĩŌŜ ǟŉƋ ŧɣŐŜ ďėɣįćĕŝ!",mobile:"Čħǟňɠĕ Ÿōůŕ ĩǑŜ Šęţťįņģŝ"},ResSave:"Śǟɣė",ResSaveChanges:"Śǟɣě ċĥāŉĝėş",ResSaving:"Şăɣĭɲĝ…",ResSearch:"Ƨęāŕċħ",ResSearchNoResults:"Ɲŏ řęşŭŀŧś ƒŏũƞđ.",ResSearchResultCount:"{{count}} řěšůłţ",ResSearchResultsCount:"{{count}} ŕĕśūĺţš",ResSeason:"Śĕąƨōń",ResSeasonAndEpisodeCount:"{{season}} ĘƤĮŚǑĎĔŠ ({{count}})",ResSeasonAndEpisodeLong:"{{season}} Ěƥīşŏƌė {{episode}}",ResSeasonAndEpisodeShort:"{{season}} Ėƥ {{episode}}",ResSeasonEpisodeShortTitle:"{{season}} Ęƥ {{episode}}: {{title}}",ResSeasonNumEpisodeNumShort:"Şń {{seasonNum}} Ęƿ {{episodeNum}}: ",ResSeasonNumberShort:"Śņ {{season}}",ResSeeAllAffiliates:"Šěė Ǎĺł Ƥŗǒɣĩďėŕş",ResSeries:"Şěŕįęş",ResSeriesFromWatchlist:"Ŝęŗǐėş ƒřőɱ Μɏ Łǐśŧ",ResSeriesSeason:"{{series}} {{season}}",ResSeriesSeasonTitle:"{{series}} Ƨēǎŝōƞ {{number}}",ResSeriesToWatchlist:"Śěřĭěś ŧō Μŷ Ĺįŝţ",ResServiceParentalControlsInstructions:"Ŕįğħţ ņőɯ, ɏőūŕ šěťŧĭɲġƨ ǟřě:\n\nŢѴ: {{tvRating}}\nΜőɣĭėƨ: {{movieRating}}",ResSession:"Ŝęƨśǐŏή",ResSettings:"Şĕťŧǐɲğś",ResSettingsDeactivateDevice:"Ƨǐġŉ Ŏūţ Ņŏŵ",ResSettingsGotoToAppleTVSettings:"Ƈħăņğē Şęţťǐɲǥś",ResSettingsPCDescriptionWithDevice:"Ĉħǟńğě ŷǒůř śēŧţĩŋğƨ ǟť $t(ResWebsite) ăήď/ōř ōƞ ɏőűŗ $t(ResClientConsole).",ResSettingsPCDescriptionWithoutDevice:"Čħāŉĝė ŷōūř ŝěŧţįɲɠś ăŧ: $t(ResWebsite)",ResShellVersion:"Şħĕŀĺ Ѵěŗşīǒň",ResShow:"Ƨħŏŵ",ResShowPW:"Şħŏŵ ƤāşşŵǒŗƋ",ResSignIn:"Śĭɠň Įņ",ResSignInA11yActivationInstructions:"Ģǒ ŧǒ $t(ResA11yWebsite)/$t(ResA11yActivationUrl) ąɲď ēήťęŕ ťĥįş ƈǒđė:",ResSignInActivationDetails:"Ŝţăɏ ōņ ťħįŝ śćŕěĕƞ ŵĥįŀě ɏőŭ ƨīġņ įň ŏƞ ɏōũŗ ƿħőňĕ ŏř čōɱƥůŧěř.",ResSignInActivationHeader:"Śĭǥɲ ĭɲ ŭşǐńĝ ɏőŭŕ ƿĥōήė őŗ ĉǒɱƿūţęŕ",ResSignInActivationInstructions:"Ğŏ ţŏ [$t(ResWebsite)/$t(ResActivationUrl)](strong) ăņď ęŉŧēŗ ŧĥīƨ ƈőďė:",ResSignInAndRedeemButtonText:"Ƨĩĝή Ǐɲ āņƋ Ŕēƌęěɱ",ResSignInInstructions:"Ėńţēŗ ɏǒŭŕ $t(ResBrand) ĕɱąǐŀ ąŉď ƥǟşśŵőŗď.",ResSignInText:"Šǐğɲ ĩń",ResSignInToBrand:"Ŝīğƞ īņ ťō $t(ResBrand)",ResSignInWithProviderInsructions:"[Ɖōņ’ŧ ħǟɣė ąƞ $t(ResBrand) ǎĉčǒųŋŧ?](bold) Ƨįğɲ įņ ɯĭťĥ ŷǒųŕ ĕɱǟįĺ ǟήƋ ƿǟşşŵőřƌ ƒōř ǟŉōťĥĕř ąĉčŏůńţ.",ResSignOut:"Šĩģņ Ŏűţ",ResSignUp:"Ɖőή’ţ ħǎɣě $t(ResBrand)? [Ƨǐɠň ūƿ](signUpUri)",ResSignedIn:"ʏǒū āřē ćūŗŕėņŧľɏ ŝĩɠɲęď ĩƞ ǎş\n{{username}}",ResSignedInAnonymous:"Ɏǒű’řě ŝĭģńĕđ įŋ",ResSignedInSSO:"Ŷōũ’řĕ šįɠŋĕď īņ ŵĭţĥ\n {{ProviderName}} ĩŋ įǑŠ Ŝēťŧǐňǥƨ",ResSingleVideoCount:"1 ɣīƌęő",ResSpace:"Ŝƥąčē",ResSpaceChar:" ",ResSpanish:"Ėšƿąñŏĺ",ResSports:"Şƿőřŧś",ResStartWatching:"Śŧǎřŧ Ɯąţƈħĭƞğ",ResStartWatchingEpisode:"Ŝŧāŕţ ŵāťčĥǐήġ",ResStartWatchingEpisodeCaps:"ŚŢĂŔŦ ŴĂŢĆĤĮƝĠ",ResStayConnected:"ŚŤĀŶ ĆǑŇɴĒƇͲĒĐ",ResStopCommand:"Şťŏƥ",ResSubAccountParentalControlsInstructions:"Ŕĭģĥť ŉőɯ, ɏŏũŗ śēţťǐƞɠš ąřė:\n\nŤѴ: {{tvRating}}\nʍōɣĩėš: {{movieRating}}\n\nƤāŕēńŧāł ƈōņţŗōľƨ ĥǟɣē ƃěęň šėť ƀɏ ɏǒůř ƿŗǐɱāŗɏ ąćċőůńť. Ťŏ čĥǎŉģė ɏōũŗ ŝėţŧĩňġş, šįğƞ ǐή ūśīńĝ ŷőųř ƿŕǐɱāřɏ ŤѴ ƥřǒɣǐđęř ǎĉčŏůňť.",ResSubAccountParentalControlsNotice:"Μǎϰǐɱűɱ āłŀőŵěƌ ŕąťĭňǥƨ:\n\nŦѴ: {{tvRating}}\nΜőɣįěƨ: {{movieRating}}\n\nƤǎřėήŧąľ ċŏήťřőľš ĥăɣě ƀėėƞ ƨĕť Ƃɏ ɏőũŗ ƥřįɱăřŷ ąčĉōųήŧ. Ͳŏ čħǟƞɠę ŷőūř šēŧťǐɲġş, šĭɠή īŉ űƨĭɲĝ ɏőűř ƥŗīɱāŗɏ ŢѴ ƿřőɣīďĕŕ ǎċċŏųńť.",ResTV:"ŦѴ",ResTerms:{default:"Ͳěŕɱš",mobile:"Ťēŗɱş ōƒ Ůśė"},ResTermsOfService:"Ŧěŗɱš őƒ Şĕŗɣįċę",ResTodayAtTime:"ŧőđąŷ ăŧ {{time}}",ResTomorrowAtTime:"ţőɱǒřŗőŵ ąŧ {{time}}",ResTonightAtTime:"ťǒήĩĝħť āť {{time}}",ResTosA11yText:{hbogo:"Ǐ ąģřĕę ťŏ ťĥě ĤƁŌ ŧěŗɱś őƒ ūƨę. ļĭɲĸ. ǟņƋ ƥřįɣăĉŷ. ŀĩήƙ.",hbonow:"Ǐ ǎģŕěę ťő ŧĥę ĤʙǑ ťėŕɱš. ĺīńƙ. ǎŋď ƥŕĭɣăċɏ ƿŏĺīƈɏ. łĭńĸ."},ResTosAndPrivacyAgreeText:"Ĩ āġŗĕė ťő ťĥė [ĦƁŌ Ţēřɱƨ](t) ǎŋƌ [Ƥŕĭɣǎĉŷ Ƥōļǐƈɏ](p)",ResTosNoLinkA11yText:{hbogo:"Ĩ āĝřęę ŧŏ ŧħē ĦƁŎ ŧėŕɱŝ ōƒ ůśē ǎɲƌ ƥřĩɣăĉɏ.",hbonow:"Ǐ ąǥŕēĕ ţō ŧħě ĦƁǑ ţēŗɱś āńđ ƥŕįɣăƈɏ ƿőŀīćɏ."},ResTryAgain:"Ťŗɏ ǎġāĩń",ResTurnOffBillingAutoRenewTitle:"Ŧūŗɲ Ŏƒƒ Ʌũŧō-Řĕɲěŵ?",ResTurnOnBillingAutoRenewTitle:"Ŧŭŗɲ Ŏɲ Ʌűŧō-Řěƞėɯ?",ResUnpin:"Űņƥīή",ResUnpinSeries:"Űŋƥǐƞ Ƨĕŕįėś",ResUnrestrictedRating:"{{rating}} (ŪňŕęƨŧŕīċťēƋ)",ResUnsupportedDeviceErrorBody:"Ƨŏřřŷ, ɏőůŕ ŦѴ ƿŗǒɣĭƋēŗ ďōĕšň’ť šŭƥƥŏřť $t(ResBrand) ōň ŧĥīś ďęɣīƈĕ.",ResUnsupportedDeviceErrorHeader:"Ɗěɣĩĉě ɴőť ŞũƥƿőŕţēƋ",ResUpNextCountdown:"Ũƥ ńěϰţ ĩŉ {{secondsLeft}} şėƈ…",ResUpNextPreview:"Űƿ ŉěϰŧ",ResUpdateParentalControlsButtonText:"Şǎɣě ƈĥǎňġēƨ",ResUsername:"Ůŝēŗɲǟɱę",ResVerifyingPIN:"Ѵėŗįƒɏīńğ ŷǒűŕ ƤĨŃ…",ResVersion:"Ѵęřşĭőŋ",ResVersionInfo:"Ǐŋƒǒ",ResVideoCount:"{{count}} ɣīƋěōś",ResVideoNotPlayableBody:"Ѵǐđĕŏ Ɲōţ ƤłǟɏăƂŀě ƒŏř ǟ ήųɱƃėř ǒƒ ŗěǎśǒŋƨ!",ResVideoNotPlayableTitle:"Ѵįđēŏ Ɲōť ƤľăɏāƄľě (ƊĚѴ ŜŤƦĮŃĜ)",ResVideoPCLocked:"Ѵįƌęō Ļōćķĕđ",ResVideoPCPrompt:"Ͳħįš ɣĭƌęő įƨ řēƨŧŗįćťēđ Ƃɏ ƥăřėƞťăĺ ćǒņţřǒľŝ.",ResVideoPCVisit:"Ŧō ūƿđǎţē ɏŏūŕ šēţťįňġś, ĝǒ ţō [Ƥǎřěŋţăĺ Čŏŋŧŕǒľš](a).",ResVideoPlaybackTitle:"Ѵįđėǒ ƤĺǟɏƄāčķ",ResVideoRequiresSignIn:{hbogo:"Ţĥǐŝ ɣĭƌěō ǐƨ ǒήłŷ āɣąǐļǎƃĺė ťǒ ĦʙŎ šůƄşƈřīƂěŕŝ.",hbonow:"Ŷōū ɲėĕđ ǟň $t(ResBrand) śūƂšċřĭƥŧīőή ŧŏ ŵăţčħ ţĥīŝ ɣĩƋěő."},ResVideoUnavailableInDemo:"Ŝőŕřɏ, ţħĭś ɣǐđĕō įŝņ’ť ąɣāĭłăƃľĕ ĭň ţĥǐƨ ďēɱǒ.",ResViewMoreProviders:"Ѵĭęŵ Μǒŗē Ƥŗǒɣīďěŗş",ResWarningCaptionsUnavailable:"Ćŀőŝėđ ĉąƿťįŏŉįɲģ īŝ űňāɣąįŀăƃłė ƒǒŕ ţħǐš ɣĩđěő.",ResWarningHDCPFallbackMessage:"Ѵĩđĕŏ ŏř ǎŭƌįő ɋūāŀĭťŷ ĩƨ řėđůćēƌ ƌůė ŧō ǎņ ĤƉĊƤ ĭşƨůė.",ResWatchDayAtTime:"Ŵǟŧćħ {{dayAtTime}}",ResWatchFromBeginning:"Ɯǟťĉĥ ƒŕőɱ ƃěǥĭŉήīήġ",ResWatchLatestEpisode:"Ŵǎţĉħ ļǟŧęśŧ ėƥǐƨōďě",ResWatchLatestEpisodeCaps:"ŴǍŢĈĤ ĹǍŤĔŚŢ ĖƤǏŚŎƊĚ",ResWatchNextEpisode:"Ɏōűř ņėχŧ ėƿįšǒđĕ",ResWatchNextEpisodeCaps:"ŶŐŬŘ ɴĔΧͲ ĒƤĬŚŐƉĘ",ResWatchlistEmpty:"Ćřěǎŧě ǎ ľĭƨŧ ǒƒ ŵħăť ŷōų ŵāɲť ťǒ ŵǟťƈħ.",ResWatchlistEmptyA11yText:"Μɏ Ľįƨť. Ƈŕēǎŧě ǎ ľīśŧ ōƒ ɯħąţ ŷōũ ŵǟɲţ ŧǒ ŵǎţćħ.",ResWatchlistHelp:"Ŵĥąť įš Μŷ Łīšţ?",ResWatchlistSortOrder_ALPHABETICAL:"Ťǐŧĺėş Ă ŧő Ž",ResWatchlistSortOrder_NEWEST:"Ńęŵĕƨť ţǒ Μŷ Łǐşť",ResWatchlistSortOrder_REVERSE_ALPHABETICAL:"Ͳīŧļęś Ž ťǒ Ă",ResWatchlistTitle:"ʍɏ Łǐśť",ResWebsite:{hbogo:"ĤßŌĠŐ.čǒɱ",hbonow:"ĤßǑŇŎŴ.čǒɱ",maxgo:"ΜɅΧĠŎ.ĉŏɱ"},ResWelcome:"Ŵēŀĉŏɱę",ResWelcomeOverlayText:"[Ǥēţ ťĥė ǎƿƿ ŏή ɱŏŕę ǒƒ ŷŏũŕ](text) [ƒǟɣŏřĭţę đęɣįčęŝ](devicesLink): ŢѴ, ƥħőňė ąņƋ ťąƄĺėŧ.",ResWelcomeOverlayTitle:"Ɯąŧĉħ ǎńɏɯħēřė, āņŷŧĭɱę.",ResWhatSearching:{default:"Şĕāŗćħ ƨěŕĩĕş őŗ ɱǒɣǐěş…",mobile:"Ƨęąřĉĥ ţīťĺěš…"},ResWriters:{default:"Ŵŗīŧěŗŝ",univ:"ŴŘǏŢĔŔŚ"},ResYear:"{{year}}",ResYes:"Ɏĕş"}},"xx-yy":{translation:{BackToVRAllDone:"亼辶辶 刀口內巳",BackToVRReturn:"食三七丩尺內 十口 人尺",BackToVRSignedIn:"了口丩’尺巳 弓工巨內三刀 工內 月內刀 食巳亼刀入 七口 五口!",BackToVRSignedInNow:"升工 {{firstName}},\n$t(BackToVRSignedIn)",ResA11yActivationUrl:{hbogo:"七人 弓工五內 工內",hbonow:"七人亡口刀三"},ResA11yChromeCastButtonTitle:"亡什民口冊巳亡亼与十",ResA11yClosedCaptionButton:"匹辶口与王刀 亡月尸十工口內弓",ResA11yClosedCaptionsSettingButton:"{{header}}, {{button}}",ResA11yClosedCaptionsSwitch:"匹辶口弓巳刀 匹亽戶十工口內工內巨 与山工十亡升",ResA11yContinueWatchingLastPlayed:"亡口內七工內凵三 丱亼十匹廾工內五 {{assetTitle}}",ResA11yDuration:"{{duration}}.",ResA11yEpisode:"三尸工与口刀三 {{number}}:",ResA11yG:"五",ResA11yInteractiveButton:"工內七三民月匹七工人王 亡口內十三內十",ResA11yKidsLockButton:"片工刀与 辶口亡片",ResA11yMenu:"冊巳內丩",ResA11yNC17:"內匹 17",ResA11yNONE:"內口七 亽心心口丱三刀",ResA11yNR:"內口七 食月十王刀",ResA11yPG:"尸五",ResA11yPG13:"戶五 13",ResA11yPip:"尸工亡十丩尺三 工內 尸工匹七凵民王",ResA11yPlay:"戶辶亼入",ResA11yPlayAt:"尸辶亼了 亽七 {{time}}",ResA11yPlayCommand:"尸辶亼入 {{label}}",ResA11yPlayTitle:"尸辶月入 {{title}}",ResA11yPrependPeriod:". {{text}}",ResA11yPrependSpace:" {{text}}",ResA11yPresentTransportControls:"刀口凵㠯心三 七亼尸 下口食 尸辶亽入三民 匹口內七民口辶弓",ResA11yR:"民",ResA11yRated:"食亽十三刀 {{rating}}.",ResA11ySeason:"弓王亽与口內 {{number}}:",ResA11ySeriesTitle:"{{series}}:",ResA11ySettingsPCDescriptionWithDevice:"匹廾月內巨三 了口臼民 弓巳十十工內五弓 月七 $t(ResA11yWebsite) 月內刀/口食 口內 了口丩尺 $t(ResClientConsole).",ResA11ySettingsPCDescriptionWithoutDevice:"亡廾亼內巨三 入口凵民 弓王十七工內五与 亽十: $t(ResA11yWebsite).",ResA11yTV14:"十人 14",ResA11yTVG:"十人 巨",ResA11yTVMA:"十人 朋月",ResA11yTVNR:"內口十 民亽十王刀",ResA11yTVPG:"七人 尸巨",ResA11yTVUNKNOWN:"內口十 食亼七王刀",ResA11yTVY:"七人 了",ResA11yTVY7:"七人 入7",ResA11yTimeHoursMinutesSeconds:"{{hours}}, {{minutes}}, {{seconds}}",ResA11yTimeMinutesSeconds:"{{minutes}}, {{seconds}}",ResA11yTimelineSlider:"十工朋巳辶工內巳 与心工刀王食",ResA11yTitle:"{{title}}.",ResA11yToggleOff:"七口五巨辶王 工与 口干下",ResA11yToggleOn:"七口五巨心王 工弓 口內",ResA11yUNKNOWN:"內口七 民月七三刀",ResA11yWatchlistAdd:"亽刀刀 七口 朋入 辶工弓十",ResA11yWatchlistRemove:"食三冊口人巳 干民口朋 朋入 辶工弓七",ResA11yWatchlistSeriesAdd:"亽刀刀 弓巳尺工三与 七口 朋了 辶工弓七",ResA11yWatchlistSeriesRemove:"民王冊口人王 弓巳尺工王与 干尺口朋 朋了 心工与十",ResA11yWebsite:{androidtv:{hbogo:"什,官,口, 巨口.匹口冊",hbonow:"什,乃,口, 內口丱.亡口朋",maxgo:"朋亽乂 巨口.亡口朋"},default:{hbogo:"什㠯口巨口.匹口冊",hbonow:"什㠯口內口丱.匹口朋",maxgo:"冊亽乂五口.亡口朋"}},ResA11yZoomIn:"乙口口朋 工內",ResA11yZoomOut:"之口口冊 口丩七",ResAbout:"亼乃口凵十",ResAboutTheShow:"亼官口臼七 七廾三 与升口丱",ResActivate:"亼亡七工人月七三",ResActivateDevice:{hbogo:{appletv:"弓工五內 工內",default:"亼匹七工人亽七三 內口丱"},hbonow:"弓工巨內 工內"},ResActivatedBy:{hbogo:{appletv:"弓工巨內巳刀 工內 亼弓: ",default:"亽匹十工人月七巳刀 乃入: "},hbonow:"弓工五內三刀 工內 月与: "},ResActivatedOn:{hbogo:{appletv:"工內七三食內月心 王尺民口食: 七廾工弓 冊三弓弓亼巨王 冊凵弓十 內口十 与升口丱 臼戶",default:"亼亡十工人亽七三刀 口內: "},hbonow:"$t(ResEmpty)"},ResActivationCodeAlreadyTaken:"工內亡口民民王匹十 亡口刀三. 巨口 㠯亽亡水 十口 了口臼尺 十人 月內刀 五王七 十升王 亡口刀王 亼五月工內.",ResActivationCodeIncorrectOrExpired:"与口民尺入, 十什巳 亡口刀王 三父尸工尺巳刀 口尺 工弓 工內匹口民食三匹七. 巨口 乃月匹水 七口 了口臼民 十人 亽內刀 巨三七 七廾王 亡口刀巳 亽巨亼工內.",ResActivationCodeUnknownError:"口口尸与, 弓口冊巳七什工內五 山王內十 丱民口內巨. 尸心三月弓三 七民了 亽巨亽工內 心亽七三尺.",ResActivationContent:{appletv:"口內匹巳 入口凵’尺王 弓工巨內三刀 工內, 了口臼’心心 弓三三 亽 內三山 戶亼巨三. 十什工与 匹亼內 十亼片三 凵尸 十口 30 弓王匹口內刀与.",default:"山升三內 亽亡十工人亽七工口內 工弓 亡口朋戶辶巳十三, 入口凵’心心 乃王 七亼水巳內 十口 亽 內巳山 戶月五王. 七什工弓 亡亽內 七亽水王 丩戶 七口 30 与王匹口內刀弓."},ResActivationEntryHeader:"王內七三民 匹口刀王",ResActivationEntryInputHeader:"亡口刀巳",ResActivationEntryInstructions:"三內七巳尺 十什三 匹口刀巳 七升亽七 月戶戶巳亽尺弓 口內 了口凵食 十人.",ResActivationEntrySubmit:"弓凵乃朋工七 匹口刀巳",ResActivationRegisterSuccessHeader:"月心朋口与十 七廾三食王!",ResActivationRegisterSuccessSubHeader:"食巳亽刀入 十口 山亽十亡什 口尺工五工內月心 与升口山弓, 升工十 冊口人工巳弓 亽內刀 朋口食三?\n\n五口 㠯月匹水 七口 入口凵食 十人 亽內刀 干工內工与升 弓工巨內工內巨 凵尸.",ResActivationRestoreSuccessHeader:"亽辶朋口弓七 刀口內王",ResActivationRestoreSuccessSubHeader:"五口 㠯亼匹水 七口 了口臼民 十人 亼內刀 弓丩㠯弓亡尺工官三 七口 $t(ResBrand).",ResActivationSuccessHeader:"亽辶心 刀口內王!",ResActivationSuccessSubHeader:"了口凵’食巳 尺三月刀了 十口 丱亼七匹什 $t(ResBrand) 口內 入口臼尺 七人.",ResActivationSuccessfulExclamation:{appletv:"了口丩’食王 尺巳亽刀了 十口 巨口!",default:"亽亡十工人亽十工口內 弓凵匹匹王弓与下凵辶"},ResActivationUrl:{hbogo:"七人弓工巨內工內",hbonow:"十人匹口刀巳"},ResAddSeriesToWatchlist:{default:"亼刀刀 弓王民工三弓 十口 冊了 心工与七",desktop:"亽刀刀 与三民工三弓"},ResAddToWatchlist:{default:"亼刀刀 七口 朋了 辶工与十",desktop:"亽刀刀"},ResAddToWatchlistIcon:"+",ResAffiliateLoginTitle:{hbogo:"弓工五內 工內 丱工七什 了口凵民 十人 戶尺口人工刀巳尺 七口 月亡亡王弓与 $t(ResBrand).",hbonow:"与王辶王亡七 了口丩民 尸尺口人工刀三民"},ResAffiliateSelectionDropDownPrompt:"与王心三亡十 入口丩民 戶民口人工刀巳食",ResAffiliateSelectionHeader:"与王心巳匹七 了口丩民 尸尺口人工刀巳食",ResAffiliateSelectionTitle:{hbogo:"亡什口口与王 了口凵尺 七人 戶尺口人工刀巳民, 与工巨內 工內, 月內刀 王內了口了 $t(ResBrand).",hbonow:"丱廾口 刀工刀 入口丩 与臼乃与亡民工乃巳 七廾食口凵巨什?"},ResAffiliatesFooterSubTitle:"山巳’食王 亡口內与十月內十心入 月刀刀工內巨 內三山 七人 戶民口人工刀三民与, 与口 亡什三亡水 乃亽亡片 丱工七什 臼弓 与口口內 十口 弓王巳 工干 丱三’人王 月刀刀三刀 入口凵尺与 七口 口丩民 辶工弓十.",ResAffiliatesFooterTitle:"刀口內’七 与巳王 了口凵尺 戶食口人工刀王尺?",ResAffiliatesOrderHBO:"刀口內’七 什亼人三 升乃口? 口尺刀巳食 工七 十口刀亽入",ResAirPlayMessage:"十什工与 人工刀巳口 工与 尸辶月入工內巨 口內 {{deviceName}}.",ResAirPlayMessageDeviceUnknown:"与七民王亼朋工內巨 人工刀王口 七口 亽內口十升王尺 刀工与尸辶月入.",ResAirPlayNoInteractiveMessage:"工內十巳尺月亡十工人三 匹口內十王內七 丩內亼人亽工辶亽乃心巳 山工七廾 亼工食尸心亽入",ResAirPlayTitle:"亼工民戶辶亼了",ResAllAffiliatesTitle:"亽辶心 尸尺口人工刀王食与",ResAlreadyLoggedIn:"了口凵 亼民王 亼辶尺巳月刀入 弓工巨內巳刀 工內.",ResAnonymousSignedInNotes:"了口臼食 亼匹亡口丩內七 工与 工內匹口冊尸心三七王. 尸心巳亼与巳 干工內工与廾 亡民王月七工內五 入口臼食 月匹匹口凵內七:\n\n1. 与工巨內 口丩七 㠯入 巨口工內五 十口 [与王七十工內巨与 > 弓工巨內 口臼七](strong).\n\n2. 七食入 七口 尸心月入 亼 弓什口山 口民 冊口人工巳.\n\n3. 匹什口口与王 [食三与七口食王 戶丩尺匹什亽与三: {{storeName}}](strong).\n\n4. 亡升口口与王 [亡民三亽十巳 亼匹亡口臼內十](strong) 亼內刀 匹口冊尸辶王七巳 入口丩食 月亡亡口凵內七.\n\n內王王刀 朋口尺三 廾三辶尸? 五口 十口 [匹食王亼十三 亼亡亡口臼內七 升王辶戶](createAccountHelpLink).",ResAppNotifications:"亼尸尸 內口十工下工亡亼十工口內弓",ResAppNotificationsOnOff:"十丩民內 口內/口干干",ResApplicationHome:{hbogo:"升十七戶弓://尸辶月入.廾㠯口巨口.亡口冊/",hbonow:"廾十七尸弓://尸心亽了.廾㠯口內口丱.亡口朋/"},ResApplicationVersionLabel:"人三食与工口內 {{version}}",ResArtist:{default:"月食七工弓十",tv:"[亽食七工弓十](title) {{artist}}"},ResArtistWithSpacing:"亽食十工与七: {{artistName}}",ResAvailableUntilWithSpacing:{default:"亽人亽工心亽官辶王 丩內十工心: ",univ:"亼人亽工辶亼官辶王 臼內十工辶 {{date}}"},ResBack:"官亼匹水",ResBackspace:"乃月匹片弓尸亼匹王",ResBillingInfoTitle:"㠯工心辶工內五 工內下口食朋亽七工口內",ResBrand:{hbogo:"$t(ResHBOGO)",hbonow:"$t(ResHBONOW)",maxgo:"$t(ResMAXGO)"},ResBrowse:"㠯食口丱弓巳",ResBrowseBrand:{daydream:"民巳十凵民內 十口 人尺",default:"乃民口山与王 $t(ResBrand)"},ResBuild:"乃臼工心刀",ResCCColor_BLACK:"乃心亽匹水",ResCCColor_BLUE:"㠯辶臼三",ResCCColor_CYAN:"亡入亼內",ResCCColor_GREEN:"巨尺王王內",ResCCColor_MAGENTA:"冊月巨三內十亼",ResCCColor_RED:"尺王刀",ResCCColor_WHITE:"山廾工七三",ResCCColor_YELLOW:"了三心心口山",ResCCFont_CASUAL:"亡月与凵亽辶",ResCCFont_MONO_SANS_SERIF:"朋口內口与戶亼亡巳刀",ResCCFont_MONO_SERIF:"七了戶王",ResCCFont_SANS_SERIF:"与亼內与 弓巳食工下",ResCCFont_SCRIPT:"弓亡尺工戶七",ResCCFont_SERIF:"弓王民工下",ResCCFont_SMALL_CAPS:"弓朋亽辶心 匹亼尸弓",ResCCOpacity_OPAQUE:"100%",ResCCOpacity_SEMITRANSPARENT:"25%",ResCCOpacity_TRANSLUCENT:"75%",ResCCOpacity_TRANSPARENT:"0%",ResCCSectionBackgroundColor:"乃月匹水五尺口丩內刀 匹口心口尺",ResCCSectionBackgroundOpacity:"官亽匹片巨尺口凵內刀 口尸亽亡工十了",ResCCSectionFont:"下口內七",ResCCSectionFontColor:"干口內十 亡口心口民",ResCCSectionFontOpacity:"下口內七 口戶亽匹工七了",ResCCSectionFontSize:"干口內七 与工之王",ResCCSectionFontStyle:"弓七入辶王",ResCCSectionWindowColor:"山工內刀口丱 匹口辶口食",ResCCSectionWindowOpacity:"山工內刀口山 口尸月亡工十了",ResCCSize_EXTRA_LARGE:"巳父十尺亽 辶亼食巨巳",ResCCSize_LARGE:"心亽民五三",ResCCSize_MEDIUM:"冊王刀工丩冊",ResCCSize_SMALL:"弓朋亽辶辶",ResCCSize_TINY:"十工內了",ResCCStyle_DEPRESSED:"刀巳戶食王弓与三刀",ResCCStyle_DROP_SHADOW:"刀食口戶 与什亼刀口丱",ResCCStyle_NONE:"內口內巳",ResCCStyle_RAISED:"食亼工与巳刀",ResCCStyle_UNIFORM:"丩內工下口尺冊",ResCancel:"亡亼內匹王心",ResCancelAlternate:"內王人三尺 冊工內刀",ResCancelChanges:"匹亼內匹王辶",ResCannotResetPasswordInstructions:"入口丩食 食三弓巳七 辶工內片 工与 工內人亼心工刀, 王乂戶工民王刀, 口尺 升月弓 亽辶尺王月刀了 㠯三巳內 凵与巳刀.\n尸心王亽与巳 食王弓王七 了口臼食 戶月弓弓丱口民刀 月五月工內.",ResCannotResetPasswordTitle:"匹亽內’七 尺王弓王七 入口凵民 戶亼与与丱口食刀",ResCannotResetPinInstructions:"了口丩食 食王与王十 心工內片 工与 工內人亽心工刀, 王父尸工尺王刀, 口食 升亽与 亽辶民王亼刀了 㠯巳三內 凵弓巳刀.\n戶辶三亼弓三 尺巳弓王十 入口丩尺 戶工內 月五月工內.",ResCannotResetPinTitle:"匹亼內’七 食巳与巳十 入口丩食 尸工內",ResCaptionBackgroundSettings:"㠯亽匹片巨食口凵內刀",ResCaptionFontSettings:"干口內十",ResCaptionWindowSettings:"亡月尸十工口內 丱工內刀口山",ResCaptions:"亡亽尸七工口內与",ResCaptionsDisabled:"亡亽尸七工口內与 口下干",ResCaptionsEnabled:"亡月尸七工口內与 口內",ResCaptionsSettings:"与王七十工內巨与",ResCast:{default:"匹月弓十 & 亡尺王山",univ:"匹亼弓十 & 匹食巳山"},ResCastAndCrew:"匹亽与十 & 亡尺王山",ResCatalogPlaylist:"朋口尺巳 下民口朋 {{playlistTitle}}",ResCellularPlaybackInformationalLinkText:"人工刀三口 戶心亼入乃亼亡片 弓三十十工內巨弓",ResChangePCBodyText:"七口 食王弓七食工亡十 山升亽七 亡月內 㠯三 山亽十亡廾三刀, 匹廾口口弓巳 七廾巳 朋亼父工冊臼冊 民亽十工內巨与 亼心心口山三刀 亽內刀 巳內十王尺 了口臼尺 尸工內.",ResChangePINBody:"三內七巳民 亽 內巳丱 戶工內",ResChangePINButton:"匹廾亽內巨三 尸工內",ResChangePINTitle:"內王丱 尸工內",ResChangePinConfirmationText:"了口臼民 尸工內 什月与 官三巳內 亡廾亽內巨三刀.",ResChangePinConfirmationTitle:"戶工內 亡什月內巨王刀",ResChangePinLink:"亡廾亼內五巳 戶工內",ResChangePinTitle:"亡廾亼內五巳 尸工內",ResChooseAnotherAffiliateLink:{default:"匹什口口弓巳 亽內口十廾巳尺 戶尺口人工刀巳尺",mobile:"匹廾口口弓三 尸民口人工刀巳民"},ResChromeCastListTitle:"亡口內內巳匹七 七口:",ResChromeCastNoInteractiveMessage:"工內十巳民亼匹十工人王 匹口內七王內十 臼內亽人亼工心月乃心三 山升工辶巳 匹月弓十工內巨",ResChromecastCoachmarkMessage:"十亽尸 七廾巳 亡什食口冊三匹亼与十 乃丩七七口內 丱廾三內 入口丩 山亽內七 七口 亡亽弓十 十口 入口臼尺 十人.",ResChromecastCoachmarkTitle:"匹升食口朋王匹亽与十 亼人亽工辶亽官心巳",ResChromecastDisconnectButton:"刀工与匹口內內巳匹七",ResChromecastReadyMessage:"尺三亽刀了 七口 匹月与七 人工刀巳口与 下尺口朋 七什工弓 亽尸戶",ResChromecastStatusBuffering:"官臼下干巳民工內巨 口內 {{receiver}}",ResChromecastStatusEnded:"干工內工与廾巳刀 尸辶亽入工內五 口內 {{receiver}}",ResChromecastStatusError:"亡亽弓十工內巨 七口 {{receiver}}",ResChromecastStatusLoading:"辶口月刀工內巨 口內 {{receiver}}",ResChromecastStatusPaused:"尸月凵弓王刀 口內 {{receiver}}",ResChromecastStatusPlaying:"尸辶月入工內巨 口內 {{receiver}}",ResChromecastStatusSeeking:"乃丩下干三尺工內巨 口內 {{receiver}}",ResChromecastStatusUnknown:"亡亽弓七工內五 七口 {{receiver}}",ResChromecastUnknownReceiver:"丩內片內口山內 食王亡三工人三尺",ResChromecastUnknownTitle:"臼內水內口丱內",ResClear:"亡心三亽尺",ResClearAll:"亡心三亼民 亽辶心",ResClearContinueWatching:"匹心三月民 匹口內十工內臼王 山月七匹升工內巨",ResClearContinueWatchingPrompt:"食王朋口人王 巳人三尺了七升工內巨 干食口朋 入口凵民 亡口內七工內丩三 山亼十亡什工內巨 辶工与十?",ResClearContinueWatchingSuccess:"匹口內十工內臼巳 山亼十匹廾工內巨 匹心三月食王刀 与臼匹匹三与与干臼辶心入.",ResClearWatchlistPrompt:"食三冊口人巳 王人三食了七升工內五 下食口朋 了口臼尺 冊了 心工与七?",ResClient:{androidtv:"入口臼食 刀三人工亡巳",appletv:"亽尸戶心巳 七人",appletvdemo:"月戶尸辶三 七人",default:"乂㠯口乂 口內三",desktop:"乃食口山弓三食",ps4:"尸弓4",tizentv:"与亽朋与臼內五 十人"},ResClientConsole:{androidtv:"刀三人工亡王",appletv:"月尸尸心巳 十人",appletvdemo:"月戶戶心王 十人",default:"$t(ResClient) 亡口內与口辶王",desktop:"官尺口山与王民",ps4:"与口內入 尸心亼了弓十亼十工口內 4",tizentv:"与月冊弓丩內五 七人"},ResClientRatingsDescription:"七升三弓巳 尺亼十工內巨与 月民三 七什王 冊口弓七 食王与十民工匹七工人王 下民口冊 了口丩民 $t(ResBrand) 亼匹匹口丩內七 月內刀 入口凵食 $t(ResClientConsole).",ResClientShort:{androidtv:"刀王人工亡三",appletv:"亽戶尸辶王 十人",appletvdemo:"亽尸戶心三 十人",default:"父乃口乂 口內巳",desktop:"㠯尺口丱弓王尺",ps4:"尸与4",tizentv:"弓月朋与凵內巨 十人"},ResClientVersionNotSupportedBody:{default:"尸心三亼弓王 臼尸刀月十巳 $t(ResBrand) 十口 七廾巳 心亽十三与十 人三尺弓工口內 亽人月工辶月㠯辶王 口內 $t(ResClient).",desktop:"山王’人王 朋亽刀王 弓口朋三 五尺巳亼七 臼尸刀月七王弓 七口 $t(ResWebsite). 戶心巳亽弓三 尺三下食巳与升 七廾巳 尸亼五巳 十口 匹口內十工內臼巳.",mobile:"山王’人三 朋亼刀三 弓口冊巳 五尺巳月十 丩戶刀亽十巳与 七口 $t(ResBrand). 戶辶王亼与王 凵戶刀亼十王 七口 七什王 心亽七王与十 人王民弓工口內."},ResClientVersionNotSupportedTitle:{default:"臼內弓臼尸尸口尺七三刀 人巳尺与工口內",desktop:"丱王乃与工七三 丩戶刀亼七三刀",mobile:"內三丱 人王尺与工口內 亽人亼工心亼㠯辶巳"},ResCloseContinueWatchingToast:"匹口內十工內凵巳 山亽七亡什工內巨 匹辶口与王",ResClosedCaptioningSettings:"匹心口与王刀 匹亽尸十工口內工內巨",ResClosedCaptions:"亡辶口与王刀 亡亽戶十工口內弓",ResClosedCaptionsSettings:"匹辶口与王刀 亡月尸七工口內弓 与三十十工內巨弓",ResCollections:"亡口辶辶三匹十工口內与",ResComedy:"匹口冊巳刀了",ResCommerceAddPaymentMethod:"亼刀刀 尸亽入朋巳內十 朋三七什口刀",ResCommercePleaseWait:"尸辶三亼弓巳 山亼工十…",ResCommerceStepOneOfTwo:"与十王尸 1 口干 2",ResCommerceStepTwoOfTwo:"弓七巳戶 2 口下 2",ResComponentLab:"匹口冊戶口內王內十 心月乃",ResComponentTesting:"匹口冊尸口內三內七 十巳与七工內五",ResComposer:{default:"匹口朋尸口弓王食",tv:"[亡口朋尸口与巳民](title) {{composer}}"},ResComposerWithSpacing:"匹口朋尸口弓三民: {{composer}}",ResConfirmAutoRenewOff:"了巳与, 七臼民內 工十 口干下",ResConfirmAutoRenewOn:"了三弓, 十丩尺內 工七 口內",ResConfirmPINBody:"尺王-巳內七王食 了口臼尺 內巳山 戶工內",ResConfirmPINTitle:"亡口內下工食冊 尸工內",ResConfirmPassword:"匹口內干工食冊 戶亼弓与山口民刀",ResConfirmTitle:"亼尺三 入口臼 与丩尺三?",ResContinue:"匹口內十工內凵王",ResContinueWatchingCaps:"亡口內十工內丩三 丱亼七匹升工內五",ResContinueWatchingDescription:"已凵工匹水辶入 亼匹匹巳与弓 弓什口山与 亽內刀 朋口人工三弓 入口丩 升亼人巳內’十 干工內工与升巳刀 丱亼七亡廾工內五:",ResContinueWatchingDisabled:{hbogo:{daydream:"$t(ResEmpty)",default:"七臼尺內 口內 亡口內七工內丩三 山亽七匹升工內五 七口 十食月匹水 人工刀王口弓 入口凵 月食巳 山亼十亡廾工內五.",mobile:"七口 七食月匹片 人工刀巳口弓 入口凵 亽尺三 丱月七匹升工內五, 七丩尺內 口內 亡口內十工內丩王 丱亼七匹廾工內巨 工內 与巳十七工內巨与 > 人工刀王口 尸辶亽了官亼匹水."},hbonow:"$t(ResContinueWatchingEmpty)"},ResContinueWatchingDisabledA11yText:{hbogo:{daydream:"$t(ResEmpty)",default:"匹口內十工內凵三 山亼十匹升工內巨. 七凵食內 口內 匹口內十工內臼王 山亼十匹什工內五 七口 七尺月匹水 人工刀三口与 了口丩 月民三 山亼七匹升工內巨.",mobile:"亡口內七工內凵王 丱亼十匹升工內五. 十口 十尺亼亡片 人工刀巳口弓 了口凵 亼食巳 丱亽十亡廾工內巨, 十丩食內 口內 亡口內十工內臼王 丱亼七亡升工內巨 工內 与三七十工內五弓 > 人工刀巳口 尸辶亽了乃亼亡片."},hbonow:"$t(ResContinueWatchingEmptyA11yText)"},ResContinueWatchingEmpty:"入口凵 升亼人王 內口 人工刀王口与 工內 尸尺口五民王弓弓.",
ResContinueWatchingEmptyA11yText:"亡口內十工內臼王 山亼十亡什工內五. 入口丩 升亽人三 內口 人工刀王口弓 工內 尸尺口五民三与与.",ResContinueWatchingEpisode:"匹口內十工內丩三 山月十亡升工內巨",ResContinueWatchingFullEpisodeName:"{{series}} [{{episode}}](episodeFormat)",ResContinueWatchingSetting:"七凵食內 口內 亡口內七工內凵巳 山月十亡升工內五",ResContinueWatchingSettings:"亡口內十工內臼巳 山月七亡廾工內巨",ResContinueWatchingTimeRemaining:"({{timeRemaining}} 辶三下十)",ResContinueWatchingTitle:"匹口內十工內凵巳 丱亼七匹什工內巨",ResContinueWatchingToastTitle:"匹口內十工內丩王 丱月十匹升工內巨 {{timeRemaining}}",ResControl:"亡口內七民口心",ResCopyright:"© {{copyrightYear}} $t(ResHomeBoxOffice). 亼辶心 尺工五升七与 尺三与三食人王刀.",ResCreateAccountA11yActivationInstructions:"五口 七口 $t(ResA11yWebsite)/$t(ResA11yActivationUrl) 口內 了口丩民 尸什口內巳 口食 匹口朋戶臼十巳食 亽內刀 三內七三民 七升工弓 亡口刀巳:",ResCreateAccountActivationDetails:"与十亽入 口內 七什工弓 与亡民巳巳內 丱升工辶巳 入口丩 亡食巳亽十王 了口凵民 亼亡匹口丩內十 口內 入口丩食 戶什口內三 口食 亡口冊戶丩十王尺.",ResCreateAccountActivationHeader:"亡民王月十王 月內 月匹亡口臼內七 十口 与十尺王月冊 口內 冊口尺王 刀王人工匹三弓",ResCreateAccountActivationInstructions:"巨口 七口 [$t(ResWebsite)/$t(ResActivationUrl)](strong) 口內 入口丩尺 尸升口內王 口食 匹口朋戶臼七王尺 月內刀 王內十王尺 十升工弓 匹口刀巳:",ResCreatePINBody:"三內十三尺 亽 4-刀工巨工七 戶工內 下口民 尸月食王內十月辶 亡口內七尺口心弓 亼內刀 片工刀与 心口匹水",ResCreatePINTitle:"匹民三亽七三 尸工內",ResCurrencySymbol:"$",ResCurrentPinLabel:"匹凵民尺王內十 戶工內 (4 刀工巨工七弓)",ResCurrentTime:"亡凵尺民三內十 十工冊巳 (臼七匹)",ResDOWAtTime:"{{dayOfWeek}} 月十 {{time}}",ResDateAtTime:"{{date}} 亽十 {{time}}",ResDaydreamHelp:"內王三刀 升巳辶尸? 巨口 七口 [廾王心尸.$t(ResWebsite)](h)",ResDays:"刀亽入弓",ResDeactivateConfirm:"亽尺三 入口丩 与凵尺王 入口臼 丱亽內十 十口 与工巨內 口凵七?",ResDeactivateDevice:"弓工巨內 口凵七",ResDeactivateDeviceConfirm:"$t(ResYes)",ResDeactivateDeviceDeny:"$t(ResNo)",ResDeactivateSuccessBody:"弓工五內 工內 亽巨亽工內 月內入七工冊巳.",ResDeactivateSuccessTitle:"了口丩’民三 与工巨內巳刀 口臼七",ResDeactivationInfo:"弓工五內工內巨 口凵十 口干 $t(ResBrand) 丱工心辶 凵內辶工內水 了口丩尺 {{deviceName}} 干食口朋 $t(ResBrand). 了口臼 匹月內 弓工巨內 工內 亽五亼工內 亽內了七工冊王.",ResDetailViewLoadFailed:"戶亼五王 干月工心三刀 七口 心口月刀.",ResDetails:"刀巳十亽工辶弓",ResDevListActivationDateText:"辶亽弓七 与工巨內巳刀 工內",ResDevListCurrentlyStreamingText:"与七民巳亼朋工內巨",ResDevListLastUsedText:"辶亼弓七 人工三丱三刀",ResDevMgtActiveDevicesText:"亽匹十工人三 刀三人工匹巳弓",ResDevMgtCurrentDeviceText:"匹臼尺尺王內七 刀巳人工匹王",ResDevMgtDescriptionText:"十什巳 刀巳人工匹巳与 官王辶口丱 亽民巳 弓工五內三刀 工內 亼內刀 尺王亼刀入 下口尺 弓七食三月冊工內巨. 工下 入口凵 月民三 匹口內匹王民內巳刀 入口丩食 亼亡亡口丩內七 什亼与 乃王王內 匹口朋戶食口冊工与巳刀, 与工五內 口臼十 口下 了口凵食 刀巳人工亡三与 月內刀 民三弓巳七 入口丩尺 尸月与与山口尺刀.",ResDevMgtNoDevicesText:"了口臼 什月人三 內口 口七廾王民 刀王人工匹巳与 食三五工弓七三民三刀.",ResDeveloperSettings:"刀三人巳心口尸三尺 与巳七十工內巨弓",ResDeveloperSettingsDescription:"十廾三与巳 弓三七十工內五与 丱工心心 內口七 乃王 亽人亼工心亼㠯心王 七口 三內刀 凵弓三尺弓 亼內刀 亽食三 工內十王內刀三刀 口內心了 十口 什巳心戶 工內 七王弓七工內巨 亼內刀 刀王人三心口尸冊王內十",ResDeviceBrand:"刀巳人工匹三 官食亼內刀",ResDeviceManagementAllButtonShort:"与工巨內 口臼七",ResDeviceManagementAllButtonText:"与工五內 口臼十 口干 月辶辶 刀巳人工匹王弓",ResDeviceManagementAllConfirmText:"弓工五內 口臼七 口下 $t(ResBrand) 口內 亼辶心 刀王人工亡巳与, 工內匹辶丩刀工內巨 十廾工与 口內王?",ResDeviceManagementAllConfirmTitle:"与工巨內 口丩七 口干 月辶辶 刀王人工匹巳弓",ResDeviceManagementAllDescription:{hbogo:"弓工五內 口丩十 口干 $t(ResBrand) 口內 亼辶心 刀三人工亡王与, 工內亡心臼刀工內巨 十廾工与 口內三? 入口丩’心心 內巳三刀 七口 与工巨內 工內 月五亽工內 口內 月辶心 了口凵民 刀王人工匹王与.\n\n工下 了口凵 七廾工內片 了口凵食 十人 尸尺口人工刀三民 亽匹匹口臼內十 工弓 官王工內巨 凵与王刀 山工十升口丩十 入口凵尺 戶巳食朋工弓与工口內, 匹什亽內巨王 入口丩尺 戶月与弓山口尺刀 㠯王干口食王 与工巨內工內巨 口臼七.",hbonow:"与工巨內 口凵十 口干 $t(ResBrand) 口內 月辶心 刀王人工匹三与, 工內匹心凵刀工內巨 七什工与 口內三? 了口臼’辶心 內王三刀 七口 与工五內 工內 亽巨月工內 口內 月心辶 入口臼尺 刀王人工匹王弓.\n\n工干 了口臼 十廾工內水 了口凵民 亼匹亡口凵內十 工弓 官巳工內巨 丩弓巳刀 丱工十升口臼七 入口臼尺 戶三民冊工与与工口內, 五口 十口 尸民口干工辶巳 亼內刀 亡廾月內巨王 入口丩食 戶亼与与丱口尺刀 官王下口尺巳 与工巨內工內五 口凵十."},ResDeviceManagementAllHintText:"工七 冊亽了 十月片巳 丩戶 七口 4 廾口丩食弓 七口 弓工巨內 口臼十 口干 亽辶辶 刀巳人工亡巳与.",ResDeviceManagementViewTitle:"冊亼內亽巨三 刀三人工匹巳与",ResDeviceManufacturer:"刀三人工匹王 冊亼內丩下亽亡七凵食王民",ResDeviceModel:"刀三人工亡王 朋口刀王辶",ResDeviceName:"刀三人工亡王 內亽朋巳",ResDeviceOSVersion:"刀王人工亡王 口与 人三民与工口內",ResDeviceSN:"刀三人工亡三 弓巳民工月心 內臼朋㠯三民",ResDevices:"刀王人工匹巳与",ResDirectors:{default:"刀工食王亡七口食与",univ:"刀工民三亡十口尺与"},ResDisabled:"口干干",ResDocumentaries:"刀口匹丩朋王內十月尺工王弓",ResDone:"刀口內王",ResDontHaveHbo:"刀口內’十 什亽人王 什官口?",ResDontHaveHboNow:"刀口內’十 升亼人巳 升㠯口 內口丱?",ResDownloadTheApp:"[刀口山內辶口亼刀 十廾巳 $t(ResBrand) 亽尸尸](appStoreUri) 亼內刀 弓十亽民七 了口臼食 下尺巳三 十尺工亽心.",ResENG:"三內五辶工与廾",ResEdit:"三刀工七",ResEditPaymentMethod:"三刀工十 戶亽了冊巳內七",ResEditorialPlaylist:"冊口食巳 {{playlistTitle}}",ResEmail:"巳冊亼工心",ResEmailAddress:{activation:"王朋亼工心",commerce:"三朋亼工辶 亼刀刀尺巳与弓",default:"三朋月工辶 亽刀刀食巳与与"},ResEmailNotificationError:"亽內 巳朋亼工辶 月刀刀食巳弓与 工弓 食巳已凵工尺王刀 丱什王內 三朋亼工辶 內口十工下工匹亽十工口內与 月食巳 七凵食內三刀 口內.",ResEmpty:"",ResEnableParentalControlsButtonText:"弓巳十 尸亽尺王內七亽心 亡口內七食口辶与",ResEnabled:"口內",ResEnglish:"巳內五心工与升",ResEnterPINBody:"三內十巳尺 了口凵尺 4-刀工五工十 尸工內",ResEnterPINTitle:"王內七巳食 戶工內",ResEnterPassword:"戶月与与山口食刀",ResEnvironmentMenu:"王內人工民口內朋王內七",ResEpisodeNumDot:"王尸 {{number}}: ",ResEpisodeNumberLong:"巳戶工弓口刀王 {{episode}}",ResEpisodeNumberPrefixLabel:{default:"巳尸 {{number}} ",mobile:"王尸 {{number}}   "},ResEpisodeNumberShort:"巳尸 {{episode}}",ResEpisodeShortTitle:"三戶 {{episode}}: {{title}}",ResEpisodeTitleNoNumber:"{{title}}",ResEpisodes:"巳戶工弓口刀王与",ResError:"王食民口尺",ResErrorActivationMessage:"亼匹十工人亽七工口內 下月工心三刀. 尸心三亽与巳 十食了 亼五月工內 辶月十巳食.",ResErrorActivationTitle:"亼亡七工人亼十工口內 三民食口民",ResErrorAffiliateAuthenticationMessage:{hbogo:"丱巳’尺三 什亼人工內巨 七尺口丩乃辶三 人王民工下入工內五 了口臼食 亼亡亡王与与 七口 $t(ResBrand) 山工十廾 了口臼尺 七人 戶尺口人工刀巳食.\n\n{{affilateMessage}}",hbonow:"{{affilateMessage}}"},ResErrorAffiliateAuthenticationTitle:{hbogo:"弓工巨內王刀 口丩七",hbonow:"亼亡匹三与弓 巳民尺口尺"},ResErrorAuthenticationMessage:{hbogo:"丱三’食三 廾亼人工內巨 七食口丩㠯辶王 人王民工下入工內巨 了口凵食 亼亡亡三与与 十口 $t(ResBrand) 山工七什 了口凵民 七人 戶民口人工刀巳尺.\n\n工干 了口臼 匹口內十工內丩三 十口 升亽人巳 七什工弓 工弓弓丩王, 亡口內七月匹七 了口丩民 七人 尸尺口人工刀巳民 干口民 亼弓弓工弓十亼內匹巳.",hbonow:"丱王’食王 廾亽人工內巨 十食口丩官心王 人王食工下了工內五 入口凵尺 $t(ResBrand) 与凵乃与匹民工戶七工口內. 工下 入口凵 亡口內十工內凵巳 七口 什亼人王 十廾工与 工弓弓凵三, 匹口內七月匹十 入口凵民 与凵乃弓匹食工戶七工口內 尸民口人工刀王食 口食 民三內王山 了口丩食 $t(ResBrand) 与丩乃与匹食工戶七工口內."},ResErrorAuthenticationTitle:{hbogo:"与工五內王刀 口丩七",hbonow:"亡亽內’七 人三食工干入 了口丩民 与丩官弓匹食工尸七工口內"},ResErrorAutoplayDisabled:"了口凵 內巳三刀 十口 匹什亽內五巳 入口凵民 弓月下亼尺工 月臼十口-戶心亼了 与巳七七工內五 下口尺 七廾工弓 山三㠯与工十三.",ResErrorContentRestrictedMessage:{hbogo:"七什工与 工十三冊 工与 食王与七民工亡七三刀 乃了 七什三 戶亼尺巳內七月辶 亡口內七尺口心弓 干口尺 入口丩食 {{affiliateName}} 亽亡亡口丩內十. 亡廾巳匹片 入口丩食 {{affiliateName}} 弓巳十七工內五弓 口食 亡口內十亽亡十 {{affiliateName}} 下口民 朋口民王 工內干口食冊亼十工口內.",hbonow:"七什工与 人工刀巳口 工与 尺三与十尺工亡七王刀 㠯入 戶月食三內十亼辶 亡口內七民口心弓. 七口 丩戶刀亼十巳 了口丩尺 与巳十七工內巨与, 巨口 十口 弓王七七工內巨与 > 戶月尺王內七亼辶 匹口內七食口辶弓."},ResErrorContentUnavailableMessage:"十升王 工十巳冊 入口臼 民王甲丩三弓十三刀 工与 內口七 亡臼食尺三內七辶入 亼人亽工辶亼㠯辶三.",ResErrorContentUnavailableTitle:"匹口內十王內七 內口十 月人亽工心亼㠯辶三",ResErrorExpiredSessionMessage:"与口尺民入, 十升王 辶工內水 廾亼与 三父尸工尺三刀.",ResErrorExpiredSessionTitle:"辶工內片 巳乂戶工民三刀",ResErrorHDCPMessage:"匹廾三亡片 入口臼民 什刀朋工 亡口內內王亡七工口內弓.",ResErrorHDCPSetupMessage:"亼內 什刀匹尸 工弓弓丩三 山亽弓 刀王十王亡七巳刀 山工七什 入口凵尺 刀王人工亡三 弓巳七臼戶.",ResErrorHDCPTitle:"什刀亡尸 巳民民口尺",ResErrorInvalidSessionMessage:{appletv:"了口臼民 与王与弓工口內 升月弓 三父尸工尺巳刀. 尸心三月与三 与工五內 工內 亽五亼工內.",default:"了口丩食 与王弓弓工口內 什亼与 三乂尸工食王刀. 尸辶巳亼与王 民三月匹十工人月七三 $t(ResBrand) 口內 入口臼食 $t(ResClientShort).",univ:"了口凵民 与王与弓工口內 廾亼与 三父尸工尺王刀. 戶心巳亽弓三 弓工巨內 工內 月巨亼工內."},ResErrorInvalidSessionTitle:"弓巳弓弓工口內 王乂尸工尺王刀",ResErrorMessageDefault:{default:"亽內 三食尺口民 什亽与 口亡匹凵尺民三刀. $t(ResBrand) 山工心心 內口丱 民巳与七亼尺十.",desktop:"亼內 王食尺口民 廾亼与 口匹亡凵尺尺三刀. 七民了 尺巳下尺巳弓升工內五 七升三 戶亼五王 口尺 內亽人工巨月七工內五 七口 亼內口七廾三食 尸亽五三."},ResErrorNetworkMessage:{default:"山巳’食三 升亽人工內巨 工弓弓臼王弓 匹口內內王匹七工內巨 十口 $t(ResBrand) 食工巨廾十 內口丱. 尸心三月与巳 亡什王亡水 入口凵民 工內十王食內王七 亡口內內三匹十工口內 月內刀 七民入 亼五亼工內. $t(ResBrand) 丱工辶辶 內口丱 食巳与七亼民七.",desktop:"山三’尺王 升亽人工內巨 工与与臼王与 匹口內內巳亡七工內五 十口 $t(ResBrand) 食工巨升十 內口山. 尸心王月弓巳 亡升三亡片 入口丩民 工內十三民內巳十 亡口內內王亡十工口內 亽內刀 七食入 亼五月工內."},ResErrorNetworkTitle:"內王七丱口尺片 巳食尺口食",ResErrorNetworkWhilePlaying:"丱王’食三 升月人工內巨 七食口丩乃心王 尸心亼了工內五 七什工弓 人工刀巳口. 戶心巳亽弓王 亡廾三亡片 了口臼民 工內十巳食內巳七 亡口內內三亡十工口內 口食 七食入 亼巨亽工內 心月七王尺.",ResErrorPlaybackFlashLinkText:"巨王十.亽刀口官王.匹口冊/干心月与升尸辶亼了王民",ResErrorPlaybackFlashMessage:"十什王 心亽十三弓七 亼刀口官三 干辶月与什 尸辶亼入王尺 冊丩与七 乃王 工內弓七亼心心巳刀 亽內刀 巳內月官辶三刀 工內 入口凵民 乃民口山与三民.",ResErrorPlaybackFlashSubMessage:"十口 刀口山內心口亼刀 干心亽弓廾 戶辶亼入王尺, 人工弓工七",ResErrorPlaybackMessage:"山三’尺王 什亼人工內五 十食口丩官辶三 尸辶月入工內五 七什工与 人工刀三口. 戶辶三亽与王 十尺了 亽巨月工內 辶月七三尺.",ResErrorPlaybackTitle:"亡亼內’七 戶辶月入 人工刀王口",ResErrorPlayerErrorTitle:"匹亽內’七 戶辶月入 人工刀三口",ResErrorPrivateBrowsing:"冊亼片三 与凵尺巳 了口凵民 官民口山弓巳尺 工弓 內口十 工內 尸尺工人亽七三 㠯民口丱弓工內巨 朋口刀王.",ResErrorServiceMessage:{default:"亼內 三尺尺口尺 廾月与 口匹匹凵尺食巳刀. $t(ResBrand) 丱工辶心 內口丱 尺三弓十亽民十.",desktop:"亼內 巳民尺口尺 什亽弓 口亡亡臼民食三刀. 戶心三亼与三 七尺了 亽巨亼工內 工內 亼 下王丱 朋工內臼七巳与."},ResErrorServiceTitle:"弓三食人工亡三 三尺尺口民",ResErrorServiceTraceId:"与王民人工亡巳 匹口刀巳: {{traceId}}",ResErrorServiceWithMessage:{default:"$t(ResBrand) 工弓 十巳朋戶口食亽食工辶了 凵內亽人月工心月乃辶巳. $t(ResBrand) 丱工心辶 內口丱 民三弓十亽尺七.\n\n{{serviceMessage}}",desktop:"$t(ResBrand) 工与 十三冊戶口民亼食工心了 臼內月人亽工心月官心巳.\n\n{{serviceMessage}}"},ResErrorStreamTrackingMessage:"入口凵’民三 与十食王亽朋工內五 $t(ResBrand) 口內 十口口 冊亼內入 刀巳人工匹王与 与工朋臼心十亼內巳口臼弓心了. 七口 亡口內七工內丩王, 弓十口戶 弓七食三月冊工內巨 $t(ResBrand) 口內 亽內口十升巳民 刀巳人工亡三.",ResErrorStreamTrackingTitle:"匹亽內’七 尸辶月入 人工刀三口",ResErrorSubscriptionExpiredMessage:{hbogo:"山巳’民王 什亼人工內巨 十尺口臼乃辶三 人巳食工干入工內巨 入口凵民 亼匹匹巳弓与 七口 $t(ResBrand). 尸辶巳亼与巳 亡口內十月亡七 了口丩尺 七人 戶食口人工刀巳食.",hbonow:"十口 食三內三山, 口尸三內 七廾王 $t(ResBrand) 月尸戶 月內刀 匹廾口口与巳 食三內三丱 了口臼民 与凵㠯与亡尺工戶十工口內."},ResErrorSubscriptionExpiredTitle:{hbogo:"与口朋三十廾工內巨 山王內七 山食口內五",hbonow:"了口凵民 弓凵㠯与匹民工戶十工口內 廾亽与 王父戶工尺王刀"},ResErrorUnavailable:"弓口食食入, 十什工与 工內干口 工与 十三朋尸口食亽民工辶了 丩內亼人月工辶月㠯辶王. 戶心王亼弓三 七尺入 亽五亼工內 心月七巳尺.",ResErrorUnknownServiceTraceId:"丩內水內口山內",ResExplore:"三乂尸辶口尺三",ResExtras:{default:"王父七尺亼与",univ:"巳父十食月与"},ResFamily:"干月朋工心了",ResFaqMenu:"什三辶戶",ResFastForward:"下月与七 下口食山亼尺刀",ResFaster:"干月弓十巳尺",ResFeatured:"干王亼十臼民巳刀",ResFindOutHow:"干工內刀 口凵十 升口山",ResFivePointOne:"5.1",ResFooterHelpLinkText:"人工弓工十 十升三 廾三辶尸 亡王內十王尺",ResFooterHelpText:"內巳三刀 升王辶戶?",ResFooterSignInHelpText:"內三王刀 什王辶尸 弓工巨內工內巨 工內?",ResForgotPINButton:"干口尺五口十 戶工內?",ResForgotPINTitle:"下口民巨口十 了口丩民 尸工內?",ResForgotPassword:"下口尺巨口七 戶亽弓与山口食刀",ResForgotPasswordCheckEmailInstructions:{activation:"亡升巳亡水 了口丩民 {{emailText}} 工內㠯口父 下口食 月 尸月弓弓山口尺刀 民巳弓王十 三朋月工心.\n\n工干 入口丩 刀口內’十 五王七 七什工弓 三朋亼工辶 弓口口內, 弓三王 [亡月內’十 尺王与巳七 戶亼弓弓山口尺刀](a).",default:"亡升巳匹水 入口丩尺 {{emailText}} 工內乃口乂 下口尺 亽 尸亽弓弓山口尺刀 尺三弓王七 巳朋亽工辶.\n工干 了口凵 刀口內’十 巨王十 七廾工弓 王冊亽工心 弓口口內, 与三巳 [匹亼內’十 民三与王七 戶亼弓弓丱口食刀](a).",mobile:"尸心王亼与王 亡升巳亡水 入口丩民 巳冊月工辶 下口尺 工內弓七食臼亡七工口內弓 口內 什口山 十口 尺王弓巳七 了口凵食 戶亽弓与山口食刀."},ResForgotPasswordEmailSent:"三朋亼工心 弓三內十",ResForgotPasswordInstructions:"三內七三食 入口凵民 $t(ResBrand) 三朋亼工辶 亽內刀 山三’心心 与三內刀 入口凵 亽 辶工內片 七口 尺巳与王七 了口丩尺 戶月与与山口尺刀.",ResForgotPasswordServiceError:"口口尸与, 与口冊三七什工內巨 山巳內十 丱食口內五. 戶心三亽弓巳 十尺入 亼巨亼工內 心月十王尺.",ResForgotPasswordSubmitButton:"弓丩官朋工十",ResForgotPasswordTitle:"民巳与三十 了口凵尺 戶亼与弓丱口尺刀",ResForgotPasswordWithQuestion:"下口食巨口七 尸月与弓丱口食刀?",ResForgotPinConfirmationText:{hbogo:{default:"匹升王亡水 入口丩民 工內乃口乂 干口民 亽 尸工內 食巳朋工內刀三食 三朋亽工心. \n\n工干 十升巳 巳冊月工辶 刀口王与內’十 亼食食工人三 弓口口內, 匹廾三匹水 入口凵食 弓尸亽朋 干口心刀三食.",mobile:"匹什王亡水 入口凵尺 工內㠯口乂 下口尺 亽 尸工內 尺巳冊工內刀巳食 王朋亼工心."},hbonow:{default:"亡什三亡片 入口臼民 工內乃口父 干口尺 亼 民巳弓巳十 尸工內 三朋亼工辶. \n\n工干 十廾巳 三冊月工心 刀口三弓內’七 亽尺食工人三 与口口內, 匹升王亡水 入口凵尺 弓尸亽冊 干口心刀三民.",mobile:"亡什三匹片 入口凵民 工內乃口父 下口民 亼 食王弓巳七 尸工內 巳朋亽工心."}},ResForgotPinConfirmationTitle:{default:"与凵匹匹巳弓弓",mobile:"巳冊亽工心 与三內十"},ResForgotPinLink:"下口尺五口七 尸工內?",ResFormattedEpisodeShortTitle:"[三戶 {{episode}}:](gray) {{title}}",ResGeoBlockBody:{daydream:"$t(ResBrand) 工与 月亡匹王弓弓工㠯心巳 口內心了 工內 七升三 臼.弓. 亽內刀 匹王尺七月工內 凵.弓. 七巳尺尺工十口民工三与.\n\n工干 入口臼’尺巳 辶口匹月七王刀 工內 口內巳 口干 七升三弓巳 亼食三月与 亽內刀 三乂尸巳民工巳內亡工內五 刀工干干工匹臼心七工三与, 匹口內七亼匹十 入口凵食 $t(ResGeoProviderString).",default:"$t(ResBrand) 工与 月匹亡三与与工㠯辶三 口內辶了 工內 十廾巳 丩.与. 月內刀 亡巳食十亽工內 臼.弓. 十三尺民工七口尺工巳与.\n\n工干 入口凵’尺三 心口匹亼七王刀 工內 口內王 口下 十什王与三 亼民三亽与 月內刀 三父尸三食工三內亡工內巨 刀工下下工匹丩心七工三弓, 匹口內十月亡七 入口丩食 $t(ResGeoProviderString).\n\n下口民 冊口食巳 升王心戶, 巨口 十口: [工七与什.官口/弓王民人工匹巳-月民巳亼](geoBlockHelpLink)",mobile:"$t(ResBrand) 工与 亼亡匹巳弓弓工乃心王 口內辶入 工內 七廾巳 丩.弓. 亼內刀 亡三尺七亽工內 臼.弓. 十三民民工十口尺工王弓.\n\n工下 入口丩’尺巳 心口匹亼七巳刀 工內 口內王 口干 十升三与三 月食巳亼与 亼內刀 三父戶巳民工巳內匹工內五 刀工干下工匹臼辶十工巳与, 匹口內十月匹七 了口凵尺 $t(ResGeoProviderString) 下口民 月弓与工弓十月內亡三."},ResGeoBlockTitle:"內口十 工內 与巳食人工亡巳 月民巳亽",ResGeoProviderString:{hbogo:"十人 尸尺口人工刀王民",hbonow:"工內七三尺內三七 与巳食人工匹王 尸食口人工刀巳食"},ResGeoUnitSelectionDropDownPrompt:"匹廾口口弓巳",ResGetStarted:"巨三七 弓十亽尺十王刀",ResGiftCardEntryCodeLabel:"巨工干十 匹亼民刀 亡口刀巳",ResGiftCardEntryGeoUnitLabel:"弓七月十王 口尺 十王食民工七口食了",ResGiftCardEntryZipCodeLabel:"乙工戶 匹口刀巳",ResGiftCardGeoUnitDisplayName:"{{name}} – {{abbreviation}}",ResGiftCardInputPlaceHolderText:"三內十王尺 五工下七 亡月食刀 亡口刀王",ResGiftCardOKGotIt:"口水, 巨口十 工十",ResGiftCardOneMoment:"口內巳 冊口朋巳內十, 戶心三亼与三",ResGiftCardRegisterRedeemButtonText:"食三刀巳巳冊",ResGiftRedeeming:"山三’尺王 丱口食片工內五 口內 食三刀三巳朋工內五 入口丩民 五工干七 亡月食刀.",ResGiveUpInfo:"山巳’民巳 升月人工內五 七尺口丩乃辶三 亡口內內三匹七工內巨 十口 七升三 $t(ResBrand) 与三食人工亡三. 尸辶三亽与巳 亡什巳匹片 入口丩食 工內七三尺內三七 亡口內內王亡十工口內 口尺 七尺了 亽巨亼工內 辶月十三尺.",ResGiveUpTitle:"匹亽內’十 匹口內內三亡十 十口 $t(ResBrand)",ResGoToTheHomepage:"五口 七口 十廾王 [升口冊王尸亽巨巳](a).",ResGotIt:"五口七 工七",ResGuests:{default:"五臼王与七与",univ:"巨臼王与十弓"},ResHBOGO:"什官口 五口",ResHBONOW:"升官口 內口丱",ResHD:"升刀",ResHelp:"什王心尸",ResHere:"升巳民王",ResHi:"升工 七升三尺三",ResHiUsername:"什工 {{username}}",ResHide:"廾工刀巳",ResHidePW:"升工刀三 尸月弓与山口食刀",ResHome:"什口冊巳",ResHomeBoxOffice:"廾口朋王 官口乂 口下干工匹三",ResHours:"廾口凵食弓",ResIAPConfirmationErrorMessage:"入口臼’民三 尺三月刀入 七口 与十尺巳亽冊. 山巳 丁凵弓七 內王三刀 七口 食巳与七月食七 $t(ResBrand).",ResIAPErrorMessage:"弓口食尺入, 山三 匹月內’七 食三月亡升 {{store}} 尺工巨廾七 內口丱. 尸辶三月弓王 七尺入 亼巨亽工內 心亽十巳尺.",ResIAPLinkReceiptErrorMessage:{default:"弓口尺民入, 丱王 匹口凵心刀內’十 心工內片 了口凵民 內王丱 与臼官弓匹食工尸十工口內 七口 了口凵民 $t(ResBrand) 月匹亡口丩內七.\n七尺了 十口 丱亽十匹什 弓口朋巳十什工內巨, 十廾王內 亡廾口口弓巳 辶工內片 了口臼尺 与丩官与亡民工戶十工口內 > {{store}}.",ios:"弓口食民了, 丱三 亡口臼辶刀內’十 心工內水 了口丩民 內巳山 与臼官与亡食工尸十工口內 十口 了口凵民 $t(ResBrand) 亽亡匹口臼內七.\n十食了 十口 山亽十亡升 与口朋三十廾工內巨, 七升巳內 匹什口口与王 尺王与七口尺王 尸丩民匹什月弓三: {{store}}.",tv:"弓口民民了, 山三 匹口丩辶刀內’十 辶工內片 了口臼尺 內巳山 与臼官与亡食工尸七工口內 七口 入口丩民 $t(ResBrand) 亼匹亡口凵內七.\n七食了 七口 山亽七亡什 与口冊王十廾工內巨, 七什巳內 亡什口口与三 尺王与十口民三 戶丩食亡廾月弓三: {{store}}."},ResIAPOopsTitle:"口口尸弓, 与口朋巳七什工內五 山三內十 山食口內巨",ResIAPPurchaseErrorTitle:"与臼官与亡尺工戶七工口內 戶臼尺匹廾亼与巳",ResIAPRestoreAlreadyLinkedAnother:"与臼㠯弓亡尺工戶七工口內 辶工內片三刀 七口 亽內口十升巳尺 月匹匹口凵內七",ResIAPRestoreAlreadyLinkedTitle:"弓丩乃弓亡民工戶七工口內 心工內片王刀 十口 亼內 亽亡亡口臼內七",ResIAPRestoreBoundAuthError:"十廾三 与丩㠯弓亡尺工尸七工口內 丱三 下口凵內刀 工弓 心工內水王刀 十口 亽 刀工干下三食三內七 $t(ResBrand) 月匹匹口臼內七. 七口 与十亽食七 丱亽七亡廾工內巨, 尸辶三月弓王 弓工巨內 工內 十口 十廾工弓 亽亡匹口丩內十.",ResIAPRestoreBoundUnauthError:"七廾王 弓丩乃弓亡民工戶七工口內 山王 下口臼內刀 工弓 亼心民三亼刀入 辶工內水巳刀 七口 亼內 $t(ResBrand) 亽亡亡口凵內十. 十口 弓十亽食七 山月十亡廾工內五, 戶辶王亼弓三 弓工巨內 工內 七口 七升工与 月匹匹口凵內十.",ResIAPRestoreErrorTitle:"与臼乃与亡尺工戶七工口內 食王与十口尺三",ResIAPRestoreGenericErrorMessage:"弓口民民了, 丱巳 亡亽內’十 尺王月亡什 {{store}} 食工巨什十 內口丱. 戶辶三亼与王 十食了 亼巨亽工內 心亽七王尺.",ResIAPRestoreNothingFoundError:"与口尺民入, 丱三 匹口凵心刀內’十 干工內刀 亽 弓丩㠯与亡食工戶十工口內 下口食 入口凵 工內 {{store}}.",ResInheritedPCLink:"七人 戶民口人工刀三食 月亡亡口丩內十.",ResInheritedPCNoLink:"十口 匹升亼內巨三 入口丩食 与三七七工內巨弓, 巨口 七口 了口臼民 七人 戶食口人工刀巳民 月匹匹口丩內七.\n了口凵 冊臼与十 与工五內 口凵十 亼內刀 十廾王內 与工五內 工內 干口食 匹什亽內五巳与 七口 十亽片巳 巳干干王匹十.",ResInheritedPCPostLink:"入口凵 冊凵弓七 与工巨內 口臼十 亼內刀 十廾巳內 与工五內 工內 下口食 亡廾亽內五王弓 七口 十月水巳 巳干下王亡七.",ResInheritedPCPreLink:"十口 亡廾亽內巨巳 了口臼民 与三七十工內巨弓, 五口 十口 入口凵尺 ",ResInheritedParentalControlsInstructions:"尺工五升十 內口丱, 了口丩尺 弓三七十工內巨与 亼尺王:\n\n十人: {{tvRating}}\n朋口人工巳弓: {{movieRating}}\n\n戶月食三內七月辶 亡口內十尺口辶弓 升月人三 乃三王內 弓王七 七什尺口丩五什 入口臼食 七人 戶尺口人工刀王食. 匹升亽內巨巳 十廾王与三 弓王十十工內五与 口內 了口丩食 七人 戶食口人工刀三民’弓 丱三㠯与工十王.\n\n下口尺 匹升亼內五巳与 七口 十亼片三 王干干王亡七, 与工巨內 口凵七 口下 $t(ResBrand) 亽內刀 七廾巳內 弓工巨內 工內 亽巨亼工內.",ResInheritedParentalControlsNotice:"冊亼乂工朋臼朋 亽辶心口山巳刀 食亼七工內五弓:\n\n七人: {{tvRating}}\n朋口人工巳弓: {{movieRating}}\n\n戶亼食三內七亼心 亡口內十民口心与 廾亼人三 乃王三內 弓巳七 七升民口臼巨升 了口凵尺 七人 戶民口人工刀王民. 匹廾月內五王 十廾三弓三 与王七十工內巨与 口內 了口丩尺 七人 尸尺口人工刀三尺’与 丱王㠯与工七王.\n\n干口食 亡升亼內五巳弓 七口 十月水巳 王干干王亡七, 弓工五內 口臼七 口干 $t(ResBrand) 亼內刀 七什三內 与工巨內 工內 亽五月工內.",ResInteractive:"工內七三尺亽亡十工人王",ResInteractiveCoachFloatingTitle:"山升王內 了口凵 与王巳 七什工弓 工亡口內, 七亼尸 工七 干口尺 冊口民王 亡口內七王內十.",ResInteractiveCoachPlayerBarTitle:"十亽尸 什巳尺巳 七口 与巳王 亼辶辶 工內十巳民月匹十工人三 亡口內十三內七.",ResInteractiveCoachTitle:"人工匹巳 工內十王食亽亡十工人巳",ResInvalidEmailError:"三內七三民 工內 七什王 干口食冊亼十: 內亽冊三@巳父亽朋戶心巳.匹口冊",ResInvalidEmailLengthError:"戶辶巳亼弓王 三內十三尺 亽 人亼心工刀 三冊月工辶 亼刀刀尺三弓与.",ResInvalidFirstOrLastNameError:"入口丩民 內亽冊巳 亡亽內 口內心入 工內匹心丩刀三 心三十七巳食弓 亽-乙 口尺 亼-之.",ResInvalidFirstOrLastNameLengthError:"戶心巳亼与巳 王內七三民 入口凵尺 干工民与七 月內刀 辶月与十 內亼冊王.",ResInvalidGiftCardError:"工內人月辶工刀 匹口刀王. 戶辶三亼弓三 食三-巳內七巳民 七廾王 亡口刀王.",ResInvalidGiftCardGeoUnitError:"亡升口口与三 月 与七亽七王 口食 十三民尺工十口民入.",ResInvalidGiftCardZipAndGeoUnitError:"亡升口口弓巳 月 与十月十三 月內刀 王內七三尺 工內 5-刀工巨工七 之工戶.",ResInvalidGiftCardZipError:"三內十巳尺 亼 5-刀工五工七 之工戶 亡口刀王.",ResInvalidLicensePlateLengthError:"亡口刀三 朋丩弓七 㠯王 6 匹廾月尺亽亡七王食弓.",ResInvalidPasswordLengthError:"入口臼民 戶亽与与丱口食刀 冊臼与十 官三 8 口尺 冊口食巳 亡廾亽民月亡十三食弓.",ResInvalidPasswordLetterError:"了口丩尺 戶亼弓弓山口食刀 朋丩弓七 升月人王 亼七 辶巳亽弓十 口內巳 辶巳十十三尺.",ResInvalidPasswordMaxLengthError:"入口臼食 戶亽弓与丱口尺刀 朋丩与十 乃巳 辶巳弓与 十廾亼內 65 亡廾月食亼亡十三民弓.",ResInvalidPasswordNumberError:{activation:"工內匹心凵刀巳 月 內臼朋乃王食 口民 与戶王亡工月心 匹什亼尺亽亡十三尺.",default:"了口臼食 戶月弓与丱口尺刀 冊凵与十 升月人巳 亼 內凵朋㠯三尺 口民 与尸三匹工亼辶 亡升月尺亽匹十王食."},ResInvalidPhoneNumber:"王內十三尺 入口丩民 10-刀工巨工七 戶升口內王 內凵朋乃三民.",ResInvalidPinError:"了口凵民 戶工內 朋丩弓七 官巳 4 刀工五工十与.",ResInvalidUserIdError:"刀口 內口七 工內匹辶凵刀巳 弓尸三匹工月心 亡廾亼尺亽亡七巳尺与: <>=;&{}",ResInvalidUserIdLengthError:"三內十三尺 3–14 亡廾亼尺亽匹十王民与 口內辶了.",ResInvalidZipError:"三內七三尺 工內 十升巳 干口尺朋亽七 12345 口尺 12345-1111.",ResJoinLiveInProgress:"丁口工內 工內 戶民口五民王与与",ResJumpToEpisodeDetails:"巳尸工弓口刀三 刀王七亼工辶与",ResJumpToExtras:"三乂七食亽与",ResKeyboardItems:"亽,㠯,亡,刀,三,干,巨,什,工,了,片,辶,朋,內,口,尸,甲,食,与,七,凵,人,丱,乂,入,乙,0,1,2,3,4,5,6,7,8,9",ResKids:"片工刀弓",ResKidsLockConfirmButtonText:"十臼食內 口內",ResKidsLockConfirmMessage:"入口凵 丱工心心 口內辶入 官王 亽辶辶口丱三刀 七口 巳乂戶辶口食三 弓升口山弓 丱工十廾工內 十升王 水工刀弓 弓三亡七工口內.\n\n七口 七臼尺內 口下下 十廾王 辶口匹片, 七月戶 十什三 水工刀与 辶口亡片 亽內刀 七什三內 王內十巳食 入口丩食 戶工內.",ResKidsLockConfirmTitle:"七凵尺內 口內 水工刀弓 辶口亡片?",ResKidsLockInformationalAltMessage:"口尺, 了口丩 匹亽內 亡口內七民口辶 山廾工亡升 与廾口丱与 月民三 山月七亡什巳刀 官亽弓王刀 口內 食月七工內巨弓.",ResKidsLockInformationalLinkText:"匹升巳亡水 戶亼尺巳內十亼心 匹口內十尺口辶弓",ResKidsLockInformationalMessage:"十亼尸 十什三 心口匹水 七口 口內心了 月辶心口丱 亼亡亡巳弓与 十口 与升口丱与 丱工十升工內 七什王 片工刀弓 与王匹七工口內.",ResKidsLockInformationalTitle:"亼十十三內七工口內 戶亽民王內十弓",ResLanguage:"辶亽內巨凵亼五三",ResLanguageViewLabel:"$t(ResBrand) 亼戶戶 辶月內巨凵月五三",ResLanguageViewTitle:"心亼內巨臼亽巨三",ResLateNight:"辶月十三 內工五升七",ResLatest:"辶亽七三弓十",ResLearnMore:"心巳月民內 朋口尺巳",ResLegal:"尸民工人月亡入 & 七巳尺朋与",ResLegalCTA:"弓巳巳 干凵心心 {{legalText}}",ResLiteRegistrationSaveButtonText:{hbogo:{activation:"匹民王亽七王 戶尺口下工辶巳",default:"弓亼人巳"},hbonow:"匹民王亼七王 戶尺口干工心王"},ResLiteRegistrationText:{hbogo:{activation:"十口 弓七亽民七 与七尺王亼冊工內五, 戶辶巳亽弓巳 亡民巳月十三 月內 $t(ResBrand) 戶食口下工辶三.",default:"尸辶巳月弓王 亡口朋戶辶王十王 入口凵食 戶尺口干工心巳."},hbonow:"戶辶三亽与王 匹口冊戶辶王十三 了口凵食 $t(ResBrand) 戶尺口下工心三."},ResLiteRegistrationTitle:{hbogo:{activation:"亡食王亽七王 了口凵尺 尸食口干工辶三",default:"山三辶亡口朋王 十口 $t(ResBrand)"},hbonow:"匹食三亽十三 了口丩民 尸民口下工辶巳"},ResLiveDayAtTime:"辶工人王 | {{dayAtTime}}",ResLiveNotAvailable:"七升工弓 人工刀巳口 工弓內’七 亼人月工心亼乃心王 入巳七.\n尸心巳月弓巳 匹口朋王 㠯亽亡片 辶月七王食.",ResLiveNow:"辶工人王 內口山",ResLoading:"辶口亼刀工內五…",ResLocaleOverrideMenu:"心口匹亼心巳 口人王民民工刀巳",ResMAXGO:"冊亽父 巨口",ResManageYourSubscription:"朋月內亽五巳 了口臼尺 与丩㠯与匹民工尸七工口內",ResMore:"冊口尺巳",ResMoreEpisodes:"朋口民三 王戶工弓口刀三弓",ResMoreFranchiseCategoryHeader:"冊口民巳 {{franchiseName}}",ResMovies:"朋口人工王与",ResMusic:{default:"冊凵弓工匹",univ:"朋丩弓工亡"},ResMusicBy:{default:"朋丩与工匹 㠯入",tv:"[冊臼与工匹 官了](title) {{musicBy}}"},ResNeedAuthenticationDescription:{appletv:"刀口內’十 升亼人巳 升乃口? 亡口內十月亡七 入口臼食 七人 尸民口人工刀王尺 十口 口尺刀三尺 什㠯口.",default:"心工內水 $t(ResClient) 七口 了口臼民 $t(ResBrand) 亽匹匹口凵內七 干口尺 丩內心工朋工七三刀 亼亡匹王弓弓 十口 月辶心 了口丩尺 干月人口尺工十巳 什㠯口 弓什口丱与, 廾工七 冊口人工巳弓, 弓尸口民十弓, 亡口朋巳刀了 亼內刀 朋口尺巳."},ResNeedAuthenticationTitle:{appletv:"弓工五內 工內 七口 丱月七亡廾 什官口",default:"巨巳十 廾官口 口內 $t(ResClient)"},ResNew:"內巳山",ResNewPinLabel:"內巳山 戶工內 (4 刀工巨工十与)",ResNewsletter:"$t(ResBrand) 內王山弓心巳七七王民",ResNewsletterWarning:"七廾王民巳 朋工五升七 乃三 亽 弓冊亼心辶 刀三辶亽入 官巳干口食王 亡升月內巨巳与 十口 入口丩民 王朋月工心 弓巳七十工內五 七亽片三 巳下干三匹七.",ResNext:"內王父十",ResNo:"內口",ResNoAccount:{appletv:"刀口內’七 什月人巳 廾乃口?",daydream:"$t(ResNoAccountDaydream)",default:"內口七 亽內 升㠯口 弓凵官弓匹民工乃巳民?"},ResNoAccountBody:{appletv:"亡口內七亼匹十 入口凵民 十人 尸尺口人工刀王民 七口 口尺刀王食 什官口. 升乃口 五口 工弓 干民王巳 丱工七廾 了口臼民 廾官口 弓臼官与亡尺工尸七工口內. 工下 入口凵 月心食巳亼刀了 廾月人王 什㠯口, 弓工巨內 工內 七口 廾官口 巨口 口內 了口凵食 亼尸戶辶王 七人.",daydream:"$t(ResNoAccountBodyDaydream)",default:"亡口內十月亡七 入口臼食 七人 戶食口人工刀王食 七口 与凵乃与亡食工乃三 七口 什㠯口. 亽亡亡巳弓弓 七口 $t(ResBrand) 工与 下民三王 丱工七什 了口凵民 与丩乃弓匹食工戶七工口內. 工下 了口丩’民巳 亽心食王亽刀了 亽 与臼㠯弓亡食工官王食, 亼亡七工人亼十王 $t(ResBrand) 口內 入口臼尺 $t(ResClientShort).",mobile:"匹口內十亼匹七 了口丩尺 七人 尸民口人工刀三食 七口 口食刀巳尺 升官口."},ResNoAccountBodyDaydream:{hbogo:"亡口內十月亡十 了口丩尺 七人 尸民口人工刀巳民 十口 口民刀巳食 升官口.",hbonow:"$t(ResEmpty)"},ResNoAccountDaydream:{hbogo:"刀口內’十 廾月人三 升㠯口?",hbonow:"刀口內’十 升亽人巳 什官口 內口丱?"},ResNoAccountTitle:{appletv:"五王七 丩內心工朋工七王刀 亼亡匹三弓与 七口 亽心心 口下 什官口",default:"臼內辶工朋工七三刀 月亡亡王弓与 十口 什丩內刀食三刀弓 口干 十工十心巳弓, 干食巳三 丱工七升 入口臼民 升官口 弓丩㠯与亡食工戶七工口內."},ResNotCurrentlySignedInToGo:"了口臼 亽尺巳 內口七 匹丩尺食王內七心入 与工巨內巳刀 工內 七口 $t(ResBrand).",ResNotificationViewTitle:"內口七工下工亡亼七工口內弓",ResNotificationsCheckboxText:"入三弓, 弓三內刀 冊三 臼尸刀月七巳与",ResNotificationsText:{hbogo:"山口臼辶刀 入口臼 辶工片三 七口 巨巳七 与廾口丱 亼內刀 冊口人工巳 尺王亡口冊冊巳內刀月七工口內弓, 尸尺口刀臼匹十 丩戶刀亼十王弓, 弓尸巳匹工亽心 口下下三民弓 亼內刀 朋口民王?",hbonow:"丱口臼心刀 了口臼 辶工片三 七口 五王十 与升口丱 亼內刀 朋口人工巳 食巳匹口朋冊巳內刀月十工口內弓, 尸民口刀丩亡七 丩尸刀月七三弓, 与戶巳亡工亽心 口干下巳食弓 月內刀 朋口民三 干尺口冊 廾官口 月內刀 工十与 月下干工心工亼十王弓?"},ResNotificationsTextNoEmail:"七口 食三匹三工人三 十廾王 $t(ResBrand) 內三山与辶三七十巳食, 尸心王亽与王 三內十巳尺 亼內 巳朋亽工心 月刀刀食王弓与 下口民 了口臼食 戶民口下工心巳.",ResNowPlaying:"內口丱 尸心亽了工內巨",ResOauthCodeButtonText:"心工內片 亽匹匹口臼內十",ResOauthCodeRedirectHeader:"辶月与十 与十巳尸",ResOauthCodeRedirectSubHeader:"七亽尸 七升巳 官臼十十口內 七口 亡口朋尸辶王十三 十廾巳 心工內片.",ResOff:"口下干",ResOk:"口片",ResOn:"口內",ResOrderHbo:{hbogo:"口民刀三食 什官口",hbonow:"弓十亽食十 入口凵食 干食巳巳 十民工月心"},ResOrderToday:{hbogo:"口食刀巳食 工十 七口刀亽了",hbonow:"十尺了 $t(ResBrand)"},ResOverlayHelpFooter:"內王三刀 廾巳心戶? [人工弓工七 十廾巳 廾三心戶 匹巳內十巳尺](helpLink)",ResPCBodyText:"七口 尺三弓七民工匹十 山廾亽十 亡亽內 官王 丱亼十匹廾王刀, 匹廾口口弓巳 七廾三 朋亽乂工朋凵朋 食亼七工內巨与 月心辶口丱王刀 月內刀 亡食三月七巳 亼 尸工內.",ResPCBodyTextReadOnly:"入口凵 亡月內 食巳弓七民工亡十 丱升亼七 匹亼內 乃三 山月七亡廾王刀 乃亽与巳刀 口內 民月七工內巨弓.",ResPCCreatePinInstructions:"匹民王亼七王 亽 戶工內 干口民 尸亽尺巳內十亼心 匹口內十民口心弓 月內刀 水工刀与 辶口亡水.",ResPCDialogChangeSettings:"匹廾亼內巨巳 弓三十七工內五与",ResPCDialogNoThanks:"內口 七廾亽內水与",ResPCDialogPostfix:"十口 匹廾月內巨王 了口丩民 戶月民王內十亼辶 亡口內七尺口心 与三七七工內巨与, 人工弓工十:",ResPCDialogPostfixDesktop:"刀口 了口丩 丱亼內七 十口 亡什亼內巨王 了口丩尺 尸亽食王內七亼辶 亡口內七尺口心 与王七十工內巨与?",ResPCDialogPostfixNoUrl:"十口 亡升亽內巨三 入口丩食 尸亼食巳內十亽心 匹口內七尺口辶 弓王七七工內巨与,\n巨口 十口 了口臼食 七人 尸食口人工刀巳食 亼亡匹口丩內七.",ResPCDialogPrefix:"了口臼 匹亼內 匹口內七尺口辶 山升工匹升 与什口山与 亽民王 丱月七亡廾三刀 乃亽与王刀 口內 尺亽七工內巨与. 尺工巨升十 內口丱, 了口凵食 与三十七工內五弓 月食王:",ResPCDialogTitle:"亽七七王內十工口內 戶亼尺王內七弓",ResPCEnabledText:"与臼匹匹巳与弓! 入口臼尺 戶月尺巳內十亼心 匹口內七尺口心弓 亼食巳 弓王七.",ResPCEnterPinInstructions:"三內七三民 入口丩民 4-刀工五工七 戶工內:",ResPCIosRestrictions:"下凵食七升三尺 民王与十民工亡七工口內与 朋工巨廾七 官王 与王十 工內 工口弓 弓王七十工內巨与.",ResPCMoviesLabel:"冊口人工王弓:",ResPCPrimaryAccountLabel:"冊亽乂工冊臼冊 亼辶心口山王刀 干口食 了口凵食 戶食工朋亽尺了 亽匹亡口臼內十",ResPCPrimaryAccountNoSubLabel:"朋亼乂工冊臼朋 食月十工內五与 亼辶心口丱三刀",ResPCSectionTelevision:"十人",ResPCSectionTheatrical:"冊口人工三弓",ResPCSettingsEnabledTitle:"尸月民王內七亽心 亡口內十食口辶与 王內月官心巳刀",ResPCSubAccountLabel:"冊亼乂工朋凵冊 月心辶口丱王刀 下口民 亼心辶 与凵官-亽亡亡口臼內七弓",ResPCSubAccountMessage:"七口 匹廾亼內五王 入口臼尺 弓三十十工內巨与, 弓工五內 工內 七口 入口凵尺 戶尺工朋亼食入 $t(ResBrand) 亽匹亡口丩內七.\n入口凵 冊臼弓十 弓工巨內 口丩十 月內刀 十廾三內 与工五內 工內 干口民 匹什亼內巨王弓 七口 七月片王 王下下王匹十.",ResPCTVLabel:"七人:",ResPCUpdatedText:"弓臼亡匹王与与! 入口臼民 匹廾月內五三与 山三尺三 与月人王刀.",ResPINBlanks:"----",ResPINEmailPrompt:"下工食弓十, 入口臼 內三三刀 七口 匹民巳月十三 亽 尸工內. 工下 入口丩 干口食五巳七 入口凵民 尸工內, 丱升工匹什 王朋亼工心 弓廾口丩心刀 丱巳 弓巳內刀 亽 食王冊工內刀王食 十口?",ResPINEmailTitle:"三內十巳尺 王朋月工辶",ResPINHits:"••••",ResPINIncorrect:"工內亡口民食三匹十 戶工內. 尸心王亼与王 十民入 月巨亼工內.",ResPINMismatchError:"尸工內弓 刀口內’七 朋亼七亡什. 七食了 亽巨月工內.",ResPINSetSuccessText:"臼与王 入口丩尺 內王山 戶工內 干口食 尸月尺王內十亽辶 亡口內十食口心与 月內刀 水工刀与 心口匹片.",ResPINSetSuccessTitle:"戶工內 与亽人巳刀",ResParentalControls:"戶亼食巳內十亽辶 匹口內七尺口心与",ResParentalControlsProvider:"十升工与 人工刀王口 工弓 尺王弓七民工亡七王刀 乃了 尸月食三內十亽心 亡口內七尺口辶弓 干口民 入口丩食 十人 尸尺口人工刀王民 亼亡匹口丩內十.\n\n匹升月內巨三 十廾巳与巳 与三七七工內巨与 口內 入口丩民 十人 戶尺口人工刀王尺’与 丱三乃弓工七三.",ResParentalControlsViewTitle:"尸亽民巳內十月心 亡口內七民口心弓",ResPassword:"尸亽弓与山口食刀",ResPasswordChallengeInstructions:{default:"尸心三月弓巳 王內七巳食 入口丩食 戶月与弓丱口食刀 十口 巳刀工十 入口凵民 戶食口下工辶三.",mobile:"尸辶巳亼与巳 王內十巳尺 入口臼民 戶亽弓弓丱口民刀 十口 与七亼尺七 王刀工七工內巨."},ResPasswordChallengeTitle:{default:"巳內十三尺 入口臼民 尸亽弓弓山口民刀",mobile:"亡口內下工民冊 戶亼与弓山口民刀"},ResPasswordPlaceholder:"••••••••",ResPauseCommand:"尸月丩弓三",ResPaymentMethodInitFailure:"与口尺食入, 了口丩民 尸亼入朋巳內七 工內干口民朋亽七工口內 工弓 七巳冊尸口食月民工心入 臼內月人亽工心亼乃心三. 尸辶三月与王 十民入 亼巨亽工內 辶亼十三尺.",ResPaymentMethodTitle:"尸亼入朋三內十 冊三十廾口刀",ResPin:"戶工內",ResPinEnabledView:"尸工內 巳內亽官辶王刀",ResPinResetSendButtonText:"与三內刀",ResPinResetText:{hbogo:"山三’辶心 王冊亼工心 亽 尸工內 民巳冊工內刀三尺 十口 {{emailAddress}}.",hbonow:"山三’辶心 王冊亽工辶 戶工內 食巳与三七 工內弓十民丩匹七工口內与 十口 {{emailAddress}}."},ResPinResetTitle:{hbogo:"戶工內 尺三与三七",hbonow:"干口尺巨口七 入口凵食 戶工內"},ResPinSeries:"尸工內 与三民工三与",ResPlatform:"尸心亽十下口尺朋",ResPlatformTitle:{androidtv:"$t(ResEmpty)",appletv:"$t(ResEmpty)",appletvdemo:"$t(ResEmpty)",default:"父乃口乂 心工人三",desktop:"$t(ResEmpty)",ps4:"尸弓內",tizentv:"$t(ResEmpty)"},ResPlayAll:"戶心亼入 亼辶心",ResPlayCommand:"戶心亼了",ResPlayLiveSessionDescription:"戶辶月入巳尺 亡口內十食口辶与 亽民王 心工冊工十三刀 干口民 心工人三 巳人巳內十与.",ResPlayLiveSessionTitle:"辶工人巳 巳人王內十",ResPlayLockedPlatformDescription:{androidtv:"$t(ResEmpty)",appletv:"七什工与 工十三冊 工与 民王与七食工亡十王刀 㠯入 戶亼食巳內七月辶 亡口內十尺口辶弓 下口食 了口凵尺 $t(ResClientConsole). 七口 辶巳亼食內 冊口食巳, 巨口 七口 与三十十工內五与 > 戶月食巳內十亼辶 匹口內七食口辶与.",daydream:"七廾工弓 人工刀三口 工弓 食三与七民工匹十王刀 官了 尸亼民三內七亽心 亡口內七民口心与. 十口 丱亽七亡什 七什工与 人工刀三口, 亡什亼內巨王 入口丩尺 与三十十工內巨与 口內 七廾工弓 刀三人工亡王.",default:"$t(ResEmpty)",mobile:"十廾工弓 人工刀王口 工与 尺三与七民工匹七三刀 㠯入 戶月民巳內七月心 亡口內七尺口辶与 口內 七廾工与 刀三人工匹巳.\n\n七口 辶巳亽尺內 朋口民巳, 五口 七口 入口凵尺 工口弓 与巳十七工內巨与 亼內刀 与巳亽尺匹升 干口民 食三弓七食工匹七工口內与",ps4:"$t(ResEmpty)",tv:"七廾工弓 工十王朋 工与 民三与十尺工亡七巳刀 乃入 戶月民巳內七亽心 匹口內七食口心弓 干口尺 入口丩民 $t(ResPlatformTitle) 亼亡亡口臼內七. 十口 心巳月尺內 冊口食王, 五口 十口 弓巳七十工內五与 > 戶亽尺巳內十亼辶 匹口內七尺口心弓."},ResPlayLockedServiceDescription:"十廾工与 工十巳朋 工弓 民巳弓七尺工匹七王刀 乃入 七廾王 戶亼尺巳內十亽辶 亡口內十食口心弓 下口尺 了口臼尺 亼匹亡口臼內七. 十口 辶巳亼民內 冊口民王, 五口 十口 与巳七七工內巨与 > 戶亼食三內十亼辶 匹口內十尺口辶与.",ResPlayLockedTitle:{daydream:"人工刀三口 辶口亡片三刀",default:"尸亼尺王內七亼辶 匹口內十尺口心与"},ResPlaybackCellularWarning:"亡三辶心丩辶亼尺 戶心亽了乃亽亡水 丱亼尺內工內巨",ResPlaybackCellularWarningBody:"丩与工內巨 了口臼尺 亡王心心臼辶月尺 亡口內內巳亡十工口內 冊月入 工內亡臼民 亽刀刀工十工口內月辶 匹什亽食五巳与 干尺口冊 了口臼民 尸民口人工刀三民.",ResPlaybackWiFiOnly:"山工下工 口內心入",ResPlaybackWiFiWarningBody:"人工刀巳口 尸心亼了官亼亡片 工弓 心工冊工十三刀 十口 山工-下工 口內辶入. 七口 亼心辶口丱 与十食三亽冊工內五 人工亼 亡王心辶臼辶亼民 匹口內內三匹七工口內, 亡廾月內五王 入口凵民 与巳十十工內巨与.",ResPlaybackWiFiWarningTitle:"內口 丱工-干工 亡口內內三匹十工口內",ResPlayerCCLabel:"亡辶口与三刀 匹亽尸十工口內工內五",ResPlayerFullTitle:"三戶工弓口刀巳 {{episode}} - {{title}}",ResPlayerLanguageLabel:"心亼內五臼亽巨王",ResPlaylistTitleCount:"{{index}} 口下 {{count}}",ResPostDownloadInstructions:"口內亡三 了口臼’人王 弓臼乃与匹民工㠯王刀, 亡口朋巳 乃亽匹水 亽內刀 弓工巨內 工內 十口 什乃口 內口丱 人尺.",ResPreferences:"尸食巳干三尺巳內亡王弓",ResPreview:{default:"戶尺王人工王丱",univ:"尸食巳人工三丱"},ResPreviewCaptionText:"巳父亼朋戶心巳 七巳乂十",ResPrevious:"戶食王人工口臼弓",ResPrivacy:"尸食工人亼匹入",ResPrivacyPolicy:"尸食工人亼匹入 尸口心工匹入",ResProducers:{default:"尸尺口刀凵匹王食与",univ:"戶尺口刀臼亡三民与"},ResProfileCancelChangesButtonText:"亡亼內亡巳心",ResProfileConfirmEmailTitle:"匹口內干工民朋 巳朋亽工心",ResProfileEditButtonText:"巳刀工十 戶尺口干工心巳",ResProfileEmailTitle:{default:"三朋亼工辶 亽刀刀尺王弓弓",mobile:"王冊亽工辶"},ResProfileFirstNameTitle:"干工食弓七 內亽冊巳",ResProfileLastNameTitle:"心亼弓七 內亽冊王",ResProfilePasswordDescriptor:"了口臼食 戶亽与与山口尺刀 朋凵弓七 㠯三 亽七 心巳亽与七 8 匹什亽民月匹十巳尺与 亼內刀 工內亡心臼刀王 月 內臼冊㠯王尺 口尺 弓尸巳亡工月辶 匹什亼尺月匹十三民.",ResProfilePasswordTitle:"戶亽弓弓丱口尺刀",ResProfilePhoneNumberTitle:"戶升口內王 內凵朋㠯三尺",ResProfileSaveChangesButtonText:"弓亽人巳 匹廾亽內巨三与",ResProfileSavedBody:"入口臼民 戶民口下工心巳 弓三七十工內巨弓 亼食三 內口山 凵尸刀月十巳刀 下口民 $t(ResBrand)",ResProfileSavedTitle:"戶民口下工心三 弓亼人巳刀",ResProfileSettingsAltText:"与王七十工內五弓",ResProfileSignOutBody:"月食王 入口丩 与丩民三 了口丩 山亼內十 十口 与工五內 口丩七 口干 $t(ResBrand)?",ResProfileUserIdDescriptor:"巳內七巳食 月 丩內工已凵王 丩弓三尺內亽冊巳 十升亼十’弓 3–14 亡什月尺亽亡七巳食与 月內刀 工內亡心丩刀巳与 口內心入 辶巳十十巳食与 亽內刀 內丩冊㠯三尺与.",ResProfileUserNameTitle:"$t(ResBrand) 工刀",ResProfileViewText:"了口凵食 戶民口干工心三 工弓 与廾亼民王刀 㠯巳七丱王王內 官口七升 什乃口 亼內刀 匹工內王冊亽父. 月內了 亡廾月內五巳弓 丱工心辶 亼戶尸心了 十口 官口七升 与王民人工亡三与.",ResProfileViewTitle:"戶尺口干工心王",ResProfileZipCodeTitle:"之工尸 匹口刀王",ResPromotionEntryCodeLabel:"戶民口冊口七工口內 匹口刀三",ResPromotionEntryRedeemButtonText:"內王乂十",ResPromotionInputPlaceHolderText:"王內十三尺 了口凵尺 尸民口朋口 亡口刀巳",ResReactivate:{appletv:"弓工五內 工內",default:"食王月匹七工人月十巳"},ResRegion:"尺巳巨工口內",ResRegisterViaOtherProvider:"与工巨內 工內 丱工十廾 亽內口十升巳食 月亡匹口丩內十",ResRegistrationEmailTitle:{activation:"三朋月工心",default:"巳冊亽工辶 亼刀刀食三与弓",mobile:"巳朋亽工心"},ResRegistrationHelpLinkText:"人工弓工十 十升三 升三心戶 匹巳內七三食",ResRegistrationHelpText:"內巳三刀 什三辶戶?",ResRegistrationIdDescription:"王內十巳食 亼內 $t(ResBrand) 工刀 (王.巨., 臼与三尺123) 七口 亡尺三亼十王 入口丩尺 戶尺口干工辶三.",ResRegistrationIdTitle:"$t(ResBrand) 工刀",ResRegistrationSaveButtonText:{hbogo:{activation:"匹民三亼七巳 尸食口下工心三",default:"与月人王"},hbonow:"亡尺王亽十王 亽亡亡口凵內七"},ResRegistrationSaving:"与亽人工內五…",ResRegistrationText:{hbogo:{activation:"十口 与七亽尺十 与七尺三月冊工內巨, 尸心王亽弓王 亡食三亽七三 亼內 $t(ResBrand) 戶民口下工辶王.",default:"戶心三月与王 亡口朋尸心王十巳 入口臼民 尺三五工与十尺月七工口內."},hbonow:{activation:"匹民王亼十三 亽內 月亡匹口凵內七 与口 入口臼 亡亽內 与工五內 工內 口內 月心辶 了口丩尺 下亽人口民工十巳 刀巳人工匹巳弓.",default:"山三心亡口朋巳! 戶心巳亽与王 匹食王亼七三 了口丩食 月亡匹口凵內十."}},ResRegistrationTitle:{hbogo:{activation:"亡食三亽七王 了口凵民 尸民口下工辶三",default:"丱三心匹口冊巳 七口 $t(ResBrand)"},hbonow:"匹尺王亽七三 入口凵食 亽匹亡口臼內七"},ResRegistrationZipCodeTitle:"之工尸 亡口刀巳",ResRelated:"食王心月十王刀",ResRemoveAllVideosOk:"入王与, 食王冊口人三 亽辶辶",ResRemoveAllVideosPrompt:"亽民巳 入口丩 弓臼民王 了口臼 丱月內七 十口 尺王冊口人三 亼辶心 工十巳冊弓?",ResRemoveFromWatchlist:{default:"食王朋口人三 下民口朋 朋入 心工弓七",desktop:"民三冊口人三"},ResRemoveFromWatchlistIcon:"-",ResRemoveSeriesFromWatchlist:{default:"食王冊口人巳 与巳尺工王与 下民口朋 朋了 辶工弓十",desktop:"尺巳朋口人王 与三尺工王弓"},ResRenewSubscriptionButtonLabel:"尺王內三丱 与凵㠯弓亡民工戶七工口內",ResReset:"民巳弓王七",ResResetPasswordInputTitle:"內三丱 尸亼弓弓山口民刀",ResResetPasswordSubmitButton:"弓月人三 戶月弓弓丱口民刀",ResResetPasswordSuccessButton:"民王七臼尺內 七口 弓工巨內 工內",ResResetPasswordSuccessText:"了口臼食 尸月与弓山口尺刀 升亽弓 乃三三內 臼尸刀亼十王刀. 戶心巳月与王 与工五內 工內 十口 官王巨工內 山月七匹什工內五.",ResResetPasswordSuccessTitle:"尸亽与与山口食刀 匹廾亽內巨王刀",ResResetPasswordTitle:"匹民三亽十巳 亽 內王丱 戶亼弓与山口尺刀",ResResetPinInputTitle:"內巳山 戶工內 (4 刀工五工七弓)",ResResetPinInstructions:"巳內七巳食 亽 內巳山 4-刀工巨工十 尸工內.",ResResetPinSubmitButton:"弓亼人三",ResResetPinSuccessText:"臼与巳 了口臼民 內巳山 尸工內 干口民 戶亼食三內十月辶 匹口內七民口辶弓 亼內刀 片工刀弓 心口亡片.",ResResetPinSuccessTitle:"尸工內 亡什月內巨三刀",ResResetPinTitle:"匹民王亽十王 月 內巳山 尸工內",ResResetRequestReceived:"民王与巳十 尺三甲丩三与十 食三匹三工人三刀",ResResetToDefaultSettings:"民三与巳十 十口 刀三干亼丩辶七 弓三十十工內巨与",ResRestart:"尺三与七月民十",ResRestartSubscriptionOffLabel:"亼臼十口-食王內三丱 口干干",ResRestartSubscriptionOnLabel:"亽凵七口-民王內王山 口內",ResRestartSubscriptionPendingLabel:"戶心王亽弓王 山亼工七…",ResRetry:"尺王七食入",ResReturnToParentalControlButton:"食王十凵民內 十口 戶亽尺王內七亼心 匹口內七食口辶与",ResRewind:"民三山工內刀",ResSPN:"巳弓尸亼Ñ口心",ResSSOIncompleteGoRegBody:"戶心巳月与三 刀口 口內巳 口干 十廾三 干口心辶口山工內巨:\n尸升口內三 口食 十月官辶三十: 弓工巨內 工內 七口 七什王 $t(ResBrand) 亼戶尸\n匹口朋尸臼七王食: 弓工巨內 工內 七口 $t(ResWebsite) 口內 了口丩食 匹口冊戶凵七巳民",ResSSOIncompleteGoRegTitle:"亡口冊尸辶王七三 了口丩尺 $t(ResBrand) 食王巨工与十食亼七工口內",ResSSONoHBOBody:"丱三’尺三 廾亼人工內五 七食口丩官辶巳 人三尺工干入工內巨 入口丩尺 什官口 弓凵乃弓匹尺工尸七工口內 山工十升 {{providerName}}. 刀口 了口臼 山亼內七 十口 弓工巨內 工內 丱工十什 月內口七升三民 七人 戶民口人工刀三尺?",ResSSONoHBOTitle:"亡月內’七 人王尺工下了 了口丩尺 与丩㠯弓匹尺工尸十工口內",ResSSONotEnabledByHBOBody:"刀口 入口丩 山亼內七 十口 朋月內臼亽心辶了 与工五內 工內 工內弓十巳月刀?",ResSSONotEnabledByHBOTitle:"与口食食了, 与工內巨心巳 弓工五內-口內 工与 內口十 月人月工辶月官辶巳 入巳十 干口尺 {{providerName}}",ResSSOProviderNotSupportedBody:"刀口 了口臼 丱亽內十 七口 与工五內 工內 山工十什 亼內口七廾王民 十人 戶民口人工刀巳尺?",ResSSOProviderNotSupportedTitle:"弓口民食入, {{providerName}} 刀口三与內’十 与丩戶戶口民十 $t(ResBrand)",ResSSOScreen:"与工五內工內五 工內",ResSSOSignoutInfo:{appletv:"了口凵’食三 弓工巨內三刀 工內 丱工七什 {{providerName}} 工內 月尸尸辶王 十人 与王七七工內巨与\n\n十口 弓工巨內 口凵七, 匹廾亽內五巳 七人 尸民口人工刀王食 十口 內巳人王食.\n\n入口臼 亡亽內 亼辶与口 五口 七口 与三十十工內五弓 > 亼亡匹口凵內十与 > 七人 戶尺口人工刀巳民 口內 入口凵食 亽戶尸辶巳 七人.",default:"工內十巳尺內亽辶 王食尺口民: 尺巳弓弓与口弓工巨內口凵十工內下口 工弓 口內心入 人月心工刀 干口尺 工口弓 月內刀 十人口弓 刀王人工匹王弓!",mobile:"十口 与工五內 口丩十, 匹廾口口与王 十人 戶食口人工刀三食 月內刀 七廾王內 七丩尺內 口干干 亼匹匹巳弓与 下口民 $t(ResBrand)."},ResSSOSignoutTitle:{default:"工內七三食內亼辶 巳食民口尺: 民王弓弓弓口与工巨內口臼十七工七辶巳 工与 口內心入 人月辶工刀 干口食 工口与 亽內刀 十人口与 刀巳人工亡王与!",mobile:"匹升亽內巨王 入口凵尺 工口与 弓三七十工內巨与"},ResSave:"与亽人巳",ResSaveChanges:"与亽人三 亡廾月內五巳弓",ResSaving:"与月人工內五…",ResSearch:"弓三月尺亡廾",ResSearchNoResults:"內口 民巳弓凵心十与 干口丩內刀.",ResSearchResultCount:"{{count}} 民三弓凵心七",ResSearchResultsCount:"{{count}} 尺王与丩辶七弓",ResSeason:"与王亼弓口內",ResSeasonAndEpisodeCount:"{{season}} 三尸工与口刀巳弓 ({{count}})",ResSeasonAndEpisodeLong:"{{season}} 三戶工与口刀巳 {{episode}}",ResSeasonAndEpisodeShort:"{{season}} 巳戶 {{episode}}",ResSeasonEpisodeShortTitle:"{{season}} 巳戶 {{episode}}: {{title}}",ResSeasonNumEpisodeNumShort:"弓內 {{seasonNum}} 三尸 {{episodeNum}}: ",ResSeasonNumberShort:"与內 {{season}}",ResSeeAllAffiliates:"弓三巳 亽辶心 戶食口人工刀巳尺弓",ResSeries:"与三尺工巳弓",ResSeriesFromWatchlist:"与三食工巳弓 干民口冊 朋了 心工与十",ResSeriesSeason:"{{series}} {{season}}",ResSeriesSeasonTitle:"{{series}} 弓王亽与口內 {{number}}",ResSeriesToWatchlist:"与三民工三与 十口 朋入 辶工与七",ResServiceParentalControlsInstructions:"尺工五廾七 內口丱, 了口丩尺 弓三七十工內五弓 亽民三:\n\n七人: {{tvRating}}\n朋口人工巳弓: {{movieRating}}",ResSession:"与三弓与工口內",ResSettings:"弓王七十工內五与",ResSettingsDeactivateDevice:"弓工五內 口丩七 內口山",ResSettingsGotoToAppleTVSettings:"匹廾月內五王 弓三七七工內巨与",
ResSettingsPCDescriptionWithDevice:"亡升亽內五三 入口凵民 与王十七工內五弓 亽十 $t(ResWebsite) 月內刀/口民 口內 了口臼食 $t(ResClientConsole).",ResSettingsPCDescriptionWithoutDevice:"匹廾月內五巳 入口丩民 与三十七工內巨与 月十: $t(ResWebsite)",ResShellVersion:"弓廾王心辶 人三食弓工口內",ResShow:"弓升口丱",ResShowPW:"与升口山 戶月弓弓丱口食刀",ResSignIn:"与工巨內 工內",ResSignInA11yActivationInstructions:"巨口 十口 $t(ResA11yWebsite)/$t(ResA11yActivationUrl) 亼內刀 王內十三尺 十什工弓 匹口刀巳:",ResSignInActivationDetails:"与七亼了 口內 十廾工与 与亡尺三王內 山廾工心三 了口凵 弓工五內 工內 口內 了口丩食 尸升口內王 口民 匹口朋戶凵十三民.",ResSignInActivationHeader:"与工巨內 工內 凵与工內五 了口凵尺 尸廾口內巳 口食 亡口朋尸丩七三尺",ResSignInActivationInstructions:"五口 七口 [$t(ResWebsite)/$t(ResActivationUrl)](strong) 亼內刀 巳內十王食 十什工弓 匹口刀巳:",ResSignInAndRedeemButtonText:"弓工五內 工內 月內刀 尺王刀巳三冊",ResSignInInstructions:"巳內七王食 了口凵尺 $t(ResBrand) 王朋亼工心 亼內刀 戶亽弓与山口食刀.",ResSignInText:"弓工五內 工內",ResSignInToBrand:"与工五內 工內 七口 $t(ResBrand)",ResSignInWithProviderInsructions:"[刀口內’十 廾亽人巳 亼內 $t(ResBrand) 亽亡匹口臼內十?](bold) 弓工五內 工內 山工十什 入口臼尺 王朋亽工辶 亽內刀 尸亽与与山口民刀 下口民 亽內口十廾王民 亼亡匹口凵內七.",ResSignOut:"弓工巨內 口臼七",ResSignUp:"刀口內’七 廾亼人三 $t(ResBrand)? [弓工巨內 丩尸](signUpUri)",ResSignedIn:"了口丩 月民王 亡丩食尺巳內十辶了 与工巨內巳刀 工內 亽弓\n{{username}}",ResSignedInAnonymous:"了口臼’民三 与工巨內王刀 工內",ResSignedInSSO:"入口丩’民王 弓工巨內王刀 工內 丱工七廾\n {{ProviderName}} 工內 工口弓 与王十十工內巨弓",ResSingleVideoCount:"1 人工刀三口",ResSpace:"与戶亼匹王",ResSpaceChar:" ",ResSpanish:"巳弓尸亼ñ口辶",ResSports:"弓尸口民十与",ResStartWatching:"与十亼民十 丱亼七匹升工內五",ResStartWatchingEpisode:"与十月尺七 山月七匹什工內五",ResStartWatchingEpisodeCaps:"与七亼尺十 山月七亡什工內五",ResStayConnected:"与七月入 亡口內內王匹十王刀",ResStopCommand:"与七口戶",ResSubAccountParentalControlsInstructions:"尺工巨什七 內口山, 了口丩食 与王七十工內巨弓 亼民巳:\n\n七人: {{tvRating}}\n冊口人工巳弓: {{movieRating}}\n\n尸月尺王內十月心 匹口內七食口心弓 什亽人王 乃三三內 弓巳七 官了 了口凵民 尸食工朋月食了 亼亡匹口凵內七. 七口 匹廾亼內巨巳 了口丩食 与巳七十工內五弓, 弓工五內 工內 丩与工內五 入口臼民 尸尺工冊月民了 七人 戶民口人工刀巳民 亽亡匹口凵內十.",ResSubAccountParentalControlsNotice:"朋亽父工冊臼冊 月心心口山三刀 尺亼七工內巨弓:\n\n十人: {{tvRating}}\n朋口人工三弓: {{movieRating}}\n\n尸亽民巳內十亼心 亡口內十民口心弓 廾亼人三 官巳巳內 弓巳七 㠯了 了口丩食 戶民工冊亼民入 亼匹亡口臼內十. 十口 匹升亽內巨三 入口丩民 弓王十七工內五与, 弓工巨內 工內 臼弓工內五 了口臼民 戶食工冊月食了 七人 尸民口人工刀王尺 亼亡匹口臼內七.",ResTV:"十人",ResTerms:{default:"十三尺朋弓",mobile:"七王食朋弓 口干 凵与巳"},ResTermsOfService:"十三食冊弓 口干 弓王食人工匹三",ResTodayAtTime:"十口刀亼入 月十 {{time}}",ResTomorrowAtTime:"七口朋口民食口山 亼十 {{time}}",ResTonightAtTime:"十口內工五升七 月十 {{time}}",ResTosA11yText:{hbogo:"工 亼巨民王三 十口 十什三 什官口 十三食冊与 口干 丩弓三. 辶工內片. 亽內刀 戶民工人亼亡入. 心工內水.",hbonow:"工 亼巨尺三三 七口 十廾巳 廾乃口 七巳尺朋弓. 辶工內水. 亽內刀 戶尺工人月匹了 尸口辶工匹了. 心工內片."},ResTosAndPrivacyAgreeText:"工 月五食王巳 十口 七什巳 [升官口 七王民冊弓](t) 亽內刀 [尸尺工人亼亡入 戶口辶工匹了](p)",ResTosNoLinkA11yText:{hbogo:"工 月五民三三 十口 十升王 升官口 十巳尺朋与 口干 凵与王 亽內刀 戶民工人月亡了.",hbonow:"工 亼巨尺王王 七口 十廾三 廾官口 七王食冊与 月內刀 戶尺工人月匹了 尸口心工亡了."},ResTryAgain:"七食了 亽五月工內",ResTurnOffBillingAutoRenewTitle:"十丩食內 口下下 亽丩十口-民巳內三山?",ResTurnOnBillingAutoRenewTitle:"十凵食內 口內 亽臼十口-食三內巳丱?",ResUnpin:"臼內戶工內",ResUnpinSeries:"臼內戶工內 弓巳尺工巳与",ResUnrestrictedRating:"{{rating}} (丩內尺巳弓十尺工亡十王刀)",ResUnsupportedDeviceErrorBody:"弓口民民入, 了口凵尺 十人 尸食口人工刀王食 刀口王弓內’七 弓凵戶戶口民七 $t(ResBrand) 口內 十什工与 刀巳人工匹王.",ResUnsupportedDeviceErrorHeader:"刀三人工亡三 內口十 弓丩戶尸口尺七王刀",ResUpNextCountdown:"丩戶 內三父七 工內 {{secondsLeft}} 弓巳匹…",ResUpNextPreview:"臼尸 內三父十",ResUpdateParentalControlsButtonText:"弓亼人三 匹什亽內五王弓",ResUsername:"凵与王食內亽冊三",ResVerifyingPIN:"人巳食工下了工內五 入口臼尺 尸工內…",ResVersion:"人巳民与工口內",ResVersionInfo:"工內下口",ResVideoCount:"{{count}} 人工刀三口与",ResVideoNotPlayableBody:"人工刀王口 內口七 戶心亽了月㠯心三 干口民 亽 內臼冊㠯巳民 口下 食三亽与口內弓!",ResVideoNotPlayableTitle:"人工刀王口 內口七 尸心亼了月乃心三 (刀三人 与七民工內五)",ResVideoPCLocked:"人工刀三口 辶口亡片王刀",ResVideoPCPrompt:"十廾工弓 人工刀巳口 工弓 民王弓十食工亡七王刀 官了 戶亼民巳內十月辶 亡口內七民口心与.",ResVideoPCVisit:"十口 丩尸刀亽七王 了口丩尺 弓王七十工內五与, 五口 七口 [戶亼民三內七月辶 匹口內十尺口心弓](a).",ResVideoPlaybackTitle:"人工刀巳口 戶辶亽了乃月匹片",ResVideoRequiresSignIn:{hbogo:"七什工与 人工刀三口 工弓 口內心入 月人亼工辶亼㠯辶巳 十口 升乃口 弓凵乃弓匹民工㠯三尺与.",hbonow:"入口丩 內巳王刀 亽內 $t(ResBrand) 与丩㠯弓亡民工戶十工口內 十口 丱月七匹廾 七什工与 人工刀三口."},ResVideoUnavailableInDemo:"与口尺民了, 七升工与 人工刀王口 工与內’七 亼人月工心月㠯辶王 工內 七廾工弓 刀王朋口.",ResViewMoreProviders:"人工三丱 朋口食王 尸食口人工刀三食弓",ResWarningCaptionsUnavailable:"亡心口与巳刀 亡亼尸十工口內工內巨 工与 臼內月人亼工心亼㠯心巳 下口尺 七升工弓 人工刀三口.",ResWarningHDCPFallbackMessage:"人工刀王口 口民 亽凵刀工口 甲丩月心工七入 工弓 民巳刀凵亡王刀 刀凵巳 十口 亽內 什刀匹尸 工与弓凵巳.",ResWatchDayAtTime:"山亽十亡升 {{dayAtTime}}",ResWatchFromBeginning:"丱亽十亡廾 干尺口冊 乃三巨工內內工內五",ResWatchLatestEpisode:"山亼七亡升 辶亽十三与十 巳戶工弓口刀三",ResWatchLatestEpisodeCaps:"丱亽七亡什 辶亽七王与七 巳戶工与口刀三",ResWatchNextEpisode:"了口臼民 內巳乂十 巳尸工弓口刀巳",ResWatchNextEpisodeCaps:"入口凵食 內王乂十 王尸工与口刀巳",ResWatchlistEmpty:"亡民三亽十三 亽 心工弓十 口干 丱廾月十 入口臼 山月內七 七口 丱亽十匹升.",ResWatchlistEmptyA11yText:"朋了 辶工弓十. 匹尺王亽十三 亽 辶工与十 口下 丱升亼七 入口丩 山亽內七 十口 丱亼七亡廾.",ResWatchlistHelp:"丱什亼七 工弓 朋入 心工弓七?",ResWatchlistSortOrder_ALPHABETICAL:"七工十辶巳弓 月 十口 乙",ResWatchlistSortOrder_NEWEST:"內三山王弓七 七口 朋入 心工与十",ResWatchlistSortOrder_REVERSE_ALPHABETICAL:"十工十辶三与 乙 十口 亼",ResWatchlistTitle:"冊了 心工与十",ResWebsite:{hbogo:"什㠯口五口.匹口冊",hbonow:"什㠯口內口丱.匹口朋",maxgo:"朋亽父五口.亡口冊"},ResWelcome:"山王心亡口朋三",ResWelcomeOverlayText:"[巨王七 十什巳 亼尸尸 口內 冊口尺三 口干 入口丩尺](text) [下亽人口民工七三 刀巳人工匹三与](devicesLink): 七人, 戶廾口內巳 亼內刀 七亼乃辶巳十.",ResWelcomeOverlayTitle:"丱亼十亡升 亽內了丱升王民巳, 月內入十工冊三.",ResWhatSearching:{default:"弓王月食亡廾 弓三尺工王与 口食 冊口人工三弓…",mobile:"弓三亼民亡什 七工七辶三弓…"},ResWriters:{default:"丱食工十三食与",univ:"山食工七王尺与"},ResYear:"{{year}}",ResYes:"了巳与"}}}})}(),function(){"use strict";define("configuration/Localization",["core/oop","core/Debug","lib/lodash/objects/forOwn","lib/lodash/objects/merge","configuration/data/strings","configuration/data/translations","ui/Localization"],function(e,t,i,n,o,r,a){return e.classDef("configuration.Localization",Object,function(){e.staticScope(function(){e.properties({_designParentLookup:void 0}),e.methods({configure:function(e){this._designParentLookup={android:"mobile",androidtv:"tv",desktop:"univ",ios:"mobile",mobile:"univ",appletv:"androidtv",ps4:"tv",daydream:"android",uwptv:"tv",uwptablet:"mobile",tizentv:"tv",activation:"desktop",commerce:"activation"};var t=this._collapse(e,this._getStrings()),o=this,r={};i(this._getTranslations(),function(t,i){r[i]={translation:o._collapse(e,t.translation)}}),a.singleton.initialize(n({"en-us":{translation:t}},r))},_collapse:function(e,t){var n=this,o={};return i(t,function(t,i){for(var r=t;"object"==typeof r;){var a=e.features.brand,s=n._getDesign(e,t[a]||t);r=r[a]||r[s]}o[i]=r}),o},_getDesign:function(e,t){for(var i=e.features.design;void 0!==i&&!0!==t.hasOwnProperty(i);)i=this._designParentLookup[i];return i||"default"},_getStrings:function(){return o},_getTranslations:function(){return r}})})})})}(),function(){"use strict";define("configuration/AutomationManager",["core/oop","ui/views/RootView","automation/AutomationManager","design/ChromecastCoachmark","design/KidsLockCoachmark","lib/Promise"],function(e,t,i,n,o,r){return e.classDef("configuration.AutomationManager",Object,function(){e.staticScope(function(){e.methods({configure:function(e,t){i.singleton.setBuild(e);var r=void 0!==t.atlasUri&&"application"===e.targetType;i.singleton.enable(r),r&&(i.singleton._automationMocks.chromecastCoachmark=n.singleton,i.singleton._automationMocks.kidsLockCoachmark=o.singleton,i.singleton._commands.triggerPlaybackError=this._triggerPlaybackError)},_triggerPlaybackError:function(e,i){return t.singleton.find(e)._handleVideoPlaybackError(i),r.fulfilled()}})})})})}(),function(){"use strict";define("configuration/AuthenticationManagerConfig",["core/oop","design/ScreenUtil","dataservices/authentication/AuthenticationManager"],function(e,t,i){return e.classDef("configuration.AuthenticationManagerConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(){if(!0!==i.singleton.getSessionAuthenticationHasBeenChecked()){var e=t.singleton.byBrand({hbogo:t.singleton.byDesign({desktop:!0,default:!1}),default:!1});i.singleton.setShouldCheckSessionAuthentication(e)}}})})})})}(),function(){"use strict";define("platform/dependent/HiltonSetTopBox",["core/oop","lib/Promise"],function(e,t){return e.classDef("platform.dependent.HiltonSetTopBox",[Object],function(){e.singleton(function(){}),e.methods({getDeviceInfo:function(){return t.fulfilled({deviceMacAddress:"",deviceSerialNumber:"",deviceAuthToken:""})}})})})}(),function(){"use strict";define("dataservices/authentication/HiltonAuthManager",["core/oop","core/Debug","lib/Promise","core/data/ModelFactory","dataservices/activation/AuthenticationStatus","dataservices/authentication/AuthenticationManager","dataservices/authentication/IPlatformAuthManager","platform/dependent/HiltonSetTopBox"],function(e,t,i,n,o,r,a,s){return e.classDef("dataservices.authentication.HiltonAuthManager",[Object,a],function(){e.constructor(function(){}),e.methods({trySilentLogin:function(){return this._reauthenticate()},readPlatformAuthCredentials:function(){return s.singleton.getDeviceInfo()},verifyAuthenticationState:function(e){return this._reauthenticate().return(!0)},_trySilentLoginWithHiltonDeviceInfo:function(e){e.deviceMacAddress,e.deviceSerialNumber,e.deviceAuthToken;var t=n.singleton.create("HiltonLogin","HiltonLogin",{deviceData:e});return i.props({loginStatus:t.status,loginInfo:t.loginInfo}).then(function(e){return e.loginStatus===o.SUCCESS&&r.singleton.activateAndLogin(e.loginInfo).return(!0)})},_reauthenticate:function(){var e=this;return r.singleton.logout().then(function(){return e.readPlatformAuthCredentials()}).then(function(t){return e._trySilentLoginWithHiltonDeviceInfo(t)})}})})})}(),function(){"use strict";define("dataservices/types/SingleSignOnStatus",["core/oop"],function(e){return e.enumDef("dataservices.types.SingleSignOnStatus",["SUCCESS","PLATFORM_NOT_SUPPORTED","PLATFORM_NOT_GRANTED","AFFILIATE_SUPPORTED_PARTICIPATING_NOT_ENABLED","AFFILIATE_NOT_SUPPORTED","FAILED_TO_RETRIEVE_QUERY_PARAMS","USER_CANCELED","AFFILIATE_SUPPORTED_NOT_PARTICIPATING","OTHER"])})}(),function(){"use strict";define("dataservices/types/SingleSignOnResponse",["core/oop"],function(e){return e.classDef("dataservices.types.SingleSignOnResponse",Object,function(){e.constructor(function(e){this.status=e}),e.properties({status:{get:void 0},samlResp:{get:void 0},reason:{get:void 0},affiliateCode:{get:void 0},affiliateName:{get:void 0},ssoToken:{get:void 0},providerId:{get:void 0},nonParticipatingSSOAffiliateId:{get:void 0}})})})}();!function(){"use strict";define("dataservices/authentication/SSOAuthManager",["core/oop","core/Debug","core/Exception","core/logging/Levels","lib/Promise","core/data/ModelFactory","dataservices/activation/AuthenticationStatus","dataservices/types/LoginInfoFlag","dataservices/authentication/AuthenticationManager","dataservices/authentication/IPlatformAuthManager","dataservices/types/SingleSignOnStatus","dataservices/types/SingleSignOnResponse","platform/SingleSignOnWrapper","platform/dependent/NativeAccessStatus"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h){return e.classDef("dataservices.authentication.SSOAuthManager",[Object,c],function(){e.constructor(function(){}),e.methods({trySilentLogin:function(){var e=this;return e.verifyAuthenticationState(function(){return e._trySilentLoginWithSSO()})},_getSSOAffiliates:function(e){var t=r.singleton.create("AffiliateList","AffiliateList"),i={},n=[];return t.affiliates.then(function(t){return t.forEachAsync(function(t){return o.props({accountProviderIdentifierForPicker:t.accountProviderIdentifierForPicker,isSSOImplemented:t.isSSOImplemented,appleSsoOrder:t.appleSSOFeatureListPickerOrder}).then(function(o){void 0!==o.accountProviderIdentifierForPicker&&(!0!==e&&!0!==o.isSSOImplemented||(i[o.accountProviderIdentifierForPicker]=t),!0===e&&"number"==typeof o.appleSsoOrder&&n.push(o))})}).then(function(){var e=n.sort(function(e,t){return e.appleSsoOrder-t.appleSsoOrder}).map(function(e){return e.accountProviderIdentifierForPicker});return{affiliateMap:i,featuredProviderArray:e}})})},_readSSOQueryParams:function(e){return e.appleSSOMetadataQueryParams.then(function(t){return o.props({verificationToken:t.verificationToken,attributeNames:t.attributeNames,channelIdentifier:t.channelIdentifier,affiliateCode:e.code})})},_trySilentLoginWithSSO:function(){return this.readPlatformAuthCredentials(!1).then(function(e){if(e.status!==d.SUCCESS)return!1;var t=r.singleton.create("SSOLogin","SSOLogin");return t.setAffiliateResponse(e),o.props({loginStatus:t.status,loginInfo:t.loginInfo}).then(function(e){return e.loginStatus===a.SUCCESS&&l.singleton.activateDevice(e.loginInfo).return(!0)})}).catchReturn(!1)},_getSSOUpdateStatus:function(){var e={logoutNeeded:!1,loginNeeded:!1};return o.fulfilled().then(function(){var t=p.singleton.getSingleSignOn();return!0===t.doesSupportStoredCreds()?l.singleton.getUserLoginInfo().then(function(i){var n=void 0;return void 0!==i&&void 0===(n=i.getFlag(s.SSO))?e:t.getProviderInfo(!1,void 0).then(function(t){var i=t.ssoToken;return n!==i&&(e.logoutNeeded=void 0!==n,e.loginNeeded=void 0!==i),e})}):e})},verifyAuthenticationState:function(e){var t=this;return l.singleton.reset(),t._getSSOUpdateStatus().then(function(t){return(!0===t.logoutNeeded?l.singleton.logout():o.fulfilled()).then(function(){return!0===t.loginNeeded?e():t.logoutNeeded}).then(function(e){return e})})},readPlatformAuthCredentials:function(e){var t=p.singleton.getSingleSignOn(),r=u.new(d.OTHER);if(!0===t.doesSupportStoredCreds()){var a=this;return t.canAccessStoredCreds(e).then(function(i){if(i===h.GRANTED){var n=t.acceptsNonParticipatingSSOAffiliate();return a._getSSOAffiliates(n).then(function(i){var n=Object.keys(i.affiliateMap);return n.length>0?t.getProviderInfo(e,n,i.featuredProviderArray).then(function(s){if(r.providerId=s.ssoProviderId,r.nonParticipatingSSOAffiliateId=void 0,void 0!==s.ssoToken){var l=i.affiliateMap[s.ssoProviderId];return s.ssoProviderId,o.props({name:l.name,isSSOImplemented:l.isSSOImplemented}).then(function(n){return r.affiliateName=n.name,!1===n.isSSOImplemented?(r.status=d.AFFILIATE_SUPPORTED_PARTICIPATING_NOT_ENABLED,r.ssoToken=s.ssoToken,r.nonParticipatingSSOAffiliateId=i.affiliateMap[r.providerId].id,r):a._readSSOQueryParams(l).then(function(i){return t.readStoredCreds(e,s.ssoProviderId,i.verificationToken,i.channelIdentifier,i.attributeNames).then(function(e){return void 0===e.samlResponse?(r.status=d.OTHER,r.reason=e.reason):(r.status=d.SUCCESS,r.samlResp=e.samlResponse),r.affiliateCode=i.affiliateCode,r.ssoToken=s.ssoToken,r})})})}return"USER_CANCELED"===s.reason?r.status=d.USER_CANCELED:"AFFILIATE_NOT_SUPPORTED"===s.reason&&(r.status=d.AFFILIATE_NOT_SUPPORTED,-1!==n.indexOf(s.ssoProviderId)&&(r.status=d.AFFILIATE_SUPPORTED_NOT_PARTICIPATING),void 0!==s.ssoProviderId&&void 0!==i.affiliateMap[r.providerId]&&(r.nonParticipatingSSOAffiliateId=i.affiliateMap[r.providerId].id)),r.reason=s.reason,r}):(r.status=d.AFFILIATE_SUPPORTED_PARTICIPATING_NOT_ENABLED,r)})}return r.status=d.PLATFORM_NOT_GRANTED,r}).catch(function(e){return i.wrap(e,{message:"failed to login with SSO",level:n.WARNING,area:"dataservices.authentication.SSOAuthManager.readSSOCredentials"}).logTelemetry(),r.status=d.OTHER,r.reason="Unexpected SSO error",r})}return r.status=d.PLATFORM_NOT_SUPPORTED,o.fulfilled(r)}})})})}(),function(){"use strict";define("configuration/PlatformAuthManagerConfig",["core/oop","dataservices/authentication/HiltonAuthManager","dataservices/authentication/PlatformAuthManager","dataservices/authentication/SSOAuthManager"],function(e,t,i,n){return e.classDef("configuration.PlatformAuthManagerConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){"hbogo"!==e.features.brand||"appletv"!==e.features.design&&"ios"!==e.features.design?"hiltontv"===e.features.design&&i.singleton.setDependentManager(t.new()):i.singleton.setDependentManager(n.new())}})})})})}(),function(){"use strict";define("configuration/DispatcherConfig",["core/oop","core/Debug","platform/common/Dispatcher","core/logging/Counters"],function(e,t,i,n){return e.classDef("configuration.DispatcherConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){i.singleton.frameWorkCutoffMS=60,i.singleton.unresponsiveFrameMS=100,i.singleton.longWorkItemCutoffMS=20,i.singleton.verboseLogging=!0===e.features.verboseDispatcherLogging;var t=n.singleton;if(t.isConfigured,!0===t.isEnabled&&!0===e.features.autoResetCounters){var o=10;i.singleton.postInterval(500,function(){t.log(),0==--o&&(o=10,t.resetCounterStats())})}}})})})})}(),function(){"use strict";define("configuration/Exception",["core/oop","core/Exception"],function(e,t){return e.classDef("configuration.Exception",Object,function(){e.staticScope(function(){e.methods({configure:function(e){!0===e.features.longStackTraces&&(t.throwTempErrorToCaptureStackForWarnings=!0),!0===e.features.throwWarnings&&(t.throwWarnings=!0)}})})})})}(),function(){"use strict";define("configuration/IExceptionManager",["core/oop"],function(e){return e.interfaceDef("configuration.IExceptionManager",void 0,function(){e.staticScope(function(){e.methods({configure:void 0})})})})}(),function(){"use strict";define("design/InteractiveCoach",["core/oop","core/Disposable","platform/dependent/Storage","dataservices/authentication/AuthenticationManager","design/DesignSettings"],function(e,t,i,n,o){return e.classDef("design.InteractiveCoach",t,function(t){e.singleton(function(){this._authenticationChangedHandler=function(e){!1===e&&i.singleton.removeSync(o.singleton.INTERACTIVECOACH_KEY)},n.singleton.isAuthenticatedChanged.on(this._authenticationChangedHandler),this._created()}),e.properties({_authenticationChangedHandler:void 0}),e.methods({ensure:function(){},recordShown:function(){i.singleton.writeSync(o.singleton.INTERACTIVECOACH_KEY,"true")},shouldShow:function(){return void 0===i.singleton.readSync(o.singleton.INTERACTIVECOACH_KEY)},_disposeCore:function(){t._disposeCore.apply(this,arguments),n.singleton.isAuthenticatedChanged.off(this._authenticationChangedHandler),this._authenticationChangedHandler=void 0}})})})}(),function(){"use strict";define("design/viewHosts/GOViewHostBase",["core/oop","ui/navigation/ViewHost","design/DesignUtil","design/views/PopupView","design/InteractiveCoach","ui/views/RootView","ui/ViewModelFactory","dataservices/authentication/AuthenticationManager","ui/ViewRegistration"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.viewHosts.GOViewHostBase",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),i.singleton.registerDebugTextView(this),o.singleton.ensure(),this._registerView(l.new({name:"popup",layer:"popup",identify:function(e){return!0===this._isViewportChangeActivation&&e instanceof n},create:function(){}}))}),e.properties({footerHeight:void 0,protectionFadeInBeginScrollOffset:void 0,protectionFadeInEndScrollOffset:void 0,protectionFadeInStateCount:void 0,scrollReset:{defaultValue:!0},renderContentBehindNavBar:{defaultValue:!1},_logoutFrameViewModel:void 0,_startingScrollOffset:void 0}),e.methods({_onUserLoggingOut:function(e){this._logoutFrameViewModel=a.singleton.create("ExplicitWebFrame",{uriPath:e}),this._views.logoutFrame.viewModel=this._logoutFrameViewModel},_getViewModelLogoutFrame:function(){return void 0===this._logoutFrameViewModel&&(this._logoutFrameViewModel=a.singleton.create("ExplicitWebFrame",{uriPath:""})),this._logoutFrameViewModel},_isActiveNavigationBarPlaceholder:function(){return!1===this.renderContentBehindNavBar},_attachLoadingPlaceholder:function(e){var t=this._views.navigationBar,i=e.y-t.height;e.y=t.height,e.height+=i},_viewsAreReady:function(){t._viewsAreReady.apply(this,arguments),this.hookUntilDisposed(s.singleton,"userLoggingOut",this._onUserLoggingOut.bind(this)),void 0===this._views.mainView&&this._hideSpinner(),(this._startingScrollOffset>0||!0!==this._isViewportChangeActivation&&!0===this.scrollReset)&&r.singleton.scrollTo(0,this._startingScrollOffset,!1)},_getContentReady:function(){var e=this._views.mainView;return void 0!==e?e._getActiveSubViewsReadyPromise():t._getContentReady.apply(this,arguments)},_contentIsReady:function(){void 0!==this._views.mainView&&this._hideSpinner()},_hideSpinner:function(){var e=this._views.loadingPlaceholder;void 0!==e&&(e.parent.children.remove(e),e.deactivate())}})})})}(),function(){"use strict";define("dataservices/authentication/User",["core/oop","dataservices/dependent/providers/UserProvider","platform/common/Dispatcher","dataservices/providers/UserProxyProvider"],function(e,t,i,n){return e.classDef("dataservices.authentication.User",n,function(n){e.singleton(function(){n.$ctor.call(this,"User");var e=this;t.singleton.parentalControlsChanged.on(function(){i.singleton.post().finally(function(){e._onParentalControlsChanged()})})}),e.events(["parentalControlsChanged"])})})}(),function(){"use strict";define("design/views/MenuOverlayPopupView",["core/oop","core/Lifecycleable","dataservices/authentication/AuthenticationManager","dataservices/authentication/User","dataservices/WatchlistCache","design/views/NavigationBarViewManager","design/views/PopupView","design/VRModeSwitcher","ui/ViewModelFactory"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.views.MenuOverlayPopupView",a,function(a){e.constructor(function(){a.$ctor.apply(this,arguments),this._registerEventHandlers()}),e.properties({closePosition:{defaultValue:void 0,onChange:function(){this._updateClosePosition()}},currentCategoryId:{defaultValue:void 0,onChange:"_onCurrentCategoryIdChanged"},_close:{get:function(){return this.find("close")}},_bottomItems:{get:function(){return this.find("bottomItems")}},_topItems:{get:function(){return this.find("topItems")}},_buttonsAreRegistered:{defaultValue:!1},_nav:{defaultValue:void 0},_waitingForTopItemsToRealize:{defaultValue:!0,onChange:function(){this._updateReadyToOpen()}},_waitingForBottomItemsToRealize:{defaultValue:!0,onChange:function(){this._updateReadyToOpen()}},_pendingTopItemsRefresh:{defaultValue:!1},_pendingBottomItemsRefresh:{defaultValue:!1}}),e.methods({_updateMenu:function(){if(void 0!==this.viewModel&&void 0!==this.viewModel.dataModel){var e=this.viewModel.dataModel;this._topItems.viewModel=l.singleton.create("MenuCategoryItems",e),this._bottomItems.viewModel=l.singleton.create("MenuClientItems",e)}},_onCurrentCategoryIdChanged:function(e){var t=this._topItems;void 0!==t&&void 0!==t.viewModel&&(t.viewModel.currentCategoryId=e,this._refreshTopItems())},_attachClose:function(){this._updateClosePosition(),a._attachClose.apply(this,arguments)},_onInvokedBubbled:function(e){a._onInvokedBubbled.apply(this,arguments),"CurrentCategoryMenuItem"===e.target.factoryId&&(this.close(),e.handled=!0)},_attachNav:function(e){this._nav=e,this._registerButtons()},_updateClosePosition:function(){var e=this._close;void 0!==e&&void 0!==this.closePosition&&(e.x=this.closePosition.x,e.y=this.closePosition.y)},_onIsAuthenticatedChanged:function(){this._refreshBottomItems()},_onWatchlistCacheRefreshed:function(){this._refreshTopItems()},_onParentalControlsChanged:function(){this._refreshTopItems()},_refreshBottomItems:function(){!0===this._waitingForBottomItemsToRealize?this._pendingBottomItemsRefresh=!0:(this._waitingForBottomItemsToRealize=!0,this._refreshItemsViewModel(this._bottomItems.viewModel))},_refreshTopItems:function(){!0===this._waitingForTopItemsToRealize?this._pendingTopItemsRefresh=!0:(this._waitingForTopItemsToRealize=!0,this._refreshItemsViewModel(this._topItems.viewModel))},_refreshItemsViewModel:function(e){void 0!==e&&e.refreshData()},_updateReadyToOpen:function(){this._readyToOpen=!1===this._waitingForTopItemsToRealize&&!1===this._waitingForBottomItemsToRealize},_registerEventHandlers:function(){var e=this._hud.bind(this);e(o.singleton,"refreshed",this._onWatchlistCacheRefreshed),e(i.singleton,"isAuthenticatedChanged",this._onIsAuthenticatedChanged),e(this._topItems,"itemsRealized",this._onTopItemsRealized),e(this._bottomItems,"itemsRealized",this._onBottomItemsRealized),e(n.singleton,"parentalControlsChanged",this._onParentalControlsChanged),e(s.singleton,"switched",this.deactivate)},_hud:function(e,t,i){this.hookUntilDisposed(e,t,i.bind(this))},_onTopItemsRealized:function(){this._waitingForTopItemsToRealize=!1,!0===this._pendingTopItemsRefresh&&(this._pendingTopItemsRefresh=!1,this._refreshTopItems())},_onBottomItemsRealized:function(){this._waitingForBottomItemsToRealize=!1,!0===this._pendingBottomItemsRefresh&&(this._pendingBottomItemsRefresh=!1,this._refreshBottomItems())},_onLifecycleStateChanged:function(){this._registerButtons(),a._onLifecycleStateChanged.apply(this,arguments)},_registerButtons:function(){this.lifecycleState===t.LifecycleStates.ACTIVATED&&void 0!==this._nav&&!1===this._buttonsAreRegistered&&(this._buttonsAreRegistered=!0,r.singleton.registerButtons(this,this._nav,{name:"Menu",isActiveCallback:function(){return!1}},{name:"Back",isActiveCallback:function(){return!1}},{name:"Chromecast",isActiveCallback:function(){return!1}},{name:"KidsLock",isActiveCallback:function(){return!1}},{name:"CurrentCategoryTitle",isActiveCallback:function(){return!1}}))},_onSubViewsReady:function(){this._updateMenu(),a._onSubViewsReady.apply(this,arguments)}})})})}(),function(){"use strict";define("design/viewHosts/GOViewHost",["core/oop","lib/Promise","core/Exception","core/logging/Levels","ui/Presence","design/KidsLock","design/DesignUtil","design/PopupManager","design/ScreenUtil","design/viewHosts/GOViewHostBase","design/views/MenuOverlayPopupView","ui/ViewFactory","ui/views/RootView","ui/navigation/Navigator","platform/dependent/graphics/Viewport","dataservices/types/NextSteps","dataservices/types/NextStepType","ui/TemplateManager","ui/ViewModelFactory"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_){return e.classDef("design.viewHosts.GOViewHost",c,function(c){e.constructor(function(){c.$ctor.apply(this,arguments)}),e.properties({showStatusBar:void 0,showWelcomeOverlay:{defaultValue:!1},checkForPaywall:{defaultValue:!1},showContinueWatching:{defaultValue:!1},_checkedForPaywall:{defaultValue:!1},_overlayShown:{defaultValue:!1},_onContentScrollChangedCallback:void 0,_navBar:{get:function(){return this._views.navigationBar}},_navBarWasAttached:{defaultValue:!1},_moreClosedItems:{get:function(){var e=this._navBar.find("moreClosedProtection");return[e.find("defaultProtection"),e.find("stickyProtection"),this._search]}},_moreOpenProtection:{get:function(){return this._navBar.find("moreOpenProtection")}},_isKidsContent:void 0,_mainViewInsertionIndex:void 0,_search:{get:function(){return this._navBar.find("Search")||this._navBar.find("ActiveSearchIcon")}},_breakpoint:{defaultValue:850}}),e.methods({activate:function(e){c.activate.apply(this,arguments),this._overlayShown=e&&e.overlayShown||!1,this._checkedForPaywall=e&&e.checkedForPaywall||!1,this._startingScrollOffset=void 0!==e&&e.scrollOffsetY||0;var o=void 0!==this._navBar?this._navBar.height:0;this._startingScrollOffset<o&&(this._startingScrollOffset=0);var s=this;l.singleton.byDesignCall({mobile:function(){!0!==s._isViewportChangeActivation&&(g.singleton.showStatusBar=s.showStatusBar),a.singleton.addNavigateBackHandlers(s)}}),this.runUntilDisposed("activate",function(){return r.singleton.isShowingKidsLockableContent(s).then(function(e){s._isKidsContent=e}).then(function(){l.singleton.byBrandCall({hbonow:function(){if(!0!==s._overlayShown){if(f.singleton.step===m.SHOW_MESSAGE)return t.fulfilled().then(function(){s._showPopup("NextStepsOverlayView",function(){f.singleton.clearData()})});if(!0===s.showWelcomeOverlay)return t.fulfilled().then(function(){l.singleton.byDesignCall({desktop:function(){s._showPopup("WelcomeOverlay")}})});if(!0===s.checkForPaywall){return _.singleton.create("UserPaidForAccess").value.then(function(e){!0!==e&&l.singleton.byDesignCall({desktop:function(){return _.singleton.create("Paywall").redirectUrl.then(function(e){void 0===e?s._showPopup("PaywallOverlayView"):!0!==s._checkedForPaywall&&(s._checkedForPaywall=!0,h.singleton.navigateExternal(e,!1))})},default:function(){s._showPopup("PaywallOverlayView")}})})}}}})}).catch(function(e){i.wrap(e,{message:"GoViewHost.activate promise chain rejected",level:n.WARNING,area:"application.GoViewHost.activate"}).logTelemetry()})})},getPreOrientationChangePromise:function(){return t.fulfilled()},_attachNavigationBar:function(e){this._navBarWasAttached=!0,l.singleton.byDesignCall({desktop:function(){this._hookContentScrollChanged();var t=e.find("leftItems");this._initializeProtections(t)}},this),e.currentCategoryId=void 0!==this._dataModel&&"RootNavigationMenu"!==this._dataModel.factoryId?this._dataModel.id:void 0},getStateArgs:function(){var e=c.getStateArgs.apply(this,arguments);return!0===this._isKidsContent&&(e.isKidsContent=!0),e.checkedForPaywall=this._checkedForPaywall,e.overlayShown=this._overlayShown,e.scrollOffsetY=p.singleton.scrollOffsetY,e},_shouldAnimate:function(){return void 0!==p.singleton.layers.slideTransition&&p.singleton.layers.slideTransition.children.length>0&&!0!==this._activationStateArgs.replace&&!0!==this._activationStateArgs.isRefresh},_createMainView:function(e,t){var i=u.singleton.create(t,e),n=p.singleton.layers.slideTransition;if(!0===this._shouldAnimate()){var r;if(!0===this._activationStateArgs.isForward)i.additionalTransitionStates.add("slideOver"),r=n.children.getAt(n.children.length-1),r.additionalTransitionStates.remove("slideOver"),r.additionalTransitionStates.add("slideUnder");else{i.additionalTransitionStates.add("slideUnder");for(var a=0;a<n.children.length;++a)if(r=n.children.getAt(a),r.presence!==o.EXITING){this._mainViewInsertionIndex=a,r.additionalTransitionStates.remove("slideUnder"),r.additionalTransitionStates.add("slideOver");break}}}return i},_insertViewIntoLayer:function(e,t){if(void 0===this._mainViewInsertionIndex||void 0===this._views||this._views.mainView!==e)return c._insertViewIntoLayer.apply(this,arguments);t.children.insertAt(this._mainViewInsertionIndex,e)},_getStartupReadyPromise:function(){var e=this;return c._getStartupReadyPromise.apply(this,arguments).then(function(){return e._getStartupReadyPromiseImpl()}).then(function(){void 0!==e._views&&void 0!==e._views.mainView&&e._views.mainView._ensureSubViewsReady()})},_getStartupReadyPromiseImpl:function(){return t.fulfilled()},showChromecastOverlay:function(e,t){this._views.chromecastControls.initializeControls(e,!0,t)},_initializeProtections:function(e){this._resetNavBarTransitionStates(),this.hookUntilDisposed(e,"layoutRequested",this._layoutNavBarProtections.bind(this)),this.hookUntilDisposed(e,"layoutRequested",this._registerDropDownHandlers.bind(this)),e.children.length>0&&(this._layoutNavBarProtections(),this._registerDropDownHandlers())},_hookContentScrollChanged:function(){this._onContentScrollChangedCallback=this._onContentScrollChanged.bind(this),this.hookUntilDisposed(p.singleton,"scrollOffsetYChanged",this._onContentScrollChangedCallback)},_onContentScrollChanged:function(e){var t,i=this.protectionFadeInEndScrollOffset-this.protectionFadeInBeginScrollOffset;0!==i?(t=(e-this.protectionFadeInBeginScrollOffset)/i,t=Math.min(1,Math.max(0,t))):t=e<this.protectionFadeInBeginScrollOffset?0:1,[this._navBar.find("leftProtection"),this._navBar.find("moreClosedProtection"),this._navBar.find("rightProtection")].forEach(this._updateProtectionSetTransitionStates.bind(this,t))},_updateProtectionSetTransitionStates:function(e,t){var i=t.find("defaultProtection"),n=t.find("stickyProtection");this._updateProtectionTransitionState(e,i),this._updateProtectionTransitionState(e,n)},_updateProtectionTransitionState:function(e,t){var i=t.additionalTransitionStates.getAt(0),n="interpolated"+Math.ceil(e*(this.protectionFadeInStateCount-1));if(i!==n){var o=t.additionalTransitionStates.length;t.additionalTransitionStates.remove("hide"),t.additionalTransitionStates.remove("hideImmediate");var r=o!==t.additionalTransitionStates.length;t.additionalTransitionStates.add(n),t.additionalTransitionStates.remove(i),!0===r&&t.additionalTransitionStates.add("hideImmediate")}},_resetNavBarTransitionStates:function(){[this._navBar.find("leftProtection"),this._navBar.find("moreClosedProtection"),this._navBar.find("rightProtection")].forEach(function(e){e.find("defaultProtection").additionalTransitionStates.removeAll(),e.find("stickyProtection").additionalTransitionStates.removeAll()}),this._navBar.find("moreOpenProtection").additionalTransitionStates.removeAll()
;var e=this._navBar.find("Search");void 0!==e&&e.additionalTransitionStates.removeAll()},_layoutNavBarProtections:function(){this._onContentScrollChanged(p.singleton.scrollOffsetY);var e=this._navBar.find("moreOpenProtection"),t=e.width,i=this._navBar.find("moreDropDown"),n=i.x-this._navBar.moreItemsLeftPadding,o=this._navBar.find("leftItems"),r=o.x+n,a=this._navBar.find("leftProtection");this._setNavBarProtectionSetProperty(a,"width",r);var s=this._navBar.find("moreClosedProtection");this._setNavBarProtectionSetProperty(s,"width",t),this._setNavBarProtectionSetProperty(s,"x",r),e.x=r;var l=this._navBar.find("rightProtection"),c=r+t;this._setNavBarProtectionSetProperty(l,"x",c)},_setNavBarProtectionSetProperty:function(e,t,i){var n=e.find("defaultProtection"),o=e.find("stickyProtection");n[t]=i,o[t]=i},_registerDropDownHandlers:function(){var e=this._navBar.find("moreDropDown");this.hookUntilDisposed(e,"opened",this._onMoreOpened.bind(this)),this.hookUntilDisposed(e,"closed",this._onMoreClosed.bind(this))},_hideItem:function(e){e.additionalTransitionStates.add("hide")},_showItem:function(e){e.additionalTransitionStates.remove("hide"),e.additionalTransitionStates.remove("hideImmediate")},_showOpenedItem:function(e){e.additionalTransitionStates.add("show"),this._showItem(e)},_hideOpenedItem:function(e){this._hideItem(e),e.additionalTransitionStates.remove("show")},_onMoreOpened:function(){this._moreClosedItems.forEach(this._hideItem),this._showOpenedItem(this._moreOpenProtection)},_onMoreClosed:function(){this._moreClosedItems.forEach(this._showItem),this._hideOpenedItem(this._moreOpenProtection)},_identifyNavigationBar:function(e){return!1===e.wasInPlayer},_identifyMenuOverlay:function(e){return e instanceof d},_getViewModelMenuOverlay:function(){var e,t=s.singleton.getPersistentPopup("MenuOverlay");return void 0!==t&&(e=t.viewModel),e},_showPopup:function(e,t){var i=v.singleton.getTemplate(e),n=s.singleton.openPopup(i);return this._overlayShown=!0,void 0!==t&&n.closed.on(t),n},_getHyperlinkContext:function(){return{}},_isActiveContinueWatchingToastContainer:function(){var e=this;return l.singleton.byScreen({tablet:l.singleton.byBreakpointImmediate({lessThan:!1,greaterThanEqual:!0},this._breakpoint),default:e.showContinueWatching})},_isActiveContinueWatchingToastContainerCompact:function(){return l.singleton.byScreen({tablet:l.singleton.byBreakpointImmediate({lessThan:!0,greaterThanEqual:!1},this._breakpoint),default:!1})}})})})}(),function(){"use strict";define("design/viewHosts/AssetViewHost",["core/oop","lib/Promise","dataservices/analytics/VideoEventData","dataservices/authentication/AuthenticationManager","design/SeriesUtil","ui/ViewModelFactory","design/ScreenUtil","design/viewHosts/GOViewHost","ui/views/RootView"],function(e,t,i,n,o,r,a,s,l){return e.classDef("design.viewHosts.AssetViewHost",s,function(s){e.constructor(function(){this._videoEventData=i.new(),this._onAccordionDrawerToggleCallback=this._onAccordionDrawerToggle.bind(this),s.$ctor.apply(this,arguments)}),e.properties({autoplay:{defaultValue:!1},bingeModeType:void 0,breakpoint:void 0,playlistId:void 0,_onAccordionDrawerToggleCallback:void 0,_videoEventData:void 0,_seriesModel:void 0,_pageViewData:void 0,_initialIndex:{defaultValue:0},_franchiseHeaderViewModel:void 0,_hasSeriesBackgroundImage:{defaultValue:!1}}),e.methods({activate:function(e){var t=this;this._setViewStateArgs(e,"assetDetails",function(e){t._setViewStateArgs(e,"assetMetadata",function(e){t._setViewStateArgs(e,"player",function(e){e.bingeModeType=t.bingeModeType,e.playlistId=t.playlistId,!0===e.hasOwnProperty("autoplay")?t.autoplay=e.autoplay:e.autoplay=t.autoplay})})}),s.activate.call(this,e)},getStateArgs:function(){var e=this,t=s.getStateArgs.apply(this,arguments);return this._setViewStateArgs(t,"assetDetails",function(i){e._setViewStateArgs(i,"assetMetadata",function(i){e._setViewStateArgs(i,"player",function(i){i.bingeModeType=e.bingeModeType,i.playlistId=e.playlistId,t.$autoplay=i.autoplay})})}),t},_onAccordionDrawerToggle:function(e,t){if(e){var i=this._views.mainView.find("mainScrollView"),n=i.scrollOffsetY+i.height;i.scrollHeight-t<n&&i.scrollTo(0,i.scrollHeight-i.height-t,!0)}},getPageViewAnalyticsData:function(){var e=this;return this._getStartupReadyPromise().then(function(){return e._pageViewData})},tryHandleException:function(e){var t=l.singleton.find("player");return void 0!==t&&t.tryHandleException(e)},_setViewStateArgs:function(e,t,i){e=e||{};var n=e[t]||{};i(n),e[t]=n},_getStartupReadyPromiseImpl:function(){var e=this;return s._getStartupReadyPromiseImpl.apply(this,arguments).then(function(){return n.singleton.login()}).then(function(){var i=e._dataModel,n=r.singleton.create("AssetMetadata",i);return t.props({title:i.title,seasonNumber:i.seasonNumber,seriesName:i.seriesName,series:i.series,franchise:i.franchise,seriesBackgroundImageUriFetcher:n.seriesBackgroundImageUriFetcher})}).then(function(t){if(e._pageViewData={seriesName:t.seriesName,seasonNumber:t.seasonNumber,title:t.title},"Episode"===e._dataModel.factoryId&&(e._seriesModel=t.series),void 0!==t.franchise)e._franchiseHeaderViewModel=r.singleton.create("FranchiseHeader",t.franchise,t.series),e._hasSeriesBackgroundImage=!1;else{var i=void 0!==t.seriesBackgroundImageUriFetcher?t.seriesBackgroundImageUriFetcher():void 0;e._hasSeriesBackgroundImage=void 0!==i}return void 0!==e._seriesModel?o.singleton.episodeIndexFromId(e._seriesModel,e._dataModel.id):0}).then(function(t){e._initialIndex=t})},_initArgsAssetDetails:function(){return{videoEventData:this._videoEventData}},_isActiveAssetDetailsPortrait:function(){return a.singleton.byScreen({phone:!0,tablet:a.singleton.byBreakpointImmediate({lessThan:!0,greaterThanEqual:!1},this.breakpoint)})},_isActiveAssetDetailsLandscape:function(){return a.singleton.byScreen({phone:!1,tablet:a.singleton.byBreakpointImmediate({lessThan:!1,greaterThanEqual:!0},this.breakpoint)})},_attachAssetDetails:function(e){this.hookUntilDisposed(e.find("assetDetailsAccordion"),"drawerToggle",this._onAccordionDrawerToggleCallback)},_isActiveFranchiseHeader:function(){return void 0!==this._franchiseHeaderViewModel},_getViewModelFranchiseHeader:function(){return this._franchiseHeaderViewModel},_isActiveSeriesBackgroundImageArea:function(){return!0===this._hasSeriesBackgroundImage},_isActiveFranchiseBackgroundImageArea:function(){return void 0!==this._franchiseHeaderViewModel},_getViewModelFranchiseBackgroundImageArea:function(){return this._franchiseHeaderViewModel},_getHyperlinkContext:function(){return void 0!==this.playlistId?{playlistId:this.playlistId}:{}}})})})}(),function(){"use strict";define("design/viewHosts/PlayerViewHost",["core/oop","core/Lifecycleable","core/logging/Levels","core/Exception","core/data/ModelFactory","design/ScreenUtil","design/viewHosts/GOViewHost","dataservices/authentication/AuthenticationManager","dataservices/analytics/VideoEventData","ui/views/RootView","ui/navigation/Navigator","platform/common/Dispatcher","platform/dependent/graphics/Viewport"],function(e,t,i,n,o,r,a,s,l,c,d,u,p){return e.classDef("design.viewHosts.PlayerViewHost",a,function(a){e.constructor(function(){a.$ctor.apply(this,arguments),this._videoEventData=l.new()}),e.properties({orientationDelay:void 0,autoplay:{defaultValue:!0},preview:{defaultValue:!1},bingeModeType:{defaultValue:void 0},playlistId:void 0,rootViewBackgroundColor:void 0,_preservedRootViewColor:void 0,_playerView:void 0,_videoEventData:void 0,_modelOverride:void 0,_isPlayerVisible:void 0}),e.methods({_isLandscape:function(){return p.singleton.orientations&&(p.singleton.orientations.landscape||p.singleton.orientations.landscapeReverse)},_hideStatusAndNavBars:function(){if(void 0!==this._navBar)this._navBar.hide();else{var e="Nav bar not found";e+=" navBarWasAttached="+this._navBarWasAttached;var t=d.singleton.getActiveBreadcrumb();e+=" activeBreadcrumb="+(void 0===t?"undefined":t.serialize());var o=d.singleton.getLastBreadcrumb();e+=" lastBreadcrumb="+(void 0===o?"undefined":o.serialize()),n.new({message:e,level:i.WARNING,area:"design.viewHosts.PlayerViewHost._hideStatusAndNavBars"}).logTelemetry()}p.singleton.showStatusBar=!1},getPreOrientationChangePromise:function(){return this._hideStatusAndNavBars(),void 0!==this._playerView&&this._playerView.hide(),void 0!==this._navBar&&(this._navBar.wasInPlayer=!0),a.getPreOrientationChangePromise.apply(this,arguments)},activate:function(e){e=e||{};var t=e.player||{};t.autoplay=this.autoplay,t.preview=this.preview,t.bingeModeType=this.bingeModeType,t.playlistId=this.playlistId,e.player=t,e.mainView={player:t},(e.isPlayerVisible||this._isLandscape())&&(this._isPlayerVisible=!0),void 0!==e.modelOverride&&(this._modelOverride=e.modelOverride,this._dataModel=o.singleton.create(e.modelOverride.dataModelFactoryId,e.modelOverride.dataModelId)),a.activate.call(this,e)},getStateArgs:function(){var e=a.getStateArgs.apply(this,arguments);return e.modelOverride=this._modelOverride,e.isPlayerVisible=this._isPlayerVisible,e},_disposeCore:function(){void 0!==this._preservedRootViewColor&&(c.singleton.backgroundColor=this._preservedRootViewColor),a._disposeCore.apply(this,arguments)},tryHandleException:function(e){return void 0!==this._playerView&&this._playerView.tryHandleException(e)},pauseVideo:function(){void 0!==this._playerView&&this._playerView.pause()},_attachNavigationBar:function(e){a._attachNavigationBar.apply(this,arguments),e.wasInPlayer=r.singleton.byScreen({phone:!1,default:!0})},_isActivePlayer:function(){return!0===this._isPlayerVisible&&!0===this._isLandscape()},_attachPlayer:function(e){this._playerView=e,this.hookUntilDisposed(this._playerView,"nextVideoLoaded",this._handlePlayerNextVideoLoaded.bind(this))},_enablePlayer:function(){return p.singleton.setOrientations({portrait:!1,portraitReverse:!1,landscape:!0,landscapeReverse:!0})},_viewsAreReady:function(){var e,t=this;return void 0!==t.rootViewBackgroundColor&&(t._preservedRootViewColor=c.singleton.backgroundColor,c.singleton.backgroundColor=t.rootViewBackgroundColor),r.singleton.byScreenCall({phone:function(){!1===p.singleton.showStatusBar&&t._hideStatusAndNavBars(),!0!==t._isPlayerVisible&&(e=t._showPopup("LogoOverlay"),e.lifecycleStateChanged.on(t._popupLifecycleChangedCallback.bind(t,e)),t.runUntilDisposed("_enablePlayer",function(){return u.singleton.postTimeout(t.orientationDelay).then(function(){return e.close()}).catch(function(e){n.wrap(e,{message:"_enablePlayer promise chain rejected",level:i.WARNING,area:"design.viewHosts.PlayerViewHost._viewsAreReady"}).logTelemetry()})}))}}),a._viewsAreReady.apply(this,arguments)},_popupLifecycleChangedCallback:function(e,i){i===t.LifecycleStates.DEACTIVATED&&(this._enablePlayer(),e.lifecycleStateChanged.off(this._popupLifecycleChangedCallback))},_initArgsPlayer:function(){return this._videoEventData.bingeModeType=this.bingeModeType,{videoEventData:this._videoEventData}},_getStartupReadyPromiseImpl:function(){return a._getStartupReadyPromiseImpl.call(this).then(function(){return s.singleton.login()})},_handlePlayerNextVideoLoaded:function(e,t){this._modelOverride={dataModelId:e,dataModelFactoryId:t}}})})})}(),function(){"use strict";define("configuration/ExceptionManager",["core/oop","core/Exception","core/data/ModelFactory","configuration/IExceptionManager","platform/HttpStatus","ui/navigation/ExceptionManager","ui/navigation/Navigator","ui/Localization","design/ErrorUXManager","design/NavigationRouter","design/ScreenUtil","design/viewHosts/AssetViewHost","design/viewHosts/PlayerViewHost","core/logging/SimpleLogEntry","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","dataservices/authentication/AuthenticationManager","design/DesignSettings"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("configuration.ExceptionManager",[Object,n],function(){e.staticScope(function(){e.methods({configure:function(){function e(e,i,n,o,r,a){n=n||s.singleton.getResource("ResErrorAuthenticationTitle"),o=o||s.singleton.getResource("ResErrorAuthenticationMessage"),!0!==a&&m.singleton.logout().then(function(){h.new({eventType:g.USER,eventSubtype:f.USER_ERROR_LOGOUT,area:"configuration.ExceptionManager.authenticationExceptionProcessing",payload:{exceptionName:e.typeName}}).log()}),t._showExceptionInfo(e,i,r,{title:n,description:o})}var t=this,n=[{type:"dataservices.ContentUnavailableException",title:"ResErrorContentUnavailableTitle",description:"ResErrorContentUnavailableMessage"},{type:"core.Exception",title:"ResError",description:"ResErrorMessageDefault"},{type:"platform.common.PlaybackException",title:"ResErrorPlaybackTitle",description:"ResErrorPlaybackMessage"}],o={"dataservices.authentication.AuthenticationException":e,"dataservices.authentication.AuthenticationRequiredException":e,"dataservices.authentication.ClientCredentialsInvalidException":e,"dataservices.authentication.ClientVersionNotSupportedException":function(t,i){e(t,i,s.singleton.getResource("ResClientVersionNotSupportedTitle"),s.singleton.getResource("ResClientVersionNotSupportedBody"),!0,void 0)},"dataservices.authentication.GeoValidationException":function(t,i){e(t,i,s.singleton.getResource("ResGeoBlockTitle"),s.singleton.getResource("ResGeoBlockBody"),!0,void 0)},"dataservices.authentication.AffiliateAuthenticationException":function(t,i){var n,o=s.singleton.getResource("ResErrorAffiliateAuthenticationTitle");void 0!==t.displayMessage&&(n=s.singleton.getResource("ResErrorAffiliateAuthenticationMessage",{affilateMessage:t.displayMessage})),e(t,i,o,n,!1,d.singleton.byBrand({hbonow:!0,default:!1}))},"dataservices.authentication.InvalidCredentialsException":function(t,i){e(t,i,void 0,t.displayMessage,!1,!1)},"dataservices.authentication.InvalidResetTokenException":function(e,i){var n,o;"invalid_reset_password_token"===e.code?(n="ResCannotResetPasswordTitle",o="ResCannotResetPasswordInstructions"):(n="ResCannotResetPinTitle",o="ResCannotResetPinInstructions"),t._showExceptionInfo(e,i,!0,{title:s.singleton.getResource(n),description:s.singleton.getResource(o)})},"dataservices.ContentRestrictedException":function(e,n){i.singleton.create("User","User").affiliate.then(function(i){return i.name.then(function(i){t._showExceptionInfo(e,n,!1,{title:s.singleton.getResource("ResPlayLockedTitle"),description:s.singleton.getResource("ResErrorContentRestrictedMessage",{affiliateName:i})})})})},"dataservices.authentication.StreamTrackingException":function(e,i){var n=!1,o=a.singleton.getActiveViewHost();return o instanceof u&&(n=o.tryHandleException(e)),!0!==n&&t._showExceptionInfo(e,i,!1,{title:s.singleton.getResource("ResErrorPlayerErrorTitle"),description:s.singleton.getResource("ResErrorStreamTrackingMessage")}),!0},"dataservices.InvalidSessionException":function(e,i){return m.singleton.logout().then(function(){h.new({eventType:g.USER,eventSubtype:f.USER_IMPLICIT_LOGOUT,area:"configuration.ExceptionManager.dataservices.InvalidSessionExceptionHandler",payload:{exceptionName:e.typeName}}).log()}).finally(function(){void 0!==a.singleton.getActiveBreadcrumb()?a.singleton.refresh():t._showExceptionInfo(e,i,!1,{title:s.singleton.getResource("ResErrorExpiredSessionTitle"),description:s.singleton.getResource("ResErrorExpiredSessionMessage")})}),!0},"platform.NetworkException":function(e,i){return t._showExceptionInfo(e,i,!1,{title:s.singleton.getResource("ResErrorNetworkTitle"),description:s.singleton.getResource("ResErrorNetworkMessage")}),!0},"dataservices.SubscriptionExpiredException":function(e,i){var n=!1,o=d.singleton.byBrand({hbonow:!0,default:!1}),r=a.singleton.getActiveViewHost();if((r instanceof u||!0===o&&r instanceof p)&&(n=r.tryHandleException(e)),!0!==n){var l;l=!0===e.shouldDisplayMessage&&void 0!==e.displayMessage?e.displayMessage:s.singleton.getResource("ResErrorSubscriptionExpiredMessage"),t._showExceptionInfo(e,i,!1,{title:s.singleton.getResource("ResErrorSubscriptionExpiredTitle"),description:l})}return n},"dataservices.ServiceException":function(e,i){var n;n=!0===e.shouldDisplayMessage?s.singleton.getResource("ResErrorServiceWithMessage",{serviceMessage:e.displayMessage}):s.singleton.getResource("ResErrorServiceMessage"),t._showExceptionInfo(e,i,!1,{title:s.singleton.getResource("ResErrorServiceTitle"),description:n})},"dataservices.CustomServiceException":function(e,i){t._showExceptionInfo(e,i,!1,{title:s.singleton.getResource("ResErrorServiceTitle"),description:s.singleton.getResource("ResErrorServiceWithMessage",{serviceMessage:e.displayMessage})})}};n.forEach(function(e){o[e.type]=function(i,n){t._showExceptionInfo(i,n,!1,{title:s.singleton.getResource(e.title),description:s.singleton.getResource(e.description)})}}),r.singleton.register(o)},_showExceptionInfo:function(e,i,n,a){if(!0===v.singleton.showDevExceptions){var u=t.getInnermostException(e);a.internalMessage="developer message: "+u.internalMessage,a.callstack="callstack:\n"+(void 0!==u.callstack?u.callstack.join("\n"):"(no stack available)")}a.exceptionId=e.id;var p=r.getExceptionDisplayId(e);a.serviceTraceId=s.singleton.getResource("ResErrorServiceTraceId",{traceId:p});try{e.logErrorShow()}catch(e){if(!0!==i)throw e}var h=d.singleton.byDesign({desktop:!0});if(!0===i||!0===n||!0===h)c.singleton.navigateToExceptionInfo(a,i);else{if(e.status===o.NETWORK_ERROR)return;l.singleton.showExceptionInfoDialog(a)}}})})})})}(),function(){"use strict";define("configuration/CacheManager",["core/oop","core/data/CacheManager"],function(e,t){return e.classDef("configuration.CacheManager",Object,function(){e.staticScope(function(){e.methods({configure:function(e,i){void 0!==i.cacheCapacity&&(t.singleton.capacity=parseInt(i.cacheCapacity,10)),t.singleton.minimumCacheTime=5e3,t.singleton.waitOnWriteTime=5e3}})})})})}(),function(){"use strict";define("platform/common/PlaybackErrors",["core/oop"],function(e){return e.enumDef("platform.common.PlaybackErrors",["UNKNOWN","NETWORK","DECODE","SOURCE_UNSUPPORTED","ENCRYPTION_UNSUPPORTED","COPY_PROTECTION_LOST","PLAYER_UNAVAILABLE","DRM_NOT_ALLOWED","AUTOPLAY_DISABLED"])})}(),function(){"use strict";define("dataservices/analytics/ITelegraphService",["core/oop"],function(e){return e.interfaceDef("dataservices.analytics.ITelegraphService",void 0,function(){e.singleton(),e.methods({logRemotely:void 0,start:void 0,initializeEvent:void 0,handleEvent:void 0})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphHelper",["core/oop","lib/lodash/collections/forEach","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","core/logging/SimpleLogEntry"],function(e,t,i,n,o){return e.classDef("dataservices.analytics.TelegraphHelper",Object,function(){e.staticScope(function(){e.properties({TELEGRAPHERRCOUNT_KEY:{defaultValue:"telegraphErrorCount",readOnlyField:!0}}),e.methods({copyProps:function(e,i,n,o){t(n,function(t){var n=e[t];if(void 0!==n){var r;r=o?o+t:t,i[r]=n}})},logDevOnly:function(e,o){return e.type=i.TEST,e.subtype=n.TEST_DEVONLY,e.devcode=o.devcode,t(o.payload,function(t,i){e[i]=t}),e.testAnalytics="hadrondev",e},maybeLogStartupTelemetry:function(e){e>0&&o.new({eventType:i.TELEMETRY,eventSubtype:n.TELEMETRY_ERRORMETRICS,area:"dataservices.analytics.TelegraphService.start",payload:{telegraphLogErrorCount:e}}).log()},logSessionStart:function(e){o.new({eventType:i.APPLICATION,eventSubtype:n.APPLICATION_SESSIONSTART,area:"dataservices.analytics.TelegraphService.start",payload:{isRestart:e}}).log()}})})})})}(),function(){"use strict";define("dataservices/analytics/ITelegraphEventHandler",["core/oop"],function(e){return e.interfaceDef("dataservices.analytics.ITelegraphEventHandler",void 0,function(){e.singleton(),e.methods({handleEvent:void 0,getHandlerPromise:void 0,getHandlerName:void 0})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphAppEventHandler",["core/oop","core/logging/TelegraphEventSubtypes","core/logging/TelegraphEventTypes","lib/Promise","dataservices/analytics/ITelegraphEventHandler","dataservices/analytics/TelegraphHelper","platform/dependent/graphics/Viewport","platform/dependent/Process","platform/dependent/User","engine/dependent/Time"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("dataservices.analytics.TelegraphAppEventHandler",[o],function(){e.singleton(function(){var e=this,t=s.singleton.launchClientTimestamp,i=c.singleton.now();this._startupTimeMs=Math.round(i-t),this._creationPromise=n.props({extraAdData:l.singleton.getExtraAdvertisingData(),a11yEnabled:l.singleton.isAccessibilityEnabled,pushEnabled:!0===s.singleton.pushNotificationsEnabled?l.singleton.isPushEnabled:n.fulfilled()}).then(function(t){e._extraAdData=t.extraAdData,e._a11yEnabled=t.a11yEnabled,e._pushEnabled=t.pushEnabled}).catch()}),e.properties({_handlerName:{defaultValue:"TelegraphAppEventHandler"},_application:void 0,_a11yEnabled:void 0,_pushEnabled:void 0,_device:void 0,_extraAdData:void 0,_creationPromise:void 0,_startupTimeMs:void 0,_launchSent:{defaultValue:!1},_extraAdDataIdsAppStart:{defaultValue:["iosiad.iad-attribution","iosiad.iad-org-name","iosiad.iad-campaign-id","iosiad.iad-campaign-name","iosiad.iad-conversion-date","iosiad.iad-click-date","iosiad.iad-adgroup-id","iosiad.iad-adgroup-name","iosiad.iad-keyword","iosiad.iad-lineitem-id","iosiad.iad-lineitem-name"]}}),e.methods({setupCommonObjects:function(e){return this._application=e.application,this._device=e.device,this._creationPromise},getHandlerPromise:function(){},handleEvent:function(e,t){switch(e.type){case"deviceactivate":case"devicedeactivate":case"deviceactivationtimeout":return this._handleDeviceEvent(e,t);case"deeplinklaunched":return this._handleDeepLinkLaunchEvent(e,t)}},getHandlerName:function(){return this._handlerName},handleLaunchEvent:function(e){if(!1===this._launchSent)return e.type=i.APPLICATION,e.subtype=t.APPLICATION_LAUNCH,e.startupTimeMs=this._startupTimeMs,e.launchCount=this._device.launchCount,e.firstRunTimestamp=this._device.firstLaunchTimestamp,e.internalCampaign=this._application.internalAnalyticsCampaign,e.externalCampaign=this._application.externalAnalyticsCampaign,e.isAccessibilityEnabled=this._a11yEnabled,e.isPushEnabled=this._pushEnabled,e.viewportWidth=a.singleton.naturalWidth,e.viewportHeight=a.singleton.naturalHeight,e.viewportDensity=a.singleton.density,void 0!==this._extraAdData&&r.copyProps(this._extraAdData,e,this._extraAdDataIdsAppStart,"extraAdData."),this._launchSent=!0,e},_handleDeviceEvent:function(e,n){switch(n.type=i.APPLICATION,e.type){case"deviceactivate":n.subtype=t.APPLICATION_ACTIVATE;break;case"devicedeactivate":n.subtype=t.APPLICATION_DEACTIVATE;break;case"deviceactivationtimeout":n.subtype=t.APPLICATION_ACTIVATIONTIMEOUT}return n},_handleDeepLinkLaunchEvent:function(e,n){return n.type=i.APPLICATION,n.subtype=t.APPLICATION_DEEPLINK,n.deepLinkAction=e.action,n.deeplinkTarget=e.target,n.deeplinkType=e.linkType,n.internalCampaign=this._application.internalAnalyticsCampaign,n.externalCampaign=this._application.externalAnalyticsCampaign,n}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphChromecastEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n){return e.classDef("dataservices.analytics.TelegraphChromecastEventHandler",[t],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphChromecastEventHandler"}}),e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){switch(e.type){case"chromecaststartstop":t.type=i.VIDEO,e.isCasting?t.subtype=n.VIDEO_SCREENCASTSTART:t.subtype=n.VIDEO_SCREENCASTSTOP,t.castingDeviceType="chromecast"}return t},getHandlerName:function(){return this._handlerName}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphNavigationEventHandler",["core/oop","lib/Promise","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","dataservices/dependent/ServiceUtils"],function(e,t,i,n,o,r){return e.classDef("dataservices.analytics.TelegraphNavigationEventHandler",[i],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphNavigationEventHandler"},_application:void 0,_campaignSent:void 0}),e.methods({setupCommonObjects:function(e){this._application=e.application,this._campaignSent=e.campaignSent},handleEvent:function(e,t){switch(e.type){case"popupshow":return this._logPopupView(e,t);case"viewshown":return this._logViewShown(e,t);case"pointerdown":return this._logPointerDown(e,t)}},getHandlerName:function(){return this._handlerName},getHandlerPromise:function(e,t){switch(e.type){case"pageview":return this._logPageview(e,t)}},_logPointerDown:function(e,t){return t.type=n.NAVIGATION,t.subtype=o.NAVIGATION_POINTERDOWN,t.index=e.index,t.location=e.location,t.targetName=e.targetName,t.targetId=e.targetId,t.action=e.action,t},_logPopupView:function(e,t){return t.type=n.NAVIGATION,t.subtype=o.NAVIGATION_VIEWPOPUP,t.viewType=e.area,t},_logViewShown:function(e,t){return t.type=n.NAVIGATION,t.subtype=o.NAVIGATION_VIEWSHOWN,t.viewType=e.area,t.name=e.name,t},_logPageview:function(e,t){var i=this;return void 0!==i._campaignSent&&!1===i._campaignSent&&(t.internalCampaign=i._application.internalAnalyticsCampaign,t.externalCampaign=i._application.externalAnalyticsCampaign,i._campaignSent=!0),t.type=n.NAVIGATION,t.subtype=o.NAVIGATION_VIEW,t.viewType=e.area,t.viewUri=e.uri,t.modelId=e.modelId,i._addPageviewProps(t)},_addPageviewProps:function(e){var i=r.singleton.createModelFromId(e.modelId);if(void 0===i)return t.fulfilled(e);switch(i.factoryId){case"Extra":e.isExtra=!0;case"Feature":return t.props({name:i.title}).then(function(i){return e.featureTitle=i.name,t.fulfilled(e)});case"Series":return t.props({name:i.title}).then(function(i){return e.seriesTitle=i.name,t.fulfilled(e)});case"Season":return t.props({seriesName:i.seriesName,seasonTitle:i.title}).then(function(i){return e.seriesTitle=i.seriesName,e.seasonTitle=i.seasonTitle,t.fulfilled(e)});case"Episode":return t.props({seriesName:i.seriesName,seasonTitles:i.seasonTitles,episodeTitle:i.title,episodeNumber:i.episodeInSeason,isSeasonal:i.seasonal}).then(function(i){return e.seriesTitle=i.seriesName,void 0!==i.seasonTitles&&!0===i.isSeasonal&&(e.seasonTitle=i.seasonTitles.full),e.episodeTitle=i.episodeTitle,e.episodeNumber=i.episodeNumber,t.fulfilled(e)});default:return t.props({title:i.title}).then(function(i){return e.viewTitle=i.title,t.fulfilled(e)})}}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphPurchaseEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n){return e.classDef("dataservices.analytics.TelegraphPurchaseEventHandler",[t],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphPurchaseEventHandler"}}),e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){switch(e.type){case"purchasesuccessful":t.type=i.PURCHASE,t.subtype=n.PURCHASE_SUCCESSFUL,t.area=e.area,t.purchaseType=e.purchaseType,t.storeType=e.storeType}return t},getHandlerName:function(){return this._handlerName}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphSearchEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n){return e.classDef("dataservices.analytics.TelegraphSearchEventHandler",[t],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphSearchEventHandler"}}),e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){switch(e.type){case"searchresultinvoke":return this._handleSearchInvokeEvent(e,t);case"searchtermupdate":return this._handleSearchUpdateEvent(e,t);case"defaultsearchinvoke":return this._handleDefaultSearchInvokeEvent(e,t)}},getHandlerName:function(){return this._handlerName},_handleSearchInvokeEvent:function(e,t){return t.type=i.SEARCH,t.subtype=n.SEARCH_INVOKE,t.searchTerm=e.searchTerm,t.resultCount=e.searchResultCount,t.invokedTitle=e.searchResultInvoked,t.invokedId=e.searchResultInvokedId,t},_handleSearchUpdateEvent:function(e,t){return t.type=i.SEARCH,t.subtype=n.SEARCH_TEXTENTRY,t.searchText=e.searchText,t.resultCount=e.resultCount,t},_handleDefaultSearchInvokeEvent:function(e,t){return t.type=i.SEARCH,t.subtype=n.SEARCH_DEFAULTSEARCHINVOKE,t.assetTitle=e.assetTitle,t.assetId=e.assetId,t.assetCollectionTitle=e.assetCollectionTitle,t}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphSimpleEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","lib/lodash/collections/forEach"],function(e,t,i){return e.classDef("dataservices.analytics.TelegraphSimpleEventHandler",[t],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphSimpleEventHandler"}}),e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){return t.type=e.eventType,t.subtype=e.eventSubtype,t.area=e.area,i(e.payload,function(e,i){t[i]=e}),t},getHandlerName:function(){return this._handlerName}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphTelemetryEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n){return e.classDef("dataservices.analytics.TelegraphTelemetryEventHandler",[t],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphTelemetryEventHandler"}}),e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){t.type=i.TELEMETRY,t.subtype=n.TELEMETRY_PERFORMANCE,t.area=e.area,t.timespans=[];for(var o=0;o<e.timespans.length;o++){var r=e.timespans[o];t.timespans.push({timestamp:r.timestamp,name:r.endName,value:r.duration})}return t},getHandlerName:function(){return this._handlerName}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphUserEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n){return e.classDef("dataservices.analytics.TelegraphUserEventHandler",[t],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphUserEventHandler"}}),e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){switch(e.type){case"signin":t.type=i.USER,t.subtype=n.USER_SIGNIN;break;case"reauthentication":t.type=i.USER,t.subtype=n.USER_REAUTHENTICATION}return t},getHandlerName:function(){return this._handlerName}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphUserInteractionEventHandler",["core/oop","core/Debug","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","dataservices/analytics/TelegraphHelper","lib/lodash/collections/forEach"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.analytics.TelegraphUserInteractionEventHandler",[i],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphUserInteractionEventHandler"},_uiContextualDataFields:{defaultValue:["assetId","componentId","componentIndex","durationMS","fullTitle","imageUri","initiatedFrom","interactiveTitle","interactiveType","isExternal","linkTarget","linkData","numInteractiveItems","pageId","percentOfVideo","seriesName","text","tileId","tileIndex","title"]},_uiSeekParamsFields:{defaultValue:["mode","action","seekStart","seekEnd"]},_uiVideoEventFields:{defaultValue:["affiliateCode","assetAnalyticsId","assetId","bingeModeType","cdn","completionTime","countryCode","cutId","duration","episodeNumber","fullSeasonTitle","fullTitle","isExtra","isFree","isPrerollVideo","isPreview","isSecure","language","location","mediaId","playableStatus","playlistTitle","primaryGenre","profile","rating","seasonNumber","seriesName","startFromBeginning","title","uri","userId"]}}),
e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){switch(e.type){case"userinteraction":return this._handleUserInteraction(e,t);case"viewportchange":return this._handleViewportChange(e,t)}},_handleViewportChange:function(e,t){return t.type=n.UI,t.subtype=o.UI_VIEWPORTCHANGE,t.changeType=e.changeType,t.width=e.width,t.height=e.height,t.fullScreen=e.fullScreen,t.density=e.density,t},_handleUserInteraction:function(e,t){return r.copyProps(e.contextualData,t,this._uiContextualDataFields),a(e.payload,function(e,i){t[i]=e}),void 0!==e.contextualData.videoEventData&&r.copyProps(e.contextualData.videoEventData,t,this._uiVideoEventFields),void 0!==e.contextualData.seekParams&&r.copyProps(e.contextualData.seekParams,t,this._uiSeekParamsFields),t.type=n.UI,t.subtype=o.UI_USERINTERACTION,t.area=e.area,t.target=e.target,t},getHandlerName:function(){return this._handlerName}})})})}(),define("lib/lodash/objects/isEmpty",["./forOwn","./isArguments","./isFunction","../support"],function(e,t,i,n){function o(o){var c=!0;if(!o)return c;var u=d.call(o),p=o.length;return u==a||u==l||(n.argsClass?u==r:t(o))||u==s&&"number"==typeof p&&i(o.splice)?!p:(e(o,function(){return c=!1}),c)}var r="[object Arguments]",a="[object Array]",s="[object Object]",l="[object String]",c=Object.prototype,d=c.toString;return o}),function(){"use strict";define("dataservices/analytics/TelegraphVideoEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","platform/common/PlaybackState","platform/diagnostics/Timer","lib/lodash/objects/isEmpty"],function(e,t,i,n,o,r,a){var s=e.enumDef("dataservices.analytics.TelegraphVideoEventHandler.seekActions",{REWIND:"rewind",FASTFORWARD:"fastforward",SEEK:"seek"});return e.classDef("dataservices.analytics.TelegraphVideoEventHandler",[t],function(){e.singleton(function(){this._videoSessions={}}),e.properties({_handlerName:{defaultValue:"TelegraphVideoEventHandler"},_lastCreatedSessionId:void 0,_videoSessions:void 0,_videoFieldsToCopy:{defaultValue:["affiliateCode","bingeModeType","countryCode","duration","episodeNumber","isExtra","isFree","isPrerollVideo","isPromoVideo","isMainVideo","isPreview","language","seriesName","title","fullSeasonTitle"]}}),e.methods({getHandlerPromise:function(){},hasActiveVideoSessions:function(){return!a(this._videoSessions)},handleEvent:function(e,t){switch(e.type){case"videostatechange":return this._logVideoStateChangeEvent(e,t);case"pcrestricted":return this._logPCRestricted(e,t)}},getHandlerName:function(){return this._handlerName},logVideoPlayEvent:function(e){if("videoplay"===e.type){var t,i=this;if(void 0===(t=i._videoSessions[e.sessionId])){t={videoEventData:e.videoEventData,id:e.sessionId,sentStartEvent:!1};!0===i._initSession(t)&&(i._videoSessions[e.sessionId]=t,i._lastCreatedSessionId=e.sessionId)}}},_logPCRestricted:function(e,t){return t.type=i.VIDEO,t.subtype=n.VIDEO_PCRESTRICTED,t.area=e.area,t.assetId=e.assetId,t.restrictionType=e.restrictionType,t},_logVideoStateChangeEvent:function(e,t){var r,a=this,l=!1;if(r=a._videoSessions[e.sessionId],void 0!==r&&(void 0!==e.videoProgress&&(r.lastVideoProgress=e.videoProgress),!1===r.sentStartEvent&&void 0!==r.lastVideoProgress&&(t.type=i.VIDEO,t.subtype=n.VIDEO_START,t.videoSessionId=e.sessionId,t=a._updateVideoEventFromSession(t,r),l=!0,r.sentStartEvent=!0),e.playbackState===o.PLAYING?r.timer.start():r.timer.stop(),e.playbackState===o.SEEKING&&!0===r.sentStartEvent&&(t.type=i.VIDEO,t.subtype=n.VIDEO_STATECHANGE,t.state=s.SEEK,t.videoSessionId=e.sessionId,t=a._updateVideoEventFromSession(t,r),t.seekStart=Math.round(e.lastVideoProgress),t.seekEnd=t.videoPosition,t.mode=e.lastVideoProgress<r.lastVideoProgress?s.FASTFORWARD:s.REWIND,void 0!==t.viewableId&&(l=!0)),e.playbackState!==o.CLOSED&&e.playbackState!==o.ENDED||!0!==r.sentStartEvent||(t.type=i.VIDEO,t.subtype=n.VIDEO_STOP,t.watchedTimeSeconds=Math.round(r.timer.elapsedTime/1e3),t.videoSessionId=e.sessionId,t=a._updateVideoEventFromSession(t,r),e.playbackState===o.ENDED&&(t.videoPosition=t.duration),void 0!==t.viewableId&&(l=!0),delete a._videoSessions[e.sessionId])),!0===l)return t},_updateVideoEventFromSession:function(e,t){return void 0!==t.videoEventData&&void 0!==t.lastVideoProgress&&(e.viewableId=t.videoEventData.assetId,e.editId=t.videoEventData.mediaId,this._videoFieldsToCopy.forEach(function(i){e[i]=t.videoEventData[i]}),e.videoPosition=Math.round(t.lastVideoProgress)),e},_initSession:function(e){return!1!==e.videoEventData.isMainVideo&&(e.timer=r.new(),!0)}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphWatchlistEventHandler",["core/oop","dataservices/analytics/ITelegraphEventHandler","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes"],function(e,t,i,n){return e.classDef("dataservices.analytics.TelegraphWatchlistEventHandler",[t],function(){e.singleton(function(){}),e.properties({_handlerName:{defaultValue:"TelegraphWatchlistEventHandler"}}),e.methods({getHandlerPromise:function(){},handleEvent:function(e,t){return t.type=i.WATCHLIST,"manipulatedwatchlist"===e.type?(e.added?t.subtype=n.WATCHLIST_ADD:t.subtype=n.WATCHLIST_REMOVE,t.contentId=e.contentId,t):"continuewatchingclear"===e.type?(t.subtype=n.WATCHLIST_CLEAR_CONTINUE_WATCHING,t):void 0},getHandlerName:function(){return this._handlerName}})})})}(),function(){"use strict";define("dataservices/dependent/analytics/TelegraphService",["core/oop","core/uuid","core/Debug","core/logging/Levels","core/logging/MessageLogEntry","dataservices/dependent/ServiceHttpClient","platform/dependent/User","engine/dependent/Time","core/uriUtils","dataservices/dependent/uris","dataservices/analytics/ITelegraphService","dataservices/analytics/TelegraphHelper","dataservices/analytics/TelegraphAppEventHandler","dataservices/analytics/TelegraphChromecastEventHandler","dataservices/analytics/TelegraphNavigationEventHandler","dataservices/analytics/TelegraphPurchaseEventHandler","dataservices/analytics/TelegraphSearchEventHandler","dataservices/analytics/TelegraphSimpleEventHandler","dataservices/analytics/TelegraphTelemetryEventHandler","dataservices/analytics/TelegraphUserEventHandler","dataservices/analytics/TelegraphUserInteractionEventHandler","dataservices/analytics/TelegraphVideoEventHandler","dataservices/analytics/TelegraphWatchlistEventHandler","dataservices/authentication/AuthenticationManager","lib/Promise","core/PromiseManager","application/ClientApplication","application/ClientDevice","dataservices/DataServicesSettings","platform/dependent/Storage"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x){return e.classDef("dataservices.dependent.analytics.TelegraphService",[d,R],function(i){e.singleton(function(){i.$ctor.call(this)}),e.properties({_messageIndex:{defaultValue:0},_campaignSent:{defaultValue:!1},_commonObjects:void 0,_lastEventTimestamp:void 0,_extraAdDataIdsAllEvents:{defaultValue:["adobe.mcmid","android.advertisingId","android.androidId","android.androidUserAgent","android.adTrackingEnabled","appsflyer.appsflyerId"]},SESSION_TTL:{defaultValue:18e5,readOnlyField:!0}}),e.methods({logRemotely:function(e){this._checkForSessionRestart(e);var t=this;switch(e.type){case"videoplay":b.singleton.logVideoPlayEvent(e);break;case"pcrestricted":case"videostatechange":this._initAndHandleEvent(b.singleton,e);break;case"deeplinklaunched":case"deviceactivate":case"devicedeactivate":case"deviceactivationtimeout":this._initAndHandleEvent(p.singleton,e);break;case"defaultsearchinvoke":case"searchtermupdate":case"searchresultinvoke":this._initAndHandleEvent(m.singleton,e);break;case"signin":case"reauthentication":this._initAndHandleEvent(y.singleton,e);break;case"performancetiming":this._initAndHandleEvent(_.singleton,e);break;case"userinteraction":this._initAndHandleEvent(w.singleton,e);break;case"pointerdown":case"popupshow":case"viewshown":this._initAndHandleEvent(g.singleton,e);break;case"chromecaststartstop":this._initAndHandleEvent(h.singleton,e);break;case"manipulatedwatchlist":case"continuewatchingclear":this._initAndHandleEvent(S.singleton,e);break;case"purchasesuccessful":this._initAndHandleEvent(f.singleton,e);break;case"pageview":void 0!==t._campaignSent&&!1===t._campaignSent&&(t._commonObjects.campaignSent=!1,g.singleton.setupCommonObjects(t._commonObjects)),this._initAndHandlePromise(g.singleton,e),t._campaignSent=!0;break;case"viewportchange":this._initAndHandleEvent(w.singleton,e);break;case"simple":this._initAndHandleEvent(v.singleton,e);break;default:o.new({message:"TelegraphService received an unsupported logEntry type: "+e.type,area:"dataservices.analytics.TelegraphService.logRemotely",verbosity:n.WARNING}).log();break;case"devonly":this.initializeEvent().then(function(i){return t.handleEvent(u.logDevOnly(i,e))}).catch(function(){})}},initializeEvent:function(){var e=this;return T.props({isLoggedIn:C.singleton.login(),trackingID:a.singleton.trackingID,extraAdData:a.singleton.getExtraAdvertisingData()}).then(function(t){var i=new Date(s.singleton.now()),n=i.getTimezoneOffset()/-60,o=E.singleton,r=P.singleton,a={manufacturer:o.manufacturer,brand:o.brand,osVersion:o.osVersion,serial:o.serial,device:o.analyticsName,fullDevice:o.fullAnalyticsName,model:o.model,appVersion:r.version,shellVersion:r.shellVersion,serviceCode:I.singleton.code,productType:I.singleton.analyticsProductType,internalCampaign:I.singleton.internalAnalyticsCampaign,externalCampaign:I.singleton.externalAnalyticsCampaign,design:r.buildDesign,deviceCode:o.code,deviceLocale:o.locale,sessionId:r.sessionId,timestamp:Math.round(i),timeZoneOffset:n,sessionSequence:e._messageIndex++,advertisingID:t.trackingID,isLoggedIn:t.isLoggedIn,isPhone:o.isPhone,eventSource:"hadron"};return void 0!==t.extraAdData&&u.copyProps(t.extraAdData,a,e._extraAdDataIdsAllEvents,"extraAdData."),!0!==I.singleton.productionAnalytics&&(a.testAnalytics="client"),a})},handleEvent:function(e){var t=this,i={events:[e]};return r.singleton.post(l.format(c.postTelegraph),[],JSON.stringify(i)).catch(function(e){o.new({message:"TelegraphService remote logging failed.  Reason: "+e,area:"dataservices.analytics.TelegraphService.logRemotely",verbosity:n.WARNING}).log(),t._recordLogFailure()})},start:function(){var e=this;this._setupCommonObjects().then(function(){return e.initializeEvent().then(function(t){e.handleEvent(p.singleton.handleLaunchEvent(t))}).then(function(){u.logSessionStart(!1)})}).catch(function(){});var t=this._readAndClearLogFailures();u.maybeLogStartupTelemetry(t)},_checkForSessionRestart:function(e){var t=e.timestamp-this._lastEventTimestamp;this._lastEventTimestamp=e.timestamp,!isNaN(t)&&t>=this.SESSION_TTL&&!b.singleton.hasActiveVideoSessions()&&this._startNewSession()},_setupCommonObjects:function(){return this._commonObjects={},this._commonObjects.application=I.singleton,this._commonObjects.device=E.singleton,p.singleton.setupCommonObjects(this._commonObjects)},_startNewSession:function(){P.singleton.sessionId=t.create(),this._messageIndex=0,u.logSessionStart(!0)},_initAndHandleEvent:function(e,t){var i=this;this.runIndependentlyUntilDisposed("_initAndHandleEvent",function(){return i.initializeEvent().then(function(n){var o=e.handleEvent(t,n);if(void 0!==o)return i.handleEvent(o)}).catch(function(t){o.new({message:e.getHandlerName()+" Logging failed. Reason: "+t,area:"dataservices.analytics.TelegraphService.logRemotely",verbosity:n.WARNING}).log()})})},_initAndHandlePromise:function(e,t){var i=this;this.runIndependentlyUntilDisposed("_initAndHandlePromise",function(){return i.initializeEvent().then(function(n){return e.getHandlerPromise(t,n).then(function(e){return i.handleEvent(e)})}).catch(function(t){o.new({message:e.getHandlerName()+" Logging failed. Reason: "+t,area:"dataservices.analytics.TelegraphService.logRemotely",verbosity:n.WARNING}).log()})})},_recordLogFailure:function(){var e=x.singleton.readSync(u.TELEGRAPHERRCOUNT_KEY),t=parseInt(e,10);isNaN(t)&&(t=0),t++,x.singleton.writeSync(u.TELEGRAPHERRCOUNT_KEY,t.toString())},_readAndClearLogFailures:function(){var e=x.singleton.readSync(u.TELEGRAPHERRCOUNT_KEY),t=parseInt(e,10);return isNaN(t)&&(t=0),x.singleton.writeSync(u.TELEGRAPHERRCOUNT_KEY,"0"),t}})})})}(),function(){"use strict";define("dataservices/analytics/VideoQoSEventHandler",["core/oop","core/logging/TelegraphEventTypes","core/logging/TelegraphEventSubtypes","dataservices/dependent/analytics/TelegraphService","platform/common/PlaybackState","lib/lodash/objects/merge"],function(e,t,i,n,o,r){return e.classDef("dataservices.analytics.VideoQoSEventHandler",Object,function(){e.singleton(function(){}),e.methods({createSession:function(e,t){var n=e.toJSON();return n.videoQoSSessionId=t,this._sendEvent(i.VIDEO_QOS_START,n)},updateSession:function(e,t,n,r){var a=e.toJSON();return a.videoQoSSessionId=t,a.playbackState=o.getName(n),a.lastVideoProgress=r||-1,this._sendEvent(i.VIDEO_QOS_STATE_CHANGE,a)},notifyBitrateChanged:function(e,t,n){var o=e.toJSON();return o.videoQoSSessionId=t,o.bitrate=n,this._sendEvent(i.VIDEO_QOS_BITRATE_CHANGE,o)},notifyCustomEvent:function(e,t,n,o){var a=void 0!==e?e.toJSON():{};a.videoQoSSessionId=t||-1,a.customEventName=n,void 0!==o&&(a=r(a,o));var s="castingStart"===n?i.VIDEO_QOS_CHROMECAST_START:i.VIDEO_QOS_CHROMECAST_STOP;return this._sendEvent(s,a)},notifyError:function(e,t,n){var o=e.toJSON();return o.videoQoSSessionId=t,o.errorCode=n,this._sendEvent(i.VIDEO_QOS_ERROR,o)},closeSession:function(e,t){var n=e.toJSON();return n.videoQoSSessionId=t,this._sendEvent(i.VIDEO_QOS_END,n)},_sendEvent:function(e,i){return n.singleton.initializeEvent().then(function(o){return o.type=t.VIDEO_QOS,o.subtype=e,o=r(o,i),n.singleton.handleEvent(o)})}})})})}(),function(){"use strict";define("dataservices/analytics/VideoQoSLogHandler",["core/oop","dataservices/VideoSessionLogHandler","platform/common/PlaybackErrors","platform/common/PlaybackState","platform/dependent/NativeDialogType","platform/dependent/Process","platform/dependent/AirPlay","dataservices/dependent/analytics/ConvivaService","lib/lodash/objects/forIn","dataservices/analytics/VideoQoSEventHandler"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("dataservices.analytics.VideoQoSLogHandler",t,function(t){e.constructor(function(e){t.$ctor.apply(this,[]),this._onSuspendCallback=this._onSuspend.bind(this),this._onResumeCallback=this._onResume.bind(this),this._isDevFlavor="dev"===e}),e.properties({_onSuspendCallback:void 0,_onResumeCallback:void 0,_isDevFlavor:{defaultValue:!1},_isProcessActive:{defaultValue:!0}}),e.methods({_onSuspend:function(){!0!==a.singleton.isExternalDisplayActive&&l(this._sessions,function(e){void 0!==e.convivaSessionId&&!0!==e.isPipActive&&(s.singleton.closeSession(e.convivaSessionId),c.singleton.closeSession(e.videoEventData,e.convivaSessionId),e.convivaSessionId=void 0)}),this._isProcessActive=!1},_onResume:function(){this._isProcessActive=!0,l(this._sessions,function(e){void 0!==e.videoEventData&&(e.videoEventData.wasResumed=!0)})},_initSession:function(e){return!1!==s.singleton.isEnabled&&(0===this._activeSessionCount&&(r.singleton.suspended.on(this._onSuspendCallback),r.singleton.resumed.on(this._onResumeCallback)),void 0!==e.videoEventData&&(e.videoEventData.wasResumed=!1),e.gotToPlayingState=!1,e.convivaSessionId=s.singleton.createSession(e.videoEventData),c.singleton.createSession(e.videoEventData,e.convivaSessionId),!0)},_updateSession:function(e,t){t===n.PLAYING&&(e.gotToPlayingState=!0),void 0===e.convivaSessionId&&!0===this._isProcessActive&&(e.convivaSessionId=s.singleton.createSession(e.videoEventData),c.singleton.createSession(e.videoEventData,e.convivaSessionId)),void 0!==e.convivaSessionId&&(s.singleton.updateSession(e.convivaSessionId,t,e.lastVideoProgress),c.singleton.updateSession(e.videoEventData,e.convivaSessionId,t,e.lastVideoProgress))},_endSession:function(e){void 0!==e.convivaSessionId&&(r.singleton.inAutomation||!this._isDevFlavor||e.gotToPlayingState||r.singleton.openNativeDialog(o.ALERT,"Developer Warning","EBVS triggered, if this was not intentional file a bug","OK","Cancel"),s.singleton.closeSession(e.convivaSessionId),c.singleton.closeSession(e.videoEventData,e.convivaSessionId),e.convivaSessionId=void 0),1===this._activeSessionCount&&(r.singleton.suspended.off(this._onSuspendCallback),r.singleton.resumed.off(this._onResumeCallback))},_errorSession:function(e,t,n){if(void 0!==e.convivaSessionId){var o=i.getName(t)+(void 0!==n?": "+n:"");s.singleton.notifyError(e.convivaSessionId,o),c.singleton.notifyError(e.videoEventData,e.convivaSessionId,o)}},_sessionBitrateChanged:function(e,t){void 0!==e.convivaSessionId&&(s.singleton.notifyBitrateChanged(e.convivaSessionId,t),c.singleton.notifyBitrateChanged(e.videoEventData,e.convivaSessionId,t))},_sessionPipChanged:function(e,t){e.isPipActive=t},_handleChromeCastEvent:function(e,t,i){var n=void 0!==e?e.convivaSessionId:void 0,o=void 0!==e?e.videoEventData:void 0;s.singleton.notifyCustomEvent(n,t,i),c.singleton.notifyCustomEvent(o,n,t,i)}})})})}(),function(){"use strict";define("dataservices/analytics/BusinessIntelligenceServiceWatchEvents",["core/oop"],function(e){return e.enumDef("dataservices.analytics.BusinessIntelligenceServiceWatchEvents",{START:"1",FIVEMINUTE:"2",EXIT:"3"})})}(),define("lib/lodash/arrays/remove",["../functions/createCallback"],function(e){function t(t,i,o){var r=-1,a=t?t.length:0,s=[];for(i=e(i,o,3);++r<a;){var l=t[r];i(l,r,t)&&(s.push(l),n.call(t,r--,1),a--)}return s}var i=[],n=i.splice;return t}),function(){"use strict";define("dataservices/dependent/analytics/BaseBusinessIntelligenceService",["core/oop","core/Exception","lib/Promise","core/logging/Levels","platform/dependent/Storage","engine/dependent/Time","core/data/ModelFactory","dataservices/analytics/BusinessIntelligenceServiceWatchEvents","lib/lodash/objects/clone","lib/lodash/arrays/remove","design/ScreenUtil","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d,u){return e.classDef("dataservices.dependent.analytics.BaseBusinessIntelligenceService",[Object],function(){e.constructor(function(){this._workToProcess=[],this._isProcessing=!1}),e.properties({_watchEventQueueKey:{defaultValue:"dataservices.analytics.BaseBusinessIntelligenceService.watchEventQueue"},_watchEventPlaceholderKey:{defaultValue:"dataservices.analytics.BaseBusinessIntelligenceService.watchEventPlaceholder"},_existingPromise:void 0,_workToProcess:void 0,_isProcessing:void 0,_serviceHeaders:{defaultValue:[{header:"Content-Type",value:"application/x-www-form-urlencoded"}]}}),e.methods({writeWatchEvent:function(e,o,c,p,h,g,f,m){if(!1===m||e===s.START){var v=this,_=new Date(r.singleton.now()),y=_.toISOString(),w=_.getTimezoneOffset()/-60,b=a.singleton.create("User","User");v._addWorkItem(function(r){var a;b.affiliate.then(function(e){return i.props({userId:b.userId,affiliateCode:void 0===e?void 0:e.code})}).then(function(t){var i=t.userId||"User Not Logged In",n="HBO";return!0===d.singleton.byBrand({hbonow:!0})?(n="HBONOW",i=i.replace(/^mlbam-/,"")):!0===d.singleton.byBrand({maxgo:!0})&&(n="MAX"),a={userId:i,affiliateCode:t.affiliateCode||"User Not Logged In",timestamp:y,timeZoneOffset:w,eventType:e,assetId:o,cutId:c,mediaId:p,videoSessionId:h,videoProgressTime:g,elapsedPlayTimeMS:f,serviceCode:n,deviceCode:u.singleton.code,deviceCommonName:u.singleton.fullAnalyticsName||u.singleton.analyticsName,platformCode:u.singleton.platform},v._addWatchEventToQueue(a)}).then(function(){if(!1===m){if(e===s.START){var t=l(a);return t.eventType=s.EXIT,v._addPlaceholderExit(t)}if(e===s.EXIT)return v._removePlaceholderExit(a)}}).then(function(){return v._flushWatchEventQueue()}).then(function(){r.resolve()}).catch(function(e){t.wrap(e,{message:"Failed to write and flush a watch event.",level:n.WARNING,area:"dataservices.analytics.BaseBusinessIntelligenceService.writeWatchEvent"}).ignore(),r.resolve()})})}},updateWatchEvent:function(e,i){var o=this;o._addWorkItem(function(a){o._actOnPlaceholderExits(function(t){for(var n,a=0;a<t.length;a++){var s=t[a];if(s.videoSessionId===e){n=s;break}}if(void 0!==n)return n.timestamp=new Date(r.singleton.now()).toISOString(),n.elapsedPlayTimeMS=i,o._storePlaceholderExits(t)}).catch(function(e){t.wrap(e,{message:"Failed to update last watched time.",level:n.WARNING,area:"dataservices.analytics.BaseBusinessIntelligenceService.updateWatchEvent"}).ignore()}).finally(function(){a.resolve()})})},_processWorkItems:function(){var e=this;if(!1===this._isProcessing&&this._workToProcess.length>0){var t=this._workToProcess[0],n=i.pending();this._isProcessing=!0,t(n),n.promise.finally(function(){e._finishWorkItem()})}},_addWorkItem:function(e){this._workToProcess.push(e),this._processWorkItems()},_finishWorkItem:function(){this._workToProcess.splice(0,1),this._isProcessing=!1,this._processWorkItems()},_flushWatchEventQueue:function(){var e=this;return this._actOnWatchQueue(function(t){if(t.length>0){var n=i.pending();return i.all(t.map(function(t){return e._flushSingleEvent(t,function(){return e._removeWatchEventFromQueue(t)})})).then(function(){n.fulfill()}).catch(function(e){n.reject(e)}),n.promise}})},_flushPlaceholderExits:function(){var e=this;return this._actOnPlaceholderExits(function(t){if(t.length>0){var n=i.pending();return i.all(t.map(function(t){return e._flushSingleEvent(t,function(){return e._removePlaceholderExit(t)})})).then(function(){n.fulfill()}).catch(function(e){n.reject(e)}),n.promise}})},_flushSingleEvent:function(){},_addWatchEventToQueue:function(e){var t=this;return t._actOnWatchQueue(function(i){return i.push(e),t._storeWatchEventQueue(i)})},_removeWatchEventFromQueue:function(e){var t=this;return t._actOnWatchQueue(function(i){return c(i,function(t){return t.videoSessionId===e.videoSessionId}),t._storeWatchEventQueue(i)})},_actOnWatchQueue:function(e){return o.singleton.read(this._watchEventQueueKey).then(function(t){var i=void 0===t?[]:JSON.parse(t);return e(i)})},_storeWatchEventQueue:function(e){return e=JSON.stringify(e),o.singleton.write(this._watchEventQueueKey,e)},_addPlaceholderExit:function(e){var t=this;return t._actOnPlaceholderExits(function(i){return i.push(e),t._storePlaceholderExits(i)})},_removePlaceholderExit:function(e){var t=this;return t._actOnPlaceholderExits(function(i){return c(i,function(t){return t.videoSessionId===e.videoSessionId}),t._storePlaceholderExits(i)})},_actOnPlaceholderExits:function(e){return o.singleton.read(this._watchEventPlaceholderKey).then(function(t){var i=void 0===t?[]:JSON.parse(t);return e(i)})},_storePlaceholderExits:function(e){return e=JSON.stringify(e),o.singleton.write(this._watchEventPlaceholderKey,e)}})})})}(),function(){"use strict";define("dataservices/analytics/IBusinessIntelligenceService",["core/oop"],function(e){return e.interfaceDef("dataservices.analytics.IBusinessIntelligenceService",void 0,function(){e.singleton(),e.methods({writeWatchEvent:void 0,updateWatchEvent:void 0})})})}(),function(){"use strict";define("dataservices/dependent/analytics/BusinessIntelligenceService",["core/oop","dataservices/dependent/analytics/BaseBusinessIntelligenceService","core/Exception","core/logging/Levels","core/Startup","dataservices/analytics/IBusinessIntelligenceService","platform/HttpClient","core/uriUtils","dataservices/dependent/uris","dataservices/DataServicesSettings","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c,d){var u=e.classDef("dataservices.dependent.analytics.BusinessIntelligenceService",[t,r],function(t){e.staticScope(function(){e.constructor(function(){this._registerStartupTask()}),e.methods({_registerStartupTask:function(){o.singleton.register("dataservices.analytics.BusinessIntelligenceService",function(){return u.singleton._flushWatchEventQueue().catch(function(e){i.wrap(e,{message:"Failed to flush the watch events queue.",level:n.WARNING,area:"dataservices.analytics.BusinessIntelligenceService._registerStartupTask"}).ignore()}).then(function(){return u.singleton._flushPlaceholderExits()}).catch(function(e){i.wrap(e,{message:"Failed to flush placeholder data.",level:n.WARNING,area:"dataservices.analytics.BusinessIntelligenceService._registerStartupTask"}).ignore()})})}})}),e.singleton(function(){t.$ctor.apply(this,arguments)}),e.methods({_hurleyHackToFitIntoDatabase:function(e){if(void 0!==e)return e.substr(1)},_flushSingleEvent:function(e,t){var i="event=<WatchEventRequest><userTkey>"+a.encodeXMLText(e.userId)+"</userTkey><affiliateTkey>"+a.encodeXMLText(e.affiliateCode)+"</affiliateTkey><eventTimestamp>"+a.encodeXMLText(e.timestamp)+"</eventTimestamp><timeOffsetCode>"+a.encodeXMLText(e.timeZoneOffset)+"</timeOffsetCode><eventType>"+a.encodeXMLText(e.eventType)+"</eventType><assetTkey>"+a.encodeXMLText(this._hurleyHackToFitIntoDatabase(e.assetId))+"</assetTkey><offeringTkey>none</offeringTkey><mediakey>"+a.encodeXMLText(this._hurleyHackToFitIntoDatabase(e.mediaId))+"</mediakey><playId>"+a.encodeXMLText(e.videoSessionId)+"</playId><videoTimeMarkerNumber>"+a.encodeXMLText(Math.floor(e.videoProgressTime))+"</videoTimeMarkerNumber><elapsedPlaySeconds>"+a.encodeXMLText(Math.floor(e.elapsedPlayTimeMS/1e3))+"</elapsedPlaySeconds><serviceTkey>"+a.encodeXMLText(e.serviceCode)+"</serviceTkey><deviceCode>"+a.encodeXMLText(e.deviceCode)+"</deviceCode><deviceCommonName>"+a.encodeXMLText(e.deviceCommonName)+"</deviceCommonName><platformCode>"+a.encodeXMLText(e.platformCode)+"</platformCode></WatchEventRequest>";return a.singleton.post(s.format(l.watchEventService,void 0,{deviceCode:d.singleton.code,serviceCode:c.singleton.code}),this._serviceHeaders,i).then(function(){return t()})}})});return u})}(),function(){"use strict";define("dataservices/analytics/BusinessIntelligenceLogHandler",["core/oop","dataservices/VideoSessionLogHandler","dataservices/analytics/BusinessIntelligenceServiceWatchEvents","dataservices/dependent/analytics/BusinessIntelligenceService","platform/common/PlaybackState","platform/diagnostics/Timer"],function(e,t,i,n,o,r){return e.classDef("dataservices.analytics.BusinessIntelligenceLogHandler",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({_fiveMinuteTime:{defaultValue:3e5}}),e.methods({_initSession:function(e){return!1!==e.videoEventData.isMainVideo&&(e.sentFiveMinute=!1,e.sentStartEvent=!1,e.timer=r.new(),!0)},_updateSession:function(e,t){t===o.PLAYING?(e.timer.start(),this._sendStartIfRequired(e)):e.timer.stop(),this._pingSession(e)},_endSession:function(e){this._sendWatchEvent(e,i.EXIT)},_pingSession:function(e){this._sendFiveMinuteIfRequired(e),n.singleton.updateWatchEvent(e.id,e.timer.elapsedTime)},_errorSession:function(e){e.timer.stop()},_sendStartIfRequired:function(e){!1===e.sentStartEvent&&(e.sentStartEvent=this._sendWatchEvent(e,i.START))},_sendFiveMinuteIfRequired:function(e){!1===e.sentFiveMinute&&e.timer.elapsedTime>this._fiveMinuteTime&&(e.sentFiveMinute=this._sendWatchEvent(e,i.FIVEMINUTE))},_sendWatchEvent:function(e,t){return void 0!==e.lastVideoProgress&&(n.singleton.writeWatchEvent(t,e.videoEventData.assetAnalyticsId,e.videoEventData.cutId,e.videoEventData.mediaId,e.id,e.lastVideoProgress,e.timer.elapsedTime,e.videoEventData.isPreview),!0)}})})})}(),function(){"use strict";define("platform/diagnostics/ConsoleLogHandler",["core/oop","core/logging/LogHandler","platform/dependent/diagnostics/ConsoleLogger","core/logging/Filter","core/logging/Logger"],function(e,t,i,n,o){return e.classDef("platform.diagnostics.ConsoleLogHandler",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments),this.filters.add(n.new({area:/.*/,type:/^(?:(?!counter).)*$/,config:{verbosity:o.Levels.INFO}}))}),e.methods({_log:function(e){i.singleton.log(e.toJSON())}})})})}(),function(){"use strict";define("platform/diagnostics/InputCountersLogHandler",["core/oop","core/logging/LogHandler","core/logging/Filter","core/logging/Counters","core/logging/Levels"],function(e,t,i,n,o){return e.classDef("platform.diagnostics.InputCountersLogHandler",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments);var e=["button","pointer","command"];this.filters.add(i.new({area:/.*/,type:new RegExp(e.join("|")),config:{verbosity:o.DIAG}}))}),e.methods({_log:function(e){"button"===e.type?"pressed"===e.event?n.singleton.incrementCounter("Buttons.Pressed"):"repeated"===e.event?n.singleton.incrementCounter("Buttons.Repeated"):"released"===e.event&&n.singleton.incrementCounter("Buttons.Released"):"pointer"===e.type?"down"===e.event?n.singleton.incrementCounter("Pointers.Down"):"move"===e.event?n.singleton.incrementCounter("Pointers.Move"):"up"===e.event?n.singleton.incrementCounter("Pointers.Up"):"cancel"===e.event&&n.singleton.incrementCounter("Pointers.Cancel"):"command"===e.type&&n.singleton.incrementCounter("Commands.Text")}})})})}(),function(){"use strict";define("dataservices/dependent/BaseStreamTrackingService",["core/oop","lib/Promise","core/logging/MessageLogEntry","core/logging/Levels"],function(e,t,i,n){return e.classDef("dataservices.dependent.BaseStreamTrackingService",[Object],function(){e.constructor(function(){}),e.methods({_handleKeepAliveFailure:function(e){i.new({message:"keepAlive failed.  Reason: "+e,area:"dataservices.dependent.BaseStreamTrackingService._handleKeepAliveFailure",verbosity:n.WARNING}).log()},_handleReleaseLockFailure:function(e){i.new({message:"releaseLock failed.  Reason: "+e,area:"dataservices.dependent.BaseStreamTrackingService._handleReleaseLockFailure",verbosity:n.WARNING}).log()},keepAlive:function(){return this._makeKeepAliveCall()},_makeKeepAliveCall:function(){return t.fulfilled()},releaseLock:function(){return this._makeReleaseLockCall()},_makeReleaseLockCall:function(){return t.fulfilled()}})})})}(),function(){"use strict";define("dataservices/dependent/IStreamTrackingService",["core/oop"],function(e){return e.interfaceDef("dataservices.dependent.IStreamTrackingService",void 0,function(){e.singleton(),e.methods({keepAlive:void 0,releaseLock:void 0})})})}(),function(){"use strict";define("dataservices/dependent/StreamTrackingService",["core/oop","dataservices/dependent/BaseStreamTrackingService","core/uriUtils","dataservices/dependent/uris","dataservices/dependent/IStreamTrackingService","dataservices/dependent/ServiceHttpClient"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.StreamTrackingService",[o,t],function(){e.singleton(function(){}),e.methods({_makeKeepAliveCall:function(){return r.singleton.put(i.format(n.getStreamTracking)).catch(this._handleKeepAliveFailure)},_makeReleaseLockCall:function(){return r.singleton.del(i.format(n.getStreamTracking)).catch(this._handleReleaseLockFailure)}})})})}(),function(){"use strict";define("dataservices/authentication/StreamTrackingLogHandler",["core/oop","dataservices/DataServicesDeveloperSettings","dataservices/VideoSessionLogHandler","dataservices/dependent/StreamTrackingService","platform/diagnostics/Timer"],function(e,t,i,n,o){return e.classDef("dataservices.authentication.StreamTrackingLogHandler",i,function(i){e.constructor(function(){i.$ctor.apply(this,arguments)}),e.properties({_keepAliveTime:{defaultValue:9e5}}),e.methods({_initSession:function(e){return!!this._needStreamTracking(e.videoEventData)&&(e.timer=o.new(),e.timer.start(),!0)},_endSession:function(){this._tryRelease()},_pingSession:function(e){e.timer.elapsedTime>this._keepAliveTime&&(e.timer.reset(),e.timer.start(),n.singleton.keepAlive())},_tryRelease:function(){1===this._activeSessionCount&&n.singleton.releaseLock()},_needStreamTracking:function(e){return!0!==t.singleton.ignoreGOST&&(!0===e.isSecure&&!0===e.isMainVideo&&!1===e.isFree&&!1===e.isPreview)}})})})}(),function(){"use strict";define("platform/dependent/IMediaController",["core/oop","core/IDisposable"],function(e,t){return e.interfaceDef("platform.dependent.IMediaController",t,function(){e.singleton(),e.properties({refreshInterval:{get:void 0}}),e.events(["positionChanged"]),e.methods({setContentMetadata:void 0})})})}(),function(){"use strict"
;define("platform/dependent/MediaController",["core/oop","platform/dependent/IMediaController","core/Disposable"],function(e,t,i){return e.classDef("platform.dependent.MediaController",[i,t],function(){e.singleton(function(){this._created()}),e.properties({refreshInterval:{defaultValue:5e3}}),e.events(["positionChanged"]),e.methods({setContentMetadata:function(){}})})})}(),function(){"use strict";define("dataservices/ContentMetadataLogHandler",["core/oop","dataservices/VideoSessionLogHandler","platform/common/PlaybackState","platform/dependent/MediaController","platform/diagnostics/Timer"],function(e,t,i,n,o){return e.classDef("dataservices.ContentMetadataLogHandler",t,function(t){e.constructor(function(){t.$ctor.apply(this,arguments)}),e.properties({_currentSessionId:void 0,_refreshTime:void 0}),e.methods({_initSession:function(e){return e.timer=o.new(),e.timer.start(),e.playbackState=i.OPENING,this._refreshTime=n.singleton.refreshInterval,this._currentSessionId=e.id,n.singleton.setContentMetadata(e.videoEventData,e.playbackState,0,e.displayMetadata),!0},_updateSession:function(e,t){this._currentSessionId===e.id&&(e.playbackState=t,void 0!==e.lastVideoProgress&&n.singleton.setContentMetadata(e.videoEventData,e.playbackState,e.lastVideoProgress,e.displayMetadata))},_endSession:function(e){this._currentSessionId===e.id&&(this._updateSession(e,i.CLOSED),this._currentSessionId=void 0)},_pingSession:function(e){this._currentSessionId===e.id&&e.timer.elapsedTime>this._refreshTime&&(e.timer.reset(),e.timer.start(),n.singleton.setContentMetadata(e.videoEventData,e.playbackState,e.lastVideoProgress,e.displayMetadata))},_errorSession:function(e){e.lastVideoProgress=0,this._updateSession(e,i.ENDED)}})})})}(),function(){"use strict";define("design/analytics/OmnitureLogHandler",["core/oop","dataservices/VideoSessionLogHandler","design/analytics/Omniture","platform/common/PlaybackState","platform/dependent/ClosedCaptioningSettings","lib/lodash/objects/forOwn","platform/diagnostics/Timer"],function(e,t,i,n,o,r,a){return e.classDef("design.analytics.OmnitureLogHandler",t,function(t){e.constructor(function(){this._initializeLogEntryTypeMap(),t.$ctor.apply(this,arguments),this._closedCaptioningEnabledChangedCallback=this._onClosedCaptioningEnabledChanged.bind(this),o.singleton.isEnabledChanged.on(this._closedCaptioningEnabledChangedCallback)}),e.properties({_logEntryTypeMap:void 0,_closedCaptioningEnabledChangedCallback:void 0,_pingInterval:{defaultValue:12e5},_sessionCompleteEvents:{defaultValue:[5,25,50,75,95,100]}}),e.methods({dispose:function(){t.dispose.apply(this,arguments),o.singleton.isEnabledChanged.off(this._closedCaptioningEnabledChangedCallback)},_initializeLogEntryTypeMap:function(){this._logEntryTypeMap={continuewatchingclear:function(){i.singleton.continueWatchingCleared()},continuewatchingdisable:function(){i.singleton.continueWatchingDisabled()},deeplinklaunched:function(){i.singleton.deepLinkLaunched()},deviceactivate:function(){i.singleton.deviceActivated()},devicedeactivate:function(){i.singleton.deviceDeactivated()},errorshow:function(e){var t=e.exceptionData.exceptionType;"dataservices.ContentRestrictedException"===t?i.singleton.affiliateRestrictedContentShown():i.singleton.errorShown(t)},pageview:function(){i.singleton.pageViewed()},pcdialog:function(e){i.singleton.pcDialogEvent(e.eventType)},pcrestricted:function(e){i.singleton.pcRestricted(e.restrictionType)},manipulatedwatchlist:function(e){i.singleton.manipulatedWatchlist(e.contentId,e.added)},restart:function(){i.singleton.restarted()},searchterminitiate:function(){i.singleton.searchTermInitiated()},searchresultinvoke:function(e){i.singleton.searchResultInvoked(e.searchTerm,e.searchResultInvoked)},tileinvoked:function(e){i.singleton.promoInvoked(e.promoPosition)},signin:function(){i.singleton.signedIn()},userinteraction:function(e){i.singleton.userInteractionEvent(e.target,e.contextualData)}}},_getLogEntryTypes:function(){return t._getLogEntryTypes.apply(this,arguments).concat(Object.keys(this._logEntryTypeMap))},_log:function(e){t._log.apply(this,arguments);var i=this._logEntryTypeMap[e.type];void 0!==i&&i(e)},_initSession:function(e){var t=e.videoEventData,n=o.singleton.isEnabled;return!0===t.isFirstVideo&&i.singleton.videoPlayed(e.videoEventData,n),!1!==t.isMainVideo&&(e.progressUpdates={},e.progressTimer=a.new(),e.pingTimer=a.new(),e.pingTimer.start(),e.isClosedCaptioningEnabled=n,e.closedCaptioningEnabledTimer=a.new(),!0)},_updateSession:function(e,t){t===n.PLAYING?(e.isPlaying=!0,e.progressTimer.start(),!0===e.isClosedCaptioningEnabled&&e.closedCaptioningEnabledTimer.start()):(e.isPlaying=!1,e.progressTimer.stop(),e.closedCaptioningEnabledTimer.stop(),t===n.CLOSED&&!0===o.singleton.isEnabled&&this._updateClosedCaptioningSession(e,!1)),this._pingSession(e)},_onClosedCaptioningEnabledChanged:function(e){r(this._sessions,function(t){this._updateClosedCaptioningSession(t,e)},this)},_updateClosedCaptioningSession:function(e,t){var n=e.closedCaptioningEnabledTimer.elapsedTime/1e3;i.singleton.closedCaptioningEnabledChanged(t,n,e.videoEventData),e.isClosedCaptioningEnabled=t,!1===t?e.closedCaptioningEnabledTimer.reset():!0===e.isPlaying&&e.closedCaptioningEnabledTimer.start()},_pingSession:function(e){e.pingTimer.elapsedTime>this._pingInterval&&(i.singleton.videoPing(),e.pingTimer.reset(),e.pingTimer.start());for(var t=1e3*e.videoEventData.duration,n=100*e.progressTimer.elapsedTime/t,o=0;o<this._sessionCompleteEvents.length;o++){var r=this._sessionCompleteEvents[o];n>=r&&!0!==e.progressUpdates[r]&&(e.progressUpdates[r]=!0,i.singleton.videoCompleted(r,e.videoEventData))}}})})})}(),function(){"use strict";define("dataservices/markers/PlaybackMarkerLogHandler",["core/oop","dataservices/VideoSessionLogHandler","dataservices/VideoPlayableStatus","dataservices/markers/PlaybackMarkerCache","dataservices/markers/SeriesMarkerCache","dataservices/authentication/AuthenticationManager","dataservices/types/SeriesMarkerStatus","platform/common/PlaybackState","platform/diagnostics/Timer","application/ClientDevice"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("dataservices.markers.PlaybackMarkerLogHandler",t,function(t){e.constructor(function(){t.$ctor.call(this)}),e.methods({_initSession:function(e){return e.sentCreditStartMarker=!1,!1!==e.videoEventData.isMainVideo&&!0!==e.videoEventData.isPreview&&e.videoEventData.playableStatus!==i.LIVE&&!0===r.singleton.isAuthenticated&&(e.timer=l.new(),e.timer.start(),!0)},_endSession:function(e){this._setPlaybackMarker(e,n.UpdatePolicy.FORCE)},_updateSession:function(e,t){if(t!==s.OPENING&&t!==s.SEEKING&&t!==s.BUFFERING){var i=t===s.CLOSED?n.UpdatePolicy.FORCE:n.UpdatePolicy.NORMAL;this._setPlaybackMarker(e,i)}var r=e.lastVideoProgress>e.videoEventData.completionTime;t===s.PLAYING&&!1===r&&o.singleton.updateMarkerForEpisode(e.videoEventData.assetId,a.CONTINUE)},_pingSession:function(e){var t=e.timer.elapsedTime>c.singleton.playbackMarkerUpdateIntervalMS,i=e.lastVideoProgress>e.videoEventData.completionTime;i&&!0!==e.sentCreditStartMarker&&(t=!0),!0===i&&o.singleton.updateMarkerForEpisode(e.videoEventData.assetId,a.NEXT),e.sentCreditStartMarker=i,!0===t&&this._setPlaybackMarker(e,n.UpdatePolicy.NORMAL)},_setPlaybackMarker:function(e,t){void 0!==e.lastVideoProgress&&(n.singleton.setMarker(e.videoEventData.cutId,e.lastVideoProgress,e.videoEventData.duration,e.videoEventData.completionTime,t),e.timer.reset(),e.timer.start())}})})})}(),function(){"use strict";define("platform/dependent/analytics/IGTMLogger",["core/oop"],function(e){return e.interfaceDef("platform.dependent.analytics.IGTMLogger",void 0,function(){e.singleton(),e.methods({log:void 0})})})}(),function(e){"use strict";define("platform/dependent/analytics/GTMLogger",["core/oop","core/Exception","core/logging/Levels","platform/dependent/analytics/IGTMLogger"],function(t,i,n,o){return t.classDef("platform.dependent.analytics.GTMLogger",[Object,o],function(){t.singleton(function(){this._global=e}),t.properties({_global:void 0}),t.methods({log:function(e){if(this._global.hasOwnProperty("dataLayer"))try{this._global.dataLayer.push(e)}catch(e){i.wrap(e,{message:"Error sending event to Google Tag Manager: "+e.message,level:n.WARNING,area:"platform.dependent.analytics.GTMLogger.log"}).logTelemetry()}}})})})}(this),function(){"use strict";define("dataservices/analytics/GTMLogHandler",["core/oop","core/Debug","core/logging/Filter","core/logging/Levels","core/logging/LogHandler","core/logging/TelegraphEventSubtypes","core/logging/TelegraphEventTypes","platform/dependent/analytics/GTMLogger","lib/lodash/objects/pick"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.analytics.GTMLogHandler",o,function(t){e.constructor(function(){t.$ctor.apply(this,arguments);var e=["simple"];this.filters.add(i.new({area:/.*/,type:new RegExp(e.join("|")),config:{verbosity:n.DIAG}}))}),e.methods({_log:function(e){if(this._shouldLog(e)){var t=this._filterPayloadProperties(e.payload);t.event=this._getGTMEventFromSubType(e.eventSubtype),s.singleton.log(t)}},_shouldLog:function(e){return e.eventType===a.COMMERCE||e.eventType===a.SUBSCRIPTION},_filterPayloadProperties:function(e){return l(e,["autoRenewEnabled","callToAction","commerceSessionId","entryUrl","error","hurleyId","origin","pageName","planId","purchaseType","ref","sessionId","userType"])},_getGTMEventFromSubType:function(e){switch(e){case r.COMMERCE_ACCOUNT_CREATION_FAILURE:return"commerceAccountCreationFailure";case r.COMMERCE_ACTION_CLICKED:return"commerceActionClicked";case r.COMMERCE_SCREEN_SHOWN:return"commerceScreenShown";case r.COMMERCE_SIGN_IN_FAILURE:return"commerceSignInFailure";case r.COMMERCE_SUBSCRIPTION_FAILURE:return"commerceSubscriptionFailure";case r.COMMERCE_SUBSCRIPTION_SUCCESS:return"commerceSubscriptionSuccess";case r.COMMERCE_PAYMENT_FAILURE:return"commercePaymentFailure";case r.COMMERCE_PAYMENT_SUCCESS:return"commercePaymentSuccess";case r.COMMERCE_USER_AUTHENTICATED:return"commerceUserAuthenticated";case r.COMMERCE_WORKFLOW_START:return"commerceWorkflowStart";case r.SUBSCRIPTION_TOGGLEAUTORENEW:return"subscriptionAutoRenewToggled"}}})})})}(),function(){"use strict";define("dataservices/analytics/ITelemetryService",["core/oop"],function(e){return e.interfaceDef("dataservices.analytics.ITelemetryService",void 0,function(){e.singleton(),e.methods({logRemotely:void 0})})})}(),function(){"use strict";define("dataservices/dependent/analytics/BaseTelemetryService",["core/oop","platform/dependent/Process","platform/dependent/diagnostics/Performance","application/ClientApplication","application/ClientDevice","dataservices/DataServicesSettings"],function(e,t,i,n,o,r){return e.classDef("dataservices.dependent.analytics.BaseTelemetryService",[Object],function(){e.constructor(function(){}),e.methods({_formatTimestampString:function(e){return new Date(e).toUTCString()},_formatData:function(e){var a=e.toJSON();if(a.deviceId=o.singleton.id,a.deviceLocale=o.singleton.locale,a.deviceModel=o.singleton.model||"(none)",a.applicationName=r.singleton.name,a.applicationVersion=n.singleton.version,a.buildTimestamp=n.singleton.buildTimestamp,a.buildFlavor=n.singleton.buildFlavor,a.buildClient=n.singleton.buildClient,a.commit=n.singleton.commit,a.environment=n.singleton.environment,a.timestampString=this._formatTimestampString(a.timestamp),a.serial=o.singleton.serial,a.sessionId=n.singleton.sessionId,a.osVersion=o.singleton.osVersion||"(none)",a.shellVersion=n.singleton.shellVersion||"(none)",a.playerVersion=n.singleton.playerVersion||"(none)",i.singleton.supportsHeapSizeCheck()){var s=i.singleton.getHeapSize()/1048576;a.heapSizeMB=s.toFixed(3)}return a.uptimeSeconds=t.singleton.uptime/1e3,a.launchClientTimestamp=t.singleton.launchClientTimestamp,a.launchClientTimestampString=this._formatTimestampString(t.singleton.launchClientTimestamp),a}})})})}(),function(){"use strict";define("dataservices/dependent/analytics/TelemetryService",["core/oop","core/logging/Levels","core/logging/MessageLogEntry","dataservices/dependent/ServiceHttpClient","core/uriUtils","dataservices/dependent/uris","dataservices/analytics/ITelemetryService","dataservices/dependent/analytics/BaseTelemetryService","dataservices/dependent/ServiceUtils"],function(e,t,i,n,o,r,a,s,l){return e.classDef("dataservices.dependent.analytics.TelemetryService",[a,s],function(){e.singleton(function(){}),e.methods({logRemotely:function(e){var a=this._formatData(e);a.filter="hadronClientException";var s,c=a.verbosity===t.ERROR?"error":"warn",d=[{severity:c,log:a}];void 0!==a.traceId&&(s=[{header:l.singleton.traceIdHeaderName,value:a.traceId}]),n.singleton.post(o.format(r.logTelemetry),s,JSON.stringify(d),!1).catch(function(e){i.new({message:"TelemetryService remote logging failed.  Reason: "+e,area:"dataservices.analytics.TelemetryService.logRemotely",verbosity:t.WARNING}).log()})}})})})}(),define("lib/lodash/collections/filter",["../internals/baseEach","../functions/createCallback","../objects/isArray"],function(e,t,i){function n(n,o,r){var a=[];if(o=t(o,r,3),i(n))for(var s=-1,l=n.length;++s<l;){var c=n[s];o(c,s,n)&&a.push(c)}else e(n,function(e,t,i){o(e,t,i)&&a.push(e)});return a}return n}),function(){"use strict";define("dataservices/analytics/TelemetryLogHandler",["core/oop","core/logging/Filter","core/logging/Levels","core/logging/LogHandler","dataservices/dependent/analytics/TelemetryService","core/logging/Logger","lib/lodash/collections/filter"],function(e,t,i,n,o,r,a){return e.classDef("dataservices.analytics.TelemetryLogHandler",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments);var e=["errorshow","giveup","telemetry"];this.filters.add(t.new({area:/.*/,type:new RegExp(e.join("|")),config:{verbosity:i.INFO}})),this._logWindows={default:{durationMS:36e5,limit:60,logTimes:[]},telemetry:{durationMS:36e5,limit:5,logTimes:[]}}}),e.properties({_logWindows:void 0}),e.methods({_log:function(e){!0===this._shouldLog(e)&&o.singleton.logRemotely(e)},_shouldLog:function(e){var t=this._logWindows[e.type]||this._logWindows.default,i=r.singleton.getTime(),n=i-t.durationMS;return t.logTimes=a(t.logTimes,function(e){return e>=n}),!(t.logTimes.length>=t.limit)&&(t.logTimes.push(i),!0)}})})})}(),function(){"use strict";define("dataservices/analytics/TelegraphLogHandler",["core/oop","core/logging/Filter","core/logging/Levels","core/logging/LogHandler","dataservices/dependent/analytics/TelegraphService"],function(e,t,i,n,o){return e.classDef("dataservices.analytics.TelegraphLogHandler",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments);var e=["deviceactivate","devicedeactivate","deviceactivationtimeout","videoplay","videostop","videostatechange","pcrestricted","signin","reauthentication","searchtermupdate","searchresultinvoke","defaultsearchinvoke","pageview","pointerdown","performancetiming","popupshow","userinteraction","deeplinklaunched","chromecaststartstop","manipulatedwatchlist","viewshown","purchasesuccessful","viewportchange","simple","devonly","continuewatchingclear"];this.filters.add(t.new({area:/.*/,type:new RegExp(e.join("|")),config:{verbosity:i.DIAG}}))}),e.properties({}),e.methods({_log:function(e){o.singleton.logRemotely(e)}})})})}(),function(){"use strict";define("ui/navigation/ExceptionRecoveryLogHandler",["core/oop","core/logging/Filter","core/logging/Levels","core/logging/LogHandler","ui/navigation/ExceptionManager"],function(e,t,i,n,o){return e.classDef("ui.navigation.ExceptionRecoveryLogHandler",n,function(n){e.constructor(function(){n.$ctor.apply(this,arguments);var e=["viewready"];this.filters.add(t.new({area:/.*/,type:new RegExp(e.join("|")),config:{verbosity:i.INFO}}))}),e.methods({_log:function(){o.singleton.resetRecoveryState()}})})})}(),function(){"use strict";define("configuration/LoggerConfig",["core/oop","automation/AutomationManager","core/logging/Logger","dataservices/analytics/VideoQoSLogHandler","dataservices/analytics/BusinessIntelligenceLogHandler","platform/diagnostics/ConsoleLogHandler","platform/diagnostics/HttpCountersLogHandler","platform/diagnostics/InputCountersLogHandler","dataservices/authentication/StreamTrackingLogHandler","dataservices/ContentMetadataLogHandler","design/analytics/OmnitureLogHandler","dataservices/markers/PlaybackMarkerLogHandler","dataservices/analytics/GTMLogHandler","dataservices/analytics/TelemetryLogHandler","dataservices/analytics/TelegraphLogHandler","ui/navigation/ExceptionRecoveryLogHandler","dataservices/PreferredBitrateLogHandler","engine/dependent/Time"],function(e,t,i,n,o,r,a,s,l,c,d,u,p,h,g,f,m,v){return e.classDef("configuration.LoggerConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){i.singleton.timeProvider=v.singleton,i.singleton.logHandlers.add(n.new(e.flavor)),i.singleton.logHandlers.add(h.new()),i.singleton.logHandlers.add(g.new()),i.singleton.logHandlers.add(o.new()),i.singleton.logHandlers.add(a.new()),i.singleton.logHandlers.add(l.new()),i.singleton.logHandlers.add(u.new()),i.singleton.logHandlers.add(f.new()),i.singleton.logHandlers.add(c.new()),i.singleton.logHandlers.add(m.singleton),"commerce"!==e.features.design&&i.singleton.logHandlers.add(d.new()),"browser"===e.client&&!0!==t.singleton.isRunning&&i.singleton.logHandlers.add(p.new()),!0===e.features.consoleLog&&i.singleton.logHandlers.add(r.new()),!0===e.features.inputLog&&i.singleton.logHandlers.add(s.new())}})})})})}(),function(){"use strict";define("configuration/DisposableTrackerConfig",["core/oop","core/DisposableTracker"],function(e,t){return e.classDef("configuration.DisposableTrackerConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){t.singleton.isEnabled=!0===e.features.perfMonitor}})})})})}(),function(){"use strict";define("configuration/DisplayNodeDebuggerConfig",["core/oop","core/Debug","core/logging/Counters","lib/Promise","platform/dependent/graphics/DisplayNodeDebugger"],function(e,t,i,n,o){return e.classDef("configuration.DisplayNodeDebuggerConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e,t){var r=i.singleton;r.isConfigured,!0===r.isEnabled&&(o.singleton.enableAnimationTracking(!0),o.singleton.animationStarted.on(function(){r.incrementCounter("Animation.Started"),r.incrementCounter("Animation.Outstanding")}),o.singleton.animationFinished.on(function(){r.incrementCounter("Animation.Finished"),r.decrementCounter("Animation.Outstanding")}),o.singleton.animationRejected.on(function(e){r.decrementCounter("Animation.Outstanding"),e instanceof n.CancellationError&&r.incrementCounter("Animation.Canceled")})),o.singleton.trackDebugData=!0===e.features.trackDebugData||!0===Boolean(t.trackDebugData),o.singleton.enableAnimationLines=!0===e.features.enableAnimationLines||!0===Boolean(t.enableAnimationLines)}})})})})}(),function(){"use strict";define("configuration/ChromecastConfig",["core/oop","platform/dependent/Chromecast","configuration/ConfigurationDeveloperSettings","application/ClientApplication"],function(e,t,i,n){return e.classDef("configuration.ChromecastConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){var o={},r={_prod:{hbogo:"144BDEF0",hbonow:"1108EDF6"},_prodInt:{hbogo:"50C76423",hbonow:"99584F7C"},mse:{hbogo:"415A71B5",hbonow:"4C42EE18"},staging:{hbogo:"019DB39C",hbonow:"53A2F8D1"},snp:{hbogo:"34BBEA94",hbonow:"85F4060C"},next:{hbogo:"C700F8E0",hbonow:"BD8C9CF3"}},a=n.singleton.environment,s=e.features.brand;void 0!==i.singleton.chromecastAppIdOverride?o.applicationId=i.singleton.chromecastAppIdOverride:o.applicationId=void 0!==r[a]?r[a][s]:r._prod[s],t.singleton.initialize(o)}})})})})}(),function(){"use strict";define("configuration/StoreConfig",["core/oop"],function(e){return e.classDef("configuration.StoreConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){}})})})})}(),function(){"use strict";define("configuration/TravelLogConfig",["core/oop","platform/dependent/TravelLog"],function(e,t){return e.classDef("configuration.TravelLogConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){t.singleton.usePlatformNavigation=["desktop","activation","commerce"].indexOf(e.features.design)>-1}})})})})}(),function(){"use strict";define("configuration/PlaybackConfig",["core/oop","dataservices/types/AudioTrack","dataservices/types/TextTrack","platform/common/DRM","platform/common/PlayItem","platform/common/PlayItemType","design/DesignDeveloperSettings"],function(e,t,i,n,o,r,a){return e.classDef("configuration.PlaybackConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){a.singleton._testPrerollPlayItem=this._createPlayItem(this._getPrerollRawTestPlayItemData()[e.features.prerollVideoOverride]),a.singleton._testVideoPlayItem=this._createPlayItem(this._getMainRawTestPlayItemData()[e.features.mainVideoOverride])},_createPlayItem:function(e){if(void 0!==e)return o.new({type:e.type,url:e.url,audioTracks:this._createPlayItemAudioTracks(e.audioTracks),textTracks:this._createPlayItemTextTracks(e.textTracks),trickplayUrlTemplates:e.trickplayUrlTemplates,drm:this._createPlayItemDRM(e.drm),duration:e.duration,containerType:e.containerType})},_createPlayItemAudioTracks:function(e){return e.map(function(e){return t.new(e)})},_createPlayItemTextTracks:function(e){return e.map(function(e){return i.new(e)})},_createPlayItemDRM:function(e){return void 0!==e?n.new(e):void 0},_getPrerollRawTestPlayItemData:function(){return{hlsfairplay:{type:r.PREROLL,url:"http://techslides.com/demos/sample-videos/small.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HLS"},hlsprimetime:{type:r.PREROLL,url:"http://techslides.com/demos/sample-videos/small.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HLS"},dashwidevine:{type:r.PREROLL,url:"http://techslides.com/demos/sample-videos/small.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"DASH"},dashplayready:{type:r.PREROLL,url:"http://techslides.com/demos/sample-videos/small.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"DASH"},smoothplayready:{type:r.PREROLL,url:"http://techslides.com/demos/sample-videos/small.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HSS"}}},_getMainRawTestPlayItemData:function(){return{hlsfairplay:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HLS"},hlsfairplayencrypted:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HLS"},hlsprimetime:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HLS"},hlsprimetimeencrypted:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HLS"},dashwidevine:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"DASH"},dashwidevineencrypted:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"DASH"},dashplayready:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"DASH"},dashplayreadyencrypted:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"DASH"},smoothplayready:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HSS"},smoothplayreadyencrypted:{type:r.MAIN,url:"https://archive.org/download/BigBuckBunny_328/BigBuckBunny_512kb.mp4",audioTracks:[],textTracks:[],trickplayUrlTemplates:{},drm:void 0,duration:0,containerType:"HSS"}}}})})})})}(),function(){"use strict";define("dataservices/UserDataCachePrimer",["core/oop","core/PromiseManager","core/Exception","core/logging/Levels","lib/Promise","dataservices/ContinueWatchingCache","dataservices/LastPlayedCache","dataservices/WatchlistCache","dataservices/markers/SeriesMarkerCache","dataservices/authentication/AuthenticationManager","platform/common/Dispatcher"],function(e,t,i,n,o,r,a,s,l,c,d){return e.classDef("dataservices.UserDataCachePrimer",t,function(t){e.singleton(function(){t.$ctor.call(this)}),e.methods({start:function(){this._onIsAuthenticatedChangedCallback=this._onIsAuthenticatedChanged.bind(this),c.singleton.isAuthenticatedChanged.on(this._onIsAuthenticatedChangedCallback),this._caches=[s.singleton,r.singleton,a.singleton]},_disposeCore:function(){c.singleton.isAuthenticatedChanged.off(this._onIsAuthenticatedChangedCallback),t._disposeCore.apply(this,arguments)},_onIsAuthenticatedChanged:function(){this._updateCaches()},_updateCaches:function(){var e=this;this._caches.forEach(function(e){e.clear()}),l.singleton.clear(),!0===c.singleton.isAuthenticated&&e.runUntilDisposed("_updateCaches",function(){return o.all(e._caches.map(function(e){return d.singleton.queueBackground(function(){return e.get()})})).catch(function(e){i.wrap(e,{message:"_updateCaches promise failed",level:n.WARNING,area:"dataservices.UserDataCachePrimer._updateCaches"}).logTelemetry()})})}}),e.properties({_onIsAuthenticatedChangedCallback:void 0,_caches:void 0})})})}(),function(){"use strict";define("configuration/PointerProviderConfig",["core/oop","platform/input/PointerProvider"],function(e,t){return e.classDef("configuration.PointerProviderConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){void 0!==e.enableNativeInputEvents&&(t.singleton.enableNativeInputEvents="true"===e.enableNativeInputEvents)}})})})})}(),function(){"use strict";define("configuration/ButtonProviderConfig",["core/oop","platform/input/ButtonProvider"],function(e,t){return e.classDef("configuration.ButtonProviderConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){void 0!==e.enableNativeInputEvents&&(t.singleton.enableNativeInputEvents="true"===e.enableNativeInputEvents)}})})})})}(),function(){"use strict";define("configuration/MockServiceStateConfig",["core/oop","dataservices/dependent/MockServiceState"],function(e,t){return e.classDef("configuration.MockServiceStateConfig",Object,function(){e.staticScope(function(){e.methods({configure:function(e){t.singleton._brand=e.features.brand}})})})})}(),function(){"use strict";define("dataservices/MarketingIdManager",["core/oop","core/AsyncManager","core/Exception","core/data/ModelFactory","core/logging/Levels","lib/Promise","dataservices/authentication/AuthenticationManager","platform/dependent/Process","platform/dependent/Storage","platform/dependent/User"],function(e,t,i,n,o,r,a,s,l,c){return e.classDef("dataservices.MarketingIdManager",t,function(t){e.singleton(function(){t.$ctor.apply(this,arguments)}),e.properties({_marketingIdStorageKey:{defaultValue:"dataservices.MarketingIdManager.marketingIdKey"}}),e.methods({start:function(e){var t=this;if(!0===e.pushNotificationsEnabled){var i=function(){t._refreshMarketingId()};this.hookUntilDisposed(a.singleton,"isAuthenticatedChanged",i),this.hookUntilDisposed(s.singleton,"resumed",i)}},_refreshMarketingId:function(){var e=this;e.runUntilDisposed("_refreshMarketingId",function(){return!0===a.singleton.isAuthenticated?e._getMarketingId().then(function(t){if(void 0!==t){l.singleton.readSync(e._marketingIdStorageKey)!==t&&(l.singleton.writeSync(e._marketingIdStorageKey,t),c.singleton.setMarketingId(t))}}).catch(function(e){i.wrap(e,{message:"refreshMarketingId failed",level:o.ERROR,area:"dataservices.MarketingIdManager"}).logTelemetry()}):r.fulfilled()})},_getMarketingId:function(){return n.singleton.create("User","User").externalIds.then(function(e){if(void 0!==e)return e.marketing})}})})})}(),function(){"use strict";define("configuration/typeRegistry",["core/oop","core/oop/typeRegistry"],function(e,t){return e.classDef("configuration.typeRegistry",Object,function(){e.staticScope(function(){e.methods({configure:function(e){t.isEnabled=e.features.validation}})})})})}(),function(){"use strict";define("core/logging/Emitter",["core/oop","core/oop/docs","lib/Promise","core/logging/FilterCollection"],function(e,t,i,n){return e.classDef("core.logging.Emitter",Object,function(){e.singleton(function(){this._filters=n.new()}),e.properties({validationEnabled:{defaultValue:!1},filters:{defaultValue:void 0,privateSet:!0}}),e.methods({isEnabledForMethod:function(e,t){var i=!1;if(!0===this.validationEnabled){var n=e+"."+t,o=this.filters.getConfig(n);i=void 0!==o&&!0===o.enableValidation}return i},wrapMethod:function(e,i,n,o){var r,a,s=e+"."+i,l=this.filters.getConfig(s),c=!0===this.validationEnabled&&void 0!==l&&!0===l.enableValidation;if(!0===c&&(!0===l.validateArguments&&(r=t.getArgumentValidationForMethod(e,n)),!0===l.validateReturn&&(a=t.getReturnValidationForMethod(e,n))),void 0===r&&void 0===a)return o;var d=this;return function(){var e=arguments;d._validateArgs(r,this._isInitialized,arguments),void 0===r.delegateValidation&&void 0===r.promiseValidation||(e=d._wrapArguments(this,arguments,r.delegateValidation,r.promiseValidation));var t=void 0===o?void 0:o.apply(this,e);return d._validateReturn(a,this._isInitialized,t),void 0!==t&&void 0!==a.delegateValidation?t=d._wrapDelegate(this,t,a.delegateValidation):void 0!==t&&void 0!==a.promiseValidation&&(t=d._wrapPromise(this,t,a.promiseValidation)),t}},_validateArgs:function(e,t,i){e(t,i)},_validateReturn:function(e,t,i){e(t,i)},_wrapArguments:function(e,t,i,n){for(var o,r=[],a=0;a<t.length;++a)void 0!==t[a]&&void 0!==i&&void 0!==i[a]?(o=this._wrapDelegate(e,t[a],i[a]),r.push(o)):void 0!==t[a]&&void 0!==n&&void 0!==n[a]?(o=this._wrapPromise(e,t[a],n[a]),r.push(o)):r.push(t[a]);return r},_wrapDelegate:function(e,t,i){return function(){i.validateArgs(e._isInitialized,arguments);var n=t.apply(this,arguments);return i.validateReturn(e._isInitialized,n),n}},_wrapPromise:function(e,t,n){return t.catch(function(t){return n.validateRejected(e._isInitialized,t),i.rejected(t)}).then(function(t){return n.validateResolved(e._isInitialized,t),t})}})})})}(),function(){"use strict";define("configuration/Emitter",["core/oop","core/logging/Emitter","core/logging/Filter"],function(e,t,i){return e.classDef("configuration.Emitter",Object,function(){e.staticScope(function(){e.methods({configure:function(n){var o=t.singleton;e.diagnostics.emitter=o,o.validationEnabled=n.features.validation,!0===o.validationEnabled&&o.filters.add(i.new({area:/.*/,config:{enableValidation:n.features.validation,validateArguments:n.features.validation,validateReturn:n.features.validation}}))}})})})})}(),function(){"use strict";define("configuration/Promise",["core/oop","core/Debug","lib/Promise","core/Exception","engine/dependent/Scheduler","platform/dependent/Process","platform/common/Dispatcher"],function(e,t,i,n,o,r,a){return e.classDef("configuration.Promise",Object,function(){e.staticScope(function(){e.properties({build:{privateSet:!0},_promiseConfig:void 0,_outStanding:void 0,_id:void 0}),e.methods({_encode:function(e){return e},configure:function(e){this._build=e,!0===e.features.hookUnhandledRejection&&i.onPossiblyUnhandledRejection(this._notifyUnhandledRejection.bind(this)),this._promiseConfig={warnings:!1,monitoring:!1,longStackTraces:!0===e.features.longStackTraces,cancellation:!0,
trackHadronTest:!0},i.config(this._promiseConfig);var t=this;i.setScheduler(function(e){a.singleton.queueCallback(t._encode(e))}),i.setTimeoutScheduler(function(e,i){return o.singleton.requestTimeout(t._encode(e),i)});var n=10;"test"===e.targetType&&(n=1),i.setBatchSize(n)},_notifyUnhandledRejection:function(e){r.singleton.notifyUnhandledException(n.wrap(e,{message:"unhandled promise rejection: "+e,area:"configuration.Promise._notifyUnhandledRejection"}))}})})})})}(),function(){"use strict";define("platform/dependent/IStartupLaunchArgs",["core/oop"],function(e){return e.interfaceDef("platform.dependent.IStartupLaunchArgs",void 0,function(){e.events(["launchArgsLoaded"]),e.methods({loadLaunchArgs:void 0})})})}(),function(){"use strict";define("platform/dependent/StartupLaunchArgs",["core/oop","platform/dependent/IStartupLaunchArgs"],function(e,t){return e.classDef("platform.dependent.StartupLaunchArgs",[t],function(){e.singleton(function(){}),e.events(["launchArgsLoaded"]),e.methods({loadLaunchArgs:function(){this._onLaunchArgsLoaded({})}})})})}(),function(e,t){"use strict";var i=function(t,i){require(["platform/dependent/Process","core/Startup","ui/ReactUIManager","design/NavigationRouter","ui/ReactTypeMap","configuration/ViewModelFactoryConfig","configuration/ModelFactory","configuration/Client","configuration/ButtonDeviceKeyMapConfig","configuration/InputManagerConfig","configuration/ScreenConfig","configuration/ScreenUtilConfig","configuration/Counters","configuration/Performance","configuration/AtlasChannel","configuration/Omniture","configuration/ConvivaConfig","configuration/DeveloperSettingsConfig","configuration/TemplateManagerConfig","configuration/Localization","configuration/AutomationManager","configuration/AuthenticationManagerConfig","configuration/PlatformAuthManagerConfig","configuration/DispatcherConfig","configuration/Exception","configuration/ExceptionManager","configuration/CacheManager","configuration/LoggerConfig","configuration/DisposableTrackerConfig","configuration/DisplayNodeDebuggerConfig","configuration/ChromecastConfig","configuration/StoreConfig","configuration/TravelLogConfig","configuration/PlaybackConfig","dataservices/UserDataCachePrimer","configuration/PointerProviderConfig","configuration/ButtonProviderConfig","configuration/MockServiceStateConfig","dataservices/dependent/analytics/TelegraphService","dataservices/MarketingIdManager","lib/lodash/objects/assign"],function(n,o,r,a,s,l,c,d,u,p,h,g,f,m,v,_,y,w,b,S,C,T,R,P,E,I,x,A,k,V,M,D,O,N,F,L,B,H,U,$,W){t.mark("boot","enterLaunchGo"),f.configure(e),k.configure(e),P.configure(e),n.singleton.start(),n.singleton.launchArgsReady.then(function(n){t.mark("boot","launchArgsReady");var f=W({},i,n);w.configure(e),A.configure(e),d.configure(e,f),S.configure(e),g.configure(e),h.configure(),u.configure(),p.configure(e),c.configure(),l.configure(),t.mark("boot","templateStart"),b.configure(e,f),t.mark("boot","templateEnd"),m.configure(e),v.configure(f),_.configure(e),y.configure(e),C.configure(e,f),T.configure(),R.configure(e),E.configure(e),I.configure(),x.configure(e,f),V.configure(e,f),M.configure(e),D.configure(e),O.configure(e),L.configure(f),B.configure(f),H.configure(e),N.configure(e),$.singleton.start(f),F.singleton.start(),o.singleton.start(),r.singleton.start(),s.singleton.start(),t.mark("boot","navStart"),U.singleton.start(),a.singleton.start(f)}).catch(function(e){throw e})})},n=function(i){require(["core/oop/docs","lib/lodash/objects/assign"],function(n,o){describe("*DocValidation*",function(){it("should not have any type validation errors",function(){expect(n.getTypeErrors()).toEqual([])}),it("should not have any undocumented OOP types",function(){expect(n.getMethodNameErrors()).toEqual([])})}),t.__karma__.launchArgs=o({},i,t.__karma__.launchArgs),i.hasOwnProperty("hostname")&&i.hasOwnProperty("port")&&i.hasOwnProperty("id")&&t.initializeKarma(),e.testModules=t.filterTestModules(e.testModules),require(e.testModules,t.initAndRunTests)})},o={paths:e.paths};require.config(o);var r=function(e,t){!0===e.features.validation?require(e.docModules,function(){require(["configuration/typeRegistry"],function(i){i.configure(e),require(["configuration/Emitter"],function(i){i.configure(e),t()})})}):t()};require.config({baseUrl:"/js",deps:[],shim:{"lib/conviva":{exports:"Conviva"},"lib/shaka":{exports:"shaka"}},waitSeconds:0,callback:function(){r(e,function(){require(["configuration/Promise","platform/dependent/diagnostics/Performance","platform/dependent/StartupLaunchArgs"],function(t,o,r){t.configure(e),r.singleton.launchArgsLoaded.once(function(t){"application"===e.targetType?(o.singleton.mark("boot","callLaunchGo"),i(o.singleton,t)):n(t)}),r.singleton.loadLaunchArgs()})})}})}(this.build,this),define("EntryPoint",function(){});
//# sourceMappingURL=app.js.map